var dB=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var ebe=dB((bs,Ts)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function o(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(l){if(l.ep)return;l.ep=!0;const a=o(l);fetch(l.href,a)}})();/**
* @vue/shared v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Dy(t,n){const o=new Set(t.split(","));return i=>o.has(i)}const Dn={},nc=[],nn=()=>{},hB=()=>!1,pg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Py=t=>t.startsWith("onUpdate:"),Xn=Object.assign,xy=(t,n)=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)},pB=Object.prototype.hasOwnProperty,Xt=(t,n)=>pB.call(t,n),tt=Array.isArray,oc=t=>zh(t)==="[object Map]",fg=t=>zh(t)==="[object Set]",Ma=t=>zh(t)==="[object Date]",_t=t=>typeof t=="function",yt=t=>typeof t=="string",Hi=t=>typeof t=="symbol",xt=t=>t!==null&&typeof t=="object",vh=t=>(xt(t)||_t(t))&&_t(t.then)&&_t(t.catch),UA=Object.prototype.toString,zh=t=>UA.call(t),am=t=>zh(t).slice(8,-1),xm=t=>zh(t)==="[object Object]",By=t=>yt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,th=Dy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mg=t=>{const n=Object.create(null);return o=>n[o]||(n[o]=t(o))},fB=/-(\w)/g,Gs=mg(t=>t.replace(fB,(n,o)=>o?o.toUpperCase():"")),mB=/\B([A-Z])/g,kl=mg(t=>t.replace(mB,"-$1").toLowerCase()),Kh=mg(t=>t.charAt(0).toUpperCase()+t.slice(1)),nh=mg(t=>t?`on${Kh(t)}`:""),_l=(t,n)=>!Object.is(t,n),um=(t,...n)=>{for(let o=0;o<t.length;o++)t[o](...n)},GA=(t,n,o,i=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:i,value:o})},hT=t=>{const n=parseFloat(t);return isNaN(n)?t:n},gB=t=>{const n=yt(t)?Number(t):NaN;return isNaN(n)?t:n};let lk;const WA=()=>lk||(lk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ct(t){if(tt(t)){const n={};for(let o=0;o<t.length;o++){const i=t[o],l=yt(i)?bB(i):ct(i);if(l)for(const a in l)n[a]=l[a]}return n}else if(yt(t)||xt(t))return t}const $B=/;(?![^(]*\))/g,vB=/:([^]+)/,_B=/\/\*[^]*?\*\//g;function bB(t){const n={};return t.replace(_B,"").split($B).forEach(o=>{if(o){const i=o.split(vB);i.length>1&&(n[i[0].trim()]=i[1].trim())}}),n}function L(t){let n="";if(yt(t))n=t;else if(tt(t))for(let o=0;o<t.length;o++){const i=L(t[o]);i&&(n+=i+" ")}else if(xt(t))for(const o in t)t[o]&&(n+=o+" ");return n.trim()}function Tr(t){if(!t)return null;let{class:n,style:o}=t;return n&&!yt(n)&&(t.class=L(n)),o&&(t.style=ct(o)),t}const TB="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yB=Dy(TB);function zA(t){return!!t||t===""}function EB(t,n){if(t.length!==n.length)return!1;let o=!0;for(let i=0;o&&i<t.length;i++)o=hc(t[i],n[i]);return o}function hc(t,n){if(t===n)return!0;let o=Ma(t),i=Ma(n);if(o||i)return o&&i?t.getTime()===n.getTime():!1;if(o=Hi(t),i=Hi(n),o||i)return t===n;if(o=tt(t),i=tt(n),o||i)return o&&i?EB(t,n):!1;if(o=xt(t),i=xt(n),o||i){if(!o||!i)return!1;const l=Object.keys(t).length,a=Object.keys(n).length;if(l!==a)return!1;for(const u in t){const h=t.hasOwnProperty(u),p=n.hasOwnProperty(u);if(h&&!p||!h&&p||!hc(t[u],n[u]))return!1}}return String(t)===String(n)}function KA(t,n){return t.findIndex(o=>hc(o,n))}const ze=t=>yt(t)?t:t==null?"":tt(t)||xt(t)&&(t.toString===UA||!_t(t.toString))?JSON.stringify(t,XA,2):String(t),XA=(t,n)=>n&&n.__v_isRef?XA(t,n.value):oc(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((o,[i,l],a)=>(o[Ib(i,a)+" =>"]=l,o),{})}:fg(n)?{[`Set(${n.size})`]:[...n.values()].map(o=>Ib(o))}:Hi(n)?Ib(n):xt(n)&&!tt(n)&&!xm(n)?String(n):n,Ib=(t,n="")=>{var o;return Hi(t)?`Symbol(${(o=t.description)!=null?o:n})`:t};/**
* @vue/reactivity v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $s;class YA{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=$s,!n&&$s&&(this.index=($s.scopes||($s.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const o=$s;try{return $s=this,n()}finally{$s=o}}}on(){$s=this}off(){$s=this.parent}stop(n){if(this._active){let o,i;for(o=0,i=this.effects.length;o<i;o++)this.effects[o].stop();for(o=0,i=this.cleanups.length;o<i;o++)this.cleanups[o]();if(this.scopes)for(o=0,i=this.scopes.length;o<i;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!n){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function CB(t){return new YA(t)}function SB(t,n=$s){n&&n.active&&n.effects.push(t)}function jA(){return $s}function qA(t){$s&&$s.cleanups.push(t)}let ka;class Fy{constructor(n,o,i,l){this.fn=n,this.trigger=o,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,SB(this,l)}get dirty(){if(this._dirtyLevel===2)return!1;if(this._dirtyLevel===3||this._dirtyLevel===4){this._dirtyLevel=1,Ol();for(let n=0;n<this._depsLength;n++){const o=this.deps[n];if(o.computed){if(o.computed.effect._dirtyLevel===2)return Cr(),!0;if(IB(o.computed),this._dirtyLevel>=5)break}}this._dirtyLevel===1&&(this._dirtyLevel=0),Cr()}return this._dirtyLevel>=5}set dirty(n){this._dirtyLevel=n?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let n=ml,o=ka;try{return ml=!0,ka=this,this._runnings++,ak(this),this.fn()}finally{uk(this),this._runnings--,ka=o,ml=n}}stop(){this.active&&(ak(this),uk(this),this.onStop&&this.onStop(),this.active=!1)}}function IB(t){return t.value}function ak(t){t._trackId++,t._depsLength=0}function uk(t){if(t.deps.length>t._depsLength){for(let n=t._depsLength;n<t.deps.length;n++)JA(t.deps[n],t);t.deps.length=t._depsLength}}function JA(t,n){const o=t.get(n);o!==void 0&&n._trackId!==o&&(t.delete(n),t.size===0&&t.cleanup())}let ml=!0,pT=0;const ZA=[];function Ol(){ZA.push(ml),ml=!1}function Cr(){const t=ZA.pop();ml=t===void 0?!0:t}function Hy(){pT++}function Vy(){for(pT--;!pT&&fT.length;)fT.shift()()}function QA(t,n,o){if(n.get(t)!==t._trackId){n.set(t,t._trackId);const i=t.deps[t._depsLength];i!==n?(i&&JA(i,t),t.deps[t._depsLength++]=n):t._depsLength++}}const fT=[];function eN(t,n,o){Hy();for(const i of t.keys()){let l;if(!t.computed&&i.computed&&i._runnings>0&&(l??(l=t.get(i)===i._trackId))){i._dirtyLevel=2;continue}i._dirtyLevel<n&&(l??(l=t.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i.computed&&i._dirtyLevel===2&&(i._shouldSchedule=!0),i._dirtyLevel=n),i._shouldSchedule&&(l??(l=t.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==3&&(i._shouldSchedule=!1,i.scheduler&&fT.push(i.scheduler)))}Vy()}const tN=(t,n)=>{const o=new Map;return o.cleanup=t,o.computed=n,o},Bm=new WeakMap,Oa=Symbol(""),mT=Symbol("");function ls(t,n,o){if(ml&&ka){let i=Bm.get(t);i||Bm.set(t,i=new Map);let l=i.get(o);l||i.set(o,l=tN(()=>i.delete(o))),QA(ka,l)}}function yr(t,n,o,i,l,a){const u=Bm.get(t);if(!u)return;let h=[];if(n==="clear")h=[...u.values()];else if(o==="length"&&tt(t)){const p=Number(i);u.forEach((f,g)=>{(g==="length"||!Hi(g)&&g>=p)&&h.push(f)})}else switch(o!==void 0&&h.push(u.get(o)),n){case"add":tt(t)?By(o)&&h.push(u.get("length")):(h.push(u.get(Oa)),oc(t)&&h.push(u.get(mT)));break;case"delete":tt(t)||(h.push(u.get(Oa)),oc(t)&&h.push(u.get(mT)));break;case"set":oc(t)&&h.push(u.get(Oa));break}Hy();for(const p of h)p&&eN(p,5);Vy()}function wB(t,n){const o=Bm.get(t);return o&&o.get(n)}const kB=Dy("__proto__,__v_isRef,__isVue"),nN=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hi)),ck=OB();function OB(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...o){const i=sn(this);for(let a=0,u=this.length;a<u;a++)ls(i,"get",a+"");const l=i[n](...o);return l===-1||l===!1?i[n](...o.map(sn)):l}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...o){Ol(),Hy();const i=sn(this)[n].apply(this,o);return Vy(),Cr(),i}}),t}function RB(t){Hi(t)||(t=String(t));const n=sn(this);return ls(n,"has",t),n.hasOwnProperty(t)}class oN{constructor(n=!1,o=!1){this._isReadonly=n,this._isShallow=o}get(n,o,i){const l=this._isReadonly,a=this._isShallow;if(o==="__v_isReactive")return!l;if(o==="__v_isReadonly")return l;if(o==="__v_isShallow")return a;if(o==="__v_raw")return i===(l?a?GB:lN:a?rN:iN).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(i)?n:void 0;const u=tt(n);if(!l){if(u&&Xt(ck,o))return Reflect.get(ck,o,i);if(o==="hasOwnProperty")return RB}const h=Reflect.get(n,o,i);return(Hi(o)?nN.has(o):kB(o))||(l||ls(n,"get",o),a)?h:bn(h)?u&&By(o)?h:h.value:xt(h)?l?Mc(h):Qt(h):h}}class sN extends oN{constructor(n=!1){super(!1,n)}set(n,o,i,l){let a=n[o];if(!this._isShallow){const p=_h(a);if(!Fm(i)&&!_h(i)&&(a=sn(a),i=sn(i)),!tt(n)&&bn(a)&&!bn(i))return p?!1:(a.value=i,!0)}const u=tt(n)&&By(o)?Number(o)<n.length:Xt(n,o),h=Reflect.set(n,o,i,l);return n===sn(l)&&(u?_l(i,a)&&yr(n,"set",o,i):yr(n,"add",o,i)),h}deleteProperty(n,o){const i=Xt(n,o);n[o];const l=Reflect.deleteProperty(n,o);return l&&i&&yr(n,"delete",o,void 0),l}has(n,o){const i=Reflect.has(n,o);return(!Hi(o)||!nN.has(o))&&ls(n,"has",o),i}ownKeys(n){return ls(n,"iterate",tt(n)?"length":Oa),Reflect.ownKeys(n)}}class AB extends oN{constructor(n=!1){super(!0,n)}set(n,o){return!0}deleteProperty(n,o){return!0}}const NB=new sN,LB=new AB,MB=new sN(!0),Uy=t=>t,gg=t=>Reflect.getPrototypeOf(t);function Pf(t,n,o=!1,i=!1){t=t.__v_raw;const l=sn(t),a=sn(n);o||(_l(n,a)&&ls(l,"get",n),ls(l,"get",a));const{has:u}=gg(l),h=i?Uy:o?zy:bh;if(u.call(l,n))return h(t.get(n));if(u.call(l,a))return h(t.get(a));t!==l&&t.get(n)}function xf(t,n=!1){const o=this.__v_raw,i=sn(o),l=sn(t);return n||(_l(t,l)&&ls(i,"has",t),ls(i,"has",l)),t===l?o.has(t):o.has(t)||o.has(l)}function Bf(t,n=!1){return t=t.__v_raw,!n&&ls(sn(t),"iterate",Oa),Reflect.get(t,"size",t)}function dk(t){t=sn(t);const n=sn(this);return gg(n).has.call(n,t)||(n.add(t),yr(n,"add",t,t)),this}function hk(t,n){n=sn(n);const o=sn(this),{has:i,get:l}=gg(o);let a=i.call(o,t);a||(t=sn(t),a=i.call(o,t));const u=l.call(o,t);return o.set(t,n),a?_l(n,u)&&yr(o,"set",t,n):yr(o,"add",t,n),this}function pk(t){const n=sn(this),{has:o,get:i}=gg(n);let l=o.call(n,t);l||(t=sn(t),l=o.call(n,t)),i&&i.call(n,t);const a=n.delete(t);return l&&yr(n,"delete",t,void 0),a}function fk(){const t=sn(this),n=t.size!==0,o=t.clear();return n&&yr(t,"clear",void 0,void 0),o}function Ff(t,n){return function(i,l){const a=this,u=a.__v_raw,h=sn(u),p=n?Uy:t?zy:bh;return!t&&ls(h,"iterate",Oa),u.forEach((f,g)=>i.call(l,p(f),p(g),a))}}function Hf(t,n,o){return function(...i){const l=this.__v_raw,a=sn(l),u=oc(a),h=t==="entries"||t===Symbol.iterator&&u,p=t==="keys"&&u,f=l[t](...i),g=o?Uy:n?zy:bh;return!n&&ls(a,"iterate",p?mT:Oa),{next(){const{value:m,done:_}=f.next();return _?{value:m,done:_}:{value:h?[g(m[0]),g(m[1])]:g(m),done:_}},[Symbol.iterator](){return this}}}}function el(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function DB(){const t={get(a){return Pf(this,a)},get size(){return Bf(this)},has:xf,add:dk,set:hk,delete:pk,clear:fk,forEach:Ff(!1,!1)},n={get(a){return Pf(this,a,!1,!0)},get size(){return Bf(this)},has:xf,add:dk,set:hk,delete:pk,clear:fk,forEach:Ff(!1,!0)},o={get(a){return Pf(this,a,!0)},get size(){return Bf(this,!0)},has(a){return xf.call(this,a,!0)},add:el("add"),set:el("set"),delete:el("delete"),clear:el("clear"),forEach:Ff(!0,!1)},i={get(a){return Pf(this,a,!0,!0)},get size(){return Bf(this,!0)},has(a){return xf.call(this,a,!0)},add:el("add"),set:el("set"),delete:el("delete"),clear:el("clear"),forEach:Ff(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=Hf(a,!1,!1),o[a]=Hf(a,!0,!1),n[a]=Hf(a,!1,!0),i[a]=Hf(a,!0,!0)}),[t,o,n,i]}const[PB,xB,BB,FB]=DB();function Gy(t,n){const o=n?t?FB:BB:t?xB:PB;return(i,l,a)=>l==="__v_isReactive"?!t:l==="__v_isReadonly"?t:l==="__v_raw"?i:Reflect.get(Xt(o,l)&&l in i?o:i,l,a)}const HB={get:Gy(!1,!1)},VB={get:Gy(!1,!0)},UB={get:Gy(!0,!1)},iN=new WeakMap,rN=new WeakMap,lN=new WeakMap,GB=new WeakMap;function WB(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zB(t){return t.__v_skip||!Object.isExtensible(t)?0:WB(am(t))}function Qt(t){return _h(t)?t:Wy(t,!1,NB,HB,iN)}function aN(t){return Wy(t,!1,MB,VB,rN)}function Mc(t){return Wy(t,!0,LB,UB,lN)}function Wy(t,n,o,i,l){if(!xt(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const a=l.get(t);if(a)return a;const u=zB(t);if(u===0)return t;const h=new Proxy(t,u===2?i:o);return l.set(t,h),h}function oh(t){return _h(t)?oh(t.__v_raw):!!(t&&t.__v_isReactive)}function _h(t){return!!(t&&t.__v_isReadonly)}function Fm(t){return!!(t&&t.__v_isShallow)}function uN(t){return t?!!t.__v_raw:!1}function sn(t){const n=t&&t.__v_raw;return n?sn(n):t}function sc(t){return Object.isExtensible(t)&&GA(t,"__v_skip",!0),t}const bh=t=>xt(t)?Qt(t):t,zy=t=>xt(t)?Mc(t):t;class cN{constructor(n,o,i,l){this.getter=n,this._setter=o,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Fy(()=>n(this._value),()=>sh(this,this.effect._dirtyLevel===3?3:4)),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=i}get value(){const n=sn(this),o=n.effect._dirtyLevel;return(!n._cacheable||n.effect.dirty)&&_l(n._value,n._value=n.effect.run())&&o!==3&&sh(n,5),Ky(n),n.effect._dirtyLevel>=2&&sh(n,3),n._value}set value(n){this._setter(n)}get _dirty(){return this.effect.dirty}set _dirty(n){this.effect.dirty=n}}function KB(t,n,o=!1){let i,l;const a=_t(t);return a?(i=t,l=nn):(i=t.get,l=t.set),new cN(i,l,a||!l,o)}function Ky(t){var n;ml&&ka&&(t=sn(t),QA(ka,(n=t.dep)!=null?n:t.dep=tN(()=>t.dep=void 0,t instanceof cN?t:void 0)))}function sh(t,n=5,o,i){t=sn(t);const l=t.dep;l&&eN(l,n)}function bn(t){return!!(t&&t.__v_isRef===!0)}function V(t){return dN(t,!1)}function _n(t){return dN(t,!0)}function dN(t,n){return bn(t)?t:new XB(t,n)}class XB{constructor(n,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?n:sn(n),this._value=o?n:bh(n)}get value(){return Ky(this),this._value}set value(n){const o=this.__v_isShallow||Fm(n)||_h(n);n=o?n:sn(n),_l(n,this._rawValue)&&(this._rawValue,this._rawValue=n,this._value=o?n:bh(n),sh(this,5))}}function c(t){return bn(t)?t.value:t}const YB={get:(t,n,o)=>c(Reflect.get(t,n,o)),set:(t,n,o,i)=>{const l=t[n];return bn(l)&&!bn(o)?(l.value=o,!0):Reflect.set(t,n,o,i)}};function hN(t){return oh(t)?t:new Proxy(t,YB)}class jB{constructor(n){this.dep=void 0,this.__v_isRef=!0;const{get:o,set:i}=n(()=>Ky(this),()=>sh(this));this._get=o,this._set=i}get value(){return this._get()}set value(n){this._set(n)}}function qB(t){return new jB(t)}function fo(t){const n=tt(t)?new Array(t.length):{};for(const o in t)n[o]=pN(t,o);return n}class JB{constructor(n,o,i){this._object=n,this._key=o,this._defaultValue=i,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return wB(sn(this._object),this._key)}}class ZB{constructor(n){this._getter=n,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function on(t,n,o){return bn(t)?t:_t(t)?new ZB(t):xt(t)&&arguments.length>1?pN(t,n,o):V(t)}function pN(t,n,o){const i=t[n];return bn(i)?i:new JB(t,n,o)}/**
* @vue/runtime-core v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gl(t,n,o,i){try{return i?t(...i):t()}catch(l){$g(l,n,o)}}function Hs(t,n,o,i){if(_t(t)){const l=gl(t,n,o,i);return l&&vh(l)&&l.catch(a=>{$g(a,n,o)}),l}if(tt(t)){const l=[];for(let a=0;a<t.length;a++)l.push(Hs(t[a],n,o,i));return l}}function $g(t,n,o,i=!0){const l=n?n.vnode:null;if(n){let a=n.parent;const u=n.proxy,h=`https://vuejs.org/error-reference/#runtime-${o}`;for(;a;){const f=a.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](t,u,h)===!1)return}a=a.parent}const p=n.appContext.config.errorHandler;if(p){Ol(),gl(p,null,10,[t,u,h]),Cr();return}}QB(t,o,l,i)}function QB(t,n,o,i=!0){console.error(t)}let Th=!1,gT=!1;const Lo=[];let Di=0;const ic=[];let ll=null,va=0;const fN=Promise.resolve();let Xy=null;function pt(t){const n=Xy||fN;return t?n.then(this?t.bind(this):t):n}function e2(t){let n=Di+1,o=Lo.length;for(;n<o;){const i=n+o>>>1,l=Lo[i],a=yh(l);a<t||a===t&&l.pre?n=i+1:o=i}return n}function Yy(t){(!Lo.length||!Lo.includes(t,Th&&t.allowRecurse?Di+1:Di))&&(t.id==null?Lo.push(t):Lo.splice(e2(t.id),0,t),mN())}function mN(){!Th&&!gT&&(gT=!0,Xy=fN.then($N))}function t2(t){const n=Lo.indexOf(t);n>Di&&Lo.splice(n,1)}function n2(t){tt(t)?ic.push(...t):(!ll||!ll.includes(t,t.allowRecurse?va+1:va))&&ic.push(t),mN()}function mk(t,n,o=Th?Di+1:0){for(;o<Lo.length;o++){const i=Lo[o];if(i&&i.pre){if(t&&i.id!==t.uid)continue;Lo.splice(o,1),o--,i()}}}function gN(t){if(ic.length){const n=[...new Set(ic)].sort((o,i)=>yh(o)-yh(i));if(ic.length=0,ll){ll.push(...n);return}for(ll=n,va=0;va<ll.length;va++){const o=ll[va];o.active!==!1&&o()}ll=null,va=0}}const yh=t=>t.id==null?1/0:t.id,o2=(t,n)=>{const o=yh(t)-yh(n);if(o===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return o};function $N(t){gT=!1,Th=!0,Lo.sort(o2);try{for(Di=0;Di<Lo.length;Di++){const n=Lo[Di];n&&n.active!==!1&&gl(n,null,14)}}finally{Di=0,Lo.length=0,gN(),Th=!1,Xy=null,(Lo.length||ic.length)&&$N()}}function s2(t,n,...o){if(t.isUnmounted)return;const i=t.vnode.props||Dn;let l=o;const a=n.startsWith("update:"),u=a&&n.slice(7);if(u&&u in i){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:m,trim:_}=i[g]||Dn;_&&(l=o.map(b=>yt(b)?b.trim():b)),m&&(l=o.map(hT))}let h,p=i[h=nh(n)]||i[h=nh(Gs(n))];!p&&a&&(p=i[h=nh(kl(n))]),p&&Hs(p,t,6,l);const f=i[h+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[h])return;t.emitted[h]=!0,Hs(f,t,6,l)}}function vN(t,n,o=!1){const i=n.emitsCache,l=i.get(t);if(l!==void 0)return l;const a=t.emits;let u={},h=!1;if(!_t(t)){const p=f=>{const g=vN(f,n,!0);g&&(h=!0,Xn(u,g))};!o&&n.mixins.length&&n.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}return!a&&!h?(xt(t)&&i.set(t,null),null):(tt(a)?a.forEach(p=>u[p]=null):Xn(u,a),xt(t)&&i.set(t,u),u)}function vg(t,n){return!t||!pg(n)?!1:(n=n.slice(2).replace(/Once$/,""),Xt(t,n[0].toLowerCase()+n.slice(1))||Xt(t,kl(n))||Xt(t,n))}let po=null,_N=null;function Hm(t){const n=po;return po=t,_N=t&&t.type.__scopeId||null,n}function ce(t,n=po,o){if(!n||t._n)return t;const i=(...l)=>{i._d&&Rk(-1);const a=Hm(n);let u;try{u=t(...l)}finally{Hm(a),i._d&&Rk(1)}return u};return i._n=!0,i._c=!0,i._d=!0,i}function wb(t){const{type:n,vnode:o,proxy:i,withProxy:l,propsOptions:[a],slots:u,attrs:h,emit:p,render:f,renderCache:g,props:m,data:_,setupState:b,ctx:T,inheritAttrs:$}=t,E=Hm(t);let y,I;try{if(o.shapeFlag&4){const S=l||i,R=S;y=Mi(f.call(R,S,g,m,b,_,T)),I=h}else{const S=n;y=Mi(S.length>1?S(m,{attrs:h,slots:u,emit:p}):S(m,null)),I=n.props?h:i2(h)}}catch(S){uh.length=0,$g(S,t,1),y=ie(bo)}let C=y;if(I&&$!==!1){const S=Object.keys(I),{shapeFlag:R}=C;S.length&&R&7&&(a&&S.some(Py)&&(I=r2(I,a)),C=Ir(C,I,!1,!0))}return o.dirs&&(C=Ir(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(o.dirs):o.dirs),o.transition&&(C.transition=o.transition),y=C,Hm(E),y}const i2=t=>{let n;for(const o in t)(o==="class"||o==="style"||pg(o))&&((n||(n={}))[o]=t[o]);return n},r2=(t,n)=>{const o={};for(const i in t)(!Py(i)||!(i.slice(9)in n))&&(o[i]=t[i]);return o};function l2(t,n,o){const{props:i,children:l,component:a}=t,{props:u,children:h,patchFlag:p}=n,f=a.emitsOptions;if(n.dirs||n.transition)return!0;if(o&&p>=0){if(p&1024)return!0;if(p&16)return i?gk(i,u,f):!!u;if(p&8){const g=n.dynamicProps;for(let m=0;m<g.length;m++){const _=g[m];if(u[_]!==i[_]&&!vg(f,_))return!0}}}else return(l||h)&&(!h||!h.$stable)?!0:i===u?!1:i?u?gk(i,u,f):!0:!!u;return!1}function gk(t,n,o){const i=Object.keys(n);if(i.length!==Object.keys(t).length)return!0;for(let l=0;l<i.length;l++){const a=i[l];if(n[a]!==t[a]&&!vg(o,a))return!0}return!1}function a2({vnode:t,parent:n},o){for(;n;){const i=n.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=n.vnode).el=o,n=n.parent;else break}}const jy="components",u2="directives";function Nt(t,n){return qy(jy,t,!0,n)||t}const bN=Symbol.for("v-ndc");function Ft(t){return yt(t)?qy(jy,t,!1)||t:t||bN}function _g(t){return qy(u2,t)}function qy(t,n,o=!0,i=!1){const l=po||To;if(l){const a=l.type;if(t===jy){const h=Z2(a,!1);if(h&&(h===n||h===Gs(n)||h===Kh(Gs(n))))return a}const u=$k(l[t]||a[t],n)||$k(l.appContext[t],n);return!u&&i?a:u}}function $k(t,n){return t&&(t[n]||t[Gs(n)]||t[Kh(Gs(n))])}const c2=t=>t.__isSuspense;function d2(t,n){n&&n.pendingBranch?tt(t)?n.effects.push(...t):n.effects.push(t):n2(t)}function bg(t,n,o=To,i=!1){if(o){const l=o[t]||(o[t]=[]),a=n.__weh||(n.__weh=(...u)=>{Ol();const h=Xh(o),p=Hs(n,o,t,u);return h(),Cr(),p});return i?l.unshift(a):l.push(a),a}}const Or=t=>(n,o=To)=>{(!Eg||t==="sp")&&bg(t,(...i)=>n(...i),o)},Tg=Or("bm"),At=Or("m"),TN=Or("bu"),Rr=Or("u"),fn=Or("bum"),Rl=Or("um"),h2=Or("sp"),p2=Or("rtg"),f2=Or("rtc");function m2(t,n=To){bg("ec",t,n)}function Rt(t,n){if(po===null)return t;const o=Cg(po),i=t.dirs||(t.dirs=[]);for(let l=0;l<n.length;l++){let[a,u,h,p=Dn]=n[l];a&&(_t(a)&&(a={mounted:a,updated:a}),a.deep&&cl(u),i.push({dir:a,instance:o,value:u,oldValue:void 0,arg:h,modifiers:p}))}return t}function pa(t,n,o,i){const l=t.dirs,a=n&&n.dirs;for(let u=0;u<l.length;u++){const h=l[u];a&&(h.oldValue=a[u].value);let p=h.dir[i];p&&(Ol(),Hs(p,o,8,[t.el,h,t,n]),Cr())}}function zt(t,n,o,i){let l;const a=o;if(tt(t)||yt(t)){l=new Array(t.length);for(let u=0,h=t.length;u<h;u++)l[u]=n(t[u],u,void 0,a)}else if(typeof t=="number"){l=new Array(t);for(let u=0;u<t;u++)l[u]=n(u+1,u,void 0,a)}else if(xt(t))if(t[Symbol.iterator])l=Array.from(t,(u,h)=>n(u,h,void 0,a));else{const u=Object.keys(t);l=new Array(u.length);for(let h=0,p=u.length;h<p;h++){const f=u[h];l[h]=n(t[f],f,h,a)}}else l=[];return l}function Sr(t,n){for(let o=0;o<n.length;o++){const i=n[o];if(tt(i))for(let l=0;l<i.length;l++)t[i[l].name]=i[l].fn;else i&&(t[i.name]=i.key?(...l)=>{const a=i.fn(...l);return a&&(a.key=i.key),a}:i.fn)}return t}/*! #__NO_SIDE_EFFECTS__ */function ne(t,n){return _t(t)?Xn({name:t.name},n,{setup:t}):t}const ih=t=>!!t.type.__asyncLoader;function Te(t,n,o={},i,l){if(po.isCE||po.parent&&ih(po.parent)&&po.parent.isCE)return n!=="default"&&(o.name=n),ie("slot",o,i&&i());let a=t[n];a&&a._c&&(a._d=!1),N();const u=a&&yN(a(o)),h=be(dt,{key:o.key||u&&u.key||`_${n}`},u||(i?i():[]),u&&t._===1?64:-2);return h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),a&&a._c&&(a._d=!0),h}function yN(t){return t.some(n=>Cn(n)?!(n.type===bo||n.type===dt&&!yN(n.children)):!0)?t:null}function g2(t,n){const o={};for(const i in t)o[nh(i)]=t[i];return o}const $T=t=>t?zN(t)?Cg(t):$T(t.parent):null,rh=Xn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$T(t.parent),$root:t=>$T(t.root),$emit:t=>t.emit,$options:t=>Jy(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Yy(t.update)}),$nextTick:t=>t.n||(t.n=pt.bind(t.proxy)),$watch:t=>P2.bind(t)}),kb=(t,n)=>t!==Dn&&!t.__isScriptSetup&&Xt(t,n),$2={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:o,setupState:i,data:l,props:a,accessCache:u,type:h,appContext:p}=t;let f;if(n[0]!=="$"){const b=u[n];if(b!==void 0)switch(b){case 1:return i[n];case 2:return l[n];case 4:return o[n];case 3:return a[n]}else{if(kb(i,n))return u[n]=1,i[n];if(l!==Dn&&Xt(l,n))return u[n]=2,l[n];if((f=t.propsOptions[0])&&Xt(f,n))return u[n]=3,a[n];if(o!==Dn&&Xt(o,n))return u[n]=4,o[n];vT&&(u[n]=0)}}const g=rh[n];let m,_;if(g)return n==="$attrs"&&ls(t.attrs,"get",""),g(t);if((m=h.__cssModules)&&(m=m[n]))return m;if(o!==Dn&&Xt(o,n))return u[n]=4,o[n];if(_=p.config.globalProperties,Xt(_,n))return _[n]},set({_:t},n,o){const{data:i,setupState:l,ctx:a}=t;return kb(l,n)?(l[n]=o,!0):i!==Dn&&Xt(i,n)?(i[n]=o,!0):Xt(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(a[n]=o,!0)},has({_:{data:t,setupState:n,accessCache:o,ctx:i,appContext:l,propsOptions:a}},u){let h;return!!o[u]||t!==Dn&&Xt(t,u)||kb(n,u)||(h=a[0])&&Xt(h,u)||Xt(i,u)||Xt(rh,u)||Xt(l.config.globalProperties,u)},defineProperty(t,n,o){return o.get!=null?t._.accessCache[n]=0:Xt(o,"value")&&this.set(t,n,o.value,null),Reflect.defineProperty(t,n,o)}};function ao(){return EN().slots}function Ga(){return EN().attrs}function EN(){const t=Mt();return t.setupContext||(t.setupContext=XN(t))}function vk(t){return tt(t)?t.reduce((n,o)=>(n[o]=null,n),{}):t}let vT=!0;function v2(t){const n=Jy(t),o=t.proxy,i=t.ctx;vT=!1,n.beforeCreate&&_k(n.beforeCreate,t,"bc");const{data:l,computed:a,methods:u,watch:h,provide:p,inject:f,created:g,beforeMount:m,mounted:_,beforeUpdate:b,updated:T,activated:$,deactivated:E,beforeDestroy:y,beforeUnmount:I,destroyed:C,unmounted:S,render:R,renderTracked:O,renderTriggered:P,errorCaptured:M,serverPrefetch:H,expose:F,inheritAttrs:B,components:K,directives:te,filters:Z}=n;if(f&&_2(f,i,null),u)for(const G in u){const W=u[G];_t(W)&&(i[G]=W.bind(o))}if(l){const G=l.call(o,o);xt(G)&&(t.data=Qt(G))}if(vT=!0,a)for(const G in a){const W=a[G],D=_t(W)?W.bind(o,o):_t(W.get)?W.get.bind(o,o):nn,X=!_t(W)&&_t(W.set)?W.set.bind(o):nn,oe=w({get:D,set:X});Object.defineProperty(i,G,{enumerable:!0,configurable:!0,get:()=>oe.value,set:le=>oe.value=le})}if(h)for(const G in h)CN(h[G],i,o,G);if(p){const G=_t(p)?p.call(o):p;Reflect.ownKeys(G).forEach(W=>{Ut(W,G[W])})}g&&_k(g,t,"c");function z(G,W){tt(W)?W.forEach(D=>G(D.bind(o))):W&&G(W.bind(o))}if(z(Tg,m),z(At,_),z(TN,b),z(Rr,T),z(x2,$),z(PN,E),z(m2,M),z(f2,O),z(p2,P),z(fn,I),z(Rl,S),z(h2,H),tt(F))if(F.length){const G=t.exposed||(t.exposed={});F.forEach(W=>{Object.defineProperty(G,W,{get:()=>o[W],set:D=>o[W]=D})})}else t.exposed||(t.exposed={});R&&t.render===nn&&(t.render=R),B!=null&&(t.inheritAttrs=B),K&&(t.components=K),te&&(t.directives=te)}function _2(t,n,o=nn){tt(t)&&(t=_T(t));for(const i in t){const l=t[i];let a;xt(l)?"default"in l?a=it(l.from||i,l.default,!0):a=it(l.from||i):a=it(l),bn(a)?Object.defineProperty(n,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:u=>a.value=u}):n[i]=a}}function _k(t,n,o){Hs(tt(t)?t.map(i=>i.bind(n.proxy)):t.bind(n.proxy),n,o)}function CN(t,n,o,i){const l=i.includes(".")?DN(o,i):()=>o[i];if(yt(t)){const a=n[t];_t(a)&&Me(l,a)}else if(_t(t))Me(l,t.bind(o));else if(xt(t))if(tt(t))t.forEach(a=>CN(a,n,o,i));else{const a=_t(t.handler)?t.handler.bind(o):n[t.handler];_t(a)&&Me(l,a,t)}}function Jy(t){const n=t.type,{mixins:o,extends:i}=n,{mixins:l,optionsCache:a,config:{optionMergeStrategies:u}}=t.appContext,h=a.get(n);let p;return h?p=h:!l.length&&!o&&!i?p=n:(p={},l.length&&l.forEach(f=>Vm(p,f,u,!0)),Vm(p,n,u)),xt(n)&&a.set(n,p),p}function Vm(t,n,o,i=!1){const{mixins:l,extends:a}=n;a&&Vm(t,a,o,!0),l&&l.forEach(u=>Vm(t,u,o,!0));for(const u in n)if(!(i&&u==="expose")){const h=b2[u]||o&&o[u];t[u]=h?h(t[u],n[u]):n[u]}return t}const b2={data:bk,props:Tk,emits:Tk,methods:Jd,computed:Jd,beforeCreate:Ko,created:Ko,beforeMount:Ko,mounted:Ko,beforeUpdate:Ko,updated:Ko,beforeDestroy:Ko,beforeUnmount:Ko,destroyed:Ko,unmounted:Ko,activated:Ko,deactivated:Ko,errorCaptured:Ko,serverPrefetch:Ko,components:Jd,directives:Jd,watch:y2,provide:bk,inject:T2};function bk(t,n){return n?t?function(){return Xn(_t(t)?t.call(this,this):t,_t(n)?n.call(this,this):n)}:n:t}function T2(t,n){return Jd(_T(t),_T(n))}function _T(t){if(tt(t)){const n={};for(let o=0;o<t.length;o++)n[t[o]]=t[o];return n}return t}function Ko(t,n){return t?[...new Set([].concat(t,n))]:n}function Jd(t,n){return t?Xn(Object.create(null),t,n):n}function Tk(t,n){return t?tt(t)&&tt(n)?[...new Set([...t,...n])]:Xn(Object.create(null),vk(t),vk(n??{})):n}function y2(t,n){if(!t)return n;if(!n)return t;const o=Xn(Object.create(null),t);for(const i in n)o[i]=Ko(t[i],n[i]);return o}function SN(){return{app:null,config:{isNativeTag:hB,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let E2=0;function C2(t,n){return function(i,l=null){_t(i)||(i=Xn({},i)),l!=null&&!xt(l)&&(l=null);const a=SN(),u=new WeakSet;let h=!1;const p=a.app={_uid:E2++,_component:i,_props:l,_container:null,_context:a,_instance:null,version:eF,get config(){return a.config},set config(f){},use(f,...g){return u.has(f)||(f&&_t(f.install)?(u.add(f),f.install(p,...g)):_t(f)&&(u.add(f),f(p,...g))),p},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),p},component(f,g){return g?(a.components[f]=g,p):a.components[f]},directive(f,g){return g?(a.directives[f]=g,p):a.directives[f]},mount(f,g,m){if(!h){const _=ie(i,l);return _.appContext=a,m===!0?m="svg":m===!1&&(m=void 0),g&&n?n(_,f):t(_,f,m),h=!0,p._container=f,f.__vue_app__=p,Cg(_.component)}},unmount(){h&&(t(null,p._container),delete p._container.__vue_app__)},provide(f,g){return a.provides[f]=g,p},runWithContext(f){const g=lh;lh=p;try{return f()}finally{lh=g}}};return p}}let lh=null;function Ut(t,n){if(To){let o=To.provides;const i=To.parent&&To.parent.provides;i===o&&(o=To.provides=Object.create(i)),o[t]=n}}function it(t,n,o=!1){const i=To||po;if(i||lh){const l=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:lh._context.provides;if(l&&t in l)return l[t];if(arguments.length>1)return o&&_t(n)?n.call(i&&i.proxy):n}}const IN={},wN=()=>Object.create(IN),kN=t=>Object.getPrototypeOf(t)===IN;function S2(t,n,o,i=!1){const l={},a=wN();t.propsDefaults=Object.create(null),ON(t,n,l,a);for(const u in t.propsOptions[0])u in l||(l[u]=void 0);o?t.props=i?l:aN(l):t.type.props?t.props=l:t.props=a,t.attrs=a}function I2(t,n,o,i){const{props:l,attrs:a,vnode:{patchFlag:u}}=t,h=sn(l),[p]=t.propsOptions;let f=!1;if((i||u>0)&&!(u&16)){if(u&8){const g=t.vnode.dynamicProps;for(let m=0;m<g.length;m++){let _=g[m];if(vg(t.emitsOptions,_))continue;const b=n[_];if(p)if(Xt(a,_))b!==a[_]&&(a[_]=b,f=!0);else{const T=Gs(_);l[T]=bT(p,h,T,b,t,!1)}else b!==a[_]&&(a[_]=b,f=!0)}}}else{ON(t,n,l,a)&&(f=!0);let g;for(const m in h)(!n||!Xt(n,m)&&((g=kl(m))===m||!Xt(n,g)))&&(p?o&&(o[m]!==void 0||o[g]!==void 0)&&(l[m]=bT(p,h,m,void 0,t,!0)):delete l[m]);if(a!==h)for(const m in a)(!n||!Xt(n,m))&&(delete a[m],f=!0)}f&&yr(t.attrs,"set","")}function ON(t,n,o,i){const[l,a]=t.propsOptions;let u=!1,h;if(n)for(let p in n){if(th(p))continue;const f=n[p];let g;l&&Xt(l,g=Gs(p))?!a||!a.includes(g)?o[g]=f:(h||(h={}))[g]=f:vg(t.emitsOptions,p)||(!(p in i)||f!==i[p])&&(i[p]=f,u=!0)}if(a){const p=sn(o),f=h||Dn;for(let g=0;g<a.length;g++){const m=a[g];o[m]=bT(l,p,m,f[m],t,!Xt(f,m))}}return u}function bT(t,n,o,i,l,a){const u=t[o];if(u!=null){const h=Xt(u,"default");if(h&&i===void 0){const p=u.default;if(u.type!==Function&&!u.skipFactory&&_t(p)){const{propsDefaults:f}=l;if(o in f)i=f[o];else{const g=Xh(l);i=f[o]=p.call(null,n),g()}}else i=p}u[0]&&(a&&!h?i=!1:u[1]&&(i===""||i===kl(o))&&(i=!0))}return i}function RN(t,n,o=!1){const i=n.propsCache,l=i.get(t);if(l)return l;const a=t.props,u={},h=[];let p=!1;if(!_t(t)){const g=m=>{p=!0;const[_,b]=RN(m,n,!0);Xn(u,_),b&&h.push(...b)};!o&&n.mixins.length&&n.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!a&&!p)return xt(t)&&i.set(t,nc),nc;if(tt(a))for(let g=0;g<a.length;g++){const m=Gs(a[g]);yk(m)&&(u[m]=Dn)}else if(a)for(const g in a){const m=Gs(g);if(yk(m)){const _=a[g],b=u[m]=tt(_)||_t(_)?{type:_}:Xn({},_);if(b){const T=Sk(Boolean,b.type),$=Sk(String,b.type);b[0]=T>-1,b[1]=$<0||T<$,(T>-1||Xt(b,"default"))&&h.push(m)}}}const f=[u,h];return xt(t)&&i.set(t,f),f}function yk(t){return t[0]!=="$"&&!th(t)}function Ek(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Ck(t,n){return Ek(t)===Ek(n)}function Sk(t,n){return tt(n)?n.findIndex(o=>Ck(o,t)):_t(n)&&Ck(n,t)?0:-1}const AN=t=>t[0]==="_"||t==="$stable",Zy=t=>tt(t)?t.map(Mi):[Mi(t)],w2=(t,n,o)=>{if(n._n)return n;const i=ce((...l)=>Zy(n(...l)),o);return i._c=!1,i},NN=(t,n,o)=>{const i=t._ctx;for(const l in t){if(AN(l))continue;const a=t[l];if(_t(a))n[l]=w2(l,a,i);else if(a!=null){const u=Zy(a);n[l]=()=>u}}},LN=(t,n)=>{const o=Zy(n);t.slots.default=()=>o},k2=(t,n)=>{const o=t.slots=wN();if(t.vnode.shapeFlag&32){const i=n._;i?(Xn(o,n),GA(o,"_",i,!0)):NN(n,o)}else n&&LN(t,n)},O2=(t,n,o)=>{const{vnode:i,slots:l}=t;let a=!0,u=Dn;if(i.shapeFlag&32){const h=n._;h?o&&h===1?a=!1:(Xn(l,n),!o&&h===1&&delete l._):(a=!n.$stable,NN(n,l)),u=n}else n&&(LN(t,n),u={default:1});if(a)for(const h in l)!AN(h)&&u[h]==null&&delete l[h]};function TT(t,n,o,i,l=!1){if(tt(t)){t.forEach((_,b)=>TT(_,n&&(tt(n)?n[b]:n),o,i,l));return}if(ih(i)&&!l)return;const a=i.shapeFlag&4?Cg(i.component):i.el,u=l?null:a,{i:h,r:p}=t,f=n&&n.r,g=h.refs===Dn?h.refs={}:h.refs,m=h.setupState;if(f!=null&&f!==p&&(yt(f)?(g[f]=null,Xt(m,f)&&(m[f]=null)):bn(f)&&(f.value=null)),_t(p))gl(p,h,12,[u,g]);else{const _=yt(p),b=bn(p);if(_||b){const T=()=>{if(t.f){const $=_?Xt(m,p)?m[p]:g[p]:p.value;l?tt($)&&xy($,a):tt($)?$.includes(a)||$.push(a):_?(g[p]=[a],Xt(m,p)&&(m[p]=g[p])):(p.value=[a],t.k&&(g[t.k]=p.value))}else _?(g[p]=u,Xt(m,p)&&(m[p]=u)):b&&(p.value=u,t.k&&(g[t.k]=u))};u?(T.id=-1,os(T,o)):T()}}}const os=d2;function R2(t){return A2(t)}function A2(t,n){const o=WA();o.__VUE__=!0;const{insert:i,remove:l,patchProp:a,createElement:u,createText:h,createComment:p,setText:f,setElementText:g,parentNode:m,nextSibling:_,setScopeId:b=nn,insertStaticContent:T}=t,$=(ae,he,Ae,Fe=null,Ce=null,De=null,Ve=void 0,ue=null,we=!!he.dynamicChildren)=>{if(ae===he)return;ae&&!_a(ae,he)&&(Fe=ye(ae),le(ae,Ce,De,!0),ae=null),he.patchFlag===-2&&(we=!1,he.dynamicChildren=null);const{type:ke,ref:Ge,shapeFlag:ot}=he;switch(ke){case Pc:E(ae,he,Ae,Fe);break;case bo:y(ae,he,Ae,Fe);break;case Ab:ae==null&&I(he,Ae,Fe,Ve);break;case dt:K(ae,he,Ae,Fe,Ce,De,Ve,ue,we);break;default:ot&1?R(ae,he,Ae,Fe,Ce,De,Ve,ue,we):ot&6?te(ae,he,Ae,Fe,Ce,De,Ve,ue,we):(ot&64||ot&128)&&ke.process(ae,he,Ae,Fe,Ce,De,Ve,ue,we,ve)}Ge!=null&&Ce&&TT(Ge,ae&&ae.ref,De,he||ae,!he)},E=(ae,he,Ae,Fe)=>{if(ae==null)i(he.el=h(he.children),Ae,Fe);else{const Ce=he.el=ae.el;he.children!==ae.children&&f(Ce,he.children)}},y=(ae,he,Ae,Fe)=>{ae==null?i(he.el=p(he.children||""),Ae,Fe):he.el=ae.el},I=(ae,he,Ae,Fe)=>{[ae.el,ae.anchor]=T(ae.children,he,Ae,Fe,ae.el,ae.anchor)},C=({el:ae,anchor:he},Ae,Fe)=>{let Ce;for(;ae&&ae!==he;)Ce=_(ae),i(ae,Ae,Fe),ae=Ce;i(he,Ae,Fe)},S=({el:ae,anchor:he})=>{let Ae;for(;ae&&ae!==he;)Ae=_(ae),l(ae),ae=Ae;l(he)},R=(ae,he,Ae,Fe,Ce,De,Ve,ue,we)=>{he.type==="svg"?Ve="svg":he.type==="math"&&(Ve="mathml"),ae==null?O(he,Ae,Fe,Ce,De,Ve,ue,we):H(ae,he,Ce,De,Ve,ue,we)},O=(ae,he,Ae,Fe,Ce,De,Ve,ue)=>{let we,ke;const{props:Ge,shapeFlag:ot,transition:q,dirs:et}=ae;if(we=ae.el=u(ae.type,De,Ge&&Ge.is,Ge),ot&8?g(we,ae.children):ot&16&&M(ae.children,we,null,Fe,Ce,Ob(ae,De),Ve,ue),et&&pa(ae,null,Fe,"created"),P(we,ae,ae.scopeId,Ve,Fe),Ge){for(const Et in Ge)Et!=="value"&&!th(Et)&&a(we,Et,null,Ge[Et],De,ae.children,Fe,Ce,de);"value"in Ge&&a(we,"value",null,Ge.value,De),(ke=Ge.onVnodeBeforeMount)&&Li(ke,Fe,ae)}et&&pa(ae,null,Fe,"beforeMount");const lt=N2(Ce,q);lt&&q.beforeEnter(we),i(we,he,Ae),((ke=Ge&&Ge.onVnodeMounted)||lt||et)&&os(()=>{ke&&Li(ke,Fe,ae),lt&&q.enter(we),et&&pa(ae,null,Fe,"mounted")},Ce)},P=(ae,he,Ae,Fe,Ce)=>{if(Ae&&b(ae,Ae),Fe)for(let De=0;De<Fe.length;De++)b(ae,Fe[De]);if(Ce){let De=Ce.subTree;if(he===De){const Ve=Ce.vnode;P(ae,Ve,Ve.scopeId,Ve.slotScopeIds,Ce.parent)}}},M=(ae,he,Ae,Fe,Ce,De,Ve,ue,we=0)=>{for(let ke=we;ke<ae.length;ke++){const Ge=ae[ke]=ue?ul(ae[ke]):Mi(ae[ke]);$(null,Ge,he,Ae,Fe,Ce,De,Ve,ue)}},H=(ae,he,Ae,Fe,Ce,De,Ve)=>{const ue=he.el=ae.el;let{patchFlag:we,dynamicChildren:ke,dirs:Ge}=he;we|=ae.patchFlag&16;const ot=ae.props||Dn,q=he.props||Dn;let et;if(Ae&&fa(Ae,!1),(et=q.onVnodeBeforeUpdate)&&Li(et,Ae,he,ae),Ge&&pa(he,ae,Ae,"beforeUpdate"),Ae&&fa(Ae,!0),ke?F(ae.dynamicChildren,ke,ue,Ae,Fe,Ob(he,Ce),De):Ve||W(ae,he,ue,null,Ae,Fe,Ob(he,Ce),De,!1),we>0){if(we&16)B(ue,he,ot,q,Ae,Fe,Ce);else if(we&2&&ot.class!==q.class&&a(ue,"class",null,q.class,Ce),we&4&&a(ue,"style",ot.style,q.style,Ce),we&8){const lt=he.dynamicProps;for(let Et=0;Et<lt.length;Et++){const Tt=lt[Et],st=ot[Tt],Re=q[Tt];(Re!==st||Tt==="value")&&a(ue,Tt,st,Re,Ce,ae.children,Ae,Fe,de)}}we&1&&ae.children!==he.children&&g(ue,he.children)}else!Ve&&ke==null&&B(ue,he,ot,q,Ae,Fe,Ce);((et=q.onVnodeUpdated)||Ge)&&os(()=>{et&&Li(et,Ae,he,ae),Ge&&pa(he,ae,Ae,"updated")},Fe)},F=(ae,he,Ae,Fe,Ce,De,Ve)=>{for(let ue=0;ue<he.length;ue++){const we=ae[ue],ke=he[ue],Ge=we.el&&(we.type===dt||!_a(we,ke)||we.shapeFlag&70)?m(we.el):Ae;$(we,ke,Ge,null,Fe,Ce,De,Ve,!0)}},B=(ae,he,Ae,Fe,Ce,De,Ve)=>{if(Ae!==Fe){if(Ae!==Dn)for(const ue in Ae)!th(ue)&&!(ue in Fe)&&a(ae,ue,Ae[ue],null,Ve,he.children,Ce,De,de);for(const ue in Fe){if(th(ue))continue;const we=Fe[ue],ke=Ae[ue];we!==ke&&ue!=="value"&&a(ae,ue,ke,we,Ve,he.children,Ce,De,de)}"value"in Fe&&a(ae,"value",Ae.value,Fe.value,Ve)}},K=(ae,he,Ae,Fe,Ce,De,Ve,ue,we)=>{const ke=he.el=ae?ae.el:h(""),Ge=he.anchor=ae?ae.anchor:h("");let{patchFlag:ot,dynamicChildren:q,slotScopeIds:et}=he;et&&(ue=ue?ue.concat(et):et),ae==null?(i(ke,Ae,Fe),i(Ge,Ae,Fe),M(he.children||[],Ae,Ge,Ce,De,Ve,ue,we)):ot>0&&ot&64&&q&&ae.dynamicChildren?(F(ae.dynamicChildren,q,Ae,Ce,De,Ve,ue),(he.key!=null||Ce&&he===Ce.subTree)&&Qy(ae,he,!0)):W(ae,he,Ae,Ge,Ce,De,Ve,ue,we)},te=(ae,he,Ae,Fe,Ce,De,Ve,ue,we)=>{he.slotScopeIds=ue,ae==null?he.shapeFlag&512?Ce.ctx.activate(he,Ae,Fe,Ve,we):Z(he,Ae,Fe,Ce,De,Ve,we):j(ae,he,we)},Z=(ae,he,Ae,Fe,Ce,De,Ve)=>{const ue=ae.component=Y2(ae,Fe,Ce);if(yg(ae)&&(ue.ctx.renderer=ve),j2(ue),ue.asyncDep){if(Ce&&Ce.registerDep(ue,z,Ve),!ae.el){const we=ue.subTree=ie(bo);y(null,we,he,Ae)}}else z(ue,ae,he,Ae,Ce,De,Ve)},j=(ae,he,Ae)=>{const Fe=he.component=ae.component;if(l2(ae,he,Ae))if(Fe.asyncDep&&!Fe.asyncResolved){G(Fe,he,Ae);return}else Fe.next=he,t2(Fe.update),Fe.effect.dirty=!0,Fe.update();else he.el=ae.el,Fe.vnode=he},z=(ae,he,Ae,Fe,Ce,De,Ve)=>{const ue=()=>{if(ae.isMounted){let{next:Ge,bu:ot,u:q,parent:et,vnode:lt}=ae;{const Ye=MN(ae);if(Ye){Ge&&(Ge.el=lt.el,G(ae,Ge,Ve)),Ye.asyncDep.then(()=>{ae.isUnmounted||ue()});return}}let Et=Ge,Tt;fa(ae,!1),Ge?(Ge.el=lt.el,G(ae,Ge,Ve)):Ge=lt,ot&&um(ot),(Tt=Ge.props&&Ge.props.onVnodeBeforeUpdate)&&Li(Tt,et,Ge,lt),fa(ae,!0);const st=wb(ae),Re=ae.subTree;ae.subTree=st,$(Re,st,m(Re.el),ye(Re),ae,Ce,De),Ge.el=st.el,Et===null&&a2(ae,st.el),q&&os(q,Ce),(Tt=Ge.props&&Ge.props.onVnodeUpdated)&&os(()=>Li(Tt,et,Ge,lt),Ce)}else{let Ge;const{el:ot,props:q}=he,{bm:et,m:lt,parent:Et}=ae,Tt=ih(he);if(fa(ae,!1),et&&um(et),!Tt&&(Ge=q&&q.onVnodeBeforeMount)&&Li(Ge,Et,he),fa(ae,!0),ot&&He){const st=()=>{ae.subTree=wb(ae),He(ot,ae.subTree,ae,Ce,null)};Tt?he.type.__asyncLoader().then(()=>!ae.isUnmounted&&st()):st()}else{const st=ae.subTree=wb(ae);$(null,st,Ae,Fe,ae,Ce,De),he.el=st.el}if(lt&&os(lt,Ce),!Tt&&(Ge=q&&q.onVnodeMounted)){const st=he;os(()=>Li(Ge,Et,st),Ce)}(he.shapeFlag&256||Et&&ih(Et.vnode)&&Et.vnode.shapeFlag&256)&&ae.a&&os(ae.a,Ce),ae.isMounted=!0,he=Ae=Fe=null}},we=ae.effect=new Fy(ue,nn,()=>Yy(ke),ae.scope),ke=ae.update=()=>{we.dirty&&we.run()};ke.id=ae.uid,fa(ae,!0),ke()},G=(ae,he,Ae)=>{he.component=ae;const Fe=ae.vnode.props;ae.vnode=he,ae.next=null,I2(ae,he.props,Fe,Ae),O2(ae,he.children,Ae),Ol(),mk(ae),Cr()},W=(ae,he,Ae,Fe,Ce,De,Ve,ue,we=!1)=>{const ke=ae&&ae.children,Ge=ae?ae.shapeFlag:0,ot=he.children,{patchFlag:q,shapeFlag:et}=he;if(q>0){if(q&128){X(ke,ot,Ae,Fe,Ce,De,Ve,ue,we);return}else if(q&256){D(ke,ot,Ae,Fe,Ce,De,Ve,ue,we);return}}et&8?(Ge&16&&de(ke,Ce,De),ot!==ke&&g(Ae,ot)):Ge&16?et&16?X(ke,ot,Ae,Fe,Ce,De,Ve,ue,we):de(ke,Ce,De,!0):(Ge&8&&g(Ae,""),et&16&&M(ot,Ae,Fe,Ce,De,Ve,ue,we))},D=(ae,he,Ae,Fe,Ce,De,Ve,ue,we)=>{ae=ae||nc,he=he||nc;const ke=ae.length,Ge=he.length,ot=Math.min(ke,Ge);let q;for(q=0;q<ot;q++){const et=he[q]=we?ul(he[q]):Mi(he[q]);$(ae[q],et,Ae,null,Ce,De,Ve,ue,we)}ke>Ge?de(ae,Ce,De,!0,!1,ot):M(he,Ae,Fe,Ce,De,Ve,ue,we,ot)},X=(ae,he,Ae,Fe,Ce,De,Ve,ue,we)=>{let ke=0;const Ge=he.length;let ot=ae.length-1,q=Ge-1;for(;ke<=ot&&ke<=q;){const et=ae[ke],lt=he[ke]=we?ul(he[ke]):Mi(he[ke]);if(_a(et,lt))$(et,lt,Ae,null,Ce,De,Ve,ue,we);else break;ke++}for(;ke<=ot&&ke<=q;){const et=ae[ot],lt=he[q]=we?ul(he[q]):Mi(he[q]);if(_a(et,lt))$(et,lt,Ae,null,Ce,De,Ve,ue,we);else break;ot--,q--}if(ke>ot){if(ke<=q){const et=q+1,lt=et<Ge?he[et].el:Fe;for(;ke<=q;)$(null,he[ke]=we?ul(he[ke]):Mi(he[ke]),Ae,lt,Ce,De,Ve,ue,we),ke++}}else if(ke>q)for(;ke<=ot;)le(ae[ke],Ce,De,!0),ke++;else{const et=ke,lt=ke,Et=new Map;for(ke=lt;ke<=q;ke++){const pe=he[ke]=we?ul(he[ke]):Mi(he[ke]);pe.key!=null&&Et.set(pe.key,ke)}let Tt,st=0;const Re=q-lt+1;let Ye=!1,A=0;const x=new Array(Re);for(ke=0;ke<Re;ke++)x[ke]=0;for(ke=et;ke<=ot;ke++){const pe=ae[ke];if(st>=Re){le(pe,Ce,De,!0);continue}let re;if(pe.key!=null)re=Et.get(pe.key);else for(Tt=lt;Tt<=q;Tt++)if(x[Tt-lt]===0&&_a(pe,he[Tt])){re=Tt;break}re===void 0?le(pe,Ce,De,!0):(x[re-lt]=ke+1,re>=A?A=re:Ye=!0,$(pe,he[re],Ae,null,Ce,De,Ve,ue,we),st++)}const ee=Ye?L2(x):nc;for(Tt=ee.length-1,ke=Re-1;ke>=0;ke--){const pe=lt+ke,re=he[pe],je=pe+1<Ge?he[pe+1].el:Fe;x[ke]===0?$(null,re,Ae,je,Ce,De,Ve,ue,we):Ye&&(Tt<0||ke!==ee[Tt]?oe(re,Ae,je,2):Tt--)}}},oe=(ae,he,Ae,Fe,Ce=null)=>{const{el:De,type:Ve,transition:ue,children:we,shapeFlag:ke}=ae;if(ke&6){oe(ae.component.subTree,he,Ae,Fe);return}if(ke&128){ae.suspense.move(he,Ae,Fe);return}if(ke&64){Ve.move(ae,he,Ae,ve);return}if(Ve===dt){i(De,he,Ae);for(let ot=0;ot<we.length;ot++)oe(we[ot],he,Ae,Fe);i(ae.anchor,he,Ae);return}if(Ve===Ab){C(ae,he,Ae);return}if(Fe!==2&&ke&1&&ue)if(Fe===0)ue.beforeEnter(De),i(De,he,Ae),os(()=>ue.enter(De),Ce);else{const{leave:ot,delayLeave:q,afterLeave:et}=ue,lt=()=>i(De,he,Ae),Et=()=>{ot(De,()=>{lt(),et&&et()})};q?q(De,lt,Et):Et()}else i(De,he,Ae)},le=(ae,he,Ae,Fe=!1,Ce=!1)=>{const{type:De,props:Ve,ref:ue,children:we,dynamicChildren:ke,shapeFlag:Ge,patchFlag:ot,dirs:q,memoIndex:et}=ae;if(ot===-2&&(Ce=!1),ue!=null&&TT(ue,null,Ae,ae,!0),et!=null&&(he.renderCache[et]=void 0),Ge&256){he.ctx.deactivate(ae);return}const lt=Ge&1&&q,Et=!ih(ae);let Tt;if(Et&&(Tt=Ve&&Ve.onVnodeBeforeUnmount)&&Li(Tt,he,ae),Ge&6)Pe(ae.component,Ae,Fe);else{if(Ge&128){ae.suspense.unmount(Ae,Fe);return}lt&&pa(ae,null,he,"beforeUnmount"),Ge&64?ae.type.remove(ae,he,Ae,ve,Fe):ke&&(De!==dt||ot>0&&ot&64)?de(ke,he,Ae,!1,!0):(De===dt&&ot&384||!Ce&&Ge&16)&&de(we,he,Ae),Fe&&me(ae)}(Et&&(Tt=Ve&&Ve.onVnodeUnmounted)||lt)&&os(()=>{Tt&&Li(Tt,he,ae),lt&&pa(ae,null,he,"unmounted")},Ae)},me=ae=>{const{type:he,el:Ae,anchor:Fe,transition:Ce}=ae;if(he===dt){Se(Ae,Fe);return}if(he===Ab){S(ae);return}const De=()=>{l(Ae),Ce&&!Ce.persisted&&Ce.afterLeave&&Ce.afterLeave()};if(ae.shapeFlag&1&&Ce&&!Ce.persisted){const{leave:Ve,delayLeave:ue}=Ce,we=()=>Ve(Ae,De);ue?ue(ae.el,De,we):we()}else De()},Se=(ae,he)=>{let Ae;for(;ae!==he;)Ae=_(ae),l(ae),ae=Ae;l(he)},Pe=(ae,he,Ae)=>{const{bum:Fe,scope:Ce,update:De,subTree:Ve,um:ue,m:we,a:ke}=ae;Ik(we),Ik(ke),Fe&&um(Fe),Ce.stop(),De&&(De.active=!1,le(Ve,ae,he,Ae)),ue&&os(ue,he),os(()=>{ae.isUnmounted=!0},he),he&&he.pendingBranch&&!he.isUnmounted&&ae.asyncDep&&!ae.asyncResolved&&ae.suspenseId===he.pendingId&&(he.deps--,he.deps===0&&he.resolve())},de=(ae,he,Ae,Fe=!1,Ce=!1,De=0)=>{for(let Ve=De;Ve<ae.length;Ve++)le(ae[Ve],he,Ae,Fe,Ce)},ye=ae=>ae.shapeFlag&6?ye(ae.component.subTree):ae.shapeFlag&128?ae.suspense.next():_(ae.anchor||ae.el);let _e=!1;const Ke=(ae,he,Ae)=>{ae==null?he._vnode&&le(he._vnode,null,null,!0):$(he._vnode||null,ae,he,null,null,null,Ae),_e||(_e=!0,mk(),gN(),_e=!1),he._vnode=ae},ve={p:$,um:le,m:oe,r:me,mt:Z,mc:M,pc:W,pbc:F,n:ye,o:t};let Ne,He;return{render:Ke,hydrate:Ne,createApp:C2(Ke,Ne)}}function Ob({type:t,props:n},o){return o==="svg"&&t==="foreignObject"||o==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:o}function fa({effect:t,update:n},o){t.allowRecurse=n.allowRecurse=o}function N2(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function Qy(t,n,o=!1){const i=t.children,l=n.children;if(tt(i)&&tt(l))for(let a=0;a<i.length;a++){const u=i[a];let h=l[a];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=l[a]=ul(l[a]),h.el=u.el),!o&&h.patchFlag!==-2&&Qy(u,h)),h.type===Pc&&(h.el=u.el)}}function L2(t){const n=t.slice(),o=[0];let i,l,a,u,h;const p=t.length;for(i=0;i<p;i++){const f=t[i];if(f!==0){if(l=o[o.length-1],t[l]<f){n[i]=l,o.push(i);continue}for(a=0,u=o.length-1;a<u;)h=a+u>>1,t[o[h]]<f?a=h+1:u=h;f<t[o[a]]&&(a>0&&(n[i]=o[a-1]),o[a]=i)}}for(a=o.length,u=o[a-1];a-- >0;)o[a]=u,u=n[u];return o}function MN(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:MN(n)}function Ik(t){if(t)for(let n=0;n<t.length;n++)t[n].active=!1}const M2=Symbol.for("v-scx"),D2=()=>it(M2);function Eo(t,n){return eE(t,null,n)}const Vf={};function Me(t,n,o){return eE(t,n,o)}function eE(t,n,{immediate:o,deep:i,flush:l,once:a,onTrack:u,onTrigger:h}=Dn){if(n&&a){const O=n;n=(...P)=>{O(...P),R()}}const p=To,f=O=>i===!0?O:cl(O,i===!1?1:void 0);let g,m=!1,_=!1;if(bn(t)?(g=()=>t.value,m=Fm(t)):oh(t)?(g=()=>f(t),m=!0):tt(t)?(_=!0,m=t.some(O=>oh(O)||Fm(O)),g=()=>t.map(O=>{if(bn(O))return O.value;if(oh(O))return f(O);if(_t(O))return gl(O,p,2)})):_t(t)?n?g=()=>gl(t,p,2):g=()=>(b&&b(),Hs(t,p,3,[T])):g=nn,n&&i){const O=g;g=()=>cl(O())}let b,T=O=>{b=C.onStop=()=>{gl(O,p,4),b=C.onStop=void 0}},$;if(Eg)if(T=nn,n?o&&Hs(n,p,3,[g(),_?[]:void 0,T]):g(),l==="sync"){const O=D2();$=O.__watcherHandles||(O.__watcherHandles=[])}else return nn;let E=_?new Array(t.length).fill(Vf):Vf;const y=()=>{if(!(!C.active||!C.dirty))if(n){const O=C.run();(i||m||(_?O.some((P,M)=>_l(P,E[M])):_l(O,E)))&&(b&&b(),Hs(n,p,3,[O,E===Vf?void 0:_&&E[0]===Vf?[]:E,T]),E=O)}else C.run()};y.allowRecurse=!!n;let I;l==="sync"?I=y:l==="post"?I=()=>os(y,p&&p.suspense):(y.pre=!0,p&&(y.id=p.uid),I=()=>Yy(y));const C=new Fy(g,nn,I),S=jA(),R=()=>{C.stop(),S&&xy(S.effects,C)};return n?o?y():E=C.run():l==="post"?os(C.run.bind(C),p&&p.suspense):C.run(),$&&$.push(R),R}function P2(t,n,o){const i=this.proxy,l=yt(t)?t.includes(".")?DN(i,t):()=>i[t]:t.bind(i,i);let a;_t(n)?a=n:(a=n.handler,o=n);const u=Xh(this),h=eE(l,a.bind(i),o);return u(),h}function DN(t,n){const o=n.split(".");return()=>{let i=t;for(let l=0;l<o.length&&i;l++)i=i[o[l]];return i}}function cl(t,n=1/0,o){if(n<=0||!xt(t)||t.__v_skip||(o=o||new Set,o.has(t)))return t;if(o.add(t),n--,bn(t))cl(t.value,n,o);else if(tt(t))for(let i=0;i<t.length;i++)cl(t[i],n,o);else if(fg(t)||oc(t))t.forEach(i=>{cl(i,n,o)});else if(xm(t)){for(const i in t)cl(t[i],n,o);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&cl(t[i],n,o)}return t}const yg=t=>t.type.__isKeepAlive;function x2(t,n){xN(t,"a",n)}function PN(t,n){xN(t,"da",n)}function xN(t,n,o=To){const i=t.__wdc||(t.__wdc=()=>{let l=o;for(;l;){if(l.isDeactivated)return;l=l.parent}return t()});if(bg(n,i,o),o){let l=o.parent;for(;l&&l.parent;)yg(l.parent.vnode)&&B2(i,n,o,l),l=l.parent}}function B2(t,n,o,i){const l=bg(n,t,i,!0);Rl(()=>{xy(i[n],l)},o)}const al=Symbol("_leaveCb"),Uf=Symbol("_enterCb");function BN(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return At(()=>{t.isMounted=!0}),fn(()=>{t.isUnmounting=!0}),t}const Ls=[Function,Array],FN={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ls,onEnter:Ls,onAfterEnter:Ls,onEnterCancelled:Ls,onBeforeLeave:Ls,onLeave:Ls,onAfterLeave:Ls,onLeaveCancelled:Ls,onBeforeAppear:Ls,onAppear:Ls,onAfterAppear:Ls,onAppearCancelled:Ls},HN=t=>{const n=t.subTree;return n.component?HN(n.component):n},F2={name:"BaseTransition",props:FN,setup(t,{slots:n}){const o=Mt(),i=BN();return()=>{const l=n.default&&tE(n.default(),!0);if(!l||!l.length)return;let a=l[0];if(l.length>1){for(const _ of l)if(_.type!==bo){a=_;break}}const u=sn(t),{mode:h}=u;if(i.isLeaving)return Rb(a);const p=wk(a);if(!p)return Rb(a);let f=Eh(p,u,i,o,_=>f=_);pc(p,f);const g=o.subTree,m=g&&wk(g);if(m&&m.type!==bo&&!_a(p,m)&&HN(o).type!==bo){const _=Eh(m,u,i,o);if(pc(m,_),h==="out-in"&&p.type!==bo)return i.isLeaving=!0,_.afterLeave=()=>{i.isLeaving=!1,o.update.active!==!1&&(o.effect.dirty=!0,o.update())},Rb(a);h==="in-out"&&p.type!==bo&&(_.delayLeave=(b,T,$)=>{const E=VN(i,m);E[String(m.key)]=m,b[al]=()=>{T(),b[al]=void 0,delete f.delayedLeave},f.delayedLeave=$})}return a}}},H2=F2;function VN(t,n){const{leavingVNodes:o}=t;let i=o.get(n.type);return i||(i=Object.create(null),o.set(n.type,i)),i}function Eh(t,n,o,i,l){const{appear:a,mode:u,persisted:h=!1,onBeforeEnter:p,onEnter:f,onAfterEnter:g,onEnterCancelled:m,onBeforeLeave:_,onLeave:b,onAfterLeave:T,onLeaveCancelled:$,onBeforeAppear:E,onAppear:y,onAfterAppear:I,onAppearCancelled:C}=n,S=String(t.key),R=VN(o,t),O=(H,F)=>{H&&Hs(H,i,9,F)},P=(H,F)=>{const B=F[1];O(H,F),tt(H)?H.every(K=>K.length<=1)&&B():H.length<=1&&B()},M={mode:u,persisted:h,beforeEnter(H){let F=p;if(!o.isMounted)if(a)F=E||p;else return;H[al]&&H[al](!0);const B=R[S];B&&_a(t,B)&&B.el[al]&&B.el[al](),O(F,[H])},enter(H){let F=f,B=g,K=m;if(!o.isMounted)if(a)F=y||f,B=I||g,K=C||m;else return;let te=!1;const Z=H[Uf]=j=>{te||(te=!0,j?O(K,[H]):O(B,[H]),M.delayedLeave&&M.delayedLeave(),H[Uf]=void 0)};F?P(F,[H,Z]):Z()},leave(H,F){const B=String(t.key);if(H[Uf]&&H[Uf](!0),o.isUnmounting)return F();O(_,[H]);let K=!1;const te=H[al]=Z=>{K||(K=!0,F(),Z?O($,[H]):O(T,[H]),H[al]=void 0,R[B]===t&&delete R[B])};R[B]=t,b?P(b,[H,te]):te()},clone(H){const F=Eh(H,n,o,i,l);return l&&l(F),F}};return M}function Rb(t){if(yg(t))return t=Ir(t),t.children=null,t}function wk(t){if(!yg(t))return t;const{shapeFlag:n,children:o}=t;if(o){if(n&16)return o[0];if(n&32&&_t(o.default))return o.default()}}function pc(t,n){t.shapeFlag&6&&t.component?pc(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function tE(t,n=!1,o){let i=[],l=0;for(let a=0;a<t.length;a++){let u=t[a];const h=o==null?u.key:String(o)+String(u.key!=null?u.key:a);u.type===dt?(u.patchFlag&128&&l++,i=i.concat(tE(u.children,n,h))):(n||u.type!==bo)&&i.push(h!=null?Ir(u,{key:h}):u)}if(l>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}const V2=t=>t.__isTeleport,ah=t=>t&&(t.disabled||t.disabled===""),kk=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ok=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,yT=(t,n)=>{const o=t&&t.to;return yt(o)?n?n(o):null:o},U2={name:"Teleport",__isTeleport:!0,process(t,n,o,i,l,a,u,h,p,f){const{mc:g,pc:m,pbc:_,o:{insert:b,querySelector:T,createText:$,createComment:E}}=f,y=ah(n.props);let{shapeFlag:I,children:C,dynamicChildren:S}=n;if(t==null){const R=n.el=$(""),O=n.anchor=$("");b(R,o,i),b(O,o,i);const P=n.target=yT(n.props,T),M=n.targetAnchor=$("");P&&(b(M,P),u==="svg"||kk(P)?u="svg":(u==="mathml"||Ok(P))&&(u="mathml"));const H=(F,B)=>{I&16&&g(C,F,B,l,a,u,h,p)};y?H(o,O):P&&H(P,M)}else{n.el=t.el;const R=n.anchor=t.anchor,O=n.target=t.target,P=n.targetAnchor=t.targetAnchor,M=ah(t.props),H=M?o:O,F=M?R:P;if(u==="svg"||kk(O)?u="svg":(u==="mathml"||Ok(O))&&(u="mathml"),S?(_(t.dynamicChildren,S,H,l,a,u,h),Qy(t,n,!0)):p||m(t,n,H,F,l,a,u,h,!1),y)M?n.props&&t.props&&n.props.to!==t.props.to&&(n.props.to=t.props.to):Gf(n,o,R,f,1);else if((n.props&&n.props.to)!==(t.props&&t.props.to)){const B=n.target=yT(n.props,T);B&&Gf(n,B,null,f,0)}else M&&Gf(n,O,P,f,1)}UN(n)},remove(t,n,o,{um:i,o:{remove:l}},a){const{shapeFlag:u,children:h,anchor:p,targetAnchor:f,target:g,props:m}=t;if(g&&l(f),a&&l(p),u&16){const _=a||!ah(m);for(let b=0;b<h.length;b++){const T=h[b];i(T,n,o,_,!!T.dynamicChildren)}}},move:Gf,hydrate:G2};function Gf(t,n,o,{o:{insert:i},m:l},a=2){a===0&&i(t.targetAnchor,n,o);const{el:u,anchor:h,shapeFlag:p,children:f,props:g}=t,m=a===2;if(m&&i(u,n,o),(!m||ah(g))&&p&16)for(let _=0;_<f.length;_++)l(f[_],n,o,2);m&&i(h,n,o)}function G2(t,n,o,i,l,a,{o:{nextSibling:u,parentNode:h,querySelector:p}},f){const g=n.target=yT(n.props,p);if(g){const m=g._lpa||g.firstChild;if(n.shapeFlag&16)if(ah(n.props))n.anchor=f(u(t),n,h(t),o,i,l,a),n.targetAnchor=m;else{n.anchor=u(t);let _=m;for(;_;)if(_=u(_),_&&_.nodeType===8&&_.data==="teleport anchor"){n.targetAnchor=_,g._lpa=n.targetAnchor&&u(n.targetAnchor);break}f(m,n,g,o,i,l,a)}UN(n)}return n.anchor&&u(n.anchor)}const Dc=U2;function UN(t){const n=t.ctx;if(n&&n.ut){let o=t.children[0].el;for(;o&&o!==t.targetAnchor;)o.nodeType===1&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}const dt=Symbol.for("v-fgt"),Pc=Symbol.for("v-txt"),bo=Symbol.for("v-cmt"),Ab=Symbol.for("v-stc"),uh=[];let ui=null;function N(t=!1){uh.push(ui=t?null:[])}function W2(){uh.pop(),ui=uh[uh.length-1]||null}let Ch=1;function Rk(t){Ch+=t}function GN(t){return t.dynamicChildren=Ch>0?ui||nc:null,W2(),Ch>0&&ui&&ui.push(t),t}function Y(t,n,o,i,l,a){return GN(Q(t,n,o,i,l,a,!0))}function be(t,n,o,i,l){return GN(ie(t,n,o,i,l,!0))}function Cn(t){return t?t.__v_isVNode===!0:!1}function _a(t,n){return t.type===n.type&&t.key===n.key}const WN=({key:t})=>t??null,cm=({ref:t,ref_key:n,ref_for:o})=>(typeof t=="number"&&(t=""+t),t!=null?yt(t)||bn(t)||_t(t)?{i:po,r:t,k:n,f:!!o}:t:null);function Q(t,n=null,o=null,i=0,l=null,a=t===dt?0:1,u=!1,h=!1){const p={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&WN(n),ref:n&&cm(n),scopeId:_N,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:po};return h?(nE(p,o),a&128&&t.normalize(p)):o&&(p.shapeFlag|=yt(o)?8:16),Ch>0&&!u&&ui&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&ui.push(p),p}const ie=z2;function z2(t,n=null,o=null,i=0,l=null,a=!1){if((!t||t===bN)&&(t=bo),Cn(t)){const h=Ir(t,n,!0);return o&&nE(h,o),Ch>0&&!a&&ui&&(h.shapeFlag&6?ui[ui.indexOf(t)]=h:ui.push(h)),h.patchFlag=-2,h}if(Q2(t)&&(t=t.__vccOpts),n){n=fc(n);let{class:h,style:p}=n;h&&!yt(h)&&(n.class=L(h)),xt(p)&&(uN(p)&&!tt(p)&&(p=Xn({},p)),n.style=ct(p))}const u=yt(t)?1:c2(t)?128:V2(t)?64:xt(t)?4:_t(t)?2:0;return Q(t,n,o,i,l,u,a,!0)}function fc(t){return t?uN(t)||kN(t)?Xn({},t):t:null}function Ir(t,n,o=!1,i=!1){const{props:l,ref:a,patchFlag:u,children:h,transition:p}=t,f=n?Vt(l||{},n):l,g={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&WN(f),ref:n&&n.ref?o&&a?tt(a)?a.concat(cm(n)):[a,cm(n)]:cm(n):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:h,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==dt?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:p,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ir(t.ssContent),ssFallback:t.ssFallback&&Ir(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return p&&i&&pc(g,p.clone(g)),g}function Wt(t=" ",n=0){return ie(Pc,null,t,n)}function $e(t="",n=!1){return n?(N(),be(bo,null,t)):ie(bo,null,t)}function Mi(t){return t==null||typeof t=="boolean"?ie(bo):tt(t)?ie(dt,null,t.slice()):typeof t=="object"?ul(t):ie(Pc,null,String(t))}function ul(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ir(t)}function nE(t,n){let o=0;const{shapeFlag:i}=t;if(n==null)n=null;else if(tt(n))o=16;else if(typeof n=="object")if(i&65){const l=n.default;l&&(l._c&&(l._d=!1),nE(t,l()),l._c&&(l._d=!0));return}else{o=32;const l=n._;!l&&!kN(n)?n._ctx=po:l===3&&po&&(po.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else _t(n)?(n={default:n,_ctx:po},o=32):(n=String(n),i&64?(o=16,n=[Wt(n)]):o=8);t.children=n,t.shapeFlag|=o}function Vt(...t){const n={};for(let o=0;o<t.length;o++){const i=t[o];for(const l in i)if(l==="class")n.class!==i.class&&(n.class=L([n.class,i.class]));else if(l==="style")n.style=ct([n.style,i.style]);else if(pg(l)){const a=n[l],u=i[l];u&&a!==u&&!(tt(a)&&a.includes(u))&&(n[l]=a?[].concat(a,u):u)}else l!==""&&(n[l]=i[l])}return n}function Li(t,n,o,i=null){Hs(t,n,7,[o,i])}const K2=SN();let X2=0;function Y2(t,n,o){const i=t.type,l=(n?n.appContext:t.appContext)||K2,a={uid:X2++,vnode:t,type:i,parent:n,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new YA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:RN(i,l),emitsOptions:vN(i,l),emit:null,emitted:null,propsDefaults:Dn,inheritAttrs:i.inheritAttrs,ctx:Dn,data:Dn,props:Dn,attrs:Dn,slots:Dn,refs:Dn,setupState:Dn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=n?n.root:a,a.emit=s2.bind(null,a),t.ce&&t.ce(a),a}let To=null;const Mt=()=>To||po;let Um,ET;{const t=WA(),n=(o,i)=>{let l;return(l=t[o])||(l=t[o]=[]),l.push(i),a=>{l.length>1?l.forEach(u=>u(a)):l[0](a)}};Um=n("__VUE_INSTANCE_SETTERS__",o=>To=o),ET=n("__VUE_SSR_SETTERS__",o=>Eg=o)}const Xh=t=>{const n=To;return Um(t),t.scope.on(),()=>{t.scope.off(),Um(n)}},Ak=()=>{To&&To.scope.off(),Um(null)};function zN(t){return t.vnode.shapeFlag&4}let Eg=!1;function j2(t,n=!1){n&&ET(n);const{props:o,children:i}=t.vnode,l=zN(t);S2(t,o,l,n),k2(t,i);const a=l?q2(t,n):void 0;return n&&ET(!1),a}function q2(t,n){const o=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,$2);const{setup:i}=o;if(i){const l=t.setupContext=i.length>1?XN(t):null,a=Xh(t);Ol();const u=gl(i,t,0,[t.props,l]);if(Cr(),a(),vh(u)){if(u.then(Ak,Ak),n)return u.then(h=>{Nk(t,h,n)}).catch(h=>{$g(h,t,0)});t.asyncDep=u}else Nk(t,u,n)}else KN(t,n)}function Nk(t,n,o){_t(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:xt(n)&&(t.setupState=hN(n)),KN(t,o)}let Lk;function KN(t,n,o){const i=t.type;if(!t.render){if(!n&&Lk&&!i.render){const l=i.template||Jy(t).template;if(l){const{isCustomElement:a,compilerOptions:u}=t.appContext.config,{delimiters:h,compilerOptions:p}=i,f=Xn(Xn({isCustomElement:a,delimiters:h},u),p);i.render=Lk(l,f)}}t.render=i.render||nn}{const l=Xh(t);Ol();try{v2(t)}finally{Cr(),l()}}}const J2={get(t,n){return ls(t,"get",""),t[n]}};function XN(t){const n=o=>{t.exposed=o||{}};return{attrs:new Proxy(t.attrs,J2),slots:t.slots,emit:t.emit,expose:n}}function Cg(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(hN(sc(t.exposed)),{get(n,o){if(o in n)return n[o];if(o in rh)return rh[o](t)},has(n,o){return o in n||o in rh}})):t.proxy}function Z2(t,n=!0){return _t(t)?t.displayName||t.name:t.name||n&&t.__name}function Q2(t){return _t(t)&&"__vccOpts"in t}const w=(t,n)=>KB(t,n,Eg);function ft(t,n,o){const i=arguments.length;return i===2?xt(n)&&!tt(n)?Cn(n)?ie(t,null,[n]):ie(t,n):ie(t,null,n):(i>3?o=Array.prototype.slice.call(arguments,2):i===3&&Cn(o)&&(o=[o]),ie(t,n,o))}const eF="3.4.30",tF=nn;/**
* @vue/runtime-dom v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const nF="http://www.w3.org/2000/svg",oF="http://www.w3.org/1998/Math/MathML",vr=typeof document<"u"?document:null,Mk=vr&&vr.createElement("template"),sF={insert:(t,n,o)=>{n.insertBefore(t,o||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,o,i)=>{const l=n==="svg"?vr.createElementNS(nF,t):n==="mathml"?vr.createElementNS(oF,t):o?vr.createElement(t,{is:o}):vr.createElement(t);return t==="select"&&i&&i.multiple!=null&&l.setAttribute("multiple",i.multiple),l},createText:t=>vr.createTextNode(t),createComment:t=>vr.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vr.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,o,i,l,a){const u=o?o.previousSibling:n.lastChild;if(l&&(l===a||l.nextSibling))for(;n.insertBefore(l.cloneNode(!0),o),!(l===a||!(l=l.nextSibling)););else{Mk.innerHTML=i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t;const h=Mk.content;if(i==="svg"||i==="mathml"){const p=h.firstChild;for(;p.firstChild;)h.appendChild(p.firstChild);h.removeChild(p)}n.insertBefore(h,o)}return[u?u.nextSibling:n.firstChild,o?o.previousSibling:n.lastChild]}},tl="transition",Gd="animation",mc=Symbol("_vtc"),Yn=(t,{slots:n})=>ft(H2,jN(t),n);Yn.displayName="Transition";const YN={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},iF=Yn.props=Xn({},FN,YN),ma=(t,n=[])=>{tt(t)?t.forEach(o=>o(...n)):t&&t(...n)},Dk=t=>t?tt(t)?t.some(n=>n.length>1):t.length>1:!1;function jN(t){const n={};for(const K in t)K in YN||(n[K]=t[K]);if(t.css===!1)return n;const{name:o="v",type:i,duration:l,enterFromClass:a=`${o}-enter-from`,enterActiveClass:u=`${o}-enter-active`,enterToClass:h=`${o}-enter-to`,appearFromClass:p=a,appearActiveClass:f=u,appearToClass:g=h,leaveFromClass:m=`${o}-leave-from`,leaveActiveClass:_=`${o}-leave-active`,leaveToClass:b=`${o}-leave-to`}=t,T=rF(l),$=T&&T[0],E=T&&T[1],{onBeforeEnter:y,onEnter:I,onEnterCancelled:C,onLeave:S,onLeaveCancelled:R,onBeforeAppear:O=y,onAppear:P=I,onAppearCancelled:M=C}=n,H=(K,te,Z)=>{ol(K,te?g:h),ol(K,te?f:u),Z&&Z()},F=(K,te)=>{K._isLeaving=!1,ol(K,m),ol(K,b),ol(K,_),te&&te()},B=K=>(te,Z)=>{const j=K?P:I,z=()=>H(te,K,Z);ma(j,[te,z]),Pk(()=>{ol(te,K?p:a),$r(te,K?g:h),Dk(j)||xk(te,i,$,z)})};return Xn(n,{onBeforeEnter(K){ma(y,[K]),$r(K,a),$r(K,u)},onBeforeAppear(K){ma(O,[K]),$r(K,p),$r(K,f)},onEnter:B(!1),onAppear:B(!0),onLeave(K,te){K._isLeaving=!0;const Z=()=>F(K,te);$r(K,m),$r(K,_),JN(),Pk(()=>{K._isLeaving&&(ol(K,m),$r(K,b),Dk(S)||xk(K,i,E,Z))}),ma(S,[K,Z])},onEnterCancelled(K){H(K,!1),ma(C,[K])},onAppearCancelled(K){H(K,!0),ma(M,[K])},onLeaveCancelled(K){F(K),ma(R,[K])}})}function rF(t){if(t==null)return null;if(xt(t))return[Nb(t.enter),Nb(t.leave)];{const n=Nb(t);return[n,n]}}function Nb(t){return gB(t)}function $r(t,n){n.split(/\s+/).forEach(o=>o&&t.classList.add(o)),(t[mc]||(t[mc]=new Set)).add(n)}function ol(t,n){n.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const o=t[mc];o&&(o.delete(n),o.size||(t[mc]=void 0))}function Pk(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let lF=0;function xk(t,n,o,i){const l=t._endId=++lF,a=()=>{l===t._endId&&i()};if(o)return setTimeout(a,o);const{type:u,timeout:h,propCount:p}=qN(t,n);if(!u)return i();const f=u+"end";let g=0;const m=()=>{t.removeEventListener(f,_),a()},_=b=>{b.target===t&&++g>=p&&m()};setTimeout(()=>{g<p&&m()},h+1),t.addEventListener(f,_)}function qN(t,n){const o=window.getComputedStyle(t),i=T=>(o[T]||"").split(", "),l=i(`${tl}Delay`),a=i(`${tl}Duration`),u=Bk(l,a),h=i(`${Gd}Delay`),p=i(`${Gd}Duration`),f=Bk(h,p);let g=null,m=0,_=0;n===tl?u>0&&(g=tl,m=u,_=a.length):n===Gd?f>0&&(g=Gd,m=f,_=p.length):(m=Math.max(u,f),g=m>0?u>f?tl:Gd:null,_=g?g===tl?a.length:p.length:0);const b=g===tl&&/\b(transform|all)(,|$)/.test(i(`${tl}Property`).toString());return{type:g,timeout:m,propCount:_,hasTransform:b}}function Bk(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((o,i)=>Fk(o)+Fk(t[i])))}function Fk(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function JN(){return document.body.offsetHeight}function aF(t,n,o){const i=t[mc];i&&(n=(n?[n,...i]:[...i]).join(" ")),n==null?t.removeAttribute("class"):o?t.setAttribute("class",n):t.className=n}const Gm=Symbol("_vod"),ZN=Symbol("_vsh"),qt={beforeMount(t,{value:n},{transition:o}){t[Gm]=t.style.display==="none"?"":t.style.display,o&&n?o.beforeEnter(t):Wd(t,n)},mounted(t,{value:n},{transition:o}){o&&n&&o.enter(t)},updated(t,{value:n,oldValue:o},{transition:i}){!n!=!o&&(i?n?(i.beforeEnter(t),Wd(t,!0),i.enter(t)):i.leave(t,()=>{Wd(t,!1)}):Wd(t,n))},beforeUnmount(t,{value:n}){Wd(t,n)}};function Wd(t,n){t.style.display=n?t[Gm]:"none",t[ZN]=!n}const uF=Symbol(""),cF=/(^|;)\s*display\s*:/;function dF(t,n,o){const i=t.style,l=yt(o);let a=!1;if(o&&!l){if(n)if(yt(n))for(const u of n.split(";")){const h=u.slice(0,u.indexOf(":")).trim();o[h]==null&&dm(i,h,"")}else for(const u in n)o[u]==null&&dm(i,u,"");for(const u in o)u==="display"&&(a=!0),dm(i,u,o[u])}else if(l){if(n!==o){const u=i[uF];u&&(o+=";"+u),i.cssText=o,a=cF.test(o)}}else n&&t.removeAttribute("style");Gm in t&&(t[Gm]=a?i.display:"",t[ZN]&&(i.display="none"))}const Hk=/\s*!important$/;function dm(t,n,o){if(tt(o))o.forEach(i=>dm(t,n,i));else if(o==null&&(o=""),n.startsWith("--"))t.setProperty(n,o);else{const i=hF(t,n);Hk.test(o)?t.setProperty(kl(i),o.replace(Hk,""),"important"):t[i]=o}}const Vk=["Webkit","Moz","ms"],Lb={};function hF(t,n){const o=Lb[n];if(o)return o;let i=Gs(n);if(i!=="filter"&&i in t)return Lb[n]=i;i=Kh(i);for(let l=0;l<Vk.length;l++){const a=Vk[l]+i;if(a in t)return Lb[n]=a}return n}const Uk="http://www.w3.org/1999/xlink";function Gk(t,n,o,i,l,a=yB(n)){i&&n.startsWith("xlink:")?o==null?t.removeAttributeNS(Uk,n.slice(6,n.length)):t.setAttributeNS(Uk,n,o):o==null||a&&!zA(o)?t.removeAttribute(n):t.setAttribute(n,a?"":Hi(o)?String(o):o)}function pF(t,n,o,i,l,a,u){if(n==="innerHTML"||n==="textContent"){i&&u(i,l,a),t[n]=o??"";return}const h=t.tagName;if(n==="value"&&h!=="PROGRESS"&&!h.includes("-")){const f=h==="OPTION"?t.getAttribute("value")||"":t.value,g=o==null?"":String(o);(f!==g||!("_value"in t))&&(t.value=g),o==null&&t.removeAttribute(n),t._value=o;return}let p=!1;if(o===""||o==null){const f=typeof t[n];f==="boolean"?o=zA(o):o==null&&f==="string"?(o="",p=!0):f==="number"&&(o=0,p=!0)}try{t[n]=o}catch{}p&&t.removeAttribute(n)}function dl(t,n,o,i){t.addEventListener(n,o,i)}function fF(t,n,o,i){t.removeEventListener(n,o,i)}const Wk=Symbol("_vei");function mF(t,n,o,i,l=null){const a=t[Wk]||(t[Wk]={}),u=a[n];if(i&&u)u.value=i;else{const[h,p]=gF(n);if(i){const f=a[n]=_F(i,l);dl(t,h,f,p)}else u&&(fF(t,h,u,p),a[n]=void 0)}}const zk=/(?:Once|Passive|Capture)$/;function gF(t){let n;if(zk.test(t)){n={};let i;for(;i=t.match(zk);)t=t.slice(0,t.length-i[0].length),n[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):kl(t.slice(2)),n]}let Mb=0;const $F=Promise.resolve(),vF=()=>Mb||($F.then(()=>Mb=0),Mb=Date.now());function _F(t,n){const o=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=o.attached)return;Hs(bF(i,o.value),n,5,[i])};return o.value=t,o.attached=vF(),o}function bF(t,n){if(tt(n)){const o=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{o.call(t),t._stopped=!0},n.map(i=>l=>!l._stopped&&i&&i(l))}else return n}const Kk=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,TF=(t,n,o,i,l,a,u,h,p)=>{const f=l==="svg";n==="class"?aF(t,i,f):n==="style"?dF(t,o,i):pg(n)?Py(n)||mF(t,n,o,i,u):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):yF(t,n,i,f))?(pF(t,n,i,a,u,h,p),!t.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&Gk(t,n,i,f,u,n!=="value")):(n==="true-value"?t._trueValue=i:n==="false-value"&&(t._falseValue=i),Gk(t,n,i,f))};function yF(t,n,o,i){if(i)return!!(n==="innerHTML"||n==="textContent"||n in t&&Kk(n)&&_t(o));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const l=t.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return Kk(n)&&yt(o)?!1:n in t}const QN=new WeakMap,eL=new WeakMap,Wm=Symbol("_moveCb"),Xk=Symbol("_enterCb"),tL={name:"TransitionGroup",props:Xn({},iF,{tag:String,moveClass:String}),setup(t,{slots:n}){const o=Mt(),i=BN();let l,a;return Rr(()=>{if(!l.length)return;const u=t.moveClass||`${t.name||"v"}-move`;if(!wF(l[0].el,o.vnode.el,u))return;l.forEach(CF),l.forEach(SF);const h=l.filter(IF);JN(),h.forEach(p=>{const f=p.el,g=f.style;$r(f,u),g.transform=g.webkitTransform=g.transitionDuration="";const m=f[Wm]=_=>{_&&_.target!==f||(!_||/transform$/.test(_.propertyName))&&(f.removeEventListener("transitionend",m),f[Wm]=null,ol(f,u))};f.addEventListener("transitionend",m)})}),()=>{const u=sn(t),h=jN(u);let p=u.tag||dt;if(l=[],a)for(let f=0;f<a.length;f++){const g=a[f];g.el&&g.el instanceof Element&&(l.push(g),pc(g,Eh(g,h,i,o)),QN.set(g,g.el.getBoundingClientRect()))}a=n.default?tE(n.default()):[];for(let f=0;f<a.length;f++){const g=a[f];g.key!=null&&pc(g,Eh(g,h,i,o))}return ie(p,null,a)}}},EF=t=>delete t.mode;tL.props;const nL=tL;function CF(t){const n=t.el;n[Wm]&&n[Wm](),n[Xk]&&n[Xk]()}function SF(t){eL.set(t,t.el.getBoundingClientRect())}function IF(t){const n=QN.get(t),o=eL.get(t),i=n.left-o.left,l=n.top-o.top;if(i||l){const a=t.el.style;return a.transform=a.webkitTransform=`translate(${i}px,${l}px)`,a.transitionDuration="0s",t}}function wF(t,n,o){const i=t.cloneNode(),l=t[mc];l&&l.forEach(h=>{h.split(/\s+/).forEach(p=>p&&i.classList.remove(p))}),o.split(/\s+/).forEach(h=>h&&i.classList.add(h)),i.style.display="none";const a=n.nodeType===1?n:n.parentNode;a.appendChild(i);const{hasTransform:u}=qN(i);return a.removeChild(i),u}const gc=t=>{const n=t.props["onUpdate:modelValue"]||!1;return tt(n)?o=>um(n,o):n};function kF(t){t.target.composing=!0}function Yk(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Er=Symbol("_assign"),oE={created(t,{modifiers:{lazy:n,trim:o,number:i}},l){t[Er]=gc(l);const a=i||l.props&&l.props.type==="number";dl(t,n?"change":"input",u=>{if(u.target.composing)return;let h=t.value;o&&(h=h.trim()),a&&(h=hT(h)),t[Er](h)}),o&&dl(t,"change",()=>{t.value=t.value.trim()}),n||(dl(t,"compositionstart",kF),dl(t,"compositionend",Yk),dl(t,"change",Yk))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,oldValue:o,modifiers:{lazy:i,trim:l,number:a}},u){if(t[Er]=gc(u),t.composing)return;const h=(a||t.type==="number")&&!/^0\d/.test(t.value)?hT(t.value):t.value,p=n??"";h!==p&&(document.activeElement===t&&t.type!=="range"&&(i&&n===o||l&&t.value.trim()===p)||(t.value=p))}},zm={deep:!0,created(t,n,o){t[Er]=gc(o),dl(t,"change",()=>{const i=t._modelValue,l=sL(t),a=t.checked,u=t[Er];if(tt(i)){const h=KA(i,l),p=h!==-1;if(a&&!p)u(i.concat(l));else if(!a&&p){const f=[...i];f.splice(h,1),u(f)}}else if(fg(i)){const h=new Set(i);a?h.add(l):h.delete(l),u(h)}else u(iL(t,a))})},mounted:jk,beforeUpdate(t,n,o){t[Er]=gc(o),jk(t,n,o)}};function jk(t,{value:n,oldValue:o},i){t._modelValue=n,tt(n)?t.checked=KA(n,i.props.value)>-1:fg(n)?t.checked=n.has(i.props.value):n!==o&&(t.checked=hc(n,iL(t,!0)))}const oL={created(t,{value:n},o){t.checked=hc(n,o.props.value),t[Er]=gc(o),dl(t,"change",()=>{t[Er](sL(t))})},beforeUpdate(t,{value:n,oldValue:o},i){t[Er]=gc(i),n!==o&&(t.checked=hc(n,i.props.value))}};function sL(t){return"_value"in t?t._value:t.value}function iL(t,n){const o=n?"_trueValue":"_falseValue";return o in t?t[o]:n}const OF=["ctrl","shift","alt","meta"],RF={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>OF.some(o=>t[`${o}Key`]&&!n.includes(o))},bt=(t,n)=>{const o=t._withMods||(t._withMods={}),i=n.join(".");return o[i]||(o[i]=(l,...a)=>{for(let u=0;u<n.length;u++){const h=RF[n[u]];if(h&&h(l,n))return}return t(l,...a)})},AF={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},rn=(t,n)=>{const o=t._withKeys||(t._withKeys={}),i=n.join(".");return o[i]||(o[i]=l=>{if(!("key"in l))return;const a=kl(l.key);if(n.some(u=>u===a||AF[u]===a))return t(l)})},NF=Xn({patchProp:TF},sF);let qk;function rL(){return qk||(qk=R2(NF))}const bl=(...t)=>{rL().render(...t)},lL=(...t)=>{const n=rL().createApp(...t),{mount:o}=n;return n.mount=i=>{const l=MF(i);if(!l)return;const a=n._component;!_t(a)&&!a.render&&!a.template&&(a.template=l.innerHTML),l.innerHTML="";const u=o(l,!1,LF(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),u},n};function LF(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function MF(t){return yt(t)?document.querySelector(t):t}const DF='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',PF=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,Jk=t=>Array.from(t.querySelectorAll(DF)).filter(n=>xF(n)&&PF(n)),xF=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},hm=function(t,n,...o){let i;n.includes("mouse")||n.includes("click")?i="MouseEvents":n.includes("key")?i="KeyboardEvent":i="HTMLEvents";const l=document.createEvent(i);return l.initEvent(n,...o),t.dispatchEvent(l),t},aL=t=>!t.getAttribute("aria-owns"),uL=(t,n,o)=>{const{parentNode:i}=t;if(!i)return null;const l=i.querySelectorAll(o),a=Array.prototype.indexOf.call(l,t);return l[a+n]||null},pm=t=>{t&&(t.focus(),!aL(t)&&t.click())},Nn=(t,n,{checkForDefaultPrevented:o=!0}={})=>l=>{const a=t==null?void 0:t(l);if(o===!1||!a)return n==null?void 0:n(l)},Zk=t=>n=>n.pointerType==="mouse"?t(n):void 0;var BF=Object.defineProperty,FF=Object.defineProperties,HF=Object.getOwnPropertyDescriptors,Qk=Object.getOwnPropertySymbols,VF=Object.prototype.hasOwnProperty,UF=Object.prototype.propertyIsEnumerable,eO=(t,n,o)=>n in t?BF(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,GF=(t,n)=>{for(var o in n||(n={}))VF.call(n,o)&&eO(t,o,n[o]);if(Qk)for(var o of Qk(n))UF.call(n,o)&&eO(t,o,n[o]);return t},WF=(t,n)=>FF(t,HF(n));function tO(t,n){var o;const i=_n();return Eo(()=>{i.value=t()},WF(GF({},n),{flush:(o=void 0)!=null?o:"sync"})),Mc(i)}var nO;const Kt=typeof window<"u",zF=t=>typeof t<"u",CT=t=>typeof t=="function",KF=t=>typeof t=="string",$c=()=>{},ST=Kt&&((nO=window==null?void 0:window.navigator)==null?void 0:nO.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Tl(t){return typeof t=="function"?t():c(t)}function cL(t,n){function o(...i){return new Promise((l,a)=>{Promise.resolve(t(()=>n.apply(this,i),{fn:n,thisArg:this,args:i})).then(l).catch(a)})}return o}function XF(t,n={}){let o,i,l=$c;const a=h=>{clearTimeout(h),l(),l=$c};return h=>{const p=Tl(t),f=Tl(n.maxWait);return o&&a(o),p<=0||f!==void 0&&f<=0?(i&&(a(i),i=null),Promise.resolve(h())):new Promise((g,m)=>{l=n.rejectOnCancel?m:g,f&&!i&&(i=setTimeout(()=>{o&&a(o),i=null,g(h())},f)),o=setTimeout(()=>{i&&a(i),i=null,g(h())},p)})}}function YF(t,n=!0,o=!0,i=!1){let l=0,a,u=!0,h=$c,p;const f=()=>{a&&(clearTimeout(a),a=void 0,h(),h=$c)};return m=>{const _=Tl(t),b=Date.now()-l,T=()=>p=m();return f(),_<=0?(l=Date.now(),T()):(b>_&&(o||!u)?(l=Date.now(),T()):n&&(p=new Promise(($,E)=>{h=i?E:$,a=setTimeout(()=>{l=Date.now(),u=!0,$(T()),f()},Math.max(0,_-b))})),!o&&!a&&(a=setTimeout(()=>u=!0,_)),u=!1,p)}}function jF(t){return t}function qF(t,n){let o,i,l;const a=V(!0),u=()=>{a.value=!0,l()};Me(t,u,{flush:"sync"});const h=CT(n)?n:n.get,p=CT(n)?void 0:n.set,f=qB((g,m)=>(i=g,l=m,{get(){return a.value&&(o=h(),a.value=!1),i(),o},set(_){p==null||p(_)}}));return Object.isExtensible(f)&&(f.trigger=u),f}function Yh(t){return jA()?(qA(t),!0):!1}function JF(t,n=200,o={}){return cL(XF(n,o),t)}function ZF(t,n=200,o={}){const i=V(t.value),l=JF(()=>{i.value=t.value},n,o);return Me(t,()=>l()),i}function dL(t,n=200,o=!1,i=!0,l=!1){return cL(YF(n,o,i,l),t)}function sE(t,n=!0){Mt()?At(t):n?t():pt(t)}function Da(t,n,o={}){const{immediate:i=!0}=o,l=V(!1);let a=null;function u(){a&&(clearTimeout(a),a=null)}function h(){l.value=!1,u()}function p(...f){u(),l.value=!0,a=setTimeout(()=>{l.value=!1,a=null,t(...f)},Tl(n))}return i&&(l.value=!0,Kt&&p()),Yh(h),{isPending:Mc(l),start:p,stop:h}}function ss(t){var n;const o=Tl(t);return(n=o==null?void 0:o.$el)!=null?n:o}const Al=Kt?window:void 0,QF=Kt?window.document:void 0;function gn(...t){let n,o,i,l;if(KF(t[0])||Array.isArray(t[0])?([o,i,l]=t,n=Al):[n,o,i,l]=t,!n)return $c;Array.isArray(o)||(o=[o]),Array.isArray(i)||(i=[i]);const a=[],u=()=>{a.forEach(g=>g()),a.length=0},h=(g,m,_,b)=>(g.addEventListener(m,_,b),()=>g.removeEventListener(m,_,b)),p=Me(()=>[ss(n),Tl(l)],([g,m])=>{u(),g&&a.push(...o.flatMap(_=>i.map(b=>h(g,_,b,m))))},{immediate:!0,flush:"post"}),f=()=>{p(),u()};return Yh(f),f}let oO=!1;function iE(t,n,o={}){const{window:i=Al,ignore:l=[],capture:a=!0,detectIframe:u=!1}=o;if(!i)return;ST&&!oO&&(oO=!0,Array.from(i.document.body.children).forEach(_=>_.addEventListener("click",$c)));let h=!0;const p=_=>l.some(b=>{if(typeof b=="string")return Array.from(i.document.querySelectorAll(b)).some(T=>T===_.target||_.composedPath().includes(T));{const T=ss(b);return T&&(_.target===T||_.composedPath().includes(T))}}),g=[gn(i,"click",_=>{const b=ss(t);if(!(!b||b===_.target||_.composedPath().includes(b))){if(_.detail===0&&(h=!p(_)),!h){h=!0;return}n(_)}},{passive:!0,capture:a}),gn(i,"pointerdown",_=>{const b=ss(t);b&&(h=!_.composedPath().includes(b)&&!p(_))},{passive:!0}),u&&gn(i,"blur",_=>{var b;const T=ss(t);((b=i.document.activeElement)==null?void 0:b.tagName)==="IFRAME"&&!(T!=null&&T.contains(i.document.activeElement))&&n(_)})].filter(Boolean);return()=>g.forEach(_=>_())}function eH(t={}){var n;const{window:o=Al}=t,i=(n=t.document)!=null?n:o==null?void 0:o.document,l=qF(()=>null,()=>i==null?void 0:i.activeElement);return o&&(gn(o,"blur",a=>{a.relatedTarget===null&&l.trigger()},!0),gn(o,"focus",l.trigger,!0)),l}function hL(t,n=!1){const o=V(),i=()=>o.value=!!t();return i(),sE(i,n),o}function tH(t){return JSON.parse(JSON.stringify(t))}const sO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iO="__vueuse_ssr_handlers__";sO[iO]=sO[iO]||{};function nH(t,n,{window:o=Al,initialValue:i=""}={}){const l=V(i),a=w(()=>{var u;return ss(n)||((u=o==null?void 0:o.document)==null?void 0:u.documentElement)});return Me([a,()=>Tl(t)],([u,h])=>{var p;if(u&&o){const f=(p=o.getComputedStyle(u).getPropertyValue(h))==null?void 0:p.trim();l.value=f||i}},{immediate:!0}),Me(l,u=>{var h;(h=a.value)!=null&&h.style&&a.value.style.setProperty(Tl(t),u)}),l}function oH({document:t=QF}={}){if(!t)return V("visible");const n=V(t.visibilityState);return gn(t,"visibilitychange",()=>{n.value=t.visibilityState}),n}var rO=Object.getOwnPropertySymbols,sH=Object.prototype.hasOwnProperty,iH=Object.prototype.propertyIsEnumerable,rH=(t,n)=>{var o={};for(var i in t)sH.call(t,i)&&n.indexOf(i)<0&&(o[i]=t[i]);if(t!=null&&rO)for(var i of rO(t))n.indexOf(i)<0&&iH.call(t,i)&&(o[i]=t[i]);return o};function In(t,n,o={}){const i=o,{window:l=Al}=i,a=rH(i,["window"]);let u;const h=hL(()=>l&&"ResizeObserver"in l),p=()=>{u&&(u.disconnect(),u=void 0)},f=Me(()=>ss(t),m=>{p(),h.value&&l&&m&&(u=new ResizeObserver(n),u.observe(m,a))},{immediate:!0,flush:"post"}),g=()=>{p(),f()};return Yh(g),{isSupported:h,stop:g}}function lO(t,n={}){const{reset:o=!0,windowResize:i=!0,windowScroll:l=!0,immediate:a=!0}=n,u=V(0),h=V(0),p=V(0),f=V(0),g=V(0),m=V(0),_=V(0),b=V(0);function T(){const $=ss(t);if(!$){o&&(u.value=0,h.value=0,p.value=0,f.value=0,g.value=0,m.value=0,_.value=0,b.value=0);return}const E=$.getBoundingClientRect();u.value=E.height,h.value=E.bottom,p.value=E.left,f.value=E.right,g.value=E.top,m.value=E.width,_.value=E.x,b.value=E.y}return In(t,T),Me(()=>ss(t),$=>!$&&T()),l&&gn("scroll",T,{capture:!0,passive:!0}),i&&gn("resize",T,{passive:!0}),sE(()=>{a&&T()}),{height:u,bottom:h,left:p,right:f,top:g,width:m,x:_,y:b,update:T}}var aO=Object.getOwnPropertySymbols,lH=Object.prototype.hasOwnProperty,aH=Object.prototype.propertyIsEnumerable,uH=(t,n)=>{var o={};for(var i in t)lH.call(t,i)&&n.indexOf(i)<0&&(o[i]=t[i]);if(t!=null&&aO)for(var i of aO(t))n.indexOf(i)<0&&aH.call(t,i)&&(o[i]=t[i]);return o};function pL(t,n,o={}){const i=o,{window:l=Al}=i,a=uH(i,["window"]);let u;const h=hL(()=>l&&"MutationObserver"in l),p=()=>{u&&(u.disconnect(),u=void 0)},f=Me(()=>ss(t),m=>{p(),h.value&&l&&m&&(u=new MutationObserver(n),u.observe(m,a))},{immediate:!0}),g=()=>{p(),f()};return Yh(g),{isSupported:h,stop:g}}var uO;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(uO||(uO={}));var cH=Object.defineProperty,cO=Object.getOwnPropertySymbols,dH=Object.prototype.hasOwnProperty,hH=Object.prototype.propertyIsEnumerable,dO=(t,n,o)=>n in t?cH(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,pH=(t,n)=>{for(var o in n||(n={}))dH.call(n,o)&&dO(t,o,n[o]);if(cO)for(var o of cO(n))hH.call(n,o)&&dO(t,o,n[o]);return t};const fH={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};pH({linear:jF},fH);function fL(t,n,o,i={}){var l,a,u;const{clone:h=!1,passive:p=!1,eventName:f,deep:g=!1,defaultValue:m}=i,_=Mt(),b=o||(_==null?void 0:_.emit)||((l=_==null?void 0:_.$emit)==null?void 0:l.bind(_))||((u=(a=_==null?void 0:_.proxy)==null?void 0:a.$emit)==null?void 0:u.bind(_==null?void 0:_.proxy));let T=f;n||(n="modelValue"),T=f||T||`update:${n.toString()}`;const $=y=>h?CT(h)?h(y):tH(y):y,E=()=>zF(t[n])?$(t[n]):m;if(p){const y=E(),I=V(y);return Me(()=>t[n],C=>I.value=$(C)),Me(I,C=>{(C!==t[n]||g)&&b(T,C)},{deep:g}),I}else return w({get(){return E()},set(y){b(T,y)}})}function mH({window:t=Al}={}){if(!t)return V(!1);const n=V(t.document.hasFocus());return gn(t,"blur",()=>{n.value=!1}),gn(t,"focus",()=>{n.value=!0}),n}function gH(t={}){const{window:n=Al,initialWidth:o=1/0,initialHeight:i=1/0,listenOrientation:l=!0,includeScrollbar:a=!0}=t,u=V(o),h=V(i),p=()=>{n&&(a?(u.value=n.innerWidth,h.value=n.innerHeight):(u.value=n.document.documentElement.clientWidth,h.value=n.document.documentElement.clientHeight))};return p(),sE(p),gn("resize",p,{passive:!0}),l&&gn("orientationchange",p,{passive:!0}),{width:u,height:h}}const mL=()=>Kt&&/firefox/i.test(window.navigator.userAgent),$H=(t,n)=>{if(!Kt||!t||!n)return!1;const o=t.getBoundingClientRect();let i;return n instanceof Element?i=n.getBoundingClientRect():i={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},o.top<i.bottom&&o.bottom>i.top&&o.right>i.left&&o.left<i.right},hO=t=>{let n=0,o=t;for(;o;)n+=o.offsetTop,o=o.offsetParent;return n},IT=(t,n)=>Math.abs(hO(t)-hO(n)),rE=t=>{let n,o;return t.type==="touchend"?(o=t.changedTouches[0].clientY,n=t.changedTouches[0].clientX):t.type.startsWith("touch")?(o=t.touches[0].clientY,n=t.touches[0].clientX):(o=t.clientY,n=t.clientX),{clientX:n,clientY:o}};function vH(t,n,o,i){const l=o-n;return t/=i/2,t<1?l/2*t*t*t+n:l/2*((t-=2)*t*t+2)+n}var gL=typeof global=="object"&&global&&global.Object===Object&&global,_H=typeof self=="object"&&self&&self.Object===Object&&self,fi=gL||_H||Function("return this")(),Ws=fi.Symbol,$L=Object.prototype,bH=$L.hasOwnProperty,TH=$L.toString,zd=Ws?Ws.toStringTag:void 0;function yH(t){var n=bH.call(t,zd),o=t[zd];try{t[zd]=void 0;var i=!0}catch{}var l=TH.call(t);return i&&(n?t[zd]=o:delete t[zd]),l}var EH=Object.prototype,CH=EH.toString;function SH(t){return CH.call(t)}var IH="[object Null]",wH="[object Undefined]",pO=Ws?Ws.toStringTag:void 0;function Wa(t){return t==null?t===void 0?wH:IH:pO&&pO in Object(t)?yH(t):SH(t)}function Vi(t){return t!=null&&typeof t=="object"}var kH="[object Symbol]";function Sg(t){return typeof t=="symbol"||Vi(t)&&Wa(t)==kH}function lE(t,n){for(var o=-1,i=t==null?0:t.length,l=Array(i);++o<i;)l[o]=n(t[o],o,t);return l}var qo=Array.isArray,OH=1/0,fO=Ws?Ws.prototype:void 0,mO=fO?fO.toString:void 0;function vL(t){if(typeof t=="string")return t;if(qo(t))return lE(t,vL)+"";if(Sg(t))return mO?mO.call(t):"";var n=t+"";return n=="0"&&1/t==-OH?"-0":n}var RH=/\s/;function AH(t){for(var n=t.length;n--&&RH.test(t.charAt(n)););return n}var NH=/^\s+/;function LH(t){return t&&t.slice(0,AH(t)+1).replace(NH,"")}function Jo(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var gO=NaN,MH=/^[-+]0x[0-9a-f]+$/i,DH=/^0b[01]+$/i,PH=/^0o[0-7]+$/i,xH=parseInt;function $O(t){if(typeof t=="number")return t;if(Sg(t))return gO;if(Jo(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=Jo(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=LH(t);var o=DH.test(t);return o||PH.test(t)?xH(t.slice(2),o?2:8):MH.test(t)?gO:+t}function aE(t){return t}var BH="[object AsyncFunction]",FH="[object Function]",HH="[object GeneratorFunction]",VH="[object Proxy]";function uE(t){if(!Jo(t))return!1;var n=Wa(t);return n==FH||n==HH||n==BH||n==VH}var Db=fi["__core-js_shared__"],vO=function(){var t=/[^.]+$/.exec(Db&&Db.keys&&Db.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function UH(t){return!!vO&&vO in t}var GH=Function.prototype,WH=GH.toString;function za(t){if(t!=null){try{return WH.call(t)}catch{}try{return t+""}catch{}}return""}var zH=/[\\^$.*+?()[\]{}|]/g,KH=/^\[object .+?Constructor\]$/,XH=Function.prototype,YH=Object.prototype,jH=XH.toString,qH=YH.hasOwnProperty,JH=RegExp("^"+jH.call(qH).replace(zH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZH(t){if(!Jo(t)||UH(t))return!1;var n=uE(t)?JH:KH;return n.test(za(t))}function QH(t,n){return t==null?void 0:t[n]}function Ka(t,n){var o=QH(t,n);return ZH(o)?o:void 0}var wT=Ka(fi,"WeakMap"),_O=Object.create,eV=function(){function t(){}return function(n){if(!Jo(n))return{};if(_O)return _O(n);t.prototype=n;var o=new t;return t.prototype=void 0,o}}();function tV(t,n,o){switch(o.length){case 0:return t.call(n);case 1:return t.call(n,o[0]);case 2:return t.call(n,o[0],o[1]);case 3:return t.call(n,o[0],o[1],o[2])}return t.apply(n,o)}function nV(){}function _L(t,n){var o=-1,i=t.length;for(n||(n=Array(i));++o<i;)n[o]=t[o];return n}var oV=800,sV=16,iV=Date.now;function rV(t){var n=0,o=0;return function(){var i=iV(),l=sV-(i-o);if(o=i,l>0){if(++n>=oV)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function lV(t){return function(){return t}}var Km=function(){try{var t=Ka(Object,"defineProperty");return t({},"",{}),t}catch{}}(),aV=Km?function(t,n){return Km(t,"toString",{configurable:!0,enumerable:!1,value:lV(n),writable:!0})}:aE,bL=rV(aV);function uV(t,n){for(var o=-1,i=t==null?0:t.length;++o<i&&n(t[o],o,t)!==!1;);return t}function TL(t,n,o,i){for(var l=t.length,a=o+(i?1:-1);i?a--:++a<l;)if(n(t[a],a,t))return a;return-1}function cV(t){return t!==t}function dV(t,n,o){for(var i=o-1,l=t.length;++i<l;)if(t[i]===n)return i;return-1}function hV(t,n,o){return n===n?dV(t,n,o):TL(t,cV,o)}function pV(t,n){var o=t==null?0:t.length;return!!o&&hV(t,n,0)>-1}var fV=9007199254740991,mV=/^(?:0|[1-9]\d*)$/;function Ig(t,n){var o=typeof t;return n=n??fV,!!n&&(o=="number"||o!="symbol"&&mV.test(t))&&t>-1&&t%1==0&&t<n}function cE(t,n,o){n=="__proto__"&&Km?Km(t,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[n]=o}function jh(t,n){return t===n||t!==t&&n!==n}var gV=Object.prototype,$V=gV.hasOwnProperty;function dE(t,n,o){var i=t[n];(!($V.call(t,n)&&jh(i,o))||o===void 0&&!(n in t))&&cE(t,n,o)}function xc(t,n,o,i){var l=!o;o||(o={});for(var a=-1,u=n.length;++a<u;){var h=n[a],p=void 0;p===void 0&&(p=t[h]),l?cE(o,h,p):dE(o,h,p)}return o}var bO=Math.max;function yL(t,n,o){return n=bO(n===void 0?t.length-1:n,0),function(){for(var i=arguments,l=-1,a=bO(i.length-n,0),u=Array(a);++l<a;)u[l]=i[n+l];l=-1;for(var h=Array(n+1);++l<n;)h[l]=i[l];return h[n]=o(u),tV(t,this,h)}}function EL(t,n){return bL(yL(t,n,aE),t+"")}var vV=9007199254740991;function hE(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vV}function Bc(t){return t!=null&&hE(t.length)&&!uE(t)}function _V(t,n,o){if(!Jo(o))return!1;var i=typeof n;return(i=="number"?Bc(o)&&Ig(n,o.length):i=="string"&&n in o)?jh(o[n],t):!1}function bV(t){return EL(function(n,o){var i=-1,l=o.length,a=l>1?o[l-1]:void 0,u=l>2?o[2]:void 0;for(a=t.length>3&&typeof a=="function"?(l--,a):void 0,u&&_V(o[0],o[1],u)&&(a=l<3?void 0:a,l=1),n=Object(n);++i<l;){var h=o[i];h&&t(n,h,i,a)}return n})}var TV=Object.prototype;function pE(t){var n=t&&t.constructor,o=typeof n=="function"&&n.prototype||TV;return t===o}function yV(t,n){for(var o=-1,i=Array(t);++o<t;)i[o]=n(o);return i}var EV="[object Arguments]";function TO(t){return Vi(t)&&Wa(t)==EV}var CL=Object.prototype,CV=CL.hasOwnProperty,SV=CL.propertyIsEnumerable,Sh=TO(function(){return arguments}())?TO:function(t){return Vi(t)&&CV.call(t,"callee")&&!SV.call(t,"callee")};function IV(){return!1}var SL=typeof bs=="object"&&bs&&!bs.nodeType&&bs,yO=SL&&typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,wV=yO&&yO.exports===SL,EO=wV?fi.Buffer:void 0,kV=EO?EO.isBuffer:void 0,Ih=kV||IV,OV="[object Arguments]",RV="[object Array]",AV="[object Boolean]",NV="[object Date]",LV="[object Error]",MV="[object Function]",DV="[object Map]",PV="[object Number]",xV="[object Object]",BV="[object RegExp]",FV="[object Set]",HV="[object String]",VV="[object WeakMap]",UV="[object ArrayBuffer]",GV="[object DataView]",WV="[object Float32Array]",zV="[object Float64Array]",KV="[object Int8Array]",XV="[object Int16Array]",YV="[object Int32Array]",jV="[object Uint8Array]",qV="[object Uint8ClampedArray]",JV="[object Uint16Array]",ZV="[object Uint32Array]",Mn={};Mn[WV]=Mn[zV]=Mn[KV]=Mn[XV]=Mn[YV]=Mn[jV]=Mn[qV]=Mn[JV]=Mn[ZV]=!0;Mn[OV]=Mn[RV]=Mn[UV]=Mn[AV]=Mn[GV]=Mn[NV]=Mn[LV]=Mn[MV]=Mn[DV]=Mn[PV]=Mn[xV]=Mn[BV]=Mn[FV]=Mn[HV]=Mn[VV]=!1;function QV(t){return Vi(t)&&hE(t.length)&&!!Mn[Wa(t)]}function fE(t){return function(n){return t(n)}}var IL=typeof bs=="object"&&bs&&!bs.nodeType&&bs,ch=IL&&typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,eU=ch&&ch.exports===IL,Pb=eU&&gL.process,vc=function(){try{var t=ch&&ch.require&&ch.require("util").types;return t||Pb&&Pb.binding&&Pb.binding("util")}catch{}}(),CO=vc&&vc.isTypedArray,mE=CO?fE(CO):QV,tU=Object.prototype,nU=tU.hasOwnProperty;function wL(t,n){var o=qo(t),i=!o&&Sh(t),l=!o&&!i&&Ih(t),a=!o&&!i&&!l&&mE(t),u=o||i||l||a,h=u?yV(t.length,String):[],p=h.length;for(var f in t)(n||nU.call(t,f))&&!(u&&(f=="length"||l&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Ig(f,p)))&&h.push(f);return h}function kL(t,n){return function(o){return t(n(o))}}var oU=kL(Object.keys,Object),sU=Object.prototype,iU=sU.hasOwnProperty;function rU(t){if(!pE(t))return oU(t);var n=[];for(var o in Object(t))iU.call(t,o)&&o!="constructor"&&n.push(o);return n}function qh(t){return Bc(t)?wL(t):rU(t)}function lU(t){var n=[];if(t!=null)for(var o in Object(t))n.push(o);return n}var aU=Object.prototype,uU=aU.hasOwnProperty;function cU(t){if(!Jo(t))return lU(t);var n=pE(t),o=[];for(var i in t)i=="constructor"&&(n||!uU.call(t,i))||o.push(i);return o}function Jh(t){return Bc(t)?wL(t,!0):cU(t)}var dU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hU=/^\w*$/;function gE(t,n){if(qo(t))return!1;var o=typeof t;return o=="number"||o=="symbol"||o=="boolean"||t==null||Sg(t)?!0:hU.test(t)||!dU.test(t)||n!=null&&t in Object(n)}var wh=Ka(Object,"create");function pU(){this.__data__=wh?wh(null):{},this.size=0}function fU(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var mU="__lodash_hash_undefined__",gU=Object.prototype,$U=gU.hasOwnProperty;function vU(t){var n=this.__data__;if(wh){var o=n[t];return o===mU?void 0:o}return $U.call(n,t)?n[t]:void 0}var _U=Object.prototype,bU=_U.hasOwnProperty;function TU(t){var n=this.__data__;return wh?n[t]!==void 0:bU.call(n,t)}var yU="__lodash_hash_undefined__";function EU(t,n){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=wh&&n===void 0?yU:n,this}function Pa(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var i=t[n];this.set(i[0],i[1])}}Pa.prototype.clear=pU;Pa.prototype.delete=fU;Pa.prototype.get=vU;Pa.prototype.has=TU;Pa.prototype.set=EU;function CU(){this.__data__=[],this.size=0}function wg(t,n){for(var o=t.length;o--;)if(jh(t[o][0],n))return o;return-1}var SU=Array.prototype,IU=SU.splice;function wU(t){var n=this.__data__,o=wg(n,t);if(o<0)return!1;var i=n.length-1;return o==i?n.pop():IU.call(n,o,1),--this.size,!0}function kU(t){var n=this.__data__,o=wg(n,t);return o<0?void 0:n[o][1]}function OU(t){return wg(this.__data__,t)>-1}function RU(t,n){var o=this.__data__,i=wg(o,t);return i<0?(++this.size,o.push([t,n])):o[i][1]=n,this}function Ar(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var i=t[n];this.set(i[0],i[1])}}Ar.prototype.clear=CU;Ar.prototype.delete=wU;Ar.prototype.get=kU;Ar.prototype.has=OU;Ar.prototype.set=RU;var kh=Ka(fi,"Map");function AU(){this.size=0,this.__data__={hash:new Pa,map:new(kh||Ar),string:new Pa}}function NU(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function kg(t,n){var o=t.__data__;return NU(n)?o[typeof n=="string"?"string":"hash"]:o.map}function LU(t){var n=kg(this,t).delete(t);return this.size-=n?1:0,n}function MU(t){return kg(this,t).get(t)}function DU(t){return kg(this,t).has(t)}function PU(t,n){var o=kg(this,t),i=o.size;return o.set(t,n),this.size+=o.size==i?0:1,this}function Nr(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var i=t[n];this.set(i[0],i[1])}}Nr.prototype.clear=AU;Nr.prototype.delete=LU;Nr.prototype.get=MU;Nr.prototype.has=DU;Nr.prototype.set=PU;var xU="Expected a function";function Og(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(xU);var o=function(){var i=arguments,l=n?n.apply(this,i):i[0],a=o.cache;if(a.has(l))return a.get(l);var u=t.apply(this,i);return o.cache=a.set(l,u)||a,u};return o.cache=new(Og.Cache||Nr),o}Og.Cache=Nr;var BU=500;function FU(t){var n=Og(t,function(i){return o.size===BU&&o.clear(),i}),o=n.cache;return n}var HU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,VU=/\\(\\)?/g,UU=FU(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(HU,function(o,i,l,a){n.push(l?a.replace(VU,"$1"):i||o)}),n});function GU(t){return t==null?"":vL(t)}function Fc(t,n){return qo(t)?t:gE(t,n)?[t]:UU(GU(t))}var WU=1/0;function Hc(t){if(typeof t=="string"||Sg(t))return t;var n=t+"";return n=="0"&&1/t==-WU?"-0":n}function Rg(t,n){n=Fc(n,t);for(var o=0,i=n.length;t!=null&&o<i;)t=t[Hc(n[o++])];return o&&o==i?t:void 0}function Pn(t,n,o){var i=t==null?void 0:Rg(t,n);return i===void 0?o:i}function $E(t,n){for(var o=-1,i=n.length,l=t.length;++o<i;)t[l+o]=n[o];return t}var SO=Ws?Ws.isConcatSpreadable:void 0;function zU(t){return qo(t)||Sh(t)||!!(SO&&t&&t[SO])}function Zh(t,n,o,i,l){var a=-1,u=t.length;for(o||(o=zU),l||(l=[]);++a<u;){var h=t[a];n>0&&o(h)?n>1?Zh(h,n-1,o,i,l):$E(l,h):i||(l[l.length]=h)}return l}function OL(t){var n=t==null?0:t.length;return n?Zh(t,1):[]}function RL(t){return bL(yL(t,void 0,OL),t+"")}var vE=kL(Object.getPrototypeOf,Object),KU="[object Object]",XU=Function.prototype,YU=Object.prototype,AL=XU.toString,jU=YU.hasOwnProperty,qU=AL.call(Object);function NL(t){if(!Vi(t)||Wa(t)!=KU)return!1;var n=vE(t);if(n===null)return!0;var o=jU.call(n,"constructor")&&n.constructor;return typeof o=="function"&&o instanceof o&&AL.call(o)==qU}function JU(t,n,o){var i=-1,l=t.length;n<0&&(n=-n>l?0:l+n),o=o>l?l:o,o<0&&(o+=l),l=n>o?0:o-n>>>0,n>>>=0;for(var a=Array(l);++i<l;)a[i]=t[i+n];return a}function yl(){if(!arguments.length)return[];var t=arguments[0];return qo(t)?t:[t]}function ZU(){this.__data__=new Ar,this.size=0}function QU(t){var n=this.__data__,o=n.delete(t);return this.size=n.size,o}function eG(t){return this.__data__.get(t)}function tG(t){return this.__data__.has(t)}var nG=200;function oG(t,n){var o=this.__data__;if(o instanceof Ar){var i=o.__data__;if(!kh||i.length<nG-1)return i.push([t,n]),this.size=++o.size,this;o=this.__data__=new Nr(i)}return o.set(t,n),this.size=o.size,this}function di(t){var n=this.__data__=new Ar(t);this.size=n.size}di.prototype.clear=ZU;di.prototype.delete=QU;di.prototype.get=eG;di.prototype.has=tG;di.prototype.set=oG;function sG(t,n){return t&&xc(n,qh(n),t)}function iG(t,n){return t&&xc(n,Jh(n),t)}var LL=typeof bs=="object"&&bs&&!bs.nodeType&&bs,IO=LL&&typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,rG=IO&&IO.exports===LL,wO=rG?fi.Buffer:void 0,kO=wO?wO.allocUnsafe:void 0;function ML(t,n){if(n)return t.slice();var o=t.length,i=kO?kO(o):new t.constructor(o);return t.copy(i),i}function lG(t,n){for(var o=-1,i=t==null?0:t.length,l=0,a=[];++o<i;){var u=t[o];n(u,o,t)&&(a[l++]=u)}return a}function DL(){return[]}var aG=Object.prototype,uG=aG.propertyIsEnumerable,OO=Object.getOwnPropertySymbols,_E=OO?function(t){return t==null?[]:(t=Object(t),lG(OO(t),function(n){return uG.call(t,n)}))}:DL;function cG(t,n){return xc(t,_E(t),n)}var dG=Object.getOwnPropertySymbols,PL=dG?function(t){for(var n=[];t;)$E(n,_E(t)),t=vE(t);return n}:DL;function hG(t,n){return xc(t,PL(t),n)}function xL(t,n,o){var i=n(t);return qo(t)?i:$E(i,o(t))}function kT(t){return xL(t,qh,_E)}function BL(t){return xL(t,Jh,PL)}var OT=Ka(fi,"DataView"),RT=Ka(fi,"Promise"),rc=Ka(fi,"Set"),RO="[object Map]",pG="[object Object]",AO="[object Promise]",NO="[object Set]",LO="[object WeakMap]",MO="[object DataView]",fG=za(OT),mG=za(kh),gG=za(RT),$G=za(rc),vG=za(wT),ai=Wa;(OT&&ai(new OT(new ArrayBuffer(1)))!=MO||kh&&ai(new kh)!=RO||RT&&ai(RT.resolve())!=AO||rc&&ai(new rc)!=NO||wT&&ai(new wT)!=LO)&&(ai=function(t){var n=Wa(t),o=n==pG?t.constructor:void 0,i=o?za(o):"";if(i)switch(i){case fG:return MO;case mG:return RO;case gG:return AO;case $G:return NO;case vG:return LO}return n});var _G=Object.prototype,bG=_G.hasOwnProperty;function TG(t){var n=t.length,o=new t.constructor(n);return n&&typeof t[0]=="string"&&bG.call(t,"index")&&(o.index=t.index,o.input=t.input),o}var Xm=fi.Uint8Array;function bE(t){var n=new t.constructor(t.byteLength);return new Xm(n).set(new Xm(t)),n}function yG(t,n){var o=n?bE(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}var EG=/\w*$/;function CG(t){var n=new t.constructor(t.source,EG.exec(t));return n.lastIndex=t.lastIndex,n}var DO=Ws?Ws.prototype:void 0,PO=DO?DO.valueOf:void 0;function SG(t){return PO?Object(PO.call(t)):{}}function FL(t,n){var o=n?bE(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}var IG="[object Boolean]",wG="[object Date]",kG="[object Map]",OG="[object Number]",RG="[object RegExp]",AG="[object Set]",NG="[object String]",LG="[object Symbol]",MG="[object ArrayBuffer]",DG="[object DataView]",PG="[object Float32Array]",xG="[object Float64Array]",BG="[object Int8Array]",FG="[object Int16Array]",HG="[object Int32Array]",VG="[object Uint8Array]",UG="[object Uint8ClampedArray]",GG="[object Uint16Array]",WG="[object Uint32Array]";function zG(t,n,o){var i=t.constructor;switch(n){case MG:return bE(t);case IG:case wG:return new i(+t);case DG:return yG(t,o);case PG:case xG:case BG:case FG:case HG:case VG:case UG:case GG:case WG:return FL(t,o);case kG:return new i;case OG:case NG:return new i(t);case RG:return CG(t);case AG:return new i;case LG:return SG(t)}}function HL(t){return typeof t.constructor=="function"&&!pE(t)?eV(vE(t)):{}}var KG="[object Map]";function XG(t){return Vi(t)&&ai(t)==KG}var xO=vc&&vc.isMap,YG=xO?fE(xO):XG,jG="[object Set]";function qG(t){return Vi(t)&&ai(t)==jG}var BO=vc&&vc.isSet,JG=BO?fE(BO):qG,ZG=1,QG=2,e3=4,VL="[object Arguments]",t3="[object Array]",n3="[object Boolean]",o3="[object Date]",s3="[object Error]",UL="[object Function]",i3="[object GeneratorFunction]",r3="[object Map]",l3="[object Number]",GL="[object Object]",a3="[object RegExp]",u3="[object Set]",c3="[object String]",d3="[object Symbol]",h3="[object WeakMap]",p3="[object ArrayBuffer]",f3="[object DataView]",m3="[object Float32Array]",g3="[object Float64Array]",$3="[object Int8Array]",v3="[object Int16Array]",_3="[object Int32Array]",b3="[object Uint8Array]",T3="[object Uint8ClampedArray]",y3="[object Uint16Array]",E3="[object Uint32Array]",An={};An[VL]=An[t3]=An[p3]=An[f3]=An[n3]=An[o3]=An[m3]=An[g3]=An[$3]=An[v3]=An[_3]=An[r3]=An[l3]=An[GL]=An[a3]=An[u3]=An[c3]=An[d3]=An[b3]=An[T3]=An[y3]=An[E3]=!0;An[s3]=An[UL]=An[h3]=!1;function lc(t,n,o,i,l,a){var u,h=n&ZG,p=n&QG,f=n&e3;if(o&&(u=l?o(t,i,l,a):o(t)),u!==void 0)return u;if(!Jo(t))return t;var g=qo(t);if(g){if(u=TG(t),!h)return _L(t,u)}else{var m=ai(t),_=m==UL||m==i3;if(Ih(t))return ML(t,h);if(m==GL||m==VL||_&&!l){if(u=p||_?{}:HL(t),!h)return p?hG(t,iG(u,t)):cG(t,sG(u,t))}else{if(!An[m])return l?t:{};u=zG(t,m,h)}}a||(a=new di);var b=a.get(t);if(b)return b;a.set(t,u),JG(t)?t.forEach(function(E){u.add(lc(E,n,o,E,t,a))}):YG(t)&&t.forEach(function(E,y){u.set(y,lc(E,n,o,y,t,a))});var T=f?p?BL:kT:p?Jh:qh,$=g?void 0:T(t);return uV($||t,function(E,y){$&&(y=E,E=t[y]),dE(u,y,lc(E,n,o,y,t,a))}),u}var C3=4;function FO(t){return lc(t,C3)}var S3=1,I3=4;function Ym(t){return lc(t,S3|I3)}var w3="__lodash_hash_undefined__";function k3(t){return this.__data__.set(t,w3),this}function O3(t){return this.__data__.has(t)}function Oh(t){var n=-1,o=t==null?0:t.length;for(this.__data__=new Nr;++n<o;)this.add(t[n])}Oh.prototype.add=Oh.prototype.push=k3;Oh.prototype.has=O3;function R3(t,n){for(var o=-1,i=t==null?0:t.length;++o<i;)if(n(t[o],o,t))return!0;return!1}function WL(t,n){return t.has(n)}var A3=1,N3=2;function zL(t,n,o,i,l,a){var u=o&A3,h=t.length,p=n.length;if(h!=p&&!(u&&p>h))return!1;var f=a.get(t),g=a.get(n);if(f&&g)return f==n&&g==t;var m=-1,_=!0,b=o&N3?new Oh:void 0;for(a.set(t,n),a.set(n,t);++m<h;){var T=t[m],$=n[m];if(i)var E=u?i($,T,m,n,t,a):i(T,$,m,t,n,a);if(E!==void 0){if(E)continue;_=!1;break}if(b){if(!R3(n,function(y,I){if(!WL(b,I)&&(T===y||l(T,y,o,i,a)))return b.push(I)})){_=!1;break}}else if(!(T===$||l(T,$,o,i,a))){_=!1;break}}return a.delete(t),a.delete(n),_}function L3(t){var n=-1,o=Array(t.size);return t.forEach(function(i,l){o[++n]=[l,i]}),o}function TE(t){var n=-1,o=Array(t.size);return t.forEach(function(i){o[++n]=i}),o}var M3=1,D3=2,P3="[object Boolean]",x3="[object Date]",B3="[object Error]",F3="[object Map]",H3="[object Number]",V3="[object RegExp]",U3="[object Set]",G3="[object String]",W3="[object Symbol]",z3="[object ArrayBuffer]",K3="[object DataView]",HO=Ws?Ws.prototype:void 0,xb=HO?HO.valueOf:void 0;function X3(t,n,o,i,l,a,u){switch(o){case K3:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case z3:return!(t.byteLength!=n.byteLength||!a(new Xm(t),new Xm(n)));case P3:case x3:case H3:return jh(+t,+n);case B3:return t.name==n.name&&t.message==n.message;case V3:case G3:return t==n+"";case F3:var h=L3;case U3:var p=i&M3;if(h||(h=TE),t.size!=n.size&&!p)return!1;var f=u.get(t);if(f)return f==n;i|=D3,u.set(t,n);var g=zL(h(t),h(n),i,l,a,u);return u.delete(t),g;case W3:if(xb)return xb.call(t)==xb.call(n)}return!1}var Y3=1,j3=Object.prototype,q3=j3.hasOwnProperty;function J3(t,n,o,i,l,a){var u=o&Y3,h=kT(t),p=h.length,f=kT(n),g=f.length;if(p!=g&&!u)return!1;for(var m=p;m--;){var _=h[m];if(!(u?_ in n:q3.call(n,_)))return!1}var b=a.get(t),T=a.get(n);if(b&&T)return b==n&&T==t;var $=!0;a.set(t,n),a.set(n,t);for(var E=u;++m<p;){_=h[m];var y=t[_],I=n[_];if(i)var C=u?i(I,y,_,n,t,a):i(y,I,_,t,n,a);if(!(C===void 0?y===I||l(y,I,o,i,a):C)){$=!1;break}E||(E=_=="constructor")}if($&&!E){var S=t.constructor,R=n.constructor;S!=R&&"constructor"in t&&"constructor"in n&&!(typeof S=="function"&&S instanceof S&&typeof R=="function"&&R instanceof R)&&($=!1)}return a.delete(t),a.delete(n),$}var Z3=1,VO="[object Arguments]",UO="[object Array]",Wf="[object Object]",Q3=Object.prototype,GO=Q3.hasOwnProperty;function eW(t,n,o,i,l,a){var u=qo(t),h=qo(n),p=u?UO:ai(t),f=h?UO:ai(n);p=p==VO?Wf:p,f=f==VO?Wf:f;var g=p==Wf,m=f==Wf,_=p==f;if(_&&Ih(t)){if(!Ih(n))return!1;u=!0,g=!1}if(_&&!g)return a||(a=new di),u||mE(t)?zL(t,n,o,i,l,a):X3(t,n,p,o,i,l,a);if(!(o&Z3)){var b=g&&GO.call(t,"__wrapped__"),T=m&&GO.call(n,"__wrapped__");if(b||T){var $=b?t.value():t,E=T?n.value():n;return a||(a=new di),l($,E,o,i,a)}}return _?(a||(a=new di),J3(t,n,o,i,l,a)):!1}function Ag(t,n,o,i,l){return t===n?!0:t==null||n==null||!Vi(t)&&!Vi(n)?t!==t&&n!==n:eW(t,n,o,i,Ag,l)}var tW=1,nW=2;function oW(t,n,o,i){var l=o.length,a=l;if(t==null)return!a;for(t=Object(t);l--;){var u=o[l];if(u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++l<a;){u=o[l];var h=u[0],p=t[h],f=u[1];if(u[2]){if(p===void 0&&!(h in t))return!1}else{var g=new di,m;if(!(m===void 0?Ag(f,p,tW|nW,i,g):m))return!1}}return!0}function KL(t){return t===t&&!Jo(t)}function sW(t){for(var n=qh(t),o=n.length;o--;){var i=n[o],l=t[i];n[o]=[i,l,KL(l)]}return n}function XL(t,n){return function(o){return o==null?!1:o[t]===n&&(n!==void 0||t in Object(o))}}function iW(t){var n=sW(t);return n.length==1&&n[0][2]?XL(n[0][0],n[0][1]):function(o){return o===t||oW(o,t,n)}}function rW(t,n){return t!=null&&n in Object(t)}function lW(t,n,o){n=Fc(n,t);for(var i=-1,l=n.length,a=!1;++i<l;){var u=Hc(n[i]);if(!(a=t!=null&&o(t,u)))break;t=t[u]}return a||++i!=l?a:(l=t==null?0:t.length,!!l&&hE(l)&&Ig(u,l)&&(qo(t)||Sh(t)))}function YL(t,n){return t!=null&&lW(t,n,rW)}var aW=1,uW=2;function cW(t,n){return gE(t)&&KL(n)?XL(Hc(t),n):function(o){var i=Pn(o,t);return i===void 0&&i===n?YL(o,t):Ag(n,i,aW|uW)}}function dW(t){return function(n){return n==null?void 0:n[t]}}function hW(t){return function(n){return Rg(n,t)}}function pW(t){return gE(t)?dW(Hc(t)):hW(t)}function jL(t){return typeof t=="function"?t:t==null?aE:typeof t=="object"?qo(t)?cW(t[0],t[1]):iW(t):pW(t)}function fW(t){return function(n,o,i){for(var l=-1,a=Object(n),u=i(n),h=u.length;h--;){var p=u[++l];if(o(a[p],p,a)===!1)break}return n}}var qL=fW();function mW(t,n){return t&&qL(t,n,qh)}function gW(t,n){return function(o,i){if(o==null)return o;if(!Bc(o))return t(o,i);for(var l=o.length,a=-1,u=Object(o);++a<l&&i(u[a],a,u)!==!1;);return o}}var $W=gW(mW),Bb=function(){return fi.Date.now()},vW="Expected a function",_W=Math.max,bW=Math.min;function as(t,n,o){var i,l,a,u,h,p,f=0,g=!1,m=!1,_=!0;if(typeof t!="function")throw new TypeError(vW);n=$O(n)||0,Jo(o)&&(g=!!o.leading,m="maxWait"in o,a=m?_W($O(o.maxWait)||0,n):a,_="trailing"in o?!!o.trailing:_);function b(O){var P=i,M=l;return i=l=void 0,f=O,u=t.apply(M,P),u}function T(O){return f=O,h=setTimeout(y,n),g?b(O):u}function $(O){var P=O-p,M=O-f,H=n-P;return m?bW(H,a-M):H}function E(O){var P=O-p,M=O-f;return p===void 0||P>=n||P<0||m&&M>=a}function y(){var O=Bb();if(E(O))return I(O);h=setTimeout(y,$(O))}function I(O){return h=void 0,_&&i?b(O):(i=l=void 0,u)}function C(){h!==void 0&&clearTimeout(h),f=0,i=p=l=h=void 0}function S(){return h===void 0?u:I(Bb())}function R(){var O=Bb(),P=E(O);if(i=arguments,l=this,p=O,P){if(h===void 0)return T(p);if(m)return clearTimeout(h),h=setTimeout(y,n),b(p)}return h===void 0&&(h=setTimeout(y,n)),u}return R.cancel=C,R.flush=S,R}function AT(t,n,o){(o!==void 0&&!jh(t[n],o)||o===void 0&&!(n in t))&&cE(t,n,o)}function JL(t){return Vi(t)&&Bc(t)}function NT(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}function TW(t){return xc(t,Jh(t))}function yW(t,n,o,i,l,a,u){var h=NT(t,o),p=NT(n,o),f=u.get(p);if(f){AT(t,o,f);return}var g=a?a(h,p,o+"",t,n,u):void 0,m=g===void 0;if(m){var _=qo(p),b=!_&&Ih(p),T=!_&&!b&&mE(p);g=p,_||b||T?qo(h)?g=h:JL(h)?g=_L(h):b?(m=!1,g=ML(p,!0)):T?(m=!1,g=FL(p,!0)):g=[]:NL(p)||Sh(p)?(g=h,Sh(h)?g=TW(h):(!Jo(h)||uE(h))&&(g=HL(p))):m=!1}m&&(u.set(p,g),l(g,p,i,a,u),u.delete(p)),AT(t,o,g)}function ZL(t,n,o,i,l){t!==n&&qL(n,function(a,u){if(l||(l=new di),Jo(a))yW(t,n,u,o,ZL,i,l);else{var h=i?i(NT(t,u),a,u+"",t,n,l):void 0;h===void 0&&(h=a),AT(t,u,h)}},Jh)}function EW(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}function QL(t,n,o){var i=t==null?0:t.length;if(!i)return-1;var l=i-1;return TL(t,jL(n),l,!0)}function CW(t,n){var o=-1,i=Bc(t)?Array(t.length):[];return $W(t,function(l,a,u){i[++o]=n(l,a,u)}),i}function SW(t,n){var o=qo(t)?lE:CW;return o(t,jL(n))}function IW(t,n){return Zh(SW(t,n),1)}var wW=1/0;function kW(t){var n=t==null?0:t.length;return n?Zh(t,wW):[]}function jm(t){for(var n=-1,o=t==null?0:t.length,i={};++n<o;){var l=t[n];i[l[0]]=l[1]}return i}function OW(t,n){return n.length<2?t:Rg(t,JU(n,0,-1))}function Do(t,n){return Ag(t,n)}function io(t){return t==null}function eM(t){return t===void 0}var RW=bV(function(t,n,o){ZL(t,n,o)});function AW(t,n){return n=Fc(n,t),t=OW(t,n),t==null||delete t[Hc(EW(n))]}function NW(t){return NL(t)?void 0:t}var LW=1,MW=2,DW=4,PW=RL(function(t,n){var o={};if(t==null)return o;var i=!1;n=lE(n,function(a){return a=Fc(a,t),i||(i=a.length>1),a}),xc(t,BL(t),o),i&&(o=lc(o,LW|MW|DW,NW));for(var l=n.length;l--;)AW(o,n[l]);return o});function tM(t,n,o,i){if(!Jo(t))return t;n=Fc(n,t);for(var l=-1,a=n.length,u=a-1,h=t;h!=null&&++l<a;){var p=Hc(n[l]),f=o;if(p==="__proto__"||p==="constructor"||p==="prototype")return t;if(l!=u){var g=h[p];f=void 0,f===void 0&&(f=Jo(g)?g:Ig(n[l+1])?[]:{})}dE(h,p,f),h=h[p]}return t}function xW(t,n,o){for(var i=-1,l=n.length,a={};++i<l;){var u=n[i],h=Rg(t,u);o(h,u)&&tM(a,Fc(u,t),h)}return a}function BW(t,n){return xW(t,n,function(o,i){return YL(t,i)})}var xi=RL(function(t,n){return t==null?{}:BW(t,n)});function FW(t,n,o){return t==null?t:tM(t,n,o)}var HW="Expected a function";function Ra(t,n,o){var i=!0,l=!0;if(typeof t!="function")throw new TypeError(HW);return Jo(o)&&(i="leading"in o?!!o.leading:i,l="trailing"in o?!!o.trailing:l),as(t,n,{leading:i,maxWait:n,trailing:l})}var VW=1/0,UW=rc&&1/TE(new rc([,-0]))[1]==VW?function(t){return new rc(t)}:nV,GW=200;function WW(t,n,o){var i=-1,l=pV,a=t.length,u=!0,h=[],p=h;if(a>=GW){var f=UW(t);if(f)return TE(f);u=!1,l=WL,p=new Oh}else p=h;e:for(;++i<a;){var g=t[i],m=g;if(g=g!==0?g:0,u&&m===m){for(var _=p.length;_--;)if(p[_]===m)continue e;h.push(g)}else l(p,m,o)||(p!==h&&p.push(m),h.push(g))}return h}var Fb=EL(function(t){return WW(Zh(t,1,JL,!0))});const Fn=t=>t===void 0,Hn=t=>typeof t=="boolean",$t=t=>typeof t=="number",xs=t=>!t&&t!==0||tt(t)&&t.length===0||xt(t)&&!Object.keys(t).length,zs=t=>typeof Element>"u"?!1:t instanceof Element,xa=t=>io(t),zW=t=>yt(t)?!Number.isNaN(Number(t)):!1,Ng=t=>t===window,El=t=>Kt?window.requestAnimationFrame(t):setTimeout(t,16),Ba=t=>Kt?window.cancelAnimationFrame(t):clearTimeout(t),yE=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Pi=t=>Kh(t),_c=t=>Object.keys(t),KW=t=>Object.entries(t),fm=(t,n,o)=>({get value(){return Pn(t,n,o)},set value(i){FW(t,n,i)}});class XW extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function jn(t,n){throw new XW(`[${t}] ${n}`)}const nM=(t="")=>t.split(" ").filter(n=>!!n.trim()),Vs=(t,n)=>{if(!t||!n)return!1;if(n.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(n)},Bs=(t,n)=>{!t||!n.trim()||t.classList.add(...nM(n))},Po=(t,n)=>{!t||!n.trim()||t.classList.remove(...nM(n))},hl=(t,n)=>{var o;if(!Kt||!t||!n)return"";let i=Gs(n);i==="float"&&(i="cssFloat");try{const l=t.style[i];if(l)return l;const a=(o=document.defaultView)==null?void 0:o.getComputedStyle(t,"");return a?a[i]:""}catch{return t.style[i]}};function Ln(t,n="px"){if(!t)return"";if($t(t)||zW(t))return`${t}${n}`;if(yt(t))return t}const YW=(t,n)=>{if(!Kt)return!1;const o={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(n)],i=hl(t,o);return["scroll","auto","overlay"].some(l=>i.includes(l))},EE=(t,n)=>{if(!Kt)return;let o=t;for(;o;){if([window,document,document.documentElement].includes(o))return window;if(YW(o,n))return o;o=o.parentNode}return o};let zf;const oM=t=>{var n;if(!Kt)return 0;if(zf!==void 0)return zf;const o=document.createElement("div");o.className=`${t}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const i=o.offsetWidth;o.style.overflow="scroll";const l=document.createElement("div");l.style.width="100%",o.appendChild(l);const a=l.offsetWidth;return(n=o.parentNode)==null||n.removeChild(o),zf=i-a,zf};function sM(t,n){if(!Kt)return;if(!n){t.scrollTop=0;return}const o=[];let i=n.offsetParent;for(;i!==null&&t!==i&&t.contains(i);)o.push(i),i=i.offsetParent;const l=n.offsetTop+o.reduce((p,f)=>p+f.offsetTop,0),a=l+n.offsetHeight,u=t.scrollTop,h=u+t.clientHeight;l<u?t.scrollTop=l:a>h&&(t.scrollTop=a-t.clientHeight)}function jW(t,n,o,i,l){const a=Date.now();let u;const h=()=>{const f=Date.now()-a,g=vH(f>i?i:f,n,o,i);Ng(t)?t.scrollTo(window.pageXOffset,g):t.scrollTop=g,f<i?u=El(h):typeof l=="function"&&l()};return h(),()=>{u&&Ba(u)}}const WO=(t,n)=>Ng(n)?t.ownerDocument.documentElement:n,zO=t=>Ng(t)?window.scrollY:t.scrollTop,Kf=t=>{if(!Kt||t==="")return null;if(yt(t))try{return document.querySelector(t)}catch{return null}return t};/*! Element Plus Icons Vue v2.3.1 */var qW=ne({name:"ArrowDown",__name:"arrow-down",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Lr=qW,JW=ne({name:"ArrowLeft",__name:"arrow-left",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Cl=JW,ZW=ne({name:"ArrowRight",__name:"arrow-right",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Xo=ZW,QW=ne({name:"ArrowUp",__name:"arrow-up",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),CE=QW,e4=ne({name:"Back",__name:"back",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Q("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),t4=e4,n4=ne({name:"Calendar",__name:"calendar",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),o4=n4,s4=ne({name:"CaretRight",__name:"caret-right",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),SE=s4,i4=ne({name:"CaretTop",__name:"caret-top",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),r4=i4,l4=ne({name:"Check",__name:"check",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),Qh=l4,a4=ne({name:"Checked",__name:"checked",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160.064v64H704zM311.616 537.28l-45.312 45.248L447.36 763.52l316.8-316.8-45.312-45.184L447.36 673.024zM384 192V96h256v96z"})]))}}),u4=a4,c4=ne({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),d4=c4,h4=ne({name:"CircleCheck",__name:"circle-check",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Q("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),IE=h4,p4=ne({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),wE=p4,f4=ne({name:"CircleClose",__name:"circle-close",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Q("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Nl=f4,m4=ne({name:"Clock",__name:"clock",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Q("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Q("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),iM=m4,g4=ne({name:"Close",__name:"close",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),hi=g4,$4=ne({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),bc=$4,v4=ne({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Tc=v4,_4=ne({name:"Delete",__name:"delete",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),b4=_4,T4=ne({name:"Document",__name:"document",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),y4=T4,E4=ne({name:"FullScreen",__name:"full-screen",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),C4=E4,S4=ne({name:"Hide",__name:"hide",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Q("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),I4=S4,w4=ne({name:"InfoFilled",__name:"info-filled",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),kE=w4,k4=ne({name:"Loading",__name:"loading",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Ll=k4,O4=ne({name:"Minus",__name:"minus",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),R4=O4,A4=ne({name:"MoreFilled",__name:"more-filled",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),KO=A4,N4=ne({name:"More",__name:"more",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),L4=N4,M4=ne({name:"PictureFilled",__name:"picture-filled",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),D4=M4,P4=ne({name:"Plus",__name:"plus",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),rM=P4,x4=ne({name:"QuestionFilled",__name:"question-filled",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),B4=x4,F4=ne({name:"RefreshLeft",__name:"refresh-left",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),H4=F4,V4=ne({name:"RefreshRight",__name:"refresh-right",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),U4=V4,G4=ne({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),W4=G4,z4=ne({name:"Search",__name:"search",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),lM=z4,K4=ne({name:"SortDown",__name:"sort-down",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),X4=K4,Y4=ne({name:"SortUp",__name:"sort-up",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),j4=Y4,q4=ne({name:"StarFilled",__name:"star-filled",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),Xf=q4,J4=ne({name:"Star",__name:"star",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),Z4=J4,Q4=ne({name:"SuccessFilled",__name:"success-filled",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),aM=Q4,ez=ne({name:"View",__name:"view",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),tz=ez,nz=ne({name:"WarningFilled",__name:"warning-filled",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),Lg=nz,oz=ne({name:"ZoomIn",__name:"zoom-in",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),uM=oz,sz=ne({name:"ZoomOut",__name:"zoom-out",setup(t){return(n,o)=>(N(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),iz=sz;const cM="__epPropKey",fe=t=>t,rz=t=>xt(t)&&!!t[cM],mi=(t,n)=>{if(!xt(t)||rz(t))return t;const{values:o,required:i,default:l,type:a,validator:u}=t,p={type:a,required:!!i,validator:o||u?f=>{let g=!1,m=[];if(o&&(m=Array.from(o),Xt(t,"default")&&m.push(l),g||(g=m.includes(f))),u&&(g||(g=u(f))),!g&&m.length>0){const _=[...new Set(m)].map(b=>JSON.stringify(b)).join(", ");tF(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${_}], got value ${JSON.stringify(f)}.`)}return g}:void 0,[cM]:!0};return Xt(t,"default")&&(p.default=l),p},Ue=t=>jm(Object.entries(t).map(([n,o])=>[n,mi(o,n)])),ln=fe([String,Object,Function]),OE={Close:hi},RE={Close:hi,SuccessFilled:aM,InfoFilled:kE,WarningFilled:Lg,CircleCloseFilled:wE},Sl={success:aM,warning:Lg,error:wE,info:kE},AE={validating:Ll,success:IE,error:Nl},Dt=(t,n)=>{if(t.install=o=>{for(const i of[t,...Object.values(n??{})])o.component(i.name,i)},n)for(const[o,i]of Object.entries(n))t[o]=i;return t},dM=(t,n)=>(t.install=o=>{t._context=o._context,o.config.globalProperties[n]=t},t),lz=(t,n)=>(t.install=o=>{o.directive(n,t)},t),kn=t=>(t.install=nn,t),Mg=(...t)=>n=>{t.forEach(o=>{_t(o)?o(n):o.value=n})},mt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},az=["year","years","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Hb=["sun","mon","tue","wed","thu","fri","sat"],Bt="update:modelValue",$n="change",Yo="input",XO=Symbol("INSTALLED_KEY"),Ki=["","default","small","large"],hM=t=>["",...Ki].includes(t);var Ds=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Ds||{});function LT(t){return Cn(t)&&t.type===dt}function uz(t){return Cn(t)&&t.type===bo}function cz(t){return Cn(t)&&!LT(t)&&!uz(t)}const dz=t=>{if(!Cn(t))return{};const n=t.props||{},o=(Cn(t.type)?t.type.props:void 0)||{},i={};return Object.keys(o).forEach(l=>{Xt(o[l],"default")&&(i[l]=o[l].default)}),Object.keys(n).forEach(l=>{i[Gs(l)]=n[l]}),i},hz=t=>{if(!tt(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},$l=t=>{const n=tt(t)?t:[t],o=[];return n.forEach(i=>{var l;tt(i)?o.push(...$l(i)):Cn(i)&&tt(i.children)?o.push(...$l(i.children)):(o.push(i),Cn(i)&&((l=i.component)!=null&&l.subTree)&&o.push(...$l(i.component.subTree)))}),o},YO=t=>[...new Set(t)],vs=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],NE=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),wn=t=>t;function pz(t){let n=0;const o=(...i)=>{n&&Ba(n),n=El(()=>{t(...i),n=0})};return o.cancel=()=>{Ba(n),n=0},o}const fz=["class","style"],mz=/^on[A-Z]/,LE=(t={})=>{const{excludeListeners:n=!1,excludeKeys:o}=t,i=w(()=>((o==null?void 0:o.value)||[]).concat(fz)),l=Mt();return w(l?()=>{var a;return jm(Object.entries((a=l.proxy)==null?void 0:a.$attrs).filter(([u])=>!i.value.includes(u)&&!(n&&mz.test(u))))}:()=>({}))},Qn=({from:t,replacement:n,scope:o,version:i,ref:l,type:a="API"},u)=>{Me(()=>c(u),h=>{},{immediate:!0})},pM=(t,n,o,i)=>{let l={offsetX:0,offsetY:0};const a=p=>{const f=p.clientX,g=p.clientY,{offsetX:m,offsetY:_}=l,b=t.value.getBoundingClientRect(),T=b.left,$=b.top,E=b.width,y=b.height,I=document.documentElement.clientWidth,C=document.documentElement.clientHeight,S=-T+m,R=-$+_,O=I-T-E+m,P=C-$-y+_,M=F=>{let B=m+F.clientX-f,K=_+F.clientY-g;i!=null&&i.value||(B=Math.min(Math.max(B,S),O),K=Math.min(Math.max(K,R),P)),l={offsetX:B,offsetY:K},t.value&&(t.value.style.transform=`translate(${Ln(B)}, ${Ln(K)})`)},H=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",H)},u=()=>{n.value&&t.value&&n.value.addEventListener("mousedown",a)},h=()=>{n.value&&t.value&&n.value.removeEventListener("mousedown",a)};At(()=>{Eo(()=>{o.value?u():h()})}),fn(()=>{h()})};var gz={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const $z=t=>(n,o)=>vz(n,o,c(t)),vz=(t,n,o)=>Pn(o,t,t).replace(/\{(\w+)\}/g,(i,l)=>{var a;return`${(a=n==null?void 0:n[l])!=null?a:`{${l}}`}`}),_z=t=>{const n=w(()=>c(t).name),o=bn(t)?t:V(t);return{lang:n,locale:o,t:$z(t)}},fM=Symbol("localeContextKey"),Yt=t=>{const n=t||it(fM,V());return _z(w(()=>n.value||gz))},dh="el",bz="is-",ga=(t,n,o,i,l)=>{let a=`${t}-${n}`;return o&&(a+=`-${o}`),i&&(a+=`__${i}`),l&&(a+=`--${l}`),a},mM=Symbol("namespaceContextKey"),ME=t=>{const n=t||(Mt()?it(mM,V(dh)):V(dh));return w(()=>c(n)||dh)},xe=(t,n)=>{const o=ME(n);return{namespace:o,b:($="")=>ga(o.value,t,$,"",""),e:$=>$?ga(o.value,t,"",$,""):"",m:$=>$?ga(o.value,t,"","",$):"",be:($,E)=>$&&E?ga(o.value,t,$,E,""):"",em:($,E)=>$&&E?ga(o.value,t,"",$,E):"",bm:($,E)=>$&&E?ga(o.value,t,$,"",E):"",bem:($,E,y)=>$&&E&&y?ga(o.value,t,$,E,y):"",is:($,...E)=>{const y=E.length>=1?E[0]:!0;return $&&y?`${bz}${$}`:""},cssVar:$=>{const E={};for(const y in $)$[y]&&(E[`--${o.value}-${y}`]=$[y]);return E},cssVarName:$=>`--${o.value}-${$}`,cssVarBlock:$=>{const E={};for(const y in $)$[y]&&(E[`--${o.value}-${t}-${y}`]=$[y]);return E},cssVarBlockName:$=>`--${o.value}-${t}-${$}`}},DE=(t,n={})=>{bn(t)||jn("[useLockscreen]","You need to pass a ref param to this function");const o=n.ns||xe("popup"),i=w(()=>o.bm("parent","hidden"));if(!Kt||Vs(document.body,i.value))return;let l=0,a=!1,u="0";const h=()=>{setTimeout(()=>{Po(document==null?void 0:document.body,i.value),a&&document&&(document.body.style.width=u)},200)};Me(t,p=>{if(!p){h();return}a=!Vs(document.body,i.value),a&&(u=document.body.style.width),l=oM(o.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,g=hl(document.body,"overflowY");l>0&&(f||g==="scroll")&&a&&(document.body.style.width=`calc(100% - ${l}px)`),Bs(document.body,i.value)}),qA(()=>h())},Tz=mi({type:fe(Boolean),default:null}),yz=mi({type:fe(Function)}),gM=t=>{const n=`update:${t}`,o=`onUpdate:${t}`,i=[n],l={[t]:Tz,[o]:yz};return{useModelToggle:({indicator:u,toggleReason:h,shouldHideWhenRouteChanges:p,shouldProceed:f,onShow:g,onHide:m})=>{const _=Mt(),{emit:b}=_,T=_.props,$=w(()=>_t(T[o])),E=w(()=>T[t]===null),y=P=>{u.value!==!0&&(u.value=!0,h&&(h.value=P),_t(g)&&g(P))},I=P=>{u.value!==!1&&(u.value=!1,h&&(h.value=P),_t(m)&&m(P))},C=P=>{if(T.disabled===!0||_t(f)&&!f())return;const M=$.value&&Kt;M&&b(n,!0),(E.value||!M)&&y(P)},S=P=>{if(T.disabled===!0||!Kt)return;const M=$.value&&Kt;M&&b(n,!1),(E.value||!M)&&I(P)},R=P=>{Hn(P)&&(T.disabled&&P?$.value&&b(n,!1):u.value!==P&&(P?y():I()))},O=()=>{u.value?S():C()};return Me(()=>T[t],R),p&&_.appContext.config.globalProperties.$route!==void 0&&Me(()=>({..._.proxy.$route}),()=>{p.value&&u.value&&S()}),At(()=>{R(T[t])}),{hide:S,show:C,toggle:O,hasUpdateHandler:$}},useModelToggleProps:l,useModelToggleEmits:i}};gM("modelValue");const $M=t=>{const n=Mt();return w(()=>{var o,i;return(i=(o=n==null?void 0:n.proxy)==null?void 0:o.$props)==null?void 0:i[t]})};var is="top",Ks="bottom",Xs="right",rs="left",PE="auto",ep=[is,Ks,Xs,rs],yc="start",Rh="end",Ez="clippingParents",vM="viewport",Kd="popper",Cz="reference",jO=ep.reduce(function(t,n){return t.concat([n+"-"+yc,n+"-"+Rh])},[]),Xa=[].concat(ep,[PE]).reduce(function(t,n){return t.concat([n,n+"-"+yc,n+"-"+Rh])},[]),Sz="beforeRead",Iz="read",wz="afterRead",kz="beforeMain",Oz="main",Rz="afterMain",Az="beforeWrite",Nz="write",Lz="afterWrite",Mz=[Sz,Iz,wz,kz,Oz,Rz,Az,Nz,Lz];function Ui(t){return t?(t.nodeName||"").toLowerCase():null}function gi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Ec(t){var n=gi(t).Element;return t instanceof n||t instanceof Element}function Us(t){var n=gi(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function xE(t){if(typeof ShadowRoot>"u")return!1;var n=gi(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function Dz(t){var n=t.state;Object.keys(n.elements).forEach(function(o){var i=n.styles[o]||{},l=n.attributes[o]||{},a=n.elements[o];!Us(a)||!Ui(a)||(Object.assign(a.style,i),Object.keys(l).forEach(function(u){var h=l[u];h===!1?a.removeAttribute(u):a.setAttribute(u,h===!0?"":h)}))})}function Pz(t){var n=t.state,o={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,o.popper),n.styles=o,n.elements.arrow&&Object.assign(n.elements.arrow.style,o.arrow),function(){Object.keys(n.elements).forEach(function(i){var l=n.elements[i],a=n.attributes[i]||{},u=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:o[i]),h=u.reduce(function(p,f){return p[f]="",p},{});!Us(l)||!Ui(l)||(Object.assign(l.style,h),Object.keys(a).forEach(function(p){l.removeAttribute(p)}))})}}var _M={name:"applyStyles",enabled:!0,phase:"write",fn:Dz,effect:Pz,requires:["computeStyles"]};function Fi(t){return t.split("-")[0]}var Aa=Math.max,qm=Math.min,Cc=Math.round;function Sc(t,n){n===void 0&&(n=!1);var o=t.getBoundingClientRect(),i=1,l=1;if(Us(t)&&n){var a=t.offsetHeight,u=t.offsetWidth;u>0&&(i=Cc(o.width)/u||1),a>0&&(l=Cc(o.height)/a||1)}return{width:o.width/i,height:o.height/l,top:o.top/l,right:o.right/i,bottom:o.bottom/l,left:o.left/i,x:o.left/i,y:o.top/l}}function BE(t){var n=Sc(t),o=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-o)<=1&&(o=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:o,height:i}}function bM(t,n){var o=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(o&&xE(o)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function wr(t){return gi(t).getComputedStyle(t)}function xz(t){return["table","td","th"].indexOf(Ui(t))>=0}function Ml(t){return((Ec(t)?t.ownerDocument:t.document)||window.document).documentElement}function Dg(t){return Ui(t)==="html"?t:t.assignedSlot||t.parentNode||(xE(t)?t.host:null)||Ml(t)}function qO(t){return!Us(t)||wr(t).position==="fixed"?null:t.offsetParent}function Bz(t){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,o=navigator.userAgent.indexOf("Trident")!==-1;if(o&&Us(t)){var i=wr(t);if(i.position==="fixed")return null}var l=Dg(t);for(xE(l)&&(l=l.host);Us(l)&&["html","body"].indexOf(Ui(l))<0;){var a=wr(l);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||n&&a.willChange==="filter"||n&&a.filter&&a.filter!=="none")return l;l=l.parentNode}return null}function tp(t){for(var n=gi(t),o=qO(t);o&&xz(o)&&wr(o).position==="static";)o=qO(o);return o&&(Ui(o)==="html"||Ui(o)==="body"&&wr(o).position==="static")?n:o||Bz(t)||n}function FE(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function hh(t,n,o){return Aa(t,qm(n,o))}function Fz(t,n,o){var i=hh(t,n,o);return i>o?o:i}function TM(){return{top:0,right:0,bottom:0,left:0}}function yM(t){return Object.assign({},TM(),t)}function EM(t,n){return n.reduce(function(o,i){return o[i]=t,o},{})}var Hz=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,yM(typeof t!="number"?t:EM(t,ep))};function Vz(t){var n,o=t.state,i=t.name,l=t.options,a=o.elements.arrow,u=o.modifiersData.popperOffsets,h=Fi(o.placement),p=FE(h),f=[rs,Xs].indexOf(h)>=0,g=f?"height":"width";if(!(!a||!u)){var m=Hz(l.padding,o),_=BE(a),b=p==="y"?is:rs,T=p==="y"?Ks:Xs,$=o.rects.reference[g]+o.rects.reference[p]-u[p]-o.rects.popper[g],E=u[p]-o.rects.reference[p],y=tp(a),I=y?p==="y"?y.clientHeight||0:y.clientWidth||0:0,C=$/2-E/2,S=m[b],R=I-_[g]-m[T],O=I/2-_[g]/2+C,P=hh(S,O,R),M=p;o.modifiersData[i]=(n={},n[M]=P,n.centerOffset=P-O,n)}}function Uz(t){var n=t.state,o=t.options,i=o.element,l=i===void 0?"[data-popper-arrow]":i;l!=null&&(typeof l=="string"&&(l=n.elements.popper.querySelector(l),!l)||!bM(n.elements.popper,l)||(n.elements.arrow=l))}var Gz={name:"arrow",enabled:!0,phase:"main",fn:Vz,effect:Uz,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ic(t){return t.split("-")[1]}var Wz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zz(t){var n=t.x,o=t.y,i=window,l=i.devicePixelRatio||1;return{x:Cc(n*l)/l||0,y:Cc(o*l)/l||0}}function JO(t){var n,o=t.popper,i=t.popperRect,l=t.placement,a=t.variation,u=t.offsets,h=t.position,p=t.gpuAcceleration,f=t.adaptive,g=t.roundOffsets,m=t.isFixed,_=u.x,b=_===void 0?0:_,T=u.y,$=T===void 0?0:T,E=typeof g=="function"?g({x:b,y:$}):{x:b,y:$};b=E.x,$=E.y;var y=u.hasOwnProperty("x"),I=u.hasOwnProperty("y"),C=rs,S=is,R=window;if(f){var O=tp(o),P="clientHeight",M="clientWidth";if(O===gi(o)&&(O=Ml(o),wr(O).position!=="static"&&h==="absolute"&&(P="scrollHeight",M="scrollWidth")),O=O,l===is||(l===rs||l===Xs)&&a===Rh){S=Ks;var H=m&&O===R&&R.visualViewport?R.visualViewport.height:O[P];$-=H-i.height,$*=p?1:-1}if(l===rs||(l===is||l===Ks)&&a===Rh){C=Xs;var F=m&&O===R&&R.visualViewport?R.visualViewport.width:O[M];b-=F-i.width,b*=p?1:-1}}var B=Object.assign({position:h},f&&Wz),K=g===!0?zz({x:b,y:$}):{x:b,y:$};if(b=K.x,$=K.y,p){var te;return Object.assign({},B,(te={},te[S]=I?"0":"",te[C]=y?"0":"",te.transform=(R.devicePixelRatio||1)<=1?"translate("+b+"px, "+$+"px)":"translate3d("+b+"px, "+$+"px, 0)",te))}return Object.assign({},B,(n={},n[S]=I?$+"px":"",n[C]=y?b+"px":"",n.transform="",n))}function Kz(t){var n=t.state,o=t.options,i=o.gpuAcceleration,l=i===void 0?!0:i,a=o.adaptive,u=a===void 0?!0:a,h=o.roundOffsets,p=h===void 0?!0:h,f={placement:Fi(n.placement),variation:Ic(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:l,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,JO(Object.assign({},f,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:u,roundOffsets:p})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,JO(Object.assign({},f,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var CM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Kz,data:{}},Yf={passive:!0};function Xz(t){var n=t.state,o=t.instance,i=t.options,l=i.scroll,a=l===void 0?!0:l,u=i.resize,h=u===void 0?!0:u,p=gi(n.elements.popper),f=[].concat(n.scrollParents.reference,n.scrollParents.popper);return a&&f.forEach(function(g){g.addEventListener("scroll",o.update,Yf)}),h&&p.addEventListener("resize",o.update,Yf),function(){a&&f.forEach(function(g){g.removeEventListener("scroll",o.update,Yf)}),h&&p.removeEventListener("resize",o.update,Yf)}}var SM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Xz,data:{}},Yz={left:"right",right:"left",bottom:"top",top:"bottom"};function mm(t){return t.replace(/left|right|bottom|top/g,function(n){return Yz[n]})}var jz={start:"end",end:"start"};function ZO(t){return t.replace(/start|end/g,function(n){return jz[n]})}function HE(t){var n=gi(t),o=n.pageXOffset,i=n.pageYOffset;return{scrollLeft:o,scrollTop:i}}function VE(t){return Sc(Ml(t)).left+HE(t).scrollLeft}function qz(t){var n=gi(t),o=Ml(t),i=n.visualViewport,l=o.clientWidth,a=o.clientHeight,u=0,h=0;return i&&(l=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(u=i.offsetLeft,h=i.offsetTop)),{width:l,height:a,x:u+VE(t),y:h}}function Jz(t){var n,o=Ml(t),i=HE(t),l=(n=t.ownerDocument)==null?void 0:n.body,a=Aa(o.scrollWidth,o.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),u=Aa(o.scrollHeight,o.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),h=-i.scrollLeft+VE(t),p=-i.scrollTop;return wr(l||o).direction==="rtl"&&(h+=Aa(o.clientWidth,l?l.clientWidth:0)-a),{width:a,height:u,x:h,y:p}}function UE(t){var n=wr(t),o=n.overflow,i=n.overflowX,l=n.overflowY;return/auto|scroll|overlay|hidden/.test(o+l+i)}function IM(t){return["html","body","#document"].indexOf(Ui(t))>=0?t.ownerDocument.body:Us(t)&&UE(t)?t:IM(Dg(t))}function ph(t,n){var o;n===void 0&&(n=[]);var i=IM(t),l=i===((o=t.ownerDocument)==null?void 0:o.body),a=gi(i),u=l?[a].concat(a.visualViewport||[],UE(i)?i:[]):i,h=n.concat(u);return l?h:h.concat(ph(Dg(u)))}function MT(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Zz(t){var n=Sc(t);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function QO(t,n){return n===vM?MT(qz(t)):Ec(n)?Zz(n):MT(Jz(Ml(t)))}function Qz(t){var n=ph(Dg(t)),o=["absolute","fixed"].indexOf(wr(t).position)>=0,i=o&&Us(t)?tp(t):t;return Ec(i)?n.filter(function(l){return Ec(l)&&bM(l,i)&&Ui(l)!=="body"}):[]}function e8(t,n,o){var i=n==="clippingParents"?Qz(t):[].concat(n),l=[].concat(i,[o]),a=l[0],u=l.reduce(function(h,p){var f=QO(t,p);return h.top=Aa(f.top,h.top),h.right=qm(f.right,h.right),h.bottom=qm(f.bottom,h.bottom),h.left=Aa(f.left,h.left),h},QO(t,a));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function wM(t){var n=t.reference,o=t.element,i=t.placement,l=i?Fi(i):null,a=i?Ic(i):null,u=n.x+n.width/2-o.width/2,h=n.y+n.height/2-o.height/2,p;switch(l){case is:p={x:u,y:n.y-o.height};break;case Ks:p={x:u,y:n.y+n.height};break;case Xs:p={x:n.x+n.width,y:h};break;case rs:p={x:n.x-o.width,y:h};break;default:p={x:n.x,y:n.y}}var f=l?FE(l):null;if(f!=null){var g=f==="y"?"height":"width";switch(a){case yc:p[f]=p[f]-(n[g]/2-o[g]/2);break;case Rh:p[f]=p[f]+(n[g]/2-o[g]/2);break}}return p}function Ah(t,n){n===void 0&&(n={});var o=n,i=o.placement,l=i===void 0?t.placement:i,a=o.boundary,u=a===void 0?Ez:a,h=o.rootBoundary,p=h===void 0?vM:h,f=o.elementContext,g=f===void 0?Kd:f,m=o.altBoundary,_=m===void 0?!1:m,b=o.padding,T=b===void 0?0:b,$=yM(typeof T!="number"?T:EM(T,ep)),E=g===Kd?Cz:Kd,y=t.rects.popper,I=t.elements[_?E:g],C=e8(Ec(I)?I:I.contextElement||Ml(t.elements.popper),u,p),S=Sc(t.elements.reference),R=wM({reference:S,element:y,strategy:"absolute",placement:l}),O=MT(Object.assign({},y,R)),P=g===Kd?O:S,M={top:C.top-P.top+$.top,bottom:P.bottom-C.bottom+$.bottom,left:C.left-P.left+$.left,right:P.right-C.right+$.right},H=t.modifiersData.offset;if(g===Kd&&H){var F=H[l];Object.keys(M).forEach(function(B){var K=[Xs,Ks].indexOf(B)>=0?1:-1,te=[is,Ks].indexOf(B)>=0?"y":"x";M[B]+=F[te]*K})}return M}function t8(t,n){n===void 0&&(n={});var o=n,i=o.placement,l=o.boundary,a=o.rootBoundary,u=o.padding,h=o.flipVariations,p=o.allowedAutoPlacements,f=p===void 0?Xa:p,g=Ic(i),m=g?h?jO:jO.filter(function(T){return Ic(T)===g}):ep,_=m.filter(function(T){return f.indexOf(T)>=0});_.length===0&&(_=m);var b=_.reduce(function(T,$){return T[$]=Ah(t,{placement:$,boundary:l,rootBoundary:a,padding:u})[Fi($)],T},{});return Object.keys(b).sort(function(T,$){return b[T]-b[$]})}function n8(t){if(Fi(t)===PE)return[];var n=mm(t);return[ZO(t),n,ZO(n)]}function o8(t){var n=t.state,o=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var l=o.mainAxis,a=l===void 0?!0:l,u=o.altAxis,h=u===void 0?!0:u,p=o.fallbackPlacements,f=o.padding,g=o.boundary,m=o.rootBoundary,_=o.altBoundary,b=o.flipVariations,T=b===void 0?!0:b,$=o.allowedAutoPlacements,E=n.options.placement,y=Fi(E),I=y===E,C=p||(I||!T?[mm(E)]:n8(E)),S=[E].concat(C).reduce(function(Se,Pe){return Se.concat(Fi(Pe)===PE?t8(n,{placement:Pe,boundary:g,rootBoundary:m,padding:f,flipVariations:T,allowedAutoPlacements:$}):Pe)},[]),R=n.rects.reference,O=n.rects.popper,P=new Map,M=!0,H=S[0],F=0;F<S.length;F++){var B=S[F],K=Fi(B),te=Ic(B)===yc,Z=[is,Ks].indexOf(K)>=0,j=Z?"width":"height",z=Ah(n,{placement:B,boundary:g,rootBoundary:m,altBoundary:_,padding:f}),G=Z?te?Xs:rs:te?Ks:is;R[j]>O[j]&&(G=mm(G));var W=mm(G),D=[];if(a&&D.push(z[K]<=0),h&&D.push(z[G]<=0,z[W]<=0),D.every(function(Se){return Se})){H=B,M=!1;break}P.set(B,D)}if(M)for(var X=T?3:1,oe=function(Se){var Pe=S.find(function(de){var ye=P.get(de);if(ye)return ye.slice(0,Se).every(function(_e){return _e})});if(Pe)return H=Pe,"break"},le=X;le>0;le--){var me=oe(le);if(me==="break")break}n.placement!==H&&(n.modifiersData[i]._skip=!0,n.placement=H,n.reset=!0)}}var s8={name:"flip",enabled:!0,phase:"main",fn:o8,requiresIfExists:["offset"],data:{_skip:!1}};function eR(t,n,o){return o===void 0&&(o={x:0,y:0}),{top:t.top-n.height-o.y,right:t.right-n.width+o.x,bottom:t.bottom-n.height+o.y,left:t.left-n.width-o.x}}function tR(t){return[is,Xs,Ks,rs].some(function(n){return t[n]>=0})}function i8(t){var n=t.state,o=t.name,i=n.rects.reference,l=n.rects.popper,a=n.modifiersData.preventOverflow,u=Ah(n,{elementContext:"reference"}),h=Ah(n,{altBoundary:!0}),p=eR(u,i),f=eR(h,l,a),g=tR(p),m=tR(f);n.modifiersData[o]={referenceClippingOffsets:p,popperEscapeOffsets:f,isReferenceHidden:g,hasPopperEscaped:m},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":m})}var r8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:i8};function l8(t,n,o){var i=Fi(t),l=[rs,is].indexOf(i)>=0?-1:1,a=typeof o=="function"?o(Object.assign({},n,{placement:t})):o,u=a[0],h=a[1];return u=u||0,h=(h||0)*l,[rs,Xs].indexOf(i)>=0?{x:h,y:u}:{x:u,y:h}}function a8(t){var n=t.state,o=t.options,i=t.name,l=o.offset,a=l===void 0?[0,0]:l,u=Xa.reduce(function(g,m){return g[m]=l8(m,n.rects,a),g},{}),h=u[n.placement],p=h.x,f=h.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=p,n.modifiersData.popperOffsets.y+=f),n.modifiersData[i]=u}var u8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:a8};function c8(t){var n=t.state,o=t.name;n.modifiersData[o]=wM({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var kM={name:"popperOffsets",enabled:!0,phase:"read",fn:c8,data:{}};function d8(t){return t==="x"?"y":"x"}function h8(t){var n=t.state,o=t.options,i=t.name,l=o.mainAxis,a=l===void 0?!0:l,u=o.altAxis,h=u===void 0?!1:u,p=o.boundary,f=o.rootBoundary,g=o.altBoundary,m=o.padding,_=o.tether,b=_===void 0?!0:_,T=o.tetherOffset,$=T===void 0?0:T,E=Ah(n,{boundary:p,rootBoundary:f,padding:m,altBoundary:g}),y=Fi(n.placement),I=Ic(n.placement),C=!I,S=FE(y),R=d8(S),O=n.modifiersData.popperOffsets,P=n.rects.reference,M=n.rects.popper,H=typeof $=="function"?$(Object.assign({},n.rects,{placement:n.placement})):$,F=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),B=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,K={x:0,y:0};if(O){if(a){var te,Z=S==="y"?is:rs,j=S==="y"?Ks:Xs,z=S==="y"?"height":"width",G=O[S],W=G+E[Z],D=G-E[j],X=b?-M[z]/2:0,oe=I===yc?P[z]:M[z],le=I===yc?-M[z]:-P[z],me=n.elements.arrow,Se=b&&me?BE(me):{width:0,height:0},Pe=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:TM(),de=Pe[Z],ye=Pe[j],_e=hh(0,P[z],Se[z]),Ke=C?P[z]/2-X-_e-de-F.mainAxis:oe-_e-de-F.mainAxis,ve=C?-P[z]/2+X+_e+ye+F.mainAxis:le+_e+ye+F.mainAxis,Ne=n.elements.arrow&&tp(n.elements.arrow),He=Ne?S==="y"?Ne.clientTop||0:Ne.clientLeft||0:0,ae=(te=B==null?void 0:B[S])!=null?te:0,he=G+Ke-ae-He,Ae=G+ve-ae,Fe=hh(b?qm(W,he):W,G,b?Aa(D,Ae):D);O[S]=Fe,K[S]=Fe-G}if(h){var Ce,De=S==="x"?is:rs,Ve=S==="x"?Ks:Xs,ue=O[R],we=R==="y"?"height":"width",ke=ue+E[De],Ge=ue-E[Ve],ot=[is,rs].indexOf(y)!==-1,q=(Ce=B==null?void 0:B[R])!=null?Ce:0,et=ot?ke:ue-P[we]-M[we]-q+F.altAxis,lt=ot?ue+P[we]+M[we]-q-F.altAxis:Ge,Et=b&&ot?Fz(et,ue,lt):hh(b?et:ke,ue,b?lt:Ge);O[R]=Et,K[R]=Et-ue}n.modifiersData[i]=K}}var p8={name:"preventOverflow",enabled:!0,phase:"main",fn:h8,requiresIfExists:["offset"]};function f8(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function m8(t){return t===gi(t)||!Us(t)?HE(t):f8(t)}function g8(t){var n=t.getBoundingClientRect(),o=Cc(n.width)/t.offsetWidth||1,i=Cc(n.height)/t.offsetHeight||1;return o!==1||i!==1}function $8(t,n,o){o===void 0&&(o=!1);var i=Us(n),l=Us(n)&&g8(n),a=Ml(n),u=Sc(t,l),h={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!o)&&((Ui(n)!=="body"||UE(a))&&(h=m8(n)),Us(n)?(p=Sc(n,!0),p.x+=n.clientLeft,p.y+=n.clientTop):a&&(p.x=VE(a))),{x:u.left+h.scrollLeft-p.x,y:u.top+h.scrollTop-p.y,width:u.width,height:u.height}}function v8(t){var n=new Map,o=new Set,i=[];t.forEach(function(a){n.set(a.name,a)});function l(a){o.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(h){if(!o.has(h)){var p=n.get(h);p&&l(p)}}),i.push(a)}return t.forEach(function(a){o.has(a.name)||l(a)}),i}function _8(t){var n=v8(t);return Mz.reduce(function(o,i){return o.concat(n.filter(function(l){return l.phase===i}))},[])}function b8(t){var n;return function(){return n||(n=new Promise(function(o){Promise.resolve().then(function(){n=void 0,o(t())})})),n}}function T8(t){var n=t.reduce(function(o,i){var l=o[i.name];return o[i.name]=l?Object.assign({},l,i,{options:Object.assign({},l.options,i.options),data:Object.assign({},l.data,i.data)}):i,o},{});return Object.keys(n).map(function(o){return n[o]})}var nR={placement:"bottom",modifiers:[],strategy:"absolute"};function oR(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return!n.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function GE(t){t===void 0&&(t={});var n=t,o=n.defaultModifiers,i=o===void 0?[]:o,l=n.defaultOptions,a=l===void 0?nR:l;return function(u,h,p){p===void 0&&(p=a);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},nR,a),modifiersData:{},elements:{reference:u,popper:h},attributes:{},styles:{}},g=[],m=!1,_={state:f,setOptions:function($){var E=typeof $=="function"?$(f.options):$;T(),f.options=Object.assign({},a,f.options,E),f.scrollParents={reference:Ec(u)?ph(u):u.contextElement?ph(u.contextElement):[],popper:ph(h)};var y=_8(T8([].concat(i,f.options.modifiers)));return f.orderedModifiers=y.filter(function(I){return I.enabled}),b(),_.update()},forceUpdate:function(){if(!m){var $=f.elements,E=$.reference,y=$.popper;if(oR(E,y)){f.rects={reference:$8(E,tp(y),f.options.strategy==="fixed"),popper:BE(y)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(M){return f.modifiersData[M.name]=Object.assign({},M.data)});for(var I=0;I<f.orderedModifiers.length;I++){if(f.reset===!0){f.reset=!1,I=-1;continue}var C=f.orderedModifiers[I],S=C.fn,R=C.options,O=R===void 0?{}:R,P=C.name;typeof S=="function"&&(f=S({state:f,options:O,name:P,instance:_})||f)}}}},update:b8(function(){return new Promise(function($){_.forceUpdate(),$(f)})}),destroy:function(){T(),m=!0}};if(!oR(u,h))return _;_.setOptions(p).then(function($){!m&&p.onFirstUpdate&&p.onFirstUpdate($)});function b(){f.orderedModifiers.forEach(function($){var E=$.name,y=$.options,I=y===void 0?{}:y,C=$.effect;if(typeof C=="function"){var S=C({state:f,name:E,instance:_,options:I}),R=function(){};g.push(S||R)}})}function T(){g.forEach(function($){return $()}),g=[]}return _}}GE();var y8=[SM,kM,CM,_M];GE({defaultModifiers:y8});var E8=[SM,kM,CM,_M,u8,s8,p8,Gz,r8],C8=GE({defaultModifiers:E8});const S8=(t,n,o={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:p})=>{const f=I8(p);Object.assign(u.value,f)},requires:["computeStyles"]},l=w(()=>{const{onFirstUpdate:p,placement:f,strategy:g,modifiers:m}=c(o);return{onFirstUpdate:p,placement:f||"bottom",strategy:g||"absolute",modifiers:[...m||[],i,{name:"applyStyles",enabled:!1}]}}),a=_n(),u=V({styles:{popper:{position:c(l).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),h=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return Me(l,p=>{const f=c(a);f&&f.setOptions(p)},{deep:!0}),Me([t,n],([p,f])=>{h(),!(!p||!f)&&(a.value=C8(p,f,c(l)))}),fn(()=>{h()}),{state:w(()=>{var p;return{...((p=c(a))==null?void 0:p.state)||{}}}),styles:w(()=>c(u).styles),attributes:w(()=>c(u).attributes),update:()=>{var p;return(p=c(a))==null?void 0:p.update()},forceUpdate:()=>{var p;return(p=c(a))==null?void 0:p.forceUpdate()},instanceRef:w(()=>c(a))}};function I8(t){const n=Object.keys(t.elements),o=jm(n.map(l=>[l,t.styles[l]||{}])),i=jm(n.map(l=>[l,t.attributes[l]]));return{styles:o,attributes:i}}const WE=t=>{if(!t)return{onClick:nn,onMousedown:nn,onMouseup:nn};let n=!1,o=!1;return{onClick:u=>{n&&o&&t(u),n=o=!1},onMousedown:u=>{n=u.target===u.currentTarget},onMouseup:u=>{o=u.target===u.currentTarget}}},w8=(t,n=0)=>{if(n===0)return t;const o=V(!1);let i=0;const l=()=>{i&&clearTimeout(i),i=window.setTimeout(()=>{o.value=t.value},n)};return At(l),Me(()=>t.value,a=>{a?l():o.value=a}),o};function sR(){let t;const n=(i,l)=>{o(),t=window.setTimeout(i,l)},o=()=>window.clearTimeout(t);return Yh(()=>o()),{registerTimeout:n,cancelTimeout:o}}const iR={prefix:Math.floor(Math.random()*1e4),current:0},k8=Symbol("elIdInjection"),zE=()=>Mt()?it(k8,iR):iR,So=t=>{const n=zE(),o=ME();return w(()=>c(t)||`${o.value}-id-${n.prefix}-${n.current++}`)};let ju=[];const rR=t=>{const n=t;n.key===mt.esc&&ju.forEach(o=>o(n))},O8=t=>{At(()=>{ju.length===0&&document.addEventListener("keydown",rR),Kt&&ju.push(t)}),fn(()=>{ju=ju.filter(n=>n!==t),ju.length===0&&Kt&&document.removeEventListener("keydown",rR)})};let lR;const OM=()=>{const t=ME(),n=zE(),o=w(()=>`${t.value}-popper-container-${n.prefix}`),i=w(()=>`#${o.value}`);return{id:o,selector:i}},R8=t=>{const n=document.createElement("div");return n.id=t,document.body.appendChild(n),n},A8=()=>{const{id:t,selector:n}=OM();return Tg(()=>{Kt&&!lR&&!document.body.querySelector(n.value)&&(lR=R8(t.value))}),{id:t,selector:n}},N8=Ue({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),L8=({showAfter:t,hideAfter:n,autoClose:o,open:i,close:l})=>{const{registerTimeout:a}=sR(),{registerTimeout:u,cancelTimeout:h}=sR();return{onOpen:g=>{a(()=>{i(g);const m=c(o);$t(m)&&m>0&&u(()=>{l(g)},m)},c(t))},onClose:g=>{h(),a(()=>{l(g)},c(n))}}},RM=Symbol("elForwardRef"),M8=t=>{Ut(RM,{setForwardRef:o=>{t.value=o}})},D8=t=>({mounted(n){t(n)},updated(n){t(n)},unmounted(){t(null)}}),aR={current:0},uR=V(0),AM=2e3,cR=Symbol("elZIndexContextKey"),NM=Symbol("zIndexContextKey"),Vc=t=>{const n=Mt()?it(cR,aR):aR,o=t||(Mt()?it(NM,void 0):void 0),i=w(()=>{const u=c(o);return $t(u)?u:AM}),l=w(()=>i.value+uR.value),a=()=>(n.current++,uR.value=n.current,l.value);return!Kt&&it(cR),{initialZIndex:i,currentZIndex:l,nextZIndex:a}},wc=Math.min,Na=Math.max,Jm=Math.round,jf=Math.floor,Il=t=>({x:t,y:t}),P8={left:"right",right:"left",bottom:"top",top:"bottom"},x8={start:"end",end:"start"};function DT(t,n,o){return Na(t,wc(n,o))}function np(t,n){return typeof t=="function"?t(n):t}function Fa(t){return t.split("-")[0]}function op(t){return t.split("-")[1]}function LM(t){return t==="x"?"y":"x"}function KE(t){return t==="y"?"height":"width"}function kc(t){return["top","bottom"].includes(Fa(t))?"y":"x"}function XE(t){return LM(kc(t))}function B8(t,n,o){o===void 0&&(o=!1);const i=op(t),l=XE(t),a=KE(l);let u=l==="x"?i===(o?"end":"start")?"right":"left":i==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(u=Zm(u)),[u,Zm(u)]}function F8(t){const n=Zm(t);return[PT(t),n,PT(n)]}function PT(t){return t.replace(/start|end/g,n=>x8[n])}function H8(t,n,o){const i=["left","right"],l=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return o?n?l:i:n?i:l;case"left":case"right":return n?a:u;default:return[]}}function V8(t,n,o,i){const l=op(t);let a=H8(Fa(t),o==="start",i);return l&&(a=a.map(u=>u+"-"+l),n&&(a=a.concat(a.map(PT)))),a}function Zm(t){return t.replace(/left|right|bottom|top/g,n=>P8[n])}function U8(t){return{top:0,right:0,bottom:0,left:0,...t}}function MM(t){return typeof t!="number"?U8(t):{top:t,right:t,bottom:t,left:t}}function Qm(t){const{x:n,y:o,width:i,height:l}=t;return{width:i,height:l,top:o,left:n,right:n+i,bottom:o+l,x:n,y:o}}function dR(t,n,o){let{reference:i,floating:l}=t;const a=kc(n),u=XE(n),h=KE(u),p=Fa(n),f=a==="y",g=i.x+i.width/2-l.width/2,m=i.y+i.height/2-l.height/2,_=i[h]/2-l[h]/2;let b;switch(p){case"top":b={x:g,y:i.y-l.height};break;case"bottom":b={x:g,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:m};break;case"left":b={x:i.x-l.width,y:m};break;default:b={x:i.x,y:i.y}}switch(op(n)){case"start":b[u]-=_*(o&&f?-1:1);break;case"end":b[u]+=_*(o&&f?-1:1);break}return b}const G8=async(t,n,o)=>{const{placement:i="bottom",strategy:l="absolute",middleware:a=[],platform:u}=o,h=a.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(n));let f=await u.getElementRects({reference:t,floating:n,strategy:l}),{x:g,y:m}=dR(f,i,p),_=i,b={},T=0;for(let $=0;$<h.length;$++){const{name:E,fn:y}=h[$],{x:I,y:C,data:S,reset:R}=await y({x:g,y:m,initialPlacement:i,placement:_,strategy:l,middlewareData:b,rects:f,platform:u,elements:{reference:t,floating:n}});g=I??g,m=C??m,b={...b,[E]:{...b[E],...S}},R&&T<=50&&(T++,typeof R=="object"&&(R.placement&&(_=R.placement),R.rects&&(f=R.rects===!0?await u.getElementRects({reference:t,floating:n,strategy:l}):R.rects),{x:g,y:m}=dR(f,_,p)),$=-1)}return{x:g,y:m,placement:_,strategy:l,middlewareData:b}};async function YE(t,n){var o;n===void 0&&(n={});const{x:i,y:l,platform:a,rects:u,elements:h,strategy:p}=t,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:_=!1,padding:b=0}=np(n,t),T=MM(b),E=h[_?m==="floating"?"reference":"floating":m],y=Qm(await a.getClippingRect({element:(o=await(a.isElement==null?void 0:a.isElement(E)))==null||o?E:E.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:f,rootBoundary:g,strategy:p})),I=m==="floating"?{x:i,y:l,width:u.floating.width,height:u.floating.height}:u.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),S=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},R=Qm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:I,offsetParent:C,strategy:p}):I);return{top:(y.top-R.top+T.top)/S.y,bottom:(R.bottom-y.bottom+T.bottom)/S.y,left:(y.left-R.left+T.left)/S.x,right:(R.right-y.right+T.right)/S.x}}const W8=t=>({name:"arrow",options:t,async fn(n){const{x:o,y:i,placement:l,rects:a,platform:u,elements:h,middlewareData:p}=n,{element:f,padding:g=0}=np(t,n)||{};if(f==null)return{};const m=MM(g),_={x:o,y:i},b=XE(l),T=KE(b),$=await u.getDimensions(f),E=b==="y",y=E?"top":"left",I=E?"bottom":"right",C=E?"clientHeight":"clientWidth",S=a.reference[T]+a.reference[b]-_[b]-a.floating[T],R=_[b]-a.reference[b],O=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f));let P=O?O[C]:0;(!P||!await(u.isElement==null?void 0:u.isElement(O)))&&(P=h.floating[C]||a.floating[T]);const M=S/2-R/2,H=P/2-$[T]/2-1,F=wc(m[y],H),B=wc(m[I],H),K=F,te=P-$[T]-B,Z=P/2-$[T]/2+M,j=DT(K,Z,te),z=!p.arrow&&op(l)!=null&&Z!==j&&a.reference[T]/2-(Z<K?F:B)-$[T]/2<0,G=z?Z<K?Z-K:Z-te:0;return{[b]:_[b]+G,data:{[b]:j,centerOffset:Z-j-G,...z&&{alignmentOffset:G}},reset:z}}}),z8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var o,i;const{placement:l,middlewareData:a,rects:u,initialPlacement:h,platform:p,elements:f}=n,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:$=!0,...E}=np(t,n);if((o=a.arrow)!=null&&o.alignmentOffset)return{};const y=Fa(l),I=kc(h),C=Fa(h)===h,S=await(p.isRTL==null?void 0:p.isRTL(f.floating)),R=_||(C||!$?[Zm(h)]:F8(h)),O=T!=="none";!_&&O&&R.push(...V8(h,$,T,S));const P=[h,...R],M=await YE(n,E),H=[];let F=((i=a.flip)==null?void 0:i.overflows)||[];if(g&&H.push(M[y]),m){const Z=B8(l,u,S);H.push(M[Z[0]],M[Z[1]])}if(F=[...F,{placement:l,overflows:H}],!H.every(Z=>Z<=0)){var B,K;const Z=(((B=a.flip)==null?void 0:B.index)||0)+1,j=P[Z];if(j)return{data:{index:Z,overflows:F},reset:{placement:j}};let z=(K=F.filter(G=>G.overflows[0]<=0).sort((G,W)=>G.overflows[1]-W.overflows[1])[0])==null?void 0:K.placement;if(!z)switch(b){case"bestFit":{var te;const G=(te=F.filter(W=>{if(O){const D=kc(W.placement);return D===I||D==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(D=>D>0).reduce((D,X)=>D+X,0)]).sort((W,D)=>W[1]-D[1])[0])==null?void 0:te[0];G&&(z=G);break}case"initialPlacement":z=h;break}if(l!==z)return{reset:{placement:z}}}return{}}}};async function K8(t,n){const{placement:o,platform:i,elements:l}=t,a=await(i.isRTL==null?void 0:i.isRTL(l.floating)),u=Fa(o),h=op(o),p=kc(o)==="y",f=["left","top"].includes(u)?-1:1,g=a&&p?-1:1,m=np(n,t);let{mainAxis:_,crossAxis:b,alignmentAxis:T}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return h&&typeof T=="number"&&(b=h==="end"?T*-1:T),p?{x:b*g,y:_*f}:{x:_*f,y:b*g}}const X8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){var o,i;const{x:l,y:a,placement:u,middlewareData:h}=n,p=await K8(n,t);return u===((o=h.offset)==null?void 0:o.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:l+p.x,y:a+p.y,data:{...p,placement:u}}}}},Y8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:o,y:i,placement:l}=n,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:E=>{let{x:y,y:I}=E;return{x:y,y:I}}},...p}=np(t,n),f={x:o,y:i},g=await YE(n,p),m=kc(Fa(l)),_=LM(m);let b=f[_],T=f[m];if(a){const E=_==="y"?"top":"left",y=_==="y"?"bottom":"right",I=b+g[E],C=b-g[y];b=DT(I,b,C)}if(u){const E=m==="y"?"top":"left",y=m==="y"?"bottom":"right",I=T+g[E],C=T-g[y];T=DT(I,T,C)}const $=h.fn({...n,[_]:b,[m]:T});return{...$,data:{x:$.x-o,y:$.y-i}}}}};function Uc(t){return DM(t)?(t.nodeName||"").toLowerCase():"#document"}function ys(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function Mr(t){var n;return(n=(DM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function DM(t){return t instanceof Node||t instanceof ys(t).Node}function Gi(t){return t instanceof Element||t instanceof ys(t).Element}function Wi(t){return t instanceof HTMLElement||t instanceof ys(t).HTMLElement}function hR(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ys(t).ShadowRoot}function sp(t){const{overflow:n,overflowX:o,overflowY:i,display:l}=pi(t);return/auto|scroll|overlay|hidden|clip/.test(n+i+o)&&!["inline","contents"].includes(l)}function j8(t){return["table","td","th"].includes(Uc(t))}function Pg(t){return[":popover-open",":modal"].some(n=>{try{return t.matches(n)}catch{return!1}})}function jE(t){const n=qE(),o=pi(t);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!n&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!n&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(o.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(o.contain||"").includes(i))}function q8(t){let n=wl(t);for(;Wi(n)&&!Oc(n);){if(Pg(n))return null;if(jE(n))return n;n=wl(n)}return null}function qE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oc(t){return["html","body","#document"].includes(Uc(t))}function pi(t){return ys(t).getComputedStyle(t)}function xg(t){return Gi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function wl(t){if(Uc(t)==="html")return t;const n=t.assignedSlot||t.parentNode||hR(t)&&t.host||Mr(t);return hR(n)?n.host:n}function PM(t){const n=wl(t);return Oc(n)?t.ownerDocument?t.ownerDocument.body:t.body:Wi(n)&&sp(n)?n:PM(n)}function Nh(t,n,o){var i;n===void 0&&(n=[]),o===void 0&&(o=!0);const l=PM(t),a=l===((i=t.ownerDocument)==null?void 0:i.body),u=ys(l);return a?n.concat(u,u.visualViewport||[],sp(l)?l:[],u.frameElement&&o?Nh(u.frameElement):[]):n.concat(l,Nh(l,[],o))}function xM(t){const n=pi(t);let o=parseFloat(n.width)||0,i=parseFloat(n.height)||0;const l=Wi(t),a=l?t.offsetWidth:o,u=l?t.offsetHeight:i,h=Jm(o)!==a||Jm(i)!==u;return h&&(o=a,i=u),{width:o,height:i,$:h}}function JE(t){return Gi(t)?t:t.contextElement}function ac(t){const n=JE(t);if(!Wi(n))return Il(1);const o=n.getBoundingClientRect(),{width:i,height:l,$:a}=xM(n);let u=(a?Jm(o.width):o.width)/i,h=(a?Jm(o.height):o.height)/l;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const J8=Il(0);function BM(t){const n=ys(t);return!qE()||!n.visualViewport?J8:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Z8(t,n,o){return n===void 0&&(n=!1),!o||n&&o!==ys(t)?!1:n}function Ha(t,n,o,i){n===void 0&&(n=!1),o===void 0&&(o=!1);const l=t.getBoundingClientRect(),a=JE(t);let u=Il(1);n&&(i?Gi(i)&&(u=ac(i)):u=ac(t));const h=Z8(a,o,i)?BM(a):Il(0);let p=(l.left+h.x)/u.x,f=(l.top+h.y)/u.y,g=l.width/u.x,m=l.height/u.y;if(a){const _=ys(a),b=i&&Gi(i)?ys(i):i;let T=_,$=T.frameElement;for(;$&&i&&b!==T;){const E=ac($),y=$.getBoundingClientRect(),I=pi($),C=y.left+($.clientLeft+parseFloat(I.paddingLeft))*E.x,S=y.top+($.clientTop+parseFloat(I.paddingTop))*E.y;p*=E.x,f*=E.y,g*=E.x,m*=E.y,p+=C,f+=S,T=ys($),$=T.frameElement}}return Qm({width:g,height:m,x:p,y:f})}function Q8(t){let{elements:n,rect:o,offsetParent:i,strategy:l}=t;const a=l==="fixed",u=Mr(i),h=n?Pg(n.floating):!1;if(i===u||h&&a)return o;let p={scrollLeft:0,scrollTop:0},f=Il(1);const g=Il(0),m=Wi(i);if((m||!m&&!a)&&((Uc(i)!=="body"||sp(u))&&(p=xg(i)),Wi(i))){const _=Ha(i);f=ac(i),g.x=_.x+i.clientLeft,g.y=_.y+i.clientTop}return{width:o.width*f.x,height:o.height*f.y,x:o.x*f.x-p.scrollLeft*f.x+g.x,y:o.y*f.y-p.scrollTop*f.y+g.y}}function e6(t){return Array.from(t.getClientRects())}function FM(t){return Ha(Mr(t)).left+xg(t).scrollLeft}function t6(t){const n=Mr(t),o=xg(t),i=t.ownerDocument.body,l=Na(n.scrollWidth,n.clientWidth,i.scrollWidth,i.clientWidth),a=Na(n.scrollHeight,n.clientHeight,i.scrollHeight,i.clientHeight);let u=-o.scrollLeft+FM(t);const h=-o.scrollTop;return pi(i).direction==="rtl"&&(u+=Na(n.clientWidth,i.clientWidth)-l),{width:l,height:a,x:u,y:h}}function n6(t,n){const o=ys(t),i=Mr(t),l=o.visualViewport;let a=i.clientWidth,u=i.clientHeight,h=0,p=0;if(l){a=l.width,u=l.height;const f=qE();(!f||f&&n==="fixed")&&(h=l.offsetLeft,p=l.offsetTop)}return{width:a,height:u,x:h,y:p}}function o6(t,n){const o=Ha(t,!0,n==="fixed"),i=o.top+t.clientTop,l=o.left+t.clientLeft,a=Wi(t)?ac(t):Il(1),u=t.clientWidth*a.x,h=t.clientHeight*a.y,p=l*a.x,f=i*a.y;return{width:u,height:h,x:p,y:f}}function pR(t,n,o){let i;if(n==="viewport")i=n6(t,o);else if(n==="document")i=t6(Mr(t));else if(Gi(n))i=o6(n,o);else{const l=BM(t);i={...n,x:n.x-l.x,y:n.y-l.y}}return Qm(i)}function HM(t,n){const o=wl(t);return o===n||!Gi(o)||Oc(o)?!1:pi(o).position==="fixed"||HM(o,n)}function s6(t,n){const o=n.get(t);if(o)return o;let i=Nh(t,[],!1).filter(h=>Gi(h)&&Uc(h)!=="body"),l=null;const a=pi(t).position==="fixed";let u=a?wl(t):t;for(;Gi(u)&&!Oc(u);){const h=pi(u),p=jE(u);!p&&h.position==="fixed"&&(l=null),(a?!p&&!l:!p&&h.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||sp(u)&&!p&&HM(t,u))?i=i.filter(g=>g!==u):l=h,u=wl(u)}return n.set(t,i),i}function i6(t){let{element:n,boundary:o,rootBoundary:i,strategy:l}=t;const u=[...o==="clippingAncestors"?Pg(n)?[]:s6(n,this._c):[].concat(o),i],h=u[0],p=u.reduce((f,g)=>{const m=pR(n,g,l);return f.top=Na(m.top,f.top),f.right=wc(m.right,f.right),f.bottom=wc(m.bottom,f.bottom),f.left=Na(m.left,f.left),f},pR(n,h,l));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function r6(t){const{width:n,height:o}=xM(t);return{width:n,height:o}}function l6(t,n,o){const i=Wi(n),l=Mr(n),a=o==="fixed",u=Ha(t,!0,a,n);let h={scrollLeft:0,scrollTop:0};const p=Il(0);if(i||!i&&!a)if((Uc(n)!=="body"||sp(l))&&(h=xg(n)),i){const m=Ha(n,!0,a,n);p.x=m.x+n.clientLeft,p.y=m.y+n.clientTop}else l&&(p.x=FM(l));const f=u.left+h.scrollLeft-p.x,g=u.top+h.scrollTop-p.y;return{x:f,y:g,width:u.width,height:u.height}}function Vb(t){return pi(t).position==="static"}function fR(t,n){return!Wi(t)||pi(t).position==="fixed"?null:n?n(t):t.offsetParent}function VM(t,n){const o=ys(t);if(Pg(t))return o;if(!Wi(t)){let l=wl(t);for(;l&&!Oc(l);){if(Gi(l)&&!Vb(l))return l;l=wl(l)}return o}let i=fR(t,n);for(;i&&j8(i)&&Vb(i);)i=fR(i,n);return i&&Oc(i)&&Vb(i)&&!jE(i)?o:i||q8(t)||o}const a6=async function(t){const n=this.getOffsetParent||VM,o=this.getDimensions,i=await o(t.floating);return{reference:l6(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function u6(t){return pi(t).direction==="rtl"}const c6={convertOffsetParentRelativeRectToViewportRelativeRect:Q8,getDocumentElement:Mr,getClippingRect:i6,getOffsetParent:VM,getElementRects:a6,getClientRects:e6,getDimensions:r6,getScale:ac,isElement:Gi,isRTL:u6};function d6(t,n){let o=null,i;const l=Mr(t);function a(){var h;clearTimeout(i),(h=o)==null||h.disconnect(),o=null}function u(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),a();const{left:f,top:g,width:m,height:_}=t.getBoundingClientRect();if(h||n(),!m||!_)return;const b=jf(g),T=jf(l.clientWidth-(f+m)),$=jf(l.clientHeight-(g+_)),E=jf(f),I={rootMargin:-b+"px "+-T+"px "+-$+"px "+-E+"px",threshold:Na(0,wc(1,p))||1};let C=!0;function S(R){const O=R[0].intersectionRatio;if(O!==p){if(!C)return u();O?u(!1,O):i=setTimeout(()=>{u(!1,1e-7)},1e3)}C=!1}try{o=new IntersectionObserver(S,{...I,root:l.ownerDocument})}catch{o=new IntersectionObserver(S,I)}o.observe(t)}return u(!0),a}function h6(t,n,o,i){i===void 0&&(i={});const{ancestorScroll:l=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,f=JE(t),g=l||a?[...f?Nh(f):[],...Nh(n)]:[];g.forEach(y=>{l&&y.addEventListener("scroll",o,{passive:!0}),a&&y.addEventListener("resize",o)});const m=f&&h?d6(f,o):null;let _=-1,b=null;u&&(b=new ResizeObserver(y=>{let[I]=y;I&&I.target===f&&b&&(b.unobserve(n),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var C;(C=b)==null||C.observe(n)})),o()}),f&&!p&&b.observe(f),b.observe(n));let T,$=p?Ha(t):null;p&&E();function E(){const y=Ha(t);$&&(y.x!==$.x||y.y!==$.y||y.width!==$.width||y.height!==$.height)&&o(),$=y,T=requestAnimationFrame(E)}return o(),()=>{var y;g.forEach(I=>{l&&I.removeEventListener("scroll",o),a&&I.removeEventListener("resize",o)}),m==null||m(),(y=b)==null||y.disconnect(),b=null,p&&cancelAnimationFrame(T)}}const p6=YE,UM=X8,f6=Y8,m6=z8,GM=W8,WM=(t,n,o)=>{const i=new Map,l={platform:c6,...o},a={...l.platform,_c:i};return G8(t,n,{...l,platform:a})};Ue({});const g6=t=>{if(!Kt)return;if(!t)return t;const n=ss(t);return n||(bn(t)?n:t)},$6=({middleware:t,placement:n,strategy:o})=>{const i=V(),l=V(),a=V(),u=V(),h=V({}),p={x:a,y:u,placement:n,strategy:o,middlewareData:h},f=async()=>{if(!Kt)return;const g=g6(i),m=ss(l);if(!g||!m)return;const _=await WM(g,m,{placement:c(n),strategy:c(o),middleware:c(t)});_c(p).forEach(b=>{p[b].value=_[b]})};return At(()=>{Eo(()=>{f()})}),{...p,update:f,referenceRef:i,contentRef:l}},v6=({arrowRef:t,padding:n})=>({name:"arrow",options:{element:t,padding:n},fn(o){const i=c(t);return i?GM({element:i,padding:n}).fn(o):{}}});function _6(t){const n=V();function o(){if(t.value==null)return;const{selectionStart:l,selectionEnd:a,value:u}=t.value;if(l==null||a==null)return;const h=u.slice(0,Math.max(0,l)),p=u.slice(Math.max(0,a));n.value={selectionStart:l,selectionEnd:a,value:u,beforeTxt:h,afterTxt:p}}function i(){if(t.value==null||n.value==null)return;const{value:l}=t.value,{beforeTxt:a,afterTxt:u,selectionStart:h}=n.value;if(a==null||u==null||h==null)return;let p=l.length;if(l.endsWith(u))p=l.length-u.length;else if(l.startsWith(a))p=a.length;else{const f=a[h-1],g=l.indexOf(f,h-1);g!==-1&&(p=g+1)}t.value.setSelectionRange(p,p)}return[o,i]}const b6=(t,n,o)=>$l(t.subTree).filter(a=>{var u;return Cn(a)&&((u=a.type)==null?void 0:u.name)===n&&!!a.component}).map(a=>a.component.uid).map(a=>o[a]).filter(a=>!!a),ZE=(t,n)=>{const o={},i=_n([]);return{children:i,addChild:u=>{o[u.uid]=u,i.value=b6(t,n,o)},removeChild:u=>{delete o[u],i.value=i.value.filter(h=>h.uid!==u)}}},qn=mi({type:String,values:Ki,required:!1}),zM=Symbol("size"),T6=()=>{const t=it(zM,{});return w(()=>c(t.size)||"")};function Bg(t,{afterFocus:n,beforeBlur:o,afterBlur:i}={}){const l=Mt(),{emit:a}=l,u=_n(),h=V(!1),p=m=>{h.value||(h.value=!0,a("focus",m),n==null||n())},f=m=>{var _;_t(o)&&o(m)||m.relatedTarget&&((_=u.value)!=null&&_.contains(m.relatedTarget))||(h.value=!1,a("blur",m),i==null||i())},g=()=>{var m;(m=t.value)==null||m.focus()};return Me(u,m=>{m&&m.setAttribute("tabindex","-1")}),gn(u,"click",g),{wrapperRef:u,isFocused:h,handleFocus:p,handleBlur:f}}const y6=["",void 0,null],E6=void 0,Gc=Ue({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>_t(t)?!t():!t}}),Fg=(t,n)=>{let o=ip();o.value||(o=V({}));const i=w(()=>t.emptyValues||o.value.emptyValues||y6),l=w(()=>_t(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:_t(o.value.valueOnClear)?o.value.valueOnClear():o.value.valueOnClear!==void 0?o.value.valueOnClear:n!==void 0?n:E6),a=u=>i.value.includes(u);return i.value.includes(l.value),{emptyValues:i,valueOnClear:l,isEmptyValue:a}},C6=Ue({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),mo=t=>xi(C6,t),KM=Symbol(),eg=V();function ip(t,n=void 0){const o=Mt()?it(KM,eg):eg;return t?w(()=>{var i,l;return(l=(i=o.value)==null?void 0:i[t])!=null?l:n}):o}function Hg(t,n){const o=ip(),i=xe(t,w(()=>{var h;return((h=o.value)==null?void 0:h.namespace)||dh})),l=Yt(w(()=>{var h;return(h=o.value)==null?void 0:h.locale})),a=Vc(w(()=>{var h;return((h=o.value)==null?void 0:h.zIndex)||AM})),u=w(()=>{var h;return c(n)||((h=o.value)==null?void 0:h.size)||""});return QE(w(()=>c(o)||{})),{ns:i,locale:l,zIndex:a,size:u}}const QE=(t,n,o=!1)=>{var i;const l=!!Mt(),a=l?ip():void 0,u=(i=n==null?void 0:n.provide)!=null?i:l?Ut:void 0;if(!u)return;const h=w(()=>{const p=c(t);return a!=null&&a.value?S6(a.value,p):p});return u(KM,h),u(fM,w(()=>h.value.locale)),u(mM,w(()=>h.value.namespace)),u(NM,w(()=>h.value.zIndex)),u(zM,{size:w(()=>h.value.size||"")}),(o||!eg.value)&&(eg.value=h.value),h},S6=(t,n)=>{const o=[...new Set([..._c(t),..._c(n)])],i={};for(const l of o)i[l]=n[l]!==void 0?n[l]:t[l];return i},I6=Ue({a11y:{type:Boolean,default:!0},locale:{type:fe(Object)},size:qn,button:{type:fe(Object)},experimentalFeatures:{type:fe(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:fe(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Gc}),xT={},w6=ne({name:"ElConfigProvider",props:I6,setup(t,{slots:n}){Me(()=>t.message,i=>{Object.assign(xT,i??{})},{immediate:!0,deep:!0});const o=QE(t);return()=>Te(n,"default",{config:o==null?void 0:o.value})}}),k6=Dt(w6),O6="2.7.6",R6=(t=[])=>({version:O6,install:(o,i)=>{o[XO]||(o[XO]=!0,t.forEach(l=>o.use(l)),i&&QE(i,o,!0))}}),A6=Ue({zIndex:{type:fe([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),N6={scroll:({scrollTop:t,fixed:n})=>$t(t)&&Hn(n),[$n]:t=>Hn(t)};var We=(t,n)=>{const o=t.__vccOpts||t;for(const[i,l]of n)o[i]=l;return o};const XM="ElAffix",L6=ne({name:XM}),M6=ne({...L6,props:A6,emits:N6,setup(t,{expose:n,emit:o}){const i=t,l=xe("affix"),a=_n(),u=_n(),h=_n(),{height:p}=gH(),{height:f,width:g,top:m,bottom:_,update:b}=lO(u,{windowScroll:!1}),T=lO(a),$=V(!1),E=V(0),y=V(0),I=w(()=>({height:$.value?`${f.value}px`:"",width:$.value?`${g.value}px`:""})),C=w(()=>{if(!$.value)return{};const O=i.offset?Ln(i.offset):0;return{height:`${f.value}px`,width:`${g.value}px`,top:i.position==="top"?O:"",bottom:i.position==="bottom"?O:"",transform:y.value?`translateY(${y.value}px)`:"",zIndex:i.zIndex}}),S=()=>{if(h.value)if(E.value=h.value instanceof Window?document.documentElement.scrollTop:h.value.scrollTop||0,i.position==="top")if(i.target){const O=T.bottom.value-i.offset-f.value;$.value=i.offset>m.value&&T.bottom.value>0,y.value=O<0?O:0}else $.value=i.offset>m.value;else if(i.target){const O=p.value-T.top.value-i.offset-f.value;$.value=p.value-i.offset<_.value&&p.value>T.top.value,y.value=O<0?-O:0}else $.value=p.value-i.offset<_.value},R=()=>{b(),o("scroll",{scrollTop:E.value,fixed:$.value})};return Me($,O=>o("change",O)),At(()=>{var O;i.target?(a.value=(O=document.querySelector(i.target))!=null?O:void 0,a.value||jn(XM,`Target does not exist: ${i.target}`)):a.value=document.documentElement,h.value=EE(u.value,!0),b()}),gn(h,"scroll",R),Eo(S),n({update:S,updateRoot:b}),(O,P)=>(N(),Y("div",{ref_key:"root",ref:u,class:L(c(l).b()),style:ct(c(I))},[Q("div",{class:L({[c(l).m("fixed")]:$.value}),style:ct(c(C))},[Te(O.$slots,"default")],6)],6))}});var D6=We(M6,[["__file","affix.vue"]]);const P6=Dt(D6),x6=Ue({size:{type:fe([Number,String])},color:{type:String}}),B6=ne({name:"ElIcon",inheritAttrs:!1}),F6=ne({...B6,props:x6,setup(t){const n=t,o=xe("icon"),i=w(()=>{const{size:l,color:a}=n;return!l&&!a?{}:{fontSize:Fn(l)?void 0:Ln(l),"--color":a}});return(l,a)=>(N(),Y("i",Vt({class:c(o).b(),style:c(i)},l.$attrs),[Te(l.$slots,"default")],16))}});var H6=We(F6,[["__file","icon.vue"]]);const at=Dt(H6),V6=["light","dark"],U6=Ue({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:_c(Sl),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:V6,default:"light"}}),G6={close:t=>t instanceof MouseEvent},W6=ne({name:"ElAlert"}),z6=ne({...W6,props:U6,emits:G6,setup(t,{emit:n}){const o=t,{Close:i}=RE,l=ao(),a=xe("alert"),u=V(!0),h=w(()=>Sl[o.type]),p=w(()=>[a.e("icon"),{[a.is("big")]:!!o.description||!!l.default}]),f=w(()=>({"with-description":o.description||l.default})),g=m=>{u.value=!1,n("close",m)};return(m,_)=>(N(),be(Yn,{name:c(a).b("fade"),persisted:""},{default:ce(()=>[Rt(Q("div",{class:L([c(a).b(),c(a).m(m.type),c(a).is("center",m.center),c(a).is(m.effect)]),role:"alert"},[m.showIcon&&c(h)?(N(),be(c(at),{key:0,class:L(c(p))},{default:ce(()=>[(N(),be(Ft(c(h))))]),_:1},8,["class"])):$e("v-if",!0),Q("div",{class:L(c(a).e("content"))},[m.title||m.$slots.title?(N(),Y("span",{key:0,class:L([c(a).e("title"),c(f)])},[Te(m.$slots,"title",{},()=>[Wt(ze(m.title),1)])],2)):$e("v-if",!0),m.$slots.default||m.description?(N(),Y("p",{key:1,class:L(c(a).e("description"))},[Te(m.$slots,"default",{},()=>[Wt(ze(m.description),1)])],2)):$e("v-if",!0),m.closable?(N(),Y(dt,{key:2},[m.closeText?(N(),Y("div",{key:0,class:L([c(a).e("close-btn"),c(a).is("customed")]),onClick:g},ze(m.closeText),3)):(N(),be(c(at),{key:1,class:L(c(a).e("close-btn")),onClick:g},{default:ce(()=>[ie(c(i))]),_:1},8,["class"]))],64)):$e("v-if",!0)],2)],2),[[qt,u.value]])]),_:3},8,["name"]))}});var K6=We(z6,[["__file","alert.vue"]]);const X6=Dt(K6),Ya=Symbol("formContextKey"),zi=Symbol("formItemContextKey"),Kn=(t,n={})=>{const o=V(void 0),i=n.prop?o:$M("size"),l=n.global?o:T6(),a=n.form?{size:void 0}:it(Ya,void 0),u=n.formItem?{size:void 0}:it(zi,void 0);return w(()=>i.value||c(t)||(u==null?void 0:u.size)||(a==null?void 0:a.size)||l.value||"")},Zo=t=>{const n=$M("disabled"),o=it(Ya,void 0);return w(()=>n.value||c(t)||(o==null?void 0:o.disabled)||!1)},Bo=()=>{const t=it(Ya,void 0),n=it(zi,void 0);return{form:t,formItem:n}},$i=(t,{formItemContext:n,disableIdGeneration:o,disableIdManagement:i})=>{o||(o=V(!1)),i||(i=V(!1));const l=V();let a;const u=w(()=>{var h;return!!(!(t.label||t.ariaLabel)&&n&&n.inputIds&&((h=n.inputIds)==null?void 0:h.length)<=1)});return At(()=>{a=Me([on(t,"id"),o],([h,p])=>{const f=h??(p?void 0:So().value);f!==l.value&&(n!=null&&n.removeInputId&&(l.value&&n.removeInputId(l.value),!(i!=null&&i.value)&&!p&&f&&n.addInputId(f)),l.value=f)},{immediate:!0})}),Rl(()=>{a&&a(),n!=null&&n.removeInputId&&l.value&&n.removeInputId(l.value)}),{isLabeledByFormItem:u,inputId:l}},Y6=Ue({size:{type:String,values:Ki},disabled:Boolean}),j6=Ue({...Y6,model:Object,rules:{type:fe(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),q6={validate:(t,n,o)=>(tt(t)||yt(t))&&Hn(n)&&yt(o)};function J6(){const t=V([]),n=w(()=>{if(!t.value.length)return"0";const a=Math.max(...t.value);return a?`${a}px`:""});function o(a){const u=t.value.indexOf(a);return u===-1&&n.value,u}function i(a,u){if(a&&u){const h=o(u);t.value.splice(h,1,a)}else a&&t.value.push(a)}function l(a){const u=o(a);u>-1&&t.value.splice(u,1)}return{autoLabelWidth:n,registerLabelWidth:i,deregisterLabelWidth:l}}const qf=(t,n)=>{const o=yl(n);return o.length>0?t.filter(i=>i.prop&&o.includes(i.prop)):t},Z6="ElForm",Q6=ne({name:Z6}),eK=ne({...Q6,props:j6,emits:q6,setup(t,{expose:n,emit:o}){const i=t,l=[],a=Kn(),u=xe("form"),h=w(()=>{const{labelPosition:C,inline:S}=i;return[u.b(),u.m(a.value||"default"),{[u.m(`label-${C}`)]:C,[u.m("inline")]:S}]}),p=C=>l.find(S=>S.prop===C),f=C=>{l.push(C)},g=C=>{C.prop&&l.splice(l.indexOf(C),1)},m=(C=[])=>{i.model&&qf(l,C).forEach(S=>S.resetField())},_=(C=[])=>{qf(l,C).forEach(S=>S.clearValidate())},b=w(()=>!!i.model),T=C=>{if(l.length===0)return[];const S=qf(l,C);return S.length?S:[]},$=async C=>y(void 0,C),E=async(C=[])=>{if(!b.value)return!1;const S=T(C);if(S.length===0)return!0;let R={};for(const O of S)try{await O.validate("")}catch(P){R={...R,...P}}return Object.keys(R).length===0?!0:Promise.reject(R)},y=async(C=[],S)=>{const R=!_t(S);try{const O=await E(C);return O===!0&&await(S==null?void 0:S(O)),O}catch(O){if(O instanceof Error)throw O;const P=O;return i.scrollToError&&I(Object.keys(P)[0]),await(S==null?void 0:S(!1,P)),R&&Promise.reject(P)}},I=C=>{var S;const R=qf(l,C)[0];R&&((S=R.$el)==null||S.scrollIntoView(i.scrollIntoViewOptions))};return Me(()=>i.rules,()=>{i.validateOnRuleChange&&$().catch(C=>void 0)},{deep:!0}),Ut(Ya,Qt({...fo(i),emit:o,resetFields:m,clearValidate:_,validateField:y,getField:p,addField:f,removeField:g,...J6()})),n({validate:$,validateField:y,resetFields:m,clearValidate:_,scrollToField:I,fields:l}),(C,S)=>(N(),Y("form",{class:L(c(h))},[Te(C.$slots,"default")],2))}});var tK=We(eK,[["__file","form.vue"]]);function ya(){return ya=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},ya.apply(this,arguments)}function nK(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,Lh(t,n)}function BT(t){return BT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},BT(t)}function Lh(t,n){return Lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},Lh(t,n)}function oK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gm(t,n,o){return oK()?gm=Reflect.construct.bind():gm=function(l,a,u){var h=[null];h.push.apply(h,a);var p=Function.bind.apply(l,h),f=new p;return u&&Lh(f,u.prototype),f},gm.apply(null,arguments)}function sK(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function FT(t){var n=typeof Map=="function"?new Map:void 0;return FT=function(i){if(i===null||!sK(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(i))return n.get(i);n.set(i,l)}function l(){return gm(i,arguments,BT(this).constructor)}return l.prototype=Object.create(i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),Lh(l,i)},FT(t)}var iK=/%[sdj%]/g,rK=function(){};function HT(t){if(!t||!t.length)return null;var n={};return t.forEach(function(o){var i=o.field;n[i]=n[i]||[],n[i].push(o)}),n}function _s(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var l=0,a=o.length;if(typeof t=="function")return t.apply(null,o);if(typeof t=="string"){var u=t.replace(iK,function(h){if(h==="%%")return"%";if(l>=a)return h;switch(h){case"%s":return String(o[l++]);case"%d":return Number(o[l++]);case"%j":try{return JSON.stringify(o[l++])}catch{return"[Circular]"}break;default:return h}});return u}return t}function lK(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function lo(t,n){return!!(t==null||n==="array"&&Array.isArray(t)&&!t.length||lK(n)&&typeof t=="string"&&!t)}function aK(t,n,o){var i=[],l=0,a=t.length;function u(h){i.push.apply(i,h||[]),l++,l===a&&o(i)}t.forEach(function(h){n(h,u)})}function mR(t,n,o){var i=0,l=t.length;function a(u){if(u&&u.length){o(u);return}var h=i;i=i+1,h<l?n(t[h],a):o([])}a([])}function uK(t){var n=[];return Object.keys(t).forEach(function(o){n.push.apply(n,t[o]||[])}),n}var gR=function(t){nK(n,t);function n(o,i){var l;return l=t.call(this,"Async Validation Error")||this,l.errors=o,l.fields=i,l}return n}(FT(Error));function cK(t,n,o,i,l){if(n.first){var a=new Promise(function(_,b){var T=function(y){return i(y),y.length?b(new gR(y,HT(y))):_(l)},$=uK(t);mR($,o,T)});return a.catch(function(_){return _}),a}var u=n.firstFields===!0?Object.keys(t):n.firstFields||[],h=Object.keys(t),p=h.length,f=0,g=[],m=new Promise(function(_,b){var T=function(E){if(g.push.apply(g,E),f++,f===p)return i(g),g.length?b(new gR(g,HT(g))):_(l)};h.length||(i(g),_(l)),h.forEach(function($){var E=t[$];u.indexOf($)!==-1?mR(E,o,T):aK(E,o,T)})});return m.catch(function(_){return _}),m}function dK(t){return!!(t&&t.message!==void 0)}function hK(t,n){for(var o=t,i=0;i<n.length;i++){if(o==null)return o;o=o[n[i]]}return o}function $R(t,n){return function(o){var i;return t.fullFields?i=hK(n,t.fullFields):i=n[o.field||t.fullField],dK(o)?(o.field=o.field||t.fullField,o.fieldValue=i,o):{message:typeof o=="function"?o():o,fieldValue:i,field:o.field||t.fullField}}}function vR(t,n){if(n){for(var o in n)if(n.hasOwnProperty(o)){var i=n[o];typeof i=="object"&&typeof t[o]=="object"?t[o]=ya({},t[o],i):t[o]=i}}return t}var YM=function(n,o,i,l,a,u){n.required&&(!i.hasOwnProperty(n.field)||lo(o,u||n.type))&&l.push(_s(a.messages.required,n.fullField))},pK=function(n,o,i,l,a){(/^\s+$/.test(o)||o==="")&&l.push(_s(a.messages.whitespace,n.fullField))},Jf,fK=function(){if(Jf)return Jf;var t="[a-fA-F\\d:]",n=function(S){return S&&S.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},o="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",l=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+o+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+o+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+o+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+o+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+o+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+o+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+o+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+o+"$)|(?:^"+l+"$)"),u=new RegExp("^"+o+"$"),h=new RegExp("^"+l+"$"),p=function(S){return S&&S.exact?a:new RegExp("(?:"+n(S)+o+n(S)+")|(?:"+n(S)+l+n(S)+")","g")};p.v4=function(C){return C&&C.exact?u:new RegExp(""+n(C)+o+n(C),"g")},p.v6=function(C){return C&&C.exact?h:new RegExp(""+n(C)+l+n(C),"g")};var f="(?:(?:[a-z]+:)?//)",g="(?:\\S+(?::\\S*)?@)?",m=p.v4().source,_=p.v6().source,b="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",T="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",$="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",E="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',I="(?:"+f+"|www\\.)"+g+"(?:localhost|"+m+"|"+_+"|"+b+T+$+")"+E+y;return Jf=new RegExp("(?:^"+I+"$)","i"),Jf},_R={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Zd={integer:function(n){return Zd.number(n)&&parseInt(n,10)===n},float:function(n){return Zd.number(n)&&!Zd.integer(n)},array:function(n){return Array.isArray(n)},regexp:function(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch{return!1}},date:function(n){return typeof n.getTime=="function"&&typeof n.getMonth=="function"&&typeof n.getYear=="function"&&!isNaN(n.getTime())},number:function(n){return isNaN(n)?!1:typeof n=="number"},object:function(n){return typeof n=="object"&&!Zd.array(n)},method:function(n){return typeof n=="function"},email:function(n){return typeof n=="string"&&n.length<=320&&!!n.match(_R.email)},url:function(n){return typeof n=="string"&&n.length<=2048&&!!n.match(fK())},hex:function(n){return typeof n=="string"&&!!n.match(_R.hex)}},mK=function(n,o,i,l,a){if(n.required&&o===void 0){YM(n,o,i,l,a);return}var u=["integer","float","array","regexp","object","method","email","number","date","url","hex"],h=n.type;u.indexOf(h)>-1?Zd[h](o)||l.push(_s(a.messages.types[h],n.fullField,n.type)):h&&typeof o!==n.type&&l.push(_s(a.messages.types[h],n.fullField,n.type))},gK=function(n,o,i,l,a){var u=typeof n.len=="number",h=typeof n.min=="number",p=typeof n.max=="number",f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=o,m=null,_=typeof o=="number",b=typeof o=="string",T=Array.isArray(o);if(_?m="number":b?m="string":T&&(m="array"),!m)return!1;T&&(g=o.length),b&&(g=o.replace(f,"_").length),u?g!==n.len&&l.push(_s(a.messages[m].len,n.fullField,n.len)):h&&!p&&g<n.min?l.push(_s(a.messages[m].min,n.fullField,n.min)):p&&!h&&g>n.max?l.push(_s(a.messages[m].max,n.fullField,n.max)):h&&p&&(g<n.min||g>n.max)&&l.push(_s(a.messages[m].range,n.fullField,n.min,n.max))},Gu="enum",$K=function(n,o,i,l,a){n[Gu]=Array.isArray(n[Gu])?n[Gu]:[],n[Gu].indexOf(o)===-1&&l.push(_s(a.messages[Gu],n.fullField,n[Gu].join(", ")))},vK=function(n,o,i,l,a){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(o)||l.push(_s(a.messages.pattern.mismatch,n.fullField,o,n.pattern));else if(typeof n.pattern=="string"){var u=new RegExp(n.pattern);u.test(o)||l.push(_s(a.messages.pattern.mismatch,n.fullField,o,n.pattern))}}},an={required:YM,whitespace:pK,type:mK,range:gK,enum:$K,pattern:vK},_K=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(lo(o,"string")&&!n.required)return i();an.required(n,o,l,u,a,"string"),lo(o,"string")||(an.type(n,o,l,u,a),an.range(n,o,l,u,a),an.pattern(n,o,l,u,a),n.whitespace===!0&&an.whitespace(n,o,l,u,a))}i(u)},bK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(lo(o)&&!n.required)return i();an.required(n,o,l,u,a),o!==void 0&&an.type(n,o,l,u,a)}i(u)},TK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(o===""&&(o=void 0),lo(o)&&!n.required)return i();an.required(n,o,l,u,a),o!==void 0&&(an.type(n,o,l,u,a),an.range(n,o,l,u,a))}i(u)},yK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(lo(o)&&!n.required)return i();an.required(n,o,l,u,a),o!==void 0&&an.type(n,o,l,u,a)}i(u)},EK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(lo(o)&&!n.required)return i();an.required(n,o,l,u,a),lo(o)||an.type(n,o,l,u,a)}i(u)},CK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(lo(o)&&!n.required)return i();an.required(n,o,l,u,a),o!==void 0&&(an.type(n,o,l,u,a),an.range(n,o,l,u,a))}i(u)},SK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(lo(o)&&!n.required)return i();an.required(n,o,l,u,a),o!==void 0&&(an.type(n,o,l,u,a),an.range(n,o,l,u,a))}i(u)},IK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(o==null&&!n.required)return i();an.required(n,o,l,u,a,"array"),o!=null&&(an.type(n,o,l,u,a),an.range(n,o,l,u,a))}i(u)},wK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(lo(o)&&!n.required)return i();an.required(n,o,l,u,a),o!==void 0&&an.type(n,o,l,u,a)}i(u)},kK="enum",OK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(lo(o)&&!n.required)return i();an.required(n,o,l,u,a),o!==void 0&&an[kK](n,o,l,u,a)}i(u)},RK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(lo(o,"string")&&!n.required)return i();an.required(n,o,l,u,a),lo(o,"string")||an.pattern(n,o,l,u,a)}i(u)},AK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(lo(o,"date")&&!n.required)return i();if(an.required(n,o,l,u,a),!lo(o,"date")){var p;o instanceof Date?p=o:p=new Date(o),an.type(n,p,l,u,a),p&&an.range(n,p.getTime(),l,u,a)}}i(u)},NK=function(n,o,i,l,a){var u=[],h=Array.isArray(o)?"array":typeof o;an.required(n,o,l,u,a,h),i(u)},Ub=function(n,o,i,l,a){var u=n.type,h=[],p=n.required||!n.required&&l.hasOwnProperty(n.field);if(p){if(lo(o,u)&&!n.required)return i();an.required(n,o,l,h,a,u),lo(o,u)||an.type(n,o,l,h,a)}i(h)},LK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(lo(o)&&!n.required)return i();an.required(n,o,l,u,a)}i(u)},fh={string:_K,method:bK,number:TK,boolean:yK,regexp:EK,integer:CK,float:SK,array:IK,object:wK,enum:OK,pattern:RK,date:AK,url:Ub,hex:Ub,email:Ub,required:NK,any:LK};function VT(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var UT=VT(),rp=function(){function t(o){this.rules=null,this._messages=UT,this.define(o)}var n=t.prototype;return n.define=function(i){var l=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(a){var u=i[a];l.rules[a]=Array.isArray(u)?u:[u]})},n.messages=function(i){return i&&(this._messages=vR(VT(),i)),this._messages},n.validate=function(i,l,a){var u=this;l===void 0&&(l={}),a===void 0&&(a=function(){});var h=i,p=l,f=a;if(typeof p=="function"&&(f=p,p={}),!this.rules||Object.keys(this.rules).length===0)return f&&f(null,h),Promise.resolve(h);function g($){var E=[],y={};function I(S){if(Array.isArray(S)){var R;E=(R=E).concat.apply(R,S)}else E.push(S)}for(var C=0;C<$.length;C++)I($[C]);E.length?(y=HT(E),f(E,y)):f(null,h)}if(p.messages){var m=this.messages();m===UT&&(m=VT()),vR(m,p.messages),p.messages=m}else p.messages=this.messages();var _={},b=p.keys||Object.keys(this.rules);b.forEach(function($){var E=u.rules[$],y=h[$];E.forEach(function(I){var C=I;typeof C.transform=="function"&&(h===i&&(h=ya({},h)),y=h[$]=C.transform(y)),typeof C=="function"?C={validator:C}:C=ya({},C),C.validator=u.getValidationMethod(C),C.validator&&(C.field=$,C.fullField=C.fullField||$,C.type=u.getType(C),_[$]=_[$]||[],_[$].push({rule:C,value:y,source:h,field:$}))})});var T={};return cK(_,p,function($,E){var y=$.rule,I=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");I=I&&(y.required||!y.required&&$.value),y.field=$.field;function C(O,P){return ya({},P,{fullField:y.fullField+"."+O,fullFields:y.fullFields?[].concat(y.fullFields,[O]):[O]})}function S(O){O===void 0&&(O=[]);var P=Array.isArray(O)?O:[O];!p.suppressWarning&&P.length&&t.warning("async-validator:",P),P.length&&y.message!==void 0&&(P=[].concat(y.message));var M=P.map($R(y,h));if(p.first&&M.length)return T[y.field]=1,E(M);if(!I)E(M);else{if(y.required&&!$.value)return y.message!==void 0?M=[].concat(y.message).map($R(y,h)):p.error&&(M=[p.error(y,_s(p.messages.required,y.field))]),E(M);var H={};y.defaultField&&Object.keys($.value).map(function(K){H[K]=y.defaultField}),H=ya({},H,$.rule.fields);var F={};Object.keys(H).forEach(function(K){var te=H[K],Z=Array.isArray(te)?te:[te];F[K]=Z.map(C.bind(null,K))});var B=new t(F);B.messages(p.messages),$.rule.options&&($.rule.options.messages=p.messages,$.rule.options.error=p.error),B.validate($.value,$.rule.options||p,function(K){var te=[];M&&M.length&&te.push.apply(te,M),K&&K.length&&te.push.apply(te,K),E(te.length?te:null)})}}var R;if(y.asyncValidator)R=y.asyncValidator(y,$.value,S,$.source,p);else if(y.validator){try{R=y.validator(y,$.value,S,$.source,p)}catch(O){console.error==null||console.error(O),p.suppressValidatorError||setTimeout(function(){throw O},0),S(O.message)}R===!0?S():R===!1?S(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):R instanceof Array?S(R):R instanceof Error&&S(R.message)}R&&R.then&&R.then(function(){return S()},function(O){return S(O)})},function($){g($)},h)},n.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!fh.hasOwnProperty(i.type))throw new Error(_s("Unknown rule type %s",i.type));return i.type||"string"},n.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var l=Object.keys(i),a=l.indexOf("message");return a!==-1&&l.splice(a,1),l.length===1&&l[0]==="required"?fh.required:fh[this.getType(i)]||void 0},t}();rp.register=function(n,o){if(typeof o!="function")throw new Error("Cannot register a validator by type, validator is not a function");fh[n]=o};rp.warning=rK;rp.messages=UT;rp.validators=fh;const MK=["","error","validating","success"],DK=Ue({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:fe([String,Array])},required:{type:Boolean,default:void 0},rules:{type:fe([Object,Array])},error:String,validateStatus:{type:String,values:MK},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Ki}}),bR="ElLabelWrap";var PK=ne({name:bR,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:n}){const o=it(Ya,void 0),i=it(zi);i||jn(bR,"usage: <el-form-item><label-wrap /></el-form-item>");const l=xe("form"),a=V(),u=V(0),h=()=>{var g;if((g=a.value)!=null&&g.firstElementChild){const m=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(m))}else return 0},p=(g="update")=>{pt(()=>{n.default&&t.isAutoWidth&&(g==="update"?u.value=h():g==="remove"&&(o==null||o.deregisterLabelWidth(u.value)))})},f=()=>p("update");return At(()=>{f()}),fn(()=>{p("remove")}),Rr(()=>f()),Me(u,(g,m)=>{t.updateAll&&(o==null||o.registerLabelWidth(g,m))}),In(w(()=>{var g,m;return(m=(g=a.value)==null?void 0:g.firstElementChild)!=null?m:null}),f),()=>{var g,m;if(!n)return null;const{isAutoWidth:_}=t;if(_){const b=o==null?void 0:o.autoLabelWidth,T=i==null?void 0:i.hasLabel,$={};if(T&&b&&b!=="auto"){const E=Math.max(0,Number.parseInt(b,10)-u.value),y=o.labelPosition==="left"?"marginRight":"marginLeft";E&&($[y]=`${E}px`)}return ie("div",{ref:a,class:[l.be("item","label-wrap")],style:$},[(g=n.default)==null?void 0:g.call(n)])}else return ie(dt,{ref:a},[(m=n.default)==null?void 0:m.call(n)])}}});const xK=["role","aria-labelledby"],BK=ne({name:"ElFormItem"}),FK=ne({...BK,props:DK,setup(t,{expose:n}){const o=t,i=ao(),l=it(Ya,void 0),a=it(zi,void 0),u=Kn(void 0,{formItem:!1}),h=xe("form-item"),p=So().value,f=V([]),g=V(""),m=ZF(g,100),_=V(""),b=V();let T,$=!1;const E=w(()=>{if((l==null?void 0:l.labelPosition)==="top")return{};const ye=Ln(o.labelWidth||(l==null?void 0:l.labelWidth)||"");return ye?{width:ye}:{}}),y=w(()=>{if((l==null?void 0:l.labelPosition)==="top"||l!=null&&l.inline)return{};if(!o.label&&!o.labelWidth&&H)return{};const ye=Ln(o.labelWidth||(l==null?void 0:l.labelWidth)||"");return!o.label&&!i.label?{marginLeft:ye}:{}}),I=w(()=>[h.b(),h.m(u.value),h.is("error",g.value==="error"),h.is("validating",g.value==="validating"),h.is("success",g.value==="success"),h.is("required",Z.value||o.required),h.is("no-asterisk",l==null?void 0:l.hideRequiredAsterisk),(l==null?void 0:l.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[h.m("feedback")]:l==null?void 0:l.statusIcon}]),C=w(()=>Hn(o.inlineMessage)?o.inlineMessage:(l==null?void 0:l.inlineMessage)||!1),S=w(()=>[h.e("error"),{[h.em("error","inline")]:C.value}]),R=w(()=>o.prop?yt(o.prop)?o.prop:o.prop.join("."):""),O=w(()=>!!(o.label||i.label)),P=w(()=>o.for||(f.value.length===1?f.value[0]:void 0)),M=w(()=>!P.value&&O.value),H=!!a,F=w(()=>{const ye=l==null?void 0:l.model;if(!(!ye||!o.prop))return fm(ye,o.prop).value}),B=w(()=>{const{required:ye}=o,_e=[];o.rules&&_e.push(...yl(o.rules));const Ke=l==null?void 0:l.rules;if(Ke&&o.prop){const ve=fm(Ke,o.prop).value;ve&&_e.push(...yl(ve))}if(ye!==void 0){const ve=_e.map((Ne,He)=>[Ne,He]).filter(([Ne])=>Object.keys(Ne).includes("required"));if(ve.length>0)for(const[Ne,He]of ve)Ne.required!==ye&&(_e[He]={...Ne,required:ye});else _e.push({required:ye})}return _e}),K=w(()=>B.value.length>0),te=ye=>B.value.filter(Ke=>!Ke.trigger||!ye?!0:Array.isArray(Ke.trigger)?Ke.trigger.includes(ye):Ke.trigger===ye).map(({trigger:Ke,...ve})=>ve),Z=w(()=>B.value.some(ye=>ye.required)),j=w(()=>{var ye;return m.value==="error"&&o.showMessage&&((ye=l==null?void 0:l.showMessage)!=null?ye:!0)}),z=w(()=>`${o.label||""}${(l==null?void 0:l.labelSuffix)||""}`),G=ye=>{g.value=ye},W=ye=>{var _e,Ke;const{errors:ve,fields:Ne}=ye;(!ve||!Ne)&&console.error(ye),G("error"),_.value=ve?(Ke=(_e=ve==null?void 0:ve[0])==null?void 0:_e.message)!=null?Ke:`${o.prop} is required`:"",l==null||l.emit("validate",o.prop,!1,_.value)},D=()=>{G("success"),l==null||l.emit("validate",o.prop,!0,"")},X=async ye=>{const _e=R.value;return new rp({[_e]:ye}).validate({[_e]:F.value},{firstFields:!0}).then(()=>(D(),!0)).catch(ve=>(W(ve),Promise.reject(ve)))},oe=async(ye,_e)=>{if($||!o.prop)return!1;const Ke=_t(_e);if(!K.value)return _e==null||_e(!1),!1;const ve=te(ye);return ve.length===0?(_e==null||_e(!0),!0):(G("validating"),X(ve).then(()=>(_e==null||_e(!0),!0)).catch(Ne=>{const{fields:He}=Ne;return _e==null||_e(!1,He),Ke?!1:Promise.reject(He)}))},le=()=>{G(""),_.value="",$=!1},me=async()=>{const ye=l==null?void 0:l.model;if(!ye||!o.prop)return;const _e=fm(ye,o.prop);$=!0,_e.value=FO(T),await pt(),le(),$=!1},Se=ye=>{f.value.includes(ye)||f.value.push(ye)},Pe=ye=>{f.value=f.value.filter(_e=>_e!==ye)};Me(()=>o.error,ye=>{_.value=ye||"",G(ye?"error":"")},{immediate:!0}),Me(()=>o.validateStatus,ye=>G(ye||""));const de=Qt({...fo(o),$el:b,size:u,validateState:g,labelId:p,inputIds:f,isGroup:M,hasLabel:O,fieldValue:F,addInputId:Se,removeInputId:Pe,resetField:me,clearValidate:le,validate:oe});return Ut(zi,de),At(()=>{o.prop&&(l==null||l.addField(de),T=FO(F.value))}),fn(()=>{l==null||l.removeField(de)}),n({size:u,validateMessage:_,validateState:g,validate:oe,clearValidate:le,resetField:me}),(ye,_e)=>{var Ke;return N(),Y("div",{ref_key:"formItemRef",ref:b,class:L(c(I)),role:c(M)?"group":void 0,"aria-labelledby":c(M)?c(p):void 0},[ie(c(PK),{"is-auto-width":c(E).width==="auto","update-all":((Ke=c(l))==null?void 0:Ke.labelWidth)==="auto"},{default:ce(()=>[c(O)?(N(),be(Ft(c(P)?"label":"div"),{key:0,id:c(p),for:c(P),class:L(c(h).e("label")),style:ct(c(E))},{default:ce(()=>[Te(ye.$slots,"label",{label:c(z)},()=>[Wt(ze(c(z)),1)])]),_:3},8,["id","for","class","style"])):$e("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Q("div",{class:L(c(h).e("content")),style:ct(c(y))},[Te(ye.$slots,"default"),ie(nL,{name:`${c(h).namespace.value}-zoom-in-top`},{default:ce(()=>[c(j)?Te(ye.$slots,"error",{key:0,error:_.value},()=>[Q("div",{class:L(c(S))},ze(_.value),3)]):$e("v-if",!0)]),_:3},8,["name"])],6)],10,xK)}}});var jM=We(FK,[["__file","form-item.vue"]]);const HK=Dt(tK,{FormItem:jM}),VK=kn(jM);let ri;const UK=`
  height:0 !important;
  visibility:hidden !important;
  ${mL()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,GK=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function WK(t){const n=window.getComputedStyle(t),o=n.getPropertyValue("box-sizing"),i=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),l=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:GK.map(u=>`${u}:${n.getPropertyValue(u)}`).join(";"),paddingSize:i,borderSize:l,boxSizing:o}}function TR(t,n=1,o){var i;ri||(ri=document.createElement("textarea"),document.body.appendChild(ri));const{paddingSize:l,borderSize:a,boxSizing:u,contextStyle:h}=WK(t);ri.setAttribute("style",`${h};${UK}`),ri.value=t.value||t.placeholder||"";let p=ri.scrollHeight;const f={};u==="border-box"?p=p+a:u==="content-box"&&(p=p-l),ri.value="";const g=ri.scrollHeight-l;if($t(n)){let m=g*n;u==="border-box"&&(m=m+l+a),p=Math.max(m,p),f.minHeight=`${m}px`}if($t(o)){let m=g*o;u==="border-box"&&(m=m+l+a),p=Math.min(m,p)}return f.height=`${p}px`,(i=ri.parentNode)==null||i.removeChild(ri),ri=void 0,f}const zK=Ue({id:{type:String,default:void 0},size:qn,disabled:Boolean,modelValue:{type:fe([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:fe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ln},prefixIcon:{type:ln},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:fe([Object,Array,String]),default:()=>wn({})},autofocus:{type:Boolean,default:!1},...mo(["ariaLabel"])}),KK={[Bt]:t=>yt(t),input:t=>yt(t),change:t=>yt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},XK=["role"],YK=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],jK=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],qK=ne({name:"ElInput",inheritAttrs:!1}),JK=ne({...qK,props:zK,emits:KK,setup(t,{expose:n,emit:o}){const i=t,l=Ga(),a=ao(),u=w(()=>{const q={};return i.containerRole==="combobox"&&(q["aria-haspopup"]=l["aria-haspopup"],q["aria-owns"]=l["aria-owns"],q["aria-expanded"]=l["aria-expanded"]),q}),h=w(()=>[i.type==="textarea"?E.b():$.b(),$.m(b.value),$.is("disabled",T.value),$.is("exceed",Se.value),{[$.b("group")]:a.prepend||a.append,[$.m("prefix")]:a.prefix||i.prefixIcon,[$.m("suffix")]:a.suffix||i.suffixIcon||i.clearable||i.showPassword,[$.bm("suffix","password-clear")]:X.value&&oe.value,[$.b("hidden")]:i.type==="hidden"},l.class]),p=w(()=>[$.e("wrapper"),$.is("focus",F.value)]),f=LE({excludeKeys:w(()=>Object.keys(u.value))}),{form:g,formItem:m}=Bo(),{inputId:_}=$i(i,{formItemContext:m}),b=Kn(),T=Zo(),$=xe("input"),E=xe("textarea"),y=_n(),I=_n(),C=V(!1),S=V(!1),R=V(!1),O=V(),P=_n(i.inputStyle),M=w(()=>y.value||I.value),{wrapperRef:H,isFocused:F,handleFocus:B,handleBlur:K}=Bg(M,{afterBlur(){var q;i.validateEvent&&((q=m==null?void 0:m.validate)==null||q.call(m,"blur").catch(et=>void 0))}}),te=w(()=>{var q;return(q=g==null?void 0:g.statusIcon)!=null?q:!1}),Z=w(()=>(m==null?void 0:m.validateState)||""),j=w(()=>Z.value&&AE[Z.value]),z=w(()=>R.value?tz:I4),G=w(()=>[l.style]),W=w(()=>[i.inputStyle,P.value,{resize:i.resize}]),D=w(()=>io(i.modelValue)?"":String(i.modelValue)),X=w(()=>i.clearable&&!T.value&&!i.readonly&&!!D.value&&(F.value||C.value)),oe=w(()=>i.showPassword&&!T.value&&!i.readonly&&!!D.value&&(!!D.value||F.value)),le=w(()=>i.showWordLimit&&!!i.maxlength&&(i.type==="text"||i.type==="textarea")&&!T.value&&!i.readonly&&!i.showPassword),me=w(()=>D.value.length),Se=w(()=>!!le.value&&me.value>Number(i.maxlength)),Pe=w(()=>!!a.suffix||!!i.suffixIcon||X.value||i.showPassword||le.value||!!Z.value&&te.value),[de,ye]=_6(y);In(I,q=>{if(ve(),!le.value||i.resize!=="both")return;const et=q[0],{width:lt}=et.contentRect;O.value={right:`calc(100% - ${lt+15+6}px)`}});const _e=()=>{const{type:q,autosize:et}=i;if(!(!Kt||q!=="textarea"||!I.value))if(et){const lt=xt(et)?et.minRows:void 0,Et=xt(et)?et.maxRows:void 0,Tt=TR(I.value,lt,Et);P.value={overflowY:"hidden",...Tt},pt(()=>{I.value.offsetHeight,P.value=Tt})}else P.value={minHeight:TR(I.value).minHeight}},ve=(q=>{let et=!1;return()=>{var lt;if(et||!i.autosize)return;((lt=I.value)==null?void 0:lt.offsetParent)===null||(q(),et=!0)}})(_e),Ne=()=>{const q=M.value,et=i.formatter?i.formatter(D.value):D.value;!q||q.value===et||(q.value=et)},He=async q=>{de();let{value:et}=q.target;if(i.formatter&&(et=i.parser?i.parser(et):et),!S.value){if(et===D.value){Ne();return}o(Bt,et),o("input",et),await pt(),Ne(),ye()}},ae=q=>{o("change",q.target.value)},he=q=>{o("compositionstart",q),S.value=!0},Ae=q=>{var et;o("compositionupdate",q);const lt=(et=q.target)==null?void 0:et.value,Et=lt[lt.length-1]||"";S.value=!NE(Et)},Fe=q=>{o("compositionend",q),S.value&&(S.value=!1,He(q))},Ce=()=>{R.value=!R.value,De()},De=async()=>{var q;await pt(),(q=M.value)==null||q.focus()},Ve=()=>{var q;return(q=M.value)==null?void 0:q.blur()},ue=q=>{C.value=!1,o("mouseleave",q)},we=q=>{C.value=!0,o("mouseenter",q)},ke=q=>{o("keydown",q)},Ge=()=>{var q;(q=M.value)==null||q.select()},ot=()=>{o(Bt,""),o("change",""),o("clear"),o("input","")};return Me(()=>i.modelValue,()=>{var q;pt(()=>_e()),i.validateEvent&&((q=m==null?void 0:m.validate)==null||q.call(m,"change").catch(et=>void 0))}),Me(D,()=>Ne()),Me(()=>i.type,async()=>{await pt(),Ne(),_e()}),At(()=>{!i.formatter&&i.parser,Ne(),pt(_e)}),Qn({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},w(()=>!!i.label)),n({input:y,textarea:I,ref:M,textareaStyle:W,autosize:on(i,"autosize"),focus:De,blur:Ve,select:Ge,clear:ot,resizeTextarea:_e}),(q,et)=>(N(),Y("div",Vt(c(u),{class:[c(h),{[c($).bm("group","append")]:q.$slots.append,[c($).bm("group","prepend")]:q.$slots.prepend}],style:c(G),role:q.containerRole,onMouseenter:we,onMouseleave:ue}),[$e(" input "),q.type!=="textarea"?(N(),Y(dt,{key:0},[$e(" prepend slot "),q.$slots.prepend?(N(),Y("div",{key:0,class:L(c($).be("group","prepend"))},[Te(q.$slots,"prepend")],2)):$e("v-if",!0),Q("div",{ref_key:"wrapperRef",ref:H,class:L(c(p))},[$e(" prefix slot "),q.$slots.prefix||q.prefixIcon?(N(),Y("span",{key:0,class:L(c($).e("prefix"))},[Q("span",{class:L(c($).e("prefix-inner"))},[Te(q.$slots,"prefix"),q.prefixIcon?(N(),be(c(at),{key:0,class:L(c($).e("icon"))},{default:ce(()=>[(N(),be(Ft(q.prefixIcon)))]),_:1},8,["class"])):$e("v-if",!0)],2)],2)):$e("v-if",!0),Q("input",Vt({id:c(_),ref_key:"input",ref:y,class:c($).e("inner")},c(f),{minlength:q.minlength,maxlength:q.maxlength,type:q.showPassword?R.value?"text":"password":q.type,disabled:c(T),readonly:q.readonly,autocomplete:q.autocomplete,tabindex:q.tabindex,"aria-label":q.label||q.ariaLabel,placeholder:q.placeholder,style:q.inputStyle,form:q.form,autofocus:q.autofocus,onCompositionstart:he,onCompositionupdate:Ae,onCompositionend:Fe,onInput:He,onFocus:et[0]||(et[0]=(...lt)=>c(B)&&c(B)(...lt)),onBlur:et[1]||(et[1]=(...lt)=>c(K)&&c(K)(...lt)),onChange:ae,onKeydown:ke}),null,16,YK),$e(" suffix slot "),c(Pe)?(N(),Y("span",{key:1,class:L(c($).e("suffix"))},[Q("span",{class:L(c($).e("suffix-inner"))},[!c(X)||!c(oe)||!c(le)?(N(),Y(dt,{key:0},[Te(q.$slots,"suffix"),q.suffixIcon?(N(),be(c(at),{key:0,class:L(c($).e("icon"))},{default:ce(()=>[(N(),be(Ft(q.suffixIcon)))]),_:1},8,["class"])):$e("v-if",!0)],64)):$e("v-if",!0),c(X)?(N(),be(c(at),{key:1,class:L([c($).e("icon"),c($).e("clear")]),onMousedown:bt(c(nn),["prevent"]),onClick:ot},{default:ce(()=>[ie(c(Nl))]),_:1},8,["class","onMousedown"])):$e("v-if",!0),c(oe)?(N(),be(c(at),{key:2,class:L([c($).e("icon"),c($).e("password")]),onClick:Ce},{default:ce(()=>[(N(),be(Ft(c(z))))]),_:1},8,["class"])):$e("v-if",!0),c(le)?(N(),Y("span",{key:3,class:L(c($).e("count"))},[Q("span",{class:L(c($).e("count-inner"))},ze(c(me))+" / "+ze(q.maxlength),3)],2)):$e("v-if",!0),c(Z)&&c(j)&&c(te)?(N(),be(c(at),{key:4,class:L([c($).e("icon"),c($).e("validateIcon"),c($).is("loading",c(Z)==="validating")])},{default:ce(()=>[(N(),be(Ft(c(j))))]),_:1},8,["class"])):$e("v-if",!0)],2)],2)):$e("v-if",!0)],2),$e(" append slot "),q.$slots.append?(N(),Y("div",{key:1,class:L(c($).be("group","append"))},[Te(q.$slots,"append")],2)):$e("v-if",!0)],64)):(N(),Y(dt,{key:1},[$e(" textarea "),Q("textarea",Vt({id:c(_),ref_key:"textarea",ref:I,class:[c(E).e("inner"),c($).is("focus",c(F))]},c(f),{minlength:q.minlength,maxlength:q.maxlength,tabindex:q.tabindex,disabled:c(T),readonly:q.readonly,autocomplete:q.autocomplete,style:c(W),"aria-label":q.label||q.ariaLabel,placeholder:q.placeholder,form:q.form,autofocus:q.autofocus,onCompositionstart:he,onCompositionupdate:Ae,onCompositionend:Fe,onInput:He,onFocus:et[2]||(et[2]=(...lt)=>c(B)&&c(B)(...lt)),onBlur:et[3]||(et[3]=(...lt)=>c(K)&&c(K)(...lt)),onChange:ae,onKeydown:ke}),null,16,jK),c(le)?(N(),Y("span",{key:0,style:ct(O.value),class:L(c($).e("count"))},ze(c(me))+" / "+ze(q.maxlength),7)):$e("v-if",!0)],64))],16,XK))}});var ZK=We(JK,[["__file","input.vue"]]);const Mo=Dt(ZK),Wu=4,qM={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},QK=({move:t,size:n,bar:o})=>({[o.size]:n,transform:`translate${o.axis}(${t}%)`}),e0=Symbol("scrollbarContextKey"),e5=Ue({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),t5="Thumb",n5=ne({__name:"thumb",props:e5,setup(t){const n=t,o=it(e0),i=xe("scrollbar");o||jn(t5,"can not inject scrollbar context");const l=V(),a=V(),u=V({}),h=V(!1);let p=!1,f=!1,g=Kt?document.onselectstart:null;const m=w(()=>qM[n.vertical?"vertical":"horizontal"]),_=w(()=>QK({size:n.size,move:n.move,bar:m.value})),b=w(()=>l.value[m.value.offset]**2/o.wrapElement[m.value.scrollSize]/n.ratio/a.value[m.value.offset]),T=O=>{var P;if(O.stopPropagation(),O.ctrlKey||[1,2].includes(O.button))return;(P=window.getSelection())==null||P.removeAllRanges(),E(O);const M=O.currentTarget;M&&(u.value[m.value.axis]=M[m.value.offset]-(O[m.value.client]-M.getBoundingClientRect()[m.value.direction]))},$=O=>{if(!a.value||!l.value||!o.wrapElement)return;const P=Math.abs(O.target.getBoundingClientRect()[m.value.direction]-O[m.value.client]),M=a.value[m.value.offset]/2,H=(P-M)*100*b.value/l.value[m.value.offset];o.wrapElement[m.value.scroll]=H*o.wrapElement[m.value.scrollSize]/100},E=O=>{O.stopImmediatePropagation(),p=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",I),g=document.onselectstart,document.onselectstart=()=>!1},y=O=>{if(!l.value||!a.value||p===!1)return;const P=u.value[m.value.axis];if(!P)return;const M=(l.value.getBoundingClientRect()[m.value.direction]-O[m.value.client])*-1,H=a.value[m.value.offset]-P,F=(M-H)*100*b.value/l.value[m.value.offset];o.wrapElement[m.value.scroll]=F*o.wrapElement[m.value.scrollSize]/100},I=()=>{p=!1,u.value[m.value.axis]=0,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",I),R(),f&&(h.value=!1)},C=()=>{f=!1,h.value=!!n.size},S=()=>{f=!0,h.value=p};fn(()=>{R(),document.removeEventListener("mouseup",I)});const R=()=>{document.onselectstart!==g&&(document.onselectstart=g)};return gn(on(o,"scrollbarElement"),"mousemove",C),gn(on(o,"scrollbarElement"),"mouseleave",S),(O,P)=>(N(),be(Yn,{name:c(i).b("fade"),persisted:""},{default:ce(()=>[Rt(Q("div",{ref_key:"instance",ref:l,class:L([c(i).e("bar"),c(i).is(c(m).key)]),onMousedown:$},[Q("div",{ref_key:"thumb",ref:a,class:L(c(i).e("thumb")),style:ct(c(_)),onMousedown:T},null,38)],34),[[qt,O.always||h.value]])]),_:1},8,["name"]))}});var yR=We(n5,[["__file","thumb.vue"]]);const o5=Ue({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),s5=ne({__name:"bar",props:o5,setup(t,{expose:n}){const o=t,i=it(e0),l=V(0),a=V(0),u=V(""),h=V(""),p=V(1),f=V(1);return n({handleScroll:_=>{if(_){const b=_.offsetHeight-Wu,T=_.offsetWidth-Wu;a.value=_.scrollTop*100/b*p.value,l.value=_.scrollLeft*100/T*f.value}},update:()=>{const _=i==null?void 0:i.wrapElement;if(!_)return;const b=_.offsetHeight-Wu,T=_.offsetWidth-Wu,$=b**2/_.scrollHeight,E=T**2/_.scrollWidth,y=Math.max($,o.minSize),I=Math.max(E,o.minSize);p.value=$/(b-$)/(y/(b-y)),f.value=E/(T-E)/(I/(T-I)),h.value=y+Wu<b?`${y}px`:"",u.value=I+Wu<T?`${I}px`:""}}),(_,b)=>(N(),Y(dt,null,[ie(yR,{move:l.value,ratio:f.value,size:u.value,always:_.always},null,8,["move","ratio","size","always"]),ie(yR,{move:a.value,ratio:p.value,size:h.value,vertical:"",always:_.always},null,8,["move","ratio","size","always"])],64))}});var i5=We(s5,[["__file","bar.vue"]]);const r5=Ue({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:fe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...mo(["ariaLabel","ariaOrientation"])}),l5={scroll:({scrollTop:t,scrollLeft:n})=>[t,n].every($t)},a5="ElScrollbar",u5=ne({name:a5}),c5=ne({...u5,props:r5,emits:l5,setup(t,{expose:n,emit:o}){const i=t,l=xe("scrollbar");let a,u;const h=V(),p=V(),f=V(),g=V(),m=w(()=>{const C={};return i.height&&(C.height=Ln(i.height)),i.maxHeight&&(C.maxHeight=Ln(i.maxHeight)),[i.wrapStyle,C]}),_=w(()=>[i.wrapClass,l.e("wrap"),{[l.em("wrap","hidden-default")]:!i.native}]),b=w(()=>[l.e("view"),i.viewClass]),T=()=>{var C;p.value&&((C=g.value)==null||C.handleScroll(p.value),o("scroll",{scrollTop:p.value.scrollTop,scrollLeft:p.value.scrollLeft}))};function $(C,S){xt(C)?p.value.scrollTo(C):$t(C)&&$t(S)&&p.value.scrollTo(C,S)}const E=C=>{$t(C)&&(p.value.scrollTop=C)},y=C=>{$t(C)&&(p.value.scrollLeft=C)},I=()=>{var C;(C=g.value)==null||C.update()};return Me(()=>i.noresize,C=>{C?(a==null||a(),u==null||u()):({stop:a}=In(f,I),u=gn("resize",I))},{immediate:!0}),Me(()=>[i.maxHeight,i.height],()=>{i.native||pt(()=>{var C;I(),p.value&&((C=g.value)==null||C.handleScroll(p.value))})}),Ut(e0,Qt({scrollbarElement:h,wrapElement:p})),At(()=>{i.native||pt(()=>{I()})}),Rr(()=>I()),n({wrapRef:p,update:I,scrollTo:$,setScrollTop:E,setScrollLeft:y,handleScroll:T}),(C,S)=>(N(),Y("div",{ref_key:"scrollbarRef",ref:h,class:L(c(l).b())},[Q("div",{ref_key:"wrapRef",ref:p,class:L(c(_)),style:ct(c(m)),onScroll:T},[(N(),be(Ft(C.tag),{id:C.id,ref_key:"resizeRef",ref:f,class:L(c(b)),style:ct(C.viewStyle),role:C.role,"aria-label":C.ariaLabel,"aria-orientation":C.ariaOrientation},{default:ce(()=>[Te(C.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),C.native?$e("v-if",!0):(N(),be(i5,{key:0,ref_key:"barRef",ref:g,always:C.always,"min-size":C.minSize},null,8,["always","min-size"]))],2))}});var d5=We(c5,[["__file","scrollbar.vue"]]);const Dr=Dt(d5),t0=Symbol("popper"),JM=Symbol("popperContent"),h5=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],ZM=Ue({role:{type:String,values:h5,default:"tooltip"}}),p5=ne({name:"ElPopper",inheritAttrs:!1}),f5=ne({...p5,props:ZM,setup(t,{expose:n}){const o=t,i=V(),l=V(),a=V(),u=V(),h=w(()=>o.role),p={triggerRef:i,popperInstanceRef:l,contentRef:a,referenceRef:u,role:h};return n(p),Ut(t0,p),(f,g)=>Te(f.$slots,"default")}});var m5=We(f5,[["__file","popper.vue"]]);const QM=Ue({arrowOffset:{type:Number,default:5}}),g5=ne({name:"ElPopperArrow",inheritAttrs:!1}),$5=ne({...g5,props:QM,setup(t,{expose:n}){const o=t,i=xe("popper"),{arrowOffset:l,arrowRef:a,arrowStyle:u}=it(JM,void 0);return Me(()=>o.arrowOffset,h=>{l.value=h}),fn(()=>{a.value=void 0}),n({arrowRef:a}),(h,p)=>(N(),Y("span",{ref_key:"arrowRef",ref:a,class:L(c(i).e("arrow")),style:ct(c(u)),"data-popper-arrow":""},null,6))}});var v5=We($5,[["__file","arrow.vue"]]);const _5="ElOnlyChild",e1=ne({name:_5,setup(t,{slots:n,attrs:o}){var i;const l=it(RM),a=D8((i=l==null?void 0:l.setForwardRef)!=null?i:nn);return()=>{var u;const h=(u=n.default)==null?void 0:u.call(n,o);if(!h||h.length>1)return null;const p=t1(h);return p?Rt(Ir(p,o),[[a]]):null}}});function t1(t){if(!t)return null;const n=t;for(const o of n){if(xt(o))switch(o.type){case bo:continue;case Pc:case"svg":return ER(o);case dt:return t1(o.children);default:return o}return ER(o)}return null}function ER(t){const n=xe("only-child");return ie("span",{class:n.e("content")},[t])}const n1=Ue({virtualRef:{type:fe(Object)},virtualTriggering:Boolean,onMouseenter:{type:fe(Function)},onMouseleave:{type:fe(Function)},onClick:{type:fe(Function)},onKeydown:{type:fe(Function)},onFocus:{type:fe(Function)},onBlur:{type:fe(Function)},onContextmenu:{type:fe(Function)},id:String,open:Boolean}),b5=ne({name:"ElPopperTrigger",inheritAttrs:!1}),T5=ne({...b5,props:n1,setup(t,{expose:n}){const o=t,{role:i,triggerRef:l}=it(t0,void 0);M8(l);const a=w(()=>h.value?o.id:void 0),u=w(()=>{if(i&&i.value==="tooltip")return o.open&&o.id?o.id:void 0}),h=w(()=>{if(i&&i.value!=="tooltip")return i.value}),p=w(()=>h.value?`${o.open}`:void 0);let f;return At(()=>{Me(()=>o.virtualRef,g=>{g&&(l.value=ss(g))},{immediate:!0}),Me(l,(g,m)=>{f==null||f(),f=void 0,zs(g)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(_=>{var b;const T=o[_];T&&(g.addEventListener(_.slice(2).toLowerCase(),T),(b=m==null?void 0:m.removeEventListener)==null||b.call(m,_.slice(2).toLowerCase(),T))}),f=Me([a,u,h,p],_=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((b,T)=>{io(_[T])?g.removeAttribute(b):g.setAttribute(b,_[T])})},{immediate:!0})),zs(m)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(_=>m.removeAttribute(_))},{immediate:!0})}),fn(()=>{f==null||f(),f=void 0}),n({triggerRef:l}),(g,m)=>g.virtualTriggering?$e("v-if",!0):(N(),be(c(e1),Vt({key:0},g.$attrs,{"aria-controls":c(a),"aria-describedby":c(u),"aria-expanded":c(p),"aria-haspopup":c(h)}),{default:ce(()=>[Te(g.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var y5=We(T5,[["__file","trigger.vue"]]);const Gb="focus-trap.focus-after-trapped",Wb="focus-trap.focus-after-released",E5="focus-trap.focusout-prevented",CR={cancelable:!0,bubbles:!1},C5={cancelable:!0,bubbles:!1},SR="focusAfterTrapped",IR="focusAfterReleased",n0=Symbol("elFocusTrap"),o0=V(),Vg=V(0),s0=V(0);let Zf=0;const o1=t=>{const n=[],o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const l=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||l?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)n.push(o.currentNode);return n},wR=(t,n)=>{for(const o of t)if(!S5(o,n))return o},S5=(t,n)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},I5=t=>{const n=o1(t),o=wR(n,t),i=wR(n.reverse(),t);return[o,i]},w5=t=>t instanceof HTMLInputElement&&"select"in t,sl=(t,n)=>{if(t&&t.focus){const o=document.activeElement;t.focus({preventScroll:!0}),s0.value=window.performance.now(),t!==o&&w5(t)&&n&&t.select()}};function kR(t,n){const o=[...t],i=t.indexOf(n);return i!==-1&&o.splice(i,1),o}const k5=()=>{let t=[];return{push:i=>{const l=t[0];l&&i!==l&&l.pause(),t=kR(t,i),t.unshift(i)},remove:i=>{var l,a;t=kR(t,i),(a=(l=t[0])==null?void 0:l.resume)==null||a.call(l)}}},O5=(t,n=!1)=>{const o=document.activeElement;for(const i of t)if(sl(i,n),document.activeElement!==o)return},OR=k5(),R5=()=>Vg.value>s0.value,Qf=()=>{o0.value="pointer",Vg.value=window.performance.now()},RR=()=>{o0.value="keyboard",Vg.value=window.performance.now()},A5=()=>(At(()=>{Zf===0&&(document.addEventListener("mousedown",Qf),document.addEventListener("touchstart",Qf),document.addEventListener("keydown",RR)),Zf++}),fn(()=>{Zf--,Zf<=0&&(document.removeEventListener("mousedown",Qf),document.removeEventListener("touchstart",Qf),document.removeEventListener("keydown",RR))}),{focusReason:o0,lastUserFocusTimestamp:Vg,lastAutomatedFocusTimestamp:s0}),em=t=>new CustomEvent(E5,{...C5,detail:t}),N5=ne({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[SR,IR,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:n}){const o=V();let i,l;const{focusReason:a}=A5();O8(T=>{t.trapped&&!u.paused&&n("release-requested",T)});const u={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},h=T=>{if(!t.loop&&!t.trapped||u.paused)return;const{key:$,altKey:E,ctrlKey:y,metaKey:I,currentTarget:C,shiftKey:S}=T,{loop:R}=t,O=$===mt.tab&&!E&&!y&&!I,P=document.activeElement;if(O&&P){const M=C,[H,F]=I5(M);if(H&&F){if(!S&&P===F){const K=em({focusReason:a.value});n("focusout-prevented",K),K.defaultPrevented||(T.preventDefault(),R&&sl(H,!0))}else if(S&&[H,M].includes(P)){const K=em({focusReason:a.value});n("focusout-prevented",K),K.defaultPrevented||(T.preventDefault(),R&&sl(F,!0))}}else if(P===M){const K=em({focusReason:a.value});n("focusout-prevented",K),K.defaultPrevented||T.preventDefault()}}};Ut(n0,{focusTrapRef:o,onKeydown:h}),Me(()=>t.focusTrapEl,T=>{T&&(o.value=T)},{immediate:!0}),Me([o],([T],[$])=>{T&&(T.addEventListener("keydown",h),T.addEventListener("focusin",g),T.addEventListener("focusout",m)),$&&($.removeEventListener("keydown",h),$.removeEventListener("focusin",g),$.removeEventListener("focusout",m))});const p=T=>{n(SR,T)},f=T=>n(IR,T),g=T=>{const $=c(o);if(!$)return;const E=T.target,y=T.relatedTarget,I=E&&$.contains(E);t.trapped||y&&$.contains(y)||(i=y),I&&n("focusin",T),!u.paused&&t.trapped&&(I?l=E:sl(l,!0))},m=T=>{const $=c(o);if(!(u.paused||!$))if(t.trapped){const E=T.relatedTarget;!io(E)&&!$.contains(E)&&setTimeout(()=>{if(!u.paused&&t.trapped){const y=em({focusReason:a.value});n("focusout-prevented",y),y.defaultPrevented||sl(l,!0)}},0)}else{const E=T.target;E&&$.contains(E)||n("focusout",T)}};async function _(){await pt();const T=c(o);if(T){OR.push(u);const $=T.contains(document.activeElement)?i:document.activeElement;if(i=$,!T.contains($)){const y=new Event(Gb,CR);T.addEventListener(Gb,p),T.dispatchEvent(y),y.defaultPrevented||pt(()=>{let I=t.focusStartEl;yt(I)||(sl(I),document.activeElement!==I&&(I="first")),I==="first"&&O5(o1(T),!0),(document.activeElement===$||I==="container")&&sl(T)})}}}function b(){const T=c(o);if(T){T.removeEventListener(Gb,p);const $=new CustomEvent(Wb,{...CR,detail:{focusReason:a.value}});T.addEventListener(Wb,f),T.dispatchEvent($),!$.defaultPrevented&&(a.value=="keyboard"||!R5()||T.contains(document.activeElement))&&sl(i??document.body),T.removeEventListener(Wb,f),OR.remove(u)}}return At(()=>{t.trapped&&_(),Me(()=>t.trapped,T=>{T?_():b()})}),fn(()=>{t.trapped&&b()}),{onKeydown:h}}});function L5(t,n,o,i,l,a){return Te(t.$slots,"default",{handleKeydown:t.onKeydown})}var lp=We(N5,[["render",L5],["__file","focus-trap.vue"]]);const M5=["fixed","absolute"],D5=Ue({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:fe(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Xa,default:"bottom"},popperOptions:{type:fe(Object),default:()=>({})},strategy:{type:String,values:M5,default:"absolute"}}),s1=Ue({...D5,id:String,style:{type:fe([String,Array,Object])},className:{type:fe([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:fe([String,Array,Object])},popperStyle:{type:fe([String,Array,Object])},referenceEl:{type:fe(Object)},triggerTargetEl:{type:fe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...mo(["ariaLabel"])}),P5={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},x5=(t,n=[])=>{const{placement:o,strategy:i,popperOptions:l}=t,a={placement:o,strategy:i,...l,modifiers:[...F5(t),...n]};return H5(a,l==null?void 0:l.modifiers),a},B5=t=>{if(Kt)return ss(t)};function F5(t){const{offset:n,gpuAcceleration:o,fallbackPlacements:i}=t;return[{name:"offset",options:{offset:[0,n??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:o}}]}function H5(t,n){n&&(t.modifiers=[...t.modifiers,...n??[]])}const V5=0,U5=t=>{const{popperInstanceRef:n,contentRef:o,triggerRef:i,role:l}=it(t0,void 0),a=V(),u=V(),h=w(()=>({name:"eventListeners",enabled:!!t.visible})),p=w(()=>{var y;const I=c(a),C=(y=c(u))!=null?y:V5;return{name:"arrow",enabled:!eM(I),options:{element:I,padding:C}}}),f=w(()=>({onFirstUpdate:()=>{T()},...x5(t,[c(p),c(h)])})),g=w(()=>B5(t.referenceEl)||c(i)),{attributes:m,state:_,styles:b,update:T,forceUpdate:$,instanceRef:E}=S8(g,o,f);return Me(E,y=>n.value=y),At(()=>{Me(()=>{var y;return(y=c(g))==null?void 0:y.getBoundingClientRect()},()=>{T()})}),{attributes:m,arrowRef:a,contentRef:o,instanceRef:E,state:_,styles:b,role:l,forceUpdate:$,update:T}},G5=(t,{attributes:n,styles:o,role:i})=>{const{nextZIndex:l}=Vc(),a=xe("popper"),u=w(()=>c(n).popper),h=V($t(t.zIndex)?t.zIndex:l()),p=w(()=>[a.b(),a.is("pure",t.pure),a.is(t.effect),t.popperClass]),f=w(()=>[{zIndex:c(h)},c(o).popper,t.popperStyle||{}]),g=w(()=>i.value==="dialog"?"false":void 0),m=w(()=>c(o).arrow||{});return{ariaModal:g,arrowStyle:m,contentAttrs:u,contentClass:p,contentStyle:f,contentZIndex:h,updateZIndex:()=>{h.value=$t(t.zIndex)?t.zIndex:l()}}},W5=(t,n)=>{const o=V(!1),i=V();return{focusStartRef:i,trapped:o,onFocusAfterReleased:f=>{var g;((g=f.detail)==null?void 0:g.focusReason)!=="pointer"&&(i.value="first",n("blur"))},onFocusAfterTrapped:()=>{n("focus")},onFocusInTrap:f=>{t.visible&&!o.value&&(f.target&&(i.value=f.target),o.value=!0)},onFocusoutPrevented:f=>{t.trapping||(f.detail.focusReason==="pointer"&&f.preventDefault(),o.value=!1)},onReleaseRequested:()=>{o.value=!1,n("close")}}},z5=ne({name:"ElPopperContent"}),K5=ne({...z5,props:s1,emits:P5,setup(t,{expose:n,emit:o}){const i=t,{focusStartRef:l,trapped:a,onFocusAfterReleased:u,onFocusAfterTrapped:h,onFocusInTrap:p,onFocusoutPrevented:f,onReleaseRequested:g}=W5(i,o),{attributes:m,arrowRef:_,contentRef:b,styles:T,instanceRef:$,role:E,update:y}=U5(i),{ariaModal:I,arrowStyle:C,contentAttrs:S,contentClass:R,contentStyle:O,updateZIndex:P}=G5(i,{styles:T,attributes:m,role:E}),M=it(zi,void 0),H=V();Ut(JM,{arrowStyle:C,arrowRef:_,arrowOffset:H}),M&&Ut(zi,{...M,addInputId:nn,removeInputId:nn});let F;const B=(te=!0)=>{y(),te&&P()},K=()=>{B(!1),i.visible&&i.focusOnShow?a.value=!0:i.visible===!1&&(a.value=!1)};return At(()=>{Me(()=>i.triggerTargetEl,(te,Z)=>{F==null||F(),F=void 0;const j=c(te||b.value),z=c(Z||b.value);zs(j)&&(F=Me([E,()=>i.ariaLabel,I,()=>i.id],G=>{["role","aria-label","aria-modal","id"].forEach((W,D)=>{io(G[D])?j.removeAttribute(W):j.setAttribute(W,G[D])})},{immediate:!0})),z!==j&&zs(z)&&["role","aria-label","aria-modal","id"].forEach(G=>{z.removeAttribute(G)})},{immediate:!0}),Me(()=>i.visible,K,{immediate:!0})}),fn(()=>{F==null||F(),F=void 0}),n({popperContentRef:b,popperInstanceRef:$,updatePopper:B,contentStyle:O}),(te,Z)=>(N(),Y("div",Vt({ref_key:"contentRef",ref:b},c(S),{style:c(O),class:c(R),tabindex:"-1",onMouseenter:Z[0]||(Z[0]=j=>te.$emit("mouseenter",j)),onMouseleave:Z[1]||(Z[1]=j=>te.$emit("mouseleave",j))}),[ie(c(lp),{trapped:c(a),"trap-on-focus-in":!0,"focus-trap-el":c(b),"focus-start-el":c(l),onFocusAfterTrapped:c(h),onFocusAfterReleased:c(u),onFocusin:c(p),onFocusoutPrevented:c(f),onReleaseRequested:c(g)},{default:ce(()=>[Te(te.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var X5=We(K5,[["__file","content.vue"]]);const i1=Dt(m5),Ug=Symbol("elTooltip"),so=Ue({...N8,...s1,appendTo:{type:fe([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,visible:{type:fe(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...mo(["ariaLabel"])}),Mh=Ue({...n1,disabled:Boolean,trigger:{type:fe([String,Array]),default:"hover"},triggerKeys:{type:fe(Array),default:()=>[mt.enter,mt.space]}}),{useModelToggleProps:Y5,useModelToggleEmits:j5,useModelToggle:q5}=gM("visible"),J5=Ue({...ZM,...Y5,...so,...Mh,...QM,showArrow:{type:Boolean,default:!0}}),Z5=[...j5,"before-show","before-hide","show","hide","open","close"],Q5=(t,n)=>tt(t)?t.includes(n):t===n,zu=(t,n,o)=>i=>{Q5(c(t),n)&&o(i)},eX=ne({name:"ElTooltipTrigger"}),tX=ne({...eX,props:Mh,setup(t,{expose:n}){const o=t,i=xe("tooltip"),{controlled:l,id:a,open:u,onOpen:h,onClose:p,onToggle:f}=it(Ug,void 0),g=V(null),m=()=>{if(c(l)||o.disabled)return!0},_=on(o,"trigger"),b=Nn(m,zu(_,"hover",h)),T=Nn(m,zu(_,"hover",p)),$=Nn(m,zu(_,"click",S=>{S.button===0&&f(S)})),E=Nn(m,zu(_,"focus",h)),y=Nn(m,zu(_,"focus",p)),I=Nn(m,zu(_,"contextmenu",S=>{S.preventDefault(),f(S)})),C=Nn(m,S=>{const{code:R}=S;o.triggerKeys.includes(R)&&(S.preventDefault(),f(S))});return n({triggerRef:g}),(S,R)=>(N(),be(c(y5),{id:c(a),"virtual-ref":S.virtualRef,open:c(u),"virtual-triggering":S.virtualTriggering,class:L(c(i).e("trigger")),onBlur:c(y),onClick:c($),onContextmenu:c(I),onFocus:c(E),onMouseenter:c(b),onMouseleave:c(T),onKeydown:c(C)},{default:ce(()=>[Te(S.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var nX=We(tX,[["__file","trigger.vue"]]);const oX=ne({name:"ElTooltipContent",inheritAttrs:!1}),sX=ne({...oX,props:so,setup(t,{expose:n}){const o=t,{selector:i}=OM(),l=xe("tooltip"),a=V(null),u=V(!1),{controlled:h,id:p,open:f,trigger:g,onClose:m,onOpen:_,onShow:b,onHide:T,onBeforeShow:$,onBeforeHide:E}=it(Ug,void 0),y=w(()=>o.transition||`${l.namespace.value}-fade-in-linear`),I=w(()=>o.persistent);fn(()=>{u.value=!0});const C=w(()=>c(I)?!0:c(f)),S=w(()=>o.disabled?!1:c(f)),R=w(()=>o.appendTo||i.value),O=w(()=>{var G;return(G=o.style)!=null?G:{}}),P=w(()=>!c(f)),M=()=>{T()},H=()=>{if(c(h))return!0},F=Nn(H,()=>{o.enterable&&c(g)==="hover"&&_()}),B=Nn(H,()=>{c(g)==="hover"&&m()}),K=()=>{var G,W;(W=(G=a.value)==null?void 0:G.updatePopper)==null||W.call(G),$==null||$()},te=()=>{E==null||E()},Z=()=>{b(),z=iE(w(()=>{var G;return(G=a.value)==null?void 0:G.popperContentRef}),()=>{if(c(h))return;c(g)!=="hover"&&m()})},j=()=>{o.virtualTriggering||m()};let z;return Me(()=>c(f),G=>{G||z==null||z()},{flush:"post"}),Me(()=>o.content,()=>{var G,W;(W=(G=a.value)==null?void 0:G.updatePopper)==null||W.call(G)}),n({contentRef:a}),(G,W)=>(N(),be(Dc,{disabled:!G.teleported,to:c(R)},[ie(Yn,{name:c(y),onAfterLeave:M,onBeforeEnter:K,onAfterEnter:Z,onBeforeLeave:te},{default:ce(()=>[c(C)?Rt((N(),be(c(X5),Vt({key:0,id:c(p),ref_key:"contentRef",ref:a},G.$attrs,{"aria-label":G.ariaLabel,"aria-hidden":c(P),"boundaries-padding":G.boundariesPadding,"fallback-placements":G.fallbackPlacements,"gpu-acceleration":G.gpuAcceleration,offset:G.offset,placement:G.placement,"popper-options":G.popperOptions,strategy:G.strategy,effect:G.effect,enterable:G.enterable,pure:G.pure,"popper-class":G.popperClass,"popper-style":[G.popperStyle,c(O)],"reference-el":G.referenceEl,"trigger-target-el":G.triggerTargetEl,visible:c(S),"z-index":G.zIndex,onMouseenter:c(F),onMouseleave:c(B),onBlur:j,onClose:c(m)}),{default:ce(()=>[u.value?$e("v-if",!0):Te(G.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[qt,c(S)]]):$e("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var iX=We(sX,[["__file","content.vue"]]);const rX=["innerHTML"],lX={key:1},aX=ne({name:"ElTooltip"}),uX=ne({...aX,props:J5,emits:Z5,setup(t,{expose:n,emit:o}){const i=t;A8();const l=So(),a=V(),u=V(),h=()=>{var y;const I=c(a);I&&((y=I.popperInstanceRef)==null||y.update())},p=V(!1),f=V(),{show:g,hide:m,hasUpdateHandler:_}=q5({indicator:p,toggleReason:f}),{onOpen:b,onClose:T}=L8({showAfter:on(i,"showAfter"),hideAfter:on(i,"hideAfter"),autoClose:on(i,"autoClose"),open:g,close:m}),$=w(()=>Hn(i.visible)&&!_.value);Ut(Ug,{controlled:$,id:l,open:Mc(p),trigger:on(i,"trigger"),onOpen:y=>{b(y)},onClose:y=>{T(y)},onToggle:y=>{c(p)?T(y):b(y)},onShow:()=>{o("show",f.value)},onHide:()=>{o("hide",f.value)},onBeforeShow:()=>{o("before-show",f.value)},onBeforeHide:()=>{o("before-hide",f.value)},updatePopper:h}),Me(()=>i.disabled,y=>{y&&p.value&&(p.value=!1)});const E=y=>{var I,C;const S=(C=(I=u.value)==null?void 0:I.contentRef)==null?void 0:C.popperContentRef,R=(y==null?void 0:y.relatedTarget)||document.activeElement;return S&&S.contains(R)};return PN(()=>p.value&&m()),n({popperRef:a,contentRef:u,isFocusInsideContent:E,updatePopper:h,onOpen:b,onClose:T,hide:m}),(y,I)=>(N(),be(c(i1),{ref_key:"popperRef",ref:a,role:y.role},{default:ce(()=>[ie(nX,{disabled:y.disabled,trigger:y.trigger,"trigger-keys":y.triggerKeys,"virtual-ref":y.virtualRef,"virtual-triggering":y.virtualTriggering},{default:ce(()=>[y.$slots.default?Te(y.$slots,"default",{key:0}):$e("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ie(iX,{ref_key:"contentRef",ref:u,"aria-label":y.ariaLabel,"boundaries-padding":y.boundariesPadding,content:y.content,disabled:y.disabled,effect:y.effect,enterable:y.enterable,"fallback-placements":y.fallbackPlacements,"hide-after":y.hideAfter,"gpu-acceleration":y.gpuAcceleration,offset:y.offset,persistent:y.persistent,"popper-class":y.popperClass,"popper-style":y.popperStyle,placement:y.placement,"popper-options":y.popperOptions,pure:y.pure,"raw-content":y.rawContent,"reference-el":y.referenceEl,"trigger-target-el":y.triggerTargetEl,"show-after":y.showAfter,strategy:y.strategy,teleported:y.teleported,transition:y.transition,"virtual-triggering":y.virtualTriggering,"z-index":y.zIndex,"append-to":y.appendTo},{default:ce(()=>[Te(y.$slots,"content",{},()=>[y.rawContent?(N(),Y("span",{key:0,innerHTML:y.content},null,8,rX)):(N(),Y("span",lX,ze(y.content),1))]),y.showArrow?(N(),be(c(v5),{key:0,"arrow-offset":y.arrowOffset},null,8,["arrow-offset"])):$e("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var cX=We(uX,[["__file","tooltip.vue"]]);const xo=Dt(cX),dX=Ue({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:fe(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:fe([Function,Array]),default:nn},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:so.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...mo(["ariaLabel"])}),hX={[Bt]:t=>yt(t),[Yo]:t=>yt(t),[$n]:t=>yt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>xt(t)},pX=["aria-expanded","aria-owns"],fX={key:0},mX=["id","aria-selected","onClick"],r1="ElAutocomplete",gX=ne({name:r1,inheritAttrs:!1}),$X=ne({...gX,props:dX,emits:hX,setup(t,{expose:n,emit:o}){const i=t,l=LE(),a=Ga(),u=Zo(),h=xe("autocomplete"),p=V(),f=V(),g=V(),m=V();let _=!1,b=!1;const T=V([]),$=V(-1),E=V(""),y=V(!1),I=V(!1),C=V(!1),S=So(),R=w(()=>a.style),O=w(()=>(T.value.length>0||C.value)&&y.value),P=w(()=>!i.hideLoading&&C.value),M=w(()=>p.value?Array.from(p.value.$el.querySelectorAll("input")):[]),H=()=>{O.value&&(E.value=`${p.value.$el.offsetWidth}px`)},F=()=>{$.value=-1},K=as(async de=>{if(I.value)return;const ye=_e=>{C.value=!1,!I.value&&(tt(_e)?(T.value=_e,$.value=i.highlightFirstItem?0:-1):jn(r1,"autocomplete suggestions must be an array"))};if(C.value=!0,tt(i.fetchSuggestions))ye(i.fetchSuggestions);else{const _e=await i.fetchSuggestions(de,ye);tt(_e)&&ye(_e)}},i.debounce),te=de=>{const ye=!!de;if(o(Yo,de),o(Bt,de),I.value=!1,y.value||(y.value=ye),!i.triggerOnFocus&&!de){I.value=!0,T.value=[];return}K(de)},Z=de=>{var ye;u.value||(((ye=de.target)==null?void 0:ye.tagName)!=="INPUT"||M.value.includes(document.activeElement))&&(y.value=!0)},j=de=>{o($n,de)},z=de=>{b?b=!1:(y.value=!0,o("focus",de),i.triggerOnFocus&&!_&&K(String(i.modelValue)))},G=de=>{setTimeout(()=>{var ye;if((ye=g.value)!=null&&ye.isFocusInsideContent()){b=!0;return}y.value&&oe(),o("blur",de)})},W=()=>{y.value=!1,o(Bt,""),o("clear")},D=async()=>{O.value&&$.value>=0&&$.value<T.value.length?Se(T.value[$.value]):i.selectWhenUnmatched&&(o("select",{value:i.modelValue}),T.value=[],$.value=-1)},X=de=>{O.value&&(de.preventDefault(),de.stopPropagation(),oe())},oe=()=>{y.value=!1},le=()=>{var de;(de=p.value)==null||de.focus()},me=()=>{var de;(de=p.value)==null||de.blur()},Se=async de=>{o(Yo,de[i.valueKey]),o(Bt,de[i.valueKey]),o("select",de),T.value=[],$.value=-1},Pe=de=>{if(!O.value||C.value)return;if(de<0){$.value=-1;return}de>=T.value.length&&(de=T.value.length-1);const ye=f.value.querySelector(`.${h.be("suggestion","wrap")}`),Ke=ye.querySelectorAll(`.${h.be("suggestion","list")} li`)[de],ve=ye.scrollTop,{offsetTop:Ne,scrollHeight:He}=Ke;Ne+He>ve+ye.clientHeight&&(ye.scrollTop+=He),Ne<ve&&(ye.scrollTop-=He),$.value=de,p.value.ref.setAttribute("aria-activedescendant",`${S.value}-item-${$.value}`)};return iE(m,()=>{O.value&&oe()}),At(()=>{p.value.ref.setAttribute("role","textbox"),p.value.ref.setAttribute("aria-autocomplete","list"),p.value.ref.setAttribute("aria-controls","id"),p.value.ref.setAttribute("aria-activedescendant",`${S.value}-item-${$.value}`),_=p.value.ref.hasAttribute("readonly")}),n({highlightedIndex:$,activated:y,loading:C,inputRef:p,popperRef:g,suggestions:T,handleSelect:Se,handleKeyEnter:D,focus:le,blur:me,close:oe,highlight:Pe}),(de,ye)=>(N(),be(c(xo),{ref_key:"popperRef",ref:g,visible:c(O),placement:de.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[c(h).e("popper"),de.popperClass],teleported:de.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${c(h).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:H,onHide:F},{content:ce(()=>[Q("div",{ref_key:"regionRef",ref:f,class:L([c(h).b("suggestion"),c(h).is("loading",c(P))]),style:ct({[de.fitInputWidth?"width":"minWidth"]:E.value,outline:"none"}),role:"region"},[ie(c(Dr),{id:c(S),tag:"ul","wrap-class":c(h).be("suggestion","wrap"),"view-class":c(h).be("suggestion","list"),role:"listbox"},{default:ce(()=>[c(P)?(N(),Y("li",fX,[Te(de.$slots,"loading",{},()=>[ie(c(at),{class:L(c(h).is("loading"))},{default:ce(()=>[ie(c(Ll))]),_:1},8,["class"])])])):(N(!0),Y(dt,{key:1},zt(T.value,(_e,Ke)=>(N(),Y("li",{id:`${c(S)}-item-${Ke}`,key:Ke,class:L({highlighted:$.value===Ke}),role:"option","aria-selected":$.value===Ke,onClick:ve=>Se(_e)},[Te(de.$slots,"default",{item:_e},()=>[Wt(ze(_e[de.valueKey]),1)])],10,mX))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:ce(()=>[Q("div",{ref_key:"listboxRef",ref:m,class:L([c(h).b(),de.$attrs.class]),style:ct(c(R)),role:"combobox","aria-haspopup":"listbox","aria-expanded":c(O),"aria-owns":c(S)},[ie(c(Mo),Vt({ref_key:"inputRef",ref:p},c(l),{clearable:de.clearable,disabled:c(u),name:de.name,"model-value":de.modelValue,"aria-label":de.ariaLabel,onInput:te,onChange:j,onFocus:z,onBlur:G,onClear:W,onKeydown:[ye[0]||(ye[0]=rn(bt(_e=>Pe($.value-1),["prevent"]),["up"])),ye[1]||(ye[1]=rn(bt(_e=>Pe($.value+1),["prevent"]),["down"])),rn(D,["enter"]),rn(oe,["tab"]),rn(X,["esc"])],onMousedown:Z}),Sr({_:2},[de.$slots.prepend?{name:"prepend",fn:ce(()=>[Te(de.$slots,"prepend")])}:void 0,de.$slots.append?{name:"append",fn:ce(()=>[Te(de.$slots,"append")])}:void 0,de.$slots.prefix?{name:"prefix",fn:ce(()=>[Te(de.$slots,"prefix")])}:void 0,de.$slots.suffix?{name:"suffix",fn:ce(()=>[Te(de.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,pX)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var vX=We($X,[["__file","autocomplete.vue"]]);const _X=Dt(vX),bX=Ue({size:{type:[Number,String],values:Ki,default:"",validator:t=>$t(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:ln},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:fe(String),default:"cover"}}),TX={error:t=>t instanceof Event},yX=["src","alt","srcset"],EX=ne({name:"ElAvatar"}),CX=ne({...EX,props:bX,emits:TX,setup(t,{emit:n}){const o=t,i=xe("avatar"),l=V(!1),a=w(()=>{const{size:f,icon:g,shape:m}=o,_=[i.b()];return yt(f)&&_.push(i.m(f)),g&&_.push(i.m("icon")),m&&_.push(i.m(m)),_}),u=w(()=>{const{size:f}=o;return $t(f)?i.cssVarBlock({size:Ln(f)||""}):void 0}),h=w(()=>({objectFit:o.fit}));Me(()=>o.src,()=>l.value=!1);function p(f){l.value=!0,n("error",f)}return(f,g)=>(N(),Y("span",{class:L(c(a)),style:ct(c(u))},[(f.src||f.srcSet)&&!l.value?(N(),Y("img",{key:0,src:f.src,alt:f.alt,srcset:f.srcSet,style:ct(c(h)),onError:p},null,44,yX)):f.icon?(N(),be(c(at),{key:1},{default:ce(()=>[(N(),be(Ft(f.icon)))]),_:1})):Te(f.$slots,"default",{key:2})],6))}});var SX=We(CX,[["__file","avatar.vue"]]);const IX=Dt(SX),wX={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},kX={click:t=>t instanceof MouseEvent},OX=(t,n,o)=>{const i=_n(),l=_n(),a=V(!1),u=()=>{i.value&&(a.value=i.value.scrollTop>=t.visibilityHeight)},h=f=>{var g;(g=i.value)==null||g.scrollTo({top:0,behavior:"smooth"}),n("click",f)},p=dL(u,300,!0);return gn(l,"scroll",p),At(()=>{var f;l.value=document,i.value=document.documentElement,t.target&&(i.value=(f=document.querySelector(t.target))!=null?f:void 0,i.value||jn(o,`target does not exist: ${t.target}`),l.value=i.value),u()}),{visible:a,handleClick:h}},l1="ElBacktop",RX=ne({name:l1}),AX=ne({...RX,props:wX,emits:kX,setup(t,{emit:n}){const o=t,i=xe("backtop"),{handleClick:l,visible:a}=OX(o,n,l1),u=w(()=>({right:`${o.right}px`,bottom:`${o.bottom}px`}));return(h,p)=>(N(),be(Yn,{name:`${c(i).namespace.value}-fade-in`},{default:ce(()=>[c(a)?(N(),Y("div",{key:0,style:ct(c(u)),class:L(c(i).b()),onClick:p[0]||(p[0]=bt((...f)=>c(l)&&c(l)(...f),["stop"]))},[Te(h.$slots,"default",{},()=>[ie(c(at),{class:L(c(i).e("icon"))},{default:ce(()=>[ie(c(r4))]),_:1},8,["class"])])],6)):$e("v-if",!0)]),_:3},8,["name"]))}});var NX=We(AX,[["__file","backtop.vue"]]);const LX=Dt(NX),MX=Ue({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:fe([String,Object,Array])},badgeStyle:{type:fe([String,Object,Array])},offset:{type:fe(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),DX=["textContent"],PX=ne({name:"ElBadge"}),xX=ne({...PX,props:MX,setup(t,{expose:n}){const o=t,i=xe("badge"),l=w(()=>o.isDot?"":$t(o.value)&&$t(o.max)?o.max<o.value?`${o.max}+`:o.value===0&&!o.showZero?"":`${o.value}`:`${o.value}`),a=w(()=>{var u,h,p,f,g,m;return[{backgroundColor:o.color,marginRight:Ln(-((h=(u=o.offset)==null?void 0:u[0])!=null?h:0)),marginTop:Ln((f=(p=o.offset)==null?void 0:p[1])!=null?f:0)},(g=o.dotStyle)!=null?g:{},(m=o.badgeStyle)!=null?m:{}]});return Qn({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},w(()=>!!o.dotStyle)),Qn({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},w(()=>!!o.dotClass)),n({content:l}),(u,h)=>(N(),Y("div",{class:L(c(i).b())},[Te(u.$slots,"default"),ie(Yn,{name:`${c(i).namespace.value}-zoom-in-center`,persisted:""},{default:ce(()=>[Rt(Q("sup",{class:L([c(i).e("content"),c(i).em("content",u.type),c(i).is("fixed",!!u.$slots.default),c(i).is("dot",u.isDot),u.dotClass,u.badgeClass]),style:ct(c(a)),textContent:ze(c(l))},null,14,DX),[[qt,!u.hidden&&(c(l)||u.isDot)]])]),_:1},8,["name"])],2))}});var BX=We(xX,[["__file","badge.vue"]]);const a1=Dt(BX),u1=Symbol("breadcrumbKey"),FX=Ue({separator:{type:String,default:"/"},separatorIcon:{type:ln}}),HX=["aria-label"],VX=ne({name:"ElBreadcrumb"}),UX=ne({...VX,props:FX,setup(t){const n=t,{t:o}=Yt(),i=xe("breadcrumb"),l=V();return Ut(u1,n),At(()=>{const a=l.value.querySelectorAll(`.${i.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,u)=>(N(),Y("div",{ref_key:"breadcrumb",ref:l,class:L(c(i).b()),"aria-label":c(o)("el.breadcrumb.label"),role:"navigation"},[Te(a.$slots,"default")],10,HX))}});var GX=We(UX,[["__file","breadcrumb.vue"]]);const WX=Ue({to:{type:fe([String,Object]),default:""},replace:{type:Boolean,default:!1}}),zX=ne({name:"ElBreadcrumbItem"}),KX=ne({...zX,props:WX,setup(t){const n=t,o=Mt(),i=it(u1,void 0),l=xe("breadcrumb"),a=o.appContext.config.globalProperties.$router,u=V(),h=()=>{!n.to||!a||(n.replace?a.replace(n.to):a.push(n.to))};return(p,f)=>{var g,m;return N(),Y("span",{class:L(c(l).e("item"))},[Q("span",{ref_key:"link",ref:u,class:L([c(l).e("inner"),c(l).is("link",!!p.to)]),role:"link",onClick:h},[Te(p.$slots,"default")],2),(g=c(i))!=null&&g.separatorIcon?(N(),be(c(at),{key:0,class:L(c(l).e("separator"))},{default:ce(()=>[(N(),be(Ft(c(i).separatorIcon)))]),_:1},8,["class"])):(N(),Y("span",{key:1,class:L(c(l).e("separator")),role:"presentation"},ze((m=c(i))==null?void 0:m.separator),3))],2)}}});var c1=We(KX,[["__file","breadcrumb-item.vue"]]);const XX=Dt(GX,{BreadcrumbItem:c1}),YX=kn(c1),d1=Symbol("buttonGroupContextKey"),jX=(t,n)=>{Qn({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},w(()=>t.type==="text"));const o=it(d1,void 0),i=ip("button"),{form:l}=Bo(),a=Kn(w(()=>o==null?void 0:o.size)),u=Zo(),h=V(),p=ao(),f=w(()=>t.type||(o==null?void 0:o.type)||""),g=w(()=>{var T,$,E;return(E=($=t.autoInsertSpace)!=null?$:(T=i.value)==null?void 0:T.autoInsertSpace)!=null?E:!1}),m=w(()=>t.tag==="button"?{ariaDisabled:u.value||t.loading,disabled:u.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),_=w(()=>{var T;const $=(T=p.default)==null?void 0:T.call(p);if(g.value&&($==null?void 0:$.length)===1){const E=$[0];if((E==null?void 0:E.type)===Pc){const y=E.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(y.trim())}}return!1});return{_disabled:u,_size:a,_type:f,_ref:h,_props:m,shouldAddSpace:_,handleClick:T=>{t.nativeType==="reset"&&(l==null||l.resetFields()),n("click",T)}}},GT=["default","primary","success","warning","info","danger","text",""],qX=["button","submit","reset"],WT=Ue({size:qn,disabled:Boolean,type:{type:String,values:GT,default:""},icon:{type:ln},nativeType:{type:String,values:qX,default:"button"},loading:Boolean,loadingIcon:{type:ln,default:()=>Ll},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:fe([String,Object]),default:"button"}}),JX={click:t=>t instanceof MouseEvent};function Co(t,n){ZX(t)&&(t="100%");var o=QX(t);return t=n===360?t:Math.min(n,Math.max(0,parseFloat(t))),o&&(t=parseInt(String(t*n),10)/100),Math.abs(t-n)<1e-6?1:(n===360?t=(t<0?t%n+n:t%n)/parseFloat(String(n)):t=t%n/parseFloat(String(n)),t)}function tm(t){return Math.min(1,Math.max(0,t))}function ZX(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function QX(t){return typeof t=="string"&&t.indexOf("%")!==-1}function h1(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function nm(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Ea(t){return t.length===1?"0"+t:String(t)}function eY(t,n,o){return{r:Co(t,255)*255,g:Co(n,255)*255,b:Co(o,255)*255}}function AR(t,n,o){t=Co(t,255),n=Co(n,255),o=Co(o,255);var i=Math.max(t,n,o),l=Math.min(t,n,o),a=0,u=0,h=(i+l)/2;if(i===l)u=0,a=0;else{var p=i-l;switch(u=h>.5?p/(2-i-l):p/(i+l),i){case t:a=(n-o)/p+(n<o?6:0);break;case n:a=(o-t)/p+2;break;case o:a=(t-n)/p+4;break}a/=6}return{h:a,s:u,l:h}}function zb(t,n,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?t+(n-t)*(6*o):o<1/2?n:o<2/3?t+(n-t)*(2/3-o)*6:t}function tY(t,n,o){var i,l,a;if(t=Co(t,360),n=Co(n,100),o=Co(o,100),n===0)l=o,a=o,i=o;else{var u=o<.5?o*(1+n):o+n-o*n,h=2*o-u;i=zb(h,u,t+1/3),l=zb(h,u,t),a=zb(h,u,t-1/3)}return{r:i*255,g:l*255,b:a*255}}function NR(t,n,o){t=Co(t,255),n=Co(n,255),o=Co(o,255);var i=Math.max(t,n,o),l=Math.min(t,n,o),a=0,u=i,h=i-l,p=i===0?0:h/i;if(i===l)a=0;else{switch(i){case t:a=(n-o)/h+(n<o?6:0);break;case n:a=(o-t)/h+2;break;case o:a=(t-n)/h+4;break}a/=6}return{h:a,s:p,v:u}}function nY(t,n,o){t=Co(t,360)*6,n=Co(n,100),o=Co(o,100);var i=Math.floor(t),l=t-i,a=o*(1-n),u=o*(1-l*n),h=o*(1-(1-l)*n),p=i%6,f=[o,u,a,a,h,o][p],g=[h,o,o,u,a,a][p],m=[a,a,h,o,o,u][p];return{r:f*255,g:g*255,b:m*255}}function LR(t,n,o,i){var l=[Ea(Math.round(t).toString(16)),Ea(Math.round(n).toString(16)),Ea(Math.round(o).toString(16))];return i&&l[0].startsWith(l[0].charAt(1))&&l[1].startsWith(l[1].charAt(1))&&l[2].startsWith(l[2].charAt(1))?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0):l.join("")}function oY(t,n,o,i,l){var a=[Ea(Math.round(t).toString(16)),Ea(Math.round(n).toString(16)),Ea(Math.round(o).toString(16)),Ea(sY(i))];return l&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function sY(t){return Math.round(parseFloat(t)*255).toString(16)}function MR(t){return gs(t)/255}function gs(t){return parseInt(t,16)}function iY(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var zT={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function rY(t){var n={r:0,g:0,b:0},o=1,i=null,l=null,a=null,u=!1,h=!1;return typeof t=="string"&&(t=uY(t)),typeof t=="object"&&(gr(t.r)&&gr(t.g)&&gr(t.b)?(n=eY(t.r,t.g,t.b),u=!0,h=String(t.r).substr(-1)==="%"?"prgb":"rgb"):gr(t.h)&&gr(t.s)&&gr(t.v)?(i=nm(t.s),l=nm(t.v),n=nY(t.h,i,l),u=!0,h="hsv"):gr(t.h)&&gr(t.s)&&gr(t.l)&&(i=nm(t.s),a=nm(t.l),n=tY(t.h,i,a),u=!0,h="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(o=t.a)),o=h1(o),{ok:u,format:t.format||h,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:o}}var lY="[-\\+]?\\d+%?",aY="[-\\+]?\\d*\\.\\d+%?",pl="(?:".concat(aY,")|(?:").concat(lY,")"),Kb="[\\s|\\(]+(".concat(pl,")[,|\\s]+(").concat(pl,")[,|\\s]+(").concat(pl,")\\s*\\)?"),Xb="[\\s|\\(]+(".concat(pl,")[,|\\s]+(").concat(pl,")[,|\\s]+(").concat(pl,")[,|\\s]+(").concat(pl,")\\s*\\)?"),li={CSS_UNIT:new RegExp(pl),rgb:new RegExp("rgb"+Kb),rgba:new RegExp("rgba"+Xb),hsl:new RegExp("hsl"+Kb),hsla:new RegExp("hsla"+Xb),hsv:new RegExp("hsv"+Kb),hsva:new RegExp("hsva"+Xb),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function uY(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var n=!1;if(zT[t])t=zT[t],n=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var o=li.rgb.exec(t);return o?{r:o[1],g:o[2],b:o[3]}:(o=li.rgba.exec(t),o?{r:o[1],g:o[2],b:o[3],a:o[4]}:(o=li.hsl.exec(t),o?{h:o[1],s:o[2],l:o[3]}:(o=li.hsla.exec(t),o?{h:o[1],s:o[2],l:o[3],a:o[4]}:(o=li.hsv.exec(t),o?{h:o[1],s:o[2],v:o[3]}:(o=li.hsva.exec(t),o?{h:o[1],s:o[2],v:o[3],a:o[4]}:(o=li.hex8.exec(t),o?{r:gs(o[1]),g:gs(o[2]),b:gs(o[3]),a:MR(o[4]),format:n?"name":"hex8"}:(o=li.hex6.exec(t),o?{r:gs(o[1]),g:gs(o[2]),b:gs(o[3]),format:n?"name":"hex"}:(o=li.hex4.exec(t),o?{r:gs(o[1]+o[1]),g:gs(o[2]+o[2]),b:gs(o[3]+o[3]),a:MR(o[4]+o[4]),format:n?"name":"hex8"}:(o=li.hex3.exec(t),o?{r:gs(o[1]+o[1]),g:gs(o[2]+o[2]),b:gs(o[3]+o[3]),format:n?"name":"hex"}:!1)))))))))}function gr(t){return!!li.CSS_UNIT.exec(String(t))}var p1=function(){function t(n,o){n===void 0&&(n=""),o===void 0&&(o={});var i;if(n instanceof t)return n;typeof n=="number"&&(n=iY(n)),this.originalInput=n;var l=rY(n);this.originalInput=n,this.r=l.r,this.g=l.g,this.b=l.b,this.a=l.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=o.format)!==null&&i!==void 0?i:l.format,this.gradientType=o.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=l.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},t.prototype.getLuminance=function(){var n=this.toRgb(),o,i,l,a=n.r/255,u=n.g/255,h=n.b/255;return a<=.03928?o=a/12.92:o=Math.pow((a+.055)/1.055,2.4),u<=.03928?i=u/12.92:i=Math.pow((u+.055)/1.055,2.4),h<=.03928?l=h/12.92:l=Math.pow((h+.055)/1.055,2.4),.2126*o+.7152*i+.0722*l},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(n){return this.a=h1(n),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var n=this.toHsl().s;return n===0},t.prototype.toHsv=function(){var n=NR(this.r,this.g,this.b);return{h:n.h*360,s:n.s,v:n.v,a:this.a}},t.prototype.toHsvString=function(){var n=NR(this.r,this.g,this.b),o=Math.round(n.h*360),i=Math.round(n.s*100),l=Math.round(n.v*100);return this.a===1?"hsv(".concat(o,", ").concat(i,"%, ").concat(l,"%)"):"hsva(".concat(o,", ").concat(i,"%, ").concat(l,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var n=AR(this.r,this.g,this.b);return{h:n.h*360,s:n.s,l:n.l,a:this.a}},t.prototype.toHslString=function(){var n=AR(this.r,this.g,this.b),o=Math.round(n.h*360),i=Math.round(n.s*100),l=Math.round(n.l*100);return this.a===1?"hsl(".concat(o,", ").concat(i,"%, ").concat(l,"%)"):"hsla(".concat(o,", ").concat(i,"%, ").concat(l,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(n){return n===void 0&&(n=!1),LR(this.r,this.g,this.b,n)},t.prototype.toHexString=function(n){return n===void 0&&(n=!1),"#"+this.toHex(n)},t.prototype.toHex8=function(n){return n===void 0&&(n=!1),oY(this.r,this.g,this.b,this.a,n)},t.prototype.toHex8String=function(n){return n===void 0&&(n=!1),"#"+this.toHex8(n)},t.prototype.toHexShortString=function(n){return n===void 0&&(n=!1),this.a===1?this.toHexString(n):this.toHex8String(n)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var n=Math.round(this.r),o=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(n,", ").concat(o,", ").concat(i,")"):"rgba(".concat(n,", ").concat(o,", ").concat(i,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var n=function(o){return"".concat(Math.round(Co(o,255)*100),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var n=function(o){return Math.round(Co(o,255)*100)};return this.a===1?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var n="#"+LR(this.r,this.g,this.b,!1),o=0,i=Object.entries(zT);o<i.length;o++){var l=i[o],a=l[0],u=l[1];if(n===u)return a}return!1},t.prototype.toString=function(n){var o=!!n;n=n??this.format;var i=!1,l=this.a<1&&this.a>=0,a=!o&&l&&(n.startsWith("hex")||n==="name");return a?n==="name"&&this.a===0?this.toName():this.toRgbString():(n==="rgb"&&(i=this.toRgbString()),n==="prgb"&&(i=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(i=this.toHexString()),n==="hex3"&&(i=this.toHexString(!0)),n==="hex4"&&(i=this.toHex8String(!0)),n==="hex8"&&(i=this.toHex8String()),n==="name"&&(i=this.toName()),n==="hsl"&&(i=this.toHslString()),n==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(n){n===void 0&&(n=10);var o=this.toHsl();return o.l+=n/100,o.l=tm(o.l),new t(o)},t.prototype.brighten=function(n){n===void 0&&(n=10);var o=this.toRgb();return o.r=Math.max(0,Math.min(255,o.r-Math.round(255*-(n/100)))),o.g=Math.max(0,Math.min(255,o.g-Math.round(255*-(n/100)))),o.b=Math.max(0,Math.min(255,o.b-Math.round(255*-(n/100)))),new t(o)},t.prototype.darken=function(n){n===void 0&&(n=10);var o=this.toHsl();return o.l-=n/100,o.l=tm(o.l),new t(o)},t.prototype.tint=function(n){return n===void 0&&(n=10),this.mix("white",n)},t.prototype.shade=function(n){return n===void 0&&(n=10),this.mix("black",n)},t.prototype.desaturate=function(n){n===void 0&&(n=10);var o=this.toHsl();return o.s-=n/100,o.s=tm(o.s),new t(o)},t.prototype.saturate=function(n){n===void 0&&(n=10);var o=this.toHsl();return o.s+=n/100,o.s=tm(o.s),new t(o)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(n){var o=this.toHsl(),i=(o.h+n)%360;return o.h=i<0?360+i:i,new t(o)},t.prototype.mix=function(n,o){o===void 0&&(o=50);var i=this.toRgb(),l=new t(n).toRgb(),a=o/100,u={r:(l.r-i.r)*a+i.r,g:(l.g-i.g)*a+i.g,b:(l.b-i.b)*a+i.b,a:(l.a-i.a)*a+i.a};return new t(u)},t.prototype.analogous=function(n,o){n===void 0&&(n=6),o===void 0&&(o=30);var i=this.toHsl(),l=360/o,a=[this];for(i.h=(i.h-(l*n>>1)+720)%360;--n;)i.h=(i.h+l)%360,a.push(new t(i));return a},t.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new t(n)},t.prototype.monochromatic=function(n){n===void 0&&(n=6);for(var o=this.toHsv(),i=o.h,l=o.s,a=o.v,u=[],h=1/n;n--;)u.push(new t({h:i,s:l,v:a})),a=(a+h)%1;return u},t.prototype.splitcomplement=function(){var n=this.toHsl(),o=n.h;return[this,new t({h:(o+72)%360,s:n.s,l:n.l}),new t({h:(o+216)%360,s:n.s,l:n.l})]},t.prototype.onBackground=function(n){var o=this.toRgb(),i=new t(n).toRgb(),l=o.a+i.a*(1-o.a);return new t({r:(o.r*o.a+i.r*i.a*(1-o.a))/l,g:(o.g*o.a+i.g*i.a*(1-o.a))/l,b:(o.b*o.a+i.b*i.a*(1-o.a))/l,a:l})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(n){for(var o=this.toHsl(),i=o.h,l=[this],a=360/n,u=1;u<n;u++)l.push(new t({h:(i+u*a)%360,s:o.s,l:o.l}));return l},t.prototype.equals=function(n){return this.toRgbString()===new t(n).toRgbString()},t}();function nl(t,n=20){return t.mix("#141414",n).toString()}function cY(t){const n=Zo(),o=xe("button");return w(()=>{let i={};const l=t.color;if(l){const a=new p1(l),u=t.dark?a.tint(20).toString():nl(a,20);if(t.plain)i=o.cssVarBlock({"bg-color":t.dark?nl(a,90):a.tint(90).toString(),"text-color":l,"border-color":t.dark?nl(a,50):a.tint(50).toString(),"hover-text-color":`var(${o.cssVarName("color-white")})`,"hover-bg-color":l,"hover-border-color":l,"active-bg-color":u,"active-text-color":`var(${o.cssVarName("color-white")})`,"active-border-color":u}),n.value&&(i[o.cssVarBlockName("disabled-bg-color")]=t.dark?nl(a,90):a.tint(90).toString(),i[o.cssVarBlockName("disabled-text-color")]=t.dark?nl(a,50):a.tint(50).toString(),i[o.cssVarBlockName("disabled-border-color")]=t.dark?nl(a,80):a.tint(80).toString());else{const h=t.dark?nl(a,30):a.tint(30).toString(),p=a.isDark()?`var(${o.cssVarName("color-white")})`:`var(${o.cssVarName("color-black")})`;if(i=o.cssVarBlock({"bg-color":l,"text-color":p,"border-color":l,"hover-bg-color":h,"hover-text-color":p,"hover-border-color":h,"active-bg-color":u,"active-border-color":u}),n.value){const f=t.dark?nl(a,50):a.tint(50).toString();i[o.cssVarBlockName("disabled-bg-color")]=f,i[o.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${o.cssVarName("color-white")})`,i[o.cssVarBlockName("disabled-border-color")]=f}}}return i})}const dY=ne({name:"ElButton"}),hY=ne({...dY,props:WT,emits:JX,setup(t,{expose:n,emit:o}){const i=t,l=cY(i),a=xe("button"),{_ref:u,_size:h,_type:p,_disabled:f,_props:g,shouldAddSpace:m,handleClick:_}=jX(i,o),b=w(()=>[a.b(),a.m(p.value),a.m(h.value),a.is("disabled",f.value),a.is("loading",i.loading),a.is("plain",i.plain),a.is("round",i.round),a.is("circle",i.circle),a.is("text",i.text),a.is("link",i.link),a.is("has-bg",i.bg)]);return n({ref:u,size:h,type:p,disabled:f,shouldAddSpace:m}),(T,$)=>(N(),be(Ft(T.tag),Vt({ref_key:"_ref",ref:u},c(g),{class:c(b),style:c(l),onClick:c(_)}),{default:ce(()=>[T.loading?(N(),Y(dt,{key:0},[T.$slots.loading?Te(T.$slots,"loading",{key:0}):(N(),be(c(at),{key:1,class:L(c(a).is("loading"))},{default:ce(()=>[(N(),be(Ft(T.loadingIcon)))]),_:1},8,["class"]))],64)):T.icon||T.$slots.icon?(N(),be(c(at),{key:1},{default:ce(()=>[T.icon?(N(),be(Ft(T.icon),{key:0})):Te(T.$slots,"icon",{key:1})]),_:3})):$e("v-if",!0),T.$slots.default?(N(),Y("span",{key:2,class:L({[c(a).em("text","expand")]:c(m)})},[Te(T.$slots,"default")],2)):$e("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var pY=We(hY,[["__file","button.vue"]]);const fY={size:WT.size,type:WT.type},mY=ne({name:"ElButtonGroup"}),gY=ne({...mY,props:fY,setup(t){const n=t;Ut(d1,Qt({size:on(n,"size"),type:on(n,"type")}));const o=xe("button");return(i,l)=>(N(),Y("div",{class:L(`${c(o).b("group")}`)},[Te(i.$slots,"default")],2))}});var f1=We(gY,[["__file","button-group.vue"]]);const ro=Dt(pY,{ButtonGroup:f1}),m1=kn(f1);var jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function js(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g1={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(jo,function(){var o=1e3,i=6e4,l=36e5,a="millisecond",u="second",h="minute",p="hour",f="day",g="week",m="month",_="quarter",b="year",T="date",$="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Z){var j=["th","st","nd","rd"],z=Z%100;return"["+Z+(j[(z-20)%10]||j[z]||j[0])+"]"}},C=function(Z,j,z){var G=String(Z);return!G||G.length>=j?Z:""+Array(j+1-G.length).join(z)+Z},S={s:C,z:function(Z){var j=-Z.utcOffset(),z=Math.abs(j),G=Math.floor(z/60),W=z%60;return(j<=0?"+":"-")+C(G,2,"0")+":"+C(W,2,"0")},m:function Z(j,z){if(j.date()<z.date())return-Z(z,j);var G=12*(z.year()-j.year())+(z.month()-j.month()),W=j.clone().add(G,m),D=z-W<0,X=j.clone().add(G+(D?-1:1),m);return+(-(G+(z-W)/(D?W-X:X-W))||0)},a:function(Z){return Z<0?Math.ceil(Z)||0:Math.floor(Z)},p:function(Z){return{M:m,y:b,w:g,d:f,D:T,h:p,m:h,s:u,ms:a,Q:_}[Z]||String(Z||"").toLowerCase().replace(/s$/,"")},u:function(Z){return Z===void 0}},R="en",O={};O[R]=I;var P="$isDayjsObject",M=function(Z){return Z instanceof K||!(!Z||!Z[P])},H=function Z(j,z,G){var W;if(!j)return R;if(typeof j=="string"){var D=j.toLowerCase();O[D]&&(W=D),z&&(O[D]=z,W=D);var X=j.split("-");if(!W&&X.length>1)return Z(X[0])}else{var oe=j.name;O[oe]=j,W=oe}return!G&&W&&(R=W),W||!G&&R},F=function(Z,j){if(M(Z))return Z.clone();var z=typeof j=="object"?j:{};return z.date=Z,z.args=arguments,new K(z)},B=S;B.l=H,B.i=M,B.w=function(Z,j){return F(Z,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var K=function(){function Z(z){this.$L=H(z.locale,null,!0),this.parse(z),this.$x=this.$x||z.x||{},this[P]=!0}var j=Z.prototype;return j.parse=function(z){this.$d=function(G){var W=G.date,D=G.utc;if(W===null)return new Date(NaN);if(B.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var X=W.match(E);if(X){var oe=X[2]-1||0,le=(X[7]||"0").substring(0,3);return D?new Date(Date.UTC(X[1],oe,X[3]||1,X[4]||0,X[5]||0,X[6]||0,le)):new Date(X[1],oe,X[3]||1,X[4]||0,X[5]||0,X[6]||0,le)}}return new Date(W)}(z),this.init()},j.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},j.$utils=function(){return B},j.isValid=function(){return this.$d.toString()!==$},j.isSame=function(z,G){var W=F(z);return this.startOf(G)<=W&&W<=this.endOf(G)},j.isAfter=function(z,G){return F(z)<this.startOf(G)},j.isBefore=function(z,G){return this.endOf(G)<F(z)},j.$g=function(z,G,W){return B.u(z)?this[G]:this.set(W,z)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(z,G){var W=this,D=!!B.u(G)||G,X=B.p(z),oe=function(Ke,ve){var Ne=B.w(W.$u?Date.UTC(W.$y,ve,Ke):new Date(W.$y,ve,Ke),W);return D?Ne:Ne.endOf(f)},le=function(Ke,ve){return B.w(W.toDate()[Ke].apply(W.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(ve)),W)},me=this.$W,Se=this.$M,Pe=this.$D,de="set"+(this.$u?"UTC":"");switch(X){case b:return D?oe(1,0):oe(31,11);case m:return D?oe(1,Se):oe(0,Se+1);case g:var ye=this.$locale().weekStart||0,_e=(me<ye?me+7:me)-ye;return oe(D?Pe-_e:Pe+(6-_e),Se);case f:case T:return le(de+"Hours",0);case p:return le(de+"Minutes",1);case h:return le(de+"Seconds",2);case u:return le(de+"Milliseconds",3);default:return this.clone()}},j.endOf=function(z){return this.startOf(z,!1)},j.$set=function(z,G){var W,D=B.p(z),X="set"+(this.$u?"UTC":""),oe=(W={},W[f]=X+"Date",W[T]=X+"Date",W[m]=X+"Month",W[b]=X+"FullYear",W[p]=X+"Hours",W[h]=X+"Minutes",W[u]=X+"Seconds",W[a]=X+"Milliseconds",W)[D],le=D===f?this.$D+(G-this.$W):G;if(D===m||D===b){var me=this.clone().set(T,1);me.$d[oe](le),me.init(),this.$d=me.set(T,Math.min(this.$D,me.daysInMonth())).$d}else oe&&this.$d[oe](le);return this.init(),this},j.set=function(z,G){return this.clone().$set(z,G)},j.get=function(z){return this[B.p(z)]()},j.add=function(z,G){var W,D=this;z=Number(z);var X=B.p(G),oe=function(Se){var Pe=F(D);return B.w(Pe.date(Pe.date()+Math.round(Se*z)),D)};if(X===m)return this.set(m,this.$M+z);if(X===b)return this.set(b,this.$y+z);if(X===f)return oe(1);if(X===g)return oe(7);var le=(W={},W[h]=i,W[p]=l,W[u]=o,W)[X]||1,me=this.$d.getTime()+z*le;return B.w(me,this)},j.subtract=function(z,G){return this.add(-1*z,G)},j.format=function(z){var G=this,W=this.$locale();if(!this.isValid())return W.invalidDate||$;var D=z||"YYYY-MM-DDTHH:mm:ssZ",X=B.z(this),oe=this.$H,le=this.$m,me=this.$M,Se=W.weekdays,Pe=W.months,de=W.meridiem,ye=function(ve,Ne,He,ae){return ve&&(ve[Ne]||ve(G,D))||He[Ne].slice(0,ae)},_e=function(ve){return B.s(oe%12||12,ve,"0")},Ke=de||function(ve,Ne,He){var ae=ve<12?"AM":"PM";return He?ae.toLowerCase():ae};return D.replace(y,function(ve,Ne){return Ne||function(He){switch(He){case"YY":return String(G.$y).slice(-2);case"YYYY":return B.s(G.$y,4,"0");case"M":return me+1;case"MM":return B.s(me+1,2,"0");case"MMM":return ye(W.monthsShort,me,Pe,3);case"MMMM":return ye(Pe,me);case"D":return G.$D;case"DD":return B.s(G.$D,2,"0");case"d":return String(G.$W);case"dd":return ye(W.weekdaysMin,G.$W,Se,2);case"ddd":return ye(W.weekdaysShort,G.$W,Se,3);case"dddd":return Se[G.$W];case"H":return String(oe);case"HH":return B.s(oe,2,"0");case"h":return _e(1);case"hh":return _e(2);case"a":return Ke(oe,le,!0);case"A":return Ke(oe,le,!1);case"m":return String(le);case"mm":return B.s(le,2,"0");case"s":return String(G.$s);case"ss":return B.s(G.$s,2,"0");case"SSS":return B.s(G.$ms,3,"0");case"Z":return X}return null}(ve)||X.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(z,G,W){var D,X=this,oe=B.p(G),le=F(z),me=(le.utcOffset()-this.utcOffset())*i,Se=this-le,Pe=function(){return B.m(X,le)};switch(oe){case b:D=Pe()/12;break;case m:D=Pe();break;case _:D=Pe()/3;break;case g:D=(Se-me)/6048e5;break;case f:D=(Se-me)/864e5;break;case p:D=Se/l;break;case h:D=Se/i;break;case u:D=Se/o;break;default:D=Se}return W?D:B.a(D)},j.daysInMonth=function(){return this.endOf(m).$D},j.$locale=function(){return O[this.$L]},j.locale=function(z,G){if(!z)return this.$L;var W=this.clone(),D=H(z,G,!0);return D&&(W.$L=D),W},j.clone=function(){return B.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},Z}(),te=K.prototype;return F.prototype=te,[["$ms",a],["$s",u],["$m",h],["$H",p],["$W",f],["$M",m],["$y",b],["$D",T]].forEach(function(Z){te[Z[1]]=function(j){return this.$g(j,Z[0],Z[1])}}),F.extend=function(Z,j){return Z.$i||(Z(j,K,F),Z.$i=!0),F},F.locale=H,F.isDayjs=M,F.unix=function(Z){return F(1e3*Z)},F.en=O[R],F.Ls=O,F.p={},F})})(g1);var $Y=g1.exports;const Pt=js($Y);var $1={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(jo,function(){var o={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,a=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,h={},p=function($){return($=+$)+($>68?1900:2e3)},f=function($){return function(E){this[$]=+E}},g=[/[+-]\d\d:?(\d\d)?|Z/,function($){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var y=E.match(/([+-]|\d\d)/g),I=60*y[1]+(+y[2]||0);return I===0?0:y[0]==="+"?-I:I}($)}],m=function($){var E=h[$];return E&&(E.indexOf?E:E.s.concat(E.f))},_=function($,E){var y,I=h.meridiem;if(I){for(var C=1;C<=24;C+=1)if($.indexOf(I(C,0,E))>-1){y=C>12;break}}else y=$===(E?"pm":"PM");return y},b={A:[u,function($){this.afternoon=_($,!1)}],a:[u,function($){this.afternoon=_($,!0)}],S:[/\d/,function($){this.milliseconds=100*+$}],SS:[l,function($){this.milliseconds=10*+$}],SSS:[/\d{3}/,function($){this.milliseconds=+$}],s:[a,f("seconds")],ss:[a,f("seconds")],m:[a,f("minutes")],mm:[a,f("minutes")],H:[a,f("hours")],h:[a,f("hours")],HH:[a,f("hours")],hh:[a,f("hours")],D:[a,f("day")],DD:[l,f("day")],Do:[u,function($){var E=h.ordinal,y=$.match(/\d+/);if(this.day=y[0],E)for(var I=1;I<=31;I+=1)E(I).replace(/\[|\]/g,"")===$&&(this.day=I)}],M:[a,f("month")],MM:[l,f("month")],MMM:[u,function($){var E=m("months"),y=(m("monthsShort")||E.map(function(I){return I.slice(0,3)})).indexOf($)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[u,function($){var E=m("months").indexOf($)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,f("year")],YY:[l,function($){this.year=p($)}],YYYY:[/\d{4}/,f("year")],Z:g,ZZ:g};function T($){var E,y;E=$,y=h&&h.formats;for(var I=($=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,F,B){var K=B&&B.toUpperCase();return F||y[B]||o[B]||y[K].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(te,Z,j){return Z||j.slice(1)})})).match(i),C=I.length,S=0;S<C;S+=1){var R=I[S],O=b[R],P=O&&O[0],M=O&&O[1];I[S]=M?{regex:P,parser:M}:R.replace(/^\[|\]$/g,"")}return function(H){for(var F={},B=0,K=0;B<C;B+=1){var te=I[B];if(typeof te=="string")K+=te.length;else{var Z=te.regex,j=te.parser,z=H.slice(K),G=Z.exec(z)[0];j.call(F,G),H=H.replace(G,"")}}return function(W){var D=W.afternoon;if(D!==void 0){var X=W.hours;D?X<12&&(W.hours+=12):X===12&&(W.hours=0),delete W.afternoon}}(F),F}}return function($,E,y){y.p.customParseFormat=!0,$&&$.parseTwoDigitYear&&(p=$.parseTwoDigitYear);var I=E.prototype,C=I.parse;I.parse=function(S){var R=S.date,O=S.utc,P=S.args;this.$u=O;var M=P[1];if(typeof M=="string"){var H=P[2]===!0,F=P[3]===!0,B=H||F,K=P[2];F&&(K=P[2]),h=this.$locale(),!H&&K&&(h=y.Ls[K]),this.$d=function(z,G,W){try{if(["x","X"].indexOf(G)>-1)return new Date((G==="X"?1e3:1)*z);var D=T(G)(z),X=D.year,oe=D.month,le=D.day,me=D.hours,Se=D.minutes,Pe=D.seconds,de=D.milliseconds,ye=D.zone,_e=new Date,Ke=le||(X||oe?1:_e.getDate()),ve=X||_e.getFullYear(),Ne=0;X&&!oe||(Ne=oe>0?oe-1:_e.getMonth());var He=me||0,ae=Se||0,he=Pe||0,Ae=de||0;return ye?new Date(Date.UTC(ve,Ne,Ke,He,ae,he,Ae+60*ye.offset*1e3)):W?new Date(Date.UTC(ve,Ne,Ke,He,ae,he,Ae)):new Date(ve,Ne,Ke,He,ae,he,Ae)}catch{return new Date("")}}(R,M,O),this.init(),K&&K!==!0&&(this.$L=this.locale(K).$L),B&&R!=this.format(M)&&(this.$d=new Date("")),h={}}else if(M instanceof Array)for(var te=M.length,Z=1;Z<=te;Z+=1){P[1]=M[Z-1];var j=y.apply(this,P);if(j.isValid()){this.$d=j.$d,this.$L=j.$L,this.init();break}Z===te&&(this.$d=new Date(""))}else C.call(this,S)}}})})($1);var vY=$1.exports;const i0=js(vY),DR=["hours","minutes","seconds"],KT="HH:mm:ss",qu="YYYY-MM-DD",_Y={date:qu,dates:qu,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",datetime:`${qu} ${KT}`,monthrange:"YYYY-MM",daterange:qu,datetimerange:`${qu} ${KT}`},Yb=(t,n)=>[t>0?t-1:void 0,t,t<n?t+1:void 0],vl=t=>Array.from(Array.from({length:t}).keys()),v1=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),_1=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),PR=function(t,n){const o=Ma(t),i=Ma(n);return o&&i?t.getTime()===n.getTime():!o&&!i?t===n:!1},xR=function(t,n){const o=tt(t),i=tt(n);return o&&i?t.length!==n.length?!1:t.every((l,a)=>PR(l,n[a])):!o&&!i?PR(t,n):!1},BR=function(t,n,o){const i=xs(n)||n==="x"?Pt(t).locale(o):Pt(t,n).locale(o);return i.isValid()?i:void 0},FR=function(t,n,o){return xs(n)?t:n==="x"?+t:Pt(t).locale(o).format(n)},jb=(t,n)=>{var o;const i=[],l=n==null?void 0:n();for(let a=0;a<t;a++)i.push((o=l==null?void 0:l.includes(a))!=null?o:!1);return i},b1=Ue({disabledHours:{type:fe(Function)},disabledMinutes:{type:fe(Function)},disabledSeconds:{type:fe(Function)}}),T1=Ue({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),r0=Ue({id:{type:fe([Array,String])},name:{type:fe([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:fe([String,Object]),default:Nl},editable:{type:Boolean,default:!0},prefixIcon:{type:fe([String,Object]),default:""},size:qn,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:fe(Object),default:()=>({})},modelValue:{type:fe([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:fe([Date,Array])},defaultTime:{type:fe([Date,Array])},isRange:Boolean,...b1,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:fe([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,...Gc,...mo(["ariaLabel"])}),bY=["id","name","placeholder","value","disabled","readonly"],TY=["id","name","placeholder","value","disabled","readonly"],yY=ne({name:"Picker"}),EY=ne({...yY,props:r0,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:n,emit:o}){const i=t,l=Ga(),{lang:a}=Yt(),u=xe("date"),h=xe("input"),p=xe("range"),{form:f,formItem:g}=Bo(),m=it("ElPopperOptions",{}),{valueOnClear:_}=Fg(i,null),b=V(),T=V(),$=V(!1),E=V(!1),y=V(null);let I=!1,C=!1;const S=w(()=>[u.b("editor"),u.bm("editor",i.type),h.e("wrapper"),u.is("disabled",me.value),u.is("active",$.value),p.b("editor"),Ve?p.bm("editor",Ve.value):"",l.class]),R=w(()=>[h.e("icon"),p.e("close-icon"),Ne.value?"":p.e("close-icon--hidden")]);Me($,re=>{re?pt(()=>{re&&(y.value=i.modelValue)}):(ke.value=null,pt(()=>{O(i.modelValue)}))});const O=(re,je)=>{(je||!xR(re,y.value))&&(o("change",re),i.validateEvent&&(g==null||g.validate("change").catch(Ct=>void 0)))},P=re=>{if(!xR(i.modelValue,re)){let je;tt(re)?je=re.map(Ct=>FR(Ct,i.valueFormat,a.value)):re&&(je=FR(re,i.valueFormat,a.value)),o("update:modelValue",re&&je,a.value)}},M=re=>{o("keydown",re)},H=w(()=>{if(T.value){const re=De.value?T.value:T.value.$el;return Array.from(re.querySelectorAll("input"))}return[]}),F=(re,je,Ct)=>{const U=H.value;U.length&&(!Ct||Ct==="min"?(U[0].setSelectionRange(re,je),U[0].focus()):Ct==="max"&&(U[1].setSelectionRange(re,je),U[1].focus()))},B=()=>{D(!0,!0),pt(()=>{C=!1})},K=(re="",je=!1)=>{je||(C=!0),$.value=je;let Ct;tt(re)?Ct=re.map(U=>U.toDate()):Ct=re&&re.toDate(),ke.value=null,P(Ct)},te=()=>{E.value=!0},Z=()=>{o("visible-change",!0)},j=re=>{(re==null?void 0:re.key)===mt.esc&&D(!0,!0)},z=()=>{E.value=!1,$.value=!1,C=!1,o("visible-change",!1)},G=()=>{$.value=!0},W=()=>{$.value=!1},D=(re=!0,je=!1)=>{C=je;const[Ct,U]=c(H);let se=Ct;!re&&De.value&&(se=U),se&&se.focus()},X=re=>{i.readonly||me.value||$.value||C||($.value=!0,o("focus",re))};let oe;const le=re=>{const je=async()=>{setTimeout(()=>{var Ct;oe===je&&(!((Ct=b.value)!=null&&Ct.isFocusInsideContent()&&!I)&&H.value.filter(U=>U.contains(document.activeElement)).length===0&&(Ge(),$.value=!1,o("blur",re),i.validateEvent&&(g==null||g.validate("blur").catch(U=>void 0))),I=!1)},0)};oe=je,je()},me=w(()=>i.disabled||(f==null?void 0:f.disabled)),Se=w(()=>{let re;if(ae.value?A.value.getDefaultValue&&(re=A.value.getDefaultValue()):tt(i.modelValue)?re=i.modelValue.map(je=>BR(je,i.valueFormat,a.value)):re=BR(i.modelValue,i.valueFormat,a.value),A.value.getRangeAvailableTime){const je=A.value.getRangeAvailableTime(re);Do(je,re)||(re=je,P(tt(re)?re.map(Ct=>Ct.toDate()):re.toDate()))}return tt(re)&&re.some(je=>!je)&&(re=[]),re}),Pe=w(()=>{if(!A.value.panelReady)return"";const re=q(Se.value);return tt(ke.value)?[ke.value[0]||re&&re[0]||"",ke.value[1]||re&&re[1]||""]:ke.value!==null?ke.value:!ye.value&&ae.value||!$.value&&ae.value?"":re?_e.value||Ke.value?re.join(", "):re:""}),de=w(()=>i.type.includes("time")),ye=w(()=>i.type.startsWith("time")),_e=w(()=>i.type==="dates"),Ke=w(()=>i.type==="years"),ve=w(()=>i.prefixIcon||(de.value?iM:o4)),Ne=V(!1),He=re=>{i.readonly||me.value||Ne.value&&(re.stopPropagation(),B(),P(_.value),O(_.value,!0),Ne.value=!1,$.value=!1,A.value.handleClear&&A.value.handleClear())},ae=w(()=>{const{modelValue:re}=i;return!re||tt(re)&&!re.filter(Boolean).length}),he=async re=>{var je;i.readonly||me.value||(((je=re.target)==null?void 0:je.tagName)!=="INPUT"||H.value.includes(document.activeElement))&&($.value=!0)},Ae=()=>{i.readonly||me.value||!ae.value&&i.clearable&&(Ne.value=!0)},Fe=()=>{Ne.value=!1},Ce=re=>{var je;i.readonly||me.value||(((je=re.touches[0].target)==null?void 0:je.tagName)!=="INPUT"||H.value.includes(document.activeElement))&&($.value=!0)},De=w(()=>i.type.includes("range")),Ve=Kn(),ue=w(()=>{var re,je;return(je=(re=c(b))==null?void 0:re.popperRef)==null?void 0:je.contentRef}),we=w(()=>{var re;return c(De)?c(T):(re=c(T))==null?void 0:re.$el});iE(we,re=>{const je=c(ue),Ct=c(we);je&&(re.target===je||re.composedPath().includes(je))||re.target===Ct||re.composedPath().includes(Ct)||($.value=!1)});const ke=V(null),Ge=()=>{if(ke.value){const re=ot(Pe.value);re&&et(re)&&(P(tt(re)?re.map(je=>je.toDate()):re.toDate()),ke.value=null)}ke.value===""&&(P(_.value),O(_.value),ke.value=null)},ot=re=>re?A.value.parseUserInput(re):null,q=re=>re?A.value.formatToString(re):null,et=re=>A.value.isValidValue(re),lt=async re=>{if(i.readonly||me.value)return;const{code:je}=re;if(M(re),je===mt.esc){$.value===!0&&($.value=!1,re.preventDefault(),re.stopPropagation());return}if(je===mt.down&&(A.value.handleFocusPicker&&(re.preventDefault(),re.stopPropagation()),$.value===!1&&($.value=!0,await pt()),A.value.handleFocusPicker)){A.value.handleFocusPicker();return}if(je===mt.tab){I=!0;return}if(je===mt.enter||je===mt.numpadEnter){(ke.value===null||ke.value===""||et(ot(Pe.value)))&&(Ge(),$.value=!1),re.stopPropagation();return}if(ke.value){re.stopPropagation();return}A.value.handleKeydownInput&&A.value.handleKeydownInput(re)},Et=re=>{ke.value=re,$.value||($.value=!0)},Tt=re=>{const je=re.target;ke.value?ke.value=[je.value,ke.value[1]]:ke.value=[je.value,null]},st=re=>{const je=re.target;ke.value?ke.value=[ke.value[0],je.value]:ke.value=[null,je.value]},Re=()=>{var re;const je=ke.value,Ct=ot(je&&je[0]),U=c(Se);if(Ct&&Ct.isValid()){ke.value=[q(Ct),((re=Pe.value)==null?void 0:re[1])||null];const se=[Ct,U&&(U[1]||null)];et(se)&&(P(se),ke.value=null)}},Ye=()=>{var re;const je=c(ke),Ct=ot(je&&je[1]),U=c(Se);if(Ct&&Ct.isValid()){ke.value=[((re=c(Pe))==null?void 0:re[0])||null,q(Ct)];const se=[U&&U[0],Ct];et(se)&&(P(se),ke.value=null)}},A=V({}),x=re=>{A.value[re[0]]=re[1],A.value.panelReady=!0},ee=re=>{o("calendar-change",re)},pe=(re,je,Ct)=>{o("panel-change",re,je,Ct)};return Ut("EP_PICKER_BASE",{props:i}),Qn({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-time-picker",ref:"https://element-plus.org/en-US/component/time-picker.html"},w(()=>!!i.label)),n({focus:D,handleFocusInput:X,handleBlurInput:le,handleOpen:G,handleClose:W,onPick:K}),(re,je)=>(N(),be(c(xo),Vt({ref_key:"refPopper",ref:b,visible:$.value,effect:"light",pure:"",trigger:"click"},re.$attrs,{role:"dialog",teleported:"",transition:`${c(u).namespace.value}-zoom-in-top`,"popper-class":[`${c(u).namespace.value}-picker__popper`,re.popperClass],"popper-options":c(m),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:te,onShow:Z,onHide:z}),{default:ce(()=>[c(De)?(N(),Y("div",{key:1,ref_key:"inputRef",ref:T,class:L(c(S)),style:ct(re.$attrs.style),onClick:X,onMouseenter:Ae,onMouseleave:Fe,onTouchstartPassive:Ce,onKeydown:lt},[c(ve)?(N(),be(c(at),{key:0,class:L([c(h).e("icon"),c(p).e("icon")]),onMousedown:bt(he,["prevent"]),onTouchstartPassive:Ce},{default:ce(()=>[(N(),be(Ft(c(ve))))]),_:1},8,["class","onMousedown"])):$e("v-if",!0),Q("input",{id:re.id&&re.id[0],autocomplete:"off",name:re.name&&re.name[0],placeholder:re.startPlaceholder,value:c(Pe)&&c(Pe)[0],disabled:c(me),readonly:!re.editable||re.readonly,class:L(c(p).b("input")),onMousedown:he,onInput:Tt,onChange:Re,onFocus:X,onBlur:le},null,42,bY),Te(re.$slots,"range-separator",{},()=>[Q("span",{class:L(c(p).b("separator"))},ze(re.rangeSeparator),3)]),Q("input",{id:re.id&&re.id[1],autocomplete:"off",name:re.name&&re.name[1],placeholder:re.endPlaceholder,value:c(Pe)&&c(Pe)[1],disabled:c(me),readonly:!re.editable||re.readonly,class:L(c(p).b("input")),onMousedown:he,onFocus:X,onBlur:le,onInput:st,onChange:Ye},null,42,TY),re.clearIcon?(N(),be(c(at),{key:1,class:L(c(R)),onClick:He},{default:ce(()=>[(N(),be(Ft(re.clearIcon)))]),_:1},8,["class"])):$e("v-if",!0)],38)):(N(),be(c(Mo),{key:0,id:re.id,ref_key:"inputRef",ref:T,"container-role":"combobox","model-value":c(Pe),name:re.name,size:c(Ve),disabled:c(me),placeholder:re.placeholder,class:L([c(u).b("editor"),c(u).bm("editor",re.type),re.$attrs.class]),style:ct(re.$attrs.style),readonly:!re.editable||re.readonly||c(_e)||c(Ke)||re.type==="week","aria-label":re.label||re.ariaLabel,tabindex:re.tabindex,"validate-event":!1,onInput:Et,onFocus:X,onBlur:le,onKeydown:lt,onChange:Ge,onMousedown:he,onMouseenter:Ae,onMouseleave:Fe,onTouchstartPassive:Ce,onClick:je[0]||(je[0]=bt(()=>{},["stop"]))},{prefix:ce(()=>[c(ve)?(N(),be(c(at),{key:0,class:L(c(h).e("icon")),onMousedown:bt(he,["prevent"]),onTouchstartPassive:Ce},{default:ce(()=>[(N(),be(Ft(c(ve))))]),_:1},8,["class","onMousedown"])):$e("v-if",!0)]),suffix:ce(()=>[Ne.value&&re.clearIcon?(N(),be(c(at),{key:0,class:L(`${c(h).e("icon")} clear-icon`),onClick:bt(He,["stop"])},{default:ce(()=>[(N(),be(Ft(re.clearIcon)))]),_:1},8,["class","onClick"])):$e("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown"]))]),content:ce(()=>[Te(re.$slots,"default",{visible:$.value,actualVisible:E.value,parsedValue:c(Se),format:re.format,dateFormat:re.dateFormat,timeFormat:re.timeFormat,unlinkPanels:re.unlinkPanels,type:re.type,defaultValue:re.defaultValue,onPick:K,onSelectRange:F,onSetPickerOption:x,onCalendarChange:ee,onPanelChange:pe,onKeydown:j,onMousedown:je[1]||(je[1]=bt(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var y1=We(EY,[["__file","picker.vue"]]);const CY=Ue({...T1,datetimeRole:String,parsedValue:{type:fe(Object)}}),E1=({getAvailableHours:t,getAvailableMinutes:n,getAvailableSeconds:o})=>{const i=(u,h,p,f)=>{const g={hour:t,minute:n,second:o};let m=u;return["hour","minute","second"].forEach(_=>{if(g[_]){let b;const T=g[_];switch(_){case"minute":{b=T(m.hour(),h,f);break}case"second":{b=T(m.hour(),m.minute(),h,f);break}default:{b=T(h,f);break}}if(b!=null&&b.length&&!b.includes(m[_]())){const $=p?0:b.length-1;m=m[_](b[$])}}}),m},l={};return{timePickerOptions:l,getAvailableTime:i,onSetOption:([u,h])=>{l[u]=h}}},qb=t=>{const n=(i,l)=>i||l,o=i=>i!==!0;return t.map(n).filter(o)},C1=(t,n,o)=>({getHoursList:(u,h)=>jb(24,t&&(()=>t==null?void 0:t(u,h))),getMinutesList:(u,h,p)=>jb(60,n&&(()=>n==null?void 0:n(u,h,p))),getSecondsList:(u,h,p,f)=>jb(60,o&&(()=>o==null?void 0:o(u,h,p,f)))}),S1=(t,n,o)=>{const{getHoursList:i,getMinutesList:l,getSecondsList:a}=C1(t,n,o);return{getAvailableHours:(f,g)=>qb(i(f,g)),getAvailableMinutes:(f,g,m)=>qb(l(f,g,m)),getAvailableSeconds:(f,g,m,_)=>qb(a(f,g,m,_))}},I1=t=>{const n=V(t.parsedValue);return Me(()=>t.visible,o=>{o||(n.value=t.parsedValue)}),n},il=new Map;let HR;Kt&&(document.addEventListener("mousedown",t=>HR=t),document.addEventListener("mouseup",t=>{for(const n of il.values())for(const{documentHandler:o}of n)o(t,HR)}));function VR(t,n){let o=[];return Array.isArray(n.arg)?o=n.arg:zs(n.arg)&&o.push(n.arg),function(i,l){const a=n.instance.popperRef,u=i.target,h=l==null?void 0:l.target,p=!n||!n.instance,f=!u||!h,g=t.contains(u)||t.contains(h),m=t===u,_=o.length&&o.some(T=>T==null?void 0:T.contains(u))||o.length&&o.includes(h),b=a&&(a.contains(u)||a.contains(h));p||f||g||m||_||b||n.value(i,l)}}const kr={beforeMount(t,n){il.has(t)||il.set(t,[]),il.get(t).push({documentHandler:VR(t,n),bindingFn:n.value})},updated(t,n){il.has(t)||il.set(t,[]);const o=il.get(t),i=o.findIndex(a=>a.bindingFn===n.oldValue),l={documentHandler:VR(t,n),bindingFn:n.value};i>=0?o.splice(i,1,l):o.push(l)},unmounted(t){il.delete(t)}},SY=100,IY=600,tg={beforeMount(t,n){const o=n.value,{interval:i=SY,delay:l=IY}=_t(o)?{}:o;let a,u;const h=()=>_t(o)?o():o.handler(),p=()=>{u&&(clearTimeout(u),u=void 0),a&&(clearInterval(a),a=void 0)};t.addEventListener("mousedown",f=>{f.button===0&&(p(),h(),document.addEventListener("mouseup",()=>p(),{once:!0}),u=setTimeout(()=>{a=setInterval(()=>{h()},i)},l))})}},XT="_trap-focus-children",Ca=[],UR=t=>{if(Ca.length===0)return;const n=Ca[Ca.length-1][XT];if(n.length>0&&t.code===mt.tab){if(n.length===1){t.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const o=t.shiftKey,i=t.target===n[0],l=t.target===n[n.length-1];i&&o&&(t.preventDefault(),n[n.length-1].focus()),l&&!o&&(t.preventDefault(),n[0].focus())}},wY={beforeMount(t){t[XT]=Jk(t),Ca.push(t),Ca.length<=1&&document.addEventListener("keydown",UR)},updated(t){pt(()=>{t[XT]=Jk(t)})},unmounted(){Ca.shift(),Ca.length===0&&document.removeEventListener("keydown",UR)}};var GR=!1,ba,YT,jT,$m,vm,w1,_m,qT,JT,ZT,k1,QT,ey,O1,R1;function ns(){if(!GR){GR=!0;var t=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),o=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(QT=/\b(iPhone|iP[ao]d)/.exec(t),ey=/\b(iP[ao]d)/.exec(t),ZT=/Android/i.exec(t),O1=/FBAN\/\w+;/i.exec(t),R1=/Mobile/i.exec(t),k1=!!/Win64/.exec(t),n){ba=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,ba&&document&&document.documentMode&&(ba=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(t);w1=i?parseFloat(i[1])+4:ba,YT=n[2]?parseFloat(n[2]):NaN,jT=n[3]?parseFloat(n[3]):NaN,$m=n[4]?parseFloat(n[4]):NaN,$m?(n=/(?:Chrome\/(\d+\.\d+))/.exec(t),vm=n&&n[1]?parseFloat(n[1]):NaN):vm=NaN}else ba=YT=jT=vm=$m=NaN;if(o){if(o[1]){var l=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);_m=l?parseFloat(l[1].replace("_",".")):!0}else _m=!1;qT=!!o[2],JT=!!o[3]}else _m=qT=JT=!1}}var ty={ie:function(){return ns()||ba},ieCompatibilityMode:function(){return ns()||w1>ba},ie64:function(){return ty.ie()&&k1},firefox:function(){return ns()||YT},opera:function(){return ns()||jT},webkit:function(){return ns()||$m},safari:function(){return ty.webkit()},chrome:function(){return ns()||vm},windows:function(){return ns()||qT},osx:function(){return ns()||_m},linux:function(){return ns()||JT},iphone:function(){return ns()||QT},mobile:function(){return ns()||QT||ey||ZT||R1},nativeApp:function(){return ns()||O1},android:function(){return ns()||ZT},ipad:function(){return ns()||ey}},kY=ty,om=!!(typeof window<"u"&&window.document&&window.document.createElement),OY={canUseDOM:om,canUseWorkers:typeof Worker<"u",canUseEventListeners:om&&!!(window.addEventListener||window.attachEvent),canUseViewport:om&&!!window.screen,isInWorker:!om},A1=OY,N1;A1.canUseDOM&&(N1=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function RY(t,n){if(!A1.canUseDOM||n&&!("addEventListener"in document))return!1;var o="on"+t,i=o in document;if(!i){var l=document.createElement("div");l.setAttribute(o,"return;"),i=typeof l[o]=="function"}return!i&&N1&&t==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var AY=RY,WR=10,zR=40,KR=800;function L1(t){var n=0,o=0,i=0,l=0;return"detail"in t&&(o=t.detail),"wheelDelta"in t&&(o=-t.wheelDelta/120),"wheelDeltaY"in t&&(o=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(n=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=o,o=0),i=n*WR,l=o*WR,"deltaY"in t&&(l=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||l)&&t.deltaMode&&(t.deltaMode==1?(i*=zR,l*=zR):(i*=KR,l*=KR)),i&&!n&&(n=i<1?-1:1),l&&!o&&(o=l<1?-1:1),{spinX:n,spinY:o,pixelX:i,pixelY:l}}L1.getEventType=function(){return kY.firefox()?"DOMMouseScroll":AY("wheel")?"wheel":"mousewheel"};var NY=L1;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const LY=function(t,n){if(t&&t.addEventListener){const o=function(i){const l=NY(i);n&&Reflect.apply(n,this,[i,l])};t.addEventListener("wheel",o,{passive:!0})}},MY={beforeMount(t,n){LY(t,n.value)}},DY=Ue({role:{type:String,required:!0},spinnerDate:{type:fe(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:fe(String),default:""},...b1}),PY=["onClick"],xY=["onMouseenter"],BY=ne({__name:"basic-time-spinner",props:DY,emits:["change","select-range","set-option"],setup(t,{emit:n}){const o=t,i=xe("time"),{getHoursList:l,getMinutesList:a,getSecondsList:u}=C1(o.disabledHours,o.disabledMinutes,o.disabledSeconds);let h=!1;const p=V(),f=V(),g=V(),m=V(),_={hours:f,minutes:g,seconds:m},b=w(()=>o.showSeconds?DR:DR.slice(0,2)),T=w(()=>{const{spinnerDate:D}=o,X=D.hour(),oe=D.minute(),le=D.second();return{hours:X,minutes:oe,seconds:le}}),$=w(()=>{const{hours:D,minutes:X}=c(T);return{hours:l(o.role),minutes:a(D,o.role),seconds:u(D,X,o.role)}}),E=w(()=>{const{hours:D,minutes:X,seconds:oe}=c(T);return{hours:Yb(D,23),minutes:Yb(X,59),seconds:Yb(oe,59)}}),y=as(D=>{h=!1,S(D)},200),I=D=>{if(!!!o.amPmMode)return"";const oe=o.amPmMode==="A";let le=D<12?" am":" pm";return oe&&(le=le.toUpperCase()),le},C=D=>{let X;switch(D){case"hours":X=[0,2];break;case"minutes":X=[3,5];break;case"seconds":X=[6,8];break}const[oe,le]=X;n("select-range",oe,le),p.value=D},S=D=>{P(D,c(T)[D])},R=()=>{S("hours"),S("minutes"),S("seconds")},O=D=>D.querySelector(`.${i.namespace.value}-scrollbar__wrap`),P=(D,X)=>{if(o.arrowControl)return;const oe=c(_[D]);oe&&oe.$el&&(O(oe.$el).scrollTop=Math.max(0,X*M(D)))},M=D=>{const X=c(_[D]),oe=X==null?void 0:X.$el.querySelector("li");return oe&&Number.parseFloat(hl(oe,"height"))||0},H=()=>{B(1)},F=()=>{B(-1)},B=D=>{p.value||C("hours");const X=p.value,oe=c(T)[X],le=p.value==="hours"?24:60,me=K(X,oe,D,le);te(X,me),P(X,me),pt(()=>C(X))},K=(D,X,oe,le)=>{let me=(X+oe+le)%le;const Se=c($)[D];for(;Se[me]&&me!==X;)me=(me+oe+le)%le;return me},te=(D,X)=>{if(c($)[D][X])return;const{hours:me,minutes:Se,seconds:Pe}=c(T);let de;switch(D){case"hours":de=o.spinnerDate.hour(X).minute(Se).second(Pe);break;case"minutes":de=o.spinnerDate.hour(me).minute(X).second(Pe);break;case"seconds":de=o.spinnerDate.hour(me).minute(Se).second(X);break}n("change",de)},Z=(D,{value:X,disabled:oe})=>{oe||(te(D,X),C(D),P(D,X))},j=D=>{h=!0,y(D);const X=Math.min(Math.round((O(c(_[D]).$el).scrollTop-(z(D)*.5-10)/M(D)+3)/M(D)),D==="hours"?23:59);te(D,X)},z=D=>c(_[D]).$el.offsetHeight,G=()=>{const D=X=>{const oe=c(_[X]);oe&&oe.$el&&(O(oe.$el).onscroll=()=>{j(X)})};D("hours"),D("minutes"),D("seconds")};At(()=>{pt(()=>{!o.arrowControl&&G(),R(),o.role==="start"&&C("hours")})});const W=(D,X)=>{_[X].value=D};return n("set-option",[`${o.role}_scrollDown`,B]),n("set-option",[`${o.role}_emitSelectRange`,C]),Me(()=>o.spinnerDate,()=>{h||R()}),(D,X)=>(N(),Y("div",{class:L([c(i).b("spinner"),{"has-seconds":D.showSeconds}])},[D.arrowControl?$e("v-if",!0):(N(!0),Y(dt,{key:0},zt(c(b),oe=>(N(),be(c(Dr),{key:oe,ref_for:!0,ref:le=>W(le,oe),class:L(c(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":c(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:le=>C(oe),onMousemove:le=>S(oe)},{default:ce(()=>[(N(!0),Y(dt,null,zt(c($)[oe],(le,me)=>(N(),Y("li",{key:me,class:L([c(i).be("spinner","item"),c(i).is("active",me===c(T)[oe]),c(i).is("disabled",le)]),onClick:Se=>Z(oe,{value:me,disabled:le})},[oe==="hours"?(N(),Y(dt,{key:0},[Wt(ze(("0"+(D.amPmMode?me%12||12:me)).slice(-2))+ze(I(me)),1)],64)):(N(),Y(dt,{key:1},[Wt(ze(("0"+me).slice(-2)),1)],64))],10,PY))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),D.arrowControl?(N(!0),Y(dt,{key:1},zt(c(b),oe=>(N(),Y("div",{key:oe,class:L([c(i).be("spinner","wrapper"),c(i).is("arrow")]),onMouseenter:le=>C(oe)},[Rt((N(),be(c(at),{class:L(["arrow-up",c(i).be("spinner","arrow")])},{default:ce(()=>[ie(c(CE))]),_:1},8,["class"])),[[c(tg),F]]),Rt((N(),be(c(at),{class:L(["arrow-down",c(i).be("spinner","arrow")])},{default:ce(()=>[ie(c(Lr))]),_:1},8,["class"])),[[c(tg),H]]),Q("ul",{class:L(c(i).be("spinner","list"))},[(N(!0),Y(dt,null,zt(c(E)[oe],(le,me)=>(N(),Y("li",{key:me,class:L([c(i).be("spinner","item"),c(i).is("active",le===c(T)[oe]),c(i).is("disabled",c($)[oe][le])])},[typeof le=="number"?(N(),Y(dt,{key:0},[oe==="hours"?(N(),Y(dt,{key:0},[Wt(ze(("0"+(D.amPmMode?le%12||12:le)).slice(-2))+ze(I(le)),1)],64)):(N(),Y(dt,{key:1},[Wt(ze(("0"+le).slice(-2)),1)],64))],64)):$e("v-if",!0)],2))),128))],2)],42,xY))),128)):$e("v-if",!0)],2))}});var ny=We(BY,[["__file","basic-time-spinner.vue"]]);const FY=ne({__name:"panel-time-pick",props:CY,emits:["pick","select-range","set-picker-option"],setup(t,{emit:n}){const o=t,i=it("EP_PICKER_BASE"),{arrowControl:l,disabledHours:a,disabledMinutes:u,disabledSeconds:h,defaultValue:p}=i.props,{getAvailableHours:f,getAvailableMinutes:g,getAvailableSeconds:m}=S1(a,u,h),_=xe("time"),{t:b,lang:T}=Yt(),$=V([0,2]),E=I1(o),y=w(()=>Fn(o.actualVisible)?`${_.namespace.value}-zoom-in-top`:""),I=w(()=>o.format.includes("ss")),C=w(()=>o.format.includes("A")?"A":o.format.includes("a")?"a":""),S=W=>{const D=Pt(W).locale(T.value),X=Z(D);return D.isSame(X)},R=()=>{n("pick",E.value,!1)},O=(W=!1,D=!1)=>{D||n("pick",o.parsedValue,W)},P=W=>{if(!o.visible)return;const D=Z(W).millisecond(0);n("pick",D,!0)},M=(W,D)=>{n("select-range",W,D),$.value=[W,D]},H=W=>{const D=[0,3].concat(I.value?[6]:[]),X=["hours","minutes"].concat(I.value?["seconds"]:[]),le=(D.indexOf($.value[0])+W+D.length)%D.length;B.start_emitSelectRange(X[le])},F=W=>{const D=W.code,{left:X,right:oe,up:le,down:me}=mt;if([X,oe].includes(D)){H(D===X?-1:1),W.preventDefault();return}if([le,me].includes(D)){const Se=D===le?-1:1;B.start_scrollDown(Se),W.preventDefault();return}},{timePickerOptions:B,onSetOption:K,getAvailableTime:te}=E1({getAvailableHours:f,getAvailableMinutes:g,getAvailableSeconds:m}),Z=W=>te(W,o.datetimeRole||"",!0),j=W=>W?Pt(W,o.format).locale(T.value):null,z=W=>W?W.format(o.format):null,G=()=>Pt(p).locale(T.value);return n("set-picker-option",["isValidValue",S]),n("set-picker-option",["formatToString",z]),n("set-picker-option",["parseUserInput",j]),n("set-picker-option",["handleKeydownInput",F]),n("set-picker-option",["getRangeAvailableTime",Z]),n("set-picker-option",["getDefaultValue",G]),(W,D)=>(N(),be(Yn,{name:c(y)},{default:ce(()=>[W.actualVisible||W.visible?(N(),Y("div",{key:0,class:L(c(_).b("panel"))},[Q("div",{class:L([c(_).be("panel","content"),{"has-seconds":c(I)}])},[ie(ny,{ref:"spinner",role:W.datetimeRole||"start","arrow-control":c(l),"show-seconds":c(I),"am-pm-mode":c(C),"spinner-date":W.parsedValue,"disabled-hours":c(a),"disabled-minutes":c(u),"disabled-seconds":c(h),onChange:P,onSetOption:c(K),onSelectRange:M},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Q("div",{class:L(c(_).be("panel","footer"))},[Q("button",{type:"button",class:L([c(_).be("panel","btn"),"cancel"]),onClick:R},ze(c(b)("el.datepicker.cancel")),3),Q("button",{type:"button",class:L([c(_).be("panel","btn"),"confirm"]),onClick:D[0]||(D[0]=X=>O())},ze(c(b)("el.datepicker.confirm")),3)],2)],2)):$e("v-if",!0)]),_:1},8,["name"]))}});var ng=We(FY,[["__file","panel-time-pick.vue"]]);const HY=Ue({...T1,parsedValue:{type:fe(Array)}}),VY=["disabled"],UY=ne({__name:"panel-time-range",props:HY,emits:["pick","select-range","set-picker-option"],setup(t,{emit:n}){const o=t,i=(Ne,He)=>{const ae=[];for(let he=Ne;he<=He;he++)ae.push(he);return ae},{t:l,lang:a}=Yt(),u=xe("time"),h=xe("picker"),p=it("EP_PICKER_BASE"),{arrowControl:f,disabledHours:g,disabledMinutes:m,disabledSeconds:_,defaultValue:b}=p.props,T=w(()=>[u.be("range-picker","body"),u.be("panel","content"),u.is("arrow",f),S.value?"has-seconds":""]),$=w(()=>[u.be("range-picker","body"),u.be("panel","content"),u.is("arrow",f),S.value?"has-seconds":""]),E=w(()=>o.parsedValue[0]),y=w(()=>o.parsedValue[1]),I=I1(o),C=()=>{n("pick",I.value,!1)},S=w(()=>o.format.includes("ss")),R=w(()=>o.format.includes("A")?"A":o.format.includes("a")?"a":""),O=(Ne=!1)=>{n("pick",[E.value,y.value],Ne)},P=Ne=>{F(Ne.millisecond(0),y.value)},M=Ne=>{F(E.value,Ne.millisecond(0))},H=Ne=>{const He=Ne.map(he=>Pt(he).locale(a.value)),ae=oe(He);return He[0].isSame(ae[0])&&He[1].isSame(ae[1])},F=(Ne,He)=>{n("pick",[Ne,He],!0)},B=w(()=>E.value>y.value),K=V([0,2]),te=(Ne,He)=>{n("select-range",Ne,He,"min"),K.value=[Ne,He]},Z=w(()=>S.value?11:8),j=(Ne,He)=>{n("select-range",Ne,He,"max");const ae=c(Z);K.value=[Ne+ae,He+ae]},z=Ne=>{const He=S.value?[0,3,6,11,14,17]:[0,3,8,11],ae=["hours","minutes"].concat(S.value?["seconds"]:[]),Ae=(He.indexOf(K.value[0])+Ne+He.length)%He.length,Fe=He.length/2;Ae<Fe?Pe.start_emitSelectRange(ae[Ae]):Pe.end_emitSelectRange(ae[Ae-Fe])},G=Ne=>{const He=Ne.code,{left:ae,right:he,up:Ae,down:Fe}=mt;if([ae,he].includes(He)){z(He===ae?-1:1),Ne.preventDefault();return}if([Ae,Fe].includes(He)){const Ce=He===Ae?-1:1,De=K.value[0]<Z.value?"start":"end";Pe[`${De}_scrollDown`](Ce),Ne.preventDefault();return}},W=(Ne,He)=>{const ae=g?g(Ne):[],he=Ne==="start",Fe=(He||(he?y.value:E.value)).hour(),Ce=he?i(Fe+1,23):i(0,Fe-1);return Fb(ae,Ce)},D=(Ne,He,ae)=>{const he=m?m(Ne,He):[],Ae=He==="start",Fe=ae||(Ae?y.value:E.value),Ce=Fe.hour();if(Ne!==Ce)return he;const De=Fe.minute(),Ve=Ae?i(De+1,59):i(0,De-1);return Fb(he,Ve)},X=(Ne,He,ae,he)=>{const Ae=_?_(Ne,He,ae):[],Fe=ae==="start",Ce=he||(Fe?y.value:E.value),De=Ce.hour(),Ve=Ce.minute();if(Ne!==De||He!==Ve)return Ae;const ue=Ce.second(),we=Fe?i(ue+1,59):i(0,ue-1);return Fb(Ae,we)},oe=([Ne,He])=>[de(Ne,"start",!0,He),de(He,"end",!1,Ne)],{getAvailableHours:le,getAvailableMinutes:me,getAvailableSeconds:Se}=S1(W,D,X),{timePickerOptions:Pe,getAvailableTime:de,onSetOption:ye}=E1({getAvailableHours:le,getAvailableMinutes:me,getAvailableSeconds:Se}),_e=Ne=>Ne?tt(Ne)?Ne.map(He=>Pt(He,o.format).locale(a.value)):Pt(Ne,o.format).locale(a.value):null,Ke=Ne=>Ne?tt(Ne)?Ne.map(He=>He.format(o.format)):Ne.format(o.format):null,ve=()=>{if(tt(b))return b.map(He=>Pt(He).locale(a.value));const Ne=Pt(b).locale(a.value);return[Ne,Ne.add(60,"m")]};return n("set-picker-option",["formatToString",Ke]),n("set-picker-option",["parseUserInput",_e]),n("set-picker-option",["isValidValue",H]),n("set-picker-option",["handleKeydownInput",G]),n("set-picker-option",["getDefaultValue",ve]),n("set-picker-option",["getRangeAvailableTime",oe]),(Ne,He)=>Ne.actualVisible?(N(),Y("div",{key:0,class:L([c(u).b("range-picker"),c(h).b("panel")])},[Q("div",{class:L(c(u).be("range-picker","content"))},[Q("div",{class:L(c(u).be("range-picker","cell"))},[Q("div",{class:L(c(u).be("range-picker","header"))},ze(c(l)("el.datepicker.startTime")),3),Q("div",{class:L(c(T))},[ie(ny,{ref:"minSpinner",role:"start","show-seconds":c(S),"am-pm-mode":c(R),"arrow-control":c(f),"spinner-date":c(E),"disabled-hours":W,"disabled-minutes":D,"disabled-seconds":X,onChange:P,onSetOption:c(ye),onSelectRange:te},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Q("div",{class:L(c(u).be("range-picker","cell"))},[Q("div",{class:L(c(u).be("range-picker","header"))},ze(c(l)("el.datepicker.endTime")),3),Q("div",{class:L(c($))},[ie(ny,{ref:"maxSpinner",role:"end","show-seconds":c(S),"am-pm-mode":c(R),"arrow-control":c(f),"spinner-date":c(y),"disabled-hours":W,"disabled-minutes":D,"disabled-seconds":X,onChange:M,onSetOption:c(ye),onSelectRange:j},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Q("div",{class:L(c(u).be("panel","footer"))},[Q("button",{type:"button",class:L([c(u).be("panel","btn"),"cancel"]),onClick:He[0]||(He[0]=ae=>C())},ze(c(l)("el.datepicker.cancel")),3),Q("button",{type:"button",class:L([c(u).be("panel","btn"),"confirm"]),disabled:c(B),onClick:He[1]||(He[1]=ae=>O())},ze(c(l)("el.datepicker.confirm")),11,VY)],2)],2)):$e("v-if",!0)}});var GY=We(UY,[["__file","panel-time-range.vue"]]);Pt.extend(i0);var WY=ne({name:"ElTimePicker",install:null,props:{...r0,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,n){const o=V(),[i,l]=t.isRange?["timerange",GY]:["time",ng],a=u=>n.emit("update:modelValue",u);return Ut("ElPopperOptions",t.popperOptions),n.expose({focus:u=>{var h;(h=o.value)==null||h.handleFocusInput(u)},blur:u=>{var h;(h=o.value)==null||h.handleBlurInput(u)},handleOpen:()=>{var u;(u=o.value)==null||u.handleOpen()},handleClose:()=>{var u;(u=o.value)==null||u.handleClose()}}),()=>{var u;const h=(u=t.format)!=null?u:KT;return ie(y1,Vt(t,{ref:o,type:i,format:h,"onUpdate:modelValue":a}),{default:p=>ie(l,p,null)})}}});const bm=WY;bm.install=t=>{t.component(bm.name,bm)};const zY=bm,KY=(t,n)=>{const o=t.subtract(1,"month").endOf("month").date();return vl(n).map((i,l)=>o-(n-l-1))},XY=t=>{const n=t.daysInMonth();return vl(n).map((o,i)=>i+1)},YY=t=>vl(t.length/7).map(n=>{const o=n*7;return t.slice(o,o+7)}),jY=Ue({selectedDay:{type:fe(Object)},range:{type:fe(Array)},date:{type:fe(Object),required:!0},hideHeader:{type:Boolean}}),qY={pick:t=>xt(t)};var M1={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(jo,function(){return function(o,i,l){var a=i.prototype,u=function(m){return m&&(m.indexOf?m:m.s)},h=function(m,_,b,T,$){var E=m.name?m:m.$locale(),y=u(E[_]),I=u(E[b]),C=y||I.map(function(R){return R.slice(0,T)});if(!$)return C;var S=E.weekStart;return C.map(function(R,O){return C[(O+(S||0))%7]})},p=function(){return l.Ls[l.locale()]},f=function(m,_){return m.formats[_]||function(b){return b.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,$,E){return $||E.slice(1)})}(m.formats[_.toUpperCase()])},g=function(){var m=this;return{months:function(_){return _?_.format("MMMM"):h(m,"months")},monthsShort:function(_){return _?_.format("MMM"):h(m,"monthsShort","months",3)},firstDayOfWeek:function(){return m.$locale().weekStart||0},weekdays:function(_){return _?_.format("dddd"):h(m,"weekdays")},weekdaysMin:function(_){return _?_.format("dd"):h(m,"weekdaysMin","weekdays",2)},weekdaysShort:function(_){return _?_.format("ddd"):h(m,"weekdaysShort","weekdays",3)},longDateFormat:function(_){return f(m.$locale(),_)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return g.bind(this)()},l.localeData=function(){var m=p();return{firstDayOfWeek:function(){return m.weekStart||0},weekdays:function(){return l.weekdays()},weekdaysShort:function(){return l.weekdaysShort()},weekdaysMin:function(){return l.weekdaysMin()},months:function(){return l.months()},monthsShort:function(){return l.monthsShort()},longDateFormat:function(_){return f(m,_)},meridiem:m.meridiem,ordinal:m.ordinal}},l.months=function(){return h(p(),"months")},l.monthsShort=function(){return h(p(),"monthsShort","months",3)},l.weekdays=function(m){return h(p(),"weekdays",null,null,m)},l.weekdaysShort=function(m){return h(p(),"weekdaysShort","weekdays",3,m)},l.weekdaysMin=function(m){return h(p(),"weekdaysMin","weekdays",2,m)}}})})(M1);var JY=M1.exports;const D1=js(JY),ZY=(t,n)=>{Pt.extend(D1);const o=Pt.localeData().firstDayOfWeek(),{t:i,lang:l}=Yt(),a=Pt().locale(l.value),u=w(()=>!!t.range&&!!t.range.length),h=w(()=>{let _=[];if(u.value){const[b,T]=t.range,$=vl(T.date()-b.date()+1).map(I=>({text:b.date()+I,type:"current"}));let E=$.length%7;E=E===0?0:7-E;const y=vl(E).map((I,C)=>({text:C+1,type:"next"}));_=$.concat(y)}else{const b=t.date.startOf("month").day(),T=KY(t.date,(b-o+7)%7).map(I=>({text:I,type:"prev"})),$=XY(t.date).map(I=>({text:I,type:"current"}));_=[...T,...$];const E=7-(_.length%7||7),y=vl(E).map((I,C)=>({text:C+1,type:"next"}));_=_.concat(y)}return YY(_)}),p=w(()=>{const _=o;return _===0?Hb.map(b=>i(`el.datepicker.weeks.${b}`)):Hb.slice(_).concat(Hb.slice(0,_)).map(b=>i(`el.datepicker.weeks.${b}`))}),f=(_,b)=>{switch(b){case"prev":return t.date.startOf("month").subtract(1,"month").date(_);case"next":return t.date.startOf("month").add(1,"month").date(_);case"current":return t.date.date(_)}};return{now:a,isInRange:u,rows:h,weekDays:p,getFormattedDate:f,handlePickDay:({text:_,type:b})=>{const T=f(_,b);n("pick",T)},getSlotData:({text:_,type:b})=>{const T=f(_,b);return{isSelected:T.isSame(t.selectedDay),type:`${b}-month`,day:T.format("YYYY-MM-DD"),date:T.toDate()}}}},QY={key:0},ej=["onClick"],tj=ne({name:"DateTable"}),nj=ne({...tj,props:jY,emits:qY,setup(t,{expose:n,emit:o}){const i=t,{isInRange:l,now:a,rows:u,weekDays:h,getFormattedDate:p,handlePickDay:f,getSlotData:g}=ZY(i,o),m=xe("calendar-table"),_=xe("calendar-day"),b=({text:T,type:$})=>{const E=[$];if($==="current"){const y=p(T,$);y.isSame(i.selectedDay,"day")&&E.push(_.is("selected")),y.isSame(a,"day")&&E.push(_.is("today"))}return E};return n({getFormattedDate:p}),(T,$)=>(N(),Y("table",{class:L([c(m).b(),c(m).is("range",c(l))]),cellspacing:"0",cellpadding:"0"},[T.hideHeader?$e("v-if",!0):(N(),Y("thead",QY,[(N(!0),Y(dt,null,zt(c(h),E=>(N(),Y("th",{key:E},ze(E),1))),128))])),Q("tbody",null,[(N(!0),Y(dt,null,zt(c(u),(E,y)=>(N(),Y("tr",{key:y,class:L({[c(m).e("row")]:!0,[c(m).em("row","hide-border")]:y===0&&T.hideHeader})},[(N(!0),Y(dt,null,zt(E,(I,C)=>(N(),Y("td",{key:C,class:L(b(I)),onClick:S=>c(f)(I)},[Q("div",{class:L(c(_).b())},[Te(T.$slots,"date-cell",{data:c(g)(I)},()=>[Q("span",null,ze(I.text),1)])],2)],10,ej))),128))],2))),128))])],2))}});var XR=We(nj,[["__file","date-table.vue"]]);const oj=(t,n)=>{const o=t.endOf("month"),i=n.startOf("month"),a=o.isSame(i,"week")?i.add(1,"week"):i;return[[t,o],[a.startOf("week"),n]]},sj=(t,n)=>{const o=t.endOf("month"),i=t.add(1,"month").startOf("month"),l=o.isSame(i,"week")?i.add(1,"week"):i,a=l.endOf("month"),u=n.startOf("month"),h=a.isSame(u,"week")?u.add(1,"week"):u;return[[t,o],[l.startOf("week"),a],[h.startOf("week"),n]]},ij=(t,n,o)=>{const{lang:i}=Yt(),l=V(),a=Pt().locale(i.value),u=w({get(){return t.modelValue?p.value:l.value},set(E){if(!E)return;l.value=E;const y=E.toDate();n(Yo,y),n(Bt,y)}}),h=w(()=>{if(!t.range)return[];const E=t.range.map(C=>Pt(C).locale(i.value)),[y,I]=E;return y.isAfter(I)?[]:y.isSame(I,"month")?b(y,I):y.add(1,"month").month()!==I.month()?[]:b(y,I)}),p=w(()=>t.modelValue?Pt(t.modelValue).locale(i.value):u.value||(h.value.length?h.value[0][0]:a)),f=w(()=>p.value.subtract(1,"month").date(1)),g=w(()=>p.value.add(1,"month").date(1)),m=w(()=>p.value.subtract(1,"year").date(1)),_=w(()=>p.value.add(1,"year").date(1)),b=(E,y)=>{const I=E.startOf("week"),C=y.endOf("week"),S=I.get("month"),R=C.get("month");return S===R?[[I,C]]:(S+1)%12===R?oj(I,C):S+2===R||(S+1)%11===R?sj(I,C):[]},T=E=>{u.value=E};return{calculateValidatedDateRange:b,date:p,realSelectedDay:u,pickDay:T,selectDate:E=>{const I={"prev-month":f.value,"next-month":g.value,"prev-year":m.value,"next-year":_.value,today:a}[E];I.isSame(p.value,"day")||T(I)},validatedRange:h}},rj=t=>tt(t)&&t.length===2&&t.every(n=>Ma(n)),lj=Ue({modelValue:{type:Date},range:{type:fe(Array),validator:rj}}),aj={[Bt]:t=>Ma(t),[Yo]:t=>Ma(t)},uj="ElCalendar",cj=ne({name:uj}),dj=ne({...cj,props:lj,emits:aj,setup(t,{expose:n,emit:o}){const i=t,l=xe("calendar"),{calculateValidatedDateRange:a,date:u,pickDay:h,realSelectedDay:p,selectDate:f,validatedRange:g}=ij(i,o),{t:m}=Yt(),_=w(()=>{const b=`el.datepicker.month${u.value.format("M")}`;return`${u.value.year()} ${m("el.datepicker.year")} ${m(b)}`});return n({selectedDay:p,pickDay:h,selectDate:f,calculateValidatedDateRange:a}),(b,T)=>(N(),Y("div",{class:L(c(l).b())},[Q("div",{class:L(c(l).e("header"))},[Te(b.$slots,"header",{date:c(_)},()=>[Q("div",{class:L(c(l).e("title"))},ze(c(_)),3),c(g).length===0?(N(),Y("div",{key:0,class:L(c(l).e("button-group"))},[ie(c(m1),null,{default:ce(()=>[ie(c(ro),{size:"small",onClick:T[0]||(T[0]=$=>c(f)("prev-month"))},{default:ce(()=>[Wt(ze(c(m)("el.datepicker.prevMonth")),1)]),_:1}),ie(c(ro),{size:"small",onClick:T[1]||(T[1]=$=>c(f)("today"))},{default:ce(()=>[Wt(ze(c(m)("el.datepicker.today")),1)]),_:1}),ie(c(ro),{size:"small",onClick:T[2]||(T[2]=$=>c(f)("next-month"))},{default:ce(()=>[Wt(ze(c(m)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):$e("v-if",!0)])],2),c(g).length===0?(N(),Y("div",{key:0,class:L(c(l).e("body"))},[ie(XR,{date:c(u),"selected-day":c(p),onPick:c(h)},Sr({_:2},[b.$slots["date-cell"]?{name:"date-cell",fn:ce($=>[Te(b.$slots,"date-cell",Tr(fc($)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(N(),Y("div",{key:1,class:L(c(l).e("body"))},[(N(!0),Y(dt,null,zt(c(g),($,E)=>(N(),be(XR,{key:E,date:$[0],"selected-day":c(p),range:$,"hide-header":E!==0,onPick:c(h)},Sr({_:2},[b.$slots["date-cell"]?{name:"date-cell",fn:ce(y=>[Te(b.$slots,"date-cell",Tr(fc(y)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var hj=We(dj,[["__file","calendar.vue"]]);const pj=Dt(hj),fj=Ue({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:fe([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),mj=ne({name:"ElCard"}),gj=ne({...mj,props:fj,setup(t){const n=xe("card");return(o,i)=>(N(),Y("div",{class:L([c(n).b(),c(n).is(`${o.shadow}-shadow`)])},[o.$slots.header||o.header?(N(),Y("div",{key:0,class:L(c(n).e("header"))},[Te(o.$slots,"header",{},()=>[Wt(ze(o.header),1)])],2)):$e("v-if",!0),Q("div",{class:L([c(n).e("body"),o.bodyClass]),style:ct(o.bodyStyle)},[Te(o.$slots,"default")],6),o.$slots.footer||o.footer?(N(),Y("div",{key:1,class:L(c(n).e("footer"))},[Te(o.$slots,"footer",{},()=>[Wt(ze(o.footer),1)])],2)):$e("v-if",!0)],2))}});var $j=We(gj,[["__file","card.vue"]]);const vj=Dt($j),_j=Ue({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),bj={change:(t,n)=>[t,n].every($t)},P1=Symbol("carouselContextKey"),YR=300,Tj=(t,n,o)=>{const{children:i,addChild:l,removeChild:a}=ZE(Mt(),"ElCarouselItem"),u=ao(),h=V(-1),p=V(null),f=V(!1),g=V(),m=V(0),_=V(!0),b=V(!0),T=V(!1),$=w(()=>t.arrow!=="never"&&!c(I)),E=w(()=>i.value.some(de=>de.props.label.toString().length>0)),y=w(()=>t.type==="card"),I=w(()=>t.direction==="vertical"),C=w(()=>t.height!=="auto"?{height:t.height}:{height:`${m.value}px`,overflow:"hidden"}),S=Ra(de=>{F(de)},YR,{trailing:!0}),R=Ra(de=>{D(de)},YR),O=de=>_.value?h.value<=1?de<=1:de>1:!0;function P(){p.value&&(clearInterval(p.value),p.value=null)}function M(){t.interval<=0||!t.autoplay||p.value||(p.value=setInterval(()=>H(),t.interval))}const H=()=>{b.value||(T.value=!0),b.value=!1,h.value<i.value.length-1?h.value=h.value+1:t.loop&&(h.value=0)};function F(de){if(b.value||(T.value=!0),b.value=!1,yt(de)){const Ke=i.value.filter(ve=>ve.props.name===de);Ke.length>0&&(de=i.value.indexOf(Ke[0]))}if(de=Number(de),Number.isNaN(de)||de!==Math.floor(de))return;const ye=i.value.length,_e=h.value;de<0?h.value=t.loop?ye-1:0:de>=ye?h.value=t.loop?0:ye-1:h.value=de,_e===h.value&&B(_e),le()}function B(de){i.value.forEach((ye,_e)=>{ye.translateItem(_e,h.value,de)})}function K(de,ye){var _e,Ke,ve,Ne;const He=c(i),ae=He.length;if(ae===0||!de.states.inStage)return!1;const he=ye+1,Ae=ye-1,Fe=ae-1,Ce=He[Fe].states.active,De=He[0].states.active,Ve=(Ke=(_e=He[he])==null?void 0:_e.states)==null?void 0:Ke.active,ue=(Ne=(ve=He[Ae])==null?void 0:ve.states)==null?void 0:Ne.active;return ye===Fe&&De||Ve?"left":ye===0&&Ce||ue?"right":!1}function te(){f.value=!0,t.pauseOnHover&&P()}function Z(){f.value=!1,M()}function j(){T.value=!1}function z(de){c(I)||i.value.forEach((ye,_e)=>{de===K(ye,_e)&&(ye.states.hover=!0)})}function G(){c(I)||i.value.forEach(de=>{de.states.hover=!1})}function W(de){de!==h.value&&(b.value||(T.value=!0)),h.value=de}function D(de){t.trigger==="hover"&&de!==h.value&&(h.value=de,b.value||(T.value=!0))}function X(){F(h.value-1)}function oe(){F(h.value+1)}function le(){P(),t.pauseOnHover||M()}function me(de){t.height==="auto"&&(m.value=de)}function Se(){var de;const ye=(de=u.default)==null?void 0:de.call(u);if(!ye)return null;const _e=$l(ye),Ke="ElCarouselItem",ve=_e.filter(Ne=>Cn(Ne)&&Ne.type.name===Ke);return(ve==null?void 0:ve.length)===2&&t.loop&&!y.value?(_.value=!0,ve):(_.value=!1,null)}Me(()=>h.value,(de,ye)=>{B(ye),_.value&&(de=de%2,ye=ye%2),ye>-1&&n("change",de,ye)}),Me(()=>t.autoplay,de=>{de?M():P()}),Me(()=>t.loop,()=>{F(h.value)}),Me(()=>t.interval,()=>{le()});const Pe=_n();return At(()=>{Me(()=>i.value,()=>{i.value.length>0&&F(t.initialIndex)},{immediate:!0}),Pe.value=In(g.value,()=>{B()}),M()}),fn(()=>{P(),g.value&&Pe.value&&Pe.value.stop()}),Ut(P1,{root:g,isCardType:y,isVertical:I,items:i,loop:t.loop,addItem:l,removeItem:a,setActiveItem:F,setContainerHeight:me}),{root:g,activeIndex:h,arrowDisplay:$,hasLabel:E,hover:f,isCardType:y,isTransitioning:T,items:i,isVertical:I,containerStyle:C,isItemsTwoLength:_,handleButtonEnter:z,handleTransitionEnd:j,handleButtonLeave:G,handleIndicatorClick:W,handleMouseEnter:te,handleMouseLeave:Z,setActiveItem:F,prev:X,next:oe,PlaceholderItem:Se,isTwoLengthShow:O,throttledArrowClick:S,throttledIndicatorHover:R}},yj=["aria-label"],Ej=["aria-label"],Cj=["onMouseenter","onClick"],Sj=["aria-label"],Ij={key:0},wj={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},kj=Q("defs",null,[Q("filter",{id:"elCarouselHorizontal"},[Q("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Q("filter",{id:"elCarouselVertical"},[Q("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),Oj=[kj],Rj="ElCarousel",Aj=ne({name:Rj}),Nj=ne({...Aj,props:_j,emits:bj,setup(t,{expose:n,emit:o}){const i=t,{root:l,activeIndex:a,arrowDisplay:u,hasLabel:h,hover:p,isCardType:f,items:g,isVertical:m,containerStyle:_,handleButtonEnter:b,handleButtonLeave:T,isTransitioning:$,handleIndicatorClick:E,handleMouseEnter:y,handleMouseLeave:I,handleTransitionEnd:C,setActiveItem:S,prev:R,next:O,PlaceholderItem:P,isTwoLengthShow:M,throttledArrowClick:H,throttledIndicatorHover:F}=Tj(i,o),B=xe("carousel"),{t:K}=Yt(),te=w(()=>{const z=[B.b(),B.m(i.direction)];return c(f)&&z.push(B.m("card")),z}),Z=w(()=>{const z=[B.e("container")];return i.motionBlur&&c($)&&z.push(c(m)?`${B.namespace.value}-transitioning-vertical`:`${B.namespace.value}-transitioning`),z}),j=w(()=>{const z=[B.e("indicators"),B.em("indicators",i.direction)];return c(h)&&z.push(B.em("indicators","labels")),i.indicatorPosition==="outside"&&z.push(B.em("indicators","outside")),c(m)&&z.push(B.em("indicators","right")),z});return n({setActiveItem:S,prev:R,next:O}),(z,G)=>(N(),Y("div",{ref_key:"root",ref:l,class:L(c(te)),onMouseenter:G[7]||(G[7]=bt((...W)=>c(y)&&c(y)(...W),["stop"])),onMouseleave:G[8]||(G[8]=bt((...W)=>c(I)&&c(I)(...W),["stop"]))},[c(u)?(N(),be(Yn,{key:0,name:"carousel-arrow-left",persisted:""},{default:ce(()=>[Rt(Q("button",{type:"button",class:L([c(B).e("arrow"),c(B).em("arrow","left")]),"aria-label":c(K)("el.carousel.leftArrow"),onMouseenter:G[0]||(G[0]=W=>c(b)("left")),onMouseleave:G[1]||(G[1]=(...W)=>c(T)&&c(T)(...W)),onClick:G[2]||(G[2]=bt(W=>c(H)(c(a)-1),["stop"]))},[ie(c(at),null,{default:ce(()=>[ie(c(Cl))]),_:1})],42,yj),[[qt,(z.arrow==="always"||c(p))&&(i.loop||c(a)>0)]])]),_:1})):$e("v-if",!0),c(u)?(N(),be(Yn,{key:1,name:"carousel-arrow-right",persisted:""},{default:ce(()=>[Rt(Q("button",{type:"button",class:L([c(B).e("arrow"),c(B).em("arrow","right")]),"aria-label":c(K)("el.carousel.rightArrow"),onMouseenter:G[3]||(G[3]=W=>c(b)("right")),onMouseleave:G[4]||(G[4]=(...W)=>c(T)&&c(T)(...W)),onClick:G[5]||(G[5]=bt(W=>c(H)(c(a)+1),["stop"]))},[ie(c(at),null,{default:ce(()=>[ie(c(Xo))]),_:1})],42,Ej),[[qt,(z.arrow==="always"||c(p))&&(i.loop||c(a)<c(g).length-1)]])]),_:1})):$e("v-if",!0),Q("div",{class:L(c(Z)),style:ct(c(_)),onTransitionend:G[6]||(G[6]=(...W)=>c(C)&&c(C)(...W))},[ie(c(P)),Te(z.$slots,"default")],38),z.indicatorPosition!=="none"?(N(),Y("ul",{key:2,class:L(c(j))},[(N(!0),Y(dt,null,zt(c(g),(W,D)=>Rt((N(),Y("li",{key:D,class:L([c(B).e("indicator"),c(B).em("indicator",z.direction),c(B).is("active",D===c(a))]),onMouseenter:X=>c(F)(D),onClick:bt(X=>c(E)(D),["stop"])},[Q("button",{class:L(c(B).e("button")),"aria-label":c(K)("el.carousel.indicator",{index:D+1})},[c(h)?(N(),Y("span",Ij,ze(W.props.label),1)):$e("v-if",!0)],10,Sj)],42,Cj)),[[qt,c(M)(D)]])),128))],2)):$e("v-if",!0),i.motionBlur?(N(),Y("svg",wj,Oj)):$e("v-if",!0)],34))}});var Lj=We(Nj,[["__file","carousel.vue"]]);const Mj=Ue({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Dj=(t,n)=>{const o=it(P1),i=Mt(),l=.83,a=V(),u=V(!1),h=V(0),p=V(1),f=V(!1),g=V(!1),m=V(!1),_=V(!1),{isCardType:b,isVertical:T}=o;function $(S,R,O){const P=O-1,M=R-1,H=R+1,F=O/2;return R===0&&S===P?-1:R===P&&S===0?O:S<M&&R-S>=F?O+1:S>H&&S-R>=F?-2:S}function E(S,R){var O,P;const M=c(T)?((O=o.root.value)==null?void 0:O.offsetHeight)||0:((P=o.root.value)==null?void 0:P.offsetWidth)||0;return m.value?M*((2-l)*(S-R)+1)/4:S<R?-(1+l)*M/4:(3+l)*M/4}function y(S,R,O){const P=o.root.value;return P?((O?P.offsetHeight:P.offsetWidth)||0)*(S-R):0}const I=(S,R,O)=>{var P;const M=c(b),H=(P=o.items.value.length)!=null?P:Number.NaN,F=S===R;!M&&!Fn(O)&&(_.value=F||S===O),!F&&H>2&&o.loop&&(S=$(S,R,H));const B=c(T);f.value=F,M?(m.value=Math.round(Math.abs(S-R))<=1,h.value=E(S,R),p.value=c(f)?1:l):h.value=y(S,R,B),g.value=!0,F&&a.value&&o.setContainerHeight(a.value.offsetHeight)};function C(){if(o&&c(b)){const S=o.items.value.findIndex(({uid:R})=>R===i.uid);o.setActiveItem(S)}}return At(()=>{o.addItem({props:t,states:Qt({hover:u,translate:h,scale:p,active:f,ready:g,inStage:m,animating:_}),uid:i.uid,translateItem:I})}),Rl(()=>{o.removeItem(i.uid)}),{carouselItemRef:a,active:f,animating:_,hover:u,inStage:m,isVertical:T,translate:h,isCardType:b,scale:p,ready:g,handleItemClick:C}},Pj=ne({name:"ElCarouselItem"}),xj=ne({...Pj,props:Mj,setup(t){const n=t,o=xe("carousel"),{carouselItemRef:i,active:l,animating:a,hover:u,inStage:h,isVertical:p,translate:f,isCardType:g,scale:m,ready:_,handleItemClick:b}=Dj(n),T=w(()=>[o.e("item"),o.is("active",l.value),o.is("in-stage",h.value),o.is("hover",u.value),o.is("animating",a.value),{[o.em("item","card")]:g.value,[o.em("item","card-vertical")]:g.value&&p.value}]),$=w(()=>{const y=`${`translate${c(p)?"Y":"X"}`}(${c(f)}px)`,I=`scale(${c(m)})`;return{transform:[y,I].join(" ")}});return(E,y)=>Rt((N(),Y("div",{ref_key:"carouselItemRef",ref:i,class:L(c(T)),style:ct(c($)),onClick:y[0]||(y[0]=(...I)=>c(b)&&c(b)(...I))},[c(g)?Rt((N(),Y("div",{key:0,class:L(c(o).e("mask"))},null,2)),[[qt,!c(l)]]):$e("v-if",!0),Te(E.$slots,"default")],6)),[[qt,c(_)]])}});var x1=We(xj,[["__file","carousel-item.vue"]]);const Bj=Dt(Lj,{CarouselItem:x1}),Fj=kn(x1),B1={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:qn,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...mo(["ariaControls"])},F1={[Bt]:t=>yt(t)||$t(t)||Hn(t),change:t=>yt(t)||$t(t)||Hn(t)},Wc=Symbol("checkboxGroupContextKey"),Hj=({model:t,isChecked:n})=>{const o=it(Wc,void 0),i=w(()=>{var a,u;const h=(a=o==null?void 0:o.max)==null?void 0:a.value,p=(u=o==null?void 0:o.min)==null?void 0:u.value;return!Fn(h)&&t.value.length>=h&&!n.value||!Fn(p)&&t.value.length<=p&&n.value});return{isDisabled:Zo(w(()=>(o==null?void 0:o.disabled.value)||i.value)),isLimitDisabled:i}},Vj=(t,{model:n,isLimitExceeded:o,hasOwnLabel:i,isDisabled:l,isLabeledByFormItem:a})=>{const u=it(Wc,void 0),{formItem:h}=Bo(),{emit:p}=Mt();function f(T){var $,E,y,I;return[!0,t.trueValue,t.trueLabel].includes(T)?(E=($=t.trueValue)!=null?$:t.trueLabel)!=null?E:!0:(I=(y=t.falseValue)!=null?y:t.falseLabel)!=null?I:!1}function g(T,$){p("change",f(T),$)}function m(T){if(o.value)return;const $=T.target;p("change",f($.checked),T)}async function _(T){o.value||!i.value&&!l.value&&a.value&&(T.composedPath().some(y=>y.tagName==="LABEL")||(n.value=f([!1,t.falseValue,t.falseLabel].includes(n.value)),await pt(),g(n.value,T)))}const b=w(()=>(u==null?void 0:u.validateEvent)||t.validateEvent);return Me(()=>t.modelValue,()=>{b.value&&(h==null||h.validate("change").catch(T=>void 0))}),{handleChange:m,onClickRoot:_}},Uj=t=>{const n=V(!1),{emit:o}=Mt(),i=it(Wc,void 0),l=w(()=>Fn(i)===!1),a=V(!1),u=w({get(){var h,p;return l.value?(h=i==null?void 0:i.modelValue)==null?void 0:h.value:(p=t.modelValue)!=null?p:n.value},set(h){var p,f;l.value&&tt(h)?(a.value=((p=i==null?void 0:i.max)==null?void 0:p.value)!==void 0&&h.length>(i==null?void 0:i.max.value)&&h.length>u.value.length,a.value===!1&&((f=i==null?void 0:i.changeEvent)==null||f.call(i,h))):(o(Bt,h),n.value=h)}});return{model:u,isGroup:l,isLimitExceeded:a}},Gj=(t,n,{model:o})=>{const i=it(Wc,void 0),l=V(!1),a=w(()=>xa(t.value)?t.label:t.value),u=w(()=>{const g=o.value;return Hn(g)?g:tt(g)?xt(a.value)?g.map(sn).some(m=>Do(m,a.value)):g.map(sn).includes(a.value):g!=null?g===t.trueValue||g===t.trueLabel:!!g}),h=Kn(w(()=>{var g;return(g=i==null?void 0:i.size)==null?void 0:g.value}),{prop:!0}),p=Kn(w(()=>{var g;return(g=i==null?void 0:i.size)==null?void 0:g.value})),f=w(()=>!!n.default||!xa(a.value));return{checkboxButtonSize:h,isChecked:u,isFocused:l,checkboxSize:p,hasOwnLabel:f,actualValue:a}},H1=(t,n)=>{const{formItem:o}=Bo(),{model:i,isGroup:l,isLimitExceeded:a}=Uj(t),{isFocused:u,isChecked:h,checkboxButtonSize:p,checkboxSize:f,hasOwnLabel:g,actualValue:m}=Gj(t,n,{model:i}),{isDisabled:_}=Hj({model:i,isChecked:h}),{inputId:b,isLabeledByFormItem:T}=$i(t,{formItemContext:o,disableIdGeneration:g,disableIdManagement:l}),{handleChange:$,onClickRoot:E}=Vj(t,{model:i,isLimitExceeded:a,hasOwnLabel:g,isDisabled:_,isLabeledByFormItem:T});return(()=>{function I(){var C,S;tt(i.value)&&!i.value.includes(m.value)?i.value.push(m.value):i.value=(S=(C=t.trueValue)!=null?C:t.trueLabel)!=null?S:!0}t.checked&&I()})(),Qn({from:"controls",replacement:"aria-controls",version:"2.8.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},w(()=>!!t.controls)),Qn({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},w(()=>l.value&&xa(t.value))),Qn({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},w(()=>!!t.trueLabel)),Qn({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},w(()=>!!t.falseLabel)),{inputId:b,isLabeledByFormItem:T,isChecked:h,isDisabled:_,isFocused:u,checkboxButtonSize:p,checkboxSize:f,hasOwnLabel:g,model:i,actualValue:m,handleChange:$,onClickRoot:E}},Wj=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],zj=["id","indeterminate","disabled","value","name","tabindex"],Kj=ne({name:"ElCheckbox"}),Xj=ne({...Kj,props:B1,emits:F1,setup(t){const n=t,o=ao(),{inputId:i,isLabeledByFormItem:l,isChecked:a,isDisabled:u,isFocused:h,checkboxSize:p,hasOwnLabel:f,model:g,actualValue:m,handleChange:_,onClickRoot:b}=H1(n,o),T=xe("checkbox"),$=w(()=>[T.b(),T.m(p.value),T.is("disabled",u.value),T.is("bordered",n.border),T.is("checked",a.value)]),E=w(()=>[T.e("input"),T.is("disabled",u.value),T.is("checked",a.value),T.is("indeterminate",n.indeterminate),T.is("focus",h.value)]);return(y,I)=>(N(),be(Ft(!c(f)&&c(l)?"span":"label"),{class:L(c($)),"aria-controls":y.indeterminate?y.controls||y.ariaControls:null,onClick:c(b)},{default:ce(()=>{var C,S;return[Q("span",{class:L(c(E))},[y.trueValue||y.falseValue||y.trueLabel||y.falseLabel?Rt((N(),Y("input",{key:0,id:c(i),"onUpdate:modelValue":I[0]||(I[0]=R=>bn(g)?g.value=R:null),class:L(c(T).e("original")),type:"checkbox",indeterminate:y.indeterminate,name:y.name,tabindex:y.tabindex,disabled:c(u),"true-value":(C=y.trueValue)!=null?C:y.trueLabel,"false-value":(S=y.falseValue)!=null?S:y.falseLabel,onChange:I[1]||(I[1]=(...R)=>c(_)&&c(_)(...R)),onFocus:I[2]||(I[2]=R=>h.value=!0),onBlur:I[3]||(I[3]=R=>h.value=!1),onClick:I[4]||(I[4]=bt(()=>{},["stop"]))},null,42,Wj)),[[zm,c(g)]]):Rt((N(),Y("input",{key:1,id:c(i),"onUpdate:modelValue":I[5]||(I[5]=R=>bn(g)?g.value=R:null),class:L(c(T).e("original")),type:"checkbox",indeterminate:y.indeterminate,disabled:c(u),value:c(m),name:y.name,tabindex:y.tabindex,onChange:I[6]||(I[6]=(...R)=>c(_)&&c(_)(...R)),onFocus:I[7]||(I[7]=R=>h.value=!0),onBlur:I[8]||(I[8]=R=>h.value=!1),onClick:I[9]||(I[9]=bt(()=>{},["stop"]))},null,42,zj)),[[zm,c(g)]]),Q("span",{class:L(c(T).e("inner"))},null,2)],2),c(f)?(N(),Y("span",{key:0,class:L(c(T).e("label"))},[Te(y.$slots,"default"),y.$slots.default?$e("v-if",!0):(N(),Y(dt,{key:0},[Wt(ze(y.label),1)],64))],2)):$e("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var Yj=We(Xj,[["__file","checkbox.vue"]]);const jj=["name","tabindex","disabled","true-value","false-value"],qj=["name","tabindex","disabled","value"],Jj=ne({name:"ElCheckboxButton"}),Zj=ne({...Jj,props:B1,emits:F1,setup(t){const n=t,o=ao(),{isFocused:i,isChecked:l,isDisabled:a,checkboxButtonSize:u,model:h,actualValue:p,handleChange:f}=H1(n,o),g=it(Wc,void 0),m=xe("checkbox"),_=w(()=>{var T,$,E,y;const I=($=(T=g==null?void 0:g.fill)==null?void 0:T.value)!=null?$:"";return{backgroundColor:I,borderColor:I,color:(y=(E=g==null?void 0:g.textColor)==null?void 0:E.value)!=null?y:"",boxShadow:I?`-1px 0 0 0 ${I}`:void 0}}),b=w(()=>[m.b("button"),m.bm("button",u.value),m.is("disabled",a.value),m.is("checked",l.value),m.is("focus",i.value)]);return(T,$)=>{var E,y;return N(),Y("label",{class:L(c(b))},[T.trueValue||T.falseValue||T.trueLabel||T.falseLabel?Rt((N(),Y("input",{key:0,"onUpdate:modelValue":$[0]||($[0]=I=>bn(h)?h.value=I:null),class:L(c(m).be("button","original")),type:"checkbox",name:T.name,tabindex:T.tabindex,disabled:c(a),"true-value":(E=T.trueValue)!=null?E:T.trueLabel,"false-value":(y=T.falseValue)!=null?y:T.falseLabel,onChange:$[1]||($[1]=(...I)=>c(f)&&c(f)(...I)),onFocus:$[2]||($[2]=I=>i.value=!0),onBlur:$[3]||($[3]=I=>i.value=!1),onClick:$[4]||($[4]=bt(()=>{},["stop"]))},null,42,jj)),[[zm,c(h)]]):Rt((N(),Y("input",{key:1,"onUpdate:modelValue":$[5]||($[5]=I=>bn(h)?h.value=I:null),class:L(c(m).be("button","original")),type:"checkbox",name:T.name,tabindex:T.tabindex,disabled:c(a),value:c(p),onChange:$[6]||($[6]=(...I)=>c(f)&&c(f)(...I)),onFocus:$[7]||($[7]=I=>i.value=!0),onBlur:$[8]||($[8]=I=>i.value=!1),onClick:$[9]||($[9]=bt(()=>{},["stop"]))},null,42,qj)),[[zm,c(h)]]),T.$slots.default||T.label?(N(),Y("span",{key:2,class:L(c(m).be("button","inner")),style:ct(c(l)?c(_):void 0)},[Te(T.$slots,"default",{},()=>[Wt(ze(T.label),1)])],6)):$e("v-if",!0)],2)}}});var V1=We(Zj,[["__file","checkbox-button.vue"]]);const Qj=Ue({modelValue:{type:fe(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:qn,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...mo(["ariaLabel"])}),e9={[Bt]:t=>tt(t),change:t=>tt(t)},t9=ne({name:"ElCheckboxGroup"}),n9=ne({...t9,props:Qj,emits:e9,setup(t,{emit:n}){const o=t,i=xe("checkbox"),{formItem:l}=Bo(),{inputId:a,isLabeledByFormItem:u}=$i(o,{formItemContext:l}),h=async f=>{n(Bt,f),await pt(),n("change",f)},p=w({get(){return o.modelValue},set(f){h(f)}});return Ut(Wc,{...xi(fo(o),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:p,changeEvent:h}),Qn({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-checkbox-group",ref:"https://element-plus.org/en-US/component/checkbox.html"},w(()=>!!o.label)),Me(()=>o.modelValue,()=>{o.validateEvent&&(l==null||l.validate("change").catch(f=>void 0))}),(f,g)=>{var m;return N(),be(Ft(f.tag),{id:c(a),class:L(c(i).b("group")),role:"group","aria-label":c(u)?void 0:f.label||f.ariaLabel||"checkbox-group","aria-labelledby":c(u)?(m=c(l))==null?void 0:m.labelId:void 0},{default:ce(()=>[Te(f.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var U1=We(n9,[["__file","checkbox-group.vue"]]);const Ys=Dt(Yj,{CheckboxButton:V1,CheckboxGroup:U1}),o9=kn(V1),G1=kn(U1),W1=Ue({modelValue:{type:[String,Number,Boolean],default:void 0},size:qn,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),s9=Ue({...W1,border:Boolean}),z1={[Bt]:t=>yt(t)||$t(t)||Hn(t),[$n]:t=>yt(t)||$t(t)||Hn(t)},K1=Symbol("radioGroupKey"),X1=(t,n)=>{const o=V(),i=it(K1,void 0),l=w(()=>!!i),a=w(()=>xa(t.value)?t.label:t.value),u=w({get(){return l.value?i.modelValue:t.modelValue},set(m){l.value?i.changeEvent(m):n&&n(Bt,m),o.value.checked=t.modelValue===a.value}}),h=Kn(w(()=>i==null?void 0:i.size)),p=Zo(w(()=>i==null?void 0:i.disabled)),f=V(!1),g=w(()=>p.value||l.value&&u.value!==a.value?-1:0);return Qn({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},w(()=>l.value&&xa(t.value))),{radioRef:o,isGroup:l,radioGroup:i,focus:f,size:h,disabled:p,tabIndex:g,modelValue:u,actualValue:a}},i9=["value","name","disabled"],r9=ne({name:"ElRadio"}),l9=ne({...r9,props:s9,emits:z1,setup(t,{emit:n}){const o=t,i=xe("radio"),{radioRef:l,radioGroup:a,focus:u,size:h,disabled:p,modelValue:f,actualValue:g}=X1(o,n);function m(){pt(()=>n("change",f.value))}return(_,b)=>{var T;return N(),Y("label",{class:L([c(i).b(),c(i).is("disabled",c(p)),c(i).is("focus",c(u)),c(i).is("bordered",_.border),c(i).is("checked",c(f)===c(g)),c(i).m(c(h))])},[Q("span",{class:L([c(i).e("input"),c(i).is("disabled",c(p)),c(i).is("checked",c(f)===c(g))])},[Rt(Q("input",{ref_key:"radioRef",ref:l,"onUpdate:modelValue":b[0]||(b[0]=$=>bn(f)?f.value=$:null),class:L(c(i).e("original")),value:c(g),name:_.name||((T=c(a))==null?void 0:T.name),disabled:c(p),type:"radio",onFocus:b[1]||(b[1]=$=>u.value=!0),onBlur:b[2]||(b[2]=$=>u.value=!1),onChange:m,onClick:b[3]||(b[3]=bt(()=>{},["stop"]))},null,42,i9),[[oL,c(f)]]),Q("span",{class:L(c(i).e("inner"))},null,2)],2),Q("span",{class:L(c(i).e("label")),onKeydown:b[4]||(b[4]=bt(()=>{},["stop"]))},[Te(_.$slots,"default",{},()=>[Wt(ze(_.label),1)])],34)],2)}}});var a9=We(l9,[["__file","radio.vue"]]);const u9=Ue({...W1}),c9=["value","name","disabled"],d9=ne({name:"ElRadioButton"}),h9=ne({...d9,props:u9,setup(t){const n=t,o=xe("radio"),{radioRef:i,focus:l,size:a,disabled:u,modelValue:h,radioGroup:p,actualValue:f}=X1(n),g=w(()=>({backgroundColor:(p==null?void 0:p.fill)||"",borderColor:(p==null?void 0:p.fill)||"",boxShadow:p!=null&&p.fill?`-1px 0 0 0 ${p.fill}`:"",color:(p==null?void 0:p.textColor)||""}));return(m,_)=>{var b;return N(),Y("label",{class:L([c(o).b("button"),c(o).is("active",c(h)===c(f)),c(o).is("disabled",c(u)),c(o).is("focus",c(l)),c(o).bm("button",c(a))])},[Rt(Q("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":_[0]||(_[0]=T=>bn(h)?h.value=T:null),class:L(c(o).be("button","original-radio")),value:c(f),type:"radio",name:m.name||((b=c(p))==null?void 0:b.name),disabled:c(u),onFocus:_[1]||(_[1]=T=>l.value=!0),onBlur:_[2]||(_[2]=T=>l.value=!1),onClick:_[3]||(_[3]=bt(()=>{},["stop"]))},null,42,c9),[[oL,c(h)]]),Q("span",{class:L(c(o).be("button","inner")),style:ct(c(h)===c(f)?c(g):{}),onKeydown:_[4]||(_[4]=bt(()=>{},["stop"]))},[Te(m.$slots,"default",{},()=>[Wt(ze(m.label),1)])],38)],2)}}});var Y1=We(h9,[["__file","radio-button.vue"]]);const p9=Ue({id:{type:String,default:void 0},size:qn,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...mo(["ariaLabel"])}),f9=z1,m9=["id","aria-label","aria-labelledby"],g9=ne({name:"ElRadioGroup"}),$9=ne({...g9,props:p9,emits:f9,setup(t,{emit:n}){const o=t,i=xe("radio"),l=So(),a=V(),{formItem:u}=Bo(),{inputId:h,isLabeledByFormItem:p}=$i(o,{formItemContext:u}),f=m=>{n(Bt,m),pt(()=>n("change",m))};At(()=>{const m=a.value.querySelectorAll("[type=radio]"),_=m[0];!Array.from(m).some(b=>b.checked)&&_&&(_.tabIndex=0)});const g=w(()=>o.name||l.value);return Ut(K1,Qt({...fo(o),changeEvent:f,name:g})),Me(()=>o.modelValue,()=>{o.validateEvent&&(u==null||u.validate("change").catch(m=>void 0))}),Qn({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-radio-group",ref:"https://element-plus.org/en-US/component/radio.html"},w(()=>!!o.label)),(m,_)=>(N(),Y("div",{id:c(h),ref_key:"radioGroupRef",ref:a,class:L(c(i).b("group")),role:"radiogroup","aria-label":c(p)?void 0:m.label||m.ariaLabel||"radio-group","aria-labelledby":c(p)?c(u).labelId:void 0},[Te(m.$slots,"default")],10,m9))}});var j1=We($9,[["__file","radio-group.vue"]]);const q1=Dt(a9,{RadioButton:Y1,RadioGroup:j1}),v9=kn(j1),_9=kn(Y1);var b9=ne({name:"NodeContent",setup(){return{ns:xe("cascader-node")}},render(){const{ns:t}=this,{node:n,panel:o}=this.$parent,{data:i,label:l}=n,{renderLabelFn:a}=o;return ft("span",{class:t.e("label")},a?a({node:n,data:i}):l)}});const l0=Symbol(),T9=ne({name:"ElCascaderNode",components:{ElCheckbox:Ys,ElRadio:q1,NodeContent:b9,ElIcon:at,Check:Qh,Loading:Ll,ArrowRight:Xo},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:n}){const o=it(l0),i=xe("cascader-node"),l=w(()=>o.isHoverMenu),a=w(()=>o.config.multiple),u=w(()=>o.config.checkStrictly),h=w(()=>{var O;return(O=o.checkedNodes[0])==null?void 0:O.uid}),p=w(()=>t.node.isDisabled),f=w(()=>t.node.isLeaf),g=w(()=>u.value&&!f.value||!p.value),m=w(()=>b(o.expandingNode)),_=w(()=>u.value&&o.checkedNodes.some(b)),b=O=>{var P;const{level:M,uid:H}=t.node;return((P=O==null?void 0:O.pathNodes[M-1])==null?void 0:P.uid)===H},T=()=>{m.value||o.expandNode(t.node)},$=O=>{const{node:P}=t;O!==P.checked&&o.handleCheckChange(P,O)},E=()=>{o.lazyLoad(t.node,()=>{f.value||T()})},y=O=>{l.value&&(I(),!f.value&&n("expand",O))},I=()=>{const{node:O}=t;!g.value||O.loading||(O.loaded?T():E())},C=()=>{l.value&&!f.value||(f.value&&!p.value&&!u.value&&!a.value?R(!0):I())},S=O=>{u.value?($(O),t.node.loaded&&T()):R(O)},R=O=>{t.node.loaded?($(O),!u.value&&T()):E()};return{panel:o,isHoverMenu:l,multiple:a,checkStrictly:u,checkedNodeId:h,isDisabled:p,isLeaf:f,expandable:g,inExpandingPath:m,inCheckedPath:_,ns:i,handleHoverExpand:y,handleExpand:I,handleClick:C,handleCheck:R,handleSelectCheck:S}}}),y9=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],E9=Q("span",null,null,-1);function C9(t,n,o,i,l,a){const u=Nt("el-checkbox"),h=Nt("el-radio"),p=Nt("check"),f=Nt("el-icon"),g=Nt("node-content"),m=Nt("loading"),_=Nt("arrow-right");return N(),Y("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:L([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:n[2]||(n[2]=(...b)=>t.handleHoverExpand&&t.handleHoverExpand(...b)),onFocus:n[3]||(n[3]=(...b)=>t.handleHoverExpand&&t.handleHoverExpand(...b)),onClick:n[4]||(n[4]=(...b)=>t.handleClick&&t.handleClick(...b))},[$e(" prefix "),t.multiple?(N(),be(u,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:n[0]||(n[0]=bt(()=>{},["stop"])),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):t.checkStrictly?(N(),be(h,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:n[1]||(n[1]=bt(()=>{},["stop"]))},{default:ce(()=>[$e(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),E9]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):t.isLeaf&&t.node.checked?(N(),be(f,{key:2,class:L(t.ns.e("prefix"))},{default:ce(()=>[ie(p)]),_:1},8,["class"])):$e("v-if",!0),$e(" content "),ie(g),$e(" postfix "),t.isLeaf?$e("v-if",!0):(N(),Y(dt,{key:3},[t.node.loading?(N(),be(f,{key:0,class:L([t.ns.is("loading"),t.ns.e("postfix")])},{default:ce(()=>[ie(m)]),_:1},8,["class"])):(N(),be(f,{key:1,class:L(["arrow-right",t.ns.e("postfix")])},{default:ce(()=>[ie(_)]),_:1},8,["class"]))],64))],42,y9)}var S9=We(T9,[["render",C9],["__file","node.vue"]]);const I9=ne({name:"ElCascaderMenu",components:{Loading:Ll,ElIcon:at,ElScrollbar:Dr,ElCascaderNode:S9},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const n=Mt(),o=xe("cascader-menu"),{t:i}=Yt(),l=So();let a=null,u=null;const h=it(l0),p=V(null),f=w(()=>!t.nodes.length),g=w(()=>!h.initialLoaded),m=w(()=>`${l.value}-${t.index}`),_=E=>{a=E.target},b=E=>{if(!(!h.isHoverMenu||!a||!p.value))if(a.contains(E.target)){T();const y=n.vnode.el,{left:I}=y.getBoundingClientRect(),{offsetWidth:C,offsetHeight:S}=y,R=E.clientX-I,O=a.offsetTop,P=O+a.offsetHeight;p.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${R} ${O} L${C} 0 V${O} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${R} ${P} L${C} ${S} V${P} Z" />
        `}else u||(u=window.setTimeout($,h.config.hoverThreshold))},T=()=>{u&&(clearTimeout(u),u=null)},$=()=>{p.value&&(p.value.innerHTML="",T())};return{ns:o,panel:h,hoverZone:p,isEmpty:f,isLoading:g,menuId:m,t:i,handleExpand:_,handleMouseMove:b,clearHoverZone:$}}});function w9(t,n,o,i,l,a){const u=Nt("el-cascader-node"),h=Nt("loading"),p=Nt("el-icon"),f=Nt("el-scrollbar");return N(),be(f,{key:t.menuId,tag:"ul",role:"menu",class:L(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:ce(()=>{var g;return[(N(!0),Y(dt,null,zt(t.nodes,m=>(N(),be(u,{key:m.uid,node:m,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(N(),Y("div",{key:0,class:L(t.ns.e("empty-text"))},[ie(p,{size:"14",class:L(t.ns.is("loading"))},{default:ce(()=>[ie(h)]),_:1},8,["class"]),Wt(" "+ze(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(N(),Y("div",{key:1,class:L(t.ns.e("empty-text"))},ze(t.t("el.cascader.noData")),3)):(g=t.panel)!=null&&g.isHoverMenu?(N(),Y("svg",{key:2,ref:"hoverZone",class:L(t.ns.e("hover-zone"))},null,2)):$e("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var k9=We(I9,[["render",w9],["__file","menu.vue"]]);let O9=0;const R9=t=>{const n=[t];let{parent:o}=t;for(;o;)n.unshift(o),o=o.parent;return n};let oy=class sy{constructor(n,o,i,l=!1){this.data=n,this.config=o,this.parent=i,this.root=l,this.uid=O9++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:a,label:u,children:h}=o,p=n[h],f=R9(this);this.level=l?0:i?i.level+1:1,this.value=n[a],this.label=n[u],this.pathNodes=f,this.pathValues=f.map(g=>g.value),this.pathLabels=f.map(g=>g.label),this.childrenData=p,this.children=(p||[]).map(g=>new sy(g,o,this)),this.loaded=!o.lazy||this.isLeaf||!xs(p)}get isDisabled(){const{data:n,parent:o,config:i}=this,{disabled:l,checkStrictly:a}=i;return(_t(l)?l(n,this):!!n[l])||!a&&(o==null?void 0:o.isDisabled)}get isLeaf(){const{data:n,config:o,childrenData:i,loaded:l}=this,{lazy:a,leaf:u}=o,h=_t(u)?u(n,this):n[u];return Fn(h)?a&&!l?!1:!(Array.isArray(i)&&i.length):!!h}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(n){const{childrenData:o,children:i}=this,l=new sy(n,this.config,this);return Array.isArray(o)?o.push(n):this.childrenData=[n],i.push(l),l}calcText(n,o){const i=n?this.pathLabels.join(o):this.label;return this.text=i,i}broadcast(n,...o){const i=`onParent${Pi(n)}`;this.children.forEach(l=>{l&&(l.broadcast(n,...o),l[i]&&l[i](...o))})}emit(n,...o){const{parent:i}=this,l=`onChild${Pi(n)}`;i&&(i[l]&&i[l](...o),i.emit(n,...o))}onParentCheck(n){this.isDisabled||this.setCheckState(n)}onChildCheck(){const{children:n}=this,o=n.filter(l=>!l.isDisabled),i=o.length?o.every(l=>l.checked):!1;this.setCheckState(i)}setCheckState(n){const o=this.children.length,i=this.children.reduce((l,a)=>{const u=a.checked?1:a.indeterminate?.5:0;return l+u},0);this.checked=this.loaded&&this.children.filter(l=>!l.isDisabled).every(l=>l.loaded&&l.checked)&&n,this.indeterminate=this.loaded&&i!==o&&i>0}doCheck(n){if(this.checked===n)return;const{checkStrictly:o,multiple:i}=this.config;o||!i?this.checked=n:(this.broadcast("check",n),this.setCheckState(n),this.emit("check"))}};const iy=(t,n)=>t.reduce((o,i)=>(i.isLeaf?o.push(i):(!n&&o.push(i),o=o.concat(iy(i.children,n))),o),[]);class jR{constructor(n,o){this.config=o;const i=(n||[]).map(l=>new oy(l,this.config));this.nodes=i,this.allNodes=iy(i,!1),this.leafNodes=iy(i,!0)}getNodes(){return this.nodes}getFlattedNodes(n){return n?this.leafNodes:this.allNodes}appendNode(n,o){const i=o?o.appendChild(n):new oy(n,this.config);o||this.nodes.push(i),this.allNodes.push(i),i.isLeaf&&this.leafNodes.push(i)}appendNodes(n,o){n.forEach(i=>this.appendNode(i,o))}getNodeByValue(n,o=!1){return!n&&n!==0?null:this.getFlattedNodes(o).find(l=>Do(l.value,n)||Do(l.pathValues,n))||null}getSameNode(n){return n&&this.getFlattedNodes(!1).find(({value:i,level:l})=>Do(n.value,i)&&n.level===l)||null}}const J1=Ue({modelValue:{type:fe([Number,String,Array])},options:{type:fe(Array),default:()=>[]},props:{type:fe(Object),default:()=>({})}}),A9={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:nn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},N9=t=>w(()=>({...A9,...t.props})),qR=t=>{if(!t)return 0;const n=t.id.split("-");return Number(n[n.length-2])},L9=t=>{if(!t)return;const n=t.querySelector("input");n?n.click():aL(t)&&t.click()},M9=(t,n)=>{const o=n.slice(0),i=o.map(a=>a.uid),l=t.reduce((a,u)=>{const h=i.indexOf(u.uid);return h>-1&&(a.push(u),o.splice(h,1),i.splice(h,1)),a},[]);return l.push(...o),l},D9=ne({name:"ElCascaderPanel",components:{ElCascaderMenu:k9},props:{...J1,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Bt,$n,"close","expand-change"],setup(t,{emit:n,slots:o}){let i=!1;const l=xe("cascader"),a=N9(t);let u=null;const h=V(!0),p=V([]),f=V(null),g=V([]),m=V(null),_=V([]),b=w(()=>a.value.expandTrigger==="hover"),T=w(()=>t.renderLabel||o.default),$=()=>{const{options:K}=t,te=a.value;i=!1,u=new jR(K,te),g.value=[u.getNodes()],te.lazy&&xs(t.options)?(h.value=!1,E(void 0,Z=>{Z&&(u=new jR(Z,te),g.value=[u.getNodes()]),h.value=!0,M(!1,!0)})):M(!1,!0)},E=(K,te)=>{const Z=a.value;K=K||new oy({},Z,void 0,!0),K.loading=!0;const j=z=>{const G=K,W=G.root?null:G;z&&(u==null||u.appendNodes(z,W)),G.loading=!1,G.loaded=!0,G.childrenData=G.childrenData||[],te&&te(z)};Z.lazyLoad(K,j)},y=(K,te)=>{var Z;const{level:j}=K,z=g.value.slice(0,j);let G;K.isLeaf?G=K.pathNodes[j-2]:(G=K,z.push(K.children)),((Z=m.value)==null?void 0:Z.uid)!==(G==null?void 0:G.uid)&&(m.value=K,g.value=z,!te&&n("expand-change",(K==null?void 0:K.pathValues)||[]))},I=(K,te,Z=!0)=>{const{checkStrictly:j,multiple:z}=a.value,G=_.value[0];i=!0,!z&&(G==null||G.doCheck(!1)),K.doCheck(te),P(),Z&&!z&&!j&&n("close"),!Z&&!z&&!j&&C(K)},C=K=>{K&&(K=K.parent,C(K),K&&y(K))},S=K=>u==null?void 0:u.getFlattedNodes(K),R=K=>{var te;return(te=S(K))==null?void 0:te.filter(Z=>Z.checked!==!1)},O=()=>{_.value.forEach(K=>K.doCheck(!1)),P(),g.value=g.value.slice(0,1),m.value=null,n("expand-change",[])},P=()=>{var K;const{checkStrictly:te,multiple:Z}=a.value,j=_.value,z=R(!te),G=M9(j,z),W=G.map(D=>D.valueByOption);_.value=G,f.value=Z?W:(K=W[0])!=null?K:null},M=(K=!1,te=!1)=>{const{modelValue:Z}=t,{lazy:j,multiple:z,checkStrictly:G}=a.value,W=!G;if(!(!h.value||i||!te&&Do(Z,f.value)))if(j&&!K){const X=YO(kW(vs(Z))).map(oe=>u==null?void 0:u.getNodeByValue(oe)).filter(oe=>!!oe&&!oe.loaded&&!oe.loading);X.length?X.forEach(oe=>{E(oe,()=>M(!1,te))}):M(!0,te)}else{const D=z?vs(Z):[Z],X=YO(D.map(oe=>u==null?void 0:u.getNodeByValue(oe,W)));H(X,te),f.value=Ym(Z)}},H=(K,te=!0)=>{const{checkStrictly:Z}=a.value,j=_.value,z=K.filter(D=>!!D&&(Z||D.isLeaf)),G=u==null?void 0:u.getSameNode(m.value),W=te&&G||z[0];W?W.pathNodes.forEach(D=>y(D,!0)):m.value=null,j.forEach(D=>D.doCheck(!1)),Qt(z).forEach(D=>D.doCheck(!0)),_.value=z,pt(F)},F=()=>{Kt&&p.value.forEach(K=>{const te=K==null?void 0:K.$el;if(te){const Z=te.querySelector(`.${l.namespace.value}-scrollbar__wrap`),j=te.querySelector(`.${l.b("node")}.${l.is("active")}`)||te.querySelector(`.${l.b("node")}.in-active-path`);sM(Z,j)}})},B=K=>{const te=K.target,{code:Z}=K;switch(Z){case mt.up:case mt.down:{K.preventDefault();const j=Z===mt.up?-1:1;pm(uL(te,j,`.${l.b("node")}[tabindex="-1"]`));break}case mt.left:{K.preventDefault();const j=p.value[qR(te)-1],z=j==null?void 0:j.$el.querySelector(`.${l.b("node")}[aria-expanded="true"]`);pm(z);break}case mt.right:{K.preventDefault();const j=p.value[qR(te)+1],z=j==null?void 0:j.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`);pm(z);break}case mt.enter:L9(te);break}};return Ut(l0,Qt({config:a,expandingNode:m,checkedNodes:_,isHoverMenu:b,initialLoaded:h,renderLabelFn:T,lazyLoad:E,expandNode:y,handleCheckChange:I})),Me([a,()=>t.options],$,{deep:!0,immediate:!0}),Me(()=>t.modelValue,()=>{i=!1,M()},{deep:!0}),Me(()=>f.value,K=>{Do(K,t.modelValue)||(n(Bt,K),n($n,K))}),TN(()=>p.value=[]),At(()=>!xs(t.modelValue)&&M()),{ns:l,menuList:p,menus:g,checkedNodes:_,handleKeyDown:B,handleCheckChange:I,getFlattedNodes:S,getCheckedNodes:R,clearCheckedNodes:O,calculateCheckedValue:P,scrollToExpandingNode:F}}});function P9(t,n,o,i,l,a){const u=Nt("el-cascader-menu");return N(),Y("div",{class:L([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:n[0]||(n[0]=(...h)=>t.handleKeyDown&&t.handleKeyDown(...h))},[(N(!0),Y(dt,null,zt(t.menus,(h,p)=>(N(),be(u,{key:p,ref_for:!0,ref:f=>t.menuList[p]=f,index:p,nodes:[...h]},null,8,["index","nodes"]))),128))],34)}var Tm=We(D9,[["render",P9],["__file","index.vue"]]);Tm.install=t=>{t.component(Tm.name,Tm)};const Z1=Tm,x9=Z1,Gg=Ue({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Ki},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),B9={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},F9=ne({name:"ElTag"}),H9=ne({...F9,props:Gg,emits:B9,setup(t,{emit:n}){const o=t,i=Kn(),l=xe("tag"),a=w(()=>{const{type:p,hit:f,effect:g,closable:m,round:_}=o;return[l.b(),l.is("closable",m),l.m(p||"primary"),l.m(i.value),l.m(g),l.is("hit",f),l.is("round",_)]}),u=p=>{n("close",p)},h=p=>{n("click",p)};return(p,f)=>p.disableTransitions?(N(),Y("span",{key:0,class:L(c(a)),style:ct({backgroundColor:p.color}),onClick:h},[Q("span",{class:L(c(l).e("content"))},[Te(p.$slots,"default")],2),p.closable?(N(),be(c(at),{key:0,class:L(c(l).e("close")),onClick:bt(u,["stop"])},{default:ce(()=>[ie(c(hi))]),_:1},8,["class","onClick"])):$e("v-if",!0)],6)):(N(),be(Yn,{key:1,name:`${c(l).namespace.value}-zoom-in-center`,appear:""},{default:ce(()=>[Q("span",{class:L(c(a)),style:ct({backgroundColor:p.color}),onClick:h},[Q("span",{class:L(c(l).e("content"))},[Te(p.$slots,"default")],2),p.closable?(N(),be(c(at),{key:0,class:L(c(l).e("close")),onClick:bt(u,["stop"])},{default:ce(()=>[ie(c(hi))]),_:1},8,["class","onClick"])):$e("v-if",!0)],6)]),_:3},8,["name"]))}});var V9=We(H9,[["__file","tag.vue"]]);const Dh=Dt(V9),U9=Ue({...J1,size:qn,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:fe(Function),default:(t,n)=>t.text.includes(n)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:fe(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:so.teleported,tagType:{...Gg.type,default:"info"},validateEvent:{type:Boolean,default:!0},...Gc}),G9={[Bt]:t=>!0,[$n]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,visibleChange:t=>Hn(t),expandChange:t=>!!t,removeTag:t=>!!t},W9={key:0},z9=["placeholder","onKeydown"],K9=["onClick"],X9="ElCascader",Y9=ne({name:X9}),j9=ne({...Y9,props:U9,emits:G9,setup(t,{expose:n,emit:o}){const i=t,l={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:x})=>{const{modifiersData:ee,placement:pe}=x;["right","left","bottom","top"].includes(pe)||(ee.arrow.x=35)},requires:["arrow"]}]},a=Ga();let u=0,h=0;const p=xe("cascader"),f=xe("input"),{t:g}=Yt(),{form:m,formItem:_}=Bo(),{valueOnClear:b}=Fg(i),T=V(null),$=V(null),E=V(null),y=V(null),I=V(null),C=V(!1),S=V(!1),R=V(!1),O=V(!1),P=V(""),M=V(""),H=V([]),F=V([]),B=V([]),K=V(!1),te=w(()=>a.style),Z=w(()=>i.disabled||(m==null?void 0:m.disabled)),j=w(()=>i.placeholder||g("el.cascader.placeholder")),z=w(()=>M.value||H.value.length>0||K.value?"":j.value),G=Kn(),W=w(()=>["small"].includes(G.value)?"small":"default"),D=w(()=>!!i.props.multiple),X=w(()=>!i.filterable||D.value),oe=w(()=>D.value?M.value:P.value),le=w(()=>{var x;return((x=y.value)==null?void 0:x.checkedNodes)||[]}),me=w(()=>!i.clearable||Z.value||R.value||!S.value?!1:!!le.value.length),Se=w(()=>{const{showAllLevels:x,separator:ee}=i,pe=le.value;return pe.length?D.value?"":pe[0].calcText(x,ee):""}),Pe=w(()=>(_==null?void 0:_.validateState)||""),de=w({get(){return Ym(i.modelValue)},set(x){const ee=x||b.value;o(Bt,ee),o($n,ee),i.validateEvent&&(_==null||_.validate("change").catch(pe=>void 0))}}),ye=w(()=>[p.b(),p.m(G.value),p.is("disabled",Z.value),a.class]),_e=w(()=>[f.e("icon"),"icon-arrow-down",p.is("reverse",C.value)]),Ke=w(()=>p.is("focus",C.value||O.value)),ve=w(()=>{var x,ee;return(ee=(x=T.value)==null?void 0:x.popperRef)==null?void 0:ee.contentRef}),Ne=x=>{var ee,pe,re;Z.value||(x=x??!C.value,x!==C.value&&(C.value=x,(pe=(ee=$.value)==null?void 0:ee.input)==null||pe.setAttribute("aria-expanded",`${x}`),x?(He(),pt((re=y.value)==null?void 0:re.scrollToExpandingNode)):i.filterable&&q(),o("visibleChange",x)))},He=()=>{pt(()=>{var x;(x=T.value)==null||x.updatePopper()})},ae=()=>{R.value=!1},he=x=>{const{showAllLevels:ee,separator:pe}=i;return{node:x,key:x.uid,text:x.calcText(ee,pe),hitState:!1,closable:!Z.value&&!x.isDisabled,isCollapseTag:!1}},Ae=x=>{var ee;const pe=x.node;pe.doCheck(!1),(ee=y.value)==null||ee.calculateCheckedValue(),o("removeTag",pe.valueByOption)},Fe=()=>{if(!D.value)return;const x=le.value,ee=[],pe=[];if(x.forEach(re=>pe.push(he(re))),F.value=pe,x.length){x.slice(0,i.maxCollapseTags).forEach(Ct=>ee.push(he(Ct)));const re=x.slice(i.maxCollapseTags),je=re.length;je&&(i.collapseTags?ee.push({key:-1,text:`+ ${je}`,closable:!1,isCollapseTag:!0}):re.forEach(Ct=>ee.push(he(Ct))))}H.value=ee},Ce=()=>{var x,ee;const{filterMethod:pe,showAllLevels:re,separator:je}=i,Ct=(ee=(x=y.value)==null?void 0:x.getFlattedNodes(!i.props.checkStrictly))==null?void 0:ee.filter(U=>U.isDisabled?!1:(U.calcText(re,je),pe(U,oe.value)));D.value&&(H.value.forEach(U=>{U.hitState=!1}),F.value.forEach(U=>{U.hitState=!1})),R.value=!0,B.value=Ct,He()},De=()=>{var x;let ee;R.value&&I.value?ee=I.value.$el.querySelector(`.${p.e("suggestion-item")}`):ee=(x=y.value)==null?void 0:x.$el.querySelector(`.${p.b("node")}[tabindex="-1"]`),ee&&(ee.focus(),!R.value&&ee.click())},Ve=()=>{var x,ee;const pe=(x=$.value)==null?void 0:x.input,re=E.value,je=(ee=I.value)==null?void 0:ee.$el;if(!(!Kt||!pe)){if(je){const Ct=je.querySelector(`.${p.e("suggestion-list")}`);Ct.style.minWidth=`${pe.offsetWidth}px`}if(re){const{offsetHeight:Ct}=re,U=H.value.length>0?`${Math.max(Ct+6,u)}px`:`${u}px`;pe.style.height=U,He()}}},ue=x=>{var ee;return(ee=y.value)==null?void 0:ee.getCheckedNodes(x)},we=x=>{He(),o("expandChange",x)},ke=x=>{var ee;const pe=(ee=x.target)==null?void 0:ee.value;if(x.type==="compositionend")K.value=!1,pt(()=>Ye(pe));else{const re=pe[pe.length-1]||"";K.value=!NE(re)}},Ge=x=>{if(!K.value)switch(x.code){case mt.enter:Ne();break;case mt.down:Ne(!0),pt(De),x.preventDefault();break;case mt.esc:C.value===!0&&(x.preventDefault(),x.stopPropagation(),Ne(!1));break;case mt.tab:Ne(!1);break}},ot=()=>{var x;(x=y.value)==null||x.clearCheckedNodes(),!C.value&&i.filterable&&q(),Ne(!1)},q=()=>{const{value:x}=Se;P.value=x,M.value=x},et=x=>{var ee,pe;const{checked:re}=x;D.value?(ee=y.value)==null||ee.handleCheckChange(x,!re,!1):(!re&&((pe=y.value)==null||pe.handleCheckChange(x,!0,!1)),Ne(!1))},lt=x=>{const ee=x.target,{code:pe}=x;switch(pe){case mt.up:case mt.down:{const re=pe===mt.up?-1:1;pm(uL(ee,re,`.${p.e("suggestion-item")}[tabindex="-1"]`));break}case mt.enter:ee.click();break}},Et=()=>{const x=H.value,ee=x[x.length-1];h=M.value?0:h+1,!(!ee||!h||i.collapseTags&&x.length>1)&&(ee.hitState?Ae(ee):ee.hitState=!0)},Tt=x=>{const ee=x.target,pe=p.e("search-input");ee.className===pe&&(O.value=!0),o("focus",x)},st=x=>{O.value=!1,o("blur",x)},Re=as(()=>{const{value:x}=oe;if(!x)return;const ee=i.beforeFilter(x);vh(ee)?ee.then(Ce).catch(()=>{}):ee!==!1?Ce():ae()},i.debounce),Ye=(x,ee)=>{!C.value&&Ne(!0),!(ee!=null&&ee.isComposing)&&(x?Re():ae())},A=x=>Number.parseFloat(nH(f.cssVarName("input-height"),x).value)-2;return Me(R,He),Me([le,Z],Fe),Me(H,()=>{pt(()=>Ve())}),Me(G,async()=>{await pt();const x=$.value.input;u=A(x)||u,Ve()}),Me(Se,q,{immediate:!0}),At(()=>{const x=$.value.input,ee=A(x);u=x.offsetHeight||ee,In(x,Ve)}),n({getCheckedNodes:ue,cascaderPanelRef:y,togglePopperVisible:Ne,contentRef:ve}),(x,ee)=>(N(),be(c(xo),{ref_key:"tooltipRef",ref:T,visible:C.value,teleported:x.teleported,"popper-class":[c(p).e("dropdown"),x.popperClass],"popper-options":l,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${c(p).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:ae},{default:ce(()=>[Rt((N(),Y("div",{class:L(c(ye)),style:ct(c(te)),onClick:ee[5]||(ee[5]=()=>Ne(c(X)?void 0:!0)),onKeydown:Ge,onMouseenter:ee[6]||(ee[6]=pe=>S.value=!0),onMouseleave:ee[7]||(ee[7]=pe=>S.value=!1)},[ie(c(Mo),{ref_key:"input",ref:$,modelValue:P.value,"onUpdate:modelValue":ee[1]||(ee[1]=pe=>P.value=pe),placeholder:c(z),readonly:c(X),disabled:c(Z),"validate-event":!1,size:c(G),class:L(c(Ke)),tabindex:c(D)&&x.filterable&&!c(Z)?-1:void 0,onCompositionstart:ke,onCompositionupdate:ke,onCompositionend:ke,onFocus:Tt,onBlur:st,onInput:Ye},{suffix:ce(()=>[c(me)?(N(),be(c(at),{key:"clear",class:L([c(f).e("icon"),"icon-circle-close"]),onClick:bt(ot,["stop"])},{default:ce(()=>[ie(c(Nl))]),_:1},8,["class","onClick"])):(N(),be(c(at),{key:"arrow-down",class:L(c(_e)),onClick:ee[0]||(ee[0]=bt(pe=>Ne(),["stop"]))},{default:ce(()=>[ie(c(Lr))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),c(D)?(N(),Y("div",{key:0,ref_key:"tagWrapper",ref:E,class:L([c(p).e("tags"),c(p).is("validate",!!c(Pe))])},[(N(!0),Y(dt,null,zt(H.value,pe=>(N(),be(c(Dh),{key:pe.key,type:x.tagType,size:c(W),hit:pe.hitState,closable:pe.closable,"disable-transitions":"",onClose:re=>Ae(pe)},{default:ce(()=>[pe.isCollapseTag===!1?(N(),Y("span",W9,ze(pe.text),1)):(N(),be(c(xo),{key:1,disabled:C.value||!x.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:ce(()=>[Q("span",null,ze(pe.text),1)]),content:ce(()=>[Q("div",{class:L(c(p).e("collapse-tags"))},[(N(!0),Y(dt,null,zt(F.value.slice(x.maxCollapseTags),(re,je)=>(N(),Y("div",{key:je,class:L(c(p).e("collapse-tag"))},[(N(),be(c(Dh),{key:re.key,class:"in-tooltip",type:x.tagType,size:c(W),hit:re.hitState,closable:re.closable,"disable-transitions":"",onClose:Ct=>Ae(re)},{default:ce(()=>[Q("span",null,ze(re.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),x.filterable&&!c(Z)?Rt((N(),Y("input",{key:0,"onUpdate:modelValue":ee[2]||(ee[2]=pe=>M.value=pe),type:"text",class:L(c(p).e("search-input")),placeholder:c(Se)?"":c(j),onInput:ee[3]||(ee[3]=pe=>Ye(M.value,pe)),onClick:ee[4]||(ee[4]=bt(pe=>Ne(!0),["stop"])),onKeydown:rn(Et,["delete"]),onCompositionstart:ke,onCompositionupdate:ke,onCompositionend:ke,onFocus:Tt,onBlur:st},null,42,z9)),[[oE,M.value]]):$e("v-if",!0)],2)):$e("v-if",!0)],38)),[[c(kr),()=>Ne(!1),c(ve)]])]),content:ce(()=>[Rt(ie(c(Z1),{ref_key:"cascaderPanelRef",ref:y,modelValue:c(de),"onUpdate:modelValue":ee[8]||(ee[8]=pe=>bn(de)?de.value=pe:null),options:x.options,props:i.props,border:!1,"render-label":x.$slots.default,onExpandChange:we,onClose:ee[9]||(ee[9]=pe=>x.$nextTick(()=>Ne(!1)))},null,8,["modelValue","options","props","render-label"]),[[qt,!R.value]]),x.filterable?Rt((N(),be(c(Dr),{key:0,ref_key:"suggestionPanel",ref:I,tag:"ul",class:L(c(p).e("suggestion-panel")),"view-class":c(p).e("suggestion-list"),onKeydown:lt},{default:ce(()=>[B.value.length?(N(!0),Y(dt,{key:0},zt(B.value,pe=>(N(),Y("li",{key:pe.uid,class:L([c(p).e("suggestion-item"),c(p).is("checked",pe.checked)]),tabindex:-1,onClick:re=>et(pe)},[Q("span",null,ze(pe.text),1),pe.checked?(N(),be(c(at),{key:0},{default:ce(()=>[ie(c(Qh))]),_:1})):$e("v-if",!0)],10,K9))),128)):Te(x.$slots,"empty",{key:1},()=>[Q("li",{class:L(c(p).e("empty-text"))},ze(c(g)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[qt,R.value]]):$e("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var ym=We(j9,[["__file","cascader.vue"]]);ym.install=t=>{t.component(ym.name,ym)};const q9=ym,J9=q9,Z9=Ue({checked:{type:Boolean,default:!1},type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),Q9={"update:checked":t=>Hn(t),[$n]:t=>Hn(t)},e7=ne({name:"ElCheckTag"}),t7=ne({...e7,props:Z9,emits:Q9,setup(t,{emit:n}){const o=t,i=xe("check-tag"),l=w(()=>[i.b(),i.is("checked",o.checked),i.m(o.type||"primary")]),a=()=>{const u=!o.checked;n($n,u),n("update:checked",u)};return(u,h)=>(N(),Y("span",{class:L(c(l)),onClick:a},[Te(u.$slots,"default")],2))}});var n7=We(t7,[["__file","check-tag.vue"]]);const o7=Dt(n7),Q1=Symbol("rowContextKey"),s7=["start","center","end","space-around","space-between","space-evenly"],i7=["top","middle","bottom"],r7=Ue({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:s7,default:"start"},align:{type:String,values:i7}}),l7=ne({name:"ElRow"}),a7=ne({...l7,props:r7,setup(t){const n=t,o=xe("row"),i=w(()=>n.gutter);Ut(Q1,{gutter:i});const l=w(()=>{const u={};return n.gutter&&(u.marginRight=u.marginLeft=`-${n.gutter/2}px`),u}),a=w(()=>[o.b(),o.is(`justify-${n.justify}`,n.justify!=="start"),o.is(`align-${n.align}`,!!n.align)]);return(u,h)=>(N(),be(Ft(u.tag),{class:L(c(a)),style:ct(c(l))},{default:ce(()=>[Te(u.$slots,"default")]),_:3},8,["class","style"]))}});var u7=We(a7,[["__file","row.vue"]]);const c7=Dt(u7),d7=Ue({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:fe([Number,Object]),default:()=>wn({})},sm:{type:fe([Number,Object]),default:()=>wn({})},md:{type:fe([Number,Object]),default:()=>wn({})},lg:{type:fe([Number,Object]),default:()=>wn({})},xl:{type:fe([Number,Object]),default:()=>wn({})}}),h7=ne({name:"ElCol"}),p7=ne({...h7,props:d7,setup(t){const n=t,{gutter:o}=it(Q1,{gutter:w(()=>0)}),i=xe("col"),l=w(()=>{const u={};return o.value&&(u.paddingLeft=u.paddingRight=`${o.value/2}px`),u}),a=w(()=>{const u=[];return["span","offset","pull","push"].forEach(f=>{const g=n[f];$t(g)&&(f==="span"?u.push(i.b(`${n[f]}`)):g>0&&u.push(i.b(`${f}-${n[f]}`)))}),["xs","sm","md","lg","xl"].forEach(f=>{$t(n[f])?u.push(i.b(`${f}-${n[f]}`)):xt(n[f])&&Object.entries(n[f]).forEach(([g,m])=>{u.push(g!=="span"?i.b(`${f}-${g}-${m}`):i.b(`${f}-${m}`))})}),o.value&&u.push(i.is("guttered")),[i.b(),u]});return(u,h)=>(N(),be(Ft(u.tag),{class:L(c(a)),style:ct(c(l))},{default:ce(()=>[Te(u.$slots,"default")]),_:3},8,["class","style"]))}});var f7=We(p7,[["__file","col.vue"]]);const m7=Dt(f7),JR=t=>$t(t)||yt(t)||tt(t),g7=Ue({accordion:Boolean,modelValue:{type:fe([Array,String,Number]),default:()=>wn([])}}),$7={[Bt]:JR,[$n]:JR},eD=Symbol("collapseContextKey"),v7=(t,n)=>{const o=V(yl(t.modelValue)),i=a=>{o.value=a;const u=t.accordion?o.value[0]:o.value;n(Bt,u),n($n,u)},l=a=>{if(t.accordion)i([o.value[0]===a?"":a]);else{const u=[...o.value],h=u.indexOf(a);h>-1?u.splice(h,1):u.push(a),i(u)}};return Me(()=>t.modelValue,()=>o.value=yl(t.modelValue),{deep:!0}),Ut(eD,{activeNames:o,handleItemClick:l}),{activeNames:o,setActiveNames:i}},_7=()=>{const t=xe("collapse");return{rootKls:w(()=>t.b())}},b7=ne({name:"ElCollapse"}),T7=ne({...b7,props:g7,emits:$7,setup(t,{expose:n,emit:o}){const i=t,{activeNames:l,setActiveNames:a}=v7(i,o),{rootKls:u}=_7();return n({activeNames:l,setActiveNames:a}),(h,p)=>(N(),Y("div",{class:L(c(u))},[Te(h.$slots,"default")],2))}});var y7=We(T7,[["__file","collapse.vue"]]);const E7=ne({name:"ElCollapseTransition"}),C7=ne({...E7,setup(t){const n=xe("collapse-transition"),o=l=>{l.style.maxHeight="",l.style.overflow=l.dataset.oldOverflow,l.style.paddingTop=l.dataset.oldPaddingTop,l.style.paddingBottom=l.dataset.oldPaddingBottom},i={beforeEnter(l){l.dataset||(l.dataset={}),l.dataset.oldPaddingTop=l.style.paddingTop,l.dataset.oldPaddingBottom=l.style.paddingBottom,l.style.height&&(l.dataset.elExistsHeight=l.style.height),l.style.maxHeight=0,l.style.paddingTop=0,l.style.paddingBottom=0},enter(l){requestAnimationFrame(()=>{l.dataset.oldOverflow=l.style.overflow,l.dataset.elExistsHeight?l.style.maxHeight=l.dataset.elExistsHeight:l.scrollHeight!==0?l.style.maxHeight=`${l.scrollHeight}px`:l.style.maxHeight=0,l.style.paddingTop=l.dataset.oldPaddingTop,l.style.paddingBottom=l.dataset.oldPaddingBottom,l.style.overflow="hidden"})},afterEnter(l){l.style.maxHeight="",l.style.overflow=l.dataset.oldOverflow},enterCancelled(l){o(l)},beforeLeave(l){l.dataset||(l.dataset={}),l.dataset.oldPaddingTop=l.style.paddingTop,l.dataset.oldPaddingBottom=l.style.paddingBottom,l.dataset.oldOverflow=l.style.overflow,l.style.maxHeight=`${l.scrollHeight}px`,l.style.overflow="hidden"},leave(l){l.scrollHeight!==0&&(l.style.maxHeight=0,l.style.paddingTop=0,l.style.paddingBottom=0)},afterLeave(l){o(l)},leaveCancelled(l){o(l)}};return(l,a)=>(N(),be(Yn,Vt({name:c(n).b()},g2(i)),{default:ce(()=>[Te(l.$slots,"default")]),_:3},16,["name"]))}});var Em=We(C7,[["__file","collapse-transition.vue"]]);Em.install=t=>{t.component(Em.name,Em)};const Wg=Em,S7=Wg,I7=Ue({title:{type:String,default:""},name:{type:fe([String,Number]),default:void 0},disabled:Boolean}),w7=t=>{const n=it(eD),{namespace:o}=xe("collapse"),i=V(!1),l=V(!1),a=zE(),u=w(()=>a.current++),h=w(()=>{var _;return(_=t.name)!=null?_:`${o.value}-id-${a.prefix}-${c(u)}`}),p=w(()=>n==null?void 0:n.activeNames.value.includes(c(h)));return{focusing:i,id:u,isActive:p,handleFocus:()=>{setTimeout(()=>{l.value?l.value=!1:i.value=!0},50)},handleHeaderClick:()=>{t.disabled||(n==null||n.handleItemClick(c(h)),i.value=!1,l.value=!0)},handleEnterClick:()=>{n==null||n.handleItemClick(c(h))}}},k7=(t,{focusing:n,isActive:o,id:i})=>{const l=xe("collapse"),a=w(()=>[l.b("item"),l.is("active",c(o)),l.is("disabled",t.disabled)]),u=w(()=>[l.be("item","header"),l.is("active",c(o)),{focusing:c(n)&&!t.disabled}]),h=w(()=>[l.be("item","arrow"),l.is("active",c(o))]),p=w(()=>l.be("item","wrap")),f=w(()=>l.be("item","content")),g=w(()=>l.b(`content-${c(i)}`)),m=w(()=>l.b(`head-${c(i)}`));return{arrowKls:h,headKls:u,rootKls:a,itemWrapperKls:p,itemContentKls:f,scopedContentId:g,scopedHeadId:m}},O7=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],R7=["id","aria-hidden","aria-labelledby"],A7=ne({name:"ElCollapseItem"}),N7=ne({...A7,props:I7,setup(t,{expose:n}){const o=t,{focusing:i,id:l,isActive:a,handleFocus:u,handleHeaderClick:h,handleEnterClick:p}=w7(o),{arrowKls:f,headKls:g,rootKls:m,itemWrapperKls:_,itemContentKls:b,scopedContentId:T,scopedHeadId:$}=k7(o,{focusing:i,isActive:a,id:l});return n({isActive:a}),(E,y)=>(N(),Y("div",{class:L(c(m))},[Q("button",{id:c($),class:L(c(g)),"aria-expanded":c(a),"aria-controls":c(T),"aria-describedby":c(T),tabindex:E.disabled?-1:0,type:"button",onClick:y[0]||(y[0]=(...I)=>c(h)&&c(h)(...I)),onKeydown:y[1]||(y[1]=rn(bt((...I)=>c(p)&&c(p)(...I),["stop","prevent"]),["space","enter"])),onFocus:y[2]||(y[2]=(...I)=>c(u)&&c(u)(...I)),onBlur:y[3]||(y[3]=I=>i.value=!1)},[Te(E.$slots,"title",{},()=>[Wt(ze(E.title),1)]),ie(c(at),{class:L(c(f))},{default:ce(()=>[ie(c(Xo))]),_:1},8,["class"])],42,O7),ie(c(Wg),null,{default:ce(()=>[Rt(Q("div",{id:c(T),role:"region",class:L(c(_)),"aria-hidden":!c(a),"aria-labelledby":c($)},[Q("div",{class:L(c(b))},[Te(E.$slots,"default")],2)],10,R7),[[qt,c(a)]])]),_:3})],2))}});var tD=We(N7,[["__file","collapse-item.vue"]]);const L7=Dt(y7,{CollapseItem:tD}),M7=kn(tD),D7=Ue({color:{type:fe(Object),required:!0},vertical:{type:Boolean,default:!1}});let Jb=!1;function Ph(t,n){if(!Kt)return;const o=function(a){var u;(u=n.drag)==null||u.call(n,a)},i=function(a){var u;document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i),document.removeEventListener("touchmove",o),document.removeEventListener("touchend",i),document.onselectstart=null,document.ondragstart=null,Jb=!1,(u=n.end)==null||u.call(n,a)},l=function(a){var u;Jb||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",o),document.addEventListener("mouseup",i),document.addEventListener("touchmove",o),document.addEventListener("touchend",i),Jb=!0,(u=n.start)==null||u.call(n,a))};t.addEventListener("mousedown",l),t.addEventListener("touchstart",l)}const P7=t=>{const n=Mt(),o=_n(),i=_n();function l(u){u.target!==o.value&&a(u)}function a(u){if(!i.value||!o.value)return;const p=n.vnode.el.getBoundingClientRect(),{clientX:f,clientY:g}=rE(u);if(t.vertical){let m=g-p.top;m=Math.max(o.value.offsetHeight/2,m),m=Math.min(m,p.height-o.value.offsetHeight/2),t.color.set("alpha",Math.round((m-o.value.offsetHeight/2)/(p.height-o.value.offsetHeight)*100))}else{let m=f-p.left;m=Math.max(o.value.offsetWidth/2,m),m=Math.min(m,p.width-o.value.offsetWidth/2),t.color.set("alpha",Math.round((m-o.value.offsetWidth/2)/(p.width-o.value.offsetWidth)*100))}}return{thumb:o,bar:i,handleDrag:a,handleClick:l}},x7=(t,{bar:n,thumb:o,handleDrag:i})=>{const l=Mt(),a=xe("color-alpha-slider"),u=V(0),h=V(0),p=V();function f(){if(!o.value||t.vertical)return 0;const I=l.vnode.el,C=t.color.get("alpha");return I?Math.round(C*(I.offsetWidth-o.value.offsetWidth/2)/100):0}function g(){if(!o.value)return 0;const I=l.vnode.el;if(!t.vertical)return 0;const C=t.color.get("alpha");return I?Math.round(C*(I.offsetHeight-o.value.offsetHeight/2)/100):0}function m(){if(t.color&&t.color.value){const{r:I,g:C,b:S}=t.color.toRgb();return`linear-gradient(to right, rgba(${I}, ${C}, ${S}, 0) 0%, rgba(${I}, ${C}, ${S}, 1) 100%)`}return""}function _(){u.value=f(),h.value=g(),p.value=m()}At(()=>{if(!n.value||!o.value)return;const I={drag:C=>{i(C)},end:C=>{i(C)}};Ph(n.value,I),Ph(o.value,I),_()}),Me(()=>t.color.get("alpha"),()=>_()),Me(()=>t.color.value,()=>_());const b=w(()=>[a.b(),a.is("vertical",t.vertical)]),T=w(()=>a.e("bar")),$=w(()=>a.e("thumb")),E=w(()=>({background:p.value})),y=w(()=>({left:Ln(u.value),top:Ln(h.value)}));return{rootKls:b,barKls:T,barStyle:E,thumbKls:$,thumbStyle:y,update:_}},B7="ElColorAlphaSlider",F7=ne({name:B7}),H7=ne({...F7,props:D7,setup(t,{expose:n}){const o=t,{bar:i,thumb:l,handleDrag:a,handleClick:u}=P7(o),{rootKls:h,barKls:p,barStyle:f,thumbKls:g,thumbStyle:m,update:_}=x7(o,{bar:i,thumb:l,handleDrag:a});return n({update:_,bar:i,thumb:l}),(b,T)=>(N(),Y("div",{class:L(c(h))},[Q("div",{ref_key:"bar",ref:i,class:L(c(p)),style:ct(c(f)),onClick:T[0]||(T[0]=(...$)=>c(u)&&c(u)(...$))},null,6),Q("div",{ref_key:"thumb",ref:l,class:L(c(g)),style:ct(c(m))},null,6)],2))}});var V7=We(H7,[["__file","alpha-slider.vue"]]);const U7=ne({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const n=xe("color-hue-slider"),o=Mt(),i=V(),l=V(),a=V(0),u=V(0),h=w(()=>t.color.get("hue"));Me(()=>h.value,()=>{_()});function p(b){b.target!==i.value&&f(b)}function f(b){if(!l.value||!i.value)return;const $=o.vnode.el.getBoundingClientRect(),{clientX:E,clientY:y}=rE(b);let I;if(t.vertical){let C=y-$.top;C=Math.min(C,$.height-i.value.offsetHeight/2),C=Math.max(i.value.offsetHeight/2,C),I=Math.round((C-i.value.offsetHeight/2)/($.height-i.value.offsetHeight)*360)}else{let C=E-$.left;C=Math.min(C,$.width-i.value.offsetWidth/2),C=Math.max(i.value.offsetWidth/2,C),I=Math.round((C-i.value.offsetWidth/2)/($.width-i.value.offsetWidth)*360)}t.color.set("hue",I)}function g(){if(!i.value)return 0;const b=o.vnode.el;if(t.vertical)return 0;const T=t.color.get("hue");return b?Math.round(T*(b.offsetWidth-i.value.offsetWidth/2)/360):0}function m(){if(!i.value)return 0;const b=o.vnode.el;if(!t.vertical)return 0;const T=t.color.get("hue");return b?Math.round(T*(b.offsetHeight-i.value.offsetHeight/2)/360):0}function _(){a.value=g(),u.value=m()}return At(()=>{if(!l.value||!i.value)return;const b={drag:T=>{f(T)},end:T=>{f(T)}};Ph(l.value,b),Ph(i.value,b),_()}),{bar:l,thumb:i,thumbLeft:a,thumbTop:u,hueValue:h,handleClick:p,update:_,ns:n}}});function G7(t,n,o,i,l,a){return N(),Y("div",{class:L([t.ns.b(),t.ns.is("vertical",t.vertical)])},[Q("div",{ref:"bar",class:L(t.ns.e("bar")),onClick:n[0]||(n[0]=(...u)=>t.handleClick&&t.handleClick(...u))},null,2),Q("div",{ref:"thumb",class:L(t.ns.e("thumb")),style:ct({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var W7=We(U7,[["render",G7],["__file","hue-slider.vue"]]);const z7=Ue({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:qn,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},teleported:so.teleported,predefine:{type:fe(Array)},validateEvent:{type:Boolean,default:!0},...mo(["ariaLabel"])}),K7={[Bt]:t=>yt(t)||io(t),[$n]:t=>yt(t)||io(t),activeChange:t=>yt(t)||io(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},nD=Symbol("colorPickerContextKey"),ZR=function(t,n,o){return[t,n*o/((t=(2-n)*o)<1?t:2-t)||0,t/2]},X7=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},Y7=function(t){return typeof t=="string"&&t.includes("%")},uc=function(t,n){X7(t)&&(t="100%");const o=Y7(t);return t=Math.min(n,Math.max(0,Number.parseFloat(`${t}`))),o&&(t=Number.parseInt(`${t*n}`,10)/100),Math.abs(t-n)<1e-6?1:t%n/Number.parseFloat(n)},QR={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Cm=t=>{t=Math.min(Math.round(t),255);const n=Math.floor(t/16),o=t%16;return`${QR[n]||n}${QR[o]||o}`},eA=function({r:t,g:n,b:o}){return Number.isNaN(+t)||Number.isNaN(+n)||Number.isNaN(+o)?"":`#${Cm(t)}${Cm(n)}${Cm(o)}`},Zb={A:10,B:11,C:12,D:13,E:14,F:15},$a=function(t){return t.length===2?(Zb[t[0].toUpperCase()]||+t[0])*16+(Zb[t[1].toUpperCase()]||+t[1]):Zb[t[1].toUpperCase()]||+t[1]},j7=function(t,n,o){n=n/100,o=o/100;let i=n;const l=Math.max(o,.01);o*=2,n*=o<=1?o:2-o,i*=l<=1?l:2-l;const a=(o+n)/2,u=o===0?2*i/(l+i):2*n/(o+n);return{h:t,s:u*100,v:a*100}},tA=(t,n,o)=>{t=uc(t,255),n=uc(n,255),o=uc(o,255);const i=Math.max(t,n,o),l=Math.min(t,n,o);let a;const u=i,h=i-l,p=i===0?0:h/i;if(i===l)a=0;else{switch(i){case t:{a=(n-o)/h+(n<o?6:0);break}case n:{a=(o-t)/h+2;break}case o:{a=(t-n)/h+4;break}}a/=6}return{h:a*360,s:p*100,v:u*100}},Xd=function(t,n,o){t=uc(t,360)*6,n=uc(n,100),o=uc(o,100);const i=Math.floor(t),l=t-i,a=o*(1-n),u=o*(1-l*n),h=o*(1-(1-l)*n),p=i%6,f=[o,u,a,a,h,o][p],g=[h,o,o,u,a,a][p],m=[a,a,h,o,o,u][p];return{r:Math.round(f*255),g:Math.round(g*255),b:Math.round(m*255)}};class mh{constructor(n={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const o in n)Xt(n,o)&&(this[o]=n[o]);n.value?this.fromString(n.value):this.doOnChange()}set(n,o){if(arguments.length===1&&typeof n=="object"){for(const i in n)Xt(n,i)&&this.set(i,n[i]);return}this[`_${n}`]=o,this.doOnChange()}get(n){return n==="alpha"?Math.floor(this[`_${n}`]):this[`_${n}`]}toRgb(){return Xd(this._hue,this._saturation,this._value)}fromString(n){if(!n){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const o=(i,l,a)=>{this._hue=Math.max(0,Math.min(360,i)),this._saturation=Math.max(0,Math.min(100,l)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(n.includes("hsl")){const i=n.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,a)=>a>2?Number.parseFloat(l):Number.parseInt(l,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:l,s:a,v:u}=j7(i[0],i[1],i[2]);o(l,a,u)}}else if(n.includes("hsv")){const i=n.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,a)=>a>2?Number.parseFloat(l):Number.parseInt(l,10));i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3&&o(i[0],i[1],i[2])}else if(n.includes("rgb")){const i=n.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,a)=>a>2?Number.parseFloat(l):Number.parseInt(l,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:l,s:a,v:u}=tA(i[0],i[1],i[2]);o(l,a,u)}}else if(n.includes("#")){const i=n.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(i))return;let l,a,u;i.length===3?(l=$a(i[0]+i[0]),a=$a(i[1]+i[1]),u=$a(i[2]+i[2])):(i.length===6||i.length===8)&&(l=$a(i.slice(0,2)),a=$a(i.slice(2,4)),u=$a(i.slice(4,6))),i.length===8?this._alpha=$a(i.slice(6))/255*100:(i.length===3||i.length===6)&&(this._alpha=100);const{h,s:p,v:f}=tA(l,a,u);o(h,p,f)}}compare(n){return Math.abs(n._hue-this._hue)<2&&Math.abs(n._saturation-this._saturation)<1&&Math.abs(n._value-this._value)<1&&Math.abs(n._alpha-this._alpha)<1}doOnChange(){const{_hue:n,_saturation:o,_value:i,_alpha:l,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const u=ZR(n,o/100,i/100);this.value=`hsla(${n}, ${Math.round(u[1]*100)}%, ${Math.round(u[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${n}, ${Math.round(o)}%, ${Math.round(i)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${eA(Xd(n,o,i))}${Cm(l*255/100)}`;break}default:{const{r:u,g:h,b:p}=Xd(n,o,i);this.value=`rgba(${u}, ${h}, ${p}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const u=ZR(n,o/100,i/100);this.value=`hsl(${n}, ${Math.round(u[1]*100)}%, ${Math.round(u[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${n}, ${Math.round(o)}%, ${Math.round(i)}%)`;break}case"rgb":{const{r:u,g:h,b:p}=Xd(n,o,i);this.value=`rgb(${u}, ${h}, ${p})`;break}default:this.value=eA(Xd(n,o,i))}}}const q7=ne({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const n=xe("color-predefine"),{currentColor:o}=it(nD),i=V(a(t.colors,t.color));Me(()=>o.value,u=>{const h=new mh;h.fromString(u),i.value.forEach(p=>{p.selected=h.compare(p)})}),Eo(()=>{i.value=a(t.colors,t.color)});function l(u){t.color.fromString(t.colors[u])}function a(u,h){return u.map(p=>{const f=new mh;return f.enableAlpha=t.enableAlpha,f.format="rgba",f.fromString(p),f.selected=f.value===h.value,f})}return{rgbaColors:i,handleSelect:l,ns:n}}}),J7=["onClick"];function Z7(t,n,o,i,l,a){return N(),Y("div",{class:L(t.ns.b())},[Q("div",{class:L(t.ns.e("colors"))},[(N(!0),Y(dt,null,zt(t.rgbaColors,(u,h)=>(N(),Y("div",{key:t.colors[h],class:L([t.ns.e("color-selector"),t.ns.is("alpha",u._alpha<100),{selected:u.selected}]),onClick:p=>t.handleSelect(h)},[Q("div",{style:ct({backgroundColor:u.value})},null,4)],10,J7))),128))],2)],2)}var Q7=We(q7,[["render",Z7],["__file","predefine.vue"]]);const eq=ne({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const n=xe("color-svpanel"),o=Mt(),i=V(0),l=V(0),a=V("hsl(0, 100%, 50%)"),u=w(()=>{const f=t.color.get("hue"),g=t.color.get("value");return{hue:f,value:g}});function h(){const f=t.color.get("saturation"),g=t.color.get("value"),m=o.vnode.el,{clientWidth:_,clientHeight:b}=m;l.value=f*_/100,i.value=(100-g)*b/100,a.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function p(f){const m=o.vnode.el.getBoundingClientRect(),{clientX:_,clientY:b}=rE(f);let T=_-m.left,$=b-m.top;T=Math.max(0,T),T=Math.min(T,m.width),$=Math.max(0,$),$=Math.min($,m.height),l.value=T,i.value=$,t.color.set({saturation:T/m.width*100,value:100-$/m.height*100})}return Me(()=>u.value,()=>{h()}),At(()=>{Ph(o.vnode.el,{drag:f=>{p(f)},end:f=>{p(f)}}),h()}),{cursorTop:i,cursorLeft:l,background:a,colorValue:u,handleDrag:p,update:h,ns:n}}}),tq=Q("div",null,null,-1),nq=[tq];function oq(t,n,o,i,l,a){return N(),Y("div",{class:L(t.ns.b()),style:ct({backgroundColor:t.background})},[Q("div",{class:L(t.ns.e("white"))},null,2),Q("div",{class:L(t.ns.e("black"))},null,2),Q("div",{class:L(t.ns.e("cursor")),style:ct({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},nq,6)],6)}var sq=We(eq,[["render",oq],["__file","sv-panel.vue"]]);const iq=["onKeydown"],rq=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],lq=ne({name:"ElColorPicker"}),aq=ne({...lq,props:z7,emits:K7,setup(t,{expose:n,emit:o}){const i=t,{t:l}=Yt(),a=xe("color"),{formItem:u}=Bo(),h=Kn(),p=Zo(),{inputId:f,isLabeledByFormItem:g}=$i(i,{formItemContext:u}),m=V(),_=V(),b=V(),T=V(),$=V(),E=V(),{isFocused:y,handleFocus:I,handleBlur:C}=Bg($,{beforeBlur(ve){var Ne;return(Ne=T.value)==null?void 0:Ne.isFocusInsideContent(ve)},afterBlur(){z(!1),X()}}),S=ve=>{if(p.value)return Ke();I(ve)};let R=!0;const O=Qt(new mh({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue})),P=V(!1),M=V(!1),H=V(""),F=w(()=>!i.modelValue&&!M.value?"transparent":j(O,i.showAlpha)),B=w(()=>!i.modelValue&&!M.value?"":O.value),K=w(()=>g.value?void 0:i.label||i.ariaLabel||l("el.colorpicker.defaultLabel"));Qn({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-color-picker",ref:"https://element-plus.org/en-US/component/color-picker.html"},w(()=>!!i.label));const te=w(()=>g.value?u==null?void 0:u.labelId:void 0),Z=w(()=>[a.b("picker"),a.is("disabled",p.value),a.bm("picker",h.value),a.is("focused",y.value)]);function j(ve,Ne){if(!(ve instanceof mh))throw new TypeError("color should be instance of _color Class");const{r:He,g:ae,b:he}=ve.toRgb();return Ne?`rgba(${He}, ${ae}, ${he}, ${ve.get("alpha")/100})`:`rgb(${He}, ${ae}, ${he})`}function z(ve){P.value=ve}const G=as(z,100,{leading:!0});function W(){p.value||z(!0)}function D(){G(!1),X()}function X(){pt(()=>{i.modelValue?O.fromString(i.modelValue):(O.value="",pt(()=>{M.value=!1}))})}function oe(){p.value||G(!P.value)}function le(){O.fromString(H.value)}function me(){const ve=O.value;o(Bt,ve),o("change",ve),i.validateEvent&&(u==null||u.validate("change").catch(Ne=>void 0)),G(!1),pt(()=>{const Ne=new mh({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue});O.compare(Ne)||X()})}function Se(){G(!1),o(Bt,null),o("change",null),i.modelValue!==null&&i.validateEvent&&(u==null||u.validate("change").catch(ve=>void 0)),X()}function Pe(ve){if(P.value&&(D(),y.value)){const Ne=new FocusEvent("focus",ve);C(Ne)}}function de(ve){ve.preventDefault(),ve.stopPropagation(),z(!1),X()}function ye(ve){switch(ve.code){case mt.enter:case mt.space:ve.preventDefault(),ve.stopPropagation(),W(),E.value.focus();break;case mt.esc:de(ve);break}}function _e(){$.value.focus()}function Ke(){$.value.blur()}return At(()=>{i.modelValue&&(H.value=B.value)}),Me(()=>i.modelValue,ve=>{ve?ve&&ve!==O.value&&(R=!1,O.fromString(ve)):M.value=!1}),Me(()=>B.value,ve=>{H.value=ve,R&&o("activeChange",ve),R=!0}),Me(()=>O.value,()=>{!i.modelValue&&!M.value&&(M.value=!0)}),Me(()=>P.value,()=>{pt(()=>{var ve,Ne,He;(ve=m.value)==null||ve.update(),(Ne=_.value)==null||Ne.update(),(He=b.value)==null||He.update()})}),Ut(nD,{currentColor:B}),n({color:O,show:W,hide:D,focus:_e,blur:Ke}),(ve,Ne)=>(N(),be(c(xo),{ref_key:"popper",ref:T,visible:P.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[c(a).be("picker","panel"),c(a).b("dropdown"),ve.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:ve.teleported,transition:`${c(a).namespace.value}-zoom-in-top`,persistent:"",onHide:Ne[2]||(Ne[2]=He=>z(!1))},{content:ce(()=>[Rt((N(),Y("div",{onKeydown:rn(de,["esc"])},[Q("div",{class:L(c(a).be("dropdown","main-wrapper"))},[ie(W7,{ref_key:"hue",ref:m,class:"hue-slider",color:c(O),vertical:""},null,8,["color"]),ie(sq,{ref_key:"sv",ref:_,color:c(O)},null,8,["color"])],2),ve.showAlpha?(N(),be(V7,{key:0,ref_key:"alpha",ref:b,color:c(O)},null,8,["color"])):$e("v-if",!0),ve.predefine?(N(),be(Q7,{key:1,ref:"predefine","enable-alpha":ve.showAlpha,color:c(O),colors:ve.predefine},null,8,["enable-alpha","color","colors"])):$e("v-if",!0),Q("div",{class:L(c(a).be("dropdown","btns"))},[Q("span",{class:L(c(a).be("dropdown","value"))},[ie(c(Mo),{ref_key:"inputRef",ref:E,modelValue:H.value,"onUpdate:modelValue":Ne[0]||(Ne[0]=He=>H.value=He),"validate-event":!1,size:"small",onKeyup:rn(le,["enter"]),onBlur:le},null,8,["modelValue","onKeyup"])],2),ie(c(ro),{class:L(c(a).be("dropdown","link-btn")),text:"",size:"small",onClick:Se},{default:ce(()=>[Wt(ze(c(l)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ie(c(ro),{plain:"",size:"small",class:L(c(a).be("dropdown","btn")),onClick:me},{default:ce(()=>[Wt(ze(c(l)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,iq)),[[c(kr),Pe]])]),default:ce(()=>[Q("div",Vt({id:c(f),ref_key:"triggerRef",ref:$},ve.$attrs,{class:c(Z),role:"button","aria-label":c(K),"aria-labelledby":c(te),"aria-description":c(l)("el.colorpicker.description",{color:ve.modelValue||""}),"aria-disabled":c(p),tabindex:c(p)?-1:ve.tabindex,onKeydown:ye,onFocus:S,onBlur:Ne[1]||(Ne[1]=(...He)=>c(C)&&c(C)(...He))}),[c(p)?(N(),Y("div",{key:0,class:L(c(a).be("picker","mask"))},null,2)):$e("v-if",!0),Q("div",{class:L(c(a).be("picker","trigger")),onClick:oe},[Q("span",{class:L([c(a).be("picker","color"),c(a).is("alpha",ve.showAlpha)])},[Q("span",{class:L(c(a).be("picker","color-inner")),style:ct({backgroundColor:c(F)})},[Rt(ie(c(at),{class:L([c(a).be("picker","icon"),c(a).is("icon-arrow-down")])},{default:ce(()=>[ie(c(Lr))]),_:1},8,["class"]),[[qt,ve.modelValue||M.value]]),Rt(ie(c(at),{class:L([c(a).be("picker","empty"),c(a).is("icon-close")])},{default:ce(()=>[ie(c(hi))]),_:1},8,["class"]),[[qt,!ve.modelValue&&!M.value]])],6)],2)],2)],16,rq)]),_:1},8,["visible","popper-class","teleported","transition"]))}});var uq=We(aq,[["__file","color-picker.vue"]]);const cq=Dt(uq),dq=ne({name:"ElContainer"}),hq=ne({...dq,props:{direction:{type:String}},setup(t){const n=t,o=ao(),i=xe("container"),l=w(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:o&&o.default?o.default().some(u=>{const h=u.type.name;return h==="ElHeader"||h==="ElFooter"}):!1);return(a,u)=>(N(),Y("section",{class:L([c(i).b(),c(i).is("vertical",c(l))])},[Te(a.$slots,"default")],2))}});var pq=We(hq,[["__file","container.vue"]]);const fq=ne({name:"ElAside"}),mq=ne({...fq,props:{width:{type:String,default:null}},setup(t){const n=t,o=xe("aside"),i=w(()=>n.width?o.cssVarBlock({width:n.width}):{});return(l,a)=>(N(),Y("aside",{class:L(c(o).b()),style:ct(c(i))},[Te(l.$slots,"default")],6))}});var oD=We(mq,[["__file","aside.vue"]]);const gq=ne({name:"ElFooter"}),$q=ne({...gq,props:{height:{type:String,default:null}},setup(t){const n=t,o=xe("footer"),i=w(()=>n.height?o.cssVarBlock({height:n.height}):{});return(l,a)=>(N(),Y("footer",{class:L(c(o).b()),style:ct(c(i))},[Te(l.$slots,"default")],6))}});var sD=We($q,[["__file","footer.vue"]]);const vq=ne({name:"ElHeader"}),_q=ne({...vq,props:{height:{type:String,default:null}},setup(t){const n=t,o=xe("header"),i=w(()=>n.height?o.cssVarBlock({height:n.height}):{});return(l,a)=>(N(),Y("header",{class:L(c(o).b()),style:ct(c(i))},[Te(l.$slots,"default")],6))}});var iD=We(_q,[["__file","header.vue"]]);const bq=ne({name:"ElMain"}),Tq=ne({...bq,setup(t){const n=xe("main");return(o,i)=>(N(),Y("main",{class:L(c(n).b())},[Te(o.$slots,"default")],2))}});var rD=We(Tq,[["__file","main.vue"]]);const yq=Dt(pq,{Aside:oD,Footer:sD,Header:iD,Main:rD}),Eq=kn(oD),Cq=kn(sD),Sq=kn(iD),Iq=kn(rD);var lD={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(jo,function(){return function(o,i){var l=i.prototype,a=l.format;l.format=function(u){var h=this,p=this.$locale();if(!this.isValid())return a.bind(this)(u);var f=this.$utils(),g=(u||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(m){switch(m){case"Q":return Math.ceil((h.$M+1)/3);case"Do":return p.ordinal(h.$D);case"gggg":return h.weekYear();case"GGGG":return h.isoWeekYear();case"wo":return p.ordinal(h.week(),"W");case"w":case"ww":return f.s(h.week(),m==="w"?1:2,"0");case"W":case"WW":return f.s(h.isoWeek(),m==="W"?1:2,"0");case"k":case"kk":return f.s(String(h.$H===0?24:h.$H),m==="k"?1:2,"0");case"X":return Math.floor(h.$d.getTime()/1e3);case"x":return h.$d.getTime();case"z":return"["+h.offsetName()+"]";case"zzz":return"["+h.offsetName("long")+"]";default:return m}});return a.bind(this)(g)}}})})(lD);var wq=lD.exports;const kq=js(wq);var aD={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(jo,function(){var o="week",i="year";return function(l,a,u){var h=a.prototype;h.week=function(p){if(p===void 0&&(p=null),p!==null)return this.add(7*(p-this.week()),"day");var f=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var g=u(this).startOf(i).add(1,i).date(f),m=u(this).endOf(o);if(g.isBefore(m))return 1}var _=u(this).startOf(i).date(f).startOf(o).subtract(1,"millisecond"),b=this.diff(_,o,!0);return b<0?u(this).startOf("week").week():Math.ceil(b)},h.weeks=function(p){return p===void 0&&(p=null),this.week(p)}}})})(aD);var Oq=aD.exports;const Rq=js(Oq);var uD={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(jo,function(){return function(o,i){i.prototype.weekYear=function(){var l=this.month(),a=this.week(),u=this.year();return a===1&&l===11?u+1:l===0&&a>=52?u-1:u}}})})(uD);var Aq=uD.exports;const Nq=js(Aq);var cD={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(jo,function(){return function(o,i,l){i.prototype.dayOfYear=function(a){var u=Math.round((l(this).startOf("day")-l(this).startOf("year"))/864e5)+1;return a==null?u:this.add(a-u,"day")}}})})(cD);var Lq=cD.exports;const Mq=js(Lq);var dD={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(jo,function(){return function(o,i){i.prototype.isSameOrAfter=function(l,a){return this.isSame(l,a)||this.isAfter(l,a)}}})})(dD);var Dq=dD.exports;const Pq=js(Dq);var hD={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(jo,function(){return function(o,i){i.prototype.isSameOrBefore=function(l,a){return this.isSame(l,a)||this.isBefore(l,a)}}})})(hD);var xq=hD.exports;const Bq=js(xq),a0=Symbol(),Fq=Ue({...r0,type:{type:fe(String),default:"date"}}),Hq=["date","dates","year","years","month","week","range"],u0=Ue({disabledDate:{type:fe(Function)},date:{type:fe(Object),required:!0},minDate:{type:fe(Object)},maxDate:{type:fe(Object)},parsedValue:{type:fe([Object,Array])},rangeState:{type:fe(Object),default:()=>({endDate:null,selecting:!1})}}),pD=Ue({type:{type:fe(String),required:!0,values:az},dateFormat:String,timeFormat:String}),fD=Ue({unlinkPanels:Boolean,parsedValue:{type:fe(Array)}}),c0=t=>({type:String,values:Hq,default:t}),Vq=Ue({...pD,parsedValue:{type:fe([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Uq=Ue({...u0,cellClassName:{type:fe(Function)},showWeekNumber:Boolean,selectionMode:c0("date")}),Gq=["changerange","pick","select"],ry=t=>{if(!tt(t))return!1;const[n,o]=t;return Pt.isDayjs(n)&&Pt.isDayjs(o)&&n.isSameOrBefore(o)},mD=(t,{lang:n,unit:o,unlinkPanels:i})=>{let l;if(tt(t)){let[a,u]=t.map(h=>Pt(h).locale(n));return i||(u=a.add(1,o)),[a,u]}else t?l=Pt(t):l=Pt();return l=l.locale(n),[l,l.add(1,o)]},Wq=(t,n,{columnIndexOffset:o,startDate:i,nextEndDate:l,now:a,unit:u,relativeDateGetter:h,setCellMetadata:p,setRowMetadata:f})=>{for(let g=0;g<t.row;g++){const m=n[g];for(let _=0;_<t.column;_++){let b=m[_+o];b||(b={row:g,column:_,type:"normal",inRange:!1,start:!1,end:!1});const T=g*t.column+_,$=h(T);b.dayjs=$,b.date=$.toDate(),b.timestamp=$.valueOf(),b.type="normal",b.inRange=!!(i&&$.isSameOrAfter(i,u)&&l&&$.isSameOrBefore(l,u))||!!(i&&$.isSameOrBefore(i,u)&&l&&$.isSameOrAfter(l,u)),i!=null&&i.isSameOrAfter(l)?(b.start=!!l&&$.isSame(l,u),b.end=i&&$.isSame(i,u)):(b.start=!!i&&$.isSame(i,u),b.end=!!l&&$.isSame(l,u)),$.isSame(a,u)&&(b.type="today"),p==null||p(b,{rowIndex:g,columnIndex:_}),m[_+o]=b}f==null||f(m)}},ly=(t="")=>["normal","today"].includes(t),zq=(t,n)=>{const{lang:o}=Yt(),i=V(),l=V(),a=V(),u=V(),h=V([[],[],[],[],[],[]]);let p=!1;const f=t.date.$locale().weekStart||7,g=t.date.locale("en").localeData().weekdaysShort().map(D=>D.toLowerCase()),m=w(()=>f>3?7-f:-f),_=w(()=>{const D=t.date.startOf("month");return D.subtract(D.day()||7,"day")}),b=w(()=>g.concat(g).slice(f,f+7)),T=w(()=>OL(c(S)).some(D=>D.isCurrent)),$=w(()=>{const D=t.date.startOf("month"),X=D.day()||7,oe=D.daysInMonth(),le=D.subtract(1,"month").daysInMonth();return{startOfMonthDay:X,dateCountOfMonth:oe,dateCountOfLastMonth:le}}),E=w(()=>t.selectionMode==="dates"?vs(t.parsedValue):[]),y=(D,{count:X,rowIndex:oe,columnIndex:le})=>{const{startOfMonthDay:me,dateCountOfMonth:Se,dateCountOfLastMonth:Pe}=c($),de=c(m);if(oe>=0&&oe<=1){const ye=me+de<0?7+me+de:me+de;if(le+oe*7>=ye)return D.text=X,!0;D.text=Pe-(ye-le%7)+1+oe*7,D.type="prev-month"}else return X<=Se?D.text=X:(D.text=X-Se,D.type="next-month"),!0;return!1},I=(D,{columnIndex:X,rowIndex:oe},le)=>{const{disabledDate:me,cellClassName:Se}=t,Pe=c(E),de=y(D,{count:le,rowIndex:oe,columnIndex:X}),ye=D.dayjs.toDate();return D.selected=Pe.find(_e=>_e.isSame(D.dayjs,"day")),D.isSelected=!!D.selected,D.isCurrent=O(D),D.disabled=me==null?void 0:me(ye),D.customClass=Se==null?void 0:Se(ye),de},C=D=>{if(t.selectionMode==="week"){const[X,oe]=t.showWeekNumber?[1,7]:[0,6],le=W(D[X+1]);D[X].inRange=le,D[X].start=le,D[oe].inRange=le,D[oe].end=le}},S=w(()=>{const{minDate:D,maxDate:X,rangeState:oe,showWeekNumber:le}=t,me=c(m),Se=c(h),Pe="day";let de=1;if(le)for(let ye=0;ye<6;ye++)Se[ye][0]||(Se[ye][0]={type:"week",text:c(_).add(ye*7+1,Pe).week()});return Wq({row:6,column:7},Se,{startDate:D,columnIndexOffset:le?1:0,nextEndDate:oe.endDate||X||oe.selecting&&D||null,now:Pt().locale(c(o)).startOf(Pe),unit:Pe,relativeDateGetter:ye=>c(_).add(ye-me,Pe),setCellMetadata:(...ye)=>{I(...ye,de)&&(de+=1)},setRowMetadata:C}),Se});Me(()=>t.date,async()=>{var D;(D=c(i))!=null&&D.contains(document.activeElement)&&(await pt(),await R())});const R=async()=>{var D;return(D=c(l))==null?void 0:D.focus()},O=D=>t.selectionMode==="date"&&ly(D.type)&&P(D,t.parsedValue),P=(D,X)=>X?Pt(X).locale(c(o)).isSame(t.date.date(Number(D.text)),"day"):!1,M=(D,X)=>{const oe=D*7+(X-(t.showWeekNumber?1:0))-c(m);return c(_).add(oe,"day")},H=D=>{var X;if(!t.rangeState.selecting)return;let oe=D.target;if(oe.tagName==="SPAN"&&(oe=(X=oe.parentNode)==null?void 0:X.parentNode),oe.tagName==="DIV"&&(oe=oe.parentNode),oe.tagName!=="TD")return;const le=oe.parentNode.rowIndex-1,me=oe.cellIndex;c(S)[le][me].disabled||(le!==c(a)||me!==c(u))&&(a.value=le,u.value=me,n("changerange",{selecting:!0,endDate:M(le,me)}))},F=D=>!c(T)&&(D==null?void 0:D.text)===1&&D.type==="normal"||D.isCurrent,B=D=>{p||c(T)||t.selectionMode!=="date"||G(D,!0)},K=D=>{D.target.closest("td")&&(p=!0)},te=D=>{D.target.closest("td")&&(p=!1)},Z=D=>{!t.rangeState.selecting||!t.minDate?(n("pick",{minDate:D,maxDate:null}),n("select",!0)):(D>=t.minDate?n("pick",{minDate:t.minDate,maxDate:D}):n("pick",{minDate:D,maxDate:t.minDate}),n("select",!1))},j=D=>{const X=D.week(),oe=`${D.year()}w${X}`;n("pick",{year:D.year(),week:X,value:oe,date:D.startOf("week")})},z=(D,X)=>{const oe=X?vs(t.parsedValue).filter(le=>(le==null?void 0:le.valueOf())!==D.valueOf()):vs(t.parsedValue).concat([D]);n("pick",oe)},G=(D,X=!1)=>{const oe=D.target.closest("td");if(!oe)return;const le=oe.parentNode.rowIndex-1,me=oe.cellIndex,Se=c(S)[le][me];if(Se.disabled||Se.type==="week")return;const Pe=M(le,me);switch(t.selectionMode){case"range":{Z(Pe);break}case"date":{n("pick",Pe,X);break}case"week":{j(Pe);break}case"dates":{z(Pe,!!Se.selected);break}}},W=D=>{if(t.selectionMode!=="week")return!1;let X=t.date.startOf("day");if(D.type==="prev-month"&&(X=X.subtract(1,"month")),D.type==="next-month"&&(X=X.add(1,"month")),X=X.date(Number.parseInt(D.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const oe=(t.parsedValue.day()-f+7)%7-1;return t.parsedValue.subtract(oe,"day").isSame(X,"day")}return!1};return{WEEKS:b,rows:S,tbodyRef:i,currentCellRef:l,focus:R,isCurrent:O,isWeekActive:W,isSelectedCell:F,handlePickDate:G,handleMouseUp:te,handleMouseDown:K,handleMouseMove:H,handleFocus:B}},Kq=(t,{isCurrent:n,isWeekActive:o})=>{const i=xe("date-table"),{t:l}=Yt(),a=w(()=>[i.b(),{"is-week-mode":t.selectionMode==="week"}]),u=w(()=>l("el.datepicker.dateTablePrompt")),h=w(()=>l("el.datepicker.week"));return{tableKls:a,tableLabel:u,weekLabel:h,getCellClasses:g=>{const m=[];return ly(g.type)&&!g.disabled?(m.push("available"),g.type==="today"&&m.push("today")):m.push(g.type),n(g)&&m.push("current"),g.inRange&&(ly(g.type)||t.selectionMode==="week")&&(m.push("in-range"),g.start&&m.push("start-date"),g.end&&m.push("end-date")),g.disabled&&m.push("disabled"),g.selected&&m.push("selected"),g.customClass&&m.push(g.customClass),m.join(" ")},getRowKls:g=>[i.e("row"),{current:o(g)}],t:l}},Xq=Ue({cell:{type:fe(Object)}});var Yq=ne({name:"ElDatePickerCell",props:Xq,setup(t){const n=xe("date-table-cell"),{slots:o}=it(a0);return()=>{const{cell:i}=t;return Te(o,"default",{...i},()=>[ie("div",{class:n.b()},[ie("span",{class:n.e("text")},[i==null?void 0:i.text])])])}}});const jq=["aria-label"],qq={key:0,scope:"col"},Jq=["aria-label"],Zq=["aria-current","aria-selected","tabindex"],Qq=ne({__name:"basic-date-table",props:Uq,emits:Gq,setup(t,{expose:n,emit:o}){const i=t,{WEEKS:l,rows:a,tbodyRef:u,currentCellRef:h,focus:p,isCurrent:f,isWeekActive:g,isSelectedCell:m,handlePickDate:_,handleMouseUp:b,handleMouseDown:T,handleMouseMove:$,handleFocus:E}=zq(i,o),{tableLabel:y,tableKls:I,weekLabel:C,getCellClasses:S,getRowKls:R,t:O}=Kq(i,{isCurrent:f,isWeekActive:g});return n({focus:p}),(P,M)=>(N(),Y("table",{"aria-label":c(y),class:L(c(I)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:M[1]||(M[1]=(...H)=>c(_)&&c(_)(...H)),onMousemove:M[2]||(M[2]=(...H)=>c($)&&c($)(...H)),onMousedown:M[3]||(M[3]=bt((...H)=>c(T)&&c(T)(...H),["prevent"])),onMouseup:M[4]||(M[4]=(...H)=>c(b)&&c(b)(...H))},[Q("tbody",{ref_key:"tbodyRef",ref:u},[Q("tr",null,[P.showWeekNumber?(N(),Y("th",qq,ze(c(C)),1)):$e("v-if",!0),(N(!0),Y(dt,null,zt(c(l),(H,F)=>(N(),Y("th",{key:F,"aria-label":c(O)("el.datepicker.weeksFull."+H),scope:"col"},ze(c(O)("el.datepicker.weeks."+H)),9,Jq))),128))]),(N(!0),Y(dt,null,zt(c(a),(H,F)=>(N(),Y("tr",{key:F,class:L(c(R)(H[1]))},[(N(!0),Y(dt,null,zt(H,(B,K)=>(N(),Y("td",{key:`${F}.${K}`,ref_for:!0,ref:te=>c(m)(B)&&(h.value=te),class:L(c(S)(B)),"aria-current":B.isCurrent?"date":void 0,"aria-selected":B.isCurrent,tabindex:c(m)(B)?0:-1,onFocus:M[0]||(M[0]=(...te)=>c(E)&&c(E)(...te))},[ie(c(Yq),{cell:B},null,8,["cell"])],42,Zq))),128))],2))),128))],512)],42,jq))}});var ay=We(Qq,[["__file","basic-date-table.vue"]]);const eJ=Ue({...u0,selectionMode:c0("month")}),tJ=["aria-label"],nJ=["aria-selected","aria-label","tabindex","onKeydown"],oJ={class:"cell"},sJ=ne({__name:"basic-month-table",props:eJ,emits:["changerange","pick","select"],setup(t,{expose:n,emit:o}){const i=t,l=(S,R,O)=>{const P=Pt().locale(O).startOf("month").month(R).year(S),M=P.daysInMonth();return vl(M).map(H=>P.add(H,"day").toDate())},a=xe("month-table"),{t:u,lang:h}=Yt(),p=V(),f=V(),g=V(i.date.locale("en").localeData().monthsShort().map(S=>S.toLowerCase())),m=V([[],[],[]]),_=V(),b=V(),T=w(()=>{var S,R;const O=m.value,P=Pt().locale(h.value).startOf("month");for(let M=0;M<3;M++){const H=O[M];for(let F=0;F<4;F++){const B=H[F]||(H[F]={row:M,column:F,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});B.type="normal";const K=M*4+F,te=i.date.startOf("year").month(K),Z=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;B.inRange=!!(i.minDate&&te.isSameOrAfter(i.minDate,"month")&&Z&&te.isSameOrBefore(Z,"month"))||!!(i.minDate&&te.isSameOrBefore(i.minDate,"month")&&Z&&te.isSameOrAfter(Z,"month")),(S=i.minDate)!=null&&S.isSameOrAfter(Z)?(B.start=!!(Z&&te.isSame(Z,"month")),B.end=i.minDate&&te.isSame(i.minDate,"month")):(B.start=!!(i.minDate&&te.isSame(i.minDate,"month")),B.end=!!(Z&&te.isSame(Z,"month"))),P.isSame(te)&&(B.type="today"),B.text=K,B.disabled=((R=i.disabledDate)==null?void 0:R.call(i,te.toDate()))||!1}}return O}),$=()=>{var S;(S=f.value)==null||S.focus()},E=S=>{const R={},O=i.date.year(),P=new Date,M=S.text;return R.disabled=i.disabledDate?l(O,M,h.value).every(i.disabledDate):!1,R.current=vs(i.parsedValue).findIndex(H=>Pt.isDayjs(H)&&H.year()===O&&H.month()===M)>=0,R.today=P.getFullYear()===O&&P.getMonth()===M,S.inRange&&(R["in-range"]=!0,S.start&&(R["start-date"]=!0),S.end&&(R["end-date"]=!0)),R},y=S=>{const R=i.date.year(),O=S.text;return vs(i.date).findIndex(P=>P.year()===R&&P.month()===O)>=0},I=S=>{var R;if(!i.rangeState.selecting)return;let O=S.target;if(O.tagName==="SPAN"&&(O=(R=O.parentNode)==null?void 0:R.parentNode),O.tagName==="DIV"&&(O=O.parentNode),O.tagName!=="TD")return;const P=O.parentNode.rowIndex,M=O.cellIndex;T.value[P][M].disabled||(P!==_.value||M!==b.value)&&(_.value=P,b.value=M,o("changerange",{selecting:!0,endDate:i.date.startOf("year").month(P*4+M)}))},C=S=>{var R;const O=(R=S.target)==null?void 0:R.closest("td");if((O==null?void 0:O.tagName)!=="TD"||Vs(O,"disabled"))return;const P=O.cellIndex,H=O.parentNode.rowIndex*4+P,F=i.date.startOf("year").month(H);i.selectionMode==="range"?i.rangeState.selecting?(i.minDate&&F>=i.minDate?o("pick",{minDate:i.minDate,maxDate:F}):o("pick",{minDate:F,maxDate:i.minDate}),o("select",!1)):(o("pick",{minDate:F,maxDate:null}),o("select",!0)):o("pick",H)};return Me(()=>i.date,async()=>{var S,R;(S=p.value)!=null&&S.contains(document.activeElement)&&(await pt(),(R=f.value)==null||R.focus())}),n({focus:$}),(S,R)=>(N(),Y("table",{role:"grid","aria-label":c(u)("el.datepicker.monthTablePrompt"),class:L(c(a).b()),onClick:C,onMousemove:I},[Q("tbody",{ref_key:"tbodyRef",ref:p},[(N(!0),Y(dt,null,zt(c(T),(O,P)=>(N(),Y("tr",{key:P},[(N(!0),Y(dt,null,zt(O,(M,H)=>(N(),Y("td",{key:H,ref_for:!0,ref:F=>y(M)&&(f.value=F),class:L(E(M)),"aria-selected":`${y(M)}`,"aria-label":c(u)(`el.datepicker.month${+M.text+1}`),tabindex:y(M)?0:-1,onKeydown:[rn(bt(C,["prevent","stop"]),["space"]),rn(bt(C,["prevent","stop"]),["enter"])]},[Q("div",null,[Q("span",oJ,ze(c(u)("el.datepicker.months."+g.value[M.text])),1)])],42,nJ))),128))]))),128))],512)],42,tJ))}});var uy=We(sJ,[["__file","basic-month-table.vue"]]);const{date:iJ,disabledDate:rJ,parsedValue:lJ}=u0,aJ=Ue({date:iJ,disabledDate:rJ,parsedValue:lJ,selectionMode:c0("year")}),uJ=["aria-label"],cJ=["aria-selected","tabindex","onKeydown"],dJ={class:"cell"},hJ={key:1},pJ=ne({__name:"basic-year-table",props:aJ,emits:["pick"],setup(t,{expose:n,emit:o}){const i=t,l=($,E)=>{const y=Pt(String($)).locale(E).startOf("year"),C=y.endOf("year").dayOfYear();return vl(C).map(S=>y.add(S,"day").toDate())},a=xe("year-table"),{t:u,lang:h}=Yt(),p=V(),f=V(),g=w(()=>Math.floor(i.date.year()/10)*10),m=()=>{var $;($=f.value)==null||$.focus()},_=$=>{const E={},y=Pt().locale(h.value);return E.disabled=i.disabledDate?l($,h.value).every(i.disabledDate):!1,E.current=vs(i.parsedValue).findIndex(I=>I.year()===$)>=0,E.today=y.year()===$,E},b=$=>$===g.value&&i.date.year()<g.value&&i.date.year()>g.value+9||vs(i.date).findIndex(E=>E.year()===$)>=0||vs(i.parsedValue).findIndex(E=>(E==null?void 0:E.year())===$)>=0,T=$=>{const y=$.target.closest("td");if(y&&y.textContent){if(Vs(y,"disabled"))return;const I=y.textContent||y.innerText;if(i.selectionMode==="years"){if($.type==="keydown"){o("pick",vs(i.parsedValue),!1);return}const C=Vs(y,"current")?vs(i.parsedValue).filter(S=>(S==null?void 0:S.year())!==Number(I)):vs(i.parsedValue).concat([Pt(I)]);o("pick",C)}else o("pick",Number(I))}};return Me(()=>i.date,async()=>{var $,E;($=p.value)!=null&&$.contains(document.activeElement)&&(await pt(),(E=f.value)==null||E.focus())}),n({focus:m}),($,E)=>(N(),Y("table",{role:"grid","aria-label":c(u)("el.datepicker.yearTablePrompt"),class:L(c(a).b()),onClick:T},[Q("tbody",{ref_key:"tbodyRef",ref:p},[(N(),Y(dt,null,zt(3,(y,I)=>Q("tr",{key:I},[(N(),Y(dt,null,zt(4,(C,S)=>(N(),Y(dt,{key:I+"_"+S},[I*4+S<10?(N(),Y("td",{key:0,ref_for:!0,ref:R=>b(c(g)+I*4+S)&&(f.value=R),class:L(["available",_(c(g)+I*4+S)]),"aria-selected":`${b(c(g)+I*4+S)}`,tabindex:b(c(g)+I*4+S)?0:-1,onKeydown:[rn(bt(T,["prevent","stop"]),["space"]),rn(bt(T,["prevent","stop"]),["enter"])]},[Q("div",null,[Q("span",dJ,ze(c(g)+I*4+S),1)])],42,cJ)):(N(),Y("td",hJ))],64))),64))])),64))],512)],10,uJ))}});var fJ=We(pJ,[["__file","basic-year-table.vue"]]);const mJ=["onClick"],gJ=["aria-label"],$J=["aria-label"],vJ=["aria-label"],_J=["aria-label"],bJ=ne({__name:"panel-date-pick",props:Vq,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:n}){const o=t,i=(Re,Ye,A)=>!0,l=xe("picker-panel"),a=xe("date-picker"),u=Ga(),h=ao(),{t:p,lang:f}=Yt(),g=it("EP_PICKER_BASE"),m=it(Ug),{shortcuts:_,disabledDate:b,cellClassName:T,defaultTime:$}=g.props,E=on(g.props,"defaultValue"),y=V(),I=V(Pt().locale(f.value)),C=V(!1);let S=!1;const R=w(()=>Pt($).locale(f.value)),O=w(()=>I.value.month()),P=w(()=>I.value.year()),M=V([]),H=V(null),F=V(null),B=Re=>M.value.length>0?i(Re,M.value,o.format||"HH:mm:ss"):!0,K=Re=>$&&!he.value&&!C.value&&!S?R.value.year(Re.year()).month(Re.month()).date(Re.date()):de.value?Re.millisecond(0):Re.startOf("day"),te=(Re,...Ye)=>{if(!Re)n("pick",Re,...Ye);else if(tt(Re)){const A=Re.map(K);n("pick",A,...Ye)}else n("pick",K(Re),...Ye);H.value=null,F.value=null,C.value=!1,S=!1},Z=async(Re,Ye)=>{if(X.value==="date"){Re=Re;let A=o.parsedValue?o.parsedValue.year(Re.year()).month(Re.month()).date(Re.date()):Re;B(A)||(A=M.value[0][0].year(Re.year()).month(Re.month()).date(Re.date())),I.value=A,te(A,de.value||Ye),o.type==="datetime"&&(await pt(),lt())}else X.value==="week"?te(Re.date):X.value==="dates"&&te(Re,!0)},j=Re=>{const Ye=Re?"add":"subtract";I.value=I.value[Ye](1,"month"),st("month")},z=Re=>{const Ye=I.value,A=Re?"add":"subtract";I.value=G.value==="year"?Ye[A](10,"year"):Ye[A](1,"year"),st("year")},G=V("date"),W=w(()=>{const Re=p("el.datepicker.year");if(G.value==="year"){const Ye=Math.floor(P.value/10)*10;return Re?`${Ye} ${Re} - ${Ye+9} ${Re}`:`${Ye} - ${Ye+9}`}return`${P.value} ${Re}`}),D=Re=>{const Ye=_t(Re.value)?Re.value():Re.value;if(Ye){S=!0,te(Pt(Ye).locale(f.value));return}Re.onClick&&Re.onClick({attrs:u,slots:h,emit:n})},X=w(()=>{const{type:Re}=o;return["week","month","year","years","dates"].includes(Re)?Re:"date"}),oe=w(()=>X.value==="date"?G.value:X.value),le=w(()=>!!_.length),me=async Re=>{I.value=I.value.startOf("month").month(Re),X.value==="month"?te(I.value,!1):(G.value="date",["month","year","date","week"].includes(X.value)&&(te(I.value,!0),await pt(),lt())),st("month")},Se=async(Re,Ye)=>{X.value==="year"?(I.value=I.value.startOf("year").year(Re),te(I.value,!1)):X.value==="years"?te(Re,Ye??!0):(I.value=I.value.year(Re),G.value="month",["month","year","date","week"].includes(X.value)&&(te(I.value,!0),await pt(),lt())),st("year")},Pe=async Re=>{G.value=Re,await pt(),lt()},de=w(()=>o.type==="datetime"||o.type==="datetimerange"),ye=w(()=>{const Re=de.value||X.value==="dates",Ye=X.value==="years",A=G.value==="date",x=G.value==="year";return Re&&A||Ye&&x}),_e=w(()=>b?o.parsedValue?tt(o.parsedValue)?b(o.parsedValue[0].toDate()):b(o.parsedValue.toDate()):!0:!1),Ke=()=>{if(X.value==="dates"||X.value==="years")te(o.parsedValue);else{let Re=o.parsedValue;if(!Re){const Ye=Pt($).locale(f.value),A=et();Re=Ye.year(A.year()).month(A.month()).date(A.date())}I.value=Re,te(Re)}},ve=w(()=>b?b(Pt().locale(f.value).toDate()):!1),Ne=()=>{const Ye=Pt().locale(f.value).toDate();C.value=!0,(!b||!b(Ye))&&B(Ye)&&(I.value=Pt().locale(f.value),te(I.value))},He=w(()=>o.timeFormat||_1(o.format)),ae=w(()=>o.dateFormat||v1(o.format)),he=w(()=>{if(F.value)return F.value;if(!(!o.parsedValue&&!E.value))return(o.parsedValue||I.value).format(He.value)}),Ae=w(()=>{if(H.value)return H.value;if(!(!o.parsedValue&&!E.value))return(o.parsedValue||I.value).format(ae.value)}),Fe=V(!1),Ce=()=>{Fe.value=!0},De=()=>{Fe.value=!1},Ve=Re=>({hour:Re.hour(),minute:Re.minute(),second:Re.second(),year:Re.year(),month:Re.month(),date:Re.date()}),ue=(Re,Ye,A)=>{const{hour:x,minute:ee,second:pe}=Ve(Re),re=o.parsedValue?o.parsedValue.hour(x).minute(ee).second(pe):Re;I.value=re,te(I.value,!0),A||(Fe.value=Ye)},we=Re=>{const Ye=Pt(Re,He.value).locale(f.value);if(Ye.isValid()&&B(Ye)){const{year:A,month:x,date:ee}=Ve(I.value);I.value=Ye.year(A).month(x).date(ee),F.value=null,Fe.value=!1,te(I.value,!0)}},ke=Re=>{const Ye=Pt(Re,ae.value).locale(f.value);if(Ye.isValid()){if(b&&b(Ye.toDate()))return;const{hour:A,minute:x,second:ee}=Ve(I.value);I.value=Ye.hour(A).minute(x).second(ee),H.value=null,te(I.value,!0)}},Ge=Re=>Pt.isDayjs(Re)&&Re.isValid()&&(b?!b(Re.toDate()):!0),ot=Re=>tt(Re)?Re.map(Ye=>Ye.format(o.format)):Re.format(o.format),q=Re=>Pt(Re,o.format).locale(f.value),et=()=>{const Re=Pt(E.value).locale(f.value);if(!E.value){const Ye=R.value;return Pt().hour(Ye.hour()).minute(Ye.minute()).second(Ye.second()).locale(f.value)}return Re},lt=async()=>{var Re;["week","month","year","date"].includes(X.value)&&((Re=y.value)==null||Re.focus(),X.value==="week"&&Tt(mt.down))},Et=Re=>{const{code:Ye}=Re;[mt.up,mt.down,mt.left,mt.right,mt.home,mt.end,mt.pageUp,mt.pageDown].includes(Ye)&&(Tt(Ye),Re.stopPropagation(),Re.preventDefault()),[mt.enter,mt.space,mt.numpadEnter].includes(Ye)&&H.value===null&&F.value===null&&(Re.preventDefault(),te(I.value,!1))},Tt=Re=>{var Ye;const{up:A,down:x,left:ee,right:pe,home:re,end:je,pageUp:Ct,pageDown:U}=mt,se={year:{[A]:-4,[x]:4,[ee]:-1,[pe]:1,offset:(Ie,Qe)=>Ie.setFullYear(Ie.getFullYear()+Qe)},month:{[A]:-4,[x]:4,[ee]:-1,[pe]:1,offset:(Ie,Qe)=>Ie.setMonth(Ie.getMonth()+Qe)},week:{[A]:-1,[x]:1,[ee]:-1,[pe]:1,offset:(Ie,Qe)=>Ie.setDate(Ie.getDate()+Qe*7)},date:{[A]:-7,[x]:7,[ee]:-1,[pe]:1,[re]:Ie=>-Ie.getDay(),[je]:Ie=>-Ie.getDay()+6,[Ct]:Ie=>-new Date(Ie.getFullYear(),Ie.getMonth(),0).getDate(),[U]:Ie=>new Date(Ie.getFullYear(),Ie.getMonth()+1,0).getDate(),offset:(Ie,Qe)=>Ie.setDate(Ie.getDate()+Qe)}},Ee=I.value.toDate();for(;Math.abs(I.value.diff(Ee,"year",!0))<1;){const Ie=se[oe.value];if(!Ie)return;if(Ie.offset(Ee,_t(Ie[Re])?Ie[Re](Ee):(Ye=Ie[Re])!=null?Ye:0),b&&b(Ee))break;const Qe=Pt(Ee).locale(f.value);I.value=Qe,n("pick",Qe,!0);break}},st=Re=>{n("panel-change",I.value.toDate(),Re,G.value)};return Me(()=>X.value,Re=>{if(["month","year"].includes(Re)){G.value=Re;return}else if(Re==="years"){G.value="year";return}G.value="date"},{immediate:!0}),Me(()=>G.value,()=>{m==null||m.updatePopper()}),Me(()=>E.value,Re=>{Re&&(I.value=et())},{immediate:!0}),Me(()=>o.parsedValue,Re=>{if(Re){if(X.value==="dates"||X.value==="years"||Array.isArray(Re))return;I.value=Re}else I.value=et()},{immediate:!0}),n("set-picker-option",["isValidValue",Ge]),n("set-picker-option",["formatToString",ot]),n("set-picker-option",["parseUserInput",q]),n("set-picker-option",["handleFocusPicker",lt]),(Re,Ye)=>(N(),Y("div",{class:L([c(l).b(),c(a).b(),{"has-sidebar":Re.$slots.sidebar||c(le),"has-time":c(de)}])},[Q("div",{class:L(c(l).e("body-wrapper"))},[Te(Re.$slots,"sidebar",{class:L(c(l).e("sidebar"))}),c(le)?(N(),Y("div",{key:0,class:L(c(l).e("sidebar"))},[(N(!0),Y(dt,null,zt(c(_),(A,x)=>(N(),Y("button",{key:x,type:"button",class:L(c(l).e("shortcut")),onClick:ee=>D(A)},ze(A.text),11,mJ))),128))],2)):$e("v-if",!0),Q("div",{class:L(c(l).e("body"))},[c(de)?(N(),Y("div",{key:0,class:L(c(a).e("time-header"))},[Q("span",{class:L(c(a).e("editor-wrap"))},[ie(c(Mo),{placeholder:c(p)("el.datepicker.selectDate"),"model-value":c(Ae),size:"small","validate-event":!1,onInput:Ye[0]||(Ye[0]=A=>H.value=A),onChange:ke},null,8,["placeholder","model-value"])],2),Rt((N(),Y("span",{class:L(c(a).e("editor-wrap"))},[ie(c(Mo),{placeholder:c(p)("el.datepicker.selectTime"),"model-value":c(he),size:"small","validate-event":!1,onFocus:Ce,onInput:Ye[1]||(Ye[1]=A=>F.value=A),onChange:we},null,8,["placeholder","model-value"]),ie(c(ng),{visible:Fe.value,format:c(He),"parsed-value":I.value,onPick:ue},null,8,["visible","format","parsed-value"])],2)),[[c(kr),De]])],2)):$e("v-if",!0),Rt(Q("div",{class:L([c(a).e("header"),(G.value==="year"||G.value==="month")&&c(a).e("header--bordered")])},[Q("span",{class:L(c(a).e("prev-btn"))},[Q("button",{type:"button","aria-label":c(p)("el.datepicker.prevYear"),class:L(["d-arrow-left",c(l).e("icon-btn")]),onClick:Ye[2]||(Ye[2]=A=>z(!1))},[ie(c(at),null,{default:ce(()=>[ie(c(bc))]),_:1})],10,gJ),Rt(Q("button",{type:"button","aria-label":c(p)("el.datepicker.prevMonth"),class:L([c(l).e("icon-btn"),"arrow-left"]),onClick:Ye[3]||(Ye[3]=A=>j(!1))},[ie(c(at),null,{default:ce(()=>[ie(c(Cl))]),_:1})],10,$J),[[qt,G.value==="date"]])],2),Q("span",{role:"button",class:L(c(a).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Ye[4]||(Ye[4]=rn(A=>Pe("year"),["enter"])),onClick:Ye[5]||(Ye[5]=A=>Pe("year"))},ze(c(W)),35),Rt(Q("span",{role:"button","aria-live":"polite",tabindex:"0",class:L([c(a).e("header-label"),{active:G.value==="month"}]),onKeydown:Ye[6]||(Ye[6]=rn(A=>Pe("month"),["enter"])),onClick:Ye[7]||(Ye[7]=A=>Pe("month"))},ze(c(p)(`el.datepicker.month${c(O)+1}`)),35),[[qt,G.value==="date"]]),Q("span",{class:L(c(a).e("next-btn"))},[Rt(Q("button",{type:"button","aria-label":c(p)("el.datepicker.nextMonth"),class:L([c(l).e("icon-btn"),"arrow-right"]),onClick:Ye[8]||(Ye[8]=A=>j(!0))},[ie(c(at),null,{default:ce(()=>[ie(c(Xo))]),_:1})],10,vJ),[[qt,G.value==="date"]]),Q("button",{type:"button","aria-label":c(p)("el.datepicker.nextYear"),class:L([c(l).e("icon-btn"),"d-arrow-right"]),onClick:Ye[9]||(Ye[9]=A=>z(!0))},[ie(c(at),null,{default:ce(()=>[ie(c(Tc))]),_:1})],10,_J)],2)],2),[[qt,G.value!=="time"]]),Q("div",{class:L(c(l).e("content")),onKeydown:Et},[G.value==="date"?(N(),be(ay,{key:0,ref_key:"currentViewRef",ref:y,"selection-mode":c(X),date:I.value,"parsed-value":Re.parsedValue,"disabled-date":c(b),"cell-class-name":c(T),onPick:Z},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):$e("v-if",!0),G.value==="year"?(N(),be(fJ,{key:1,ref_key:"currentViewRef",ref:y,"selection-mode":c(X),date:I.value,"disabled-date":c(b),"parsed-value":Re.parsedValue,onPick:Se},null,8,["selection-mode","date","disabled-date","parsed-value"])):$e("v-if",!0),G.value==="month"?(N(),be(uy,{key:2,ref_key:"currentViewRef",ref:y,date:I.value,"parsed-value":Re.parsedValue,"disabled-date":c(b),onPick:me},null,8,["date","parsed-value","disabled-date"])):$e("v-if",!0)],34)],2)],2),Rt(Q("div",{class:L(c(l).e("footer"))},[Rt(ie(c(ro),{text:"",size:"small",class:L(c(l).e("link-btn")),disabled:c(ve),onClick:Ne},{default:ce(()=>[Wt(ze(c(p)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[qt,c(X)!=="dates"&&c(X)!=="years"]]),ie(c(ro),{plain:"",size:"small",class:L(c(l).e("link-btn")),disabled:c(_e),onClick:Ke},{default:ce(()=>[Wt(ze(c(p)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[qt,c(ye)]])],2))}});var TJ=We(bJ,[["__file","panel-date-pick.vue"]]);const yJ=Ue({...pD,...fD}),EJ=t=>{const{emit:n}=Mt(),o=Ga(),i=ao();return a=>{const u=_t(a.value)?a.value():a.value;if(u){n("pick",[Pt(u[0]).locale(t.value),Pt(u[1]).locale(t.value)]);return}a.onClick&&a.onClick({attrs:o,slots:i,emit:n})}},gD=(t,{defaultValue:n,leftDate:o,rightDate:i,unit:l,onParsedValueChanged:a})=>{const{emit:u}=Mt(),{pickerNs:h}=it(a0),p=xe("date-range-picker"),{t:f,lang:g}=Yt(),m=EJ(g),_=V(),b=V(),T=V({endDate:null,selecting:!1}),$=C=>{T.value=C},E=(C=!1)=>{const S=c(_),R=c(b);ry([S,R])&&u("pick",[S,R],C)},y=C=>{T.value.selecting=C,C||(T.value.endDate=null)},I=()=>{const[C,S]=mD(c(n),{lang:c(g),unit:l,unlinkPanels:t.unlinkPanels});_.value=void 0,b.value=void 0,o.value=C,i.value=S};return Me(n,C=>{C&&I()},{immediate:!0}),Me(()=>t.parsedValue,C=>{if(tt(C)&&C.length===2){const[S,R]=C;_.value=S,o.value=S,b.value=R,a(c(_),c(b))}else I()},{immediate:!0}),{minDate:_,maxDate:b,rangeState:T,lang:g,ppNs:h,drpNs:p,handleChangeRange:$,handleRangeConfirm:E,handleShortcutClick:m,onSelect:y,t:f}},CJ=["onClick"],SJ=["aria-label"],IJ=["aria-label"],wJ=["disabled","aria-label"],kJ=["disabled","aria-label"],OJ=["disabled","aria-label"],RJ=["disabled","aria-label"],AJ=["aria-label"],NJ=["aria-label"],sm="month",LJ=ne({__name:"panel-date-range",props:yJ,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:n}){const o=t,i=it("EP_PICKER_BASE"),{disabledDate:l,cellClassName:a,defaultTime:u,clearable:h}=i.props,p=on(i.props,"format"),f=on(i.props,"shortcuts"),g=on(i.props,"defaultValue"),{lang:m}=Yt(),_=V(Pt().locale(m.value)),b=V(Pt().locale(m.value).add(1,sm)),{minDate:T,maxDate:$,rangeState:E,ppNs:y,drpNs:I,handleChangeRange:C,handleRangeConfirm:S,handleShortcutClick:R,onSelect:O,t:P}=gD(o,{defaultValue:g,leftDate:_,rightDate:b,unit:sm,onParsedValueChanged:Ye}),M=V({min:null,max:null}),H=V({min:null,max:null}),F=w(()=>`${_.value.year()} ${P("el.datepicker.year")} ${P(`el.datepicker.month${_.value.month()+1}`)}`),B=w(()=>`${b.value.year()} ${P("el.datepicker.year")} ${P(`el.datepicker.month${b.value.month()+1}`)}`),K=w(()=>_.value.year()),te=w(()=>_.value.month()),Z=w(()=>b.value.year()),j=w(()=>b.value.month()),z=w(()=>!!f.value.length),G=w(()=>M.value.min!==null?M.value.min:T.value?T.value.format(le.value):""),W=w(()=>M.value.max!==null?M.value.max:$.value||T.value?($.value||T.value).format(le.value):""),D=w(()=>H.value.min!==null?H.value.min:T.value?T.value.format(oe.value):""),X=w(()=>H.value.max!==null?H.value.max:$.value||T.value?($.value||T.value).format(oe.value):""),oe=w(()=>o.timeFormat||_1(p.value)),le=w(()=>o.dateFormat||v1(p.value)),me=A=>ry(A)&&(l?!l(A[0].toDate())&&!l(A[1].toDate()):!0),Se=()=>{_.value=_.value.subtract(1,"year"),o.unlinkPanels||(b.value=_.value.add(1,"month")),He("year")},Pe=()=>{_.value=_.value.subtract(1,"month"),o.unlinkPanels||(b.value=_.value.add(1,"month")),He("month")},de=()=>{o.unlinkPanels?b.value=b.value.add(1,"year"):(_.value=_.value.add(1,"year"),b.value=_.value.add(1,"month")),He("year")},ye=()=>{o.unlinkPanels?b.value=b.value.add(1,"month"):(_.value=_.value.add(1,"month"),b.value=_.value.add(1,"month")),He("month")},_e=()=>{_.value=_.value.add(1,"year"),He("year")},Ke=()=>{_.value=_.value.add(1,"month"),He("month")},ve=()=>{b.value=b.value.subtract(1,"year"),He("year")},Ne=()=>{b.value=b.value.subtract(1,"month"),He("month")},He=A=>{n("panel-change",[_.value.toDate(),b.value.toDate()],A)},ae=w(()=>{const A=(te.value+1)%12,x=te.value+1>=12?1:0;return o.unlinkPanels&&new Date(K.value+x,A)<new Date(Z.value,j.value)}),he=w(()=>o.unlinkPanels&&Z.value*12+j.value-(K.value*12+te.value+1)>=12),Ae=w(()=>!(T.value&&$.value&&!E.value.selecting&&ry([T.value,$.value]))),Fe=w(()=>o.type==="datetime"||o.type==="datetimerange"),Ce=(A,x)=>{if(A)return u?Pt(u[x]||u).locale(m.value).year(A.year()).month(A.month()).date(A.date()):A},De=(A,x=!0)=>{const ee=A.minDate,pe=A.maxDate,re=Ce(ee,0),je=Ce(pe,1);$.value===je&&T.value===re||(n("calendar-change",[ee.toDate(),pe&&pe.toDate()]),$.value=je,T.value=re,!(!x||Fe.value)&&S())},Ve=V(!1),ue=V(!1),we=()=>{Ve.value=!1},ke=()=>{ue.value=!1},Ge=(A,x)=>{M.value[x]=A;const ee=Pt(A,le.value).locale(m.value);if(ee.isValid()){if(l&&l(ee.toDate()))return;x==="min"?(_.value=ee,T.value=(T.value||_.value).year(ee.year()).month(ee.month()).date(ee.date()),!o.unlinkPanels&&(!$.value||$.value.isBefore(T.value))&&(b.value=ee.add(1,"month"),$.value=T.value.add(1,"month"))):(b.value=ee,$.value=($.value||b.value).year(ee.year()).month(ee.month()).date(ee.date()),!o.unlinkPanels&&(!T.value||T.value.isAfter($.value))&&(_.value=ee.subtract(1,"month"),T.value=$.value.subtract(1,"month")))}},ot=(A,x)=>{M.value[x]=null},q=(A,x)=>{H.value[x]=A;const ee=Pt(A,oe.value).locale(m.value);ee.isValid()&&(x==="min"?(Ve.value=!0,T.value=(T.value||_.value).hour(ee.hour()).minute(ee.minute()).second(ee.second())):(ue.value=!0,$.value=($.value||b.value).hour(ee.hour()).minute(ee.minute()).second(ee.second()),b.value=$.value))},et=(A,x)=>{H.value[x]=null,x==="min"?(_.value=T.value,Ve.value=!1,(!$.value||$.value.isBefore(T.value))&&($.value=T.value)):(b.value=$.value,ue.value=!1,$.value&&$.value.isBefore(T.value)&&(T.value=$.value))},lt=(A,x,ee)=>{H.value.min||(A&&(_.value=A,T.value=(T.value||_.value).hour(A.hour()).minute(A.minute()).second(A.second())),ee||(Ve.value=x),(!$.value||$.value.isBefore(T.value))&&($.value=T.value,b.value=A))},Et=(A,x,ee)=>{H.value.max||(A&&(b.value=A,$.value=($.value||b.value).hour(A.hour()).minute(A.minute()).second(A.second())),ee||(ue.value=x),$.value&&$.value.isBefore(T.value)&&(T.value=$.value))},Tt=()=>{_.value=mD(c(g),{lang:c(m),unit:"month",unlinkPanels:o.unlinkPanels})[0],b.value=_.value.add(1,"month"),$.value=void 0,T.value=void 0,n("pick",null)},st=A=>tt(A)?A.map(x=>x.format(p.value)):A.format(p.value),Re=A=>tt(A)?A.map(x=>Pt(x,p.value).locale(m.value)):Pt(A,p.value).locale(m.value);function Ye(A,x){if(o.unlinkPanels&&x){const ee=(A==null?void 0:A.year())||0,pe=(A==null?void 0:A.month())||0,re=x.year(),je=x.month();b.value=ee===re&&pe===je?x.add(1,sm):x}else b.value=_.value.add(1,sm),x&&(b.value=b.value.hour(x.hour()).minute(x.minute()).second(x.second()))}return n("set-picker-option",["isValidValue",me]),n("set-picker-option",["parseUserInput",Re]),n("set-picker-option",["formatToString",st]),n("set-picker-option",["handleClear",Tt]),(A,x)=>(N(),Y("div",{class:L([c(y).b(),c(I).b(),{"has-sidebar":A.$slots.sidebar||c(z),"has-time":c(Fe)}])},[Q("div",{class:L(c(y).e("body-wrapper"))},[Te(A.$slots,"sidebar",{class:L(c(y).e("sidebar"))}),c(z)?(N(),Y("div",{key:0,class:L(c(y).e("sidebar"))},[(N(!0),Y(dt,null,zt(c(f),(ee,pe)=>(N(),Y("button",{key:pe,type:"button",class:L(c(y).e("shortcut")),onClick:re=>c(R)(ee)},ze(ee.text),11,CJ))),128))],2)):$e("v-if",!0),Q("div",{class:L(c(y).e("body"))},[c(Fe)?(N(),Y("div",{key:0,class:L(c(I).e("time-header"))},[Q("span",{class:L(c(I).e("editors-wrap"))},[Q("span",{class:L(c(I).e("time-picker-wrap"))},[ie(c(Mo),{size:"small",disabled:c(E).selecting,placeholder:c(P)("el.datepicker.startDate"),class:L(c(I).e("editor")),"model-value":c(G),"validate-event":!1,onInput:x[0]||(x[0]=ee=>Ge(ee,"min")),onChange:x[1]||(x[1]=ee=>ot(ee,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Rt((N(),Y("span",{class:L(c(I).e("time-picker-wrap"))},[ie(c(Mo),{size:"small",class:L(c(I).e("editor")),disabled:c(E).selecting,placeholder:c(P)("el.datepicker.startTime"),"model-value":c(D),"validate-event":!1,onFocus:x[2]||(x[2]=ee=>Ve.value=!0),onInput:x[3]||(x[3]=ee=>q(ee,"min")),onChange:x[4]||(x[4]=ee=>et(ee,"min"))},null,8,["class","disabled","placeholder","model-value"]),ie(c(ng),{visible:Ve.value,format:c(oe),"datetime-role":"start","parsed-value":_.value,onPick:lt},null,8,["visible","format","parsed-value"])],2)),[[c(kr),we]])],2),Q("span",null,[ie(c(at),null,{default:ce(()=>[ie(c(Xo))]),_:1})]),Q("span",{class:L([c(I).e("editors-wrap"),"is-right"])},[Q("span",{class:L(c(I).e("time-picker-wrap"))},[ie(c(Mo),{size:"small",class:L(c(I).e("editor")),disabled:c(E).selecting,placeholder:c(P)("el.datepicker.endDate"),"model-value":c(W),readonly:!c(T),"validate-event":!1,onInput:x[5]||(x[5]=ee=>Ge(ee,"max")),onChange:x[6]||(x[6]=ee=>ot(ee,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Rt((N(),Y("span",{class:L(c(I).e("time-picker-wrap"))},[ie(c(Mo),{size:"small",class:L(c(I).e("editor")),disabled:c(E).selecting,placeholder:c(P)("el.datepicker.endTime"),"model-value":c(X),readonly:!c(T),"validate-event":!1,onFocus:x[7]||(x[7]=ee=>c(T)&&(ue.value=!0)),onInput:x[8]||(x[8]=ee=>q(ee,"max")),onChange:x[9]||(x[9]=ee=>et(ee,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ie(c(ng),{"datetime-role":"end",visible:ue.value,format:c(oe),"parsed-value":b.value,onPick:Et},null,8,["visible","format","parsed-value"])],2)),[[c(kr),ke]])],2)],2)):$e("v-if",!0),Q("div",{class:L([[c(y).e("content"),c(I).e("content")],"is-left"])},[Q("div",{class:L(c(I).e("header"))},[Q("button",{type:"button",class:L([c(y).e("icon-btn"),"d-arrow-left"]),"aria-label":c(P)("el.datepicker.prevYear"),onClick:Se},[ie(c(at),null,{default:ce(()=>[ie(c(bc))]),_:1})],10,SJ),Q("button",{type:"button",class:L([c(y).e("icon-btn"),"arrow-left"]),"aria-label":c(P)("el.datepicker.prevMonth"),onClick:Pe},[ie(c(at),null,{default:ce(()=>[ie(c(Cl))]),_:1})],10,IJ),A.unlinkPanels?(N(),Y("button",{key:0,type:"button",disabled:!c(he),class:L([[c(y).e("icon-btn"),{"is-disabled":!c(he)}],"d-arrow-right"]),"aria-label":c(P)("el.datepicker.nextYear"),onClick:_e},[ie(c(at),null,{default:ce(()=>[ie(c(Tc))]),_:1})],10,wJ)):$e("v-if",!0),A.unlinkPanels?(N(),Y("button",{key:1,type:"button",disabled:!c(ae),class:L([[c(y).e("icon-btn"),{"is-disabled":!c(ae)}],"arrow-right"]),"aria-label":c(P)("el.datepicker.nextMonth"),onClick:Ke},[ie(c(at),null,{default:ce(()=>[ie(c(Xo))]),_:1})],10,kJ)):$e("v-if",!0),Q("div",null,ze(c(F)),1)],2),ie(ay,{"selection-mode":"range",date:_.value,"min-date":c(T),"max-date":c($),"range-state":c(E),"disabled-date":c(l),"cell-class-name":c(a),onChangerange:c(C),onPick:De,onSelect:c(O)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Q("div",{class:L([[c(y).e("content"),c(I).e("content")],"is-right"])},[Q("div",{class:L(c(I).e("header"))},[A.unlinkPanels?(N(),Y("button",{key:0,type:"button",disabled:!c(he),class:L([[c(y).e("icon-btn"),{"is-disabled":!c(he)}],"d-arrow-left"]),"aria-label":c(P)("el.datepicker.prevYear"),onClick:ve},[ie(c(at),null,{default:ce(()=>[ie(c(bc))]),_:1})],10,OJ)):$e("v-if",!0),A.unlinkPanels?(N(),Y("button",{key:1,type:"button",disabled:!c(ae),class:L([[c(y).e("icon-btn"),{"is-disabled":!c(ae)}],"arrow-left"]),"aria-label":c(P)("el.datepicker.prevMonth"),onClick:Ne},[ie(c(at),null,{default:ce(()=>[ie(c(Cl))]),_:1})],10,RJ)):$e("v-if",!0),Q("button",{type:"button","aria-label":c(P)("el.datepicker.nextYear"),class:L([c(y).e("icon-btn"),"d-arrow-right"]),onClick:de},[ie(c(at),null,{default:ce(()=>[ie(c(Tc))]),_:1})],10,AJ),Q("button",{type:"button",class:L([c(y).e("icon-btn"),"arrow-right"]),"aria-label":c(P)("el.datepicker.nextMonth"),onClick:ye},[ie(c(at),null,{default:ce(()=>[ie(c(Xo))]),_:1})],10,NJ),Q("div",null,ze(c(B)),1)],2),ie(ay,{"selection-mode":"range",date:b.value,"min-date":c(T),"max-date":c($),"range-state":c(E),"disabled-date":c(l),"cell-class-name":c(a),onChangerange:c(C),onPick:De,onSelect:c(O)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),c(Fe)?(N(),Y("div",{key:0,class:L(c(y).e("footer"))},[c(h)?(N(),be(c(ro),{key:0,text:"",size:"small",class:L(c(y).e("link-btn")),onClick:Tt},{default:ce(()=>[Wt(ze(c(P)("el.datepicker.clear")),1)]),_:1},8,["class"])):$e("v-if",!0),ie(c(ro),{plain:"",size:"small",class:L(c(y).e("link-btn")),disabled:c(Ae),onClick:x[10]||(x[10]=ee=>c(S)(!1))},{default:ce(()=>[Wt(ze(c(P)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):$e("v-if",!0)],2))}});var MJ=We(LJ,[["__file","panel-date-range.vue"]]);const DJ=Ue({...fD}),PJ=["pick","set-picker-option","calendar-change"],xJ=({unlinkPanels:t,leftDate:n,rightDate:o})=>{const{t:i}=Yt(),l=()=>{n.value=n.value.subtract(1,"year"),t.value||(o.value=o.value.subtract(1,"year"))},a=()=>{t.value||(n.value=n.value.add(1,"year")),o.value=o.value.add(1,"year")},u=()=>{n.value=n.value.add(1,"year")},h=()=>{o.value=o.value.subtract(1,"year")},p=w(()=>`${n.value.year()} ${i("el.datepicker.year")}`),f=w(()=>`${o.value.year()} ${i("el.datepicker.year")}`),g=w(()=>n.value.year()),m=w(()=>o.value.year()===n.value.year()?n.value.year()+1:o.value.year());return{leftPrevYear:l,rightNextYear:a,leftNextYear:u,rightPrevYear:h,leftLabel:p,rightLabel:f,leftYear:g,rightYear:m}},BJ=["onClick"],FJ=["disabled"],HJ=["disabled"],im="year",VJ=ne({name:"DatePickerMonthRange"}),UJ=ne({...VJ,props:DJ,emits:PJ,setup(t,{emit:n}){const o=t,{lang:i}=Yt(),l=it("EP_PICKER_BASE"),{shortcuts:a,disabledDate:u}=l.props,h=on(l.props,"format"),p=on(l.props,"defaultValue"),f=V(Pt().locale(i.value)),g=V(Pt().locale(i.value).add(1,im)),{minDate:m,maxDate:_,rangeState:b,ppNs:T,drpNs:$,handleChangeRange:E,handleRangeConfirm:y,handleShortcutClick:I,onSelect:C}=gD(o,{defaultValue:p,leftDate:f,rightDate:g,unit:im,onParsedValueChanged:z}),S=w(()=>!!a.length),{leftPrevYear:R,rightNextYear:O,leftNextYear:P,rightPrevYear:M,leftLabel:H,rightLabel:F,leftYear:B,rightYear:K}=xJ({unlinkPanels:on(o,"unlinkPanels"),leftDate:f,rightDate:g}),te=w(()=>o.unlinkPanels&&K.value>B.value+1),Z=(G,W=!0)=>{const D=G.minDate,X=G.maxDate;_.value===X&&m.value===D||(n("calendar-change",[D.toDate(),X&&X.toDate()]),_.value=X,m.value=D,W&&y())},j=G=>G.map(W=>W.format(h.value));function z(G,W){if(o.unlinkPanels&&W){const D=(G==null?void 0:G.year())||0,X=W.year();g.value=D===X?W.add(1,im):W}else g.value=f.value.add(1,im)}return n("set-picker-option",["formatToString",j]),(G,W)=>(N(),Y("div",{class:L([c(T).b(),c($).b(),{"has-sidebar":!!G.$slots.sidebar||c(S)}])},[Q("div",{class:L(c(T).e("body-wrapper"))},[Te(G.$slots,"sidebar",{class:L(c(T).e("sidebar"))}),c(S)?(N(),Y("div",{key:0,class:L(c(T).e("sidebar"))},[(N(!0),Y(dt,null,zt(c(a),(D,X)=>(N(),Y("button",{key:X,type:"button",class:L(c(T).e("shortcut")),onClick:oe=>c(I)(D)},ze(D.text),11,BJ))),128))],2)):$e("v-if",!0),Q("div",{class:L(c(T).e("body"))},[Q("div",{class:L([[c(T).e("content"),c($).e("content")],"is-left"])},[Q("div",{class:L(c($).e("header"))},[Q("button",{type:"button",class:L([c(T).e("icon-btn"),"d-arrow-left"]),onClick:W[0]||(W[0]=(...D)=>c(R)&&c(R)(...D))},[ie(c(at),null,{default:ce(()=>[ie(c(bc))]),_:1})],2),G.unlinkPanels?(N(),Y("button",{key:0,type:"button",disabled:!c(te),class:L([[c(T).e("icon-btn"),{[c(T).is("disabled")]:!c(te)}],"d-arrow-right"]),onClick:W[1]||(W[1]=(...D)=>c(P)&&c(P)(...D))},[ie(c(at),null,{default:ce(()=>[ie(c(Tc))]),_:1})],10,FJ)):$e("v-if",!0),Q("div",null,ze(c(H)),1)],2),ie(uy,{"selection-mode":"range",date:f.value,"min-date":c(m),"max-date":c(_),"range-state":c(b),"disabled-date":c(u),onChangerange:c(E),onPick:Z,onSelect:c(C)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Q("div",{class:L([[c(T).e("content"),c($).e("content")],"is-right"])},[Q("div",{class:L(c($).e("header"))},[G.unlinkPanels?(N(),Y("button",{key:0,type:"button",disabled:!c(te),class:L([[c(T).e("icon-btn"),{"is-disabled":!c(te)}],"d-arrow-left"]),onClick:W[2]||(W[2]=(...D)=>c(M)&&c(M)(...D))},[ie(c(at),null,{default:ce(()=>[ie(c(bc))]),_:1})],10,HJ)):$e("v-if",!0),Q("button",{type:"button",class:L([c(T).e("icon-btn"),"d-arrow-right"]),onClick:W[3]||(W[3]=(...D)=>c(O)&&c(O)(...D))},[ie(c(at),null,{default:ce(()=>[ie(c(Tc))]),_:1})],2),Q("div",null,ze(c(F)),1)],2),ie(uy,{"selection-mode":"range",date:g.value,"min-date":c(m),"max-date":c(_),"range-state":c(b),"disabled-date":c(u),onChangerange:c(E),onPick:Z,onSelect:c(C)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var GJ=We(UJ,[["__file","panel-month-range.vue"]]);const WJ=function(t){switch(t){case"daterange":case"datetimerange":return MJ;case"monthrange":return GJ;default:return TJ}};Pt.extend(D1);Pt.extend(kq);Pt.extend(i0);Pt.extend(Rq);Pt.extend(Nq);Pt.extend(Mq);Pt.extend(Pq);Pt.extend(Bq);var zJ=ne({name:"ElDatePicker",install:null,props:Fq,emits:["update:modelValue"],setup(t,{expose:n,emit:o,slots:i}){const l=xe("picker-panel");Ut("ElPopperOptions",Qt(on(t,"popperOptions"))),Ut(a0,{slots:i,pickerNs:l});const a=V();n({focus:(p=!0)=>{var f;(f=a.value)==null||f.focus(p)},handleOpen:()=>{var p;(p=a.value)==null||p.handleOpen()},handleClose:()=>{var p;(p=a.value)==null||p.handleClose()}});const h=p=>{o("update:modelValue",p)};return()=>{var p;const f=(p=t.format)!=null?p:_Y[t.type]||qu,g=WJ(t.type);return ie(y1,Vt(t,{format:f,type:t.type,ref:a,"onUpdate:modelValue":h}),{default:m=>ie(g,m,null),"range-separator":i["range-separator"]})}}});const Sm=zJ;Sm.install=t=>{t.component(Sm.name,Sm)};const KJ=Sm,d0=Symbol("elDescriptions");var Yd=ne({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:it(d0,{})}},render(){var t,n,o,i,l,a,u;const h=dz(this.cell),p=(((t=this.cell)==null?void 0:t.dirs)||[]).map(R=>{const{dir:O,arg:P,modifiers:M,value:H}=R;return[O,H,P,M]}),{border:f,direction:g}=this.descriptions,m=g==="vertical",_=((i=(o=(n=this.cell)==null?void 0:n.children)==null?void 0:o.label)==null?void 0:i.call(o))||h.label,b=(u=(a=(l=this.cell)==null?void 0:l.children)==null?void 0:a.default)==null?void 0:u.call(a),T=h.span,$=h.align?`is-${h.align}`:"",E=h.labelAlign?`is-${h.labelAlign}`:$,y=h.className,I=h.labelClassName,C={width:Ln(h.width),minWidth:Ln(h.minWidth)},S=xe("descriptions");switch(this.type){case"label":return Rt(ft(this.tag,{style:C,class:[S.e("cell"),S.e("label"),S.is("bordered-label",f),S.is("vertical-label",m),E,I],colSpan:m?T:1},_),p);case"content":return Rt(ft(this.tag,{style:C,class:[S.e("cell"),S.e("content"),S.is("bordered-content",f),S.is("vertical-content",m),$,y],colSpan:m?T:T*2-1},b),p);default:return Rt(ft("td",{style:C,class:[S.e("cell"),$],colSpan:T},[io(_)?void 0:ft("span",{class:[S.e("label"),I]},_),ft("span",{class:[S.e("content"),y]},b)]),p)}}});const XJ=Ue({row:{type:fe(Array),default:()=>[]}}),YJ={key:1},jJ=ne({name:"ElDescriptionsRow"}),qJ=ne({...jJ,props:XJ,setup(t){const n=it(d0,{});return(o,i)=>c(n).direction==="vertical"?(N(),Y(dt,{key:0},[Q("tr",null,[(N(!0),Y(dt,null,zt(o.row,(l,a)=>(N(),be(c(Yd),{key:`tr1-${a}`,cell:l,tag:"th",type:"label"},null,8,["cell"]))),128))]),Q("tr",null,[(N(!0),Y(dt,null,zt(o.row,(l,a)=>(N(),be(c(Yd),{key:`tr2-${a}`,cell:l,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(N(),Y("tr",YJ,[(N(!0),Y(dt,null,zt(o.row,(l,a)=>(N(),Y(dt,{key:`tr3-${a}`},[c(n).border?(N(),Y(dt,{key:0},[ie(c(Yd),{cell:l,tag:"td",type:"label"},null,8,["cell"]),ie(c(Yd),{cell:l,tag:"td",type:"content"},null,8,["cell"])],64)):(N(),be(c(Yd),{key:1,cell:l,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var JJ=We(qJ,[["__file","descriptions-row.vue"]]);const ZJ=Ue({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:qn,title:{type:String,default:""},extra:{type:String,default:""}}),QJ=ne({name:"ElDescriptions"}),eZ=ne({...QJ,props:ZJ,setup(t){const n=t,o=xe("descriptions"),i=Kn(),l=ao();Ut(d0,n);const a=w(()=>[o.b(),o.m(i.value)]),u=(p,f,g,m=!1)=>(p.props||(p.props={}),f>g&&(p.props.span=g),m&&(p.props.span=f),p),h=()=>{if(!l.default)return[];const p=$l(l.default()).filter(b=>{var T;return((T=b==null?void 0:b.type)==null?void 0:T.name)==="ElDescriptionsItem"}),f=[];let g=[],m=n.column,_=0;return p.forEach((b,T)=>{var $;const E=(($=b.props)==null?void 0:$.span)||1;if(T<p.length-1&&(_+=E>m?m:E),T===p.length-1){const y=n.column-_%n.column;g.push(u(b,y,m,!0)),f.push(g);return}E<m?(m-=E,g.push(b)):(g.push(u(b,E,m)),f.push(g),m=n.column,g=[])}),f};return(p,f)=>(N(),Y("div",{class:L(c(a))},[p.title||p.extra||p.$slots.title||p.$slots.extra?(N(),Y("div",{key:0,class:L(c(o).e("header"))},[Q("div",{class:L(c(o).e("title"))},[Te(p.$slots,"title",{},()=>[Wt(ze(p.title),1)])],2),Q("div",{class:L(c(o).e("extra"))},[Te(p.$slots,"extra",{},()=>[Wt(ze(p.extra),1)])],2)],2)):$e("v-if",!0),Q("div",{class:L(c(o).e("body"))},[Q("table",{class:L([c(o).e("table"),c(o).is("bordered",p.border)])},[Q("tbody",null,[(N(!0),Y(dt,null,zt(h(),(g,m)=>(N(),be(JJ,{key:m,row:g},null,8,["row"]))),128))])],2)],2)],2))}});var tZ=We(eZ,[["__file","description.vue"]]);const nZ=Ue({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),$D=ne({name:"ElDescriptionsItem",props:nZ}),oZ=Dt(tZ,{DescriptionsItem:$D}),sZ=kn($D),iZ=Ue({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:fe([String,Array,Object])},zIndex:{type:fe([String,Number])}}),rZ={click:t=>t instanceof MouseEvent},lZ="overlay";var aZ=ne({name:"ElOverlay",props:iZ,emits:rZ,setup(t,{slots:n,emit:o}){const i=xe(lZ),l=p=>{o("click",p)},{onClick:a,onMousedown:u,onMouseup:h}=WE(t.customMaskEvent?void 0:l);return()=>t.mask?ie("div",{class:[i.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:a,onMousedown:u,onMouseup:h},[Te(n,"default")],Ds.STYLE|Ds.CLASS|Ds.PROPS,["onClick","onMouseup","onMousedown"]):ft("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Te(n,"default")])}});const h0=aZ,vD=Symbol("dialogInjectionKey"),_D=Ue({center:Boolean,alignCenter:Boolean,closeIcon:{type:ln},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),uZ={close:()=>!0},cZ=["aria-level"],dZ=["aria-label"],hZ=["id"],pZ=ne({name:"ElDialogContent"}),fZ=ne({...pZ,props:_D,emits:uZ,setup(t){const n=t,{t:o}=Yt(),{Close:i}=OE,{dialogRef:l,headerRef:a,bodyId:u,ns:h,style:p}=it(vD),{focusTrapRef:f}=it(n0),g=w(()=>[h.b(),h.is("fullscreen",n.fullscreen),h.is("draggable",n.draggable),h.is("align-center",n.alignCenter),{[h.m("center")]:n.center}]),m=Mg(f,l),_=w(()=>n.draggable),b=w(()=>n.overflow);return pM(l,a,_,b),(T,$)=>(N(),Y("div",{ref:c(m),class:L(c(g)),style:ct(c(p)),tabindex:"-1"},[Q("header",{ref_key:"headerRef",ref:a,class:L([c(h).e("header"),{"show-close":T.showClose}])},[Te(T.$slots,"header",{},()=>[Q("span",{role:"heading","aria-level":T.ariaLevel,class:L(c(h).e("title"))},ze(T.title),11,cZ)]),T.showClose?(N(),Y("button",{key:0,"aria-label":c(o)("el.dialog.close"),class:L(c(h).e("headerbtn")),type:"button",onClick:$[0]||($[0]=E=>T.$emit("close"))},[ie(c(at),{class:L(c(h).e("close"))},{default:ce(()=>[(N(),be(Ft(T.closeIcon||c(i))))]),_:1},8,["class"])],10,dZ)):$e("v-if",!0)],2),Q("div",{id:c(u),class:L(c(h).e("body"))},[Te(T.$slots,"default")],10,hZ),T.$slots.footer?(N(),Y("footer",{key:0,class:L(c(h).e("footer"))},[Te(T.$slots,"footer")],2)):$e("v-if",!0)],6))}});var mZ=We(fZ,[["__file","dialog-content.vue"]]);const bD=Ue({..._D,appendToBody:Boolean,appendTo:{type:fe(String),default:"body"},beforeClose:{type:fe(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),TD={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Bt]:t=>Hn(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},yD=(t,n)=>{var o;const l=Mt().emit,{nextZIndex:a}=Vc();let u="";const h=So(),p=So(),f=V(!1),g=V(!1),m=V(!1),_=V((o=t.zIndex)!=null?o:a());let b,T;const $=ip("namespace",dh),E=w(()=>{const j={},z=`--${$.value}-dialog`;return t.fullscreen||(t.top&&(j[`${z}-margin-top`]=t.top),t.width&&(j[`${z}-width`]=Ln(t.width))),j}),y=w(()=>t.alignCenter?{display:"flex"}:{});function I(){l("opened")}function C(){l("closed"),l(Bt,!1),t.destroyOnClose&&(m.value=!1)}function S(){l("close")}function R(){T==null||T(),b==null||b(),t.openDelay&&t.openDelay>0?{stop:b}=Da(()=>H(),t.openDelay):H()}function O(){b==null||b(),T==null||T(),t.closeDelay&&t.closeDelay>0?{stop:T}=Da(()=>F(),t.closeDelay):F()}function P(){function j(z){z||(g.value=!0,f.value=!1)}t.beforeClose?t.beforeClose(j):O()}function M(){t.closeOnClickModal&&P()}function H(){Kt&&(f.value=!0)}function F(){f.value=!1}function B(){l("openAutoFocus")}function K(){l("closeAutoFocus")}function te(j){var z;((z=j.detail)==null?void 0:z.focusReason)==="pointer"&&j.preventDefault()}t.lockScroll&&DE(f);function Z(){t.closeOnPressEscape&&P()}return Me(()=>t.modelValue,j=>{j?(g.value=!1,R(),m.value=!0,_.value=eM(t.zIndex)?a():_.value++,pt(()=>{l("open"),n.value&&(n.value.scrollTop=0)})):f.value&&O()}),Me(()=>t.fullscreen,j=>{n.value&&(j?(u=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=u)}),At(()=>{t.modelValue&&(f.value=!0,m.value=!0,R())}),{afterEnter:I,afterLeave:C,beforeLeave:S,handleClose:P,onModalClick:M,close:O,doClose:F,onOpenAutoFocus:B,onCloseAutoFocus:K,onCloseRequested:Z,onFocusoutPrevented:te,titleId:h,bodyId:p,closed:g,style:E,overlayDialogStyle:y,rendered:m,visible:f,zIndex:_}},gZ=["aria-label","aria-labelledby","aria-describedby"],$Z=ne({name:"ElDialog",inheritAttrs:!1}),vZ=ne({...$Z,props:bD,emits:TD,setup(t,{expose:n}){const o=t,i=ao();Qn({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},w(()=>!!i.title));const l=xe("dialog"),a=V(),u=V(),h=V(),{visible:p,titleId:f,bodyId:g,style:m,overlayDialogStyle:_,rendered:b,zIndex:T,afterEnter:$,afterLeave:E,beforeLeave:y,handleClose:I,onModalClick:C,onOpenAutoFocus:S,onCloseAutoFocus:R,onCloseRequested:O,onFocusoutPrevented:P}=yD(o,a);Ut(vD,{dialogRef:a,headerRef:u,bodyId:g,ns:l,rendered:b,style:m});const M=WE(C),H=w(()=>o.draggable&&!o.fullscreen);return n({visible:p,dialogContentRef:h}),(F,B)=>(N(),be(Dc,{to:F.appendTo,disabled:F.appendTo!=="body"?!1:!F.appendToBody},[ie(Yn,{name:"dialog-fade",onAfterEnter:c($),onAfterLeave:c(E),onBeforeLeave:c(y),persisted:""},{default:ce(()=>[Rt(ie(c(h0),{"custom-mask-event":"",mask:F.modal,"overlay-class":F.modalClass,"z-index":c(T)},{default:ce(()=>[Q("div",{role:"dialog","aria-modal":"true","aria-label":F.title||void 0,"aria-labelledby":F.title?void 0:c(f),"aria-describedby":c(g),class:L(`${c(l).namespace.value}-overlay-dialog`),style:ct(c(_)),onClick:B[0]||(B[0]=(...K)=>c(M).onClick&&c(M).onClick(...K)),onMousedown:B[1]||(B[1]=(...K)=>c(M).onMousedown&&c(M).onMousedown(...K)),onMouseup:B[2]||(B[2]=(...K)=>c(M).onMouseup&&c(M).onMouseup(...K))},[ie(c(lp),{loop:"",trapped:c(p),"focus-start-el":"container",onFocusAfterTrapped:c(S),onFocusAfterReleased:c(R),onFocusoutPrevented:c(P),onReleaseRequested:c(O)},{default:ce(()=>[c(b)?(N(),be(mZ,Vt({key:0,ref_key:"dialogContentRef",ref:h},F.$attrs,{center:F.center,"align-center":F.alignCenter,"close-icon":F.closeIcon,draggable:c(H),overflow:F.overflow,fullscreen:F.fullscreen,"show-close":F.showClose,title:F.title,"aria-level":F.headerAriaLevel,onClose:c(I)}),Sr({header:ce(()=>[F.$slots.title?Te(F.$slots,"title",{key:1}):Te(F.$slots,"header",{key:0,close:c(I),titleId:c(f),titleClass:c(l).e("title")})]),default:ce(()=>[Te(F.$slots,"default")]),_:2},[F.$slots.footer?{name:"footer",fn:ce(()=>[Te(F.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):$e("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,gZ)]),_:3},8,["mask","overlay-class","z-index"]),[[qt,c(p)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var _Z=We(vZ,[["__file","dialog.vue"]]);const bZ=Dt(_Z),TZ=Ue({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:fe(String),default:"solid"}}),yZ=ne({name:"ElDivider"}),EZ=ne({...yZ,props:TZ,setup(t){const n=t,o=xe("divider"),i=w(()=>o.cssVar({"border-style":n.borderStyle}));return(l,a)=>(N(),Y("div",{class:L([c(o).b(),c(o).m(l.direction)]),style:ct(c(i)),role:"separator"},[l.$slots.default&&l.direction!=="vertical"?(N(),Y("div",{key:0,class:L([c(o).e("text"),c(o).is(l.contentPosition)])},[Te(l.$slots,"default")],2)):$e("v-if",!0)],6))}});var CZ=We(EZ,[["__file","divider.vue"]]);const ED=Dt(CZ),SZ=Ue({...bD,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),IZ=TD,wZ=["aria-label","aria-labelledby","aria-describedby"],kZ=["id","aria-level"],OZ=["aria-label"],RZ=["id"],AZ=ne({name:"ElDrawer",inheritAttrs:!1}),NZ=ne({...AZ,props:SZ,emits:IZ,setup(t,{expose:n}){const o=t,i=ao();Qn({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},w(()=>!!i.title));const l=V(),a=V(),u=xe("drawer"),{t:h}=Yt(),{afterEnter:p,afterLeave:f,beforeLeave:g,visible:m,rendered:_,titleId:b,bodyId:T,zIndex:$,onModalClick:E,onOpenAutoFocus:y,onCloseAutoFocus:I,onFocusoutPrevented:C,onCloseRequested:S,handleClose:R}=yD(o,l),O=w(()=>o.direction==="rtl"||o.direction==="ltr"),P=w(()=>Ln(o.size));return n({handleClose:R,afterEnter:p,afterLeave:f}),(M,H)=>(N(),be(Dc,{to:"body",disabled:!M.appendToBody},[ie(Yn,{name:c(u).b("fade"),onAfterEnter:c(p),onAfterLeave:c(f),onBeforeLeave:c(g),persisted:""},{default:ce(()=>[Rt(ie(c(h0),{mask:M.modal,"overlay-class":M.modalClass,"z-index":c($),onClick:c(E)},{default:ce(()=>[ie(c(lp),{loop:"",trapped:c(m),"focus-trap-el":l.value,"focus-start-el":a.value,onFocusAfterTrapped:c(y),onFocusAfterReleased:c(I),onFocusoutPrevented:c(C),onReleaseRequested:c(S)},{default:ce(()=>[Q("div",Vt({ref_key:"drawerRef",ref:l,"aria-modal":"true","aria-label":M.title||void 0,"aria-labelledby":M.title?void 0:c(b),"aria-describedby":c(T)},M.$attrs,{class:[c(u).b(),M.direction,c(m)&&"open"],style:c(O)?"width: "+c(P):"height: "+c(P),role:"dialog",onClick:H[1]||(H[1]=bt(()=>{},["stop"]))}),[Q("span",{ref_key:"focusStartRef",ref:a,class:L(c(u).e("sr-focus")),tabindex:"-1"},null,2),M.withHeader?(N(),Y("header",{key:0,class:L(c(u).e("header"))},[M.$slots.title?Te(M.$slots,"title",{key:1},()=>[$e(" DEPRECATED SLOT ")]):Te(M.$slots,"header",{key:0,close:c(R),titleId:c(b),titleClass:c(u).e("title")},()=>[M.$slots.title?$e("v-if",!0):(N(),Y("span",{key:0,id:c(b),role:"heading","aria-level":M.headerAriaLevel,class:L(c(u).e("title"))},ze(M.title),11,kZ))]),M.showClose?(N(),Y("button",{key:2,"aria-label":c(h)("el.drawer.close"),class:L(c(u).e("close-btn")),type:"button",onClick:H[0]||(H[0]=(...F)=>c(R)&&c(R)(...F))},[ie(c(at),{class:L(c(u).e("close"))},{default:ce(()=>[ie(c(hi))]),_:1},8,["class"])],10,OZ)):$e("v-if",!0)],2)):$e("v-if",!0),c(_)?(N(),Y("div",{key:1,id:c(T),class:L(c(u).e("body"))},[Te(M.$slots,"default")],10,RZ)):$e("v-if",!0),M.$slots.footer?(N(),Y("div",{key:2,class:L(c(u).e("footer"))},[Te(M.$slots,"footer")],2)):$e("v-if",!0)],16,wZ)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[qt,c(m)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var LZ=We(NZ,[["__file","drawer.vue"]]);const MZ=Dt(LZ),DZ=ne({inheritAttrs:!1});function PZ(t,n,o,i,l,a){return Te(t.$slots,"default")}var xZ=We(DZ,[["render",PZ],["__file","collection.vue"]]);const BZ=ne({name:"ElCollectionItem",inheritAttrs:!1});function FZ(t,n,o,i,l,a){return Te(t.$slots,"default")}var HZ=We(BZ,[["render",FZ],["__file","collection-item.vue"]]);const CD="data-el-collection-item",SD=t=>{const n=`El${t}Collection`,o=`${n}Item`,i=Symbol(n),l=Symbol(o),a={...xZ,name:n,setup(){const h=V(null),p=new Map;Ut(i,{itemMap:p,getItems:()=>{const g=c(h);if(!g)return[];const m=Array.from(g.querySelectorAll(`[${CD}]`));return[...p.values()].sort((b,T)=>m.indexOf(b.ref)-m.indexOf(T.ref))},collectionRef:h})}},u={...HZ,name:o,setup(h,{attrs:p}){const f=V(null),g=it(i,void 0);Ut(l,{collectionItemRef:f}),At(()=>{const m=c(f);m&&g.itemMap.set(m,{ref:m,...p})}),fn(()=>{const m=c(f);g.itemMap.delete(m)})}};return{COLLECTION_INJECTION_KEY:i,COLLECTION_ITEM_INJECTION_KEY:l,ElCollection:a,ElCollectionItem:u}},VZ=Ue({style:{type:fe([String,Array,Object])},currentTabId:{type:fe(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:fe(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:UZ,ElCollectionItem:GZ,COLLECTION_INJECTION_KEY:p0,COLLECTION_ITEM_INJECTION_KEY:WZ}=SD("RovingFocusGroup"),f0=Symbol("elRovingFocusGroup"),ID=Symbol("elRovingFocusGroupItem"),zZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},KZ=(t,n)=>t,XZ=(t,n,o)=>{const i=KZ(t.key);return zZ[i]},YZ=(t,n)=>t.map((o,i)=>t[(i+n)%t.length]),m0=t=>{const{activeElement:n}=document;for(const o of t)if(o===n||(o.focus(),n!==document.activeElement))return},nA="currentTabIdChange",oA="rovingFocusGroup.entryFocus",jZ={bubbles:!1,cancelable:!0},qZ=ne({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:VZ,emits:[nA,"entryFocus"],setup(t,{emit:n}){var o;const i=V((o=t.currentTabId||t.defaultCurrentTabId)!=null?o:null),l=V(!1),a=V(!1),u=V(null),{getItems:h}=it(p0,void 0),p=w(()=>[{outline:"none"},t.style]),f=$=>{n(nA,$)},g=()=>{l.value=!0},m=Nn($=>{var E;(E=t.onMousedown)==null||E.call(t,$)},()=>{a.value=!0}),_=Nn($=>{var E;(E=t.onFocus)==null||E.call(t,$)},$=>{const E=!c(a),{target:y,currentTarget:I}=$;if(y===I&&E&&!c(l)){const C=new Event(oA,jZ);if(I==null||I.dispatchEvent(C),!C.defaultPrevented){const S=h().filter(H=>H.focusable),R=S.find(H=>H.active),O=S.find(H=>H.id===c(i)),M=[R,O,...S].filter(Boolean).map(H=>H.ref);m0(M)}}a.value=!1}),b=Nn($=>{var E;(E=t.onBlur)==null||E.call(t,$)},()=>{l.value=!1}),T=(...$)=>{n("entryFocus",...$)};Ut(f0,{currentTabbedId:Mc(i),loop:on(t,"loop"),tabIndex:w(()=>c(l)?-1:0),rovingFocusGroupRef:u,rovingFocusGroupRootStyle:p,orientation:on(t,"orientation"),dir:on(t,"dir"),onItemFocus:f,onItemShiftTab:g,onBlur:b,onFocus:_,onMousedown:m}),Me(()=>t.currentTabId,$=>{i.value=$??null}),gn(u,oA,T)}});function JZ(t,n,o,i,l,a){return Te(t.$slots,"default")}var ZZ=We(qZ,[["render",JZ],["__file","roving-focus-group-impl.vue"]]);const QZ=ne({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:UZ,ElRovingFocusGroupImpl:ZZ}});function eQ(t,n,o,i,l,a){const u=Nt("el-roving-focus-group-impl"),h=Nt("el-focus-group-collection");return N(),be(h,null,{default:ce(()=>[ie(u,Tr(fc(t.$attrs)),{default:ce(()=>[Te(t.$slots,"default")]),_:3},16)]),_:3})}var tQ=We(QZ,[["render",eQ],["__file","roving-focus-group.vue"]]);const nQ=ne({components:{ElRovingFocusCollectionItem:GZ},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:n}){const{currentTabbedId:o,loop:i,onItemFocus:l,onItemShiftTab:a}=it(f0,void 0),{getItems:u}=it(p0,void 0),h=So(),p=V(null),f=Nn(b=>{n("mousedown",b)},b=>{t.focusable?l(c(h)):b.preventDefault()}),g=Nn(b=>{n("focus",b)},()=>{l(c(h))}),m=Nn(b=>{n("keydown",b)},b=>{const{key:T,shiftKey:$,target:E,currentTarget:y}=b;if(T===mt.tab&&$){a();return}if(E!==y)return;const I=XZ(b);if(I){b.preventDefault();let S=u().filter(R=>R.focusable).map(R=>R.ref);switch(I){case"last":{S.reverse();break}case"prev":case"next":{I==="prev"&&S.reverse();const R=S.indexOf(y);S=i.value?YZ(S,R+1):S.slice(R+1);break}}pt(()=>{m0(S)})}}),_=w(()=>o.value===c(h));return Ut(ID,{rovingFocusGroupItemRef:p,tabIndex:w(()=>c(_)?0:-1),handleMousedown:f,handleFocus:g,handleKeydown:m}),{id:h,handleKeydown:m,handleFocus:g,handleMousedown:f}}});function oQ(t,n,o,i,l,a){const u=Nt("el-roving-focus-collection-item");return N(),be(u,{id:t.id,focusable:t.focusable,active:t.active},{default:ce(()=>[Te(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var sQ=We(nQ,[["render",oQ],["__file","roving-focus-item.vue"]]);const Im=Ue({trigger:Mh.trigger,effect:{...so.effect,default:"light"},type:{type:fe(String)},placement:{type:fe(String),default:"bottom"},popperOptions:{type:fe(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:fe([Number,String]),default:0},maxHeight:{type:fe([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:fe(Object)},teleported:so.teleported}),wD=Ue({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:ln}}),iQ=Ue({onKeydown:{type:fe(Function)}}),rQ=[mt.down,mt.pageDown,mt.home],kD=[mt.up,mt.pageUp,mt.end],lQ=[...rQ,...kD],{ElCollection:aQ,ElCollectionItem:uQ,COLLECTION_INJECTION_KEY:cQ,COLLECTION_ITEM_INJECTION_KEY:dQ}=SD("Dropdown"),zg=Symbol("elDropdown"),{ButtonGroup:hQ}=ro,pQ=ne({name:"ElDropdown",components:{ElButton:ro,ElButtonGroup:hQ,ElScrollbar:Dr,ElDropdownCollection:aQ,ElTooltip:xo,ElRovingFocusGroup:tQ,ElOnlyChild:e1,ElIcon:at,ArrowDown:Lr},props:Im,emits:["visible-change","click","command"],setup(t,{emit:n}){const o=Mt(),i=xe("dropdown"),{t:l}=Yt(),a=V(),u=V(),h=V(null),p=V(null),f=V(null),g=V(null),m=V(!1),_=[mt.enter,mt.space,mt.down],b=w(()=>({maxHeight:Ln(t.maxHeight)})),T=w(()=>[i.m(R.value)]),$=w(()=>yl(t.trigger)),E=So().value,y=w(()=>t.id||E);Me([a,$],([G,W],[D])=>{var X,oe,le;(X=D==null?void 0:D.$el)!=null&&X.removeEventListener&&D.$el.removeEventListener("pointerenter",P),(oe=G==null?void 0:G.$el)!=null&&oe.removeEventListener&&G.$el.removeEventListener("pointerenter",P),(le=G==null?void 0:G.$el)!=null&&le.addEventListener&&W.includes("hover")&&G.$el.addEventListener("pointerenter",P)},{immediate:!0}),fn(()=>{var G,W;(W=(G=a.value)==null?void 0:G.$el)!=null&&W.removeEventListener&&a.value.$el.removeEventListener("pointerenter",P)});function I(){C()}function C(){var G;(G=h.value)==null||G.onClose()}function S(){var G;(G=h.value)==null||G.onOpen()}const R=Kn();function O(...G){n("command",...G)}function P(){var G,W;(W=(G=a.value)==null?void 0:G.$el)==null||W.focus()}function M(){}function H(){const G=c(p);$.value.includes("hover")&&(G==null||G.focus()),g.value=null}function F(G){g.value=G}function B(G){m.value||(G.preventDefault(),G.stopImmediatePropagation())}function K(){n("visible-change",!0)}function te(G){(G==null?void 0:G.type)==="keydown"&&p.value.focus()}function Z(){n("visible-change",!1)}return Ut(zg,{contentRef:p,role:w(()=>t.role),triggerId:y,isUsingKeyboard:m,onItemEnter:M,onItemLeave:H}),Ut("elDropdown",{instance:o,dropdownSize:R,handleClick:I,commandHandler:O,trigger:on(t,"trigger"),hideOnClick:on(t,"hideOnClick")}),{t:l,ns:i,scrollbar:f,wrapStyle:b,dropdownTriggerKls:T,dropdownSize:R,triggerId:y,triggerKeys:_,currentTabId:g,handleCurrentTabIdChange:F,handlerMainButtonClick:G=>{n("click",G)},handleEntryFocus:B,handleClose:C,handleOpen:S,handleBeforeShowTooltip:K,handleShowTooltip:te,handleBeforeHideTooltip:Z,onFocusAfterTrapped:G=>{var W,D;G.preventDefault(),(D=(W=p.value)==null?void 0:W.focus)==null||D.call(W,{preventScroll:!0})},popperRef:h,contentRef:p,triggeringElementRef:a,referenceElementRef:u}}});function fQ(t,n,o,i,l,a){var u;const h=Nt("el-dropdown-collection"),p=Nt("el-roving-focus-group"),f=Nt("el-scrollbar"),g=Nt("el-only-child"),m=Nt("el-tooltip"),_=Nt("el-button"),b=Nt("arrow-down"),T=Nt("el-icon"),$=Nt("el-button-group");return N(),Y("div",{class:L([t.ns.b(),t.ns.is("disabled",t.disabled)])},[ie(m,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(u=t.referenceElementRef)==null?void 0:u.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},Sr({content:ce(()=>[ie(f,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:ce(()=>[ie(p,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:ce(()=>[ie(h,null,{default:ce(()=>[Te(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:ce(()=>[ie(g,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:ce(()=>[Te(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(N(),be($,{key:0},{default:ce(()=>[ie(_,Vt({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:ce(()=>[Te(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ie(_,Vt({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:ce(()=>[ie(T,{class:L(t.ns.e("icon"))},{default:ce(()=>[ie(b)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):$e("v-if",!0)],2)}var mQ=We(pQ,[["render",fQ],["__file","dropdown.vue"]]);const gQ=ne({name:"DropdownItemImpl",components:{ElIcon:at},props:wD,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:n}){const o=xe("dropdown"),{role:i}=it(zg,void 0),{collectionItemRef:l}=it(dQ,void 0),{collectionItemRef:a}=it(WZ,void 0),{rovingFocusGroupItemRef:u,tabIndex:h,handleFocus:p,handleKeydown:f,handleMousedown:g}=it(ID,void 0),m=Mg(l,a,u),_=w(()=>i.value==="menu"?"menuitem":i.value==="navigation"?"link":"button"),b=Nn(T=>{const{code:$}=T;if($===mt.enter||$===mt.space)return T.preventDefault(),T.stopImmediatePropagation(),n("clickimpl",T),!0},f);return{ns:o,itemRef:m,dataset:{[CD]:""},role:_,tabIndex:h,handleFocus:p,handleKeydown:b,handleMousedown:g}}}),$Q=["aria-disabled","tabindex","role"];function vQ(t,n,o,i,l,a){const u=Nt("el-icon");return N(),Y(dt,null,[t.divided?(N(),Y("li",Vt({key:0,role:"separator",class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):$e("v-if",!0),Q("li",Vt({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:n[0]||(n[0]=h=>t.$emit("clickimpl",h)),onFocus:n[1]||(n[1]=(...h)=>t.handleFocus&&t.handleFocus(...h)),onKeydown:n[2]||(n[2]=bt((...h)=>t.handleKeydown&&t.handleKeydown(...h),["self"])),onMousedown:n[3]||(n[3]=(...h)=>t.handleMousedown&&t.handleMousedown(...h)),onPointermove:n[4]||(n[4]=h=>t.$emit("pointermove",h)),onPointerleave:n[5]||(n[5]=h=>t.$emit("pointerleave",h))}),[t.icon?(N(),be(u,{key:0},{default:ce(()=>[(N(),be(Ft(t.icon)))]),_:1})):$e("v-if",!0),Te(t.$slots,"default")],16,$Q)],64)}var _Q=We(gQ,[["render",vQ],["__file","dropdown-item-impl.vue"]]);const OD=()=>{const t=it("elDropdown",{}),n=w(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:n}},bQ=ne({name:"ElDropdownItem",components:{ElDropdownCollectionItem:uQ,ElRovingFocusItem:sQ,ElDropdownItemImpl:_Q},inheritAttrs:!1,props:wD,emits:["pointermove","pointerleave","click"],setup(t,{emit:n,attrs:o}){const{elDropdown:i}=OD(),l=Mt(),a=V(null),u=w(()=>{var b,T;return(T=(b=c(a))==null?void 0:b.textContent)!=null?T:""}),{onItemEnter:h,onItemLeave:p}=it(zg,void 0),f=Nn(b=>(n("pointermove",b),b.defaultPrevented),Zk(b=>{if(t.disabled){p(b);return}const T=b.currentTarget;T===document.activeElement||T.contains(document.activeElement)||(h(b),b.defaultPrevented||T==null||T.focus())})),g=Nn(b=>(n("pointerleave",b),b.defaultPrevented),Zk(b=>{p(b)})),m=Nn(b=>{if(!t.disabled)return n("click",b),b.type!=="keydown"&&b.defaultPrevented},b=>{var T,$,E;if(t.disabled){b.stopImmediatePropagation();return}(T=i==null?void 0:i.hideOnClick)!=null&&T.value&&(($=i.handleClick)==null||$.call(i)),(E=i.commandHandler)==null||E.call(i,t.command,l,b)}),_=w(()=>({...t,...o}));return{handleClick:m,handlePointerMove:f,handlePointerLeave:g,textContent:u,propsAndAttrs:_}}});function TQ(t,n,o,i,l,a){var u;const h=Nt("el-dropdown-item-impl"),p=Nt("el-roving-focus-item"),f=Nt("el-dropdown-collection-item");return N(),be(f,{disabled:t.disabled,"text-value":(u=t.textValue)!=null?u:t.textContent},{default:ce(()=>[ie(p,{focusable:!t.disabled},{default:ce(()=>[ie(h,Vt(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:ce(()=>[Te(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var RD=We(bQ,[["render",TQ],["__file","dropdown-item.vue"]]);const yQ=ne({name:"ElDropdownMenu",props:iQ,setup(t){const n=xe("dropdown"),{_elDropdownSize:o}=OD(),i=o.value,{focusTrapRef:l,onKeydown:a}=it(n0,void 0),{contentRef:u,role:h,triggerId:p}=it(zg,void 0),{collectionRef:f,getItems:g}=it(cQ,void 0),{rovingFocusGroupRef:m,rovingFocusGroupRootStyle:_,tabIndex:b,onBlur:T,onFocus:$,onMousedown:E}=it(f0,void 0),{collectionRef:y}=it(p0,void 0),I=w(()=>[n.b("menu"),n.bm("menu",i==null?void 0:i.value)]),C=Mg(u,f,l,m,y),S=Nn(O=>{var P;(P=t.onKeydown)==null||P.call(t,O)},O=>{const{currentTarget:P,code:M,target:H}=O;if(P.contains(H),mt.tab===M&&O.stopImmediatePropagation(),O.preventDefault(),H!==c(u)||!lQ.includes(M))return;const B=g().filter(K=>!K.disabled).map(K=>K.ref);kD.includes(M)&&B.reverse(),m0(B)});return{size:i,rovingFocusGroupRootStyle:_,tabIndex:b,dropdownKls:I,role:h,triggerId:p,dropdownListWrapperRef:C,handleKeydown:O=>{S(O),a(O)},onBlur:T,onFocus:$,onMousedown:E}}}),EQ=["role","aria-labelledby"];function CQ(t,n,o,i,l,a){return N(),Y("ul",{ref:t.dropdownListWrapperRef,class:L(t.dropdownKls),style:ct(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:n[0]||(n[0]=(...u)=>t.onBlur&&t.onBlur(...u)),onFocus:n[1]||(n[1]=(...u)=>t.onFocus&&t.onFocus(...u)),onKeydown:n[2]||(n[2]=bt((...u)=>t.handleKeydown&&t.handleKeydown(...u),["self"])),onMousedown:n[3]||(n[3]=bt((...u)=>t.onMousedown&&t.onMousedown(...u),["self"]))},[Te(t.$slots,"default")],46,EQ)}var AD=We(yQ,[["render",CQ],["__file","dropdown-menu.vue"]]);const SQ=Dt(mQ,{DropdownItem:RD,DropdownMenu:AD}),IQ=kn(RD),wQ=kn(AD),kQ={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},OQ=["id"],RQ=["stop-color"],AQ=["stop-color"],NQ=["id"],LQ=["stop-color"],MQ=["stop-color"],DQ=["id"],PQ={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},xQ={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},BQ={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},FQ=["fill"],HQ=["fill"],VQ={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},UQ=["fill"],GQ=["fill"],WQ=["fill"],zQ=["fill"],KQ=["fill"],XQ={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},YQ=["fill","xlink:href"],jQ=["fill","mask"],qQ=["fill"],JQ=ne({name:"ImgEmpty"}),ZQ=ne({...JQ,setup(t){const n=xe("empty"),o=So();return(i,l)=>(N(),Y("svg",kQ,[Q("defs",null,[Q("linearGradient",{id:`linearGradient-1-${c(o)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Q("stop",{"stop-color":`var(${c(n).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,RQ),Q("stop",{"stop-color":`var(${c(n).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,AQ)],8,OQ),Q("linearGradient",{id:`linearGradient-2-${c(o)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Q("stop",{"stop-color":`var(${c(n).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,LQ),Q("stop",{"stop-color":`var(${c(n).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,MQ)],8,NQ),Q("rect",{id:`path-3-${c(o)}`,x:"0",y:"0",width:"17",height:"36"},null,8,DQ)]),Q("g",PQ,[Q("g",xQ,[Q("g",BQ,[Q("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${c(n).cssVarBlockName("fill-color-3")})`},null,8,FQ),Q("polygon",{id:"Rectangle-Copy-14",fill:`var(${c(n).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,HQ),Q("g",VQ,[Q("polygon",{id:"Rectangle-Copy-10",fill:`var(${c(n).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,UQ),Q("polygon",{id:"Rectangle-Copy-11",fill:`var(${c(n).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,GQ),Q("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${c(o)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,WQ),Q("polygon",{id:"Rectangle-Copy-13",fill:`var(${c(n).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,zQ)]),Q("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${c(o)})`,x:"13",y:"45",width:"40",height:"36"},null,8,KQ),Q("g",XQ,[Q("use",{id:"Mask",fill:`var(${c(n).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${c(o)}`},null,8,YQ),Q("polygon",{id:"Rectangle-Copy",fill:`var(${c(n).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${c(o)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,jQ)]),Q("polygon",{id:"Rectangle-Copy-18",fill:`var(${c(n).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,qQ)])])])]))}});var QQ=We(ZQ,[["__file","img-empty.vue"]]);const eee=Ue({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),tee=["src"],nee={key:1},oee=ne({name:"ElEmpty"}),see=ne({...oee,props:eee,setup(t){const n=t,{t:o}=Yt(),i=xe("empty"),l=w(()=>n.description||o("el.table.emptyText")),a=w(()=>({width:Ln(n.imageSize)}));return(u,h)=>(N(),Y("div",{class:L(c(i).b())},[Q("div",{class:L(c(i).e("image")),style:ct(c(a))},[u.image?(N(),Y("img",{key:0,src:u.image,ondragstart:"return false"},null,8,tee)):Te(u.$slots,"image",{key:1},()=>[ie(QQ)])],6),Q("div",{class:L(c(i).e("description"))},[u.$slots.description?Te(u.$slots,"description",{key:0}):(N(),Y("p",nee,ze(c(l)),1))],2),u.$slots.default?(N(),Y("div",{key:0,class:L(c(i).e("bottom"))},[Te(u.$slots,"default")],2)):$e("v-if",!0)],2))}});var iee=We(see,[["__file","empty.vue"]]);const ND=Dt(iee),ree=Ue({urlList:{type:fe(Array),default:()=>wn([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:fe(String)}}),lee={close:()=>!0,switch:t=>$t(t),rotate:t=>$t(t)},aee=["src","crossorigin"],uee=ne({name:"ElImageViewer"}),cee=ne({...uee,props:ree,emits:lee,setup(t,{expose:n,emit:o}){var i;const l=t,a={CONTAIN:{name:"contain",icon:sc(C4)},ORIGINAL:{name:"original",icon:sc(W4)}},{t:u}=Yt(),h=xe("image-viewer"),{nextZIndex:p}=Vc(),f=V(),g=V([]),m=CB(),_=V(!0),b=V(l.initialIndex),T=_n(a.CONTAIN),$=V({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),E=V((i=l.zIndex)!=null?i:p()),y=w(()=>{const{urlList:X}=l;return X.length<=1}),I=w(()=>b.value===0),C=w(()=>b.value===l.urlList.length-1),S=w(()=>l.urlList[b.value]),R=w(()=>[h.e("btn"),h.e("prev"),h.is("disabled",!l.infinite&&I.value)]),O=w(()=>[h.e("btn"),h.e("next"),h.is("disabled",!l.infinite&&C.value)]),P=w(()=>{const{scale:X,deg:oe,offsetX:le,offsetY:me,enableTransition:Se}=$.value;let Pe=le/X,de=me/X;switch(oe%360){case 90:case-270:[Pe,de]=[de,-Pe];break;case 180:case-180:[Pe,de]=[-Pe,-de];break;case 270:case-90:[Pe,de]=[-de,Pe];break}const ye={transform:`scale(${X}) rotate(${oe}deg) translate(${Pe}px, ${de}px)`,transition:Se?"transform .3s":""};return T.value.name===a.CONTAIN.name&&(ye.maxWidth=ye.maxHeight="100%"),ye});function M(){F(),o("close")}function H(){const X=Ra(le=>{switch(le.code){case mt.esc:l.closeOnPressEscape&&M();break;case mt.space:j();break;case mt.left:G();break;case mt.up:D("zoomIn");break;case mt.right:W();break;case mt.down:D("zoomOut");break}}),oe=Ra(le=>{const me=le.deltaY||le.deltaX;D(me<0?"zoomIn":"zoomOut",{zoomRate:l.zoomRate,enableTransition:!1})});m.run(()=>{gn(document,"keydown",X),gn(document,"wheel",oe)})}function F(){m.stop()}function B(){_.value=!1}function K(X){_.value=!1,X.target.alt=u("el.image.error")}function te(X){if(_.value||X.button!==0||!f.value)return;$.value.enableTransition=!1;const{offsetX:oe,offsetY:le}=$.value,me=X.pageX,Se=X.pageY,Pe=Ra(ye=>{$.value={...$.value,offsetX:oe+ye.pageX-me,offsetY:le+ye.pageY-Se}}),de=gn(document,"mousemove",Pe);gn(document,"mouseup",()=>{de()}),X.preventDefault()}function Z(){$.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function j(){if(_.value)return;const X=_c(a),oe=Object.values(a),le=T.value.name,Se=(oe.findIndex(Pe=>Pe.name===le)+1)%X.length;T.value=a[X[Se]],Z()}function z(X){const oe=l.urlList.length;b.value=(X+oe)%oe}function G(){I.value&&!l.infinite||z(b.value-1)}function W(){C.value&&!l.infinite||z(b.value+1)}function D(X,oe={}){if(_.value)return;const{minScale:le,maxScale:me}=l,{zoomRate:Se,rotateDeg:Pe,enableTransition:de}={zoomRate:l.zoomRate,rotateDeg:90,enableTransition:!0,...oe};switch(X){case"zoomOut":$.value.scale>le&&($.value.scale=Number.parseFloat(($.value.scale/Se).toFixed(3)));break;case"zoomIn":$.value.scale<me&&($.value.scale=Number.parseFloat(($.value.scale*Se).toFixed(3)));break;case"clockwise":$.value.deg+=Pe,o("rotate",$.value.deg);break;case"anticlockwise":$.value.deg-=Pe,o("rotate",$.value.deg);break}$.value.enableTransition=de}return Me(S,()=>{pt(()=>{const X=g.value[0];X!=null&&X.complete||(_.value=!0)})}),Me(b,X=>{Z(),o("switch",X)}),At(()=>{var X,oe;H(),(oe=(X=f.value)==null?void 0:X.focus)==null||oe.call(X)}),n({setActiveItem:z}),(X,oe)=>(N(),be(Dc,{to:"body",disabled:!X.teleported},[ie(Yn,{name:"viewer-fade",appear:""},{default:ce(()=>[Q("div",{ref_key:"wrapper",ref:f,tabindex:-1,class:L(c(h).e("wrapper")),style:ct({zIndex:E.value})},[Q("div",{class:L(c(h).e("mask")),onClick:oe[0]||(oe[0]=bt(le=>X.hideOnClickModal&&M(),["self"]))},null,2),$e(" CLOSE "),Q("span",{class:L([c(h).e("btn"),c(h).e("close")]),onClick:M},[ie(c(at),null,{default:ce(()=>[ie(c(hi))]),_:1})],2),$e(" ARROW "),c(y)?$e("v-if",!0):(N(),Y(dt,{key:0},[Q("span",{class:L(c(R)),onClick:G},[ie(c(at),null,{default:ce(()=>[ie(c(Cl))]),_:1})],2),Q("span",{class:L(c(O)),onClick:W},[ie(c(at),null,{default:ce(()=>[ie(c(Xo))]),_:1})],2)],64)),$e(" ACTIONS "),Q("div",{class:L([c(h).e("btn"),c(h).e("actions")])},[Q("div",{class:L(c(h).e("actions__inner"))},[ie(c(at),{onClick:oe[1]||(oe[1]=le=>D("zoomOut"))},{default:ce(()=>[ie(c(iz))]),_:1}),ie(c(at),{onClick:oe[2]||(oe[2]=le=>D("zoomIn"))},{default:ce(()=>[ie(c(uM))]),_:1}),Q("i",{class:L(c(h).e("actions__divider"))},null,2),ie(c(at),{onClick:j},{default:ce(()=>[(N(),be(Ft(c(T).icon)))]),_:1}),Q("i",{class:L(c(h).e("actions__divider"))},null,2),ie(c(at),{onClick:oe[3]||(oe[3]=le=>D("anticlockwise"))},{default:ce(()=>[ie(c(H4))]),_:1}),ie(c(at),{onClick:oe[4]||(oe[4]=le=>D("clockwise"))},{default:ce(()=>[ie(c(U4))]),_:1})],2)],2),$e(" CANVAS "),Q("div",{class:L(c(h).e("canvas"))},[(N(!0),Y(dt,null,zt(X.urlList,(le,me)=>Rt((N(),Y("img",{ref_for:!0,ref:Se=>g.value[me]=Se,key:le,src:le,style:ct(c(P)),class:L(c(h).e("img")),crossorigin:X.crossorigin,onLoad:B,onError:K,onMousedown:te},null,46,aee)),[[qt,me===b.value]])),128))],2),Te(X.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var dee=We(cee,[["__file","image-viewer.vue"]]);const LD=Dt(dee),hee=Ue({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:fe([String,Object])},previewSrcList:{type:fe(Array),default:()=>wn([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:fe(String)}}),pee={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>$t(t),close:()=>!0,show:()=>!0},fee=["src","loading","crossorigin"],mee={key:0},gee=ne({name:"ElImage",inheritAttrs:!1}),$ee=ne({...gee,props:hee,emits:pee,setup(t,{emit:n}){const o=t;let i="";const{t:l}=Yt(),a=xe("image"),u=Ga(),h=LE(),p=V(),f=V(!1),g=V(!0),m=V(!1),_=V(),b=V(),T=Kt&&"loading"in HTMLImageElement.prototype;let $,E;const y=w(()=>[a.e("inner"),S.value&&a.e("preview"),g.value&&a.is("loading")]),I=w(()=>u.style),C=w(()=>{const{fit:W}=o;return Kt&&W?{objectFit:W}:{}}),S=w(()=>{const{previewSrcList:W}=o;return Array.isArray(W)&&W.length>0}),R=w(()=>{const{previewSrcList:W,initialIndex:D}=o;let X=D;return D>W.length-1&&(X=0),X}),O=w(()=>o.loading==="eager"?!1:!T&&o.loading==="lazy"||o.lazy),P=()=>{Kt&&(g.value=!0,f.value=!1,p.value=o.src)};function M(W){g.value=!1,f.value=!1,n("load",W)}function H(W){g.value=!1,f.value=!0,n("error",W)}function F(){$H(_.value,b.value)&&(P(),te())}const B=dL(F,200,!0);async function K(){var W;if(!Kt)return;await pt();const{scrollContainer:D}=o;zs(D)?b.value=D:yt(D)&&D!==""?b.value=(W=document.querySelector(D))!=null?W:void 0:_.value&&(b.value=EE(_.value)),b.value&&($=gn(b,"scroll",B),setTimeout(()=>F(),100))}function te(){!Kt||!b.value||!B||($==null||$(),b.value=void 0)}function Z(W){if(W.ctrlKey){if(W.deltaY<0)return W.preventDefault(),!1;if(W.deltaY>0)return W.preventDefault(),!1}}function j(){S.value&&(E=gn("wheel",Z,{passive:!1}),i=document.body.style.overflow,document.body.style.overflow="hidden",m.value=!0,n("show"))}function z(){E==null||E(),document.body.style.overflow=i,m.value=!1,n("close")}function G(W){n("switch",W)}return Me(()=>o.src,()=>{O.value?(g.value=!0,f.value=!1,te(),K()):P()}),At(()=>{O.value?K():P()}),(W,D)=>(N(),Y("div",{ref_key:"container",ref:_,class:L([c(a).b(),W.$attrs.class]),style:ct(c(I))},[f.value?Te(W.$slots,"error",{key:0},()=>[Q("div",{class:L(c(a).e("error"))},ze(c(l)("el.image.error")),3)]):(N(),Y(dt,{key:1},[p.value!==void 0?(N(),Y("img",Vt({key:0},c(h),{src:p.value,loading:W.loading,style:c(C),class:c(y),crossorigin:W.crossorigin,onClick:j,onLoad:M,onError:H}),null,16,fee)):$e("v-if",!0),g.value?(N(),Y("div",{key:1,class:L(c(a).e("wrapper"))},[Te(W.$slots,"placeholder",{},()=>[Q("div",{class:L(c(a).e("placeholder"))},null,2)])],2)):$e("v-if",!0)],64)),c(S)?(N(),Y(dt,{key:2},[m.value?(N(),be(c(LD),{key:0,"z-index":W.zIndex,"initial-index":c(R),infinite:W.infinite,"zoom-rate":W.zoomRate,"min-scale":W.minScale,"max-scale":W.maxScale,"url-list":W.previewSrcList,"hide-on-click-modal":W.hideOnClickModal,teleported:W.previewTeleported,"close-on-press-escape":W.closeOnPressEscape,onClose:z,onSwitch:G},{default:ce(()=>[W.$slots.viewer?(N(),Y("div",mee,[Te(W.$slots,"viewer")])):$e("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):$e("v-if",!0)],64)):$e("v-if",!0)],6))}});var vee=We($ee,[["__file","image.vue"]]);const _ee=Dt(vee),bee=Ue({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:qn,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||$t(t)||["min","max"].includes(t),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...mo(["ariaLabel"])}),Tee={[$n]:(t,n)=>n!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[Yo]:t=>$t(t)||io(t),[Bt]:t=>$t(t)||io(t)},yee=["aria-label","onKeydown"],Eee=["aria-label","onKeydown"],Cee=ne({name:"ElInputNumber"}),See=ne({...Cee,props:bee,emits:Tee,setup(t,{expose:n,emit:o}){const i=t,{t:l}=Yt(),a=xe("input-number"),u=V(),h=Qt({currentValue:i.modelValue,userInput:null}),{formItem:p}=Bo(),f=w(()=>$t(i.modelValue)&&i.modelValue<=i.min),g=w(()=>$t(i.modelValue)&&i.modelValue>=i.max),m=w(()=>{const j=y(i.step);return Fn(i.precision)?Math.max(y(i.modelValue),j):(j>i.precision,i.precision)}),_=w(()=>i.controls&&i.controlsPosition==="right"),b=Kn(),T=Zo(),$=w(()=>{if(h.userInput!==null)return h.userInput;let j=h.currentValue;if(io(j))return"";if($t(j)){if(Number.isNaN(j))return"";Fn(i.precision)||(j=j.toFixed(i.precision))}return j}),E=(j,z)=>{if(Fn(z)&&(z=m.value),z===0)return Math.round(j);let G=String(j);const W=G.indexOf(".");if(W===-1||!G.replace(".","").split("")[W+z])return j;const oe=G.length;return G.charAt(oe-1)==="5"&&(G=`${G.slice(0,Math.max(0,oe-1))}6`),Number.parseFloat(Number(G).toFixed(z))},y=j=>{if(io(j))return 0;const z=j.toString(),G=z.indexOf(".");let W=0;return G!==-1&&(W=z.length-G-1),W},I=(j,z=1)=>$t(j)?E(j+i.step*z):h.currentValue,C=()=>{if(i.readonly||T.value||g.value)return;const j=Number($.value)||0,z=I(j);O(z),o(Yo,h.currentValue),te()},S=()=>{if(i.readonly||T.value||f.value)return;const j=Number($.value)||0,z=I(j,-1);O(z),o(Yo,h.currentValue),te()},R=(j,z)=>{const{max:G,min:W,step:D,precision:X,stepStrictly:oe,valueOnClear:le}=i;G<W&&jn("InputNumber","min should not be greater than max.");let me=Number(j);if(io(j)||Number.isNaN(me))return null;if(j===""){if(le===null)return null;me=yt(le)?{min:W,max:G}[le]:le}return oe&&(me=E(Math.round(me/D)*D,X)),Fn(X)||(me=E(me,X)),(me>G||me<W)&&(me=me>G?G:W,z&&o(Bt,me)),me},O=(j,z=!0)=>{var G;const W=h.currentValue,D=R(j);if(!z){o(Bt,D);return}W===D&&j||(h.userInput=null,o(Bt,D),W!==D&&o($n,D,W),i.validateEvent&&((G=p==null?void 0:p.validate)==null||G.call(p,"change").catch(X=>void 0)),h.currentValue=D)},P=j=>{h.userInput=j;const z=j===""?null:Number(j);o(Yo,z),O(z,!1)},M=j=>{const z=j!==""?Number(j):"";($t(z)&&!Number.isNaN(z)||j==="")&&O(z),te(),h.userInput=null},H=()=>{var j,z;(z=(j=u.value)==null?void 0:j.focus)==null||z.call(j)},F=()=>{var j,z;(z=(j=u.value)==null?void 0:j.blur)==null||z.call(j)},B=j=>{o("focus",j)},K=j=>{var z;h.userInput=null,o("blur",j),i.validateEvent&&((z=p==null?void 0:p.validate)==null||z.call(p,"blur").catch(G=>void 0))},te=()=>{h.currentValue!==i.modelValue&&(h.currentValue=i.modelValue)},Z=j=>{document.activeElement===j.target&&j.preventDefault()};return Me(()=>i.modelValue,(j,z)=>{const G=R(j,!0);h.userInput===null&&G!==z&&(h.currentValue=G)},{immediate:!0}),At(()=>{var j;const{min:z,max:G,modelValue:W}=i,D=(j=u.value)==null?void 0:j.input;if(D.setAttribute("role","spinbutton"),Number.isFinite(G)?D.setAttribute("aria-valuemax",String(G)):D.removeAttribute("aria-valuemax"),Number.isFinite(z)?D.setAttribute("aria-valuemin",String(z)):D.removeAttribute("aria-valuemin"),D.setAttribute("aria-valuenow",h.currentValue||h.currentValue===0?String(h.currentValue):""),D.setAttribute("aria-disabled",String(T.value)),!$t(W)&&W!=null){let X=Number(W);Number.isNaN(X)&&(X=null),o(Bt,X)}D.addEventListener("wheel",Z,{passive:!1})}),Rr(()=>{var j,z;const G=(j=u.value)==null?void 0:j.input;G==null||G.setAttribute("aria-valuenow",`${(z=h.currentValue)!=null?z:""}`)}),Qn({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},w(()=>!!i.label)),n({focus:H,blur:F}),(j,z)=>(N(),Y("div",{class:L([c(a).b(),c(a).m(c(b)),c(a).is("disabled",c(T)),c(a).is("without-controls",!j.controls),c(a).is("controls-right",c(_))]),onDragstart:z[0]||(z[0]=bt(()=>{},["prevent"]))},[j.controls?Rt((N(),Y("span",{key:0,role:"button","aria-label":c(l)("el.inputNumber.decrease"),class:L([c(a).e("decrease"),c(a).is("disabled",c(f))]),onKeydown:rn(S,["enter"])},[Te(j.$slots,"decrease-icon",{},()=>[ie(c(at),null,{default:ce(()=>[c(_)?(N(),be(c(Lr),{key:0})):(N(),be(c(R4),{key:1}))]),_:1})])],42,yee)),[[c(tg),S]]):$e("v-if",!0),j.controls?Rt((N(),Y("span",{key:1,role:"button","aria-label":c(l)("el.inputNumber.increase"),class:L([c(a).e("increase"),c(a).is("disabled",c(g))]),onKeydown:rn(C,["enter"])},[Te(j.$slots,"increase-icon",{},()=>[ie(c(at),null,{default:ce(()=>[c(_)?(N(),be(c(CE),{key:0})):(N(),be(c(rM),{key:1}))]),_:1})])],42,Eee)),[[c(tg),C]]):$e("v-if",!0),ie(c(Mo),{id:j.id,ref_key:"input",ref:u,type:"number",step:j.step,"model-value":c($),placeholder:j.placeholder,readonly:j.readonly,disabled:c(T),size:c(b),max:j.max,min:j.min,name:j.name,"aria-label":j.label||j.ariaLabel,"validate-event":!1,onKeydown:[rn(bt(C,["prevent"]),["up"]),rn(bt(S,["prevent"]),["down"])],onBlur:K,onFocus:B,onInput:P,onChange:M},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var Iee=We(See,[["__file","input-number.vue"]]);const MD=Dt(Iee),wee=Ue({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:ln}}),kee={click:t=>t instanceof MouseEvent},Oee=["href","target"],Ree=ne({name:"ElLink"}),Aee=ne({...Ree,props:wee,emits:kee,setup(t,{emit:n}){const o=t,i=xe("link"),l=w(()=>[i.b(),i.m(o.type),i.is("disabled",o.disabled),i.is("underline",o.underline&&!o.disabled)]);function a(u){o.disabled||n("click",u)}return(u,h)=>(N(),Y("a",{class:L(c(l)),href:u.disabled||!u.href?void 0:u.href,target:u.disabled||!u.href?void 0:u.target,onClick:a},[u.icon?(N(),be(c(at),{key:0},{default:ce(()=>[(N(),be(Ft(u.icon)))]),_:1})):$e("v-if",!0),u.$slots.default?(N(),Y("span",{key:1,class:L(c(i).e("inner"))},[Te(u.$slots,"default")],2)):$e("v-if",!0),u.$slots.icon?Te(u.$slots,"icon",{key:2}):$e("v-if",!0)],10,Oee))}});var Nee=We(Aee,[["__file","link.vue"]]);const Lee=Dt(Nee);let Mee=class{constructor(n,o){this.parent=n,this.domNode=o,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,o=>{o.addEventListener("keydown",i=>{let l=!1;switch(i.code){case mt.down:{this.gotoSubIndex(this.subIndex+1),l=!0;break}case mt.up:{this.gotoSubIndex(this.subIndex-1),l=!0;break}case mt.tab:{hm(n,"mouseleave");break}case mt.enter:case mt.space:{l=!0,i.currentTarget.click();break}}return l&&(i.preventDefault(),i.stopPropagation()),!1})})}},Dee=class{constructor(n,o){this.domNode=n,this.submenu=null,this.submenu=null,this.init(o)}init(n){this.domNode.setAttribute("tabindex","0");const o=this.domNode.querySelector(`.${n}-menu`);o&&(this.submenu=new Mee(this,o)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let o=!1;switch(n.code){case mt.down:{hm(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),o=!0;break}case mt.up:{hm(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),o=!0;break}case mt.tab:{hm(n.currentTarget,"mouseleave");break}case mt.enter:case mt.space:{o=!0,n.currentTarget.click();break}}o&&n.preventDefault()})}},Pee=class{constructor(n,o){this.domNode=n,this.init(o)}init(n){const o=this.domNode.childNodes;Array.from(o).forEach(i=>{i.nodeType===1&&new Dee(i,n)})}};const xee=ne({name:"ElMenuCollapseTransition",setup(){const t=xe("menu");return{listeners:{onBeforeEnter:o=>o.style.opacity="0.2",onEnter(o,i){Bs(o,`${t.namespace.value}-opacity-transition`),o.style.opacity="1",i()},onAfterEnter(o){Po(o,`${t.namespace.value}-opacity-transition`),o.style.opacity=""},onBeforeLeave(o){o.dataset||(o.dataset={}),Vs(o,t.m("collapse"))?(Po(o,t.m("collapse")),o.dataset.oldOverflow=o.style.overflow,o.dataset.scrollWidth=o.clientWidth.toString(),Bs(o,t.m("collapse"))):(Bs(o,t.m("collapse")),o.dataset.oldOverflow=o.style.overflow,o.dataset.scrollWidth=o.clientWidth.toString(),Po(o,t.m("collapse"))),o.style.width=`${o.scrollWidth}px`,o.style.overflow="hidden"},onLeave(o){Bs(o,"horizontal-collapse-transition"),o.style.width=`${o.dataset.scrollWidth}px`}}}}});function Bee(t,n,o,i,l,a){return N(),be(Yn,Vt({mode:"out-in"},t.listeners),{default:ce(()=>[Te(t.$slots,"default")]),_:3},16)}var Fee=We(xee,[["render",Bee],["__file","menu-collapse-transition.vue"]]);function DD(t,n){const o=w(()=>{let l=t.parent;const a=[n.value];for(;l.type.name!=="ElMenu";)l.props.index&&a.unshift(l.props.index),l=l.parent;return a});return{parentMenu:w(()=>{let l=t.parent;for(;l&&!["ElMenu","ElSubMenu"].includes(l.type.name);)l=l.parent;return l}),indexPath:o}}function Hee(t){return w(()=>{const o=t.backgroundColor;return o?new p1(o).shade(20).toString():""})}const PD=(t,n)=>{const o=xe("menu");return w(()=>o.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":Hee(t).value||"","active-color":t.activeTextColor||"",level:`${n}`}))},Vee=Ue({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:ln},expandOpenIcon:{type:ln},collapseCloseIcon:{type:ln},collapseOpenIcon:{type:ln}}),Qb="ElSubMenu";var g0=ne({name:Qb,props:Vee,setup(t,{slots:n,expose:o}){const i=Mt(),{indexPath:l,parentMenu:a}=DD(i,w(()=>t.index)),u=xe("menu"),h=xe("sub-menu"),p=it("rootMenu");p||jn(Qb,"can not inject root menu");const f=it(`subMenu:${a.value.uid}`);f||jn(Qb,"can not inject sub menu");const g=V({}),m=V({});let _;const b=V(!1),T=V(),$=V(null),E=w(()=>M.value==="horizontal"&&I.value?"bottom-start":"right-start"),y=w(()=>M.value==="horizontal"&&I.value||M.value==="vertical"&&!p.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?O.value?t.expandOpenIcon:t.expandCloseIcon:Lr:t.collapseCloseIcon&&t.collapseOpenIcon?O.value?t.collapseOpenIcon:t.collapseCloseIcon:Xo),I=w(()=>f.level===0),C=w(()=>{const X=t.teleported;return X===void 0?I.value:X}),S=w(()=>p.props.collapse?`${u.namespace.value}-zoom-in-left`:`${u.namespace.value}-zoom-in-top`),R=w(()=>M.value==="horizontal"&&I.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),O=w(()=>p.openedMenus.includes(t.index)),P=w(()=>{let X=!1;return Object.values(g.value).forEach(oe=>{oe.active&&(X=!0)}),Object.values(m.value).forEach(oe=>{oe.active&&(X=!0)}),X}),M=w(()=>p.props.mode),H=Qt({index:t.index,indexPath:l,active:P}),F=PD(p.props,f.level+1),B=w(()=>{var X;return(X=t.popperOffset)!=null?X:p.props.popperOffset}),K=w(()=>{var X;return(X=t.popperClass)!=null?X:p.props.popperClass}),te=w(()=>{var X;return(X=t.showTimeout)!=null?X:p.props.showTimeout}),Z=w(()=>{var X;return(X=t.hideTimeout)!=null?X:p.props.hideTimeout}),j=()=>{var X,oe,le;return(le=(oe=(X=$.value)==null?void 0:X.popperRef)==null?void 0:oe.popperInstanceRef)==null?void 0:le.destroy()},z=X=>{X||j()},G=()=>{p.props.menuTrigger==="hover"&&p.props.mode==="horizontal"||p.props.collapse&&p.props.mode==="vertical"||t.disabled||p.handleSubMenuClick({index:t.index,indexPath:l.value,active:P.value})},W=(X,oe=te.value)=>{var le;if(X.type!=="focus"){if(p.props.menuTrigger==="click"&&p.props.mode==="horizontal"||!p.props.collapse&&p.props.mode==="vertical"||t.disabled){f.mouseInChild.value=!0;return}f.mouseInChild.value=!0,_==null||_(),{stop:_}=Da(()=>{p.openMenu(t.index,l.value)},oe),C.value&&((le=a.value.vnode.el)==null||le.dispatchEvent(new MouseEvent("mouseenter")))}},D=(X=!1)=>{var oe;if(p.props.menuTrigger==="click"&&p.props.mode==="horizontal"||!p.props.collapse&&p.props.mode==="vertical"){f.mouseInChild.value=!1;return}_==null||_(),f.mouseInChild.value=!1,{stop:_}=Da(()=>!b.value&&p.closeMenu(t.index,l.value),Z.value),C.value&&X&&((oe=f.handleMouseleave)==null||oe.call(f,!0))};Me(()=>p.props.collapse,X=>z(!!X));{const X=le=>{m.value[le.index]=le},oe=le=>{delete m.value[le.index]};Ut(`subMenu:${i.uid}`,{addSubMenu:X,removeSubMenu:oe,handleMouseleave:D,mouseInChild:b,level:f.level+1})}return o({opened:O}),At(()=>{p.addSubMenu(H),f.addSubMenu(H)}),fn(()=>{f.removeSubMenu(H),p.removeSubMenu(H)}),()=>{var X;const oe=[(X=n.title)==null?void 0:X.call(n),ft(at,{class:h.e("icon-arrow"),style:{transform:O.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&p.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>yt(y.value)?ft(i.appContext.components[y.value]):ft(y.value)})],le=p.isMenuPopup?ft(xo,{ref:$,visible:O.value,effect:"light",pure:!0,offset:B.value,showArrow:!1,persistent:!0,popperClass:K.value,placement:E.value,teleported:C.value,fallbackPlacements:R.value,transition:S.value,gpuAcceleration:!1},{content:()=>{var me;return ft("div",{class:[u.m(M.value),u.m("popup-container"),K.value],onMouseenter:Se=>W(Se,100),onMouseleave:()=>D(!0),onFocus:Se=>W(Se,100)},[ft("ul",{class:[u.b(),u.m("popup"),u.m(`popup-${E.value}`)],style:F.value},[(me=n.default)==null?void 0:me.call(n)])])},default:()=>ft("div",{class:h.e("title"),onClick:G},oe)}):ft(dt,{},[ft("div",{class:h.e("title"),ref:T,onClick:G},oe),ft(Wg,{},{default:()=>{var me;return Rt(ft("ul",{role:"menu",class:[u.b(),u.m("inline")],style:F.value},[(me=n.default)==null?void 0:me.call(n)]),[[qt,O.value]])}})]);return ft("li",{class:[h.b(),h.is("active",P.value),h.is("opened",O.value),h.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:O.value,onMouseenter:W,onMouseleave:()=>D(),onFocus:W},[le])}}});const Uee=Ue({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:fe(Array),default:()=>wn([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:ln,default:()=>L4},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),eT=t=>Array.isArray(t)&&t.every(n=>yt(n)),Gee={close:(t,n)=>yt(t)&&eT(n),open:(t,n)=>yt(t)&&eT(n),select:(t,n,o,i)=>yt(t)&&eT(n)&&xt(o)&&(i===void 0||i instanceof Promise)};var Wee=ne({name:"ElMenu",props:Uee,emits:Gee,setup(t,{emit:n,slots:o,expose:i}){const l=Mt(),a=l.appContext.config.globalProperties.$router,u=V(),h=xe("menu"),p=xe("sub-menu"),f=V(-1),g=V(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),m=V(t.defaultActive),_=V({}),b=V({}),T=w(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),$=()=>{const Z=m.value&&_.value[m.value];if(!Z||t.mode==="horizontal"||t.collapse)return;Z.indexPath.forEach(z=>{const G=b.value[z];G&&E(z,G.indexPath)})},E=(Z,j)=>{g.value.includes(Z)||(t.uniqueOpened&&(g.value=g.value.filter(z=>j.includes(z))),g.value.push(Z),n("open",Z,j))},y=Z=>{const j=g.value.indexOf(Z);j!==-1&&g.value.splice(j,1)},I=(Z,j)=>{y(Z),n("close",Z,j)},C=({index:Z,indexPath:j})=>{g.value.includes(Z)?I(Z,j):E(Z,j)},S=Z=>{(t.mode==="horizontal"||t.collapse)&&(g.value=[]);const{index:j,indexPath:z}=Z;if(!(io(j)||io(z)))if(t.router&&a){const G=Z.route||j,W=a.push(G).then(D=>(D||(m.value=j),D));n("select",j,z,{index:j,indexPath:z,route:G},W)}else m.value=j,n("select",j,z,{index:j,indexPath:z})},R=Z=>{const j=_.value,z=j[Z]||m.value&&j[m.value]||j[t.defaultActive];z?m.value=z.index:m.value=Z},O=Z=>{const j=getComputedStyle(Z),z=Number.parseInt(j.marginLeft,10),G=Number.parseInt(j.marginRight,10);return Z.offsetWidth+z+G||0},P=()=>{var Z,j;if(!u.value)return-1;const z=Array.from((j=(Z=u.value)==null?void 0:Z.childNodes)!=null?j:[]).filter(Se=>Se.nodeName!=="#comment"&&(Se.nodeName!=="#text"||Se.nodeValue)),G=64,W=getComputedStyle(u.value),D=Number.parseInt(W.paddingLeft,10),X=Number.parseInt(W.paddingRight,10),oe=u.value.clientWidth-D-X;let le=0,me=0;return z.forEach((Se,Pe)=>{le+=O(Se),le<=oe-G&&(me=Pe+1)}),me===z.length?-1:me},M=Z=>b.value[Z].indexPath,H=(Z,j=33.34)=>{let z;return()=>{z&&clearTimeout(z),z=setTimeout(()=>{Z()},j)}};let F=!0;const B=()=>{if(f.value===P())return;const Z=()=>{f.value=-1,pt(()=>{f.value=P()})};F?Z():H(Z)(),F=!1};Me(()=>t.defaultActive,Z=>{_.value[Z]||(m.value=""),R(Z)}),Me(()=>t.collapse,Z=>{Z&&(g.value=[])}),Me(_.value,$);let K;Eo(()=>{t.mode==="horizontal"&&t.ellipsis?K=In(u,B).stop:K==null||K()});const te=V(!1);{const Z=W=>{b.value[W.index]=W},j=W=>{delete b.value[W.index]};Ut("rootMenu",Qt({props:t,openedMenus:g,items:_,subMenus:b,activeIndex:m,isMenuPopup:T,addMenuItem:W=>{_.value[W.index]=W},removeMenuItem:W=>{delete _.value[W.index]},addSubMenu:Z,removeSubMenu:j,openMenu:E,closeMenu:I,handleMenuItemClick:S,handleSubMenuClick:C})),Ut(`subMenu:${l.uid}`,{addSubMenu:Z,removeSubMenu:j,mouseInChild:te,level:0})}return At(()=>{t.mode==="horizontal"&&new Pee(l.vnode.el,h.namespace.value)}),i({open:j=>{const{indexPath:z}=b.value[j];z.forEach(G=>E(G,z))},close:y,handleResize:B}),()=>{var Z,j;let z=(j=(Z=o.default)==null?void 0:Z.call(o))!=null?j:[];const G=[];if(t.mode==="horizontal"&&u.value){const oe=$l(z),le=f.value===-1?oe:oe.slice(0,f.value),me=f.value===-1?[]:oe.slice(f.value);me!=null&&me.length&&t.ellipsis&&(z=le,G.push(ft(g0,{index:"sub-menu-more",class:p.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>ft(at,{class:p.e("icon-more")},{default:()=>ft(t.ellipsisIcon)}),default:()=>me})))}const W=PD(t,0),D=t.closeOnClickOutside?[[kr,()=>{g.value.length&&(te.value||(g.value.forEach(oe=>n("close",oe,M(oe))),g.value=[]))}]]:[],X=Rt(ft("ul",{key:String(t.collapse),role:"menubar",ref:u,style:W.value,class:{[h.b()]:!0,[h.m(t.mode)]:!0,[h.m("collapse")]:t.collapse}},[...z,...G]),D);return t.collapseTransition&&t.mode==="vertical"?ft(Fee,()=>X):X}}});const zee=Ue({index:{type:fe([String,null]),default:null},route:{type:fe([String,Object])},disabled:Boolean}),Kee={click:t=>yt(t.index)&&Array.isArray(t.indexPath)},tT="ElMenuItem",Xee=ne({name:tT,components:{ElTooltip:xo},props:zee,emits:Kee,setup(t,{emit:n}){const o=Mt(),i=it("rootMenu"),l=xe("menu"),a=xe("menu-item");i||jn(tT,"can not inject root menu");const{parentMenu:u,indexPath:h}=DD(o,on(t,"index")),p=it(`subMenu:${u.value.uid}`);p||jn(tT,"can not inject sub menu");const f=w(()=>t.index===i.activeIndex),g=Qt({index:t.index,indexPath:h,active:f}),m=()=>{t.disabled||(i.handleMenuItemClick({index:t.index,indexPath:h.value,route:t.route}),n("click",g))};return At(()=>{p.addSubMenu(g),i.addMenuItem(g)}),fn(()=>{p.removeSubMenu(g),i.removeMenuItem(g)}),{parentMenu:u,rootMenu:i,active:f,nsMenu:l,nsMenuItem:a,handleClick:m}}});function Yee(t,n,o,i,l,a){const u=Nt("el-tooltip");return N(),Y("li",{class:L([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...h)=>t.handleClick&&t.handleClick(...h))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(N(),be(u,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:ce(()=>[Te(t.$slots,"title")]),default:ce(()=>[Q("div",{class:L(t.nsMenu.be("tooltip","trigger"))},[Te(t.$slots,"default")],2)]),_:3},8,["effect"])):(N(),Y(dt,{key:1},[Te(t.$slots,"default"),Te(t.$slots,"title")],64))],2)}var xD=We(Xee,[["render",Yee],["__file","menu-item.vue"]]);const jee={title:String},qee="ElMenuItemGroup",Jee=ne({name:qee,props:jee,setup(){return{ns:xe("menu-item-group")}}});function Zee(t,n,o,i,l,a){return N(),Y("li",{class:L(t.ns.b())},[Q("div",{class:L(t.ns.e("title"))},[t.$slots.title?Te(t.$slots,"title",{key:1}):(N(),Y(dt,{key:0},[Wt(ze(t.title),1)],64))],2),Q("ul",null,[Te(t.$slots,"default")])],2)}var BD=We(Jee,[["render",Zee],["__file","menu-item-group.vue"]]);const Qee=Dt(Wee,{MenuItem:xD,MenuItemGroup:BD,SubMenu:g0}),ete=kn(xD),tte=kn(BD),nte=kn(g0),ote=Ue({icon:{type:ln,default:()=>t4},title:String,content:{type:String,default:""}}),ste={back:()=>!0},ite=["aria-label"],rte=ne({name:"ElPageHeader"}),lte=ne({...rte,props:ote,emits:ste,setup(t,{emit:n}){const o=ao(),{t:i}=Yt(),l=xe("page-header"),a=w(()=>[l.b(),{[l.m("has-breadcrumb")]:!!o.breadcrumb,[l.m("has-extra")]:!!o.extra,[l.is("contentful")]:!!o.default}]);function u(){n("back")}return(h,p)=>(N(),Y("div",{class:L(c(a))},[h.$slots.breadcrumb?(N(),Y("div",{key:0,class:L(c(l).e("breadcrumb"))},[Te(h.$slots,"breadcrumb")],2)):$e("v-if",!0),Q("div",{class:L(c(l).e("header"))},[Q("div",{class:L(c(l).e("left"))},[Q("div",{class:L(c(l).e("back")),role:"button",tabindex:"0",onClick:u},[h.icon||h.$slots.icon?(N(),Y("div",{key:0,"aria-label":h.title||c(i)("el.pageHeader.title"),class:L(c(l).e("icon"))},[Te(h.$slots,"icon",{},()=>[h.icon?(N(),be(c(at),{key:0},{default:ce(()=>[(N(),be(Ft(h.icon)))]),_:1})):$e("v-if",!0)])],10,ite)):$e("v-if",!0),Q("div",{class:L(c(l).e("title"))},[Te(h.$slots,"title",{},()=>[Wt(ze(h.title||c(i)("el.pageHeader.title")),1)])],2)],2),ie(c(ED),{direction:"vertical"}),Q("div",{class:L(c(l).e("content"))},[Te(h.$slots,"content",{},()=>[Wt(ze(h.content),1)])],2)],2),h.$slots.extra?(N(),Y("div",{key:0,class:L(c(l).e("extra"))},[Te(h.$slots,"extra")],2)):$e("v-if",!0)],2),h.$slots.default?(N(),Y("div",{key:1,class:L(c(l).e("main"))},[Te(h.$slots,"default")],2)):$e("v-if",!0)],2))}});var ate=We(lte,[["__file","page-header.vue"]]);const ute=Dt(ate),FD=Symbol("elPaginationKey"),cte=Ue({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:ln}}),dte={click:t=>t instanceof MouseEvent},hte=["disabled","aria-label","aria-disabled"],pte={key:0},fte=ne({name:"ElPaginationPrev"}),mte=ne({...fte,props:cte,emits:dte,setup(t){const n=t,{t:o}=Yt(),i=w(()=>n.disabled||n.currentPage<=1);return(l,a)=>(N(),Y("button",{type:"button",class:"btn-prev",disabled:c(i),"aria-label":l.prevText||c(o)("el.pagination.prev"),"aria-disabled":c(i),onClick:a[0]||(a[0]=u=>l.$emit("click",u))},[l.prevText?(N(),Y("span",pte,ze(l.prevText),1)):(N(),be(c(at),{key:1},{default:ce(()=>[(N(),be(Ft(l.prevIcon)))]),_:1}))],8,hte))}});var gte=We(mte,[["__file","prev.vue"]]);const $te=Ue({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:ln}}),vte=["disabled","aria-label","aria-disabled"],_te={key:0},bte=ne({name:"ElPaginationNext"}),Tte=ne({...bte,props:$te,emits:["click"],setup(t){const n=t,{t:o}=Yt(),i=w(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return(l,a)=>(N(),Y("button",{type:"button",class:"btn-next",disabled:c(i),"aria-label":l.nextText||c(o)("el.pagination.next"),"aria-disabled":c(i),onClick:a[0]||(a[0]=u=>l.$emit("click",u))},[l.nextText?(N(),Y("span",_te,ze(l.nextText),1)):(N(),be(c(at),{key:1},{default:ce(()=>[(N(),be(Ft(l.nextIcon)))]),_:1}))],8,vte))}});var yte=We(Tte,[["__file","next.vue"]]);const HD=Symbol("ElSelectGroup"),zc=Symbol("ElSelect");function Ete(t,n){const o=it(zc),i=it(HD,{disabled:!1}),l=w(()=>o.props.multiple?g(o.props.modelValue,t.value):g([o.props.modelValue],t.value)),a=w(()=>{if(o.props.multiple){const b=o.props.modelValue||[];return!l.value&&b.length>=o.props.multipleLimit&&o.props.multipleLimit>0}else return!1}),u=w(()=>t.label||(xt(t.value)?"":t.value)),h=w(()=>t.value||t.label||""),p=w(()=>t.disabled||n.groupDisabled||a.value),f=Mt(),g=(b=[],T)=>{if(xt(t.value)){const $=o.props.valueKey;return b&&b.some(E=>sn(Pn(E,$))===Pn(T,$))}else return b&&b.includes(T)},m=()=>{!t.disabled&&!i.disabled&&(o.states.hoveringIndex=o.optionsArray.indexOf(f.proxy))},_=b=>{const T=new RegExp(yE(b),"i");n.visible=T.test(u.value)||t.created};return Me(()=>u.value,()=>{!t.created&&!o.props.remote&&o.setSelected()}),Me(()=>t.value,(b,T)=>{const{remote:$,valueKey:E}=o.props;if(Do(b,T)||(o.onOptionDestroy(T,f.proxy),o.onOptionCreate(f.proxy)),!t.created&&!$){if(E&&xt(b)&&xt(T)&&b[E]===T[E])return;o.setSelected()}}),Me(()=>i.disabled,()=>{n.groupDisabled=i.disabled},{immediate:!0}),{select:o,currentLabel:u,currentValue:h,itemSelected:l,isDisabled:p,hoverItem:m,updateOption:_}}const Cte=ne({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const n=xe("select"),o=So(),i=w(()=>[n.be("dropdown","item"),n.is("disabled",c(h)),n.is("selected",c(u)),n.is("hovering",c(_))]),l=Qt({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:u,isDisabled:h,select:p,hoverItem:f,updateOption:g}=Ete(t,l),{visible:m,hover:_}=fo(l),b=Mt().proxy;p.onOptionCreate(b),fn(()=>{const $=b.value,{selected:E}=p.states,I=(p.props.multiple?E:[E]).some(C=>C.value===b.value);pt(()=>{p.states.cachedOptions.get($)===b&&!I&&p.states.cachedOptions.delete($)}),p.onOptionDestroy($,b)});function T(){t.disabled!==!0&&l.groupDisabled!==!0&&p.handleOptionSelect(b)}return{ns:n,id:o,containerKls:i,currentLabel:a,itemSelected:u,isDisabled:h,select:p,hoverItem:f,updateOption:g,visible:m,hover:_,selectOptionClick:T,states:l}}}),Ste=["id","aria-disabled","aria-selected"];function Ite(t,n,o,i,l,a){return Rt((N(),Y("li",{id:t.id,class:L(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMouseenter:n[0]||(n[0]=(...u)=>t.hoverItem&&t.hoverItem(...u)),onClick:n[1]||(n[1]=bt((...u)=>t.selectOptionClick&&t.selectOptionClick(...u),["stop"]))},[Te(t.$slots,"default",{},()=>[Q("span",null,ze(t.currentLabel),1)])],42,Ste)),[[qt,t.visible]])}var $0=We(Cte,[["render",Ite],["__file","option.vue"]]);const wte=ne({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=it(zc),n=xe("select"),o=w(()=>t.props.popperClass),i=w(()=>t.props.multiple),l=w(()=>t.props.fitInputWidth),a=V("");function u(){var h;a.value=`${(h=t.selectRef)==null?void 0:h.offsetWidth}px`}return At(()=>{u(),In(t.selectRef,u)}),{ns:n,minWidth:a,popperClass:o,isMultiple:i,isFitInputWidth:l}}});function kte(t,n,o,i,l,a){return N(),Y("div",{class:L([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:ct({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(N(),Y("div",{key:0,class:L(t.ns.be("dropdown","header"))},[Te(t.$slots,"header")],2)):$e("v-if",!0),Te(t.$slots,"default"),t.$slots.footer?(N(),Y("div",{key:1,class:L(t.ns.be("dropdown","footer"))},[Te(t.$slots,"footer")],2)):$e("v-if",!0)],6)}var Ote=We(wte,[["render",kte],["__file","select-dropdown.vue"]]);function VD(t){const n=V(!1);return{handleCompositionStart:()=>{n.value=!0},handleCompositionUpdate:a=>{const u=a.target.value,h=u[u.length-1]||"";n.value=!NE(h)},handleCompositionEnd:a=>{n.value&&(n.value=!1,_t(t)&&t(a))}}}const Rte=11,Ate=(t,n)=>{const{t:o}=Yt(),i=So(),l=xe("select"),a=xe("input"),u=Qt({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:t.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),h=V(null),p=V(null),f=V(null),g=V(null),m=V(null),_=V(null),b=V(null),T=V(null),$=V(null),E=V(null),y=V(null),I=V(null),{wrapperRef:C,isFocused:S,handleFocus:R,handleBlur:O}=Bg(m,{afterFocus(){t.automaticDropdown&&!P.value&&(P.value=!0,u.menuVisibleOnFocus=!0)},beforeBlur(Ze){var vt,un;return((vt=f.value)==null?void 0:vt.isFocusInsideContent(Ze))||((un=g.value)==null?void 0:un.isFocusInsideContent(Ze))},afterBlur(){P.value=!1,u.menuVisibleOnFocus=!1}}),P=V(!1),M=V(),{form:H,formItem:F}=Bo(),{inputId:B}=$i(t,{formItemContext:F}),{valueOnClear:K,isEmptyValue:te}=Fg(t),Z=w(()=>t.disabled||(H==null?void 0:H.disabled)),j=w(()=>t.multiple?tt(t.modelValue)&&t.modelValue.length>0:!te(t.modelValue)),z=w(()=>t.clearable&&!Z.value&&u.inputHovering&&j.value),G=w(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),W=w(()=>l.is("reverse",G.value&&P.value)),D=w(()=>(F==null?void 0:F.validateState)||""),X=w(()=>AE[D.value]),oe=w(()=>t.remote?300:0),le=w(()=>t.loading?t.loadingText||o("el.select.loading"):t.remote&&!u.inputValue&&u.options.size===0?!1:t.filterable&&u.inputValue&&u.options.size>0&&me.value===0?t.noMatchText||o("el.select.noMatch"):u.options.size===0?t.noDataText||o("el.select.noData"):null),me=w(()=>Se.value.filter(Ze=>Ze.visible).length),Se=w(()=>{const Ze=Array.from(u.options.values()),vt=[];return u.optionValues.forEach(un=>{const Tn=Ze.findIndex(wo=>wo.value===un);Tn>-1&&vt.push(Ze[Tn])}),vt.length>=Ze.length?vt:Ze}),Pe=w(()=>Array.from(u.cachedOptions.values())),de=w(()=>{const Ze=Se.value.filter(vt=>!vt.created).some(vt=>vt.currentLabel===u.inputValue);return t.filterable&&t.allowCreate&&u.inputValue!==""&&!Ze}),ye=()=>{t.filterable&&_t(t.filterMethod)||t.filterable&&t.remote&&_t(t.remoteMethod)||Se.value.forEach(Ze=>{var vt;(vt=Ze.updateOption)==null||vt.call(Ze,u.inputValue)})},_e=Kn(),Ke=w(()=>["small"].includes(_e.value)?"small":"default"),ve=w({get(){return P.value&&le.value!==!1},set(Ze){P.value=Ze}}),Ne=w(()=>tt(t.modelValue)?t.modelValue.length===0&&!u.inputValue:t.filterable?!u.inputValue:!0),He=w(()=>{var Ze;const vt=(Ze=t.placeholder)!=null?Ze:o("el.select.placeholder");return t.multiple||!j.value?vt:u.selectedLabel}),ae=w(()=>ST?null:"mouseenter");Me(()=>t.modelValue,(Ze,vt)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(u.inputValue="",he("")),Fe(),!Do(Ze,vt)&&t.validateEvent&&(F==null||F.validate("change").catch(un=>void 0))},{flush:"post",deep:!0}),Me(()=>P.value,Ze=>{Ze?he(u.inputValue):(u.inputValue="",u.previousQuery=null,u.isBeforeHide=!0),n("visible-change",Ze)}),Me(()=>u.options.entries(),()=>{var Ze;if(!Kt)return;const vt=((Ze=h.value)==null?void 0:Ze.querySelectorAll("input"))||[];(!t.filterable&&!t.defaultFirstOption&&!Fn(t.modelValue)||!Array.from(vt).includes(document.activeElement))&&Fe(),t.defaultFirstOption&&(t.filterable||t.remote)&&me.value&&Ae()},{flush:"post"}),Me(()=>u.hoveringIndex,Ze=>{$t(Ze)&&Ze>-1?M.value=Se.value[Ze]||{}:M.value={},Se.value.forEach(vt=>{vt.hover=M.value===vt})}),Eo(()=>{u.isBeforeHide||ye()});const he=Ze=>{u.previousQuery!==Ze&&(u.previousQuery=Ze,t.filterable&&_t(t.filterMethod)?t.filterMethod(Ze):t.filterable&&t.remote&&_t(t.remoteMethod)&&t.remoteMethod(Ze),t.defaultFirstOption&&(t.filterable||t.remote)&&me.value?pt(Ae):pt(De))},Ae=()=>{const Ze=Se.value.filter(Tn=>Tn.visible&&!Tn.disabled&&!Tn.states.groupDisabled),vt=Ze.find(Tn=>Tn.created),un=Ze[0];u.hoveringIndex=A(Se.value,vt||un)},Fe=()=>{if(t.multiple)u.selectedLabel="";else{const vt=Ce(t.modelValue);u.selectedLabel=vt.currentLabel,u.selected=vt;return}const Ze=[];tt(t.modelValue)&&t.modelValue.forEach(vt=>{Ze.push(Ce(vt))}),u.selected=Ze},Ce=Ze=>{let vt;const un=am(Ze).toLowerCase()==="object",Tn=am(Ze).toLowerCase()==="null",wo=am(Ze).toLowerCase()==="undefined";for(let $o=u.cachedOptions.size-1;$o>=0;$o--){const Ho=Pe.value[$o];if(un?Pn(Ho.value,t.valueKey)===Pn(Ze,t.valueKey):Ho.value===Ze){vt={value:Ze,currentLabel:Ho.currentLabel,get isDisabled(){return Ho.isDisabled}};break}}if(vt)return vt;const us=un?Ze.label:!Tn&&!wo?Ze:"";return{value:Ze,currentLabel:us}},De=()=>{t.multiple?u.hoveringIndex=Se.value.findIndex(Ze=>u.selected.some(vt=>uo(vt)===uo(Ze))):u.hoveringIndex=Se.value.findIndex(Ze=>uo(Ze)===uo(u.selected))},Ve=()=>{u.selectionWidth=p.value.getBoundingClientRect().width},ue=()=>{u.calculatorWidth=_.value.getBoundingClientRect().width},we=()=>{u.collapseItemWidth=y.value.getBoundingClientRect().width},ke=()=>{var Ze,vt;(vt=(Ze=f.value)==null?void 0:Ze.updatePopper)==null||vt.call(Ze)},Ge=()=>{var Ze,vt;(vt=(Ze=g.value)==null?void 0:Ze.updatePopper)==null||vt.call(Ze)},ot=()=>{u.inputValue.length>0&&!P.value&&(P.value=!0),he(u.inputValue)},q=Ze=>{if(u.inputValue=Ze.target.value,t.remote)et();else return ot()},et=as(()=>{ot()},oe.value),lt=Ze=>{Do(t.modelValue,Ze)||n($n,Ze)},Et=Ze=>QL(Ze,vt=>!u.disabledOptions.has(vt)),Tt=Ze=>{if(t.multiple&&Ze.code!==mt.delete&&Ze.target.value.length<=0){const vt=t.modelValue.slice(),un=Et(vt);if(un<0)return;const Tn=vt[un];vt.splice(un,1),n(Bt,vt),lt(vt),n("remove-tag",Tn)}},st=(Ze,vt)=>{const un=u.selected.indexOf(vt);if(un>-1&&!Z.value){const Tn=t.modelValue.slice();Tn.splice(un,1),n(Bt,Tn),lt(Tn),n("remove-tag",vt.value)}Ze.stopPropagation(),Ee()},Re=Ze=>{Ze.stopPropagation();const vt=t.multiple?[]:K.value;if(t.multiple)for(const un of u.selected)un.isDisabled&&vt.push(un.value);n(Bt,vt),lt(vt),u.hoveringIndex=-1,P.value=!1,n("clear"),Ee()},Ye=Ze=>{if(t.multiple){const vt=(t.modelValue||[]).slice(),un=A(vt,Ze.value);un>-1?vt.splice(un,1):(t.multipleLimit<=0||vt.length<t.multipleLimit)&&vt.push(Ze.value),n(Bt,vt),lt(vt),Ze.created&&he(""),t.filterable&&!t.reserveKeyword&&(u.inputValue="")}else n(Bt,Ze.value),lt(Ze.value),P.value=!1;Ee(),!P.value&&pt(()=>{x(Ze)})},A=(Ze=[],vt)=>{if(!xt(vt))return Ze.indexOf(vt);const un=t.valueKey;let Tn=-1;return Ze.some((wo,us)=>sn(Pn(wo,un))===Pn(vt,un)?(Tn=us,!0):!1),Tn},x=Ze=>{var vt,un,Tn,wo,us;const Js=tt(Ze)?Ze[0]:Ze;let $o=null;if(Js!=null&&Js.value){const Ho=Se.value.filter(Zs=>Zs.value===Js.value);Ho.length>0&&($o=Ho[0].$el)}if(f.value&&$o){const Ho=(wo=(Tn=(un=(vt=f.value)==null?void 0:vt.popperRef)==null?void 0:un.contentRef)==null?void 0:Tn.querySelector)==null?void 0:wo.call(Tn,`.${l.be("dropdown","wrap")}`);Ho&&sM(Ho,$o)}(us=I.value)==null||us.handleScroll()},ee=Ze=>{u.options.set(Ze.value,Ze),u.cachedOptions.set(Ze.value,Ze),Ze.disabled&&u.disabledOptions.set(Ze.value,Ze)},pe=(Ze,vt)=>{u.options.get(Ze)===vt&&u.options.delete(Ze)},{handleCompositionStart:re,handleCompositionUpdate:je,handleCompositionEnd:Ct}=VD(Ze=>q(Ze)),U=w(()=>{var Ze,vt;return(vt=(Ze=f.value)==null?void 0:Ze.popperRef)==null?void 0:vt.contentRef}),se=()=>{u.isBeforeHide=!1,pt(()=>x(u.selected))},Ee=()=>{var Ze;(Ze=m.value)==null||Ze.focus()},Ie=()=>{Lt()},Qe=Ze=>{Re(Ze)},Lt=Ze=>{if(P.value=!1,S.value){const vt=new FocusEvent("focus",Ze);pt(()=>O(vt))}},Bn=()=>{u.inputValue.length>0?u.inputValue="":P.value=!1},go=()=>{Z.value||(ST&&(u.inputHovering=!0),u.menuVisibleOnFocus?u.menuVisibleOnFocus=!1:P.value=!P.value)},Fo=()=>{P.value?Se.value[u.hoveringIndex]&&Ye(Se.value[u.hoveringIndex]):go()},uo=Ze=>xt(Ze.value)?Pn(Ze.value,t.valueKey):Ze.value,Vn=w(()=>Se.value.filter(Ze=>Ze.visible).every(Ze=>Ze.disabled)),Io=w(()=>t.multiple?t.collapseTags?u.selected.slice(0,t.maxCollapseTags):u.selected:[]),qs=w(()=>t.multiple?t.collapseTags?u.selected.slice(t.maxCollapseTags):[]:[]),Dl=Ze=>{if(!P.value){P.value=!0;return}if(!(u.options.size===0||me.value===0)&&!Vn.value){Ze==="next"?(u.hoveringIndex++,u.hoveringIndex===u.options.size&&(u.hoveringIndex=0)):Ze==="prev"&&(u.hoveringIndex--,u.hoveringIndex<0&&(u.hoveringIndex=u.options.size-1));const vt=Se.value[u.hoveringIndex];(vt.disabled===!0||vt.states.groupDisabled===!0||!vt.visible)&&Dl(Ze),pt(()=>x(M.value))}},Yi=()=>{if(!p.value)return 0;const Ze=window.getComputedStyle(p.value);return Number.parseFloat(Ze.gap||"6px")},Pr=w(()=>{const Ze=Yi();return{maxWidth:`${y.value&&t.maxCollapseTags===1?u.selectionWidth-u.collapseItemWidth-Ze:u.selectionWidth}px`}}),ja=w(()=>({maxWidth:`${u.selectionWidth}px`})),xr=w(()=>({width:`${Math.max(u.calculatorWidth,Rte)}px`}));return t.multiple&&!tt(t.modelValue)&&n(Bt,[]),!t.multiple&&tt(t.modelValue)&&n(Bt,""),In(p,Ve),In(_,ue),In($,ke),In(C,ke),In(E,Ge),In(y,we),At(()=>{Fe()}),{inputId:B,contentId:i,nsSelect:l,nsInput:a,states:u,isFocused:S,expanded:P,optionsArray:Se,hoverOption:M,selectSize:_e,filteredOptionsCount:me,resetCalculatorWidth:ue,updateTooltip:ke,updateTagTooltip:Ge,debouncedOnInputChange:et,onInput:q,deletePrevTag:Tt,deleteTag:st,deleteSelected:Re,handleOptionSelect:Ye,scrollToOption:x,hasModelValue:j,shouldShowPlaceholder:Ne,currentPlaceholder:He,mouseEnterEventName:ae,showClose:z,iconComponent:G,iconReverse:W,validateState:D,validateIcon:X,showNewOption:de,updateOptions:ye,collapseTagSize:Ke,setSelected:Fe,selectDisabled:Z,emptyText:le,handleCompositionStart:re,handleCompositionUpdate:je,handleCompositionEnd:Ct,onOptionCreate:ee,onOptionDestroy:pe,handleMenuEnter:se,handleFocus:R,focus:Ee,blur:Ie,handleBlur:O,handleClearClick:Qe,handleClickOutside:Lt,handleEsc:Bn,toggleMenu:go,selectOption:Fo,getValueKey:uo,navigateOptions:Dl,dropdownMenuVisible:ve,showTagList:Io,collapseTagList:qs,tagStyle:Pr,collapseTagStyle:ja,inputStyle:xr,popperRef:U,inputRef:m,tooltipRef:f,tagTooltipRef:g,calculatorRef:_,prefixRef:b,suffixRef:T,selectRef:h,wrapperRef:C,selectionRef:p,scrollbarRef:I,menuRef:$,tagMenuRef:E,collapseItemRef:y}};var Nte=ne({name:"ElOptions",setup(t,{slots:n}){const o=it(zc);let i=[];return()=>{var l,a;const u=(l=n.default)==null?void 0:l.call(n),h=[];function p(f){tt(f)&&f.forEach(g=>{var m,_,b,T;const $=(m=(g==null?void 0:g.type)||{})==null?void 0:m.name;$==="ElOptionGroup"?p(!yt(g.children)&&!tt(g.children)&&_t((_=g.children)==null?void 0:_.default)?(b=g.children)==null?void 0:b.default():g.children):$==="ElOption"?h.push((T=g.props)==null?void 0:T.value):tt(g.children)&&p(g.children)})}return u.length&&p((a=u[0])==null?void 0:a.children),Do(h,i)||(i=h,o&&(o.states.optionValues=h)),u}}});const Lte=Ue({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:qn,effect:{type:fe(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:fe(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:so.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:ln,default:Nl},fitInputWidth:Boolean,suffixIcon:{type:ln,default:Lr},tagType:{...Gg.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:fe(String),values:Xa,default:"bottom-start"},fallbackPlacements:{type:fe(Array),default:["bottom-start","top-start","right","left"]},...Gc,...mo(["ariaLabel"])}),sA="ElSelect",Mte=ne({name:sA,componentName:sA,components:{ElInput:Mo,ElSelectMenu:Ote,ElOption:$0,ElOptions:Nte,ElTag:Dh,ElScrollbar:Dr,ElTooltip:xo,ElIcon:at},directives:{ClickOutside:kr},props:Lte,emits:[Bt,$n,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:n}){const o=Ate(t,n);return Ut(zc,Qt({props:t,states:o.states,optionsArray:o.optionsArray,handleOptionSelect:o.handleOptionSelect,onOptionCreate:o.onOptionCreate,onOptionDestroy:o.onOptionDestroy,selectRef:o.selectRef,setSelected:o.setSelected})),{...o}}}),Dte=["id","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],Pte=["textContent"],xte={key:1};function Bte(t,n,o,i,l,a){const u=Nt("el-tag"),h=Nt("el-tooltip"),p=Nt("el-icon"),f=Nt("el-option"),g=Nt("el-options"),m=Nt("el-scrollbar"),_=Nt("el-select-menu"),b=_g("click-outside");return Rt((N(),Y("div",{ref:"selectRef",class:L([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[nh(t.mouseEnterEventName)]:n[16]||(n[16]=T=>t.states.inputHovering=!0),onMouseleave:n[17]||(n[17]=T=>t.states.inputHovering=!1),onClick:n[18]||(n[18]=bt((...T)=>t.toggleMenu&&t.toggleMenu(...T),["prevent","stop"]))},[ie(h,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:n[15]||(n[15]=T=>t.states.isBeforeHide=!1)},{default:ce(()=>{var T;return[Q("div",{ref:"wrapperRef",class:L([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(N(),Y("div",{key:0,ref:"prefixRef",class:L(t.nsSelect.e("prefix"))},[Te(t.$slots,"prefix")],2)):$e("v-if",!0),Q("div",{ref:"selectionRef",class:L([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?Te(t.$slots,"tag",{key:0},()=>[(N(!0),Y(dt,null,zt(t.showTagList,$=>(N(),Y("div",{key:t.getValueKey($),class:L(t.nsSelect.e("selected-item"))},[ie(u,{closable:!t.selectDisabled&&!$.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:ct(t.tagStyle),onClose:E=>t.deleteTag(E,$)},{default:ce(()=>[Q("span",{class:L(t.nsSelect.e("tags-text"))},[Te(t.$slots,"label",{label:$.currentLabel,value:$.value},()=>[Wt(ze($.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(N(),be(h,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:ce(()=>[Q("div",{ref:"collapseItemRef",class:L(t.nsSelect.e("selected-item"))},[ie(u,{closable:!1,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:ct(t.collapseTagStyle)},{default:ce(()=>[Q("span",{class:L(t.nsSelect.e("tags-text"))}," + "+ze(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:ce(()=>[Q("div",{ref:"tagMenuRef",class:L(t.nsSelect.e("selection"))},[(N(!0),Y(dt,null,zt(t.collapseTagList,$=>(N(),Y("div",{key:t.getValueKey($),class:L(t.nsSelect.e("selected-item"))},[ie(u,{class:"in-tooltip",closable:!t.selectDisabled&&!$.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:E=>t.deleteTag(E,$)},{default:ce(()=>[Q("span",{class:L(t.nsSelect.e("tags-text"))},[Te(t.$slots,"label",{label:$.currentLabel,value:$.value},()=>[Wt(ze($.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):$e("v-if",!0)]):$e("v-if",!0),t.selectDisabled?$e("v-if",!0):(N(),Y("div",{key:1,class:L([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Rt(Q("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":n[0]||(n[0]=$=>t.states.inputValue=$),type:"text",name:t.name,class:L([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:ct(t.inputStyle),role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((T=t.hoverOption)==null?void 0:T.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:n[1]||(n[1]=(...$)=>t.handleFocus&&t.handleFocus(...$)),onBlur:n[2]||(n[2]=(...$)=>t.handleBlur&&t.handleBlur(...$)),onKeydown:[n[3]||(n[3]=rn(bt($=>t.navigateOptions("next"),["stop","prevent"]),["down"])),n[4]||(n[4]=rn(bt($=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),n[5]||(n[5]=rn(bt((...$)=>t.handleEsc&&t.handleEsc(...$),["stop","prevent"]),["esc"])),n[6]||(n[6]=rn(bt((...$)=>t.selectOption&&t.selectOption(...$),["stop","prevent"]),["enter"])),n[7]||(n[7]=rn(bt((...$)=>t.deletePrevTag&&t.deletePrevTag(...$),["stop"]),["delete"]))],onCompositionstart:n[8]||(n[8]=(...$)=>t.handleCompositionStart&&t.handleCompositionStart(...$)),onCompositionupdate:n[9]||(n[9]=(...$)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...$)),onCompositionend:n[10]||(n[10]=(...$)=>t.handleCompositionEnd&&t.handleCompositionEnd(...$)),onInput:n[11]||(n[11]=(...$)=>t.onInput&&t.onInput(...$)),onClick:n[12]||(n[12]=bt((...$)=>t.toggleMenu&&t.toggleMenu(...$),["stop"]))},null,46,Dte),[[oE,t.states.inputValue]]),t.filterable?(N(),Y("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:L(t.nsSelect.e("input-calculator")),textContent:ze(t.states.inputValue)},null,10,Pte)):$e("v-if",!0)],2)),t.shouldShowPlaceholder?(N(),Y("div",{key:2,class:L([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?Te(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[Q("span",null,ze(t.currentPlaceholder),1)]):(N(),Y("span",xte,ze(t.currentPlaceholder),1))],2)):$e("v-if",!0)],2),Q("div",{ref:"suffixRef",class:L(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(N(),be(p,{key:0,class:L([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:ce(()=>[(N(),be(Ft(t.iconComponent)))]),_:1},8,["class"])):$e("v-if",!0),t.showClose&&t.clearIcon?(N(),be(p,{key:1,class:L([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:ce(()=>[(N(),be(Ft(t.clearIcon)))]),_:1},8,["class","onClick"])):$e("v-if",!0),t.validateState&&t.validateIcon?(N(),be(p,{key:2,class:L([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:ce(()=>[(N(),be(Ft(t.validateIcon)))]),_:1},8,["class"])):$e("v-if",!0)],2)],2)]}),content:ce(()=>[ie(_,{ref:"menuRef"},{default:ce(()=>[t.$slots.header?(N(),Y("div",{key:0,class:L(t.nsSelect.be("dropdown","header")),onClick:n[13]||(n[13]=bt(()=>{},["stop"]))},[Te(t.$slots,"header")],2)):$e("v-if",!0),Rt(ie(m,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:L([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:ce(()=>[t.showNewOption?(N(),be(f,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):$e("v-if",!0),ie(g,null,{default:ce(()=>[Te(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[qt,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(N(),Y("div",{key:1,class:L(t.nsSelect.be("dropdown","loading"))},[Te(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(N(),Y("div",{key:2,class:L(t.nsSelect.be("dropdown","empty"))},[Te(t.$slots,"empty",{},()=>[Q("span",null,ze(t.emptyText),1)])],2)):$e("v-if",!0),t.$slots.footer?(N(),Y("div",{key:3,class:L(t.nsSelect.be("dropdown","footer")),onClick:n[14]||(n[14]=bt(()=>{},["stop"]))},[Te(t.$slots,"footer")],2)):$e("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],16)),[[b,t.handleClickOutside,t.popperRef]])}var Fte=We(Mte,[["render",Bte],["__file","select.vue"]]);const Hte=ne({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const n=xe("select"),o=V(null),i=Mt(),l=V([]);Ut(HD,Qt({...fo(t)}));const a=w(()=>l.value.some(f=>f.visible===!0)),u=f=>{var g,m;return((g=f.type)==null?void 0:g.name)==="ElOption"&&!!((m=f.component)!=null&&m.proxy)},h=f=>{const g=yl(f),m=[];return g.forEach(_=>{var b,T;u(_)?m.push(_.component.proxy):(b=_.children)!=null&&b.length?m.push(...h(_.children)):(T=_.component)!=null&&T.subTree&&m.push(...h(_.component.subTree))}),m},p=()=>{l.value=h(i.subTree)};return At(()=>{p()}),pL(o,p,{attributes:!0,subtree:!0,childList:!0}),{groupRef:o,visible:a,ns:n}}});function Vte(t,n,o,i,l,a){return Rt((N(),Y("ul",{ref:"groupRef",class:L(t.ns.be("group","wrap"))},[Q("li",{class:L(t.ns.be("group","title"))},ze(t.label),3),Q("li",null,[Q("ul",{class:L(t.ns.b("group"))},[Te(t.$slots,"default")],2)])],2)),[[qt,t.visible]])}var UD=We(Hte,[["render",Vte],["__file","option-group.vue"]]);const Va=Dt(Fte,{Option:$0,OptionGroup:UD}),og=kn($0),Ute=kn(UD),v0=()=>it(FD,{}),Gte=Ue({pageSize:{type:Number,required:!0},pageSizes:{type:fe(Array),default:()=>wn([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Ki}}),Wte=ne({name:"ElPaginationSizes"}),zte=ne({...Wte,props:Gte,emits:["page-size-change"],setup(t,{emit:n}){const o=t,{t:i}=Yt(),l=xe("pagination"),a=v0(),u=V(o.pageSize);Me(()=>o.pageSizes,(f,g)=>{if(!Do(f,g)&&Array.isArray(f)){const m=f.includes(o.pageSize)?o.pageSize:o.pageSizes[0];n("page-size-change",m)}}),Me(()=>o.pageSize,f=>{u.value=f});const h=w(()=>o.pageSizes);function p(f){var g;f!==u.value&&(u.value=f,(g=a.handleSizeChange)==null||g.call(a,Number(f)))}return(f,g)=>(N(),Y("span",{class:L(c(l).e("sizes"))},[ie(c(Va),{"model-value":u.value,disabled:f.disabled,"popper-class":f.popperClass,size:f.size,teleported:f.teleported,"validate-event":!1,onChange:p},{default:ce(()=>[(N(!0),Y(dt,null,zt(c(h),m=>(N(),be(c(og),{key:m,value:m,label:m+c(i)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var Kte=We(zte,[["__file","sizes.vue"]]);const Xte=Ue({size:{type:String,values:Ki}}),Yte=["disabled"],jte=ne({name:"ElPaginationJumper"}),qte=ne({...jte,props:Xte,setup(t){const{t:n}=Yt(),o=xe("pagination"),{pageCount:i,disabled:l,currentPage:a,changeEvent:u}=v0(),h=V(),p=w(()=>{var m;return(m=h.value)!=null?m:a==null?void 0:a.value});function f(m){h.value=m?+m:""}function g(m){m=Math.trunc(+m),u==null||u(m),h.value=void 0}return(m,_)=>(N(),Y("span",{class:L(c(o).e("jump")),disabled:c(l)},[Q("span",{class:L([c(o).e("goto")])},ze(c(n)("el.pagination.goto")),3),ie(c(Mo),{size:m.size,class:L([c(o).e("editor"),c(o).is("in-pagination")]),min:1,max:c(i),disabled:c(l),"model-value":c(p),"validate-event":!1,"aria-label":c(n)("el.pagination.page"),type:"number","onUpdate:modelValue":f,onChange:g},null,8,["size","class","max","disabled","model-value","aria-label"]),Q("span",{class:L([c(o).e("classifier")])},ze(c(n)("el.pagination.pageClassifier")),3)],10,Yte))}});var Jte=We(qte,[["__file","jumper.vue"]]);const Zte=Ue({total:{type:Number,default:1e3}}),Qte=["disabled"],ene=ne({name:"ElPaginationTotal"}),tne=ne({...ene,props:Zte,setup(t){const{t:n}=Yt(),o=xe("pagination"),{disabled:i}=v0();return(l,a)=>(N(),Y("span",{class:L(c(o).e("total")),disabled:c(i)},ze(c(n)("el.pagination.total",{total:l.total})),11,Qte))}});var nne=We(tne,[["__file","total.vue"]]);const one=Ue({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),sne=["onKeyup"],ine=["aria-current","aria-label","tabindex"],rne=["tabindex","aria-label"],lne=["aria-current","aria-label","tabindex"],ane=["tabindex","aria-label"],une=["aria-current","aria-label","tabindex"],cne=ne({name:"ElPaginationPager"}),dne=ne({...cne,props:one,emits:["change"],setup(t,{emit:n}){const o=t,i=xe("pager"),l=xe("icon"),{t:a}=Yt(),u=V(!1),h=V(!1),p=V(!1),f=V(!1),g=V(!1),m=V(!1),_=w(()=>{const S=o.pagerCount,R=(S-1)/2,O=Number(o.currentPage),P=Number(o.pageCount);let M=!1,H=!1;P>S&&(O>S-R&&(M=!0),O<P-R&&(H=!0));const F=[];if(M&&!H){const B=P-(S-2);for(let K=B;K<P;K++)F.push(K)}else if(!M&&H)for(let B=2;B<S;B++)F.push(B);else if(M&&H){const B=Math.floor(S/2)-1;for(let K=O-B;K<=O+B;K++)F.push(K)}else for(let B=2;B<P;B++)F.push(B);return F}),b=w(()=>["more","btn-quickprev",l.b(),i.is("disabled",o.disabled)]),T=w(()=>["more","btn-quicknext",l.b(),i.is("disabled",o.disabled)]),$=w(()=>o.disabled?-1:0);Eo(()=>{const S=(o.pagerCount-1)/2;u.value=!1,h.value=!1,o.pageCount>o.pagerCount&&(o.currentPage>o.pagerCount-S&&(u.value=!0),o.currentPage<o.pageCount-S&&(h.value=!0))});function E(S=!1){o.disabled||(S?p.value=!0:f.value=!0)}function y(S=!1){S?g.value=!0:m.value=!0}function I(S){const R=S.target;if(R.tagName.toLowerCase()==="li"&&Array.from(R.classList).includes("number")){const O=Number(R.textContent);O!==o.currentPage&&n("change",O)}else R.tagName.toLowerCase()==="li"&&Array.from(R.classList).includes("more")&&C(S)}function C(S){const R=S.target;if(R.tagName.toLowerCase()==="ul"||o.disabled)return;let O=Number(R.textContent);const P=o.pageCount,M=o.currentPage,H=o.pagerCount-2;R.className.includes("more")&&(R.className.includes("quickprev")?O=M-H:R.className.includes("quicknext")&&(O=M+H)),Number.isNaN(+O)||(O<1&&(O=1),O>P&&(O=P)),O!==M&&n("change",O)}return(S,R)=>(N(),Y("ul",{class:L(c(i).b()),onClick:C,onKeyup:rn(I,["enter"])},[S.pageCount>0?(N(),Y("li",{key:0,class:L([[c(i).is("active",S.currentPage===1),c(i).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===1,"aria-label":c(a)("el.pagination.currentPage",{pager:1}),tabindex:c($)}," 1 ",10,ine)):$e("v-if",!0),u.value?(N(),Y("li",{key:1,class:L(c(b)),tabindex:c($),"aria-label":c(a)("el.pagination.prevPages",{pager:S.pagerCount-2}),onMouseenter:R[0]||(R[0]=O=>E(!0)),onMouseleave:R[1]||(R[1]=O=>p.value=!1),onFocus:R[2]||(R[2]=O=>y(!0)),onBlur:R[3]||(R[3]=O=>g.value=!1)},[(p.value||g.value)&&!S.disabled?(N(),be(c(bc),{key:0})):(N(),be(c(KO),{key:1}))],42,rne)):$e("v-if",!0),(N(!0),Y(dt,null,zt(c(_),O=>(N(),Y("li",{key:O,class:L([[c(i).is("active",S.currentPage===O),c(i).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===O,"aria-label":c(a)("el.pagination.currentPage",{pager:O}),tabindex:c($)},ze(O),11,lne))),128)),h.value?(N(),Y("li",{key:2,class:L(c(T)),tabindex:c($),"aria-label":c(a)("el.pagination.nextPages",{pager:S.pagerCount-2}),onMouseenter:R[4]||(R[4]=O=>E()),onMouseleave:R[5]||(R[5]=O=>f.value=!1),onFocus:R[6]||(R[6]=O=>y()),onBlur:R[7]||(R[7]=O=>m.value=!1)},[(f.value||m.value)&&!S.disabled?(N(),be(c(Tc),{key:0})):(N(),be(c(KO),{key:1}))],42,ane)):$e("v-if",!0),S.pageCount>1?(N(),Y("li",{key:3,class:L([[c(i).is("active",S.currentPage===S.pageCount),c(i).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===S.pageCount,"aria-label":c(a)("el.pagination.currentPage",{pager:S.pageCount}),tabindex:c($)},ze(S.pageCount),11,une)):$e("v-if",!0)],42,sne))}});var hne=We(dne,[["__file","pager.vue"]]);const zo=t=>typeof t!="number",pne=Ue({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>$t(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:fe(Array),default:()=>wn([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:ln,default:()=>Cl},nextText:{type:String,default:""},nextIcon:{type:ln,default:()=>Xo},teleported:{type:Boolean,default:!0},small:Boolean,size:qn,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),fne={"update:current-page":t=>$t(t),"update:page-size":t=>$t(t),"size-change":t=>$t(t),change:(t,n)=>$t(t)&&$t(n),"current-change":t=>$t(t),"prev-click":t=>$t(t),"next-click":t=>$t(t)},iA="ElPagination";var mne=ne({name:iA,props:pne,emits:fne,setup(t,{emit:n,slots:o}){const{t:i}=Yt(),l=xe("pagination"),a=Mt().vnode.props||{},u=w(()=>t.small?"small":t==null?void 0:t.size);Qn({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},w(()=>!!t.small));const h="onUpdate:currentPage"in a||"onUpdate:current-page"in a||"onCurrentChange"in a,p="onUpdate:pageSize"in a||"onUpdate:page-size"in a||"onSizeChange"in a,f=w(()=>{if(zo(t.total)&&zo(t.pageCount)||!zo(t.currentPage)&&!h)return!1;if(t.layout.includes("sizes")){if(zo(t.pageCount)){if(!zo(t.total)&&!zo(t.pageSize)&&!p)return!1}else if(!p)return!1}return!0}),g=V(zo(t.defaultPageSize)?10:t.defaultPageSize),m=V(zo(t.defaultCurrentPage)?1:t.defaultCurrentPage),_=w({get(){return zo(t.pageSize)?g.value:t.pageSize},set(S){zo(t.pageSize)&&(g.value=S),p&&(n("update:page-size",S),n("size-change",S))}}),b=w(()=>{let S=0;return zo(t.pageCount)?zo(t.total)||(S=Math.max(1,Math.ceil(t.total/_.value))):S=t.pageCount,S}),T=w({get(){return zo(t.currentPage)?m.value:t.currentPage},set(S){let R=S;S<1?R=1:S>b.value&&(R=b.value),zo(t.currentPage)&&(m.value=R),h&&(n("update:current-page",R),n("current-change",R))}});Me(b,S=>{T.value>S&&(T.value=S)}),Me([T,_],S=>{n("change",...S)},{flush:"post"});function $(S){T.value=S}function E(S){_.value=S;const R=b.value;T.value>R&&(T.value=R)}function y(){t.disabled||(T.value-=1,n("prev-click",T.value))}function I(){t.disabled||(T.value+=1,n("next-click",T.value))}function C(S,R){S&&(S.props||(S.props={}),S.props.class=[S.props.class,R].join(" "))}return Ut(FD,{pageCount:b,disabled:w(()=>t.disabled),currentPage:T,changeEvent:$,handleSizeChange:E}),()=>{var S,R;if(!f.value)return i("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&b.value<=1)return null;const O=[],P=[],M=ft("div",{class:l.e("rightwrapper")},P),H={prev:ft(gte,{disabled:t.disabled,currentPage:T.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:y}),jumper:ft(Jte,{size:u.value}),pager:ft(hne,{currentPage:T.value,pageCount:b.value,pagerCount:t.pagerCount,onChange:$,disabled:t.disabled}),next:ft(yte,{disabled:t.disabled,currentPage:T.value,pageCount:b.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:I}),sizes:ft(Kte,{pageSize:_.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:u.value}),slot:(R=(S=o==null?void 0:o.default)==null?void 0:S.call(o))!=null?R:null,total:ft(nne,{total:zo(t.total)?0:t.total})},F=t.layout.split(",").map(K=>K.trim());let B=!1;return F.forEach(K=>{if(K==="->"){B=!0;return}B?P.push(H[K]):O.push(H[K])}),C(O[0],l.is("first")),C(O[O.length-1],l.is("last")),B&&P.length>0&&(C(P[0],l.is("first")),C(P[P.length-1],l.is("last")),O.push(M)),ft("div",{class:[l.b(),l.is("background",t.background),l.m(u.value)]},O)}}});const gne=Dt(mne),$ne=Ue({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:GT,default:"primary"},cancelButtonType:{type:String,values:GT,default:"text"},icon:{type:ln,default:()=>B4},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:so.teleported,persistent:so.persistent,width:{type:[String,Number],default:150}}),vne={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},_ne=ne({name:"ElPopconfirm"}),bne=ne({..._ne,props:$ne,emits:vne,setup(t,{emit:n}){const o=t,{t:i}=Yt(),l=xe("popconfirm"),a=V(),u=()=>{var _,b;(b=(_=a.value)==null?void 0:_.onClose)==null||b.call(_)},h=w(()=>({width:Ln(o.width)})),p=_=>{n("confirm",_),u()},f=_=>{n("cancel",_),u()},g=w(()=>o.confirmButtonText||i("el.popconfirm.confirmButtonText")),m=w(()=>o.cancelButtonText||i("el.popconfirm.cancelButtonText"));return(_,b)=>(N(),be(c(xo),Vt({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},_.$attrs,{"popper-class":`${c(l).namespace.value}-popover`,"popper-style":c(h),teleported:_.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":_.hideAfter,persistent:_.persistent}),{content:ce(()=>[Q("div",{class:L(c(l).b())},[Q("div",{class:L(c(l).e("main"))},[!_.hideIcon&&_.icon?(N(),be(c(at),{key:0,class:L(c(l).e("icon")),style:ct({color:_.iconColor})},{default:ce(()=>[(N(),be(Ft(_.icon)))]),_:1},8,["class","style"])):$e("v-if",!0),Wt(" "+ze(_.title),1)],2),Q("div",{class:L(c(l).e("action"))},[ie(c(ro),{size:"small",type:_.cancelButtonType==="text"?"":_.cancelButtonType,text:_.cancelButtonType==="text",onClick:f},{default:ce(()=>[Wt(ze(c(m)),1)]),_:1},8,["type","text"]),ie(c(ro),{size:"small",type:_.confirmButtonType==="text"?"":_.confirmButtonType,text:_.confirmButtonType==="text",onClick:p},{default:ce(()=>[Wt(ze(c(g)),1)]),_:1},8,["type","text"])],2)],2)]),default:ce(()=>[_.$slots.reference?Te(_.$slots,"reference",{key:0}):$e("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Tne=We(bne,[["__file","popconfirm.vue"]]);const yne=Dt(Tne),Ene=Ue({trigger:Mh.trigger,placement:Im.placement,disabled:Mh.disabled,visible:so.visible,transition:so.transition,popperOptions:Im.popperOptions,tabindex:Im.tabindex,content:so.content,popperStyle:so.popperStyle,popperClass:so.popperClass,enterable:{...so.enterable,default:!0},effect:{...so.effect,default:"light"},teleported:so.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Cne={"update:visible":t=>Hn(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Sne="onUpdate:visible",Ine=ne({name:"ElPopover"}),wne=ne({...Ine,props:Ene,emits:Cne,setup(t,{expose:n,emit:o}){const i=t,l=w(()=>i[Sne]),a=xe("popover"),u=V(),h=w(()=>{var E;return(E=c(u))==null?void 0:E.popperRef}),p=w(()=>[{width:Ln(i.width)},i.popperStyle]),f=w(()=>[a.b(),i.popperClass,{[a.m("plain")]:!!i.content}]),g=w(()=>i.transition===`${a.namespace.value}-fade-in-linear`),m=()=>{var E;(E=u.value)==null||E.hide()},_=()=>{o("before-enter")},b=()=>{o("before-leave")},T=()=>{o("after-enter")},$=()=>{o("update:visible",!1),o("after-leave")};return n({popperRef:h,hide:m}),(E,y)=>(N(),be(c(xo),Vt({ref_key:"tooltipRef",ref:u},E.$attrs,{trigger:E.trigger,placement:E.placement,disabled:E.disabled,visible:E.visible,transition:E.transition,"popper-options":E.popperOptions,tabindex:E.tabindex,content:E.content,offset:E.offset,"show-after":E.showAfter,"hide-after":E.hideAfter,"auto-close":E.autoClose,"show-arrow":E.showArrow,"aria-label":E.title,effect:E.effect,enterable:E.enterable,"popper-class":c(f),"popper-style":c(p),teleported:E.teleported,persistent:E.persistent,"gpu-acceleration":c(g),"onUpdate:visible":c(l),onBeforeShow:_,onBeforeHide:b,onShow:T,onHide:$}),{content:ce(()=>[E.title?(N(),Y("div",{key:0,class:L(c(a).e("title")),role:"title"},ze(E.title),3)):$e("v-if",!0),Te(E.$slots,"default",{},()=>[Wt(ze(E.content),1)])]),default:ce(()=>[E.$slots.reference?Te(E.$slots,"reference",{key:0}):$e("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var kne=We(wne,[["__file","popover.vue"]]);const rA=(t,n)=>{const o=n.arg||n.value,i=o==null?void 0:o.popperRef;i&&(i.triggerRef=t)};var One={mounted(t,n){rA(t,n)},updated(t,n){rA(t,n)}};const Rne="popover",GD=lz(One,Rne),Ane=Dt(kne,{directive:GD}),Nne=Ue({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:fe(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:fe([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:fe(Function),default:t=>`${t}%`}}),Lne=["aria-valuenow"],Mne={viewBox:"0 0 100 100"},Dne=["d","stroke","stroke-linecap","stroke-width"],Pne=["d","stroke","opacity","stroke-linecap","stroke-width"],xne={key:0},Bne=ne({name:"ElProgress"}),Fne=ne({...Bne,props:Nne,setup(t){const n=t,o={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},i=xe("progress"),l=w(()=>{const C={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},S=I(n.percentage);return S.includes("gradient")?C.background=S:C.backgroundColor=S,C}),a=w(()=>(n.strokeWidth/n.width*100).toFixed(1)),u=w(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),h=w(()=>{const C=u.value,S=n.type==="dashboard";return`
          M 50 50
          m 0 ${S?"":"-"}${C}
          a ${C} ${C} 0 1 1 0 ${S?"-":""}${C*2}
          a ${C} ${C} 0 1 1 0 ${S?"":"-"}${C*2}
          `}),p=w(()=>2*Math.PI*u.value),f=w(()=>n.type==="dashboard"?.75:1),g=w(()=>`${-1*p.value*(1-f.value)/2}px`),m=w(()=>({strokeDasharray:`${p.value*f.value}px, ${p.value}px`,strokeDashoffset:g.value})),_=w(()=>({strokeDasharray:`${p.value*f.value*(n.percentage/100)}px, ${p.value}px`,strokeDashoffset:g.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),b=w(()=>{let C;return n.color?C=I(n.percentage):C=o[n.status]||o.default,C}),T=w(()=>n.status==="warning"?Lg:n.type==="line"?n.status==="success"?IE:Nl:n.status==="success"?Qh:hi),$=w(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),E=w(()=>n.format(n.percentage));function y(C){const S=100/C.length;return C.map((O,P)=>yt(O)?{color:O,percentage:(P+1)*S}:O).sort((O,P)=>O.percentage-P.percentage)}const I=C=>{var S;const{color:R}=n;if(_t(R))return R(C);if(yt(R))return R;{const O=y(R);for(const P of O)if(P.percentage>C)return P.color;return(S=O[O.length-1])==null?void 0:S.color}};return(C,S)=>(N(),Y("div",{class:L([c(i).b(),c(i).m(C.type),c(i).is(C.status),{[c(i).m("without-text")]:!C.showText,[c(i).m("text-inside")]:C.textInside}]),role:"progressbar","aria-valuenow":C.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[C.type==="line"?(N(),Y("div",{key:0,class:L(c(i).b("bar"))},[Q("div",{class:L(c(i).be("bar","outer")),style:ct({height:`${C.strokeWidth}px`})},[Q("div",{class:L([c(i).be("bar","inner"),{[c(i).bem("bar","inner","indeterminate")]:C.indeterminate},{[c(i).bem("bar","inner","striped")]:C.striped},{[c(i).bem("bar","inner","striped-flow")]:C.stripedFlow}]),style:ct(c(l))},[(C.showText||C.$slots.default)&&C.textInside?(N(),Y("div",{key:0,class:L(c(i).be("bar","innerText"))},[Te(C.$slots,"default",{percentage:C.percentage},()=>[Q("span",null,ze(c(E)),1)])],2)):$e("v-if",!0)],6)],6)],2)):(N(),Y("div",{key:1,class:L(c(i).b("circle")),style:ct({height:`${C.width}px`,width:`${C.width}px`})},[(N(),Y("svg",Mne,[Q("path",{class:L(c(i).be("circle","track")),d:c(h),stroke:`var(${c(i).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":C.strokeLinecap,"stroke-width":c(a),fill:"none",style:ct(c(m))},null,14,Dne),Q("path",{class:L(c(i).be("circle","path")),d:c(h),stroke:c(b),fill:"none",opacity:C.percentage?1:0,"stroke-linecap":C.strokeLinecap,"stroke-width":c(a),style:ct(c(_))},null,14,Pne)]))],6)),(C.showText||C.$slots.default)&&!C.textInside?(N(),Y("div",{key:2,class:L(c(i).e("text")),style:ct({fontSize:`${c($)}px`})},[Te(C.$slots,"default",{percentage:C.percentage},()=>[C.status?(N(),be(c(at),{key:1},{default:ce(()=>[(N(),be(Ft(c(T))))]),_:1})):(N(),Y("span",xne,ze(c(E)),1))])],6)):$e("v-if",!0)],10,Lne))}});var Hne=We(Fne,[["__file","progress.vue"]]);const WD=Dt(Hne),Vne=Ue({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:fe([Array,Object]),default:()=>wn(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:fe([Array,Object]),default:()=>[Xf,Xf,Xf]},voidIcon:{type:ln,default:()=>Z4},disabledVoidIcon:{type:ln,default:()=>Xf},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:fe(Array),default:()=>wn(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:qn,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1},...mo(["ariaLabel"])}),Une={[$n]:t=>$t(t),[Bt]:t=>$t(t)},Gne=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Wne=["onMousemove","onClick"],zne=ne({name:"ElRate"}),Kne=ne({...zne,props:Vne,emits:Une,setup(t,{expose:n,emit:o}){const i=t;function l(z,G){const W=oe=>xt(oe),D=Object.keys(G).map(oe=>+oe).filter(oe=>{const le=G[oe];return(W(le)?le.excluded:!1)?z<oe:z<=oe}).sort((oe,le)=>oe-le),X=G[D[0]];return W(X)&&X.value||X}const a=it(Ya,void 0),u=it(zi,void 0),h=Kn(),p=xe("rate"),{inputId:f,isLabeledByFormItem:g}=$i(i,{formItemContext:u}),m=V(i.modelValue),_=V(-1),b=V(!0),T=w(()=>[p.b(),p.m(h.value)]),$=w(()=>i.disabled||(a==null?void 0:a.disabled)),E=w(()=>p.cssVarBlock({"void-color":i.voidColor,"disabled-void-color":i.disabledVoidColor,"fill-color":S.value})),y=w(()=>{let z="";return i.showScore?z=i.scoreTemplate.replace(/\{\s*value\s*\}/,$.value?`${i.modelValue}`:`${m.value}`):i.showText&&(z=i.texts[Math.ceil(m.value)-1]),z}),I=w(()=>i.modelValue*100-Math.floor(i.modelValue)*100),C=w(()=>tt(i.colors)?{[i.lowThreshold]:i.colors[0],[i.highThreshold]:{value:i.colors[1],excluded:!0},[i.max]:i.colors[2]}:i.colors),S=w(()=>{const z=l(m.value,C.value);return xt(z)?"":z}),R=w(()=>{let z="";return $.value?z=`${I.value}%`:i.allowHalf&&(z="50%"),{color:S.value,width:z}}),O=w(()=>{let z=tt(i.icons)?[...i.icons]:{...i.icons};return z=sc(z),tt(z)?{[i.lowThreshold]:z[0],[i.highThreshold]:{value:z[1],excluded:!0},[i.max]:z[2]}:z}),P=w(()=>l(i.modelValue,O.value)),M=w(()=>$.value?yt(i.disabledVoidIcon)?i.disabledVoidIcon:sc(i.disabledVoidIcon):yt(i.voidIcon)?i.voidIcon:sc(i.voidIcon)),H=w(()=>l(m.value,O.value));function F(z){const G=$.value&&I.value>0&&z-1<i.modelValue&&z>i.modelValue,W=i.allowHalf&&b.value&&z-.5<=m.value&&z>m.value;return G||W}function B(z){i.clearable&&z===i.modelValue&&(z=0),o(Bt,z),i.modelValue!==z&&o("change",z)}function K(z){$.value||(i.allowHalf&&b.value?B(m.value):B(z))}function te(z){if($.value)return;let G=m.value;const W=z.code;return W===mt.up||W===mt.right?(i.allowHalf?G+=.5:G+=1,z.stopPropagation(),z.preventDefault()):(W===mt.left||W===mt.down)&&(i.allowHalf?G-=.5:G-=1,z.stopPropagation(),z.preventDefault()),G=G<0?0:G,G=G>i.max?i.max:G,o(Bt,G),o("change",G),G}function Z(z,G){if(!$.value){if(i.allowHalf&&G){let W=G.target;Vs(W,p.e("item"))&&(W=W.querySelector(`.${p.e("icon")}`)),(W.clientWidth===0||Vs(W,p.e("decimal")))&&(W=W.parentNode),b.value=G.offsetX*2<=W.clientWidth,m.value=b.value?z-.5:z}else m.value=z;_.value=z}}function j(){$.value||(i.allowHalf&&(b.value=i.modelValue!==Math.floor(i.modelValue)),m.value=i.modelValue,_.value=-1)}return Me(()=>i.modelValue,z=>{m.value=z,b.value=i.modelValue!==Math.floor(i.modelValue)}),i.modelValue||o(Bt,0),Qn({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-rate",ref:"https://element-plus.org/en-US/component/rate.html"},w(()=>!!i.label)),n({setCurrentValue:Z,resetCurrentValue:j}),(z,G)=>{var W;return N(),Y("div",{id:c(f),class:L([c(T),c(p).is("disabled",c($))]),role:"slider","aria-label":c(g)?void 0:z.label||z.ariaLabel||"rating","aria-labelledby":c(g)?(W=c(u))==null?void 0:W.labelId:void 0,"aria-valuenow":m.value,"aria-valuetext":c(y)||void 0,"aria-valuemin":"0","aria-valuemax":z.max,tabindex:"0",style:ct(c(E)),onKeydown:te},[(N(!0),Y(dt,null,zt(z.max,(D,X)=>(N(),Y("span",{key:X,class:L(c(p).e("item")),onMousemove:oe=>Z(D,oe),onMouseleave:j,onClick:oe=>K(D)},[ie(c(at),{class:L([c(p).e("icon"),{hover:_.value===D},c(p).is("active",D<=m.value)])},{default:ce(()=>[F(D)?$e("v-if",!0):(N(),Y(dt,{key:0},[Rt((N(),be(Ft(c(H)),null,null,512)),[[qt,D<=m.value]]),Rt((N(),be(Ft(c(M)),null,null,512)),[[qt,!(D<=m.value)]])],64)),F(D)?(N(),Y(dt,{key:1},[(N(),be(Ft(c(M)),{class:L([c(p).em("decimal","box")])},null,8,["class"])),ie(c(at),{style:ct(c(R)),class:L([c(p).e("icon"),c(p).e("decimal")])},{default:ce(()=>[(N(),be(Ft(c(P))))]),_:1},8,["style","class"])],64)):$e("v-if",!0)]),_:2},1032,["class"])],42,Wne))),128)),z.showText||z.showScore?(N(),Y("span",{key:0,class:L(c(p).e("text")),style:ct({color:z.textColor})},ze(c(y)),7)):$e("v-if",!0)],46,Gne)}}});var Xne=We(Kne,[["__file","rate.vue"]]);const Yne=Dt(Xne),Qu={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},lA={[Qu.success]:d4,[Qu.warning]:Lg,[Qu.error]:wE,[Qu.info]:kE},jne=Ue({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),qne=ne({name:"ElResult"}),Jne=ne({...qne,props:jne,setup(t){const n=t,o=xe("result"),i=w(()=>{const l=n.icon,a=l&&Qu[l]?Qu[l]:"icon-info",u=lA[a]||lA["icon-info"];return{class:a,component:u}});return(l,a)=>(N(),Y("div",{class:L(c(o).b())},[Q("div",{class:L(c(o).e("icon"))},[Te(l.$slots,"icon",{},()=>[c(i).component?(N(),be(Ft(c(i).component),{key:0,class:L(c(i).class)},null,8,["class"])):$e("v-if",!0)])],2),l.title||l.$slots.title?(N(),Y("div",{key:0,class:L(c(o).e("title"))},[Te(l.$slots,"title",{},()=>[Q("p",null,ze(l.title),1)])],2)):$e("v-if",!0),l.subTitle||l.$slots["sub-title"]?(N(),Y("div",{key:1,class:L(c(o).e("subtitle"))},[Te(l.$slots,"sub-title",{},()=>[Q("p",null,ze(l.subTitle),1)])],2)):$e("v-if",!0),l.$slots.extra?(N(),Y("div",{key:2,class:L(c(o).e("extra"))},[Te(l.$slots,"extra")],2)):$e("v-if",!0)],2))}});var Zne=We(Jne,[["__file","result.vue"]]);const Qne=Dt(Zne);var aA=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function eoe(t,n){return!!(t===n||aA(t)&&aA(n))}function toe(t,n){if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!eoe(t[o],n[o]))return!1;return!0}function noe(t,n){n===void 0&&(n=toe);var o=null;function i(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];if(o&&o.lastThis===this&&n(l,o.lastArgs))return o.lastResult;var u=t.apply(this,l);return o={lastResult:u,lastArgs:l,lastThis:this},u}return i.clear=function(){o=null},i}const zD=()=>{const n=Mt().proxy.$props;return w(()=>{const o=(i,l,a)=>({});return n.perfMode?Og(o):noe(o)})},cy=50,sg="itemRendered",ig="scroll",ec="forward",rg="backward",Fs="auto",Kg="smart",xh="start",Bi="center",Bh="end",Rc="horizontal",_0="vertical",ooe="ltr",cc="rtl",Fh="negative",b0="positive-ascending",T0="positive-descending",soe={[Rc]:"left",[_0]:"top"},ioe=20,roe={[Rc]:"deltaX",[_0]:"deltaY"},loe=({atEndEdge:t,atStartEdge:n,layout:o},i)=>{let l,a=0;const u=p=>p<0&&n.value||p>0&&t.value;return{hasReachedEdge:u,onWheel:p=>{Ba(l);const f=p[roe[o.value]];u(a)&&u(a+f)||(a+=f,mL()||p.preventDefault(),l=El(()=>{i(a),a=0}))}}},dy=mi({type:fe([Number,Function]),required:!0}),hy=mi({type:Number}),py=mi({type:Number,default:2}),aoe=mi({type:String,values:["ltr","rtl"],default:"ltr"}),fy=mi({type:Number,default:0}),lg=mi({type:Number,required:!0}),KD=mi({type:String,values:["horizontal","vertical"],default:_0}),XD=Ue({className:{type:String,default:""},containerElement:{type:fe([String,Object]),default:"div"},data:{type:fe(Array),default:()=>wn([])},direction:aoe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:fe([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),YD=Ue({cache:py,estimatedItemSize:hy,layout:KD,initScrollOffset:fy,total:lg,itemSize:dy,...XD}),my={type:Number,default:6},jD={type:Number,default:0},qD={type:Number,default:2},La=Ue({columnCache:py,columnWidth:dy,estimatedColumnWidth:hy,estimatedRowHeight:hy,initScrollLeft:fy,initScrollTop:fy,itemKey:{type:fe(Function),default:({columnIndex:t,rowIndex:n})=>`${n}:${t}`},rowCache:py,rowHeight:dy,totalColumn:lg,totalRow:lg,hScrollbarSize:my,vScrollbarSize:my,scrollbarStartGap:jD,scrollbarEndGap:qD,role:String,...XD}),JD=Ue({alwaysOn:Boolean,class:String,layout:KD,total:lg,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:my,startGap:jD,endGap:qD,visible:Boolean}),Sa=(t,n)=>t<n?ec:rg,Hh=t=>t===ooe||t===cc||t===Rc,uA=t=>t===cc;let Ku=null;function ag(t=!1){if(Ku===null||t){const n=document.createElement("div"),o=n.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";const i=document.createElement("div"),l=i.style;return l.width="100px",l.height="100px",n.appendChild(i),document.body.appendChild(n),n.scrollLeft>0?Ku=T0:(n.scrollLeft=1,n.scrollLeft===0?Ku=Fh:Ku=b0),document.body.removeChild(n),Ku}return Ku}function uoe({move:t,size:n,bar:o},i){const l={},a=`translate${o.axis}(${t}px)`;return l[o.size]=n,l.transform=a,l.msTransform=a,l.webkitTransform=a,i==="horizontal"?l.height="100%":l.width="100%",l}const gy=ne({name:"ElVirtualScrollBar",props:JD,emits:["scroll","start-move","stop-move"],setup(t,{emit:n}){const o=w(()=>t.startGap+t.endGap),i=xe("virtual-scrollbar"),l=xe("scrollbar"),a=V(),u=V();let h=null,p=null;const f=Qt({isDragging:!1,traveled:0}),g=w(()=>qM[t.layout]),m=w(()=>t.clientSize-c(o)),_=w(()=>({position:"absolute",width:`${Rc===t.layout?m.value:t.scrollbarSize}px`,height:`${Rc===t.layout?t.scrollbarSize:m.value}px`,[soe[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),b=w(()=>{const O=t.ratio,P=t.clientSize;if(O>=100)return Number.POSITIVE_INFINITY;if(O>=50)return O*P/100;const M=P/3;return Math.floor(Math.min(Math.max(O*P,ioe),M))}),T=w(()=>{if(!Number.isFinite(b.value))return{display:"none"};const O=`${b.value}px`;return uoe({bar:g.value,size:O,move:f.traveled},t.layout)}),$=w(()=>Math.floor(t.clientSize-b.value-c(o))),E=()=>{window.addEventListener("mousemove",S),window.addEventListener("mouseup",C);const O=c(u);O&&(p=document.onselectstart,document.onselectstart=()=>!1,O.addEventListener("touchmove",S),O.addEventListener("touchend",C))},y=()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",C),document.onselectstart=p,p=null;const O=c(u);O&&(O.removeEventListener("touchmove",S),O.removeEventListener("touchend",C))},I=O=>{O.stopImmediatePropagation(),!(O.ctrlKey||[1,2].includes(O.button))&&(f.isDragging=!0,f[g.value.axis]=O.currentTarget[g.value.offset]-(O[g.value.client]-O.currentTarget.getBoundingClientRect()[g.value.direction]),n("start-move"),E())},C=()=>{f.isDragging=!1,f[g.value.axis]=0,n("stop-move"),y()},S=O=>{const{isDragging:P}=f;if(!P||!u.value||!a.value)return;const M=f[g.value.axis];if(!M)return;Ba(h);const H=(a.value.getBoundingClientRect()[g.value.direction]-O[g.value.client])*-1,F=u.value[g.value.offset]-M,B=H-F;h=El(()=>{f.traveled=Math.max(t.startGap,Math.min(B,$.value)),n("scroll",B,$.value)})},R=O=>{const P=Math.abs(O.target.getBoundingClientRect()[g.value.direction]-O[g.value.client]),M=u.value[g.value.offset]/2,H=P-M;f.traveled=Math.max(0,Math.min(H,$.value)),n("scroll",H,$.value)};return Me(()=>t.scrollFrom,O=>{f.isDragging||(f.traveled=Math.ceil(O*$.value))}),fn(()=>{y()}),()=>ft("div",{role:"presentation",ref:a,class:[i.b(),t.class,(t.alwaysOn||f.isDragging)&&"always-on"],style:_.value,onMousedown:bt(R,["stop","prevent"]),onTouchstartPrevent:I},ft("div",{ref:u,class:l.e("thumb"),style:T.value,onMousedown:I},[]))}}),ZD=({name:t,getOffset:n,getItemSize:o,getItemOffset:i,getEstimatedTotalSize:l,getStartIndexForOffset:a,getStopIndexForStartIndex:u,initCache:h,clearCache:p,validateProps:f})=>ne({name:t??"ElVirtualList",props:YD,emits:[sg,ig],setup(g,{emit:m,expose:_}){f(g);const b=Mt(),T=xe("vl"),$=V(h(g,b)),E=zD(),y=V(),I=V(),C=V(),S=V({isScrolling:!1,scrollDir:"forward",scrollOffset:$t(g.initScrollOffset)?g.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:g.scrollbarAlwaysOn}),R=w(()=>{const{total:me,cache:Se}=g,{isScrolling:Pe,scrollDir:de,scrollOffset:ye}=c(S);if(me===0)return[0,0,0,0];const _e=a(g,ye,c($)),Ke=u(g,_e,ye,c($)),ve=!Pe||de===rg?Math.max(1,Se):1,Ne=!Pe||de===ec?Math.max(1,Se):1;return[Math.max(0,_e-ve),Math.max(0,Math.min(me-1,Ke+Ne)),_e,Ke]}),O=w(()=>l(g,c($))),P=w(()=>Hh(g.layout)),M=w(()=>[{position:"relative",[`overflow-${P.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:$t(g.height)?`${g.height}px`:g.height,width:$t(g.width)?`${g.width}px`:g.width},g.style]),H=w(()=>{const me=c(O),Se=c(P);return{height:Se?"100%":`${me}px`,pointerEvents:c(S).isScrolling?"none":void 0,width:Se?`${me}px`:"100%"}}),F=w(()=>P.value?g.width:g.height),{onWheel:B}=loe({atStartEdge:w(()=>S.value.scrollOffset<=0),atEndEdge:w(()=>S.value.scrollOffset>=O.value),layout:w(()=>g.layout)},me=>{var Se,Pe;(Pe=(Se=C.value).onMouseUp)==null||Pe.call(Se),G(Math.min(S.value.scrollOffset+me,O.value-F.value))}),K=()=>{const{total:me}=g;if(me>0){const[ye,_e,Ke,ve]=c(R);m(sg,ye,_e,Ke,ve)}const{scrollDir:Se,scrollOffset:Pe,updateRequested:de}=c(S);m(ig,Se,Pe,de)},te=me=>{const{clientHeight:Se,scrollHeight:Pe,scrollTop:de}=me.currentTarget,ye=c(S);if(ye.scrollOffset===de)return;const _e=Math.max(0,Math.min(de,Pe-Se));S.value={...ye,isScrolling:!0,scrollDir:Sa(ye.scrollOffset,_e),scrollOffset:_e,updateRequested:!1},pt(X)},Z=me=>{const{clientWidth:Se,scrollLeft:Pe,scrollWidth:de}=me.currentTarget,ye=c(S);if(ye.scrollOffset===Pe)return;const{direction:_e}=g;let Ke=Pe;if(_e===cc)switch(ag()){case Fh:{Ke=-Pe;break}case T0:{Ke=de-Se-Pe;break}}Ke=Math.max(0,Math.min(Ke,de-Se)),S.value={...ye,isScrolling:!0,scrollDir:Sa(ye.scrollOffset,Ke),scrollOffset:Ke,updateRequested:!1},pt(X)},j=me=>{c(P)?Z(me):te(me),K()},z=(me,Se)=>{const Pe=(O.value-F.value)/Se*me;G(Math.min(O.value-F.value,Pe))},G=me=>{me=Math.max(me,0),me!==c(S).scrollOffset&&(S.value={...c(S),scrollOffset:me,scrollDir:Sa(c(S).scrollOffset,me),updateRequested:!0},pt(X))},W=(me,Se=Fs)=>{const{scrollOffset:Pe}=c(S);me=Math.max(0,Math.min(me,g.total-1)),G(n(g,me,Se,Pe,c($)))},D=me=>{const{direction:Se,itemSize:Pe,layout:de}=g,ye=E.value(p&&Pe,p&&de,p&&Se);let _e;if(Xt(ye,String(me)))_e=ye[me];else{const Ke=i(g,me,c($)),ve=o(g,me,c($)),Ne=c(P),He=Se===cc,ae=Ne?Ke:0;ye[me]=_e={position:"absolute",left:He?void 0:`${ae}px`,right:He?`${ae}px`:void 0,top:Ne?0:`${Ke}px`,height:Ne?"100%":`${ve}px`,width:Ne?`${ve}px`:"100%"}}return _e},X=()=>{S.value.isScrolling=!1,pt(()=>{E.value(-1,null,null)})},oe=()=>{const me=y.value;me&&(me.scrollTop=0)};At(()=>{if(!Kt)return;const{initScrollOffset:me}=g,Se=c(y);$t(me)&&Se&&(c(P)?Se.scrollLeft=me:Se.scrollTop=me),K()}),Rr(()=>{const{direction:me,layout:Se}=g,{scrollOffset:Pe,updateRequested:de}=c(S),ye=c(y);if(de&&ye)if(Se===Rc)if(me===cc)switch(ag()){case Fh:{ye.scrollLeft=-Pe;break}case b0:{ye.scrollLeft=Pe;break}default:{const{clientWidth:_e,scrollWidth:Ke}=ye;ye.scrollLeft=Ke-_e-Pe;break}}else ye.scrollLeft=Pe;else ye.scrollTop=Pe});const le={ns:T,clientSize:F,estimatedTotalSize:O,windowStyle:M,windowRef:y,innerRef:I,innerStyle:H,itemsToRender:R,scrollbarRef:C,states:S,getItemStyle:D,onScroll:j,onScrollbarScroll:z,onWheel:B,scrollTo:G,scrollToItem:W,resetScrollTop:oe};return _({windowRef:y,innerRef:I,getItemStyleCache:E,scrollTo:G,scrollToItem:W,resetScrollTop:oe,states:S}),le},render(g){var m;const{$slots:_,className:b,clientSize:T,containerElement:$,data:E,getItemStyle:y,innerElement:I,itemsToRender:C,innerStyle:S,layout:R,total:O,onScroll:P,onScrollbarScroll:M,onWheel:H,states:F,useIsScrolling:B,windowStyle:K,ns:te}=g,[Z,j]=C,z=Ft($),G=Ft(I),W=[];if(O>0)for(let le=Z;le<=j;le++)W.push((m=_.default)==null?void 0:m.call(_,{data:E,key:le,index:le,isScrolling:B?F.isScrolling:void 0,style:y(le)}));const D=[ft(G,{style:S,ref:"innerRef"},yt(G)?W:{default:()=>W})],X=ft(gy,{ref:"scrollbarRef",clientSize:T,layout:R,onScroll:M,ratio:T*100/this.estimatedTotalSize,scrollFrom:F.scrollOffset/(this.estimatedTotalSize-T),total:O}),oe=ft(z,{class:[te.e("window"),b],style:K,onScroll:P,onWheel:H,ref:"windowRef",key:0},yt(z)?[D]:{default:()=>[D]});return ft("div",{key:0,class:[te.e("wrapper"),F.scrollbarAlwaysOn?"always-on":""]},[oe,X])}}),QD=ZD({name:"ElFixedSizeList",getItemOffset:({itemSize:t},n)=>n*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:n})=>n*t,getOffset:({height:t,total:n,itemSize:o,layout:i,width:l},a,u,h)=>{const p=Hh(i)?l:t,f=Math.max(0,n*o-p),g=Math.min(f,a*o),m=Math.max(0,(a+1)*o-p);switch(u===Kg&&(h>=m-p&&h<=g+p?u=Fs:u=Bi),u){case xh:return g;case Bh:return m;case Bi:{const _=Math.round(m+(g-m)/2);return _<Math.ceil(p/2)?0:_>f+Math.floor(p/2)?f:_}case Fs:default:return h>=m&&h<=g?h:h<m?m:g}},getStartIndexForOffset:({total:t,itemSize:n},o)=>Math.max(0,Math.min(t-1,Math.floor(o/n))),getStopIndexForStartIndex:({height:t,total:n,itemSize:o,layout:i,width:l},a,u)=>{const h=a*o,p=Hh(i)?l:t,f=Math.ceil((p+u-h)/o);return Math.max(0,Math.min(n-1,a+f-1))},initCache(){},clearCache:!0,validateProps(){}}),tc=(t,n,o)=>{const{itemSize:i}=t,{items:l,lastVisitedIndex:a}=o;if(n>a){let u=0;if(a>=0){const h=l[a];u=h.offset+h.size}for(let h=a+1;h<=n;h++){const p=i(h);l[h]={offset:u,size:p},u+=p}o.lastVisitedIndex=n}return l[n]},coe=(t,n,o)=>{const{items:i,lastVisitedIndex:l}=n;return(l>0?i[l].offset:0)>=o?eP(t,n,0,l,o):doe(t,n,Math.max(0,l),o)},eP=(t,n,o,i,l)=>{for(;o<=i;){const a=o+Math.floor((i-o)/2),u=tc(t,a,n).offset;if(u===l)return a;u<l?o=a+1:u>l&&(i=a-1)}return Math.max(0,o-1)},doe=(t,n,o,i)=>{const{total:l}=t;let a=1;for(;o<l&&tc(t,o,n).offset<i;)o+=a,a*=2;return eP(t,n,Math.floor(o/2),Math.min(o,l-1),i)},cA=({total:t},{items:n,estimatedItemSize:o,lastVisitedIndex:i})=>{let l=0;if(i>=t&&(i=t-1),i>=0){const h=n[i];l=h.offset+h.size}const u=(t-i-1)*o;return l+u},hoe=ZD({name:"ElDynamicSizeList",getItemOffset:(t,n,o)=>tc(t,n,o).offset,getItemSize:(t,n,{items:o})=>o[n].size,getEstimatedTotalSize:cA,getOffset:(t,n,o,i,l)=>{const{height:a,layout:u,width:h}=t,p=Hh(u)?h:a,f=tc(t,n,l),g=cA(t,l),m=Math.max(0,Math.min(g-p,f.offset)),_=Math.max(0,f.offset-p+f.size);switch(o===Kg&&(i>=_-p&&i<=m+p?o=Fs:o=Bi),o){case xh:return m;case Bh:return _;case Bi:return Math.round(_+(m-_)/2);case Fs:default:return i>=_&&i<=m?i:i<_?_:m}},getStartIndexForOffset:(t,n,o)=>coe(t,o,n),getStopIndexForStartIndex:(t,n,o,i)=>{const{height:l,total:a,layout:u,width:h}=t,p=Hh(u)?h:l,f=tc(t,n,i),g=o+p;let m=f.offset+f.size,_=n;for(;_<a-1&&m<g;)_++,m+=tc(t,_,i).size;return _},initCache({estimatedItemSize:t=cy},n){const o={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return o.clearCacheAfterIndex=(i,l=!0)=>{var a,u;o.lastVisitedIndex=Math.min(o.lastVisitedIndex,i-1),(a=n.exposed)==null||a.getItemStyleCache(-1),l&&((u=n.proxy)==null||u.$forceUpdate())},o},clearCache:!1,validateProps:({itemSize:t})=>{}}),poe=({atXEndEdge:t,atXStartEdge:n,atYEndEdge:o,atYStartEdge:i},l)=>{let a=null,u=0,h=0;const p=(g,m)=>{const _=g<=0&&n.value||g>=0&&t.value,b=m<=0&&i.value||m>=0&&o.value;return _&&b};return{hasReachedEdge:p,onWheel:g=>{Ba(a);let m=g.deltaX,_=g.deltaY;Math.abs(m)>Math.abs(_)?_=0:m=0,g.shiftKey&&_!==0&&(m=_,_=0),!(p(u,h)&&p(u+m,h+_))&&(u+=m,h+=_,g.preventDefault(),a=El(()=>{l(u,h),u=0,h=0}))}}},tP=({name:t,clearCache:n,getColumnPosition:o,getColumnStartIndexForOffset:i,getColumnStopIndexForStartIndex:l,getEstimatedTotalHeight:a,getEstimatedTotalWidth:u,getColumnOffset:h,getRowOffset:p,getRowPosition:f,getRowStartIndexForOffset:g,getRowStopIndexForStartIndex:m,initCache:_,injectToInstance:b,validateProps:T})=>ne({name:t??"ElVirtualList",props:La,emits:[sg,ig],setup($,{emit:E,expose:y,slots:I}){const C=xe("vl");T($);const S=Mt(),R=V(_($,S));b==null||b(S,R);const O=V(),P=V(),M=V(),H=V(null),F=V({isScrolling:!1,scrollLeft:$t($.initScrollLeft)?$.initScrollLeft:0,scrollTop:$t($.initScrollTop)?$.initScrollTop:0,updateRequested:!1,xAxisScrollDir:ec,yAxisScrollDir:ec}),B=zD(),K=w(()=>Number.parseInt(`${$.height}`,10)),te=w(()=>Number.parseInt(`${$.width}`,10)),Z=w(()=>{const{totalColumn:Ce,totalRow:De,columnCache:Ve}=$,{isScrolling:ue,xAxisScrollDir:we,scrollLeft:ke}=c(F);if(Ce===0||De===0)return[0,0,0,0];const Ge=i($,ke,c(R)),ot=l($,Ge,ke,c(R)),q=!ue||we===rg?Math.max(1,Ve):1,et=!ue||we===ec?Math.max(1,Ve):1;return[Math.max(0,Ge-q),Math.max(0,Math.min(Ce-1,ot+et)),Ge,ot]}),j=w(()=>{const{totalColumn:Ce,totalRow:De,rowCache:Ve}=$,{isScrolling:ue,yAxisScrollDir:we,scrollTop:ke}=c(F);if(Ce===0||De===0)return[0,0,0,0];const Ge=g($,ke,c(R)),ot=m($,Ge,ke,c(R)),q=!ue||we===rg?Math.max(1,Ve):1,et=!ue||we===ec?Math.max(1,Ve):1;return[Math.max(0,Ge-q),Math.max(0,Math.min(De-1,ot+et)),Ge,ot]}),z=w(()=>a($,c(R))),G=w(()=>u($,c(R))),W=w(()=>{var Ce;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:$.direction,height:$t($.height)?`${$.height}px`:$.height,width:$t($.width)?`${$.width}px`:$.width},(Ce=$.style)!=null?Ce:{}]}),D=w(()=>{const Ce=`${c(G)}px`;return{height:`${c(z)}px`,pointerEvents:c(F).isScrolling?"none":void 0,width:Ce}}),X=()=>{const{totalColumn:Ce,totalRow:De}=$;if(Ce>0&&De>0){const[ot,q,et,lt]=c(Z),[Et,Tt,st,Re]=c(j);E(sg,{columnCacheStart:ot,columnCacheEnd:q,rowCacheStart:Et,rowCacheEnd:Tt,columnVisibleStart:et,columnVisibleEnd:lt,rowVisibleStart:st,rowVisibleEnd:Re})}const{scrollLeft:Ve,scrollTop:ue,updateRequested:we,xAxisScrollDir:ke,yAxisScrollDir:Ge}=c(F);E(ig,{xAxisScrollDir:ke,scrollLeft:Ve,yAxisScrollDir:Ge,scrollTop:ue,updateRequested:we})},oe=Ce=>{const{clientHeight:De,clientWidth:Ve,scrollHeight:ue,scrollLeft:we,scrollTop:ke,scrollWidth:Ge}=Ce.currentTarget,ot=c(F);if(ot.scrollTop===ke&&ot.scrollLeft===we)return;let q=we;if(uA($.direction))switch(ag()){case Fh:q=-we;break;case T0:q=Ge-Ve-we;break}F.value={...ot,isScrolling:!0,scrollLeft:q,scrollTop:Math.max(0,Math.min(ke,ue-De)),updateRequested:!0,xAxisScrollDir:Sa(ot.scrollLeft,q),yAxisScrollDir:Sa(ot.scrollTop,ke)},pt(()=>_e()),Ke(),X()},le=(Ce,De)=>{const Ve=c(K),ue=(z.value-Ve)/De*Ce;Pe({scrollTop:Math.min(z.value-Ve,ue)})},me=(Ce,De)=>{const Ve=c(te),ue=(G.value-Ve)/De*Ce;Pe({scrollLeft:Math.min(G.value-Ve,ue)})},{onWheel:Se}=poe({atXStartEdge:w(()=>F.value.scrollLeft<=0),atXEndEdge:w(()=>F.value.scrollLeft>=G.value-c(te)),atYStartEdge:w(()=>F.value.scrollTop<=0),atYEndEdge:w(()=>F.value.scrollTop>=z.value-c(K))},(Ce,De)=>{var Ve,ue,we,ke;(ue=(Ve=P.value)==null?void 0:Ve.onMouseUp)==null||ue.call(Ve),(ke=(we=M.value)==null?void 0:we.onMouseUp)==null||ke.call(we);const Ge=c(te),ot=c(K);Pe({scrollLeft:Math.min(F.value.scrollLeft+Ce,G.value-Ge),scrollTop:Math.min(F.value.scrollTop+De,z.value-ot)})}),Pe=({scrollLeft:Ce=F.value.scrollLeft,scrollTop:De=F.value.scrollTop})=>{Ce=Math.max(Ce,0),De=Math.max(De,0);const Ve=c(F);De===Ve.scrollTop&&Ce===Ve.scrollLeft||(F.value={...Ve,xAxisScrollDir:Sa(Ve.scrollLeft,Ce),yAxisScrollDir:Sa(Ve.scrollTop,De),scrollLeft:Ce,scrollTop:De,updateRequested:!0},pt(()=>_e()),Ke(),X())},de=(Ce=0,De=0,Ve=Fs)=>{const ue=c(F);De=Math.max(0,Math.min(De,$.totalColumn-1)),Ce=Math.max(0,Math.min(Ce,$.totalRow-1));const we=oM(C.namespace.value),ke=c(R),Ge=a($,ke),ot=u($,ke);Pe({scrollLeft:h($,De,Ve,ue.scrollLeft,ke,ot>$.width?we:0),scrollTop:p($,Ce,Ve,ue.scrollTop,ke,Ge>$.height?we:0)})},ye=(Ce,De)=>{const{columnWidth:Ve,direction:ue,rowHeight:we}=$,ke=B.value(n&&Ve,n&&we,n&&ue),Ge=`${Ce},${De}`;if(Xt(ke,Ge))return ke[Ge];{const[,ot]=o($,De,c(R)),q=c(R),et=uA(ue),[lt,Et]=f($,Ce,q),[Tt]=o($,De,q);return ke[Ge]={position:"absolute",left:et?void 0:`${ot}px`,right:et?`${ot}px`:void 0,top:`${Et}px`,height:`${lt}px`,width:`${Tt}px`},ke[Ge]}},_e=()=>{F.value.isScrolling=!1,pt(()=>{B.value(-1,null,null)})};At(()=>{if(!Kt)return;const{initScrollLeft:Ce,initScrollTop:De}=$,Ve=c(O);Ve&&($t(Ce)&&(Ve.scrollLeft=Ce),$t(De)&&(Ve.scrollTop=De)),X()});const Ke=()=>{const{direction:Ce}=$,{scrollLeft:De,scrollTop:Ve,updateRequested:ue}=c(F),we=c(O);if(ue&&we){if(Ce===cc)switch(ag()){case Fh:{we.scrollLeft=-De;break}case b0:{we.scrollLeft=De;break}default:{const{clientWidth:ke,scrollWidth:Ge}=we;we.scrollLeft=Ge-ke-De;break}}else we.scrollLeft=Math.max(0,De);we.scrollTop=Math.max(0,Ve)}},{resetAfterColumnIndex:ve,resetAfterRowIndex:Ne,resetAfter:He}=S.proxy;y({windowRef:O,innerRef:H,getItemStyleCache:B,scrollTo:Pe,scrollToItem:de,states:F,resetAfterColumnIndex:ve,resetAfterRowIndex:Ne,resetAfter:He});const ae=()=>{const{scrollbarAlwaysOn:Ce,scrollbarStartGap:De,scrollbarEndGap:Ve,totalColumn:ue,totalRow:we}=$,ke=c(te),Ge=c(K),ot=c(G),q=c(z),{scrollLeft:et,scrollTop:lt}=c(F),Et=ft(gy,{ref:P,alwaysOn:Ce,startGap:De,endGap:Ve,class:C.e("horizontal"),clientSize:ke,layout:"horizontal",onScroll:me,ratio:ke*100/ot,scrollFrom:et/(ot-ke),total:we,visible:!0}),Tt=ft(gy,{ref:M,alwaysOn:Ce,startGap:De,endGap:Ve,class:C.e("vertical"),clientSize:Ge,layout:"vertical",onScroll:le,ratio:Ge*100/q,scrollFrom:lt/(q-Ge),total:ue,visible:!0});return{horizontalScrollbar:Et,verticalScrollbar:Tt}},he=()=>{var Ce;const[De,Ve]=c(Z),[ue,we]=c(j),{data:ke,totalColumn:Ge,totalRow:ot,useIsScrolling:q,itemKey:et}=$,lt=[];if(ot>0&&Ge>0)for(let Et=ue;Et<=we;Et++)for(let Tt=De;Tt<=Ve;Tt++)lt.push((Ce=I.default)==null?void 0:Ce.call(I,{columnIndex:Tt,data:ke,key:et({columnIndex:Tt,data:ke,rowIndex:Et}),isScrolling:q?c(F).isScrolling:void 0,style:ye(Et,Tt),rowIndex:Et}));return lt},Ae=()=>{const Ce=Ft($.innerElement),De=he();return[ft(Ce,{style:c(D),ref:H},yt(Ce)?De:{default:()=>De})]};return()=>{const Ce=Ft($.containerElement),{horizontalScrollbar:De,verticalScrollbar:Ve}=ae(),ue=Ae();return ft("div",{key:0,class:C.e("wrapper"),role:$.role},[ft(Ce,{class:$.className,style:c(W),onScroll:oe,onWheel:Se,ref:O},yt(Ce)?ue:{default:()=>ue}),De,Ve])}}}),foe=tP({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},n)=>[t,n*t],getRowPosition:({rowHeight:t},n)=>[t,n*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:n})=>n*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:n})=>n*t,getColumnOffset:({totalColumn:t,columnWidth:n,width:o},i,l,a,u,h)=>{o=Number(o);const p=Math.max(0,t*n-o),f=Math.min(p,i*n),g=Math.max(0,i*n-o+h+n);switch(l==="smart"&&(a>=g-o&&a<=f+o?l=Fs:l=Bi),l){case xh:return f;case Bh:return g;case Bi:{const m=Math.round(g+(f-g)/2);return m<Math.ceil(o/2)?0:m>p+Math.floor(o/2)?p:m}case Fs:default:return a>=g&&a<=f?a:g>f||a<g?g:f}},getRowOffset:({rowHeight:t,height:n,totalRow:o},i,l,a,u,h)=>{n=Number(n);const p=Math.max(0,o*t-n),f=Math.min(p,i*t),g=Math.max(0,i*t-n+h+t);switch(l===Kg&&(a>=g-n&&a<=f+n?l=Fs:l=Bi),l){case xh:return f;case Bh:return g;case Bi:{const m=Math.round(g+(f-g)/2);return m<Math.ceil(n/2)?0:m>p+Math.floor(n/2)?p:m}case Fs:default:return a>=g&&a<=f?a:g>f||a<g?g:f}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:n},o)=>Math.max(0,Math.min(n-1,Math.floor(o/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:n,width:o},i,l)=>{const a=i*t,u=Math.ceil((o+l-a)/t);return Math.max(0,Math.min(n-1,i+u-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:n},o)=>Math.max(0,Math.min(n-1,Math.floor(o/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:n,height:o},i,l)=>{const a=i*t,u=Math.ceil((o+l-a)/t);return Math.max(0,Math.min(n-1,i+u-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:n})=>{}}),{max:ug,min:nP,floor:oP}=Math,moe={column:"columnWidth",row:"rowHeight"},$y={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},_r=(t,n,o,i)=>{const[l,a,u]=[o[i],t[moe[i]],o[$y[i]]];if(n>u){let h=0;if(u>=0){const p=l[u];h=p.offset+p.size}for(let p=u+1;p<=n;p++){const f=a(p);l[p]={offset:h,size:f},h+=f}o[$y[i]]=n}return l[n]},sP=(t,n,o,i,l,a)=>{for(;o<=i;){const u=o+oP((i-o)/2),h=_r(t,u,n,a).offset;if(h===l)return u;h<l?o=u+1:i=u-1}return ug(0,o-1)},goe=(t,n,o,i,l)=>{const a=l==="column"?t.totalColumn:t.totalRow;let u=1;for(;o<a&&_r(t,o,n,l).offset<i;)o+=u,u*=2;return sP(t,n,oP(o/2),nP(o,a-1),i,l)},dA=(t,n,o,i)=>{const[l,a]=[n[i],n[$y[i]]];return(a>0?l[a].offset:0)>=o?sP(t,n,0,a,o,i):goe(t,n,ug(0,a),o,i)},iP=({totalRow:t},{estimatedRowHeight:n,lastVisitedRowIndex:o,row:i})=>{let l=0;if(o>=t&&(o=t-1),o>=0){const h=i[o];l=h.offset+h.size}const u=(t-o-1)*n;return l+u},rP=({totalColumn:t},{column:n,estimatedColumnWidth:o,lastVisitedColumnIndex:i})=>{let l=0;if(i>t&&(i=t-1),i>=0){const h=n[i];l=h.offset+h.size}const u=(t-i-1)*o;return l+u},$oe={column:rP,row:iP},hA=(t,n,o,i,l,a,u)=>{const[h,p]=[a==="row"?t.height:t.width,$oe[a]],f=_r(t,n,l,a),g=p(t,l),m=ug(0,nP(g-h,f.offset)),_=ug(0,f.offset-h+u+f.size);switch(o===Kg&&(i>=_-h&&i<=m+h?o=Fs:o=Bi),o){case xh:return m;case Bh:return _;case Bi:return Math.round(_+(m-_)/2);case Fs:default:return i>=_&&i<=m?i:_>m||i<_?_:m}},voe=tP({name:"ElDynamicSizeGrid",getColumnPosition:(t,n,o)=>{const i=_r(t,n,o,"column");return[i.size,i.offset]},getRowPosition:(t,n,o)=>{const i=_r(t,n,o,"row");return[i.size,i.offset]},getColumnOffset:(t,n,o,i,l,a)=>hA(t,n,o,i,l,"column",a),getRowOffset:(t,n,o,i,l,a)=>hA(t,n,o,i,l,"row",a),getColumnStartIndexForOffset:(t,n,o)=>dA(t,o,n,"column"),getColumnStopIndexForStartIndex:(t,n,o,i)=>{const l=_r(t,n,i,"column"),a=o+t.width;let u=l.offset+l.size,h=n;for(;h<t.totalColumn-1&&u<a;)h++,u+=_r(t,n,i,"column").size;return h},getEstimatedTotalHeight:iP,getEstimatedTotalWidth:rP,getRowStartIndexForOffset:(t,n,o)=>dA(t,o,n,"row"),getRowStopIndexForStartIndex:(t,n,o,i)=>{const{totalRow:l,height:a}=t,u=_r(t,n,i,"row"),h=o+a;let p=u.size+u.offset,f=n;for(;f<l-1&&p<h;)f++,p+=_r(t,f,i,"row").size;return f},injectToInstance:(t,n)=>{const o=({columnIndex:a,rowIndex:u},h)=>{var p,f;h=Fn(h)?!0:h,$t(a)&&(n.value.lastVisitedColumnIndex=Math.min(n.value.lastVisitedColumnIndex,a-1)),$t(u)&&(n.value.lastVisitedRowIndex=Math.min(n.value.lastVisitedRowIndex,u-1)),(p=t.exposed)==null||p.getItemStyleCache.value(-1,null,null),h&&((f=t.proxy)==null||f.$forceUpdate())},i=(a,u)=>{o({columnIndex:a},u)},l=(a,u)=>{o({rowIndex:a},u)};Object.assign(t.proxy,{resetAfterColumnIndex:i,resetAfterRowIndex:l,resetAfter:o})},initCache:({estimatedColumnWidth:t=cy,estimatedRowHeight:n=cy})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:n,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:n})=>{}}),_oe=ne({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:xe("select")}}});function boe(t,n,o,i,l,a){return N(),Y("div",{class:L(t.ns.be("group","title")),style:ct([t.style,{lineHeight:`${t.height}px`}])},ze(t.item.label),7)}var Toe=We(_oe,[["render",boe],["__file","group-item.vue"]]);function yoe(t,{emit:n}){return{hoverItem:()=>{t.disabled||n("hover",t.index)},selectOptionClick:()=>{t.disabled||n("select",t.item,t.index)}}}const lP={label:"label",value:"value",disabled:"disabled",options:"options"};function Xg(t){const n=w(()=>({...lP,...t.props}));return{aliasProps:n,getLabel:u=>Pn(u,n.value.label),getValue:u=>Pn(u,n.value.value),getDisabled:u=>Pn(u,n.value.disabled),getOptions:u=>Pn(u,n.value.options)}}const Eoe=Ue({allowCreate:Boolean,autocomplete:{type:fe(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:ln,default:Nl},effect:{type:fe(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:fe([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:fe(Array),required:!0},placeholder:{type:String},teleported:so.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:fe(Object),default:()=>({})},remote:Boolean,size:qn,props:{type:fe(Object),default:()=>lP},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:fe(String),values:Xa,default:"bottom-start"},fallbackPlacements:{type:fe(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Gg.type,default:"info"},...Gc,...mo(["ariaLabel"])}),Coe=Ue({data:Array,disabled:Boolean,hovering:Boolean,item:{type:fe(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),y0=Symbol("ElSelectV2Injection"),Soe=ne({props:Coe,emits:["select","hover"],setup(t,{emit:n}){const o=it(y0),i=xe("select"),{hoverItem:l,selectOptionClick:a}=yoe(t,{emit:n}),{getLabel:u}=Xg(o.props);return{ns:i,hoverItem:l,selectOptionClick:a,getLabel:u}}}),Ioe=["aria-selected"];function woe(t,n,o,i,l,a){return N(),Y("li",{"aria-selected":t.selected,style:ct(t.style),class:L([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMouseenter:n[0]||(n[0]=(...u)=>t.hoverItem&&t.hoverItem(...u)),onClick:n[1]||(n[1]=bt((...u)=>t.selectOptionClick&&t.selectOptionClick(...u),["stop"]))},[Te(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[Q("span",null,ze(t.getLabel(t.item)),1)])],46,Ioe)}var koe=We(Soe,[["render",woe],["__file","option-item.vue"]]),Ooe=ne({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:n,expose:o}){const i=it(y0),l=xe("select"),{getLabel:a,getValue:u,getDisabled:h}=Xg(i.props),p=V([]),f=V(),g=w(()=>t.data.length);Me(()=>g.value,()=>{var B,K;(K=(B=i.tooltipRef.value).updatePopper)==null||K.call(B)});const m=w(()=>Fn(i.props.estimatedOptionHeight)),_=w(()=>m.value?{itemSize:i.props.itemHeight}:{estimatedSize:i.props.estimatedOptionHeight,itemSize:B=>p.value[B]}),b=(B=[],K)=>{const{props:{valueKey:te}}=i;return xt(K)?B&&B.some(Z=>sn(Pn(Z,te))===Pn(K,te)):B.includes(K)},T=(B,K)=>{if(xt(K)){const{valueKey:te}=i.props;return Pn(B,te)===Pn(K,te)}else return B===K},$=(B,K)=>i.props.multiple?b(B,u(K)):T(B,u(K)),E=(B,K)=>{const{disabled:te,multiple:Z,multipleLimit:j}=i.props;return te||!K&&(Z?j>0&&B.length>=j:!1)},y=B=>t.hoveringIndex===B;o({listRef:f,isSized:m,isItemDisabled:E,isItemHovering:y,isItemSelected:$,scrollToItem:B=>{const K=f.value;K&&K.scrollToItem(B)},resetScrollTop:()=>{const B=f.value;B&&B.resetScrollTop()}});const S=B=>{const{index:K,data:te,style:Z}=B,j=c(m),{itemSize:z,estimatedSize:G}=c(_),{modelValue:W}=i.props,{onSelect:D,onHover:X}=i,oe=te[K];if(oe.type==="Group")return ie(Toe,{item:oe,style:Z,height:j?z:G},null);const le=$(W,oe),me=E(W,le),Se=y(K);return ie(koe,Vt(B,{selected:le,disabled:h(oe)||me,created:!!oe.created,hovering:Se,item:oe,onSelect:D,onHover:X}),{default:Pe=>{var de;return((de=n.default)==null?void 0:de.call(n,Pe))||ie("span",null,[a(oe)])}})},{onKeyboardNavigate:R,onKeyboardSelect:O}=i,P=()=>{R("forward")},M=()=>{R("backward")},H=()=>{i.expanded=!1},F=B=>{const{code:K}=B,{tab:te,esc:Z,down:j,up:z,enter:G}=mt;switch(K!==te&&(B.preventDefault(),B.stopPropagation()),K){case te:case Z:{H();break}case j:{P();break}case z:{M();break}case G:{O();break}}};return()=>{var B,K,te,Z;const{data:j,width:z}=t,{height:G,multiple:W,scrollbarAlwaysOn:D}=i.props,X=c(m)?QD:hoe;return ie("div",{class:[l.b("dropdown"),l.is("multiple",W)],style:{width:`${z}px`}},[(B=n.header)==null?void 0:B.call(n),((K=n.loading)==null?void 0:K.call(n))||((te=n.empty)==null?void 0:te.call(n))||ie(X,Vt({ref:f},c(_),{className:l.be("dropdown","list"),scrollbarAlwaysOn:D,data:j,height:G,width:z,total:j.length,onKeydown:F}),{default:oe=>ie(S,oe,null)}),(Z=n.footer)==null?void 0:Z.call(n)])}}});function Roe(t,n){const{aliasProps:o,getLabel:i,getValue:l}=Xg(t),a=V(0),u=V(null),h=w(()=>t.allowCreate&&t.filterable);function p(b){const T=$=>i($)===b;return t.options&&t.options.some(T)||n.createdOptions.some(T)}function f(b){h.value&&(t.multiple&&b.created?a.value++:u.value=b)}function g(b){if(h.value)if(b&&b.length>0){if(p(b))return;const T={[o.value.value]:b,[o.value.label]:b,created:!0,[o.value.disabled]:!1};n.createdOptions.length>=a.value?n.createdOptions[a.value]=T:n.createdOptions.push(T)}else if(t.multiple)n.createdOptions.length=a.value;else{const T=u.value;n.createdOptions.length=0,T&&T.created&&n.createdOptions.push(T)}}function m(b){if(!h.value||!b||!b.created||b.created&&t.reserveKeyword&&n.inputValue===i(b))return;const T=n.createdOptions.findIndex($=>l($)===l(b));~T&&(n.createdOptions.splice(T,1),a.value--)}function _(){h.value&&(n.createdOptions.length=0,a.value=0)}return{createNewOption:g,removeNewOption:m,selectNewOption:f,clearAllNewOption:_}}const Aoe=11,Noe=(t,n)=>{const{t:o}=Yt(),i=xe("select"),l=xe("input"),{form:a,formItem:u}=Bo(),{inputId:h}=$i(t,{formItemContext:u}),{aliasProps:p,getLabel:f,getValue:g,getDisabled:m,getOptions:_}=Xg(t),{valueOnClear:b,isEmptyValue:T}=Fg(t),$=Qt({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),E=V(-1),y=V(null),I=V(null),C=V(null),S=V(null),R=V(null),O=V(null),P=V(null),M=V(null),H=V(null),F=V(null),B=V(null),{wrapperRef:K,isFocused:te,handleFocus:Z,handleBlur:j}=Bg(R,{afterFocus(){t.automaticDropdown&&!W.value&&(W.value=!0,$.menuVisibleOnFocus=!0)},beforeBlur(Je){var St,Gt;return((St=C.value)==null?void 0:St.isFocusInsideContent(Je))||((Gt=S.value)==null?void 0:Gt.isFocusInsideContent(Je))},afterBlur(){W.value=!1,$.menuVisibleOnFocus=!1}}),z=V([]),G=V([]),W=V(!1),D=w(()=>t.disabled||(a==null?void 0:a.disabled)),X=w(()=>{const Je=G.value.length*t.itemHeight;return Je>t.height?t.height:Je}),oe=w(()=>t.multiple?tt(t.modelValue)&&t.modelValue.length>0:!T(t.modelValue)),le=w(()=>t.clearable&&!D.value&&$.inputHovering&&oe.value),me=w(()=>t.remote&&t.filterable?"":Lr),Se=w(()=>me.value&&i.is("reverse",W.value)),Pe=w(()=>(u==null?void 0:u.validateState)||""),de=w(()=>AE[Pe.value]),ye=w(()=>t.remote?300:0),_e=w(()=>t.loading?t.loadingText||o("el.select.loading"):t.remote&&!$.inputValue&&z.value.length===0?!1:t.filterable&&$.inputValue&&z.value.length>0&&G.value.length===0?t.noMatchText||o("el.select.noMatch"):z.value.length===0?t.noDataText||o("el.select.noData"):null),Ke=Je=>{const St=Gt=>{if(t.filterable&&_t(t.filterMethod)||t.filterable&&t.remote&&_t(t.remoteMethod))return!0;const tn=new RegExp(yE(Je),"i");return Je?tn.test(f(Gt)||""):!0};return t.loading?[]:[...$.createdOptions,...t.options].reduce((Gt,tn)=>{const ko=_(tn);if(tt(ko)){const Oo=ko.filter(St);Oo.length>0&&Gt.push({label:f(tn),type:"Group"},...Oo)}else(t.remote||St(tn))&&Gt.push(tn);return Gt},[])},ve=()=>{z.value=Ke(""),G.value=Ke($.inputValue)},Ne=w(()=>{const Je=new Map;return z.value.forEach((St,Gt)=>{Je.set(Ie(g(St)),{option:St,index:Gt})}),Je}),He=w(()=>{const Je=new Map;return G.value.forEach((St,Gt)=>{Je.set(Ie(g(St)),{option:St,index:Gt})}),Je}),ae=w(()=>G.value.every(Je=>m(Je))),he=Kn(),Ae=w(()=>he.value==="small"?"small":"default"),Fe=()=>{var Je;E.value=((Je=y.value)==null?void 0:Je.offsetWidth)||200},Ce=()=>{if(!I.value)return 0;const Je=window.getComputedStyle(I.value);return Number.parseFloat(Je.gap||"6px")},De=w(()=>{const Je=Ce();return{maxWidth:`${B.value&&t.maxCollapseTags===1?$.selectionWidth-$.collapseItemWidth-Je:$.selectionWidth}px`}}),Ve=w(()=>({maxWidth:`${$.selectionWidth}px`})),ue=w(()=>({width:`${Math.max($.calculatorWidth,Aoe)}px`})),we=w(()=>tt(t.modelValue)?t.modelValue.length===0&&!$.inputValue:t.filterable?!$.inputValue:!0),ke=w(()=>{var Je;const St=(Je=t.placeholder)!=null?Je:o("el.select.placeholder");return t.multiple||!oe.value?St:$.selectedLabel}),Ge=w(()=>{var Je,St;return(St=(Je=C.value)==null?void 0:Je.popperRef)==null?void 0:St.contentRef}),ot=w(()=>{if(t.multiple){const Je=t.modelValue.length;if(t.modelValue.length>0&&He.value.has(t.modelValue[Je-1])){const{index:St}=He.value.get(t.modelValue[Je-1]);return St}}else if(t.modelValue&&He.value.has(t.modelValue)){const{index:Je}=He.value.get(t.modelValue);return Je}return-1}),q=w({get(){return W.value&&_e.value!==!1},set(Je){W.value=Je}}),et=w(()=>t.multiple?t.collapseTags?$.cachedOptions.slice(0,t.maxCollapseTags):$.cachedOptions:[]),lt=w(()=>t.multiple?t.collapseTags?$.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:Et,removeNewOption:Tt,selectNewOption:st,clearAllNewOption:Re}=Roe(t,$),{handleCompositionStart:Ye,handleCompositionUpdate:A,handleCompositionEnd:x}=VD(Je=>wo(Je)),ee=()=>{D.value||($.menuVisibleOnFocus?$.menuVisibleOnFocus=!1:W.value=!W.value)},pe=()=>{$.inputValue.length>0&&!W.value&&(W.value=!0),Et($.inputValue),je($.inputValue)},re=as(pe,ye.value),je=Je=>{$.previousQuery!==Je&&($.previousQuery=Je,t.filterable&&_t(t.filterMethod)?t.filterMethod(Je):t.filterable&&t.remote&&_t(t.remoteMethod)&&t.remoteMethod(Je),t.defaultFirstOption&&(t.filterable||t.remote)&&G.value.length?pt(Ct):pt(Tn))},Ct=()=>{const Je=G.value.filter(tn=>!tn.disabled&&tn.type!=="Group"),St=Je.find(tn=>tn.created),Gt=Je[0];$.hoveringIndex=Ee(G.value,St||Gt)},U=Je=>{Do(t.modelValue,Je)||n($n,Je)},se=Je=>{n(Bt,Je),U(Je),$.previousValue=t.multiple?String(Je):Je},Ee=(Je=[],St)=>{if(!xt(St))return Je.indexOf(St);const Gt=t.valueKey;let tn=-1;return Je.some((ko,Oo)=>Pn(ko,Gt)===Pn(St,Gt)?(tn=Oo,!0):!1),tn},Ie=Je=>xt(Je)?Pn(Je,t.valueKey):Je,Qe=()=>{Fe()},Lt=()=>{$.selectionWidth=I.value.getBoundingClientRect().width},Bn=()=>{$.calculatorWidth=O.value.getBoundingClientRect().width},go=()=>{$.collapseItemWidth=B.value.getBoundingClientRect().width},Fo=()=>{var Je,St;(St=(Je=C.value)==null?void 0:Je.updatePopper)==null||St.call(Je)},uo=()=>{var Je,St;(St=(Je=S.value)==null?void 0:Je.updatePopper)==null||St.call(Je)},Vn=Je=>{if(t.multiple){let St=t.modelValue.slice();const Gt=Ee(St,g(Je));Gt>-1?(St=[...St.slice(0,Gt),...St.slice(Gt+1)],$.cachedOptions.splice(Gt,1),Tt(Je)):(t.multipleLimit<=0||St.length<t.multipleLimit)&&(St=[...St,g(Je)],$.cachedOptions.push(Je),st(Je)),se(St),Je.created&&je(""),t.filterable&&!t.reserveKeyword&&($.inputValue="")}else $.selectedLabel=f(Je),se(g(Je)),W.value=!1,st(Je),Je.created||Re();qs()},Io=(Je,St)=>{let Gt=t.modelValue.slice();const tn=Ee(Gt,g(St));tn>-1&&!D.value&&(Gt=[...t.modelValue.slice(0,tn),...t.modelValue.slice(tn+1)],$.cachedOptions.splice(tn,1),se(Gt),n("remove-tag",g(St)),Tt(St)),Je.stopPropagation(),qs()},qs=()=>{var Je;(Je=R.value)==null||Je.focus()},Dl=()=>{var Je;(Je=R.value)==null||Je.blur()},Yi=()=>{$.inputValue.length>0?$.inputValue="":W.value=!1},Pr=Je=>QL(Je,St=>!$.cachedOptions.some(Gt=>g(Gt)===St&&m(Gt))),ja=Je=>{if(t.multiple&&Je.code!==mt.delete&&$.inputValue.length===0){Je.preventDefault();const St=t.modelValue.slice(),Gt=Pr(St);if(Gt<0)return;const tn=St[Gt];St.splice(Gt,1);const ko=$.cachedOptions[Gt];$.cachedOptions.splice(Gt,1),Tt(ko),se(St),n("remove-tag",tn)}},xr=()=>{let Je;tt(t.modelValue)?Je=[]:Je=b.value,t.multiple?$.cachedOptions=[]:$.selectedLabel="",W.value=!1,se(Je),n("clear"),Re(),qs()},Ze=(Je,St=void 0)=>{const Gt=G.value;if(!["forward","backward"].includes(Je)||D.value||Gt.length<=0||ae.value)return;if(!W.value)return ee();St===void 0&&(St=$.hoveringIndex);let tn=-1;Je==="forward"?(tn=St+1,tn>=Gt.length&&(tn=0)):Je==="backward"&&(tn=St-1,(tn<0||tn>=Gt.length)&&(tn=Gt.length-1));const ko=Gt[tn];if(m(ko)||ko.type==="Group")return Ze(Je,tn);$.hoveringIndex=tn,$o(tn)},vt=()=>{if(W.value)~$.hoveringIndex&&G.value[$.hoveringIndex]&&Vn(G.value[$.hoveringIndex]);else return ee()},un=Je=>{$.hoveringIndex=Je},Tn=()=>{t.multiple?$.hoveringIndex=G.value.findIndex(Je=>t.modelValue.some(St=>Ie(St)===Ie(Je))):$.hoveringIndex=G.value.findIndex(Je=>Ie(Je)===Ie(t.modelValue))},wo=Je=>{if($.inputValue=Je.target.value,t.remote)re();else return pe()},us=Je=>{if(W.value=!1,te.value){const St=new FocusEvent("focus",Je);j(St)}},Js=()=>($.isBeforeHide=!1,pt(()=>{~ot.value&&$o($.hoveringIndex)})),$o=Je=>{H.value.scrollToItem(Je)},Ho=Je=>{const St=Ie(Je);if(Ne.value.has(St)){const{option:Gt}=Ne.value.get(St);return Gt}return{[p.value.value]:Je,[p.value.label]:Je}},Zs=()=>{if(t.multiple)if(t.modelValue.length>0){$.cachedOptions.length=0,$.previousValue=t.modelValue.toString();for(const Je of t.modelValue){const St=Ho(Je);$.cachedOptions.push(St)}}else $.cachedOptions=[],$.previousValue=void 0;else if(oe.value){$.previousValue=t.modelValue;const Je=G.value,St=Je.findIndex(Gt=>Ie(g(Gt))===Ie(t.modelValue));~St?$.selectedLabel=f(Je[St]):$.selectedLabel=Ie(t.modelValue)}else $.selectedLabel="",$.previousValue=void 0;Re(),Fe()};return Me(W,Je=>{Je?je(""):($.inputValue="",$.previousQuery=null,$.isBeforeHide=!0,Et("")),n("visible-change",Je)}),Me(()=>t.modelValue,(Je,St)=>{var Gt;(!Je||t.multiple&&Je.toString()!==$.previousValue||!t.multiple&&Ie(Je)!==Ie($.previousValue))&&Zs(),!Do(Je,St)&&t.validateEvent&&((Gt=u==null?void 0:u.validate)==null||Gt.call(u,"change").catch(tn=>void 0))},{deep:!0}),Me(()=>t.options,()=>{const Je=R.value;(!Je||Je&&document.activeElement!==Je)&&Zs()},{deep:!0,flush:"post"}),Me(()=>G.value,()=>H.value&&pt(H.value.resetScrollTop)),Eo(()=>{$.isBeforeHide||ve()}),Eo(()=>{const{valueKey:Je,options:St}=t,Gt=new Map;for(const tn of St){const ko=g(tn);let Oo=ko;if(xt(Oo)&&(Oo=Pn(ko,Je)),Gt.get(Oo))break;Gt.set(Oo,!0)}}),At(()=>{Zs()}),In(y,Qe),In(I,Lt),In(O,Bn),In(H,Fo),In(K,Fo),In(F,uo),In(B,go),{inputId:h,collapseTagSize:Ae,currentPlaceholder:ke,expanded:W,emptyText:_e,popupHeight:X,debounce:ye,allOptions:z,filteredOptions:G,iconComponent:me,iconReverse:Se,tagStyle:De,collapseTagStyle:Ve,inputStyle:ue,popperSize:E,dropdownMenuVisible:q,hasModelValue:oe,shouldShowPlaceholder:we,selectDisabled:D,selectSize:he,showClearBtn:le,states:$,isFocused:te,nsSelect:i,nsInput:l,calculatorRef:O,inputRef:R,menuRef:H,tagMenuRef:F,tooltipRef:C,tagTooltipRef:S,selectRef:y,wrapperRef:K,selectionRef:I,prefixRef:P,suffixRef:M,collapseItemRef:B,popperRef:Ge,validateState:Pe,validateIcon:de,showTagList:et,collapseTagList:lt,debouncedOnInputChange:re,deleteTag:Io,getLabel:f,getValue:g,getDisabled:m,getValueKey:Ie,handleBlur:j,handleClear:xr,handleClickOutside:us,handleDel:ja,handleEsc:Yi,handleFocus:Z,focus:qs,blur:Dl,handleMenuEnter:Js,handleResize:Qe,resetSelectionWidth:Lt,resetCalculatorWidth:Bn,updateTooltip:Fo,updateTagTooltip:uo,updateOptions:ve,toggleMenu:ee,scrollTo:$o,onInput:wo,onKeyboardNavigate:Ze,onKeyboardSelect:vt,onSelect:Vn,onHover:un,handleCompositionStart:Ye,handleCompositionEnd:x,handleCompositionUpdate:A}},Loe=ne({name:"ElSelectV2",components:{ElSelectMenu:Ooe,ElTag:Dh,ElTooltip:xo,ElIcon:at},directives:{ClickOutside:kr},props:Eoe,emits:[Bt,$n,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:n}){const o=w(()=>{const{modelValue:l,multiple:a}=t,u=a?[]:void 0;return tt(l)?a?l:u:a?u:l}),i=Noe(Qt({...fo(t),modelValue:o}),n);return Ut(y0,{props:Qt({...fo(t),height:i.popupHeight,modelValue:o}),tooltipRef:i.tooltipRef,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),{...i,modelValue:o}}}),Moe=["id","autocomplete","aria-expanded","aria-label","disabled","readonly","name"],Doe=["textContent"],Poe={key:1};function xoe(t,n,o,i,l,a){const u=Nt("el-tag"),h=Nt("el-tooltip"),p=Nt("el-icon"),f=Nt("el-select-menu"),g=_g("click-outside");return Rt((N(),Y("div",{ref:"selectRef",class:L([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:n[15]||(n[15]=m=>t.states.inputHovering=!0),onMouseleave:n[16]||(n[16]=m=>t.states.inputHovering=!1)},[ie(h,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:n[14]||(n[14]=m=>t.states.isBeforeHide=!1)},{default:ce(()=>[Q("div",{ref:"wrapperRef",class:L([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:n[13]||(n[13]=bt((...m)=>t.toggleMenu&&t.toggleMenu(...m),["prevent","stop"]))},[t.$slots.prefix?(N(),Y("div",{key:0,ref:"prefixRef",class:L(t.nsSelect.e("prefix"))},[Te(t.$slots,"prefix")],2)):$e("v-if",!0),Q("div",{ref:"selectionRef",class:L([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?Te(t.$slots,"tag",{key:0},()=>[(N(!0),Y(dt,null,zt(t.showTagList,m=>(N(),Y("div",{key:t.getValueKey(t.getValue(m)),class:L(t.nsSelect.e("selected-item"))},[ie(u,{closable:!t.selectDisabled&&!t.getDisabled(m),size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:ct(t.tagStyle),onClose:_=>t.deleteTag(_,m)},{default:ce(()=>[Q("span",{class:L(t.nsSelect.e("tags-text"))},[Te(t.$slots,"label",{label:t.getLabel(m),value:t.getValue(m)},()=>[Wt(ze(t.getLabel(m)),1)])],2)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(N(),be(h,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:ce(()=>[Q("div",{ref:"collapseItemRef",class:L(t.nsSelect.e("selected-item"))},[ie(u,{closable:!1,size:t.collapseTagSize,type:t.tagType,style:ct(t.collapseTagStyle),"disable-transitions":""},{default:ce(()=>[Q("span",{class:L(t.nsSelect.e("tags-text"))}," + "+ze(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:ce(()=>[Q("div",{ref:"tagMenuRef",class:L(t.nsSelect.e("selection"))},[(N(!0),Y(dt,null,zt(t.collapseTagList,m=>(N(),Y("div",{key:t.getValueKey(t.getValue(m)),class:L(t.nsSelect.e("selected-item"))},[ie(u,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(m),size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:_=>t.deleteTag(_,m)},{default:ce(()=>[Q("span",{class:L(t.nsSelect.e("tags-text"))},[Te(t.$slots,"label",{label:t.getLabel(m),value:t.getValue(m)},()=>[Wt(ze(t.getLabel(m)),1)])],2)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):$e("v-if",!0)]):$e("v-if",!0),t.selectDisabled?$e("v-if",!0):(N(),Y("div",{key:1,class:L([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Rt(Q("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":n[0]||(n[0]=m=>t.states.inputValue=m),style:ct(t.inputStyle),autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:L([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onFocus:n[1]||(n[1]=(...m)=>t.handleFocus&&t.handleFocus(...m)),onBlur:n[2]||(n[2]=(...m)=>t.handleBlur&&t.handleBlur(...m)),onInput:n[3]||(n[3]=(...m)=>t.onInput&&t.onInput(...m)),onCompositionstart:n[4]||(n[4]=(...m)=>t.handleCompositionStart&&t.handleCompositionStart(...m)),onCompositionupdate:n[5]||(n[5]=(...m)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...m)),onCompositionend:n[6]||(n[6]=(...m)=>t.handleCompositionEnd&&t.handleCompositionEnd(...m)),onKeydown:[n[7]||(n[7]=rn(bt(m=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),n[8]||(n[8]=rn(bt(m=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),n[9]||(n[9]=rn(bt((...m)=>t.onKeyboardSelect&&t.onKeyboardSelect(...m),["stop","prevent"]),["enter"])),n[10]||(n[10]=rn(bt((...m)=>t.handleEsc&&t.handleEsc(...m),["stop","prevent"]),["esc"])),n[11]||(n[11]=rn(bt((...m)=>t.handleDel&&t.handleDel(...m),["stop"]),["delete"]))],onClick:n[12]||(n[12]=bt((...m)=>t.toggleMenu&&t.toggleMenu(...m),["stop"]))},null,46,Moe),[[oE,t.states.inputValue]]),t.filterable?(N(),Y("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:L(t.nsSelect.e("input-calculator")),textContent:ze(t.states.inputValue)},null,10,Doe)):$e("v-if",!0)],2)),t.shouldShowPlaceholder?(N(),Y("div",{key:2,class:L([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?Te(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[Q("span",null,ze(t.currentPlaceholder),1)]):(N(),Y("span",Poe,ze(t.currentPlaceholder),1))],2)):$e("v-if",!0)],2),Q("div",{ref:"suffixRef",class:L(t.nsSelect.e("suffix"))},[t.iconComponent?Rt((N(),be(p,{key:0,class:L([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:ce(()=>[(N(),be(Ft(t.iconComponent)))]),_:1},8,["class"])),[[qt,!t.showClearBtn]]):$e("v-if",!0),t.showClearBtn&&t.clearIcon?(N(),be(p,{key:1,class:L([t.nsSelect.e("caret"),t.nsInput.e("icon")]),onClick:bt(t.handleClear,["prevent","stop"])},{default:ce(()=>[(N(),be(Ft(t.clearIcon)))]),_:1},8,["class","onClick"])):$e("v-if",!0),t.validateState&&t.validateIcon?(N(),be(p,{key:2,class:L([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:ce(()=>[(N(),be(Ft(t.validateIcon)))]),_:1},8,["class"])):$e("v-if",!0)],2)],2)]),content:ce(()=>[ie(f,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},Sr({default:ce(m=>[Te(t.$slots,"default",Tr(fc(m)))]),_:2},[t.$slots.header?{name:"header",fn:ce(()=>[Q("div",{class:L(t.nsSelect.be("dropdown","header"))},[Te(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:ce(()=>[Q("div",{class:L(t.nsSelect.be("dropdown","loading"))},[Te(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:ce(()=>[Q("div",{class:L(t.nsSelect.be("dropdown","empty"))},[Te(t.$slots,"empty",{},()=>[Q("span",null,ze(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:ce(()=>[Q("div",{class:L(t.nsSelect.be("dropdown","footer"))},[Te(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow"])],34)),[[g,t.handleClickOutside,t.popperRef]])}var wm=We(Loe,[["render",xoe],["__file","select.vue"]]);wm.install=t=>{t.component(wm.name,wm)};const Boe=wm,Foe=Boe,Hoe=Ue({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),Voe=Ue({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),Uoe=ne({name:"ElSkeletonItem"}),Goe=ne({...Uoe,props:Voe,setup(t){const n=xe("skeleton");return(o,i)=>(N(),Y("div",{class:L([c(n).e("item"),c(n).e(o.variant)])},[o.variant==="image"?(N(),be(c(D4),{key:0})):$e("v-if",!0)],2))}});var cg=We(Goe,[["__file","skeleton-item.vue"]]);const Woe=ne({name:"ElSkeleton"}),zoe=ne({...Woe,props:Hoe,setup(t,{expose:n}){const o=t,i=xe("skeleton"),l=w8(on(o,"loading"),o.throttle);return n({uiLoading:l}),(a,u)=>c(l)?(N(),Y("div",Vt({key:0,class:[c(i).b(),c(i).is("animated",a.animated)]},a.$attrs),[(N(!0),Y(dt,null,zt(a.count,h=>(N(),Y(dt,{key:h},[a.loading?Te(a.$slots,"template",{key:h},()=>[ie(cg,{class:L(c(i).is("first")),variant:"p"},null,8,["class"]),(N(!0),Y(dt,null,zt(a.rows,p=>(N(),be(cg,{key:p,class:L([c(i).e("paragraph"),c(i).is("last",p===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):$e("v-if",!0)],64))),128))],16)):Te(a.$slots,"default",Tr(Vt({key:1},a.$attrs)))}});var Koe=We(zoe,[["__file","skeleton.vue"]]);const Xoe=Dt(Koe,{SkeletonItem:cg}),Yoe=kn(cg),aP=Symbol("sliderContextKey"),joe=Ue({modelValue:{type:fe([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:qn,inputSize:qn,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:fe(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:fe(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Xa,default:"top"},marks:{type:fe(Object)},validateEvent:{type:Boolean,default:!0},...mo(["ariaLabel"])}),nT=t=>$t(t)||tt(t)&&t.every($t),qoe={[Bt]:nT,[Yo]:nT,[$n]:nT},Joe=(t,n,o)=>{const i=V();return At(async()=>{t.range?(Array.isArray(t.modelValue)?(n.firstValue=Math.max(t.min,t.modelValue[0]),n.secondValue=Math.min(t.max,t.modelValue[1])):(n.firstValue=t.min,n.secondValue=t.max),n.oldValue=[n.firstValue,n.secondValue]):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?n.firstValue=t.min:n.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),n.oldValue=n.firstValue),gn(window,"resize",o),await pt(),o()}),{sliderWrapper:i}},Zoe=t=>w(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((o,i)=>o-i).filter(o=>o<=t.max&&o>=t.min).map(o=>({point:o,position:(o-t.min)*100/(t.max-t.min),mark:t.marks[o]})):[]),Qoe=(t,n,o)=>{const{form:i,formItem:l}=Bo(),a=_n(),u=V(),h=V(),p={firstButton:u,secondButton:h},f=w(()=>t.disabled||(i==null?void 0:i.disabled)||!1),g=w(()=>Math.min(n.firstValue,n.secondValue)),m=w(()=>Math.max(n.firstValue,n.secondValue)),_=w(()=>t.range?`${100*(m.value-g.value)/(t.max-t.min)}%`:`${100*(n.firstValue-t.min)/(t.max-t.min)}%`),b=w(()=>t.range?`${100*(g.value-t.min)/(t.max-t.min)}%`:"0%"),T=w(()=>t.vertical?{height:t.height}:{}),$=w(()=>t.vertical?{height:_.value,bottom:b.value}:{width:_.value,left:b.value}),E=()=>{a.value&&(n.sliderSize=a.value[`client${t.vertical?"Height":"Width"}`])},y=B=>{const K=t.min+B*(t.max-t.min)/100;if(!t.range)return u;let te;return Math.abs(g.value-K)<Math.abs(m.value-K)?te=n.firstValue<n.secondValue?"firstButton":"secondButton":te=n.firstValue>n.secondValue?"firstButton":"secondButton",p[te]},I=B=>{const K=y(B);return K.value.setPosition(B),K},C=B=>{n.firstValue=B,R(t.range?[g.value,m.value]:B)},S=B=>{n.secondValue=B,t.range&&R([g.value,m.value])},R=B=>{o(Bt,B),o(Yo,B)},O=async()=>{await pt(),o($n,t.range?[g.value,m.value]:t.modelValue)},P=B=>{var K,te,Z,j,z,G;if(f.value||n.dragging)return;E();let W=0;if(t.vertical){const D=(Z=(te=(K=B.touches)==null?void 0:K.item(0))==null?void 0:te.clientY)!=null?Z:B.clientY;W=(a.value.getBoundingClientRect().bottom-D)/n.sliderSize*100}else{const D=(G=(z=(j=B.touches)==null?void 0:j.item(0))==null?void 0:z.clientX)!=null?G:B.clientX,X=a.value.getBoundingClientRect().left;W=(D-X)/n.sliderSize*100}if(!(W<0||W>100))return I(W)};return{elFormItem:l,slider:a,firstButton:u,secondButton:h,sliderDisabled:f,minValue:g,maxValue:m,runwayStyle:T,barStyle:$,resetSize:E,setPosition:I,emitChange:O,onSliderWrapperPrevent:B=>{var K,te;((K=p.firstButton.value)!=null&&K.dragging||(te=p.secondButton.value)!=null&&te.dragging)&&B.preventDefault()},onSliderClick:B=>{P(B)&&O()},onSliderDown:async B=>{const K=P(B);K&&(await pt(),K.value.onButtonDown(B))},setFirstValue:C,setSecondValue:S}},{left:ese,down:tse,right:nse,up:ose,home:sse,end:ise,pageUp:rse,pageDown:lse}=mt,ase=(t,n,o)=>{const i=V(),l=V(!1),a=w(()=>n.value instanceof Function),u=w(()=>a.value&&n.value(t.modelValue)||t.modelValue),h=as(()=>{o.value&&(l.value=!0)},50),p=as(()=>{o.value&&(l.value=!1)},50);return{tooltip:i,tooltipVisible:l,formatValue:u,displayTooltip:h,hideTooltip:p}},use=(t,n,o)=>{const{disabled:i,min:l,max:a,step:u,showTooltip:h,precision:p,sliderSize:f,formatTooltip:g,emitChange:m,resetSize:_,updateDragging:b}=it(aP),{tooltip:T,tooltipVisible:$,formatValue:E,displayTooltip:y,hideTooltip:I}=ase(t,g,h),C=V(),S=w(()=>`${(t.modelValue-l.value)/(a.value-l.value)*100}%`),R=w(()=>t.vertical?{bottom:S.value}:{left:S.value}),O=()=>{n.hovering=!0,y()},P=()=>{n.hovering=!1,n.dragging||I()},M=le=>{i.value||(le.preventDefault(),W(le),window.addEventListener("mousemove",D),window.addEventListener("touchmove",D),window.addEventListener("mouseup",X),window.addEventListener("touchend",X),window.addEventListener("contextmenu",X),C.value.focus())},H=le=>{i.value||(n.newPosition=Number.parseFloat(S.value)+le/(a.value-l.value)*100,oe(n.newPosition),m())},F=()=>{H(-u.value)},B=()=>{H(u.value)},K=()=>{H(-u.value*4)},te=()=>{H(u.value*4)},Z=()=>{i.value||(oe(0),m())},j=()=>{i.value||(oe(100),m())},z=le=>{let me=!0;[ese,tse].includes(le.key)?F():[nse,ose].includes(le.key)?B():le.key===sse?Z():le.key===ise?j():le.key===lse?K():le.key===rse?te():me=!1,me&&le.preventDefault()},G=le=>{let me,Se;return le.type.startsWith("touch")?(Se=le.touches[0].clientY,me=le.touches[0].clientX):(Se=le.clientY,me=le.clientX),{clientX:me,clientY:Se}},W=le=>{n.dragging=!0,n.isClick=!0;const{clientX:me,clientY:Se}=G(le);t.vertical?n.startY=Se:n.startX=me,n.startPosition=Number.parseFloat(S.value),n.newPosition=n.startPosition},D=le=>{if(n.dragging){n.isClick=!1,y(),_();let me;const{clientX:Se,clientY:Pe}=G(le);t.vertical?(n.currentY=Pe,me=(n.startY-n.currentY)/f.value*100):(n.currentX=Se,me=(n.currentX-n.startX)/f.value*100),n.newPosition=n.startPosition+me,oe(n.newPosition)}},X=()=>{n.dragging&&(setTimeout(()=>{n.dragging=!1,n.hovering||I(),n.isClick||oe(n.newPosition),m()},0),window.removeEventListener("mousemove",D),window.removeEventListener("touchmove",D),window.removeEventListener("mouseup",X),window.removeEventListener("touchend",X),window.removeEventListener("contextmenu",X))},oe=async le=>{if(le===null||Number.isNaN(+le))return;le<0?le=0:le>100&&(le=100);const me=100/((a.value-l.value)/u.value);let Pe=Math.round(le/me)*me*(a.value-l.value)*.01+l.value;Pe=Number.parseFloat(Pe.toFixed(p.value)),Pe!==t.modelValue&&o(Bt,Pe),!n.dragging&&t.modelValue!==n.oldValue&&(n.oldValue=t.modelValue),await pt(),n.dragging&&y(),T.value.updatePopper()};return Me(()=>n.dragging,le=>{b(le)}),{disabled:i,button:C,tooltip:T,tooltipVisible:$,showTooltip:h,wrapperStyle:R,formatValue:E,handleMouseEnter:O,handleMouseLeave:P,onButtonDown:M,onKeyDown:z,setPosition:oe}},cse=(t,n,o,i)=>({stops:w(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const u=(t.max-t.min)/t.step,h=100*t.step/(t.max-t.min),p=Array.from({length:u-1}).map((f,g)=>(g+1)*h);return t.range?p.filter(f=>f<100*(o.value-t.min)/(t.max-t.min)||f>100*(i.value-t.min)/(t.max-t.min)):p.filter(f=>f>100*(n.firstValue-t.min)/(t.max-t.min))}),getStopStyle:u=>t.vertical?{bottom:`${u}%`}:{left:`${u}%`}}),dse=(t,n,o,i,l,a)=>{const u=f=>{l(Bt,f),l(Yo,f)},h=()=>t.range?![o.value,i.value].every((f,g)=>f===n.oldValue[g]):t.modelValue!==n.oldValue,p=()=>{var f,g;t.min>t.max&&jn("Slider","min should not be greater than max.");const m=t.modelValue;t.range&&Array.isArray(m)?m[1]<t.min?u([t.min,t.min]):m[0]>t.max?u([t.max,t.max]):m[0]<t.min?u([t.min,m[1]]):m[1]>t.max?u([m[0],t.max]):(n.firstValue=m[0],n.secondValue=m[1],h()&&(t.validateEvent&&((f=a==null?void 0:a.validate)==null||f.call(a,"change").catch(_=>void 0)),n.oldValue=m.slice())):!t.range&&typeof m=="number"&&!Number.isNaN(m)&&(m<t.min?u(t.min):m>t.max?u(t.max):(n.firstValue=m,h()&&(t.validateEvent&&((g=a==null?void 0:a.validate)==null||g.call(a,"change").catch(_=>void 0)),n.oldValue=m)))};p(),Me(()=>n.dragging,f=>{f||p()}),Me(()=>t.modelValue,(f,g)=>{n.dragging||Array.isArray(f)&&Array.isArray(g)&&f.every((m,_)=>m===g[_])&&n.firstValue===f[0]&&n.secondValue===f[1]||p()},{deep:!0}),Me(()=>[t.min,t.max],()=>{p()})},hse=Ue({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Xa,default:"top"}}),pse={[Bt]:t=>$t(t)},fse=["tabindex"],mse=ne({name:"ElSliderButton"}),gse=ne({...mse,props:hse,emits:pse,setup(t,{expose:n,emit:o}){const i=t,l=xe("slider"),a=Qt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:i.modelValue}),{disabled:u,button:h,tooltip:p,showTooltip:f,tooltipVisible:g,wrapperStyle:m,formatValue:_,handleMouseEnter:b,handleMouseLeave:T,onButtonDown:$,onKeyDown:E,setPosition:y}=use(i,a,o),{hovering:I,dragging:C}=fo(a);return n({onButtonDown:$,onKeyDown:E,setPosition:y,hovering:I,dragging:C}),(S,R)=>(N(),Y("div",{ref_key:"button",ref:h,class:L([c(l).e("button-wrapper"),{hover:c(I),dragging:c(C)}]),style:ct(c(m)),tabindex:c(u)?-1:0,onMouseenter:R[0]||(R[0]=(...O)=>c(b)&&c(b)(...O)),onMouseleave:R[1]||(R[1]=(...O)=>c(T)&&c(T)(...O)),onMousedown:R[2]||(R[2]=(...O)=>c($)&&c($)(...O)),onTouchstart:R[3]||(R[3]=(...O)=>c($)&&c($)(...O)),onFocus:R[4]||(R[4]=(...O)=>c(b)&&c(b)(...O)),onBlur:R[5]||(R[5]=(...O)=>c(T)&&c(T)(...O)),onKeydown:R[6]||(R[6]=(...O)=>c(E)&&c(E)(...O))},[ie(c(xo),{ref_key:"tooltip",ref:p,visible:c(g),placement:S.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":S.tooltipClass,disabled:!c(f),persistent:""},{content:ce(()=>[Q("span",null,ze(c(_)),1)]),default:ce(()=>[Q("div",{class:L([c(l).e("button"),{hover:c(I),dragging:c(C)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,fse))}});var pA=We(gse,[["__file","button.vue"]]);const $se=Ue({mark:{type:fe([String,Object]),default:void 0}});var vse=ne({name:"ElSliderMarker",props:$se,setup(t){const n=xe("slider"),o=w(()=>yt(t.mark)?t.mark:t.mark.label),i=w(()=>yt(t.mark)?void 0:t.mark.style);return()=>ft("div",{class:n.e("marks-text"),style:i.value},o.value)}});const _se=["id","role","aria-label","aria-labelledby"],bse={key:1},Tse=ne({name:"ElSlider"}),yse=ne({...Tse,props:joe,emits:qoe,setup(t,{expose:n,emit:o}){const i=t,l=xe("slider"),{t:a}=Yt(),u=Qt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:h,slider:p,firstButton:f,secondButton:g,sliderDisabled:m,minValue:_,maxValue:b,runwayStyle:T,barStyle:$,resetSize:E,emitChange:y,onSliderWrapperPrevent:I,onSliderClick:C,onSliderDown:S,setFirstValue:R,setSecondValue:O}=Qoe(i,u,o),{stops:P,getStopStyle:M}=cse(i,u,_,b),{inputId:H,isLabeledByFormItem:F}=$i(i,{formItemContext:h}),B=Kn(),K=w(()=>i.inputSize||B.value),te=w(()=>i.label||i.ariaLabel||a("el.slider.defaultLabel",{min:i.min,max:i.max})),Z=w(()=>i.range?i.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):te.value),j=w(()=>i.formatValueText?i.formatValueText(le.value):`${le.value}`),z=w(()=>i.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),G=w(()=>i.formatValueText?i.formatValueText(me.value):`${me.value}`),W=w(()=>[l.b(),l.m(B.value),l.is("vertical",i.vertical),{[l.m("with-input")]:i.showInput}]),D=Zoe(i);dse(i,u,_,b,o,h);const X=w(()=>{const de=[i.min,i.max,i.step].map(ye=>{const _e=`${ye}`.split(".")[1];return _e?_e.length:0});return Math.max.apply(null,de)}),{sliderWrapper:oe}=Joe(i,u,E),{firstValue:le,secondValue:me,sliderSize:Se}=fo(u),Pe=de=>{u.dragging=de};return Ut(aP,{...fo(i),sliderSize:Se,disabled:m,precision:X,emitChange:y,resetSize:E,updateDragging:Pe}),Qn({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-slider",ref:"https://element-plus.org/en-US/component/slider.html"},w(()=>!!i.label)),n({onSliderClick:C}),(de,ye)=>{var _e,Ke;return N(),Y("div",{id:de.range?c(H):void 0,ref_key:"sliderWrapper",ref:oe,class:L(c(W)),role:de.range?"group":void 0,"aria-label":de.range&&!c(F)?c(te):void 0,"aria-labelledby":de.range&&c(F)?(_e=c(h))==null?void 0:_e.labelId:void 0,onTouchstart:ye[2]||(ye[2]=(...ve)=>c(I)&&c(I)(...ve)),onTouchmove:ye[3]||(ye[3]=(...ve)=>c(I)&&c(I)(...ve))},[Q("div",{ref_key:"slider",ref:p,class:L([c(l).e("runway"),{"show-input":de.showInput&&!de.range},c(l).is("disabled",c(m))]),style:ct(c(T)),onMousedown:ye[0]||(ye[0]=(...ve)=>c(S)&&c(S)(...ve)),onTouchstart:ye[1]||(ye[1]=(...ve)=>c(S)&&c(S)(...ve))},[Q("div",{class:L(c(l).e("bar")),style:ct(c($))},null,6),ie(pA,{id:de.range?void 0:c(H),ref_key:"firstButton",ref:f,"model-value":c(le),vertical:de.vertical,"tooltip-class":de.tooltipClass,placement:de.placement,role:"slider","aria-label":de.range||!c(F)?c(Z):void 0,"aria-labelledby":!de.range&&c(F)?(Ke=c(h))==null?void 0:Ke.labelId:void 0,"aria-valuemin":de.min,"aria-valuemax":de.range?c(me):de.max,"aria-valuenow":c(le),"aria-valuetext":c(j),"aria-orientation":de.vertical?"vertical":"horizontal","aria-disabled":c(m),"onUpdate:modelValue":c(R)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),de.range?(N(),be(pA,{key:0,ref_key:"secondButton",ref:g,"model-value":c(me),vertical:de.vertical,"tooltip-class":de.tooltipClass,placement:de.placement,role:"slider","aria-label":c(z),"aria-valuemin":c(le),"aria-valuemax":de.max,"aria-valuenow":c(me),"aria-valuetext":c(G),"aria-orientation":de.vertical?"vertical":"horizontal","aria-disabled":c(m),"onUpdate:modelValue":c(O)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):$e("v-if",!0),de.showStops?(N(),Y("div",bse,[(N(!0),Y(dt,null,zt(c(P),(ve,Ne)=>(N(),Y("div",{key:Ne,class:L(c(l).e("stop")),style:ct(c(M)(ve))},null,6))),128))])):$e("v-if",!0),c(D).length>0?(N(),Y(dt,{key:2},[Q("div",null,[(N(!0),Y(dt,null,zt(c(D),(ve,Ne)=>(N(),Y("div",{key:Ne,style:ct(c(M)(ve.position)),class:L([c(l).e("stop"),c(l).e("marks-stop")])},null,6))),128))]),Q("div",{class:L(c(l).e("marks"))},[(N(!0),Y(dt,null,zt(c(D),(ve,Ne)=>(N(),be(c(vse),{key:Ne,mark:ve.mark,style:ct(c(M)(ve.position))},null,8,["mark","style"]))),128))],2)],64)):$e("v-if",!0)],38),de.showInput&&!de.range?(N(),be(c(MD),{key:0,ref:"input","model-value":c(le),class:L(c(l).e("input")),step:de.step,disabled:c(m),controls:de.showInputControls,min:de.min,max:de.max,debounce:de.debounce,size:c(K),"onUpdate:modelValue":c(R),onChange:c(y)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):$e("v-if",!0)],42,_se)}}});var Ese=We(yse,[["__file","slider.vue"]]);const Cse=Dt(Ese),Sse=Ue({prefixCls:{type:String}}),fA=ne({name:"ElSpaceItem",props:Sse,setup(t,{slots:n}){const o=xe("space"),i=w(()=>`${t.prefixCls||o.b()}__item`);return()=>ft("div",{class:i.value},Te(n,"default"))}}),mA={small:8,default:12,large:16};function Ise(t){const n=xe("space"),o=w(()=>[n.b(),n.m(t.direction),t.class]),i=V(0),l=V(0),a=w(()=>{const h=t.wrap||t.fill?{flexWrap:"wrap"}:{},p={alignItems:t.alignment},f={rowGap:`${l.value}px`,columnGap:`${i.value}px`};return[h,p,f,t.style]}),u=w(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return Eo(()=>{const{size:h="small",wrap:p,direction:f,fill:g}=t;if(tt(h)){const[m=0,_=0]=h;i.value=m,l.value=_}else{let m;$t(h)?m=h:m=mA[h||"small"]||mA.small,(p||g)&&f==="horizontal"?i.value=l.value=m:f==="horizontal"?(i.value=m,l.value=0):(l.value=m,i.value=0)}}),{classes:o,containerStyle:a,itemStyle:u}}const wse=Ue({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:fe([String,Object,Array]),default:""},style:{type:fe([String,Array,Object]),default:""},alignment:{type:fe(String),default:"center"},prefixCls:{type:String},spacer:{type:fe([Object,String,Number,Array]),default:null,validator:t=>Cn(t)||$t(t)||yt(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Ki,validator:t=>$t(t)||tt(t)&&t.length===2&&t.every($t)}}),kse=ne({name:"ElSpace",props:wse,setup(t,{slots:n}){const{classes:o,containerStyle:i,itemStyle:l}=Ise(t);function a(u,h="",p=[]){const{prefixCls:f}=t;return u.forEach((g,m)=>{LT(g)?tt(g.children)&&g.children.forEach((_,b)=>{LT(_)&&tt(_.children)?a(_.children,`${h+b}-`,p):p.push(ie(fA,{style:l.value,prefixCls:f,key:`nested-${h+b}`},{default:()=>[_]},Ds.PROPS|Ds.STYLE,["style","prefixCls"]))}):cz(g)&&p.push(ie(fA,{style:l.value,prefixCls:f,key:`LoopKey${h+m}`},{default:()=>[g]},Ds.PROPS|Ds.STYLE,["style","prefixCls"]))}),p}return()=>{var u;const{spacer:h,direction:p}=t,f=Te(n,"default",{key:0},()=>[]);if(((u=f.children)!=null?u:[]).length===0)return null;if(tt(f.children)){let g=a(f.children);if(h){const m=g.length-1;g=g.reduce((_,b,T)=>{const $=[..._,b];return T!==m&&$.push(ie("span",{style:[l.value,p==="vertical"?"width: 100%":null],key:T},[Cn(h)?h:Wt(h,Ds.TEXT)],Ds.STYLE)),$},[])}return ie("div",{class:o.value,style:i.value},g,Ds.STYLE|Ds.CLASS)}return f.children}}}),Ose=Dt(kse),Rse=Ue({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:fe([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:fe([String,Object,Array])}}),Ase=ne({name:"ElStatistic"}),Nse=ne({...Ase,props:Rse,setup(t,{expose:n}){const o=t,i=xe("statistic"),l=w(()=>{const{value:a,formatter:u,precision:h,decimalSeparator:p,groupSeparator:f}=o;if(_t(u))return u(a);if(!$t(a))return a;let[g,m=""]=String(a).split(".");return m=m.padEnd(h,"0").slice(0,h>0?h:0),g=g.replace(/\B(?=(\d{3})+(?!\d))/g,f),[g,m].join(m?p:"")});return n({displayValue:l}),(a,u)=>(N(),Y("div",{class:L(c(i).b())},[a.$slots.title||a.title?(N(),Y("div",{key:0,class:L(c(i).e("head"))},[Te(a.$slots,"title",{},()=>[Wt(ze(a.title),1)])],2)):$e("v-if",!0),Q("div",{class:L(c(i).e("content"))},[a.$slots.prefix||a.prefix?(N(),Y("div",{key:0,class:L(c(i).e("prefix"))},[Te(a.$slots,"prefix",{},()=>[Q("span",null,ze(a.prefix),1)])],2)):$e("v-if",!0),Q("span",{class:L(c(i).e("number")),style:ct(a.valueStyle)},ze(c(l)),7),a.$slots.suffix||a.suffix?(N(),Y("div",{key:1,class:L(c(i).e("suffix"))},[Te(a.$slots,"suffix",{},()=>[Q("span",null,ze(a.suffix),1)])],2)):$e("v-if",!0)],2)],2))}});var Lse=We(Nse,[["__file","statistic.vue"]]);const uP=Dt(Lse),Mse=Ue({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:fe([Number,Object]),default:0},valueStyle:{type:fe([String,Object,Array])}}),Dse={finish:()=>!0,[$n]:t=>$t(t)},Pse=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],gA=t=>$t(t)?new Date(t).getTime():t.valueOf(),$A=(t,n)=>{let o=t;const i=/\[([^\]]*)]/g;return Pse.reduce((a,[u,h])=>{const p=new RegExp(`${u}+(?![^\\[\\]]*\\])`,"g");if(p.test(a)){const f=Math.floor(o/h);return o-=f*h,a.replace(p,g=>String(f).padStart(g.length,"0"))}return a},n).replace(i,"$1")},xse=ne({name:"ElCountdown"}),Bse=ne({...xse,props:Mse,emits:Dse,setup(t,{expose:n,emit:o}){const i=t;let l;const a=V(gA(i.value)-Date.now()),u=w(()=>$A(a.value,i.format)),h=g=>$A(g,i.format),p=()=>{l&&(Ba(l),l=void 0)},f=()=>{const g=gA(i.value),m=()=>{let _=g-Date.now();o("change",_),_<=0?(_=0,p(),o("finish")):l=El(m),a.value=_};l=El(m)};return Me(()=>[i.value,i.format],()=>{p(),f()},{immediate:!0}),fn(()=>{p()}),n({displayValue:u}),(g,m)=>(N(),be(c(uP),{value:a.value,title:g.title,prefix:g.prefix,suffix:g.suffix,"value-style":g.valueStyle,formatter:h},Sr({_:2},[zt(g.$slots,(_,b)=>({name:b,fn:ce(()=>[Te(g.$slots,b)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var Fse=We(Bse,[["__file","countdown.vue"]]);const Hse=Dt(Fse),Vse=Ue({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Use={[$n]:(t,n)=>[t,n].every($t)},Gse=ne({name:"ElSteps"}),Wse=ne({...Gse,props:Vse,emits:Use,setup(t,{emit:n}){const o=t,i=xe("steps"),{children:l,addChild:a,removeChild:u}=ZE(Mt(),"ElStep");return Me(l,()=>{l.value.forEach((h,p)=>{h.setIndex(p)})}),Ut("ElSteps",{props:o,steps:l,addStep:a,removeStep:u}),Me(()=>o.active,(h,p)=>{n($n,h,p)}),(h,p)=>(N(),Y("div",{class:L([c(i).b(),c(i).m(h.simple?"simple":h.direction)])},[Te(h.$slots,"default")],2))}});var zse=We(Wse,[["__file","steps.vue"]]);const Kse=Ue({title:{type:String,default:""},icon:{type:ln},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Xse=ne({name:"ElStep"}),Yse=ne({...Xse,props:Kse,setup(t){const n=t,o=xe("step"),i=V(-1),l=V({}),a=V(""),u=it("ElSteps"),h=Mt();At(()=>{Me([()=>u.props.active,()=>u.props.processStatus,()=>u.props.finishStatus],([O])=>{S(O)},{immediate:!0})}),fn(()=>{u.removeStep(R.uid)});const p=w(()=>n.status||a.value),f=w(()=>{const O=u.steps.value[i.value-1];return O?O.currentStatus:"wait"}),g=w(()=>u.props.alignCenter),m=w(()=>u.props.direction==="vertical"),_=w(()=>u.props.simple),b=w(()=>u.steps.value.length),T=w(()=>{var O;return((O=u.steps.value[b.value-1])==null?void 0:O.uid)===(h==null?void 0:h.uid)}),$=w(()=>_.value?"":u.props.space),E=w(()=>[o.b(),o.is(_.value?"simple":u.props.direction),o.is("flex",T.value&&!$.value&&!g.value),o.is("center",g.value&&!m.value&&!_.value)]),y=w(()=>{const O={flexBasis:$t($.value)?`${$.value}px`:$.value?$.value:`${100/(b.value-(g.value?0:1))}%`};return m.value||T.value&&(O.maxWidth=`${100/b.value}%`),O}),I=O=>{i.value=O},C=O=>{const P=O==="wait",M={transitionDelay:`${P?"-":""}${150*i.value}ms`},H=O===u.props.processStatus||P?0:100;M.borderWidth=H&&!_.value?"1px":0,M[u.props.direction==="vertical"?"height":"width"]=`${H}%`,l.value=M},S=O=>{O>i.value?a.value=u.props.finishStatus:O===i.value&&f.value!=="error"?a.value=u.props.processStatus:a.value="wait";const P=u.steps.value[i.value-1];P&&P.calcProgress(a.value)},R=Qt({uid:h.uid,currentStatus:p,setIndex:I,calcProgress:C});return u.addStep(R),(O,P)=>(N(),Y("div",{style:ct(c(y)),class:L(c(E))},[$e(" icon & line "),Q("div",{class:L([c(o).e("head"),c(o).is(c(p))])},[c(_)?$e("v-if",!0):(N(),Y("div",{key:0,class:L(c(o).e("line"))},[Q("i",{class:L(c(o).e("line-inner")),style:ct(l.value)},null,6)],2)),Q("div",{class:L([c(o).e("icon"),c(o).is(O.icon||O.$slots.icon?"icon":"text")])},[Te(O.$slots,"icon",{},()=>[O.icon?(N(),be(c(at),{key:0,class:L(c(o).e("icon-inner"))},{default:ce(()=>[(N(),be(Ft(O.icon)))]),_:1},8,["class"])):c(p)==="success"?(N(),be(c(at),{key:1,class:L([c(o).e("icon-inner"),c(o).is("status")])},{default:ce(()=>[ie(c(Qh))]),_:1},8,["class"])):c(p)==="error"?(N(),be(c(at),{key:2,class:L([c(o).e("icon-inner"),c(o).is("status")])},{default:ce(()=>[ie(c(hi))]),_:1},8,["class"])):c(_)?$e("v-if",!0):(N(),Y("div",{key:3,class:L(c(o).e("icon-inner"))},ze(i.value+1),3))])],2)],2),$e(" title & description "),Q("div",{class:L(c(o).e("main"))},[Q("div",{class:L([c(o).e("title"),c(o).is(c(p))])},[Te(O.$slots,"title",{},()=>[Wt(ze(O.title),1)])],2),c(_)?(N(),Y("div",{key:0,class:L(c(o).e("arrow"))},null,2)):(N(),Y("div",{key:1,class:L([c(o).e("description"),c(o).is(c(p))])},[Te(O.$slots,"description",{},()=>[Wt(ze(O.description),1)])],2))],2)],6))}});var cP=We(Yse,[["__file","item.vue"]]);const jse=Dt(zse,{Step:cP}),qse=kn(cP),Jse=Ue({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:hM},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:ln},activeActionIcon:{type:ln},activeIcon:{type:ln},inactiveIcon:{type:ln},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:fe(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0},...mo(["ariaLabel"])}),Zse={[Bt]:t=>Hn(t)||yt(t)||$t(t),[$n]:t=>Hn(t)||yt(t)||$t(t),[Yo]:t=>Hn(t)||yt(t)||$t(t)},Qse=["onClick"],eie=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],tie=["aria-hidden"],nie=["aria-hidden"],oie=["aria-hidden"],dP="ElSwitch",sie=ne({name:dP}),iie=ne({...sie,props:Jse,emits:Zse,setup(t,{expose:n,emit:o}){const i=t,{formItem:l}=Bo(),a=Kn(),u=xe("switch"),{inputId:h}=$i(i,{formItemContext:l}),p=Zo(w(()=>i.loading)),f=V(i.modelValue!==!1),g=V(),m=V(),_=w(()=>[u.b(),u.m(a.value),u.is("disabled",p.value),u.is("checked",y.value)]),b=w(()=>[u.e("label"),u.em("label","left"),u.is("active",!y.value)]),T=w(()=>[u.e("label"),u.em("label","right"),u.is("active",y.value)]),$=w(()=>({width:Ln(i.width)}));Me(()=>i.modelValue,()=>{f.value=!0});const E=w(()=>f.value?i.modelValue:!1),y=w(()=>E.value===i.activeValue);[i.activeValue,i.inactiveValue].includes(E.value)||(o(Bt,i.inactiveValue),o($n,i.inactiveValue),o(Yo,i.inactiveValue)),Me(y,R=>{var O;g.value.checked=R,i.validateEvent&&((O=l==null?void 0:l.validate)==null||O.call(l,"change").catch(P=>void 0))});const I=()=>{const R=y.value?i.inactiveValue:i.activeValue;o(Bt,R),o($n,R),o(Yo,R),pt(()=>{g.value.checked=y.value})},C=()=>{if(p.value)return;const{beforeChange:R}=i;if(!R){I();return}const O=R();[vh(O),Hn(O)].includes(!0)||jn(dP,"beforeChange must return type `Promise<boolean>` or `boolean`"),vh(O)?O.then(M=>{M&&I()}).catch(M=>{}):O&&I()},S=()=>{var R,O;(O=(R=g.value)==null?void 0:R.focus)==null||O.call(R)};return At(()=>{g.value.checked=y.value}),Qn({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-switch",ref:"https://element-plus.org/en-US/component/switch.html"},w(()=>!!i.label)),n({focus:S,checked:y}),(R,O)=>(N(),Y("div",{class:L(c(_)),onClick:bt(C,["prevent"])},[Q("input",{id:c(h),ref_key:"input",ref:g,class:L(c(u).e("input")),type:"checkbox",role:"switch","aria-checked":c(y),"aria-disabled":c(p),"aria-label":R.label||R.ariaLabel,name:R.name,"true-value":R.activeValue,"false-value":R.inactiveValue,disabled:c(p),tabindex:R.tabindex,onChange:I,onKeydown:rn(C,["enter"])},null,42,eie),!R.inlinePrompt&&(R.inactiveIcon||R.inactiveText)?(N(),Y("span",{key:0,class:L(c(b))},[R.inactiveIcon?(N(),be(c(at),{key:0},{default:ce(()=>[(N(),be(Ft(R.inactiveIcon)))]),_:1})):$e("v-if",!0),!R.inactiveIcon&&R.inactiveText?(N(),Y("span",{key:1,"aria-hidden":c(y)},ze(R.inactiveText),9,tie)):$e("v-if",!0)],2)):$e("v-if",!0),Q("span",{ref_key:"core",ref:m,class:L(c(u).e("core")),style:ct(c($))},[R.inlinePrompt?(N(),Y("div",{key:0,class:L(c(u).e("inner"))},[R.activeIcon||R.inactiveIcon?(N(),be(c(at),{key:0,class:L(c(u).is("icon"))},{default:ce(()=>[(N(),be(Ft(c(y)?R.activeIcon:R.inactiveIcon)))]),_:1},8,["class"])):R.activeText||R.inactiveText?(N(),Y("span",{key:1,class:L(c(u).is("text")),"aria-hidden":!c(y)},ze(c(y)?R.activeText:R.inactiveText),11,nie)):$e("v-if",!0)],2)):$e("v-if",!0),Q("div",{class:L(c(u).e("action"))},[R.loading?(N(),be(c(at),{key:0,class:L(c(u).is("loading"))},{default:ce(()=>[ie(c(Ll))]),_:1},8,["class"])):c(y)?Te(R.$slots,"active-action",{key:1},()=>[R.activeActionIcon?(N(),be(c(at),{key:0},{default:ce(()=>[(N(),be(Ft(R.activeActionIcon)))]),_:1})):$e("v-if",!0)]):c(y)?$e("v-if",!0):Te(R.$slots,"inactive-action",{key:2},()=>[R.inactiveActionIcon?(N(),be(c(at),{key:0},{default:ce(()=>[(N(),be(Ft(R.inactiveActionIcon)))]),_:1})):$e("v-if",!0)])],2)],6),!R.inlinePrompt&&(R.activeIcon||R.activeText)?(N(),Y("span",{key:1,class:L(c(T))},[R.activeIcon?(N(),be(c(at),{key:0},{default:ce(()=>[(N(),be(Ft(R.activeIcon)))]),_:1})):$e("v-if",!0),!R.activeIcon&&R.activeText?(N(),Y("span",{key:1,"aria-hidden":!c(y)},ze(R.activeText),9,oie)):$e("v-if",!0)],2)):$e("v-if",!0)],10,Qse))}});var rie=We(iie,[["__file","switch.vue"]]);const lie=Dt(rie),oT=function(t){var n;return(n=t.target)==null?void 0:n.closest("td")},aie=function(t,n,o,i,l){if(!n&&!i&&(!l||Array.isArray(l)&&!l.length))return t;typeof o=="string"?o=o==="descending"?-1:1:o=o&&o<0?-1:1;const a=i?null:function(h,p){return l?(Array.isArray(l)||(l=[l]),l.map(f=>typeof f=="string"?Pn(h,f):f(h,p,t))):(n!=="$key"&&xt(h)&&"$value"in h&&(h=h.$value),[xt(h)?Pn(h,n):h])},u=function(h,p){if(i)return i(h.value,p.value);for(let f=0,g=h.key.length;f<g;f++){if(h.key[f]<p.key[f])return-1;if(h.key[f]>p.key[f])return 1}return 0};return t.map((h,p)=>({value:h,index:p,key:a?a(h,p):null})).sort((h,p)=>{let f=u(h,p);return f||(f=h.index-p.index),f*+o}).map(h=>h.value)},hP=function(t,n){let o=null;return t.columns.forEach(i=>{i.id===n&&(o=i)}),o},uie=function(t,n){let o=null;for(let i=0;i<t.columns.length;i++){const l=t.columns[i];if(l.columnKey===n){o=l;break}}return o||jn("ElTable",`No column matching with column-key: ${n}`),o},vA=function(t,n,o){const i=(n.className||"").match(new RegExp(`${o}-table_[^\\s]+`,"gm"));return i?hP(t,i[0]):null},yo=(t,n)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof n=="string"){if(!n.includes("."))return`${t[n]}`;const o=n.split(".");let i=t;for(const l of o)i=i[l];return`${i}`}else if(typeof n=="function")return n.call(null,t)},Ia=function(t,n){const o={};return(t||[]).forEach((i,l)=>{o[yo(i,n)]={row:i,index:l}}),o};function cie(t,n){const o={};let i;for(i in t)o[i]=t[i];for(i in n)if(Xt(n,i)){const l=n[i];typeof l<"u"&&(o[i]=l)}return o}function E0(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function pP(t){return t===""||t!==void 0&&(t=E0(t),Number.isNaN(t)&&(t=80)),t}function die(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function hie(...t){return t.length===0?n=>n:t.length===1?t[0]:t.reduce((n,o)=>(...i)=>n(o(...i)))}function gh(t,n,o){let i=!1;const l=t.indexOf(n),a=l!==-1,u=h=>{h==="add"?t.push(n):t.splice(l,1),i=!0,tt(n.children)&&n.children.forEach(p=>{gh(t,p,o??!a)})};return Hn(o)?o&&!a?u("add"):!o&&a&&u("remove"):u(a?"remove":"add"),i}function pie(t,n,o="children",i="hasChildren"){const l=u=>!(Array.isArray(u)&&u.length);function a(u,h,p){n(u,h,p),h.forEach(f=>{if(f[i]){n(f,null,p+1);return}const g=f[o];l(g)||a(f,g,p+1)})}t.forEach(u=>{if(u[i]){n(u,null,0);return}const h=u[o];l(h)||a(u,h,0)})}let Ms=null;function fie(t,n,o,i){if((Ms==null?void 0:Ms.trigger)===o)return;Ms==null||Ms();const l=i==null?void 0:i.refs.tableWrapper,a=l==null?void 0:l.dataset.prefix,u={strategy:"fixed",...t.popperOptions},h=ie(xo,{content:n,virtualTriggering:!0,virtualRef:o,appendTo:l,placement:"top",transition:"none",offset:0,hideAfter:0,...t,popperOptions:u,onHide:()=>{Ms==null||Ms()}});h.appContext={...i.appContext,...i};const p=document.createElement("div");bl(h,p),h.component.exposed.onOpen();const f=l==null?void 0:l.querySelector(`.${a}-scrollbar__wrap`);Ms=()=>{bl(null,p),f==null||f.removeEventListener("scroll",Ms),Ms=null},Ms.trigger=o,f==null||f.addEventListener("scroll",Ms)}function fP(t){return t.children?IW(t.children,fP):[t]}function _A(t,n){return t+n.colSpan}const mP=(t,n,o,i)=>{let l=0,a=t;const u=o.states.columns.value;if(i){const p=fP(i[t]);l=u.slice(0,u.indexOf(p[0])).reduce(_A,0),a=l+p.reduce(_A,0)-1}else l=t;let h;switch(n){case"left":a<o.states.fixedLeafColumnsLength.value&&(h="left");break;case"right":l>=u.length-o.states.rightFixedLeafColumnsLength.value&&(h="right");break;default:a<o.states.fixedLeafColumnsLength.value?h="left":l>=u.length-o.states.rightFixedLeafColumnsLength.value&&(h="right")}return h?{direction:h,start:l,after:a}:{}},C0=(t,n,o,i,l,a=0)=>{const u=[],{direction:h,start:p,after:f}=mP(n,o,i,l);if(h){const g=h==="left";u.push(`${t}-fixed-column--${h}`),g&&f+a===i.states.fixedLeafColumnsLength.value-1?u.push("is-last-column"):!g&&p-a===i.states.columns.value.length-i.states.rightFixedLeafColumnsLength.value&&u.push("is-first-column")}return u};function bA(t,n){return t+(n.realWidth===null||Number.isNaN(n.realWidth)?Number(n.width):n.realWidth)}const S0=(t,n,o,i)=>{const{direction:l,start:a=0,after:u=0}=mP(t,n,o,i);if(!l)return;const h={},p=l==="left",f=o.states.columns.value;return p?h.left=f.slice(0,a).reduce(bA,0):h.right=f.slice(u+1).reverse().reduce(bA,0),h},Ac=(t,n)=>{t&&(Number.isNaN(t[n])||(t[n]=`${t[n]}px`))};function mie(t){const n=Mt(),o=V(!1),i=V([]);return{updateExpandRows:()=>{const p=t.data.value||[],f=t.rowKey.value;if(o.value)i.value=p.slice();else if(f){const g=Ia(i.value,f);i.value=p.reduce((m,_)=>{const b=yo(_,f);return g[b]&&m.push(_),m},[])}else i.value=[]},toggleRowExpansion:(p,f)=>{gh(i.value,p,f)&&n.emit("expand-change",p,i.value.slice())},setExpandRowKeys:p=>{n.store.assertRowKey();const f=t.data.value||[],g=t.rowKey.value,m=Ia(f,g);i.value=p.reduce((_,b)=>{const T=m[b];return T&&_.push(T.row),_},[])},isRowExpanded:p=>{const f=t.rowKey.value;return f?!!Ia(i.value,f)[yo(p,f)]:i.value.includes(p)},states:{expandRows:i,defaultExpandAll:o}}}function gie(t){const n=Mt(),o=V(null),i=V(null),l=f=>{n.store.assertRowKey(),o.value=f,u(f)},a=()=>{o.value=null},u=f=>{const{data:g,rowKey:m}=t;let _=null;m.value&&(_=(c(g)||[]).find(b=>yo(b,m.value)===f)),i.value=_,n.emit("current-change",i.value,null)};return{setCurrentRowKey:l,restoreCurrentRowKey:a,setCurrentRowByKey:u,updateCurrentRow:f=>{const g=i.value;if(f&&f!==g){i.value=f,n.emit("current-change",i.value,g);return}!f&&g&&(i.value=null,n.emit("current-change",null,g))},updateCurrentRowData:()=>{const f=t.rowKey.value,g=t.data.value||[],m=i.value;if(!g.includes(m)&&m){if(f){const _=yo(m,f);u(_)}else i.value=null;i.value===null&&n.emit("current-change",null,m)}else o.value&&(u(o.value),a())},states:{_currentRowKey:o,currentRow:i}}}function $ie(t){const n=V([]),o=V({}),i=V(16),l=V(!1),a=V({}),u=V("hasChildren"),h=V("children"),p=Mt(),f=w(()=>{if(!t.rowKey.value)return{};const y=t.data.value||[];return m(y)}),g=w(()=>{const y=t.rowKey.value,I=Object.keys(a.value),C={};return I.length&&I.forEach(S=>{if(a.value[S].length){const R={children:[]};a.value[S].forEach(O=>{const P=yo(O,y);R.children.push(P),O[u.value]&&!C[P]&&(C[P]={children:[]})}),C[S]=R}}),C}),m=y=>{const I=t.rowKey.value,C={};return pie(y,(S,R,O)=>{const P=yo(S,I);Array.isArray(R)?C[P]={children:R.map(M=>yo(M,I)),level:O}:l.value&&(C[P]={children:[],lazy:!0,level:O})},h.value,u.value),C},_=(y=!1,I=(C=>(C=p.store)==null?void 0:C.states.defaultExpandAll.value)())=>{var C;const S=f.value,R=g.value,O=Object.keys(S),P={};if(O.length){const M=c(o),H=[],F=(K,te)=>{if(y)return n.value?I||n.value.includes(te):!!(I||K!=null&&K.expanded);{const Z=I||n.value&&n.value.includes(te);return!!(K!=null&&K.expanded||Z)}};O.forEach(K=>{const te=M[K],Z={...S[K]};if(Z.expanded=F(te,K),Z.lazy){const{loaded:j=!1,loading:z=!1}=te||{};Z.loaded=!!j,Z.loading=!!z,H.push(K)}P[K]=Z});const B=Object.keys(R);l.value&&B.length&&H.length&&B.forEach(K=>{const te=M[K],Z=R[K].children;if(H.includes(K)){if(P[K].children.length!==0)throw new Error("[ElTable]children must be an empty array.");P[K].children=Z}else{const{loaded:j=!1,loading:z=!1}=te||{};P[K]={lazy:!0,loaded:!!j,loading:!!z,expanded:F(te,K),children:Z,level:""}}})}o.value=P,(C=p.store)==null||C.updateTableScrollY()};Me(()=>n.value,()=>{_(!0)}),Me(()=>f.value,()=>{_()}),Me(()=>g.value,()=>{_()});const b=y=>{n.value=y,_()},T=(y,I)=>{p.store.assertRowKey();const C=t.rowKey.value,S=yo(y,C),R=S&&o.value[S];if(S&&R&&"expanded"in R){const O=R.expanded;I=typeof I>"u"?!R.expanded:I,o.value[S].expanded=I,O!==I&&p.emit("expand-change",y,I),p.store.updateTableScrollY()}},$=y=>{p.store.assertRowKey();const I=t.rowKey.value,C=yo(y,I),S=o.value[C];l.value&&S&&"loaded"in S&&!S.loaded?E(y,C,S):T(y,void 0)},E=(y,I,C)=>{const{load:S}=p.props;S&&!o.value[I].loaded&&(o.value[I].loading=!0,S(y,C,R=>{if(!Array.isArray(R))throw new TypeError("[ElTable] data must be an array");o.value[I].loading=!1,o.value[I].loaded=!0,o.value[I].expanded=!0,R.length&&(a.value[I]=R),p.emit("expand-change",y,!0)}))};return{loadData:E,loadOrToggle:$,toggleTreeExpansion:T,updateTreeExpandKeys:b,updateTreeData:_,normalize:m,states:{expandRowKeys:n,treeData:o,indent:i,lazy:l,lazyTreeNodeMap:a,lazyColumnIdentifier:u,childrenColumnName:h}}}const vie=(t,n)=>{const o=n.sortingColumn;return!o||typeof o.sortable=="string"?t:aie(t,n.sortProp,n.sortOrder,o.sortMethod,o.sortBy)},km=t=>{const n=[];return t.forEach(o=>{o.children&&o.children.length>0?n.push.apply(n,km(o.children)):n.push(o)}),n};function _ie(){var t;const n=Mt(),{size:o}=fo((t=n.proxy)==null?void 0:t.$props),i=V(null),l=V([]),a=V([]),u=V(!1),h=V([]),p=V([]),f=V([]),g=V([]),m=V([]),_=V([]),b=V([]),T=V([]),$=[],E=V(0),y=V(0),I=V(0),C=V(!1),S=V([]),R=V(!1),O=V(!1),P=V(null),M=V({}),H=V(null),F=V(null),B=V(null),K=V(null),te=V(null);Me(l,()=>n.state&&G(!1),{deep:!0});const Z=()=>{if(!i.value)throw new Error("[ElTable] prop row-key is required")},j=st=>{var Re;(Re=st.children)==null||Re.forEach(Ye=>{Ye.fixed=st.fixed,j(Ye)})},z=()=>{h.value.forEach(x=>{j(x)}),g.value=h.value.filter(x=>x.fixed===!0||x.fixed==="left"),m.value=h.value.filter(x=>x.fixed==="right"),g.value.length>0&&h.value[0]&&h.value[0].type==="selection"&&!h.value[0].fixed&&(h.value[0].fixed=!0,g.value.unshift(h.value[0]));const st=h.value.filter(x=>!x.fixed);p.value=[].concat(g.value).concat(st).concat(m.value);const Re=km(st),Ye=km(g.value),A=km(m.value);E.value=Re.length,y.value=Ye.length,I.value=A.length,f.value=[].concat(Ye).concat(Re).concat(A),u.value=g.value.length>0||m.value.length>0},G=(st,Re=!1)=>{st&&z(),Re?n.state.doLayout():n.state.debouncedUpdateLayout()},W=st=>S.value.includes(st),D=()=>{C.value=!1;const st=S.value;S.value=[],st.length&&n.emit("selection-change",[])},X=()=>{let st;if(i.value){st=[];const Re=Ia(S.value,i.value),Ye=Ia(l.value,i.value);for(const A in Re)Xt(Re,A)&&!Ye[A]&&st.push(Re[A].row)}else st=S.value.filter(Re=>!l.value.includes(Re));if(st.length){const Re=S.value.filter(Ye=>!st.includes(Ye));S.value=Re,n.emit("selection-change",Re.slice())}},oe=()=>(S.value||[]).slice(),le=(st,Re=void 0,Ye=!0)=>{if(gh(S.value,st,Re)){const x=(S.value||[]).slice();Ye&&n.emit("select",x,st),n.emit("selection-change",x)}},me=()=>{var st,Re;const Ye=O.value?!C.value:!(C.value||S.value.length);C.value=Ye;let A=!1,x=0;const ee=(Re=(st=n==null?void 0:n.store)==null?void 0:st.states)==null?void 0:Re.rowKey.value;l.value.forEach((pe,re)=>{const je=re+x;P.value?P.value.call(null,pe,je)&&gh(S.value,pe,Ye)&&(A=!0):gh(S.value,pe,Ye)&&(A=!0),x+=de(yo(pe,ee))}),A&&n.emit("selection-change",S.value?S.value.slice():[]),n.emit("select-all",(S.value||[]).slice())},Se=()=>{const st=Ia(S.value,i.value);l.value.forEach(Re=>{const Ye=yo(Re,i.value),A=st[Ye];A&&(S.value[A.index]=Re)})},Pe=()=>{var st,Re,Ye;if(((st=l.value)==null?void 0:st.length)===0){C.value=!1;return}let A;i.value&&(A=Ia(S.value,i.value));const x=function(je){return A?!!A[yo(je,i.value)]:S.value.includes(je)};let ee=!0,pe=0,re=0;for(let je=0,Ct=(l.value||[]).length;je<Ct;je++){const U=(Ye=(Re=n==null?void 0:n.store)==null?void 0:Re.states)==null?void 0:Ye.rowKey.value,se=je+re,Ee=l.value[je],Ie=P.value&&P.value.call(null,Ee,se);if(x(Ee))pe++;else if(!P.value||Ie){ee=!1;break}re+=de(yo(Ee,U))}pe===0&&(ee=!1),C.value=ee},de=st=>{var Re;if(!n||!n.store)return 0;const{treeData:Ye}=n.store.states;let A=0;const x=(Re=Ye.value[st])==null?void 0:Re.children;return x&&(A+=x.length,x.forEach(ee=>{A+=de(ee)})),A},ye=(st,Re)=>{Array.isArray(st)||(st=[st]);const Ye={};return st.forEach(A=>{M.value[A.id]=Re,Ye[A.columnKey||A.id]=Re}),Ye},_e=(st,Re,Ye)=>{F.value&&F.value!==st&&(F.value.order=null),F.value=st,B.value=Re,K.value=Ye},Ke=()=>{let st=c(a);Object.keys(M.value).forEach(Re=>{const Ye=M.value[Re];if(!Ye||Ye.length===0)return;const A=hP({columns:f.value},Re);A&&A.filterMethod&&(st=st.filter(x=>Ye.some(ee=>A.filterMethod.call(null,ee,x,A))))}),H.value=st},ve=()=>{l.value=vie(H.value,{sortingColumn:F.value,sortProp:B.value,sortOrder:K.value})},Ne=(st=void 0)=>{st&&st.filter||Ke(),ve()},He=st=>{const{tableHeaderRef:Re}=n.refs;if(!Re)return;const Ye=Object.assign({},Re.filterPanels),A=Object.keys(Ye);if(A.length)if(typeof st=="string"&&(st=[st]),Array.isArray(st)){const x=st.map(ee=>uie({columns:f.value},ee));A.forEach(ee=>{const pe=x.find(re=>re.id===ee);pe&&(pe.filteredValue=[])}),n.store.commit("filterChange",{column:x,values:[],silent:!0,multi:!0})}else A.forEach(x=>{const ee=f.value.find(pe=>pe.id===x);ee&&(ee.filteredValue=[])}),M.value={},n.store.commit("filterChange",{column:{},values:[],silent:!0})},ae=()=>{F.value&&(_e(null,null,null),n.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:he,toggleRowExpansion:Ae,updateExpandRows:Fe,states:Ce,isRowExpanded:De}=mie({data:l,rowKey:i}),{updateTreeExpandKeys:Ve,toggleTreeExpansion:ue,updateTreeData:we,loadOrToggle:ke,states:Ge}=$ie({data:l,rowKey:i}),{updateCurrentRowData:ot,updateCurrentRow:q,setCurrentRowKey:et,states:lt}=gie({data:l,rowKey:i});return{assertRowKey:Z,updateColumns:z,scheduleLayout:G,isSelected:W,clearSelection:D,cleanSelection:X,getSelectionRows:oe,toggleRowSelection:le,_toggleAllSelection:me,toggleAllSelection:null,updateSelectionByRowKey:Se,updateAllSelected:Pe,updateFilters:ye,updateCurrentRow:q,updateSort:_e,execFilter:Ke,execSort:ve,execQuery:Ne,clearFilter:He,clearSort:ae,toggleRowExpansion:Ae,setExpandRowKeysAdapter:st=>{he(st),Ve(st)},setCurrentRowKey:et,toggleRowExpansionAdapter:(st,Re)=>{f.value.some(({type:A})=>A==="expand")?Ae(st,Re):ue(st,Re)},isRowExpanded:De,updateExpandRows:Fe,updateCurrentRowData:ot,loadOrToggle:ke,updateTreeData:we,states:{tableSize:o,rowKey:i,data:l,_data:a,isComplex:u,_columns:h,originColumns:p,columns:f,fixedColumns:g,rightFixedColumns:m,leafColumns:_,fixedLeafColumns:b,rightFixedLeafColumns:T,updateOrderFns:$,leafColumnsLength:E,fixedLeafColumnsLength:y,rightFixedLeafColumnsLength:I,isAllSelected:C,selection:S,reserveSelection:R,selectOnIndeterminate:O,selectable:P,filters:M,filteredData:H,sortingColumn:F,sortProp:B,sortOrder:K,hoverRow:te,...Ce,...Ge,...lt}}}function vy(t,n){return t.map(o=>{var i;return o.id===n.id?n:((i=o.children)!=null&&i.length&&(o.children=vy(o.children,n)),o)})}function _y(t){t.forEach(n=>{var o,i;n.no=(o=n.getColumnIndex)==null?void 0:o.call(n),(i=n.children)!=null&&i.length&&_y(n.children)}),t.sort((n,o)=>n.no-o.no)}function bie(){const t=Mt(),n=_ie();return{ns:xe("table"),...n,mutations:{setData(u,h){const p=c(u._data)!==h;u.data.value=h,u._data.value=h,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),c(u.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):p?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(u,h,p,f){const g=c(u._columns);let m=[];p?(p&&!p.children&&(p.children=[]),p.children.push(h),m=vy(g,p)):(g.push(h),m=g),_y(m),u._columns.value=m,u.updateOrderFns.push(f),h.type==="selection"&&(u.selectable.value=h.selectable,u.reserveSelection.value=h.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(u,h){var p;((p=h.getColumnIndex)==null?void 0:p.call(h))!==h.no&&(_y(u._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(u,h,p,f){const g=c(u._columns)||[];if(p)p.children.splice(p.children.findIndex(_=>_.id===h.id),1),pt(()=>{var _;((_=p.children)==null?void 0:_.length)===0&&delete p.children}),u._columns.value=vy(g,p);else{const _=g.indexOf(h);_>-1&&(g.splice(_,1),u._columns.value=g)}const m=u.updateOrderFns.indexOf(f);m>-1&&u.updateOrderFns.splice(m,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(u,h){const{prop:p,order:f,init:g}=h;if(p){const m=c(u.columns).find(_=>_.property===p);m&&(m.order=f,t.store.updateSort(m,p,f),t.store.commit("changeSortCondition",{init:g}))}},changeSortCondition(u,h){const{sortingColumn:p,sortProp:f,sortOrder:g}=u,m=c(p),_=c(f),b=c(g);b===null&&(u.sortingColumn.value=null,u.sortProp.value=null);const T={filter:!0};t.store.execQuery(T),(!h||!(h.silent||h.init))&&t.emit("sort-change",{column:m,prop:_,order:b}),t.store.updateTableScrollY()},filterChange(u,h){const{column:p,values:f,silent:g}=h,m=t.store.updateFilters(p,f);t.store.execQuery(),g||t.emit("filter-change",m),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(u,h){t.store.toggleRowSelection(h),t.store.updateAllSelected()},setHoverRow(u,h){u.hoverRow.value=h},setCurrentRow(u,h){t.store.updateCurrentRow(h)}},commit:function(u,...h){const p=t.store.mutations;if(p[u])p[u].apply(t,[t.store.states].concat(h));else throw new Error(`Action not found: ${u}`)},updateTableScrollY:function(){pt(()=>t.layout.updateScrollY.apply(t.layout))}}}const $h={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function Tie(t,n){if(!t)throw new Error("Table is required.");const o=bie();return o.toggleAllSelection=as(o._toggleAllSelection,10),Object.keys($h).forEach(i=>{gP($P(n,i),i,o)}),yie(o,n),o}function yie(t,n){Object.keys($h).forEach(o=>{Me(()=>$P(n,o),i=>{gP(i,o,t)})})}function gP(t,n,o){let i=t,l=$h[n];typeof $h[n]=="object"&&(l=l.key,i=i||$h[n].default),o.states[l].value=i}function $P(t,n){if(n.includes(".")){const o=n.split(".");let i=t;return o.forEach(l=>{i=i[l]}),i}else return t[n]}class Eie{constructor(n){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=V(null),this.scrollX=V(!1),this.scrollY=V(!1),this.bodyWidth=V(null),this.fixedWidth=V(null),this.rightFixedWidth=V(null),this.gutterWidth=0;for(const o in n)Xt(n,o)&&(bn(this[o])?this[o].value=n[o]:this[o]=n[o]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const o=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(o!=null&&o.wrapRef)){let i=!0;const l=this.scrollY.value;return i=o.wrapRef.scrollHeight>o.wrapRef.clientHeight,this.scrollY.value=i,l!==i}return!1}setHeight(n,o="height"){if(!Kt)return;const i=this.table.vnode.el;if(n=die(n),this.height.value=Number(n),!i&&(n||n===0))return pt(()=>this.setHeight(n,o));typeof n=="number"?(i.style[o]=`${n}px`,this.updateElsHeight()):typeof n=="string"&&(i.style[o]=n,this.updateElsHeight())}setMaxHeight(n){this.setHeight(n,"max-height")}getFlattenColumns(){const n=[];return this.table.store.states.columns.value.forEach(i=>{i.isColumnGroup?n.push.apply(n,i.columns):n.push(i)}),n}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(n){if(!n)return!0;let o=n;for(;o.tagName!=="DIV";){if(getComputedStyle(o).display==="none")return!0;o=o.parentElement}return!1}updateColumnsWidth(){if(!Kt)return;const n=this.fit,o=this.table.vnode.el.clientWidth;let i=0;const l=this.getFlattenColumns(),a=l.filter(p=>typeof p.width!="number");if(l.forEach(p=>{typeof p.width=="number"&&p.realWidth&&(p.realWidth=null)}),a.length>0&&n){if(l.forEach(p=>{i+=Number(p.width||p.minWidth||80)}),i<=o){this.scrollX.value=!1;const p=o-i;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+p;else{const f=a.reduce((_,b)=>_+Number(b.minWidth||80),0),g=p/f;let m=0;a.forEach((_,b)=>{if(b===0)return;const T=Math.floor(Number(_.minWidth||80)*g);m+=T,_.realWidth=Number(_.minWidth||80)+T}),a[0].realWidth=Number(a[0].minWidth||80)+p-m}}else this.scrollX.value=!0,a.forEach(p=>{p.realWidth=Number(p.minWidth)});this.bodyWidth.value=Math.max(i,o),this.table.state.resizeState.value.width=this.bodyWidth.value}else l.forEach(p=>{!p.width&&!p.minWidth?p.realWidth=80:p.realWidth=Number(p.width||p.minWidth),i+=p.realWidth}),this.scrollX.value=i>o,this.bodyWidth.value=i;const u=this.store.states.fixedColumns.value;if(u.length>0){let p=0;u.forEach(f=>{p+=Number(f.realWidth||f.width)}),this.fixedWidth.value=p}const h=this.store.states.rightFixedColumns.value;if(h.length>0){let p=0;h.forEach(f=>{p+=Number(f.realWidth||f.width)}),this.rightFixedWidth.value=p}this.notifyObservers("columns")}addObserver(n){this.observers.push(n)}removeObserver(n){const o=this.observers.indexOf(n);o!==-1&&this.observers.splice(o,1)}notifyObservers(n){this.observers.forEach(i=>{var l,a;switch(n){case"columns":(l=i.state)==null||l.onColumnsChange(this);break;case"scrollable":(a=i.state)==null||a.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${n}.`)}})}}const{CheckboxGroup:Cie}=Ys,Sie=ne({name:"ElTableFilterPanel",components:{ElCheckbox:Ys,ElCheckboxGroup:Cie,ElScrollbar:Dr,ElTooltip:xo,ElIcon:at,ArrowDown:Lr,ArrowUp:CE},directives:{ClickOutside:kr},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const n=Mt(),{t:o}=Yt(),i=xe("table-filter"),l=n==null?void 0:n.parent;l.filterPanels.value[t.column.id]||(l.filterPanels.value[t.column.id]=n);const a=V(!1),u=V(null),h=w(()=>t.column&&t.column.filters),p=w(()=>t.column.filterClassName?`${i.b()} ${t.column.filterClassName}`:i.b()),f=w({get:()=>{var R;return(((R=t.column)==null?void 0:R.filteredValue)||[])[0]},set:R=>{g.value&&(typeof R<"u"&&R!==null?g.value.splice(0,1,R):g.value.splice(0,1))}}),g=w({get(){return t.column?t.column.filteredValue||[]:[]},set(R){t.column&&t.upDataColumn("filteredValue",R)}}),m=w(()=>t.column?t.column.filterMultiple:!0),_=R=>R.value===f.value,b=()=>{a.value=!1},T=R=>{R.stopPropagation(),a.value=!a.value},$=()=>{a.value=!1},E=()=>{C(g.value),b()},y=()=>{g.value=[],C(g.value),b()},I=R=>{f.value=R,C(typeof R<"u"&&R!==null?g.value:[]),b()},C=R=>{t.store.commit("filterChange",{column:t.column,values:R}),t.store.updateAllSelected()};Me(a,R=>{t.column&&t.upDataColumn("filterOpened",R)},{immediate:!0});const S=w(()=>{var R,O;return(O=(R=u.value)==null?void 0:R.popperRef)==null?void 0:O.contentRef});return{tooltipVisible:a,multiple:m,filterClassName:p,filteredValue:g,filterValue:f,filters:h,handleConfirm:E,handleReset:y,handleSelect:I,isActive:_,t:o,ns:i,showFilterPanel:T,hideFilterPanel:$,popperPaneRef:S,tooltip:u}}}),Iie={key:0},wie=["disabled"],kie=["label","onClick"];function Oie(t,n,o,i,l,a){const u=Nt("el-checkbox"),h=Nt("el-checkbox-group"),p=Nt("el-scrollbar"),f=Nt("arrow-up"),g=Nt("arrow-down"),m=Nt("el-icon"),_=Nt("el-tooltip"),b=_g("click-outside");return N(),be(_,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:""},{content:ce(()=>[t.multiple?(N(),Y("div",Iie,[Q("div",{class:L(t.ns.e("content"))},[ie(p,{"wrap-class":t.ns.e("wrap")},{default:ce(()=>[ie(h,{modelValue:t.filteredValue,"onUpdate:modelValue":n[0]||(n[0]=T=>t.filteredValue=T),class:L(t.ns.e("checkbox-group"))},{default:ce(()=>[(N(!0),Y(dt,null,zt(t.filters,T=>(N(),be(u,{key:T.value,value:T.value},{default:ce(()=>[Wt(ze(T.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),Q("div",{class:L(t.ns.e("bottom"))},[Q("button",{class:L({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:n[1]||(n[1]=(...T)=>t.handleConfirm&&t.handleConfirm(...T))},ze(t.t("el.table.confirmFilter")),11,wie),Q("button",{type:"button",onClick:n[2]||(n[2]=(...T)=>t.handleReset&&t.handleReset(...T))},ze(t.t("el.table.resetFilter")),1)],2)])):(N(),Y("ul",{key:1,class:L(t.ns.e("list"))},[Q("li",{class:L([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:n[3]||(n[3]=T=>t.handleSelect(null))},ze(t.t("el.table.clearFilter")),3),(N(!0),Y(dt,null,zt(t.filters,T=>(N(),Y("li",{key:T.value,class:L([t.ns.e("list-item"),t.ns.is("active",t.isActive(T))]),label:T.value,onClick:$=>t.handleSelect(T.value)},ze(T.text),11,kie))),128))],2))]),default:ce(()=>[Rt((N(),Y("span",{class:L([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:n[4]||(n[4]=(...T)=>t.showFilterPanel&&t.showFilterPanel(...T))},[ie(m,null,{default:ce(()=>[t.column.filterOpened?(N(),be(f,{key:0})):(N(),be(g,{key:1}))]),_:1})],2)),[[b,t.hideFilterPanel,t.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var Rie=We(Sie,[["render",Oie],["__file","filter-panel.vue"]]);function vP(t){const n=Mt();Tg(()=>{o.value.addObserver(n)}),At(()=>{i(o.value),l(o.value)}),Rr(()=>{i(o.value),l(o.value)}),Rl(()=>{o.value.removeObserver(n)});const o=w(()=>{const a=t.layout;if(!a)throw new Error("Can not find table layout.");return a}),i=a=>{var u;const h=((u=t.vnode.el)==null?void 0:u.querySelectorAll("colgroup > col"))||[];if(!h.length)return;const p=a.getFlattenColumns(),f={};p.forEach(g=>{f[g.id]=g});for(let g=0,m=h.length;g<m;g++){const _=h[g],b=_.getAttribute("name"),T=f[b];T&&_.setAttribute("width",T.realWidth||T.width)}},l=a=>{var u,h;const p=((u=t.vnode.el)==null?void 0:u.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let g=0,m=p.length;g<m;g++)p[g].setAttribute("width",a.scrollY.value?a.gutterWidth:"0");const f=((h=t.vnode.el)==null?void 0:h.querySelectorAll("th.gutter"))||[];for(let g=0,m=f.length;g<m;g++){const _=f[g];_.style.width=a.scrollY.value?`${a.gutterWidth}px`:"0",_.style.display=a.scrollY.value?"":"none"}};return{tableLayout:o.value,onColumnsChange:i,onScrollableChange:l}}const Xi=Symbol("ElTable");function Aie(t,n){const o=Mt(),i=it(Xi),l=$=>{$.stopPropagation()},a=($,E)=>{!E.filters&&E.sortable?T($,E,!1):E.filterable&&!E.sortable&&l($),i==null||i.emit("header-click",E,$)},u=($,E)=>{i==null||i.emit("header-contextmenu",E,$)},h=V(null),p=V(!1),f=V({}),g=($,E)=>{if(Kt&&!(E.children&&E.children.length>0)&&h.value&&t.border){p.value=!0;const y=i;n("set-drag-visible",!0);const C=(y==null?void 0:y.vnode.el).getBoundingClientRect().left,S=o.vnode.el.querySelector(`th.${E.id}`),R=S.getBoundingClientRect(),O=R.left-C+30;Bs(S,"noclick"),f.value={startMouseLeft:$.clientX,startLeft:R.right-C,startColumnLeft:R.left-C,tableLeft:C};const P=y==null?void 0:y.refs.resizeProxy;P.style.left=`${f.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const M=F=>{const B=F.clientX-f.value.startMouseLeft,K=f.value.startLeft+B;P.style.left=`${Math.max(O,K)}px`},H=()=>{if(p.value){const{startColumnLeft:F,startLeft:B}=f.value,te=Number.parseInt(P.style.left,10)-F;E.width=E.realWidth=te,y==null||y.emit("header-dragend",E.width,B-F,E,$),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",p.value=!1,h.value=null,f.value={},n("set-drag-visible",!1)}document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",H),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Po(S,"noclick")},0)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",H)}},m=($,E)=>{if(E.children&&E.children.length>0)return;const y=$.target;if(!zs(y))return;const I=y==null?void 0:y.closest("th");if(!(!E||!E.resizable)&&!p.value&&t.border){const C=I.getBoundingClientRect(),S=document.body.style;C.width>12&&C.right-$.pageX<8?(S.cursor="col-resize",Vs(I,"is-sortable")&&(I.style.cursor="col-resize"),h.value=E):p.value||(S.cursor="",Vs(I,"is-sortable")&&(I.style.cursor="pointer"),h.value=null)}},_=()=>{Kt&&(document.body.style.cursor="")},b=({order:$,sortOrders:E})=>{if($==="")return E[0];const y=E.indexOf($||null);return E[y>E.length-2?0:y+1]},T=($,E,y)=>{var I;$.stopPropagation();const C=E.order===y?null:y||b(E),S=(I=$.target)==null?void 0:I.closest("th");if(S&&Vs(S,"noclick")){Po(S,"noclick");return}if(!E.sortable)return;const R=t.store.states;let O=R.sortProp.value,P;const M=R.sortingColumn.value;(M!==E||M===E&&M.order===null)&&(M&&(M.order=null),R.sortingColumn.value=E,O=E.property),C?P=E.order=C:P=E.order=null,R.sortProp.value=O,R.sortOrder.value=P,i==null||i.store.commit("changeSortCondition")};return{handleHeaderClick:a,handleHeaderContextMenu:u,handleMouseDown:g,handleMouseMove:m,handleMouseOut:_,handleSortClick:T,handleFilterClick:l}}function Nie(t){const n=it(Xi),o=xe("table");return{getHeaderRowStyle:h=>{const p=n==null?void 0:n.props.headerRowStyle;return typeof p=="function"?p.call(null,{rowIndex:h}):p},getHeaderRowClass:h=>{const p=[],f=n==null?void 0:n.props.headerRowClassName;return typeof f=="string"?p.push(f):typeof f=="function"&&p.push(f.call(null,{rowIndex:h})),p.join(" ")},getHeaderCellStyle:(h,p,f,g)=>{var m;let _=(m=n==null?void 0:n.props.headerCellStyle)!=null?m:{};typeof _=="function"&&(_=_.call(null,{rowIndex:h,columnIndex:p,row:f,column:g}));const b=S0(p,g.fixed,t.store,f);return Ac(b,"left"),Ac(b,"right"),Object.assign({},_,b)},getHeaderCellClass:(h,p,f,g)=>{const m=C0(o.b(),p,g.fixed,t.store,f),_=[g.id,g.order,g.headerAlign,g.className,g.labelClassName,...m];g.children||_.push("is-leaf"),g.sortable&&_.push("is-sortable");const b=n==null?void 0:n.props.headerCellClassName;return typeof b=="string"?_.push(b):typeof b=="function"&&_.push(b.call(null,{rowIndex:h,columnIndex:p,row:f,column:g})),_.push(o.e("cell")),_.filter(T=>!!T).join(" ")}}}const _P=t=>{const n=[];return t.forEach(o=>{o.children?(n.push(o),n.push.apply(n,_P(o.children))):n.push(o)}),n},bP=t=>{let n=1;const o=(a,u)=>{if(u&&(a.level=u.level+1,n<a.level&&(n=a.level)),a.children){let h=0;a.children.forEach(p=>{o(p,a),h+=p.colSpan}),a.colSpan=h}else a.colSpan=1};t.forEach(a=>{a.level=1,o(a,void 0)});const i=[];for(let a=0;a<n;a++)i.push([]);return _P(t).forEach(a=>{a.children?(a.rowSpan=1,a.children.forEach(u=>u.isSubColumn=!0)):a.rowSpan=n-a.level+1,i[a.level-1].push(a)}),i};function Lie(t){const n=it(Xi),o=w(()=>bP(t.store.states.originColumns.value));return{isGroup:w(()=>{const a=o.value.length>1;return a&&n&&(n.state.isGroup.value=!0),a}),toggleAllSelection:a=>{a.stopPropagation(),n==null||n.store.commit("toggleAllSelection")},columnRows:o}}var Mie=ne({name:"ElTableHeader",components:{ElCheckbox:Ys},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:n}){const o=Mt(),i=it(Xi),l=xe("table"),a=V({}),{onColumnsChange:u,onScrollableChange:h}=vP(i);At(async()=>{await pt(),await pt();const{prop:O,order:P}=t.defaultSort;i==null||i.store.commit("sort",{prop:O,order:P,init:!0})});const{handleHeaderClick:p,handleHeaderContextMenu:f,handleMouseDown:g,handleMouseMove:m,handleMouseOut:_,handleSortClick:b,handleFilterClick:T}=Aie(t,n),{getHeaderRowStyle:$,getHeaderRowClass:E,getHeaderCellStyle:y,getHeaderCellClass:I}=Nie(t),{isGroup:C,toggleAllSelection:S,columnRows:R}=Lie(t);return o.state={onColumnsChange:u,onScrollableChange:h},o.filterPanels=a,{ns:l,filterPanels:a,onColumnsChange:u,onScrollableChange:h,columnRows:R,getHeaderRowClass:E,getHeaderRowStyle:$,getHeaderCellClass:I,getHeaderCellStyle:y,handleHeaderClick:p,handleHeaderContextMenu:f,handleMouseDown:g,handleMouseMove:m,handleMouseOut:_,handleSortClick:b,handleFilterClick:T,isGroup:C,toggleAllSelection:S}},render(){const{ns:t,isGroup:n,columnRows:o,getHeaderCellStyle:i,getHeaderCellClass:l,getHeaderRowClass:a,getHeaderRowStyle:u,handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:f,handleMouseMove:g,handleSortClick:m,handleMouseOut:_,store:b,$parent:T}=this;let $=1;return ft("thead",{class:{[t.is("group")]:n}},o.map((E,y)=>ft("tr",{class:a(y),key:y,style:u(y)},E.map((I,C)=>(I.rowSpan>$&&($=I.rowSpan),ft("th",{class:l(y,C,E,I),colspan:I.colSpan,key:`${I.id}-thead`,rowspan:I.rowSpan,style:i(y,C,E,I),onClick:S=>{S.currentTarget.classList.contains("noclick")||h(S,I)},onContextmenu:S=>p(S,I),onMousedown:S=>f(S,I),onMousemove:S=>g(S,I),onMouseout:_},[ft("div",{class:["cell",I.filteredValue&&I.filteredValue.length>0?"highlight":""]},[I.renderHeader?I.renderHeader({column:I,$index:C,store:b,_self:T}):I.label,I.sortable&&ft("span",{onClick:S=>m(S,I),class:"caret-wrapper"},[ft("i",{onClick:S=>m(S,I,"ascending"),class:"sort-caret ascending"}),ft("i",{onClick:S=>m(S,I,"descending"),class:"sort-caret descending"})]),I.filterable&&ft(Rie,{store:b,placement:I.filterPlacement||"bottom-start",column:I,upDataColumn:(S,R)=>{I[S]=R}})])]))))))}});function sT(t,n,o=.01){return t-n>o}function Die(t){const n=it(Xi),o=V(""),i=V(ft("div")),l=(T,$,E)=>{var y;const I=n,C=oT(T);let S;const R=(y=I==null?void 0:I.vnode.el)==null?void 0:y.dataset.prefix;C&&(S=vA({columns:t.store.states.columns.value},C,R),S&&(I==null||I.emit(`cell-${E}`,$,S,C,T))),I==null||I.emit(`row-${E}`,$,S,T)},a=(T,$)=>{l(T,$,"dblclick")},u=(T,$)=>{t.store.commit("setCurrentRow",$),l(T,$,"click")},h=(T,$)=>{l(T,$,"contextmenu")},p=as(T=>{t.store.commit("setHoverRow",T)},30),f=as(()=>{t.store.commit("setHoverRow",null)},30),g=T=>{const $=window.getComputedStyle(T,null),E=Number.parseInt($.paddingLeft,10)||0,y=Number.parseInt($.paddingRight,10)||0,I=Number.parseInt($.paddingTop,10)||0,C=Number.parseInt($.paddingBottom,10)||0;return{left:E,right:y,top:I,bottom:C}},m=(T,$,E)=>{let y=$.target.parentNode;for(;T>1&&(y=y==null?void 0:y.nextSibling,!(!y||y.nodeName!=="TR"));)E(y,"hover-row hover-fixed-row"),T--};return{handleDoubleClick:a,handleClick:u,handleContextMenu:h,handleMouseEnter:p,handleMouseLeave:f,handleCellMouseEnter:(T,$,E)=>{var y;const I=n,C=oT(T),S=(y=I==null?void 0:I.vnode.el)==null?void 0:y.dataset.prefix;if(C){const D=vA({columns:t.store.states.columns.value},C,S);C.rowSpan>1&&m(C.rowSpan,T,Bs);const X=I.hoverState={cell:C,column:D,row:$};I==null||I.emit("cell-mouse-enter",X.row,X.column,X.cell,T)}if(!E)return;const R=T.target.querySelector(".cell");if(!(Vs(R,`${S}-tooltip`)&&R.childNodes.length))return;const O=document.createRange();O.setStart(R,0),O.setEnd(R,R.childNodes.length);let{width:P,height:M}=O.getBoundingClientRect();const H=P-Math.floor(P),{width:F,height:B}=R.getBoundingClientRect();H<.001&&(P=Math.floor(P)),M-Math.floor(M)<.001&&(M=Math.floor(M));const{top:te,left:Z,right:j,bottom:z}=g(R),G=Z+j,W=te+z;(sT(P+G,F)||sT(M+W,B)||sT(R.scrollWidth,F))&&fie(E,C.innerText||C.textContent,C,I)},handleCellMouseLeave:T=>{const $=oT(T);if(!$)return;$.rowSpan>1&&m($.rowSpan,T,Po);const E=n==null?void 0:n.hoverState;n==null||n.emit("cell-mouse-leave",E==null?void 0:E.row,E==null?void 0:E.column,E==null?void 0:E.cell,T)},tooltipContent:o,tooltipTrigger:i}}function Pie(t){const n=it(Xi),o=xe("table");return{getRowStyle:(f,g)=>{const m=n==null?void 0:n.props.rowStyle;return typeof m=="function"?m.call(null,{row:f,rowIndex:g}):m||null},getRowClass:(f,g)=>{const m=[o.e("row")];n!=null&&n.props.highlightCurrentRow&&f===t.store.states.currentRow.value&&m.push("current-row"),t.stripe&&g%2===1&&m.push(o.em("row","striped"));const _=n==null?void 0:n.props.rowClassName;return typeof _=="string"?m.push(_):typeof _=="function"&&m.push(_.call(null,{row:f,rowIndex:g})),m},getCellStyle:(f,g,m,_)=>{const b=n==null?void 0:n.props.cellStyle;let T=b??{};typeof b=="function"&&(T=b.call(null,{rowIndex:f,columnIndex:g,row:m,column:_}));const $=S0(g,t==null?void 0:t.fixed,t.store);return Ac($,"left"),Ac($,"right"),Object.assign({},T,$)},getCellClass:(f,g,m,_,b)=>{const T=C0(o.b(),g,t==null?void 0:t.fixed,t.store,void 0,b),$=[_.id,_.align,_.className,...T],E=n==null?void 0:n.props.cellClassName;return typeof E=="string"?$.push(E):typeof E=="function"&&$.push(E.call(null,{rowIndex:f,columnIndex:g,row:m,column:_})),$.push(o.e("cell")),$.filter(y=>!!y).join(" ")},getSpan:(f,g,m,_)=>{let b=1,T=1;const $=n==null?void 0:n.props.spanMethod;if(typeof $=="function"){const E=$({row:f,column:g,rowIndex:m,columnIndex:_});Array.isArray(E)?(b=E[0],T=E[1]):typeof E=="object"&&(b=E.rowspan,T=E.colspan)}return{rowspan:b,colspan:T}},getColspanRealWidth:(f,g,m)=>{if(g<1)return f[m].realWidth;const _=f.map(({realWidth:b,width:T})=>b||T).slice(m,m+g);return Number(_.reduce((b,T)=>Number(b)+Number(T),-1))}}}function xie(t){const n=it(Xi),o=xe("table"),{handleDoubleClick:i,handleClick:l,handleContextMenu:a,handleMouseEnter:u,handleMouseLeave:h,handleCellMouseEnter:p,handleCellMouseLeave:f,tooltipContent:g,tooltipTrigger:m}=Die(t),{getRowStyle:_,getRowClass:b,getCellStyle:T,getCellClass:$,getSpan:E,getColspanRealWidth:y}=Pie(t),I=w(()=>t.store.states.columns.value.findIndex(({type:P})=>P==="default")),C=(P,M)=>{const H=n.props.rowKey;return H?yo(P,H):M},S=(P,M,H,F=!1)=>{const{tooltipEffect:B,tooltipOptions:K,store:te}=t,{indent:Z,columns:j}=te.states,z=b(P,M);let G=!0;return H&&(z.push(o.em("row",`level-${H.level}`)),G=H.display),ft("tr",{style:[G?null:{display:"none"},_(P,M)],class:z,key:C(P,M),onDblclick:D=>i(D,P),onClick:D=>l(D,P),onContextmenu:D=>a(D,P),onMouseenter:()=>u(M),onMouseleave:h},j.value.map((D,X)=>{const{rowspan:oe,colspan:le}=E(P,D,M,X);if(!oe||!le)return null;const me=Object.assign({},D);me.realWidth=y(j.value,le,X);const Se={store:t.store,_self:t.context||n,column:me,row:P,$index:M,cellIndex:X,expanded:F};X===I.value&&H&&(Se.treeNode={indent:H.level*Z.value,level:H.level},typeof H.expanded=="boolean"&&(Se.treeNode.expanded=H.expanded,"loading"in H&&(Se.treeNode.loading=H.loading),"noLazyChildren"in H&&(Se.treeNode.noLazyChildren=H.noLazyChildren)));const Pe=`${C(P,M)},${X}`,de=me.columnKey||me.rawColumnKey||"",ye=R(X,D,Se),_e=D.showOverflowTooltip&&RW({effect:B},K,D.showOverflowTooltip);return ft("td",{style:T(M,X,P,D),class:$(M,X,P,D,le-1),key:`${de}${Pe}`,rowspan:oe,colspan:le,onMouseenter:Ke=>p(Ke,P,_e),onMouseleave:f},[ye])}))},R=(P,M,H)=>M.renderCell(H);return{wrappedRowRender:(P,M)=>{const H=t.store,{isRowExpanded:F,assertRowKey:B}=H,{treeData:K,lazyTreeNodeMap:te,childrenColumnName:Z,rowKey:j}=H.states,z=H.states.columns.value;if(z.some(({type:W})=>W==="expand")){const W=F(P),D=S(P,M,void 0,W),X=n.renderExpanded;return W?X?[[D,ft("tr",{key:`expanded-row__${D.key}`},[ft("td",{colspan:z.length,class:`${o.e("cell")} ${o.e("expanded-cell")}`},[X({row:P,$index:M,store:H,expanded:W})])])]]:(console.error("[Element Error]renderExpanded is required."),D):[[D]]}else if(Object.keys(K.value).length){B();const W=yo(P,j.value);let D=K.value[W],X=null;D&&(X={expanded:D.expanded,level:D.level,display:!0},typeof D.lazy=="boolean"&&(typeof D.loaded=="boolean"&&D.loaded&&(X.noLazyChildren=!(D.children&&D.children.length)),X.loading=D.loading));const oe=[S(P,M,X)];if(D){let le=0;const me=(Pe,de)=>{Pe&&Pe.length&&de&&Pe.forEach(ye=>{const _e={display:de.display&&de.expanded,level:de.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Ke=yo(ye,j.value);if(Ke==null)throw new Error("For nested data item, row-key is required.");if(D={...K.value[Ke]},D&&(_e.expanded=D.expanded,D.level=D.level||_e.level,D.display=!!(D.expanded&&_e.display),typeof D.lazy=="boolean"&&(typeof D.loaded=="boolean"&&D.loaded&&(_e.noLazyChildren=!(D.children&&D.children.length)),_e.loading=D.loading)),le++,oe.push(S(ye,M+le,_e)),D){const ve=te.value[Ke]||ye[Z.value];me(ve,D)}})};D.display=!0;const Se=te.value[W]||P[Z.value];me(Se,D)}return oe}else return S(P,M,void 0)},tooltipContent:g,tooltipTrigger:m}}const Bie={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var Fie=ne({name:"ElTableBody",props:Bie,setup(t){const n=Mt(),o=it(Xi),i=xe("table"),{wrappedRowRender:l,tooltipContent:a,tooltipTrigger:u}=xie(t),{onColumnsChange:h,onScrollableChange:p}=vP(o),f=[];return Me(t.store.states.hoverRow,(g,m)=>{var _;const b=n==null?void 0:n.vnode.el,T=Array.from((b==null?void 0:b.children)||[]).filter(y=>y==null?void 0:y.classList.contains(`${i.e("row")}`));let $=g;const E=(_=T[$])==null?void 0:_.childNodes;if(E!=null&&E.length){let y=0;Array.from(E).reduce((C,S,R)=>{var O,P;return((O=E[R])==null?void 0:O.colSpan)>1&&(y=(P=E[R])==null?void 0:P.colSpan),S.nodeName!=="TD"&&y===0&&C.push(R),y>0&&y--,C},[]).forEach(C=>{var S;for($=g;$>0;){const R=(S=T[$-1])==null?void 0:S.childNodes;if(R[C]&&R[C].nodeName==="TD"&&R[C].rowSpan>1){Bs(R[C],"hover-cell"),f.push(R[C]);break}$--}})}else f.forEach(y=>Po(y,"hover-cell")),f.length=0;!t.store.states.isComplex.value||!Kt||El(()=>{const y=T[m],I=T[g];y&&!y.classList.contains("hover-fixed-row")&&Po(y,"hover-row"),I&&Bs(I,"hover-row")})}),Rl(()=>{var g;(g=Ms)==null||g()}),{ns:i,onColumnsChange:h,onScrollableChange:p,wrappedRowRender:l,tooltipContent:a,tooltipTrigger:u}},render(){const{wrappedRowRender:t,store:n}=this,o=n.states.data.value||[];return ft("tbody",{tabIndex:-1},[o.reduce((i,l)=>i.concat(t(l,i.length)),[])])}});function Hie(){const t=it(Xi),n=t==null?void 0:t.store,o=w(()=>n.states.fixedLeafColumnsLength.value),i=w(()=>n.states.rightFixedColumns.value.length),l=w(()=>n.states.columns.value.length),a=w(()=>n.states.fixedColumns.value.length),u=w(()=>n.states.rightFixedColumns.value.length);return{leftFixedLeafCount:o,rightFixedLeafCount:i,columnsCount:l,leftFixedCount:a,rightFixedCount:u,columns:n.states.columns}}function Vie(t){const{columns:n}=Hie(),o=xe("table");return{getCellClasses:(a,u)=>{const h=a[u],p=[o.e("cell"),h.id,h.align,h.labelClassName,...C0(o.b(),u,h.fixed,t.store)];return h.className&&p.push(h.className),h.children||p.push(o.is("leaf")),p},getCellStyles:(a,u)=>{const h=S0(u,a.fixed,t.store);return Ac(h,"left"),Ac(h,"right"),h},columns:n}}var Uie=ne({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:n,getCellStyles:o,columns:i}=Vie(t);return{ns:xe("table"),getCellClasses:n,getCellStyles:o,columns:i}},render(){const{columns:t,getCellStyles:n,getCellClasses:o,summaryMethod:i,sumText:l}=this,a=this.store.states.data.value;let u=[];return i?u=i({columns:t,data:a}):t.forEach((h,p)=>{if(p===0){u[p]=l;return}const f=a.map(b=>Number(b[h.property])),g=[];let m=!0;f.forEach(b=>{if(!Number.isNaN(+b)){m=!1;const T=`${b}`.split(".")[1];g.push(T?T.length:0)}});const _=Math.max.apply(null,g);m?u[p]="":u[p]=f.reduce((b,T)=>{const $=Number(T);return Number.isNaN(+$)?b:Number.parseFloat((b+T).toFixed(Math.min(_,20)))},0)}),ft(ft("tfoot",[ft("tr",{},[...t.map((h,p)=>ft("td",{key:p,colspan:h.colSpan,rowspan:h.rowSpan,class:o(t,p),style:n(h,p)},[ft("div",{class:["cell",h.labelClassName]},[u[p]])]))])]))}});function Gie(t){return{setCurrentRow:g=>{t.commit("setCurrentRow",g)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(g,m)=>{t.toggleRowSelection(g,m,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:g=>{t.clearFilter(g)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(g,m)=>{t.toggleRowExpansionAdapter(g,m)},clearSort:()=>{t.clearSort()},sort:(g,m)=>{t.commit("sort",{prop:g,order:m})}}}function Wie(t,n,o,i){const l=V(!1),a=V(null),u=V(!1),h=D=>{u.value=D},p=V({width:null,height:null,headerHeight:null}),f=V(!1),g={display:"inline-block",verticalAlign:"middle"},m=V(),_=V(0),b=V(0),T=V(0),$=V(0),E=V(0);Eo(()=>{n.setHeight(t.height)}),Eo(()=>{n.setMaxHeight(t.maxHeight)}),Me(()=>[t.currentRowKey,o.states.rowKey],([D,X])=>{!c(X)||!c(D)||o.setCurrentRowKey(`${D}`)},{immediate:!0}),Me(()=>t.data,D=>{i.store.commit("setData",D)},{immediate:!0,deep:!0}),Eo(()=>{t.expandRowKeys&&o.setExpandRowKeysAdapter(t.expandRowKeys)});const y=()=>{i.store.commit("setHoverRow",null),i.hoverState&&(i.hoverState=null)},I=(D,X)=>{const{pixelX:oe,pixelY:le}=X;Math.abs(oe)>=Math.abs(le)&&(i.refs.bodyWrapper.scrollLeft+=X.pixelX/5)},C=w(()=>t.height||t.maxHeight||o.states.fixedColumns.value.length>0||o.states.rightFixedColumns.value.length>0),S=w(()=>({width:n.bodyWidth.value?`${n.bodyWidth.value}px`:""})),R=()=>{C.value&&n.updateElsHeight(),n.updateColumnsWidth(),requestAnimationFrame(H)};At(async()=>{await pt(),o.updateColumns(),F(),requestAnimationFrame(R);const D=i.vnode.el,X=i.refs.headerWrapper;t.flexible&&D&&D.parentElement&&(D.parentElement.style.minWidth="0"),p.value={width:m.value=D.offsetWidth,height:D.offsetHeight,headerHeight:t.showHeader&&X?X.offsetHeight:null},o.states.columns.value.forEach(oe=>{oe.filteredValue&&oe.filteredValue.length&&i.store.commit("filterChange",{column:oe,values:oe.filteredValue,silent:!0})}),i.$ready=!0});const O=(D,X)=>{if(!D)return;const oe=Array.from(D.classList).filter(le=>!le.startsWith("is-scrolling-"));oe.push(n.scrollX.value?X:"is-scrolling-none"),D.className=oe.join(" ")},P=D=>{const{tableWrapper:X}=i.refs;O(X,D)},M=D=>{const{tableWrapper:X}=i.refs;return!!(X&&X.classList.contains(D))},H=function(){if(!i.refs.scrollBarRef)return;if(!n.scrollX.value){const de="is-scrolling-none";M(de)||P(de);return}const D=i.refs.scrollBarRef.wrapRef;if(!D)return;const{scrollLeft:X,offsetWidth:oe,scrollWidth:le}=D,{headerWrapper:me,footerWrapper:Se}=i.refs;me&&(me.scrollLeft=X),Se&&(Se.scrollLeft=X);const Pe=le-oe-1;X>=Pe?P("is-scrolling-right"):P(X===0?"is-scrolling-left":"is-scrolling-middle")},F=()=>{i.refs.scrollBarRef&&(i.refs.scrollBarRef.wrapRef&&gn(i.refs.scrollBarRef.wrapRef,"scroll",H,{passive:!0}),t.fit?In(i.vnode.el,B):gn(window,"resize",B),In(i.refs.bodyWrapper,()=>{var D,X;B(),(X=(D=i.refs)==null?void 0:D.scrollBarRef)==null||X.update()}))},B=()=>{var D,X,oe,le;const me=i.vnode.el;if(!i.$ready||!me)return;let Se=!1;const{width:Pe,height:de,headerHeight:ye}=p.value,_e=m.value=me.offsetWidth;Pe!==_e&&(Se=!0);const Ke=me.offsetHeight;(t.height||C.value)&&de!==Ke&&(Se=!0);const ve=t.tableLayout==="fixed"?i.refs.headerWrapper:(D=i.refs.tableHeaderRef)==null?void 0:D.$el;t.showHeader&&(ve==null?void 0:ve.offsetHeight)!==ye&&(Se=!0),_.value=((X=i.refs.tableWrapper)==null?void 0:X.scrollHeight)||0,T.value=(ve==null?void 0:ve.scrollHeight)||0,$.value=((oe=i.refs.footerWrapper)==null?void 0:oe.offsetHeight)||0,E.value=((le=i.refs.appendWrapper)==null?void 0:le.offsetHeight)||0,b.value=_.value-T.value-$.value-E.value,Se&&(p.value={width:_e,height:Ke,headerHeight:t.showHeader&&(ve==null?void 0:ve.offsetHeight)||0},R())},K=Kn(),te=w(()=>{const{bodyWidth:D,scrollY:X,gutterWidth:oe}=n;return D.value?`${D.value-(X.value?oe:0)}px`:""}),Z=w(()=>t.maxHeight?"fixed":t.tableLayout),j=w(()=>{if(t.data&&t.data.length)return null;let D="100%";t.height&&b.value&&(D=`${b.value}px`);const X=m.value;return{width:X?`${X}px`:"",height:D}}),z=w(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),G=w(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${T.value+$.value}px)`}:{maxHeight:`${t.maxHeight-T.value-$.value}px`}:{});return{isHidden:l,renderExpanded:a,setDragVisible:h,isGroup:f,handleMouseLeave:y,handleHeaderFooterMousewheel:I,tableSize:K,emptyBlockStyle:j,handleFixedMousewheel:(D,X)=>{const oe=i.refs.bodyWrapper;if(Math.abs(X.spinY)>0){const le=oe.scrollTop;X.pixelY<0&&le!==0&&D.preventDefault(),X.pixelY>0&&oe.scrollHeight-oe.clientHeight>le&&D.preventDefault(),oe.scrollTop+=Math.ceil(X.pixelY/5)}else oe.scrollLeft+=Math.ceil(X.pixelX/5)},resizeProxyVisible:u,bodyWidth:te,resizeState:p,doLayout:R,tableBodyStyles:S,tableLayout:Z,scrollbarViewStyle:g,tableInnerStyle:z,scrollbarStyle:G}}function zie(t){const n=V(),o=()=>{const l=t.vnode.el.querySelector(".hidden-columns"),a={childList:!0,subtree:!0},u=t.store.states.updateOrderFns;n.value=new MutationObserver(()=>{u.forEach(h=>h())}),n.value.observe(l,a)};At(()=>{o()}),Rl(()=>{var i;(i=n.value)==null||i.disconnect()})}var Kie={data:{type:Array,default:()=>[]},size:qn,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function TP(t){const n=t.tableLayout==="auto";let o=t.columns||[];n&&o.every(l=>l.width===void 0)&&(o=[]);const i=l=>{const a={key:`${t.tableLayout}_${l.id}`,style:{},name:void 0};return n?a.style={width:`${l.width}px`}:a.name=l.id,a};return ft("colgroup",{},o.map(l=>ft("col",i(l))))}TP.props=["columns","tableLayout"];const Xie=()=>{const t=V(),n=(a,u)=>{const h=t.value;h&&h.scrollTo(a,u)},o=(a,u)=>{const h=t.value;h&&$t(u)&&["Top","Left"].includes(a)&&h[`setScroll${a}`](u)};return{scrollBarRef:t,scrollTo:n,setScrollTop:a=>o("Top",a),setScrollLeft:a=>o("Left",a)}};let Yie=1;const jie=ne({name:"ElTable",directives:{Mousewheel:MY},components:{TableHeader:Mie,TableBody:Fie,TableFooter:Uie,ElScrollbar:Dr,hColgroup:TP},props:Kie,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:n}=Yt(),o=xe("table"),i=Mt();Ut(Xi,i);const l=Tie(i,t);i.store=l;const a=new Eie({store:i.store,table:i,fit:t.fit,showHeader:t.showHeader});i.layout=a;const u=w(()=>(l.states.data.value||[]).length===0),{setCurrentRow:h,getSelectionRows:p,toggleRowSelection:f,clearSelection:g,clearFilter:m,toggleAllSelection:_,toggleRowExpansion:b,clearSort:T,sort:$}=Gie(l),{isHidden:E,renderExpanded:y,setDragVisible:I,isGroup:C,handleMouseLeave:S,handleHeaderFooterMousewheel:R,tableSize:O,emptyBlockStyle:P,handleFixedMousewheel:M,resizeProxyVisible:H,bodyWidth:F,resizeState:B,doLayout:K,tableBodyStyles:te,tableLayout:Z,scrollbarViewStyle:j,tableInnerStyle:z,scrollbarStyle:G}=Wie(t,a,l,i),{scrollBarRef:W,scrollTo:D,setScrollLeft:X,setScrollTop:oe}=Xie(),le=as(K,50),me=`${o.namespace.value}-table_${Yie++}`;i.tableId=me,i.state={isGroup:C,resizeState:B,doLayout:K,debouncedUpdateLayout:le};const Se=w(()=>t.sumText||n("el.table.sumText")),Pe=w(()=>t.emptyText||n("el.table.emptyText")),de=w(()=>bP(l.states.originColumns.value)[0]);return zie(i),{ns:o,layout:a,store:l,columns:de,handleHeaderFooterMousewheel:R,handleMouseLeave:S,tableId:me,tableSize:O,isHidden:E,isEmpty:u,renderExpanded:y,resizeProxyVisible:H,resizeState:B,isGroup:C,bodyWidth:F,tableBodyStyles:te,emptyBlockStyle:P,debouncedUpdateLayout:le,handleFixedMousewheel:M,setCurrentRow:h,getSelectionRows:p,toggleRowSelection:f,clearSelection:g,clearFilter:m,toggleAllSelection:_,toggleRowExpansion:b,clearSort:T,doLayout:K,sort:$,t:n,setDragVisible:I,context:i,computedSumText:Se,computedEmptyText:Pe,tableLayout:Z,scrollbarViewStyle:j,tableInnerStyle:z,scrollbarStyle:G,scrollBarRef:W,scrollTo:D,setScrollLeft:X,setScrollTop:oe}}}),qie=["data-prefix"],Jie={ref:"hiddenColumns",class:"hidden-columns"};function Zie(t,n,o,i,l,a){const u=Nt("hColgroup"),h=Nt("table-header"),p=Nt("table-body"),f=Nt("table-footer"),g=Nt("el-scrollbar"),m=_g("mousewheel");return N(),Y("div",{ref:"tableWrapper",class:L([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:ct(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:n[0]||(n[0]=(..._)=>t.handleMouseLeave&&t.handleMouseLeave(..._))},[Q("div",{class:L(t.ns.e("inner-wrapper")),style:ct(t.tableInnerStyle)},[Q("div",Jie,[Te(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?Rt((N(),Y("div",{key:0,ref:"headerWrapper",class:L(t.ns.e("header-wrapper"))},[Q("table",{ref:"tableHeader",class:L(t.ns.e("header")),style:ct(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ie(u,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),ie(h,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[m,t.handleHeaderFooterMousewheel]]):$e("v-if",!0),Q("div",{ref:"bodyWrapper",class:L(t.ns.e("body-wrapper"))},[ie(g,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn},{default:ce(()=>[Q("table",{ref:"tableBody",class:L(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:ct({width:t.bodyWidth,tableLayout:t.tableLayout})},[ie(u,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(N(),be(h,{key:0,ref:"tableHeaderRef",class:L(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):$e("v-if",!0),ie(p,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(N(),be(f,{key:1,class:L(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):$e("v-if",!0)],6),t.isEmpty?(N(),Y("div",{key:0,ref:"emptyBlock",style:ct(t.emptyBlockStyle),class:L(t.ns.e("empty-block"))},[Q("span",{class:L(t.ns.e("empty-text"))},[Te(t.$slots,"empty",{},()=>[Wt(ze(t.computedEmptyText),1)])],2)],6)):$e("v-if",!0),t.$slots.append?(N(),Y("div",{key:1,ref:"appendWrapper",class:L(t.ns.e("append-wrapper"))},[Te(t.$slots,"append")],2)):$e("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),t.showSummary&&t.tableLayout==="fixed"?Rt((N(),Y("div",{key:1,ref:"footerWrapper",class:L(t.ns.e("footer-wrapper"))},[Q("table",{class:L(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:ct(t.tableBodyStyles)},[ie(u,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),ie(f,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[qt,!t.isEmpty],[m,t.handleHeaderFooterMousewheel]]):$e("v-if",!0),t.border||t.isGroup?(N(),Y("div",{key:2,class:L(t.ns.e("border-left-patch"))},null,2)):$e("v-if",!0)],6),Rt(Q("div",{ref:"resizeProxy",class:L(t.ns.e("column-resize-proxy"))},null,2),[[qt,t.resizeProxyVisible]])],46,qie)}var Qie=We(jie,[["render",Zie],["__file","table.vue"]]);const ere={selection:"table-column--selection",expand:"table__expand-column"},tre={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},nre=t=>ere[t]||"",ore={selection:{renderHeader({store:t,column:n}){function o(){return t.states.data.value&&t.states.data.value.length===0}return ft(Ys,{disabled:o(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:n.label})},renderCell({row:t,column:n,store:o,$index:i}){return ft(Ys,{disabled:n.selectable?!n.selectable.call(null,t,i):!1,size:o.states.tableSize.value,onChange:()=>{o.commit("rowSelectedChanged",t)},onClick:l=>l.stopPropagation(),modelValue:o.isSelected(t),ariaLabel:n.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:n}){let o=n+1;const i=t.index;return typeof i=="number"?o=n+i:typeof i=="function"&&(o=i(n)),ft("div",{},[o])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:n,expanded:o}){const{ns:i}=n,l=[i.e("expand-icon")];return o&&l.push(i.em("expand-icon","expanded")),ft("div",{class:l,onClick:function(u){u.stopPropagation(),n.toggleRowExpansion(t)}},{default:()=>[ft(at,null,{default:()=>[ft(Xo)]})]})},sortable:!1,resizable:!1}};function sre({row:t,column:n,$index:o}){var i;const l=n.property,a=l&&fm(t,l).value;return n&&n.formatter?n.formatter(t,n,a,o):((i=a==null?void 0:a.toString)==null?void 0:i.call(a))||""}function ire({row:t,treeNode:n,store:o},i=!1){const{ns:l}=o;if(!n)return i?[ft("span",{class:l.e("placeholder")})]:null;const a=[],u=function(h){h.stopPropagation(),!n.loading&&o.loadOrToggle(t)};if(n.indent&&a.push(ft("span",{class:l.e("indent"),style:{"padding-left":`${n.indent}px`}})),typeof n.expanded=="boolean"&&!n.noLazyChildren){const h=[l.e("expand-icon"),n.expanded?l.em("expand-icon","expanded"):""];let p=Xo;n.loading&&(p=Ll),a.push(ft("div",{class:h,onClick:u},{default:()=>[ft(at,{class:{[l.is("loading")]:n.loading}},{default:()=>[ft(p)]})]}))}else a.push(ft("span",{class:l.e("placeholder")}));return a}function TA(t,n){return t.reduce((o,i)=>(o[i]=i,o),n)}function rre(t,n){const o=Mt();return{registerComplexWatchers:()=>{const a=["fixed"],u={realWidth:"width",realMinWidth:"minWidth"},h=TA(a,u);Object.keys(h).forEach(p=>{const f=u[p];Xt(n,f)&&Me(()=>n[f],g=>{let m=g;f==="width"&&p==="realWidth"&&(m=E0(g)),f==="minWidth"&&p==="realMinWidth"&&(m=pP(g)),o.columnConfig.value[f]=m,o.columnConfig.value[p]=m;const _=f==="fixed";t.value.store.scheduleLayout(_)})})},registerNormalWatchers:()=>{const a=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],u={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},h=TA(a,u);Object.keys(h).forEach(p=>{const f=u[p];Xt(n,f)&&Me(()=>n[f],g=>{o.columnConfig.value[p]=g})})}}}function lre(t,n,o){const i=Mt(),l=V(""),a=V(!1),u=V(),h=V(),p=xe("table");Eo(()=>{u.value=t.align?`is-${t.align}`:null,u.value}),Eo(()=>{h.value=t.headerAlign?`is-${t.headerAlign}`:u.value,h.value});const f=w(()=>{let S=i.vnode.vParent||i.parent;for(;S&&!S.tableId&&!S.columnId;)S=S.vnode.vParent||S.parent;return S}),g=w(()=>{const{store:S}=i.parent;if(!S)return!1;const{treeData:R}=S.states,O=R.value;return O&&Object.keys(O).length>0}),m=V(E0(t.width)),_=V(pP(t.minWidth)),b=S=>(m.value&&(S.width=m.value),_.value&&(S.minWidth=_.value),!m.value&&_.value&&(S.width=void 0),S.minWidth||(S.minWidth=80),S.realWidth=Number(S.width===void 0?S.minWidth:S.width),S),T=S=>{const R=S.type,O=ore[R]||{};Object.keys(O).forEach(M=>{const H=O[M];M!=="className"&&H!==void 0&&(S[M]=H)});const P=nre(R);if(P){const M=`${c(p.namespace)}-${P}`;S.className=S.className?`${S.className} ${M}`:M}return S},$=S=>{Array.isArray(S)?S.forEach(O=>R(O)):R(S);function R(O){var P;((P=O==null?void 0:O.type)==null?void 0:P.name)==="ElTableColumn"&&(O.vParent=i)}};return{columnId:l,realAlign:u,isSubColumn:a,realHeaderAlign:h,columnOrTableParent:f,setColumnWidth:b,setColumnForcedProps:T,setColumnRenders:S=>{t.renderHeader||S.type!=="selection"&&(S.renderHeader=O=>(i.columnConfig.value.label,Te(n,"header",O,()=>[S.label])));let R=S.renderCell;return S.type==="expand"?(S.renderCell=O=>ft("div",{class:"cell"},[R(O)]),o.value.renderExpanded=O=>n.default?n.default(O):n.default):(R=R||sre,S.renderCell=O=>{let P=null;if(n.default){const te=n.default(O);P=te.some(Z=>Z.type!==bo)?te:R(O)}else P=R(O);const{columns:M}=o.value.store.states,H=M.value.findIndex(te=>te.type==="default"),F=g.value&&O.cellIndex===H,B=ire(O,F),K={class:"cell",style:{}};return S.showOverflowTooltip&&(K.class=`${K.class} ${c(p.namespace)}-tooltip`,K.style={width:`${(O.column.realWidth||Number(O.column.width))-1}px`}),$(P),ft("div",K,[B,P])}),S},getPropsData:(...S)=>S.reduce((R,O)=>(Array.isArray(O)&&O.forEach(P=>{R[P]=t[P]}),R),{}),getColumnElIndex:(S,R)=>Array.prototype.indexOf.call(S,R),updateColumnOrder:()=>{o.value.store.commit("updateColumnOrder",i.columnConfig.value)}}}var are={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(n=>["ascending","descending",null].includes(n))}};let ure=1;var yP=ne({name:"ElTableColumn",components:{ElCheckbox:Ys},props:are,setup(t,{slots:n}){const o=Mt(),i=V({}),l=w(()=>{let C=o.parent;for(;C&&!C.tableId;)C=C.parent;return C}),{registerNormalWatchers:a,registerComplexWatchers:u}=rre(l,t),{columnId:h,isSubColumn:p,realHeaderAlign:f,columnOrTableParent:g,setColumnWidth:m,setColumnForcedProps:_,setColumnRenders:b,getPropsData:T,getColumnElIndex:$,realAlign:E,updateColumnOrder:y}=lre(t,n,l),I=g.value;h.value=`${I.tableId||I.columnId}_column_${ure++}`,Tg(()=>{p.value=l.value!==I;const C=t.type||"default",S=t.sortable===""?!0:t.sortable,R=Fn(t.showOverflowTooltip)?I.props.showOverflowTooltip:t.showOverflowTooltip,O={...tre[C],id:h.value,type:C,property:t.prop||t.property,align:E,headerAlign:f,showOverflowTooltip:R,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:S,index:t.index,rawColumnKey:o.vnode.key};let B=T(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);B=cie(O,B),B=hie(b,m,_)(B),i.value=B,a(),u()}),At(()=>{var C;const S=g.value,R=p.value?S.vnode.el.children:(C=S.refs.hiddenColumns)==null?void 0:C.children,O=()=>$(R||[],o.vnode.el);i.value.getColumnIndex=O,O()>-1&&l.value.store.commit("insertColumn",i.value,p.value?S.columnConfig.value:null,y)}),fn(()=>{i.value.getColumnIndex()>-1&&l.value.store.commit("removeColumn",i.value,p.value?I.columnConfig.value:null,y)}),o.columnId=h.value,o.columnConfig=i},render(){var t,n,o;try{const i=(n=(t=this.$slots).default)==null?void 0:n.call(t,{row:{},column:{},$index:-1}),l=[];if(Array.isArray(i))for(const u of i)((o=u.type)==null?void 0:o.name)==="ElTableColumn"||u.shapeFlag&2?l.push(u):u.type===dt&&Array.isArray(u.children)&&u.children.forEach(h=>{(h==null?void 0:h.patchFlag)!==1024&&!yt(h==null?void 0:h.children)&&l.push(h)});return ft("div",l)}catch{return ft("div",[])}}});const cre=Dt(Qie,{TableColumn:yP}),dre=kn(yP);var Vh=(t=>(t.ASC="asc",t.DESC="desc",t))(Vh||{}),Uh=(t=>(t.CENTER="center",t.RIGHT="right",t))(Uh||{}),EP=(t=>(t.LEFT="left",t.RIGHT="right",t))(EP||{});const by={asc:"desc",desc:"asc"},Gh=Symbol("placeholder"),hre=(t,n,o)=>{var i;const l={flexGrow:0,flexShrink:0,...o?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};o||(l.flexShrink=1);const a={...(i=t.style)!=null?i:{},...l,flexBasis:"auto",width:t.width};return n||(t.maxWidth&&(a.maxWidth=t.maxWidth),t.minWidth&&(a.minWidth=t.minWidth)),a};function pre(t,n,o){const i=w(()=>c(n).filter($=>!$.hidden)),l=w(()=>c(i).filter($=>$.fixed==="left"||$.fixed===!0)),a=w(()=>c(i).filter($=>$.fixed==="right")),u=w(()=>c(i).filter($=>!$.fixed)),h=w(()=>{const $=[];return c(l).forEach(E=>{$.push({...E,placeholderSign:Gh})}),c(u).forEach(E=>{$.push(E)}),c(a).forEach(E=>{$.push({...E,placeholderSign:Gh})}),$}),p=w(()=>c(l).length||c(a).length),f=w(()=>c(n).reduce((E,y)=>(E[y.key]=hre(y,c(o),t.fixed),E),{})),g=w(()=>c(i).reduce(($,E)=>$+E.width,0)),m=$=>c(n).find(E=>E.key===$),_=$=>c(f)[$],b=($,E)=>{$.width=E};function T($){var E;const{key:y}=$.currentTarget.dataset;if(!y)return;const{sortState:I,sortBy:C}=t;let S=Vh.ASC;xt(I)?S=by[I[y]]:S=by[C.order],(E=t.onColumnSort)==null||E.call(t,{column:m(y),key:y,order:S})}return{columns:n,columnsStyles:f,columnsTotalWidth:g,fixedColumnsOnLeft:l,fixedColumnsOnRight:a,hasFixedColumns:p,mainColumns:h,normalColumns:u,visibleColumns:i,getColumn:m,getColumnStyle:_,updateColumnWidth:b,onColumnSorted:T}}const fre=(t,{mainTableRef:n,leftTableRef:o,rightTableRef:i,onMaybeEndReached:l})=>{const a=V({scrollLeft:0,scrollTop:0});function u(b){var T,$,E;const{scrollTop:y}=b;(T=n.value)==null||T.scrollTo(b),($=o.value)==null||$.scrollToTop(y),(E=i.value)==null||E.scrollToTop(y)}function h(b){a.value=b,u(b)}function p(b){a.value.scrollTop=b,u(c(a))}function f(b){var T,$;a.value.scrollLeft=b,($=(T=n.value)==null?void 0:T.scrollTo)==null||$.call(T,c(a))}function g(b){var T;h(b),(T=t.onScroll)==null||T.call(t,b)}function m({scrollTop:b}){const{scrollTop:T}=c(a);b!==T&&p(b)}function _(b,T="auto"){var $;($=n.value)==null||$.scrollToRow(b,T)}return Me(()=>c(a).scrollTop,(b,T)=>{b>T&&l()}),{scrollPos:a,scrollTo:h,scrollToLeft:f,scrollToTop:p,scrollToRow:_,onScroll:g,onVerticalScroll:m}},mre=(t,{mainTableRef:n,leftTableRef:o,rightTableRef:i,tableInstance:l,ns:a,isScrolling:u})=>{const h=Mt(),{emit:p}=h,f=_n(!1),g=V(t.defaultExpandedRowKeys||[]),m=V(-1),_=_n(null),b=V({}),T=V({}),$=_n({}),E=_n({}),y=_n({}),I=w(()=>$t(t.estimatedRowHeight));function C(F){var B;(B=t.onRowsRendered)==null||B.call(t,F),F.rowCacheEnd>c(m)&&(m.value=F.rowCacheEnd)}function S({hovered:F,rowKey:B}){if(u.value)return;l.vnode.el.querySelectorAll(`[rowkey="${String(B)}"]`).forEach(Z=>{F?Z.classList.add(a.is("hovered")):Z.classList.remove(a.is("hovered"))})}function R({expanded:F,rowData:B,rowIndex:K,rowKey:te}){var Z,j;const z=[...c(g)],G=z.indexOf(te);F?G===-1&&z.push(te):G>-1&&z.splice(G,1),g.value=z,p("update:expandedRowKeys",z),(Z=t.onRowExpand)==null||Z.call(t,{expanded:F,rowData:B,rowIndex:K,rowKey:te}),(j=t.onExpandedRowsChange)==null||j.call(t,z)}const O=as(()=>{var F,B,K,te;f.value=!0,b.value={...c(b),...c(T)},P(c(_),!1),T.value={},_.value=null,(F=n.value)==null||F.forceUpdate(),(B=o.value)==null||B.forceUpdate(),(K=i.value)==null||K.forceUpdate(),(te=h.proxy)==null||te.$forceUpdate(),f.value=!1},0);function P(F,B=!1){c(I)&&[n,o,i].forEach(K=>{const te=c(K);te&&te.resetAfterRowIndex(F,B)})}function M(F,B,K){const te=c(_);(te===null||te>K)&&(_.value=K),T.value[F]=B}function H({rowKey:F,height:B,rowIndex:K},te){te?te===EP.RIGHT?y.value[F]=B:$.value[F]=B:E.value[F]=B;const Z=Math.max(...[$,y,E].map(j=>j.value[F]||0));c(b)[F]!==Z&&(M(F,Z,K),O())}return{expandedRowKeys:g,lastRenderedRowIndex:m,isDynamic:I,isResetting:f,rowHeights:b,resetAfterIndex:P,onRowExpanded:R,onRowHovered:S,onRowsRendered:C,onRowHeightChange:H}},gre=(t,{expandedRowKeys:n,lastRenderedRowIndex:o,resetAfterIndex:i})=>{const l=V({}),a=w(()=>{const h={},{data:p,rowKey:f}=t,g=c(n);if(!g||!g.length)return p;const m=[],_=new Set;g.forEach(T=>_.add(T));let b=p.slice();for(b.forEach(T=>h[T[f]]=0);b.length>0;){const T=b.shift();m.push(T),_.has(T[f])&&Array.isArray(T.children)&&T.children.length>0&&(b=[...T.children,...b],T.children.forEach($=>h[$[f]]=h[T[f]]+1))}return l.value=h,m}),u=w(()=>{const{data:h,expandColumnKey:p}=t;return p?c(a):h});return Me(u,(h,p)=>{h!==p&&(o.value=-1,i(0,!0))}),{data:u,depthMap:l}},$re=(t,n)=>t+n,Om=t=>tt(t)?t.reduce($re,0):t,Ua=(t,n,o={})=>_t(t)?t(n):t??o,fl=t=>(["width","maxWidth","minWidth","height"].forEach(n=>{t[n]=Ln(t[n])}),t),CP=t=>Cn(t)?n=>ft(t,n):t,vre=(t,{columnsTotalWidth:n,data:o,fixedColumnsOnLeft:i,fixedColumnsOnRight:l})=>{const a=w(()=>{const{fixed:C,width:S,vScrollbarSize:R}=t,O=S-R;return C?Math.max(Math.round(c(n)),O):O}),u=w(()=>c(a)+t.vScrollbarSize),h=w(()=>{const{height:C=0,maxHeight:S=0,footerHeight:R,hScrollbarSize:O}=t;if(S>0){const P=c(T),M=c(p),F=c(b)+P+M+O;return Math.min(F,S-R)}return C-R}),p=w(()=>{const{rowHeight:C,estimatedRowHeight:S}=t,R=c(o);return $t(S)?R.length*S:R.length*C}),f=w(()=>{const{maxHeight:C}=t,S=c(h);if($t(C)&&C>0)return S;const R=c(p)+c(b)+c(T);return Math.min(S,R)}),g=C=>C.width,m=w(()=>Om(c(i).map(g))),_=w(()=>Om(c(l).map(g))),b=w(()=>Om(t.headerHeight)),T=w(()=>{var C;return(((C=t.fixedData)==null?void 0:C.length)||0)*t.rowHeight}),$=w(()=>c(h)-c(b)-c(T)),E=w(()=>{const{style:C={},height:S,width:R}=t;return fl({...C,height:S,width:R})}),y=w(()=>fl({height:t.footerHeight})),I=w(()=>({top:Ln(c(b)),bottom:Ln(t.footerHeight),width:Ln(t.width)}));return{bodyWidth:a,fixedTableHeight:f,mainTableHeight:h,leftTableWidth:m,rightTableWidth:_,headerWidth:u,rowsHeight:p,windowHeight:$,footerHeight:y,emptyStyle:I,rootStyle:E,headerHeight:b}},_re=t=>{const n=V(),o=V(0),i=V(0);let l;return At(()=>{l=In(n,([a])=>{const{width:u,height:h}=a.contentRect,{paddingLeft:p,paddingRight:f,paddingTop:g,paddingBottom:m}=getComputedStyle(a.target),_=Number.parseInt(p)||0,b=Number.parseInt(f)||0,T=Number.parseInt(g)||0,$=Number.parseInt(m)||0;o.value=u-_-b,i.value=h-T-$}).stop}),fn(()=>{l==null||l()}),Me([o,i],([a,u])=>{var h;(h=t.onResize)==null||h.call(t,{width:a,height:u})}),{sizer:n,width:o,height:i}};function bre(t){const n=V(),o=V(),i=V(),{columns:l,columnsStyles:a,columnsTotalWidth:u,fixedColumnsOnLeft:h,fixedColumnsOnRight:p,hasFixedColumns:f,mainColumns:g,onColumnSorted:m}=pre(t,on(t,"columns"),on(t,"fixed")),{scrollTo:_,scrollToLeft:b,scrollToTop:T,scrollToRow:$,onScroll:E,onVerticalScroll:y,scrollPos:I}=fre(t,{mainTableRef:n,leftTableRef:o,rightTableRef:i,onMaybeEndReached:ae}),C=xe("table-v2"),S=Mt(),R=_n(!1),{expandedRowKeys:O,lastRenderedRowIndex:P,isDynamic:M,isResetting:H,rowHeights:F,resetAfterIndex:B,onRowExpanded:K,onRowHeightChange:te,onRowHovered:Z,onRowsRendered:j}=mre(t,{mainTableRef:n,leftTableRef:o,rightTableRef:i,tableInstance:S,ns:C,isScrolling:R}),{data:z,depthMap:G}=gre(t,{expandedRowKeys:O,lastRenderedRowIndex:P,resetAfterIndex:B}),{bodyWidth:W,fixedTableHeight:D,mainTableHeight:X,leftTableWidth:oe,rightTableWidth:le,headerWidth:me,rowsHeight:Se,windowHeight:Pe,footerHeight:de,emptyStyle:ye,rootStyle:_e,headerHeight:Ke}=vre(t,{columnsTotalWidth:u,data:z,fixedColumnsOnLeft:h,fixedColumnsOnRight:p}),ve=V(),Ne=w(()=>{const he=c(z).length===0;return tt(t.fixedData)?t.fixedData.length===0&&he:he});function He(he){const{estimatedRowHeight:Ae,rowHeight:Fe,rowKey:Ce}=t;return Ae?c(F)[c(z)[he][Ce]]||Ae:Fe}function ae(){const{onEndReached:he}=t;if(!he)return;const{scrollTop:Ae}=c(I),Fe=c(Se),Ce=c(Pe),De=Fe-(Ae+Ce)+t.hScrollbarSize;c(P)>=0&&Fe===Ae+c(X)-c(Ke)&&he(De)}return Me(()=>t.expandedRowKeys,he=>O.value=he,{deep:!0}),{columns:l,containerRef:ve,mainTableRef:n,leftTableRef:o,rightTableRef:i,isDynamic:M,isResetting:H,isScrolling:R,hasFixedColumns:f,columnsStyles:a,columnsTotalWidth:u,data:z,expandedRowKeys:O,depthMap:G,fixedColumnsOnLeft:h,fixedColumnsOnRight:p,mainColumns:g,bodyWidth:W,emptyStyle:ye,rootStyle:_e,headerWidth:me,footerHeight:de,mainTableHeight:X,fixedTableHeight:D,leftTableWidth:oe,rightTableWidth:le,showEmpty:Ne,getRowHeight:He,onColumnSorted:m,onRowHovered:Z,onRowExpanded:K,onRowsRendered:j,onRowHeightChange:te,scrollTo:_,scrollToLeft:b,scrollToTop:T,scrollToRow:$,onScroll:E,onVerticalScroll:y}}const I0=Symbol("tableV2"),SP=String,ap={type:fe(Array),required:!0},w0={type:fe(Array)},IP={...w0,required:!0},Tre=String,yA={type:fe(Array),default:()=>wn([])},Ta={type:Number,required:!0},wP={type:fe([String,Number,Symbol]),default:"id"},EA={type:fe(Object)},wa=Ue({class:String,columns:ap,columnsStyles:{type:fe(Object),required:!0},depth:Number,expandColumnKey:Tre,estimatedRowHeight:{...La.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:fe(Function)},onRowHover:{type:fe(Function)},onRowHeightChange:{type:fe(Function)},rowData:{type:fe(Object),required:!0},rowEventHandlers:{type:fe(Object)},rowIndex:{type:Number,required:!0},rowKey:wP,style:{type:fe(Object)}}),iT={type:Number,required:!0},k0=Ue({class:String,columns:ap,fixedHeaderData:{type:fe(Array)},headerData:{type:fe(Array),required:!0},headerHeight:{type:fe([Number,Array]),default:50},rowWidth:iT,rowHeight:{type:Number,default:50},height:iT,width:iT}),Rm=Ue({columns:ap,data:IP,fixedData:w0,estimatedRowHeight:wa.estimatedRowHeight,width:Ta,height:Ta,headerWidth:Ta,headerHeight:k0.headerHeight,bodyWidth:Ta,rowHeight:Ta,cache:YD.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:La.scrollbarAlwaysOn,scrollbarStartGap:La.scrollbarStartGap,scrollbarEndGap:La.scrollbarEndGap,class:SP,style:EA,containerStyle:EA,getRowHeight:{type:fe(Function),required:!0},rowKey:wa.rowKey,onRowsRendered:{type:fe(Function)},onScroll:{type:fe(Function)}}),yre=Ue({cache:Rm.cache,estimatedRowHeight:wa.estimatedRowHeight,rowKey:wP,headerClass:{type:fe([String,Function])},headerProps:{type:fe([Object,Function])},headerCellProps:{type:fe([Object,Function])},headerHeight:k0.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:fe([String,Function])},rowProps:{type:fe([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:fe([Object,Function])},columns:ap,data:IP,dataGetter:{type:fe(Function)},fixedData:w0,expandColumnKey:wa.expandColumnKey,expandedRowKeys:yA,defaultExpandedRowKeys:yA,class:SP,fixed:Boolean,style:{type:fe(Object)},width:Ta,height:Ta,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:La.hScrollbarSize,vScrollbarSize:La.vScrollbarSize,scrollbarAlwaysOn:JD.alwaysOn,sortBy:{type:fe(Object),default:()=>({})},sortState:{type:fe(Object),default:void 0},onColumnSort:{type:fe(Function)},onExpandedRowsChange:{type:fe(Function)},onEndReached:{type:fe(Function)},onRowExpand:wa.onRowExpand,onScroll:Rm.onScroll,onRowsRendered:Rm.onRowsRendered,rowEventHandlers:wa.rowEventHandlers}),O0=(t,{slots:n})=>{var o;const{cellData:i,style:l}=t,a=((o=i==null?void 0:i.toString)==null?void 0:o.call(i))||"",u=Te(n,"default",t,()=>[a]);return ie("div",{class:t.class,title:a,style:l},[u])};O0.displayName="ElTableV2Cell";O0.inheritAttrs=!1;const R0=(t,{slots:n})=>Te(n,"default",t,()=>{var o,i;return[ie("div",{class:t.class,title:(o=t.column)==null?void 0:o.title},[(i=t.column)==null?void 0:i.title])]});R0.displayName="ElTableV2HeaderCell";R0.inheritAttrs=!1;const Ere=Ue({class:String,columns:ap,columnsStyles:{type:fe(Object),required:!0},headerIndex:Number,style:{type:fe(Object)}}),Cre=ne({name:"ElTableV2HeaderRow",props:Ere,setup(t,{slots:n}){return()=>{const{columns:o,columnsStyles:i,headerIndex:l,style:a}=t;let u=o.map((h,p)=>n.cell({columns:o,column:h,columnIndex:p,headerIndex:l,style:i[h.key]}));return n.header&&(u=n.header({cells:u.map(h=>tt(h)&&h.length===1?h[0]:h),columns:o,headerIndex:l})),ie("div",{class:t.class,style:a,role:"row"},[u])}}}),Sre="ElTableV2Header",Ire=ne({name:Sre,props:k0,setup(t,{slots:n,expose:o}){const i=xe("table-v2"),l=V(),a=w(()=>fl({width:t.width,height:t.height})),u=w(()=>fl({width:t.rowWidth,height:t.height})),h=w(()=>yl(c(t.headerHeight))),p=m=>{const _=c(l);pt(()=>{_!=null&&_.scroll&&_.scroll({left:m})})},f=()=>{const m=i.e("fixed-header-row"),{columns:_,fixedHeaderData:b,rowHeight:T}=t;return b==null?void 0:b.map(($,E)=>{var y;const I=fl({height:T,width:"100%"});return(y=n.fixed)==null?void 0:y.call(n,{class:m,columns:_,rowData:$,rowIndex:-(E+1),style:I})})},g=()=>{const m=i.e("dynamic-header-row"),{columns:_}=t;return c(h).map((b,T)=>{var $;const E=fl({width:"100%",height:b});return($=n.dynamic)==null?void 0:$.call(n,{class:m,columns:_,headerIndex:T,style:E})})};return o({scrollToLeft:p}),()=>{if(!(t.height<=0))return ie("div",{ref:l,class:t.class,style:c(a),role:"rowgroup"},[ie("div",{style:c(u),class:i.e("header")},[g(),f()])])}}}),wre=t=>{const{isScrolling:n}=it(I0),o=V(!1),i=V(),l=w(()=>$t(t.estimatedRowHeight)&&t.rowIndex>=0),a=(p=!1)=>{const f=c(i);if(!f)return;const{columns:g,onRowHeightChange:m,rowKey:_,rowIndex:b,style:T}=t,{height:$}=f.getBoundingClientRect();o.value=!0,pt(()=>{if(p||$!==Number.parseInt(T.height)){const E=g[0],y=(E==null?void 0:E.placeholderSign)===Gh;m==null||m({rowKey:_,height:$,rowIndex:b},E&&!y&&E.fixed)}})},u=w(()=>{const{rowData:p,rowIndex:f,rowKey:g,onRowHover:m}=t,_=t.rowEventHandlers||{},b={};return Object.entries(_).forEach(([T,$])=>{_t($)&&(b[T]=E=>{$({event:E,rowData:p,rowIndex:f,rowKey:g})})}),m&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:T,hovered:$})=>{const E=b[T];b[T]=y=>{m({event:y,hovered:$,rowData:p,rowIndex:f,rowKey:g}),E==null||E(y)}}),b}),h=p=>{const{onRowExpand:f,rowData:g,rowIndex:m,rowKey:_}=t;f==null||f({expanded:p,rowData:g,rowIndex:m,rowKey:_})};return At(()=>{c(l)&&a(!0)}),{isScrolling:n,measurable:l,measured:o,rowRef:i,eventHandlers:u,onExpand:h}},kre="ElTableV2TableRow",Ore=ne({name:kre,props:wa,setup(t,{expose:n,slots:o,attrs:i}){const{eventHandlers:l,isScrolling:a,measurable:u,measured:h,rowRef:p,onExpand:f}=wre(t);return n({onExpand:f}),()=>{const{columns:g,columnsStyles:m,expandColumnKey:_,depth:b,rowData:T,rowIndex:$,style:E}=t;let y=g.map((I,C)=>{const S=tt(T.children)&&T.children.length>0&&I.key===_;return o.cell({column:I,columns:g,columnIndex:C,depth:b,style:m[I.key],rowData:T,rowIndex:$,isScrolling:c(a),expandIconProps:S?{rowData:T,rowIndex:$,onExpand:f}:void 0})});if(o.row&&(y=o.row({cells:y.map(I=>tt(I)&&I.length===1?I[0]:I),style:E,columns:g,depth:b,rowData:T,rowIndex:$,isScrolling:c(a)})),c(u)){const{height:I,...C}=E||{},S=c(h);return ie("div",Vt({ref:p,class:t.class,style:S?E:C,role:"row"},i,c(l)),[y])}return ie("div",Vt(i,{ref:p,class:t.class,style:E,role:"row"},c(l)),[y])}}}),Rre=t=>{const{sortOrder:n}=t;return ie(at,{size:14,class:t.class},{default:()=>[n===Vh.ASC?ie(j4,null,null):ie(X4,null,null)]})},Are=t=>{const{expanded:n,expandable:o,onExpand:i,style:l,size:a}=t,u={onClick:o?()=>i(!n):void 0,class:t.class};return ie(at,Vt(u,{size:a,style:l}),{default:()=>[ie(Xo,null,null)]})},Nre="ElTableV2Grid",Lre=t=>{const n=V(),o=V(),i=w(()=>{const{data:$,rowHeight:E,estimatedRowHeight:y}=t;if(!y)return $.length*E}),l=w(()=>{const{fixedData:$,rowHeight:E}=t;return(($==null?void 0:$.length)||0)*E}),a=w(()=>Om(t.headerHeight)),u=w(()=>{const{height:$}=t;return Math.max(0,$-c(a)-c(l))}),h=w(()=>c(a)+c(l)>0),p=({data:$,rowIndex:E})=>$[E][t.rowKey];function f({rowCacheStart:$,rowCacheEnd:E,rowVisibleStart:y,rowVisibleEnd:I}){var C;(C=t.onRowsRendered)==null||C.call(t,{rowCacheStart:$,rowCacheEnd:E,rowVisibleStart:y,rowVisibleEnd:I})}function g($,E){var y;(y=o.value)==null||y.resetAfterRowIndex($,E)}function m($,E){const y=c(n),I=c(o);xt($)?(y==null||y.scrollToLeft($.scrollLeft),I==null||I.scrollTo($)):(y==null||y.scrollToLeft($),I==null||I.scrollTo({scrollLeft:$,scrollTop:E}))}function _($){var E;(E=c(o))==null||E.scrollTo({scrollTop:$})}function b($,E){var y;(y=c(o))==null||y.scrollToItem($,1,E)}function T(){var $,E;($=c(o))==null||$.$forceUpdate(),(E=c(n))==null||E.$forceUpdate()}return{bodyRef:o,forceUpdate:T,fixedRowHeight:l,gridHeight:u,hasHeader:h,headerHeight:a,headerRef:n,totalHeight:i,itemKey:p,onItemRendered:f,resetAfterRowIndex:g,scrollTo:m,scrollToTop:_,scrollToRow:b}},A0=ne({name:Nre,props:Rm,setup(t,{slots:n,expose:o}){const{ns:i}=it(I0),{bodyRef:l,fixedRowHeight:a,gridHeight:u,hasHeader:h,headerRef:p,headerHeight:f,totalHeight:g,forceUpdate:m,itemKey:_,onItemRendered:b,resetAfterRowIndex:T,scrollTo:$,scrollToTop:E,scrollToRow:y}=Lre(t);o({forceUpdate:m,totalHeight:g,scrollTo:$,scrollToTop:E,scrollToRow:y,resetAfterRowIndex:T});const I=()=>t.bodyWidth;return()=>{const{cache:C,columns:S,data:R,fixedData:O,useIsScrolling:P,scrollbarAlwaysOn:M,scrollbarEndGap:H,scrollbarStartGap:F,style:B,rowHeight:K,bodyWidth:te,estimatedRowHeight:Z,headerWidth:j,height:z,width:G,getRowHeight:W,onScroll:D}=t,X=$t(Z),oe=X?voe:foe,le=c(f);return ie("div",{role:"table",class:[i.e("table"),t.class],style:B},[ie(oe,{ref:l,data:R,useIsScrolling:P,itemKey:_,columnCache:0,columnWidth:X?I:te,totalColumn:1,totalRow:R.length,rowCache:C,rowHeight:X?W:K,width:G,height:c(u),class:i.e("body"),role:"rowgroup",scrollbarStartGap:F,scrollbarEndGap:H,scrollbarAlwaysOn:M,onScroll:D,onItemRendered:b,perfMode:!1},{default:me=>{var Se;const Pe=R[me.rowIndex];return(Se=n.row)==null?void 0:Se.call(n,{...me,columns:S,rowData:Pe})}}),c(h)&&ie(Ire,{ref:p,class:i.e("header-wrapper"),columns:S,headerData:R,headerHeight:t.headerHeight,fixedHeaderData:O,rowWidth:j,rowHeight:K,width:G,height:Math.min(le+c(a),z)},{dynamic:n.header,fixed:n.row})])}}});function Mre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const Dre=(t,{slots:n})=>{const{mainTableRef:o,...i}=t;return ie(A0,Vt({ref:o},i),Mre(n)?n:{default:()=>[n]})};function Pre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const xre=(t,{slots:n})=>{if(!t.columns.length)return;const{leftTableRef:o,...i}=t;return ie(A0,Vt({ref:o},i),Pre(n)?n:{default:()=>[n]})};function Bre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const Fre=(t,{slots:n})=>{if(!t.columns.length)return;const{rightTableRef:o,...i}=t;return ie(A0,Vt({ref:o},i),Bre(n)?n:{default:()=>[n]})};function Hre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const Vre=(t,{slots:n})=>{const{columns:o,columnsStyles:i,depthMap:l,expandColumnKey:a,expandedRowKeys:u,estimatedRowHeight:h,hasFixedColumns:p,rowData:f,rowIndex:g,style:m,isScrolling:_,rowProps:b,rowClass:T,rowKey:$,rowEventHandlers:E,ns:y,onRowHovered:I,onRowExpanded:C}=t,S=Ua(T,{columns:o,rowData:f,rowIndex:g},""),R=Ua(b,{columns:o,rowData:f,rowIndex:g}),O=f[$],P=l[O]||0,M=!!a,H=g<0,F=[y.e("row"),S,{[y.e(`row-depth-${P}`)]:M&&g>=0,[y.is("expanded")]:M&&u.includes(O),[y.is("fixed")]:!P&&H,[y.is("customized")]:!!n.row}],B=p?I:void 0,K={...R,columns:o,columnsStyles:i,class:F,depth:P,expandColumnKey:a,estimatedRowHeight:H?void 0:h,isScrolling:_,rowIndex:g,rowData:f,rowKey:O,rowEventHandlers:E,style:m};return ie(Ore,Vt(K,{onRowExpand:C,onMouseenter:j=>{B==null||B({hovered:!0,rowKey:O,event:j,rowData:f,rowIndex:g})},onMouseleave:j=>{B==null||B({hovered:!1,rowKey:O,event:j,rowData:f,rowIndex:g})},rowkey:O}),Hre(n)?n:{default:()=>[n]})},Ty=({columns:t,column:n,columnIndex:o,depth:i,expandIconProps:l,isScrolling:a,rowData:u,rowIndex:h,style:p,expandedRowKeys:f,ns:g,cellProps:m,expandColumnKey:_,indentSize:b,iconSize:T,rowKey:$},{slots:E})=>{const y=fl(p);if(n.placeholderSign===Gh)return ie("div",{class:g.em("row-cell","placeholder"),style:y},null);const{cellRenderer:I,dataKey:C,dataGetter:S}=n,R=_t(S)?S({columns:t,column:n,columnIndex:o,rowData:u,rowIndex:h}):Pn(u,C??""),O=Ua(m,{cellData:R,columns:t,column:n,columnIndex:o,rowIndex:h,rowData:u}),P={class:g.e("cell-text"),columns:t,column:n,columnIndex:o,cellData:R,isScrolling:a,rowData:u,rowIndex:h},M=CP(I),H=M?M(P):Te(E,"default",P,()=>[ie(O0,P,null)]),F=[g.e("row-cell"),n.class,n.align===Uh.CENTER&&g.is("align-center"),n.align===Uh.RIGHT&&g.is("align-right")],B=h>=0&&_&&n.key===_,K=h>=0&&f.includes(u[$]);let te;const Z=`margin-inline-start: ${i*b}px;`;return B&&(xt(l)?te=ie(Are,Vt(l,{class:[g.e("expand-icon"),g.is("expanded",K)],size:T,expanded:K,style:Z,expandable:!0}),null):te=ie("div",{style:[Z,`width: ${T}px; height: ${T}px;`].join(" ")},null)),ie("div",Vt({class:F,style:y},O,{role:"cell"}),[te,H])};Ty.inheritAttrs=!1;function Ure(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const Gre=({columns:t,columnsStyles:n,headerIndex:o,style:i,headerClass:l,headerProps:a,ns:u},{slots:h})=>{const p={columns:t,headerIndex:o},f=[u.e("header-row"),Ua(l,p,""),{[u.is("customized")]:!!h.header}],g={...Ua(a,p),columnsStyles:n,class:f,columns:t,headerIndex:o,style:i};return ie(Cre,g,Ure(h)?h:{default:()=>[h]})},CA=(t,{slots:n})=>{const{column:o,ns:i,style:l,onColumnSorted:a}=t,u=fl(l);if(o.placeholderSign===Gh)return ie("div",{class:i.em("header-row-cell","placeholder"),style:u},null);const{headerCellRenderer:h,headerClass:p,sortable:f}=o,g={...t,class:i.e("header-cell-text")},m=CP(h),_=m?m(g):Te(n,"default",g,()=>[ie(R0,g,null)]),{sortBy:b,sortState:T,headerCellProps:$}=t;let E,y;if(T){const S=T[o.key];E=!!by[S],y=E?S:Vh.ASC}else E=o.key===b.key,y=E?b.order:Vh.ASC;const I=[i.e("header-cell"),Ua(p,t,""),o.align===Uh.CENTER&&i.is("align-center"),o.align===Uh.RIGHT&&i.is("align-right"),f&&i.is("sortable")],C={...Ua($,t),onClick:o.sortable?a:void 0,class:I,style:u,"data-key":o.key};return ie("div",Vt(C,{role:"columnheader"}),[_,f&&ie(Rre,{class:[i.e("sort-icon"),E&&i.is("sorting")],sortOrder:y},null)])},kP=(t,{slots:n})=>{var o;return ie("div",{class:t.class,style:t.style},[(o=n.default)==null?void 0:o.call(n)])};kP.displayName="ElTableV2Footer";const OP=(t,{slots:n})=>{const o=Te(n,"default",{},()=>[ie(ND,null,null)]);return ie("div",{class:t.class,style:t.style},[o])};OP.displayName="ElTableV2Empty";const RP=(t,{slots:n})=>{var o;return ie("div",{class:t.class,style:t.style},[(o=n.default)==null?void 0:o.call(n)])};RP.displayName="ElTableV2Overlay";function jd(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const Wre="ElTableV2",zre=ne({name:Wre,props:yre,setup(t,{slots:n,expose:o}){const i=xe("table-v2"),{columnsStyles:l,fixedColumnsOnLeft:a,fixedColumnsOnRight:u,mainColumns:h,mainTableHeight:p,fixedTableHeight:f,leftTableWidth:g,rightTableWidth:m,data:_,depthMap:b,expandedRowKeys:T,hasFixedColumns:$,mainTableRef:E,leftTableRef:y,rightTableRef:I,isDynamic:C,isResetting:S,isScrolling:R,bodyWidth:O,emptyStyle:P,rootStyle:M,headerWidth:H,footerHeight:F,showEmpty:B,scrollTo:K,scrollToLeft:te,scrollToTop:Z,scrollToRow:j,getRowHeight:z,onColumnSorted:G,onRowHeightChange:W,onRowHovered:D,onRowExpanded:X,onRowsRendered:oe,onScroll:le,onVerticalScroll:me}=bre(t);return o({scrollTo:K,scrollToLeft:te,scrollToTop:Z,scrollToRow:j}),Ut(I0,{ns:i,isResetting:S,isScrolling:R}),()=>{const{cache:Se,cellProps:Pe,estimatedRowHeight:de,expandColumnKey:ye,fixedData:_e,headerHeight:Ke,headerClass:ve,headerProps:Ne,headerCellProps:He,sortBy:ae,sortState:he,rowHeight:Ae,rowClass:Fe,rowEventHandlers:Ce,rowKey:De,rowProps:Ve,scrollbarAlwaysOn:ue,indentSize:we,iconSize:ke,useIsScrolling:Ge,vScrollbarSize:ot,width:q}=t,et=c(_),lt={cache:Se,class:i.e("main"),columns:c(h),data:et,fixedData:_e,estimatedRowHeight:de,bodyWidth:c(O)+ot,headerHeight:Ke,headerWidth:c(H),height:c(p),mainTableRef:E,rowKey:De,rowHeight:Ae,scrollbarAlwaysOn:ue,scrollbarStartGap:2,scrollbarEndGap:ot,useIsScrolling:Ge,width:q,getRowHeight:z,onRowsRendered:oe,onScroll:le},Et=c(g),Tt=c(f),st={cache:Se,class:i.e("left"),columns:c(a),data:et,estimatedRowHeight:de,leftTableRef:y,rowHeight:Ae,bodyWidth:Et,headerWidth:Et,headerHeight:Ke,height:Tt,rowKey:De,scrollbarAlwaysOn:ue,scrollbarStartGap:2,scrollbarEndGap:ot,useIsScrolling:Ge,width:Et,getRowHeight:z,onScroll:me},Ye=c(m)+ot,A={cache:Se,class:i.e("right"),columns:c(u),data:et,estimatedRowHeight:de,rightTableRef:I,rowHeight:Ae,bodyWidth:Ye,headerWidth:Ye,headerHeight:Ke,height:Tt,rowKey:De,scrollbarAlwaysOn:ue,scrollbarStartGap:2,scrollbarEndGap:ot,width:Ye,style:`--${c(i.namespace)}-table-scrollbar-size: ${ot}px`,useIsScrolling:Ge,getRowHeight:z,onScroll:me},x=c(l),ee={ns:i,depthMap:c(b),columnsStyles:x,expandColumnKey:ye,expandedRowKeys:c(T),estimatedRowHeight:de,hasFixedColumns:c($),rowProps:Ve,rowClass:Fe,rowKey:De,rowEventHandlers:Ce,onRowHovered:D,onRowExpanded:X,onRowHeightChange:W},pe={cellProps:Pe,expandColumnKey:ye,indentSize:we,iconSize:ke,rowKey:De,expandedRowKeys:c(T),ns:i},re={ns:i,headerClass:ve,headerProps:Ne,columnsStyles:x},je={ns:i,sortBy:ae,sortState:he,headerCellProps:He,onColumnSorted:G},Ct={row:Ee=>ie(Vre,Vt(Ee,ee),{row:n.row,cell:Ie=>{let Qe;return n.cell?ie(Ty,Vt(Ie,pe,{style:x[Ie.column.key]}),jd(Qe=n.cell(Ie))?Qe:{default:()=>[Qe]}):ie(Ty,Vt(Ie,pe,{style:x[Ie.column.key]}),null)}}),header:Ee=>ie(Gre,Vt(Ee,re),{header:n.header,cell:Ie=>{let Qe;return n["header-cell"]?ie(CA,Vt(Ie,je,{style:x[Ie.column.key]}),jd(Qe=n["header-cell"](Ie))?Qe:{default:()=>[Qe]}):ie(CA,Vt(Ie,je,{style:x[Ie.column.key]}),null)}})},U=[t.class,i.b(),i.e("root"),{[i.is("dynamic")]:c(C)}],se={class:i.e("footer"),style:c(F)};return ie("div",{class:U,style:c(M)},[ie(Dre,lt,jd(Ct)?Ct:{default:()=>[Ct]}),ie(xre,st,jd(Ct)?Ct:{default:()=>[Ct]}),ie(Fre,A,jd(Ct)?Ct:{default:()=>[Ct]}),n.footer&&ie(kP,se,{default:n.footer}),c(B)&&ie(OP,{class:i.e("empty"),style:c(P)},{default:n.empty}),n.overlay&&ie(RP,{class:i.e("overlay")},{default:n.overlay})])}}}),Kre=Ue({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:fe(Function)}}),Xre=ne({name:"ElAutoResizer",props:Kre,setup(t,{slots:n}){const o=xe("auto-resizer"),{height:i,width:l,sizer:a}=_re(t),u={width:"100%",height:"100%"};return()=>{var h;return ie("div",{ref:a,class:o.b(),style:u},[(h=n.default)==null?void 0:h.call(n,{height:i.value,width:l.value})])}}}),Yre=Dt(zre),jre=Dt(Xre),Yg=Symbol("tabsRootContextKey"),qre=Ue({tabs:{type:fe(Array),default:()=>wn([])}}),AP="ElTabBar",Jre=ne({name:AP}),Zre=ne({...Jre,props:qre,setup(t,{expose:n}){const o=t,i=Mt(),l=it(Yg);l||jn(AP,"<el-tabs><el-tab-bar /></el-tabs>");const a=xe("tabs"),u=V(),h=V(),p=()=>{let g=0,m=0;const _=["top","bottom"].includes(l.props.tabPosition)?"width":"height",b=_==="width"?"x":"y",T=b==="x"?"left":"top";return o.tabs.every($=>{var E,y;const I=(y=(E=i.parent)==null?void 0:E.refs)==null?void 0:y[`tab-${$.uid}`];if(!I)return!1;if(!$.active)return!0;g=I[`offset${Pi(T)}`],m=I[`client${Pi(_)}`];const C=window.getComputedStyle(I);return _==="width"&&(o.tabs.length>1&&(m-=Number.parseFloat(C.paddingLeft)+Number.parseFloat(C.paddingRight)),g+=Number.parseFloat(C.paddingLeft)),!1}),{[_]:`${m}px`,transform:`translate${Pi(b)}(${g}px)`}},f=()=>h.value=p();return Me(()=>o.tabs,async()=>{await pt(),f()},{immediate:!0}),In(u,()=>f()),n({ref:u,update:f}),(g,m)=>(N(),Y("div",{ref_key:"barRef",ref:u,class:L([c(a).e("active-bar"),c(a).is(c(l).props.tabPosition)]),style:ct(h.value)},null,6))}});var Qre=We(Zre,[["__file","tab-bar.vue"]]);const ele=Ue({panes:{type:fe(Array),default:()=>wn([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),tle={tabClick:(t,n,o)=>o instanceof Event,tabRemove:(t,n)=>n instanceof Event},SA="ElTabNav",nle=ne({name:SA,props:ele,emits:tle,setup(t,{expose:n,emit:o}){const i=Mt(),l=it(Yg);l||jn(SA,"<el-tabs><tab-nav /></el-tabs>");const a=xe("tabs"),u=oH(),h=mH(),p=V(),f=V(),g=V(),m=V(),_=V(!1),b=V(0),T=V(!1),$=V(!0),E=w(()=>["top","bottom"].includes(l.props.tabPosition)?"width":"height"),y=w(()=>({transform:`translate${E.value==="width"?"X":"Y"}(-${b.value}px)`})),I=()=>{if(!p.value)return;const H=p.value[`offset${Pi(E.value)}`],F=b.value;if(!F)return;const B=F>H?F-H:0;b.value=B},C=()=>{if(!p.value||!f.value)return;const H=f.value[`offset${Pi(E.value)}`],F=p.value[`offset${Pi(E.value)}`],B=b.value;if(H-B<=F)return;const K=H-B>F*2?B+F:H-F;b.value=K},S=async()=>{const H=f.value;if(!_.value||!g.value||!p.value||!H)return;await pt();const F=g.value.querySelector(".is-active");if(!F)return;const B=p.value,K=["top","bottom"].includes(l.props.tabPosition),te=F.getBoundingClientRect(),Z=B.getBoundingClientRect(),j=K?H.offsetWidth-Z.width:H.offsetHeight-Z.height,z=b.value;let G=z;K?(te.left<Z.left&&(G=z-(Z.left-te.left)),te.right>Z.right&&(G=z+te.right-Z.right)):(te.top<Z.top&&(G=z-(Z.top-te.top)),te.bottom>Z.bottom&&(G=z+(te.bottom-Z.bottom))),G=Math.max(G,0),b.value=Math.min(G,j)},R=()=>{var H;if(!f.value||!p.value)return;t.stretch&&((H=m.value)==null||H.update());const F=f.value[`offset${Pi(E.value)}`],B=p.value[`offset${Pi(E.value)}`],K=b.value;B<F?(_.value=_.value||{},_.value.prev=K,_.value.next=K+B<F,F-K<B&&(b.value=F-B)):(_.value=!1,K>0&&(b.value=0))},O=H=>{const F=H.code,{up:B,down:K,left:te,right:Z}=mt;if(![B,K,te,Z].includes(F))return;const j=Array.from(H.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),z=j.indexOf(H.target);let G;F===te||F===B?z===0?G=j.length-1:G=z-1:z<j.length-1?G=z+1:G=0,j[G].focus({preventScroll:!0}),j[G].click(),P()},P=()=>{$.value&&(T.value=!0)},M=()=>T.value=!1;return Me(u,H=>{H==="hidden"?$.value=!1:H==="visible"&&setTimeout(()=>$.value=!0,50)}),Me(h,H=>{H?setTimeout(()=>$.value=!0,50):$.value=!1}),In(g,R),At(()=>setTimeout(()=>S(),0)),Rr(()=>R()),n({scrollToActiveTab:S,removeFocus:M}),Me(()=>t.panes,()=>i.update(),{flush:"post",deep:!0}),()=>{const H=_.value?[ie("span",{class:[a.e("nav-prev"),a.is("disabled",!_.value.prev)],onClick:I},[ie(at,null,{default:()=>[ie(Cl,null,null)]})]),ie("span",{class:[a.e("nav-next"),a.is("disabled",!_.value.next)],onClick:C},[ie(at,null,{default:()=>[ie(Xo,null,null)]})])]:null,F=t.panes.map((B,K)=>{var te,Z,j,z;const G=B.uid,W=B.props.disabled,D=(Z=(te=B.props.name)!=null?te:B.index)!=null?Z:`${K}`,X=!W&&(B.isClosable||t.editable);B.index=`${K}`;const oe=X?ie(at,{class:"is-icon-close",onClick:Se=>o("tabRemove",B,Se)},{default:()=>[ie(hi,null,null)]}):null,le=((z=(j=B.slots).label)==null?void 0:z.call(j))||B.props.label,me=!W&&B.active?0:-1;return ie("div",{ref:`tab-${G}`,class:[a.e("item"),a.is(l.props.tabPosition),a.is("active",B.active),a.is("disabled",W),a.is("closable",X),a.is("focus",T.value)],id:`tab-${D}`,key:`tab-${G}`,"aria-controls":`pane-${D}`,role:"tab","aria-selected":B.active,tabindex:me,onFocus:()=>P(),onBlur:()=>M(),onClick:Se=>{M(),o("tabClick",B,D,Se)},onKeydown:Se=>{X&&(Se.code===mt.delete||Se.code===mt.backspace)&&o("tabRemove",B,Se)}},[le,oe])});return ie("div",{ref:g,class:[a.e("nav-wrap"),a.is("scrollable",!!_.value),a.is(l.props.tabPosition)]},[H,ie("div",{class:a.e("nav-scroll"),ref:p},[ie("div",{class:[a.e("nav"),a.is(l.props.tabPosition),a.is("stretch",t.stretch&&["top","bottom"].includes(l.props.tabPosition))],ref:f,style:y.value,role:"tablist",onKeydown:O},[t.type?null:ie(Qre,{ref:m,tabs:[...t.panes]},null),F])])])}}}),ole=Ue({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:fe(Function),default:()=>!0},stretch:Boolean}),rT=t=>yt(t)||$t(t),sle={[Bt]:t=>rT(t),tabClick:(t,n)=>n instanceof Event,tabChange:t=>rT(t),edit:(t,n)=>["remove","add"].includes(n),tabRemove:t=>rT(t),tabAdd:()=>!0},ile=ne({name:"ElTabs",props:ole,emits:sle,setup(t,{emit:n,slots:o,expose:i}){var l;const a=xe("tabs"),{children:u,addChild:h,removeChild:p}=ZE(Mt(),"ElTabPane"),f=V(),g=V((l=t.modelValue)!=null?l:"0"),m=async($,E=!1)=>{var y,I,C;if(!(g.value===$||Fn($)))try{await((y=t.beforeLeave)==null?void 0:y.call(t,$,g.value))!==!1&&(g.value=$,E&&(n(Bt,$),n("tabChange",$)),(C=(I=f.value)==null?void 0:I.removeFocus)==null||C.call(I))}catch{}},_=($,E,y)=>{$.props.disabled||(m(E,!0),n("tabClick",$,y))},b=($,E)=>{$.props.disabled||Fn($.props.name)||(E.stopPropagation(),n("edit",$.props.name,"remove"),n("tabRemove",$.props.name))},T=()=>{n("edit",void 0,"add"),n("tabAdd")};return Me(()=>t.modelValue,$=>m($)),Me(g,async()=>{var $;await pt(),($=f.value)==null||$.scrollToActiveTab()}),Ut(Yg,{props:t,currentName:g,registerPane:h,unregisterPane:p}),i({currentName:g}),()=>{const $=o["add-icon"],E=t.editable||t.addable?ie("span",{class:a.e("new-tab"),tabindex:"0",onClick:T,onKeydown:C=>{C.code===mt.enter&&T()}},[$?Te(o,"add-icon"):ie(at,{class:a.is("icon-plus")},{default:()=>[ie(rM,null,null)]})]):null,y=ie("div",{class:[a.e("header"),a.is(t.tabPosition)]},[E,ie(nle,{ref:f,currentName:g.value,editable:t.editable,type:t.type,panes:u.value,stretch:t.stretch,onTabClick:_,onTabRemove:b},null)]),I=ie("div",{class:a.e("content")},[Te(o,"default")]);return ie("div",{class:[a.b(),a.m(t.tabPosition),{[a.m("card")]:t.type==="card",[a.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[y,I]:[I,y]])}}}),rle=Ue({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),lle=["id","aria-hidden","aria-labelledby"],NP="ElTabPane",ale=ne({name:NP}),ule=ne({...ale,props:rle,setup(t){const n=t,o=Mt(),i=ao(),l=it(Yg);l||jn(NP,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=xe("tab-pane"),u=V(),h=w(()=>n.closable||l.props.closable),p=tO(()=>{var b;return l.currentName.value===((b=n.name)!=null?b:u.value)}),f=V(p.value),g=w(()=>{var b;return(b=n.name)!=null?b:u.value}),m=tO(()=>!n.lazy||f.value||p.value);Me(p,b=>{b&&(f.value=!0)});const _=Qt({uid:o.uid,slots:i,props:n,paneName:g,active:p,index:u,isClosable:h});return At(()=>{l.registerPane(_)}),Rl(()=>{l.unregisterPane(_.uid)}),(b,T)=>c(m)?Rt((N(),Y("div",{key:0,id:`pane-${c(g)}`,class:L(c(a).b()),role:"tabpanel","aria-hidden":!c(p),"aria-labelledby":`tab-${c(g)}`},[Te(b.$slots,"default")],10,lle)),[[qt,c(p)]]):$e("v-if",!0)}});var LP=We(ule,[["__file","tab-pane.vue"]]);const cle=Dt(ile,{TabPane:LP}),dle=kn(LP),hle=Ue({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Ki,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),ple=ne({name:"ElText"}),fle=ne({...ple,props:hle,setup(t){const n=t,o=Kn(),i=xe("text"),l=w(()=>[i.b(),i.m(n.type),i.m(o.value),i.is("truncated",n.truncated),i.is("line-clamp",!Fn(n.lineClamp))]);return(a,u)=>(N(),be(Ft(a.tag),{class:L(c(l)),style:ct({"-webkit-line-clamp":a.lineClamp})},{default:ce(()=>[Te(a.$slots,"default")]),_:3},8,["class","style"]))}});var mle=We(fle,[["__file","text.vue"]]);const gle=Dt(mle),$le=Ue({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:qn,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:fe([String,Object]),default:()=>iM},clearIcon:{type:fe([String,Object]),default:()=>Nl},...Gc}),br=t=>{const n=(t||"").split(":");if(n.length>=2){let o=Number.parseInt(n[0],10);const i=Number.parseInt(n[1],10),l=t.toUpperCase();return l.includes("AM")&&o===12?o=0:l.includes("PM")&&o!==12&&(o+=12),{hours:o,minutes:i}}return null},lT=(t,n)=>{const o=br(t);if(!o)return-1;const i=br(n);if(!i)return-1;const l=o.minutes+o.hours*60,a=i.minutes+i.hours*60;return l===a?0:l>a?1:-1},IA=t=>`${t}`.padStart(2,"0"),Ju=t=>`${IA(t.hours)}:${IA(t.minutes)}`,vle=(t,n)=>{const o=br(t);if(!o)return"";const i=br(n);if(!i)return"";const l={hours:o.hours,minutes:o.minutes};return l.minutes+=i.minutes,l.hours+=i.hours,l.hours+=Math.floor(l.minutes/60),l.minutes=l.minutes%60,Ju(l)},_le=ne({name:"ElTimeSelect"}),ble=ne({..._le,props:$le,emits:["change","blur","focus","update:modelValue"],setup(t,{expose:n}){const o=t;Pt.extend(i0);const{Option:i}=Va,l=xe("input"),a=V(),u=Zo(),{lang:h}=Yt(),p=w(()=>o.modelValue),f=w(()=>{const y=br(o.start);return y?Ju(y):null}),g=w(()=>{const y=br(o.end);return y?Ju(y):null}),m=w(()=>{const y=br(o.step);return y?Ju(y):null}),_=w(()=>{const y=br(o.minTime||"");return y?Ju(y):null}),b=w(()=>{const y=br(o.maxTime||"");return y?Ju(y):null}),T=w(()=>{const y=[];if(o.start&&o.end&&o.step){let I=f.value,C;for(;I&&g.value&&lT(I,g.value)<=0;)C=Pt(I,"HH:mm").locale(h.value).format(o.format),y.push({value:C,disabled:lT(I,_.value||"-1:-1")<=0||lT(I,b.value||"100:100")>=0}),I=vle(I,m.value)}return y});return n({blur:()=>{var y,I;(I=(y=a.value)==null?void 0:y.blur)==null||I.call(y)},focus:()=>{var y,I;(I=(y=a.value)==null?void 0:y.focus)==null||I.call(y)}}),(y,I)=>(N(),be(c(Va),{ref_key:"select",ref:a,"model-value":c(p),disabled:c(u),clearable:y.clearable,"clear-icon":y.clearIcon,size:y.size,effect:y.effect,placeholder:y.placeholder,"default-first-option":"",filterable:y.editable,"empty-values":y.emptyValues,"value-on-clear":y.valueOnClear,"onUpdate:modelValue":I[0]||(I[0]=C=>y.$emit("update:modelValue",C)),onChange:I[1]||(I[1]=C=>y.$emit("change",C)),onBlur:I[2]||(I[2]=C=>y.$emit("blur",C)),onFocus:I[3]||(I[3]=C=>y.$emit("focus",C))},{prefix:ce(()=>[y.prefixIcon?(N(),be(c(at),{key:0,class:L(c(l).e("prefix-icon"))},{default:ce(()=>[(N(),be(Ft(y.prefixIcon)))]),_:1},8,["class"])):$e("v-if",!0)]),default:ce(()=>[(N(!0),Y(dt,null,zt(c(T),C=>(N(),be(c(i),{key:C.value,label:C.value,value:C.value,disabled:C.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear"]))}});var Am=We(ble,[["__file","time-select.vue"]]);Am.install=t=>{t.component(Am.name,Am)};const Tle=Am,yle=Tle,Ele=ne({name:"ElTimeline",setup(t,{slots:n}){const o=xe("timeline");return Ut("timeline",n),()=>ft("ul",{class:[o.b()]},[Te(n,"default")])}}),Cle=Ue({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:ln},hollow:{type:Boolean,default:!1}}),Sle=ne({name:"ElTimelineItem"}),Ile=ne({...Sle,props:Cle,setup(t){const n=t,o=xe("timeline-item"),i=w(()=>[o.e("node"),o.em("node",n.size||""),o.em("node",n.type||""),o.is("hollow",n.hollow)]);return(l,a)=>(N(),Y("li",{class:L([c(o).b(),{[c(o).e("center")]:l.center}])},[Q("div",{class:L(c(o).e("tail"))},null,2),l.$slots.dot?$e("v-if",!0):(N(),Y("div",{key:0,class:L(c(i)),style:ct({backgroundColor:l.color})},[l.icon?(N(),be(c(at),{key:0,class:L(c(o).e("icon"))},{default:ce(()=>[(N(),be(Ft(l.icon)))]),_:1},8,["class"])):$e("v-if",!0)],6)),l.$slots.dot?(N(),Y("div",{key:1,class:L(c(o).e("dot"))},[Te(l.$slots,"dot")],2)):$e("v-if",!0),Q("div",{class:L(c(o).e("wrapper"))},[!l.hideTimestamp&&l.placement==="top"?(N(),Y("div",{key:0,class:L([c(o).e("timestamp"),c(o).is("top")])},ze(l.timestamp),3)):$e("v-if",!0),Q("div",{class:L(c(o).e("content"))},[Te(l.$slots,"default")],2),!l.hideTimestamp&&l.placement==="bottom"?(N(),Y("div",{key:1,class:L([c(o).e("timestamp"),c(o).is("bottom")])},ze(l.timestamp),3)):$e("v-if",!0)],2)],2))}});var MP=We(Ile,[["__file","timeline-item.vue"]]);const wle=Dt(Ele,{TimelineItem:MP}),kle=kn(MP),DP=Ue({nowrap:Boolean});var PP=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(PP||{});const Ole=Object.values(PP),N0=Ue({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:fe(Object),default:null}}),Rle=Ue({side:{type:fe(String),values:Ole,required:!0}}),Ale=["absolute","fixed"],Nle=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],L0=Ue({arrowPadding:{type:fe(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:fe(String),values:Nle,default:"bottom"},reference:{type:fe(Object),default:null},offset:{type:Number,default:8},strategy:{type:fe(String),values:Ale,default:"absolute"},showArrow:{type:Boolean,default:!1},...mo(["ariaLabel"])}),M0=Ue({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:fe(Function)},"onUpdate:open":{type:fe(Function)}}),Xu={type:fe(Function)},D0=Ue({onBlur:Xu,onClick:Xu,onFocus:Xu,onMouseDown:Xu,onMouseEnter:Xu,onMouseLeave:Xu}),Lle=Ue({...M0,...N0,...D0,...L0,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:fe(Object),default:null},teleported:Boolean,to:{type:fe(String),default:"body"}}),jg=Symbol("tooltipV2"),xP=Symbol("tooltipV2Content"),aT="tooltip_v2.open",Mle=ne({name:"ElTooltipV2Root"}),Dle=ne({...Mle,props:M0,setup(t,{expose:n}){const o=t,i=V(o.defaultOpen),l=V(null),a=w({get:()=>xa(o.open)?i.value:o.open,set:E=>{var y;i.value=E,(y=o["onUpdate:open"])==null||y.call(o,E)}}),u=w(()=>$t(o.delayDuration)&&o.delayDuration>0),{start:h,stop:p}=Da(()=>{a.value=!0},w(()=>o.delayDuration),{immediate:!1}),f=xe("tooltip-v2"),g=So(),m=()=>{p(),a.value=!0},_=()=>{c(u)?h():m()},b=m,T=()=>{p(),a.value=!1};return Me(a,E=>{var y;E&&(document.dispatchEvent(new CustomEvent(aT)),b()),(y=o.onOpenChange)==null||y.call(o,E)}),At(()=>{document.addEventListener(aT,T)}),fn(()=>{p(),document.removeEventListener(aT,T)}),Ut(jg,{contentId:g,triggerRef:l,ns:f,onClose:T,onDelayOpen:_,onOpen:b}),n({onOpen:b,onClose:T}),(E,y)=>Te(E.$slots,"default",{open:c(a)})}});var Ple=We(Dle,[["__file","root.vue"]]);const xle=ne({name:"ElTooltipV2Arrow"}),Ble=ne({...xle,props:{...N0,...Rle},setup(t){const n=t,{ns:o}=it(jg),{arrowRef:i}=it(xP),l=w(()=>{const{style:a,width:u,height:h}=n,p=o.namespace.value;return{[`--${p}-tooltip-v2-arrow-width`]:`${u}px`,[`--${p}-tooltip-v2-arrow-height`]:`${h}px`,[`--${p}-tooltip-v2-arrow-border-width`]:`${u/2}px`,[`--${p}-tooltip-v2-arrow-cover-width`]:u/2-1,...a||{}}});return(a,u)=>(N(),Y("span",{ref_key:"arrowRef",ref:i,style:ct(c(l)),class:L(c(o).e("arrow"))},null,6))}});var wA=We(Ble,[["__file","arrow.vue"]]);const Fle=Ue({style:{type:fe([String,Object,Array]),default:()=>({})}}),Hle=ne({name:"ElVisuallyHidden"}),Vle=ne({...Hle,props:Fle,setup(t){const n=t,o=w(()=>[n.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(i,l)=>(N(),Y("span",Vt(i.$attrs,{style:c(o)}),[Te(i.$slots,"default")],16))}});var Ule=We(Vle,[["__file","visual-hidden.vue"]]);const Gle=["data-side"],Wle=ne({name:"ElTooltipV2Content"}),zle=ne({...Wle,props:{...L0,...DP},setup(t){const n=t,{triggerRef:o,contentId:i}=it(jg),l=V(n.placement),a=V(n.strategy),u=V(null),{referenceRef:h,contentRef:p,middlewareData:f,x:g,y:m,update:_}=$6({placement:l,strategy:a,middleware:w(()=>{const C=[UM(n.offset)];return n.showArrow&&C.push(v6({arrowRef:u})),C})}),b=Vc().nextZIndex(),T=xe("tooltip-v2"),$=w(()=>l.value.split("-")[0]),E=w(()=>({position:c(a),top:`${c(m)||0}px`,left:`${c(g)||0}px`,zIndex:b})),y=w(()=>{if(!n.showArrow)return{};const{arrow:C}=c(f);return{[`--${T.namespace.value}-tooltip-v2-arrow-x`]:`${C==null?void 0:C.x}px`||"",[`--${T.namespace.value}-tooltip-v2-arrow-y`]:`${C==null?void 0:C.y}px`||""}}),I=w(()=>[T.e("content"),T.is("dark",n.effect==="dark"),T.is(c(a)),n.contentClass]);return Me(u,()=>_()),Me(()=>n.placement,C=>l.value=C),At(()=>{Me(()=>n.reference||o.value,C=>{h.value=C||void 0},{immediate:!0})}),Ut(xP,{arrowRef:u}),(C,S)=>(N(),Y("div",{ref_key:"contentRef",ref:p,style:ct(c(E)),"data-tooltip-v2-root":""},[C.nowrap?$e("v-if",!0):(N(),Y("div",{key:0,"data-side":c($),class:L(c(I))},[Te(C.$slots,"default",{contentStyle:c(E),contentClass:c(I)}),ie(c(Ule),{id:c(i),role:"tooltip"},{default:ce(()=>[C.ariaLabel?(N(),Y(dt,{key:0},[Wt(ze(C.ariaLabel),1)],64)):Te(C.$slots,"default",{key:1})]),_:3},8,["id"]),Te(C.$slots,"arrow",{style:ct(c(y)),side:c($)})],10,Gle))],4))}});var kA=We(zle,[["__file","content.vue"]]);const Kle=Ue({setRef:{type:fe(Function),required:!0},onlyChild:Boolean});var Xle=ne({props:Kle,setup(t,{slots:n}){const o=V(),i=Mg(o,l=>{l?t.setRef(l.nextElementSibling):t.setRef(null)});return()=>{var l;const[a]=((l=n.default)==null?void 0:l.call(n))||[],u=t.onlyChild?hz(a.children):a.children;return ie(dt,{ref:i},[u])}}});const Yle=ne({name:"ElTooltipV2Trigger"}),jle=ne({...Yle,props:{...DP,...D0},setup(t){const n=t,{onClose:o,onOpen:i,onDelayOpen:l,triggerRef:a,contentId:u}=it(jg);let h=!1;const p=I=>{a.value=I},f=()=>{h=!1},g=Nn(n.onMouseEnter,l),m=Nn(n.onMouseLeave,o),_=Nn(n.onMouseDown,()=>{o(),h=!0,document.addEventListener("mouseup",f,{once:!0})}),b=Nn(n.onFocus,()=>{h||i()}),T=Nn(n.onBlur,o),$=Nn(n.onClick,I=>{I.detail===0&&o()}),E={blur:T,click:$,focus:b,mousedown:_,mouseenter:g,mouseleave:m},y=(I,C,S)=>{I&&Object.entries(C).forEach(([R,O])=>{I[S](R,O)})};return Me(a,(I,C)=>{y(I,E,"addEventListener"),y(C,E,"removeEventListener"),I&&I.setAttribute("aria-describedby",u.value)}),fn(()=>{y(a.value,E,"removeEventListener"),document.removeEventListener("mouseup",f)}),(I,C)=>I.nowrap?(N(),be(c(Xle),{key:0,"set-ref":p,"only-child":""},{default:ce(()=>[Te(I.$slots,"default")]),_:3})):(N(),Y("button",Vt({key:1,ref_key:"triggerRef",ref:a},I.$attrs),[Te(I.$slots,"default")],16))}});var qle=We(jle,[["__file","trigger.vue"]]);const Jle=ne({name:"ElTooltipV2"}),Zle=ne({...Jle,props:Lle,setup(t){const o=fo(t),i=Qt(xi(o,Object.keys(N0))),l=Qt(xi(o,Object.keys(L0))),a=Qt(xi(o,Object.keys(M0))),u=Qt(xi(o,Object.keys(D0)));return(h,p)=>(N(),be(Ple,Tr(fc(a)),{default:ce(({open:f})=>[ie(qle,Vt(u,{nowrap:""}),{default:ce(()=>[Te(h.$slots,"trigger")]),_:3},16),(N(),be(Dc,{to:h.to,disabled:!h.teleported},[h.fullTransition?(N(),be(Yn,Tr(Vt({key:0},h.transitionProps)),{default:ce(()=>[h.alwaysOn||f?(N(),be(kA,Tr(Vt({key:0},l)),{arrow:ce(({style:g,side:m})=>[h.showArrow?(N(),be(wA,Vt({key:0},i,{style:g,side:m}),null,16,["style","side"])):$e("v-if",!0)]),default:ce(()=>[Te(h.$slots,"default")]),_:3},16)):$e("v-if",!0)]),_:2},1040)):(N(),Y(dt,{key:1},[h.alwaysOn||f?(N(),be(kA,Tr(Vt({key:0},l)),{arrow:ce(({style:g,side:m})=>[h.showArrow?(N(),be(wA,Vt({key:0},i,{style:g,side:m}),null,16,["style","side"])):$e("v-if",!0)]),default:ce(()=>[Te(h.$slots,"default")]),_:3},16)):$e("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var Qle=We(Zle,[["__file","tooltip.vue"]]);const eae=Dt(Qle),BP="left-check-change",FP="right-check-change",Zu=Ue({data:{type:fe(Array),default:()=>[]},titles:{type:fe(Array),default:()=>[]},buttonTexts:{type:fe(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:fe(Function)},leftDefaultChecked:{type:fe(Array),default:()=>[]},rightDefaultChecked:{type:fe(Array),default:()=>[]},renderContent:{type:fe(Function)},modelValue:{type:fe(Array),default:()=>[]},format:{type:fe(Object),default:()=>({})},filterable:Boolean,props:{type:fe(Object),default:()=>wn({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),yy=(t,n)=>[t,n].every(tt)||tt(t)&&io(n),tae={[$n]:(t,n,o)=>[t,o].every(tt)&&["left","right"].includes(n),[Bt]:t=>tt(t),[BP]:yy,[FP]:yy},Ey="checked-change",nae=Ue({data:Zu.data,optionRender:{type:fe(Function)},placeholder:String,title:String,filterable:Boolean,format:Zu.format,filterMethod:Zu.filterMethod,defaultChecked:Zu.leftDefaultChecked,props:Zu.props}),oae={[Ey]:yy},up=t=>{const n={label:"label",key:"key",disabled:"disabled"};return w(()=>({...n,...t.props}))},sae=(t,n,o)=>{const i=up(t),l=w(()=>t.data.filter(g=>_t(t.filterMethod)?t.filterMethod(n.query,g):String(g[i.value.label]||g[i.value.key]).toLowerCase().includes(n.query.toLowerCase()))),a=w(()=>l.value.filter(g=>!g[i.value.disabled])),u=w(()=>{const g=n.checked.length,m=t.data.length,{noChecked:_,hasChecked:b}=t.format;return _&&b?g>0?b.replace(/\${checked}/g,g.toString()).replace(/\${total}/g,m.toString()):_.replace(/\${total}/g,m.toString()):`${g}/${m}`}),h=w(()=>{const g=n.checked.length;return g>0&&g<a.value.length}),p=()=>{const g=a.value.map(m=>m[i.value.key]);n.allChecked=g.length>0&&g.every(m=>n.checked.includes(m))},f=g=>{n.checked=g?a.value.map(m=>m[i.value.key]):[]};return Me(()=>n.checked,(g,m)=>{if(p(),n.checkChangeByUser){const _=g.concat(m).filter(b=>!g.includes(b)||!m.includes(b));o(Ey,g,_)}else o(Ey,g),n.checkChangeByUser=!0}),Me(a,()=>{p()}),Me(()=>t.data,()=>{const g=[],m=l.value.map(_=>_[i.value.key]);n.checked.forEach(_=>{m.includes(_)&&g.push(_)}),n.checkChangeByUser=!1,n.checked=g}),Me(()=>t.defaultChecked,(g,m)=>{if(m&&g.length===m.length&&g.every(T=>m.includes(T)))return;const _=[],b=a.value.map(T=>T[i.value.key]);g.forEach(T=>{b.includes(T)&&_.push(T)}),n.checkChangeByUser=!1,n.checked=_},{immediate:!0}),{filteredData:l,checkableData:a,checkedSummary:u,isIndeterminate:h,updateAllChecked:p,handleAllCheckedChange:f}},iae=(t,n)=>({onSourceCheckedChange:(l,a)=>{t.leftChecked=l,a&&n(BP,l,a)},onTargetCheckedChange:(l,a)=>{t.rightChecked=l,a&&n(FP,l,a)}}),rae=t=>{const n=up(t),o=w(()=>t.data.reduce((a,u)=>(a[u[n.value.key]]=u)&&a,{})),i=w(()=>t.data.filter(a=>!t.modelValue.includes(a[n.value.key]))),l=w(()=>t.targetOrder==="original"?t.data.filter(a=>t.modelValue.includes(a[n.value.key])):t.modelValue.reduce((a,u)=>{const h=o.value[u];return h&&a.push(h),a},[]));return{sourceData:i,targetData:l}},lae=(t,n,o)=>{const i=up(t),l=(h,p,f)=>{o(Bt,h),o($n,h,p,f)};return{addToLeft:()=>{const h=t.modelValue.slice();n.rightChecked.forEach(p=>{const f=h.indexOf(p);f>-1&&h.splice(f,1)}),l(h,"left",n.rightChecked)},addToRight:()=>{let h=t.modelValue.slice();const p=t.data.filter(f=>{const g=f[i.value.key];return n.leftChecked.includes(g)&&!t.modelValue.includes(g)}).map(f=>f[i.value.key]);h=t.targetOrder==="unshift"?p.concat(h):h.concat(p),t.targetOrder==="original"&&(h=t.data.filter(f=>h.includes(f[i.value.key])).map(f=>f[i.value.key])),l(h,"right",n.leftChecked)}}},aae=ne({name:"ElTransferPanel"}),uae=ne({...aae,props:nae,emits:oae,setup(t,{expose:n,emit:o}){const i=t,l=ao(),a=({option:C})=>C,{t:u}=Yt(),h=xe("transfer"),p=Qt({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),f=up(i),{filteredData:g,checkedSummary:m,isIndeterminate:_,handleAllCheckedChange:b}=sae(i,p,o),T=w(()=>!xs(p.query)&&xs(g.value)),$=w(()=>!xs(l.default()[0].children)),{checked:E,allChecked:y,query:I}=fo(p);return n({query:I}),(C,S)=>(N(),Y("div",{class:L(c(h).b("panel"))},[Q("p",{class:L(c(h).be("panel","header"))},[ie(c(Ys),{modelValue:c(y),"onUpdate:modelValue":S[0]||(S[0]=R=>bn(y)?y.value=R:null),indeterminate:c(_),"validate-event":!1,onChange:c(b)},{default:ce(()=>[Wt(ze(C.title)+" ",1),Q("span",null,ze(c(m)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),Q("div",{class:L([c(h).be("panel","body"),c(h).is("with-footer",c($))])},[C.filterable?(N(),be(c(Mo),{key:0,modelValue:c(I),"onUpdate:modelValue":S[1]||(S[1]=R=>bn(I)?I.value=R:null),class:L(c(h).be("panel","filter")),size:"default",placeholder:C.placeholder,"prefix-icon":c(lM),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):$e("v-if",!0),Rt(ie(c(G1),{modelValue:c(E),"onUpdate:modelValue":S[2]||(S[2]=R=>bn(E)?E.value=R:null),"validate-event":!1,class:L([c(h).is("filterable",C.filterable),c(h).be("panel","list")])},{default:ce(()=>[(N(!0),Y(dt,null,zt(c(g),R=>(N(),be(c(Ys),{key:R[c(f).key],class:L(c(h).be("panel","item")),value:R[c(f).key],disabled:R[c(f).disabled],"validate-event":!1},{default:ce(()=>{var O;return[ie(a,{option:(O=C.optionRender)==null?void 0:O.call(C,R)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[qt,!c(T)&&!c(xs)(C.data)]]),Rt(Q("p",{class:L(c(h).be("panel","empty"))},ze(c(T)?c(u)("el.transfer.noMatch"):c(u)("el.transfer.noData")),3),[[qt,c(T)||c(xs)(C.data)]])],2),c($)?(N(),Y("p",{key:0,class:L(c(h).be("panel","footer"))},[Te(C.$slots,"default")],2)):$e("v-if",!0)],2))}});var OA=We(uae,[["__file","transfer-panel.vue"]]);const cae={key:0},dae={key:0},hae=ne({name:"ElTransfer"}),pae=ne({...hae,props:Zu,emits:tae,setup(t,{expose:n,emit:o}){const i=t,l=ao(),{t:a}=Yt(),u=xe("transfer"),{formItem:h}=Bo(),p=Qt({leftChecked:[],rightChecked:[]}),f=up(i),{sourceData:g,targetData:m}=rae(i),{onSourceCheckedChange:_,onTargetCheckedChange:b}=iae(p,o),{addToLeft:T,addToRight:$}=lae(i,p,o),E=V(),y=V(),I=M=>{switch(M){case"left":E.value.query="";break;case"right":y.value.query="";break}},C=w(()=>i.buttonTexts.length===2),S=w(()=>i.titles[0]||a("el.transfer.titles.0")),R=w(()=>i.titles[1]||a("el.transfer.titles.1")),O=w(()=>i.filterPlaceholder||a("el.transfer.filterPlaceholder"));Me(()=>i.modelValue,()=>{var M;i.validateEvent&&((M=h==null?void 0:h.validate)==null||M.call(h,"change").catch(H=>void 0))});const P=w(()=>M=>i.renderContent?i.renderContent(ft,M):l.default?l.default({option:M}):ft("span",M[f.value.label]||M[f.value.key]));return n({clearQuery:I,leftPanel:E,rightPanel:y}),(M,H)=>(N(),Y("div",{class:L(c(u).b())},[ie(OA,{ref_key:"leftPanel",ref:E,data:c(g),"option-render":c(P),placeholder:c(O),title:c(S),filterable:M.filterable,format:M.format,"filter-method":M.filterMethod,"default-checked":M.leftDefaultChecked,props:i.props,onCheckedChange:c(_)},{default:ce(()=>[Te(M.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Q("div",{class:L(c(u).e("buttons"))},[ie(c(ro),{type:"primary",class:L([c(u).e("button"),c(u).is("with-texts",c(C))]),disabled:c(xs)(p.rightChecked),onClick:c(T)},{default:ce(()=>[ie(c(at),null,{default:ce(()=>[ie(c(Cl))]),_:1}),c(Fn)(M.buttonTexts[0])?$e("v-if",!0):(N(),Y("span",cae,ze(M.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ie(c(ro),{type:"primary",class:L([c(u).e("button"),c(u).is("with-texts",c(C))]),disabled:c(xs)(p.leftChecked),onClick:c($)},{default:ce(()=>[c(Fn)(M.buttonTexts[1])?$e("v-if",!0):(N(),Y("span",dae,ze(M.buttonTexts[1]),1)),ie(c(at),null,{default:ce(()=>[ie(c(Xo))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ie(OA,{ref_key:"rightPanel",ref:y,data:c(m),"option-render":c(P),placeholder:c(O),filterable:M.filterable,format:M.format,"filter-method":M.filterMethod,title:c(R),"default-checked":M.rightDefaultChecked,props:i.props,onCheckedChange:c(b)},{default:ce(()=>[Te(M.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var fae=We(pae,[["__file","transfer.vue"]]);const mae=Dt(fae),dc="$treeNodeId",RA=function(t,n){!n||n[dc]||Object.defineProperty(n,dc,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},P0=function(t,n){return t?n[t]:n[dc]},Cy=(t,n,o)=>{const i=t.value.currentNode;o();const l=t.value.currentNode;i!==l&&n("current-change",l?l.data:null,l)},Sy=t=>{let n=!0,o=!0,i=!0;for(let l=0,a=t.length;l<a;l++){const u=t[l];(u.checked!==!0||u.indeterminate)&&(n=!1,u.disabled||(i=!1)),(u.checked!==!1||u.indeterminate)&&(o=!1)}return{all:n,none:o,allWithoutDisable:i,half:!n&&!o}},Qd=function(t){if(t.childNodes.length===0||t.loading)return;const{all:n,none:o,half:i}=Sy(t.childNodes);n?(t.checked=!0,t.indeterminate=!1):i?(t.checked=!1,t.indeterminate=!0):o&&(t.checked=!1,t.indeterminate=!1);const l=t.parent;!l||l.level===0||t.store.checkStrictly||Qd(l)},rm=function(t,n){const o=t.store.props,i=t.data||{},l=o[n];if(typeof l=="function")return l(i,t);if(typeof l=="string")return i[l];if(typeof l>"u"){const a=i[n];return a===void 0?"":a}};let gae=0,Iy=class Nm{constructor(n){this.id=gae++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const o in n)Xt(n,o)&&(this[o]=n[o]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const o=n.props;if(o&&typeof o.isLeaf<"u"){const a=rm(this,"isLeaf");typeof a=="boolean"&&(this.isLeafByUser=a)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||RA(this,this.data),!this.data)return;const i=n.defaultExpandedKeys,l=n.key;l&&i&&i.includes(this.key)&&this.expand(null,n.autoExpandParent),l&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){Array.isArray(n)||RA(this,n),this.data=n,this.childNodes=[];let o;this.level===0&&Array.isArray(this.data)?o=this.data:o=rm(this,"children")||[];for(let i=0,l=o.length;i<l;i++)this.insertChild({data:o[i]})}get label(){return rm(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return rm(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const o=n.childNodes.indexOf(this);if(o>-1)return n.childNodes[o+1]}return null}get previousSibling(){const n=this.parent;if(n){const o=n.childNodes.indexOf(this);if(o>-1)return o>0?n.childNodes[o-1]:null}return null}contains(n,o=!0){return(this.childNodes||[]).some(i=>i===n||o&&i.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,o,i){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof Nm)){if(!i){const l=this.getChildren(!0);l.includes(n.data)||(typeof o>"u"||o<0?l.push(n.data):l.splice(o,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=Qt(new Nm(n)),n instanceof Nm&&n.initialize()}n.level=this.level+1,typeof o>"u"||o<0?this.childNodes.push(n):this.childNodes.splice(o,0,n),this.updateLeafState()}insertBefore(n,o){let i;o&&(i=this.childNodes.indexOf(o)),this.insertChild(n,i)}insertAfter(n,o){let i;o&&(i=this.childNodes.indexOf(o),i!==-1&&(i+=1)),this.insertChild(n,i)}removeChild(n){const o=this.getChildren()||[],i=o.indexOf(n.data);i>-1&&o.splice(i,1);const l=this.childNodes.indexOf(n);l>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice(l,1)),this.updateLeafState()}removeChildByData(n){let o=null;for(let i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===n){o=this.childNodes[i];break}o&&this.removeChild(o)}expand(n,o){const i=()=>{if(o){let l=this.parent;for(;l.level>0;)l.expanded=!0,l=l.parent}this.expanded=!0,n&&n(),this.childNodes.forEach(l=>{l.canFocus=!0})};this.shouldLoadData()?this.loadData(l=>{Array.isArray(l)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Qd(this),i())}):i()}doCreateChildren(n,o={}){n.forEach(i=>{this.insertChild(Object.assign({data:i},o),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,o,i,l){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:u,allWithoutDisable:h}=Sy(this.childNodes);!this.isLeaf&&!u&&h&&(this.checked=!1,n=!1);const p=()=>{if(o){const f=this.childNodes;for(let _=0,b=f.length;_<b;_++){const T=f[_];l=l||n!==!1;const $=T.disabled?T.checked:l;T.setChecked($,o,!0,l)}const{half:g,all:m}=Sy(f);m||(this.checked=m,this.indeterminate=g)}};if(this.shouldLoadData()){this.loadData(()=>{p(),Qd(this)},{checked:n!==!1});return}else p()}const a=this.parent;!a||a.level===0||i||Qd(a)}getChildren(n=!1){if(this.level===0)return this.data;const o=this.data;if(!o)return null;const i=this.store.props;let l="children";return i&&(l=i.children||"children"),o[l]===void 0&&(o[l]=null),n&&!o[l]&&(o[l]=[]),o[l]}updateChildren(){const n=this.getChildren()||[],o=this.childNodes.map(a=>a.data),i={},l=[];n.forEach((a,u)=>{const h=a[dc];!!h&&o.findIndex(f=>f[dc]===h)>=0?i[h]={index:u,data:a}:l.push({index:u,data:a})}),this.store.lazy||o.forEach(a=>{i[a[dc]]||this.removeChildByData(a)}),l.forEach(({index:a,data:u})=>{this.insertChild({data:u},a)}),this.updateLeafState()}loadData(n,o={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(o).length)){this.loading=!0;const i=a=>{this.childNodes=[],this.doCreateChildren(a,o),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,a)},l=()=>{this.loading=!1};this.store.load(this,i,l)}else n&&n.call(this)}eachNode(n){const o=[this];for(;o.length;){const i=o.shift();o.unshift(...i.childNodes),n(i)}}reInitChecked(){this.store.checkStrictly||Qd(this)}};class $ae{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const o in n)Xt(n,o)&&(this[o]=n[o]);this.nodesMap={}}initialize(){if(this.root=new Iy({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,o=>{this.root.doCreateChildren(o),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const o=this.filterNodeMethod,i=this.lazy,l=function(a){const u=a.root?a.root.childNodes:a.childNodes;if(u.forEach(h=>{h.visible=o.call(h,n,h.data,h),l(h)}),!a.visible&&u.length){let h=!0;h=!u.some(p=>p.visible),a.root?a.root.visible=h===!1:a.visible=h===!1}n&&a.visible&&!a.isLeaf&&(!i||a.loaded)&&a.expand()};l(this)}setData(n){n!==this.root.data?(this.root.setData(n),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(n){if(n instanceof Iy)return n;const o=xt(n)?P0(this.key,n):n;return this.nodesMap[o]||null}insertBefore(n,o){const i=this.getNode(o);i.parent.insertBefore({data:n},i)}insertAfter(n,o){const i=this.getNode(o);i.parent.insertAfter({data:n},i)}remove(n){const o=this.getNode(n);o&&o.parent&&(o===this.currentNode&&(this.currentNode=null),o.parent.removeChild(o))}append(n,o){const i=xa(o)?this.root:this.getNode(o);i&&i.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],o=this.nodesMap;n.forEach(i=>{const l=o[i];l&&l.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const o=this.key;!n||!n.data||(o?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(i=>{this.deregisterNode(i)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,o=!1){const i=[],l=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(h=>{(h.checked||o&&h.indeterminate)&&(!n||n&&h.isLeaf)&&i.push(h.data),l(h)})};return l(this),i}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(o=>(o||{})[this.key])}getHalfCheckedNodes(){const n=[],o=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(a=>{a.indeterminate&&n.push(a.data),o(a)})};return o(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],o=this.nodesMap;for(const i in o)Xt(o,i)&&n.push(o[i]);return n}updateChildren(n,o){const i=this.nodesMap[n];if(!i)return;const l=i.childNodes;for(let a=l.length-1;a>=0;a--){const u=l[a];this.remove(u.data)}for(let a=0,u=o.length;a<u;a++){const h=o[a];this.append(h,i.data)}}_setCheckedKeys(n,o=!1,i){const l=this._getAllNodes().sort((p,f)=>p.level-f.level),a=Object.create(null),u=Object.keys(i);l.forEach(p=>p.setChecked(!1,!1));const h=p=>{p.childNodes.forEach(f=>{var g;a[f.data[n]]=!0,(g=f.childNodes)!=null&&g.length&&h(f)})};for(let p=0,f=l.length;p<f;p++){const g=l[p],m=g.data[n].toString();if(!u.includes(m)){g.checked&&!a[m]&&g.setChecked(!1,!1);continue}if(g.childNodes.length&&h(g),g.isLeaf||this.checkStrictly){g.setChecked(!0,!1);continue}if(g.setChecked(!0,!0),o){g.setChecked(!1,!1);const b=function(T){T.childNodes.forEach(E=>{E.isLeaf||E.setChecked(!1,!1),b(E)})};b(g)}}}setCheckedNodes(n,o=!1){const i=this.key,l={};n.forEach(a=>{l[(a||{})[i]]=!0}),this._setCheckedKeys(i,o,l)}setCheckedKeys(n,o=!1){this.defaultCheckedKeys=n;const i=this.key,l={};n.forEach(a=>{l[a]=!0}),this._setCheckedKeys(i,o,l)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(o=>{const i=this.getNode(o);i&&i.expand(null,this.autoExpandParent)})}setChecked(n,o,i){const l=this.getNode(n);l&&l.setChecked(!!o,i)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const o=this.currentNode;o&&(o.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,o=!0){const i=n[this.key],l=this.nodesMap[i];this.setCurrentNode(l),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,o=!0){if(n==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const i=this.getNode(n);i&&(this.setCurrentNode(i),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const vae=ne({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const n=xe("tree"),o=it("NodeInstance"),i=it("RootTree");return()=>{const l=t.node,{data:a,store:u}=l;return t.renderContent?t.renderContent(ft,{_self:o,node:l,data:a,store:u}):Te(i.ctx.slots,"default",{node:l,data:a},()=>[ft("span",{class:n.be("node","label")},[l.label])])}}});var _ae=We(vae,[["__file","tree-node-content.vue"]]);function HP(t){const n=it("TreeNodeMap",null),o={treeNodeExpand:i=>{t.node!==i&&t.node.collapse()},children:[]};return n&&n.children.push(o),Ut("TreeNodeMap",o),{broadcastExpanded:i=>{if(t.accordion)for(const l of o.children)l.treeNodeExpand(i)}}}const VP=Symbol("dragEvents");function bae({props:t,ctx:n,el$:o,dropIndicator$:i,store:l}){const a=xe("tree"),u=V({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Ut(VP,{treeNodeDragStart:({event:g,treeNode:m})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(m.node))return g.preventDefault(),!1;g.dataTransfer.effectAllowed="move";try{g.dataTransfer.setData("text/plain","")}catch{}u.value.draggingNode=m,n.emit("node-drag-start",m.node,g)},treeNodeDragOver:({event:g,treeNode:m})=>{const _=m,b=u.value.dropNode;b&&b.node.id!==_.node.id&&Po(b.$el,a.is("drop-inner"));const T=u.value.draggingNode;if(!T||!_)return;let $=!0,E=!0,y=!0,I=!0;typeof t.allowDrop=="function"&&($=t.allowDrop(T.node,_.node,"prev"),I=E=t.allowDrop(T.node,_.node,"inner"),y=t.allowDrop(T.node,_.node,"next")),g.dataTransfer.dropEffect=E||$||y?"move":"none",($||E||y)&&(b==null?void 0:b.node.id)!==_.node.id&&(b&&n.emit("node-drag-leave",T.node,b.node,g),n.emit("node-drag-enter",T.node,_.node,g)),$||E||y?u.value.dropNode=_:u.value.dropNode=null,_.node.nextSibling===T.node&&(y=!1),_.node.previousSibling===T.node&&($=!1),_.node.contains(T.node,!1)&&(E=!1),(T.node===_.node||T.node.contains(_.node))&&($=!1,E=!1,y=!1);const C=_.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),S=o.value.getBoundingClientRect();let R;const O=$?E?.25:y?.45:1:-1,P=y?E?.75:$?.55:0:1;let M=-9999;const H=g.clientY-C.top;H<C.height*O?R="before":H>C.height*P?R="after":E?R="inner":R="none";const F=_.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),B=i.value;R==="before"?M=F.top-S.top:R==="after"&&(M=F.bottom-S.top),B.style.top=`${M}px`,B.style.left=`${F.right-S.left}px`,R==="inner"?Bs(_.$el,a.is("drop-inner")):Po(_.$el,a.is("drop-inner")),u.value.showDropIndicator=R==="before"||R==="after",u.value.allowDrop=u.value.showDropIndicator||I,u.value.dropType=R,n.emit("node-drag-over",T.node,_.node,g)},treeNodeDragEnd:g=>{const{draggingNode:m,dropType:_,dropNode:b}=u.value;if(g.preventDefault(),g.dataTransfer.dropEffect="move",m&&b){const T={data:m.node.data};_!=="none"&&m.node.remove(),_==="before"?b.node.parent.insertBefore(T,b.node):_==="after"?b.node.parent.insertAfter(T,b.node):_==="inner"&&b.node.insertChild(T),_!=="none"&&(l.value.registerNode(T),l.value.key&&m.node.eachNode($=>{var E;(E=l.value.nodesMap[$.data[l.value.key]])==null||E.setChecked($.checked,!l.value.checkStrictly)})),Po(b.$el,a.is("drop-inner")),n.emit("node-drag-end",m.node,b.node,_,g),_!=="none"&&n.emit("node-drop",m.node,b.node,_,g)}m&&!b&&n.emit("node-drag-end",m.node,null,_,g),u.value.showDropIndicator=!1,u.value.draggingNode=null,u.value.dropNode=null,u.value.allowDrop=!0}}),{dragState:u}}const Tae=ne({name:"ElTreeNode",components:{ElCollapseTransition:Wg,ElCheckbox:Ys,NodeContent:_ae,ElIcon:at,Loading:Ll},props:{node:{type:Iy,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,n){const o=xe("tree"),{broadcastExpanded:i}=HP(t),l=it("RootTree"),a=V(!1),u=V(!1),h=V(null),p=V(null),f=V(null),g=it(VP),m=Mt();Ut("NodeInstance",m),t.node.expanded&&(a.value=!0,u.value=!0);const _=l.props.props.children||"children";Me(()=>{const H=t.node.data[_];return H&&[...H]},()=>{t.node.updateChildren()}),Me(()=>t.node.indeterminate,H=>{$(t.node.checked,H)}),Me(()=>t.node.checked,H=>{$(H,t.node.indeterminate)}),Me(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),Me(()=>t.node.expanded,H=>{pt(()=>a.value=H),H&&(u.value=!0)});const b=H=>P0(l.props.nodeKey,H.data),T=H=>{const F=t.props.class;if(!F)return{};let B;if(_t(F)){const{data:K}=H;B=F(K,H)}else B=F;return yt(B)?{[B]:!0}:B},$=(H,F)=>{(h.value!==H||p.value!==F)&&l.ctx.emit("check-change",t.node.data,H,F),h.value=H,p.value=F},E=H=>{Cy(l.store,l.ctx.emit,()=>l.store.value.setCurrentNode(t.node)),l.currentNode.value=t.node,l.props.expandOnClickNode&&I(),l.props.checkOnClickNode&&!t.node.disabled&&C(null,{target:{checked:!t.node.checked}}),l.ctx.emit("node-click",t.node.data,t.node,m,H)},y=H=>{l.instance.vnode.props.onNodeContextmenu&&(H.stopPropagation(),H.preventDefault()),l.ctx.emit("node-contextmenu",H,t.node.data,t.node,m)},I=()=>{t.node.isLeaf||(a.value?(l.ctx.emit("node-collapse",t.node.data,t.node,m),t.node.collapse()):(t.node.expand(),n.emit("node-expand",t.node.data,t.node,m)))},C=(H,F)=>{t.node.setChecked(F.target.checked,!l.props.checkStrictly),pt(()=>{const B=l.store.value;l.ctx.emit("check",t.node.data,{checkedNodes:B.getCheckedNodes(),checkedKeys:B.getCheckedKeys(),halfCheckedNodes:B.getHalfCheckedNodes(),halfCheckedKeys:B.getHalfCheckedKeys()})})};return{ns:o,node$:f,tree:l,expanded:a,childNodeRendered:u,oldChecked:h,oldIndeterminate:p,getNodeKey:b,getNodeClass:T,handleSelectChange:$,handleClick:E,handleContextMenu:y,handleExpandIconClick:I,handleCheckChange:C,handleChildNodeExpand:(H,F,B)=>{i(F),l.ctx.emit("node-expand",H,F,B)},handleDragStart:H=>{l.props.draggable&&g.treeNodeDragStart({event:H,treeNode:t})},handleDragOver:H=>{H.preventDefault(),l.props.draggable&&g.treeNodeDragOver({event:H,treeNode:{$el:f.value,node:t.node}})},handleDrop:H=>{H.preventDefault()},handleDragEnd:H=>{l.props.draggable&&g.treeNodeDragEnd(H)},CaretRight:SE}}}),yae=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Eae=["aria-expanded"];function Cae(t,n,o,i,l,a){const u=Nt("el-icon"),h=Nt("el-checkbox"),p=Nt("loading"),f=Nt("node-content"),g=Nt("el-tree-node"),m=Nt("el-collapse-transition");return Rt((N(),Y("div",{ref:"node$",class:L([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:n[1]||(n[1]=bt((..._)=>t.handleClick&&t.handleClick(..._),["stop"])),onContextmenu:n[2]||(n[2]=(..._)=>t.handleContextMenu&&t.handleContextMenu(..._)),onDragstart:n[3]||(n[3]=bt((..._)=>t.handleDragStart&&t.handleDragStart(..._),["stop"])),onDragover:n[4]||(n[4]=bt((..._)=>t.handleDragOver&&t.handleDragOver(..._),["stop"])),onDragend:n[5]||(n[5]=bt((..._)=>t.handleDragEnd&&t.handleDragEnd(..._),["stop"])),onDrop:n[6]||(n[6]=bt((..._)=>t.handleDrop&&t.handleDrop(..._),["stop"]))},[Q("div",{class:L(t.ns.be("node","content")),style:ct({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(N(),be(u,{key:0,class:L([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:bt(t.handleExpandIconClick,["stop"])},{default:ce(()=>[(N(),be(Ft(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):$e("v-if",!0),t.showCheckbox?(N(),be(h,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:n[0]||(n[0]=bt(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):$e("v-if",!0),t.node.loading?(N(),be(u,{key:2,class:L([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:ce(()=>[ie(p)]),_:1},8,["class"])):$e("v-if",!0),ie(f,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),ie(m,null,{default:ce(()=>[!t.renderAfterExpand||t.childNodeRendered?Rt((N(),Y("div",{key:0,class:L(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(N(!0),Y(dt,null,zt(t.node.childNodes,_=>(N(),be(g,{key:t.getNodeKey(_),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:_,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Eae)),[[qt,t.expanded]]):$e("v-if",!0)]),_:1})],42,yae)),[[qt,t.node.visible]])}var Sae=We(Tae,[["render",Cae],["__file","tree-node.vue"]]);function Iae({el$:t},n){const o=xe("tree"),i=_n([]),l=_n([]);At(()=>{u()}),Rr(()=>{i.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),l.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),Me(l,h=>{h.forEach(p=>{p.setAttribute("tabindex","-1")})}),gn(t,"keydown",h=>{const p=h.target;if(!p.className.includes(o.b("node")))return;const f=h.code;i.value=Array.from(t.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`));const g=i.value.indexOf(p);let m;if([mt.up,mt.down].includes(f)){if(h.preventDefault(),f===mt.up){m=g===-1?0:g!==0?g-1:i.value.length-1;const b=m;for(;!n.value.getNode(i.value[m].dataset.key).canFocus;){if(m--,m===b){m=-1;break}m<0&&(m=i.value.length-1)}}else{m=g===-1?0:g<i.value.length-1?g+1:0;const b=m;for(;!n.value.getNode(i.value[m].dataset.key).canFocus;){if(m++,m===b){m=-1;break}m>=i.value.length&&(m=0)}}m!==-1&&i.value[m].focus()}[mt.left,mt.right].includes(f)&&(h.preventDefault(),p.click());const _=p.querySelector('[type="checkbox"]');[mt.enter,mt.space].includes(f)&&_&&(h.preventDefault(),_.click())});const u=()=>{var h;i.value=Array.from(t.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`)),l.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const p=t.value.querySelectorAll(`.${o.is("checked")}[role=treeitem]`);if(p.length){p[0].setAttribute("tabindex","0");return}(h=i.value[0])==null||h.setAttribute("tabindex","0")}}const wae=ne({name:"ElTree",components:{ElTreeNode:Sae},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:ln}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,n){const{t:o}=Yt(),i=xe("tree"),l=it(zc,null),a=V(new $ae({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));a.value.initialize();const u=V(a.value.root),h=V(null),p=V(null),f=V(null),{broadcastExpanded:g}=HP(t),{dragState:m}=bae({props:t,ctx:n,el$:p,dropIndicator$:f,store:a});Iae({el$:p},a);const _=w(()=>{const{childNodes:W}=u.value,D=l?l.hasFilteredOptions!==0:!1;return(!W||W.length===0||W.every(({visible:X})=>!X))&&!D});Me(()=>t.currentNodeKey,W=>{a.value.setCurrentNodeKey(W)}),Me(()=>t.defaultCheckedKeys,W=>{a.value.setDefaultCheckedKey(W)}),Me(()=>t.defaultExpandedKeys,W=>{a.value.setDefaultExpandedKeys(W)}),Me(()=>t.data,W=>{a.value.setData(W)},{deep:!0}),Me(()=>t.checkStrictly,W=>{a.value.checkStrictly=W});const b=W=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(W)},T=W=>P0(t.nodeKey,W.data),$=W=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const D=a.value.getNode(W);if(!D)return[];const X=[D.data];let oe=D.parent;for(;oe&&oe!==u.value;)X.push(oe.data),oe=oe.parent;return X.reverse()},E=(W,D)=>a.value.getCheckedNodes(W,D),y=W=>a.value.getCheckedKeys(W),I=()=>{const W=a.value.getCurrentNode();return W?W.data:null},C=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const W=I();return W?W[t.nodeKey]:null},S=(W,D)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(W,D)},R=(W,D)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(W,D)},O=(W,D,X)=>{a.value.setChecked(W,D,X)},P=()=>a.value.getHalfCheckedNodes(),M=()=>a.value.getHalfCheckedKeys(),H=(W,D=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Cy(a,n.emit,()=>a.value.setUserCurrentNode(W,D))},F=(W,D=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Cy(a,n.emit,()=>a.value.setCurrentNodeKey(W,D))},B=W=>a.value.getNode(W),K=W=>{a.value.remove(W)},te=(W,D)=>{a.value.append(W,D)},Z=(W,D)=>{a.value.insertBefore(W,D)},j=(W,D)=>{a.value.insertAfter(W,D)},z=(W,D,X)=>{g(D),n.emit("node-expand",W,D,X)},G=(W,D)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(W,D)};return Ut("RootTree",{ctx:n,props:t,store:a,root:u,currentNode:h,instance:Mt()}),Ut(zi,void 0),{ns:i,store:a,root:u,currentNode:h,dragState:m,el$:p,dropIndicator$:f,isEmpty:_,filter:b,getNodeKey:T,getNodePath:$,getCheckedNodes:E,getCheckedKeys:y,getCurrentNode:I,getCurrentKey:C,setCheckedNodes:S,setCheckedKeys:R,setChecked:O,getHalfCheckedNodes:P,getHalfCheckedKeys:M,setCurrentNode:H,setCurrentKey:F,t:o,getNode:B,remove:K,append:te,insertBefore:Z,insertAfter:j,handleNodeExpand:z,updateKeyChildren:G}}});function kae(t,n,o,i,l,a){const u=Nt("el-tree-node");return N(),Y("div",{ref:"el$",class:L([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(N(!0),Y(dt,null,zt(t.root.childNodes,h=>(N(),be(u,{key:t.getNodeKey(h),node:h,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(N(),Y("div",{key:0,class:L(t.ns.e("empty-block"))},[Te(t.$slots,"empty",{},()=>{var h;return[Q("span",{class:L(t.ns.e("empty-text"))},ze((h=t.emptyText)!=null?h:t.t("el.tree.emptyText")),3)]})],2)):$e("v-if",!0),Rt(Q("div",{ref:"dropIndicator$",class:L(t.ns.e("drop-indicator"))},null,2),[[qt,t.dragState.showDropIndicator]])],2)}var Lm=We(wae,[["render",kae],["__file","tree.vue"]]);Lm.install=t=>{t.component(Lm.name,Lm)};const dg=Lm,Oae=dg,Rae=(t,{attrs:n,emit:o},{select:i,tree:l,key:a})=>{const u=xe("tree-select");return Me(()=>t.data,()=>{t.filterable&&pt(()=>{var p,f;(f=l.value)==null||f.filter((p=i.value)==null?void 0:p.states.inputValue)})},{flush:"post"}),{...xi(fo(t),Object.keys(Va.props)),...n,"onUpdate:modelValue":p=>o(Bt,p),valueKey:a,popperClass:w(()=>{const p=[u.e("popper")];return t.popperClass&&p.push(t.popperClass),p.join(" ")}),filterMethod:(p="")=>{var f;t.filterMethod?t.filterMethod(p):t.remoteMethod?t.remoteMethod(p):(f=l.value)==null||f.filter(p)}}},Aae=ne({extends:og,setup(t,n){const o=og.setup(t,n);delete o.selectOptionClick;const i=Mt().proxy;return pt(()=>{o.select.states.cachedOptions.get(i.value)||o.select.onOptionCreate(i)}),o},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function wy(t){return t||t===0}function x0(t){return Array.isArray(t)&&t.length}function qd(t){return Array.isArray(t)?t:wy(t)?[t]:[]}function Mm(t,n,o,i,l){for(let a=0;a<t.length;a++){const u=t[a];if(n(u,a,t,l))return i?i(u,a,t,l):u;{const h=o(u);if(x0(h)){const p=Mm(h,n,o,i,u);if(p)return p}}}}function ky(t,n,o,i){for(let l=0;l<t.length;l++){const a=t[l];n(a,l,t,i);const u=o(a);x0(u)&&ky(u,n,o,a)}}const Nae=(t,{attrs:n,slots:o,emit:i},{select:l,tree:a,key:u})=>{Me(()=>t.modelValue,()=>{t.showCheckbox&&pt(()=>{const m=a.value;m&&!Do(m.getCheckedKeys(),qd(t.modelValue))&&m.setCheckedKeys(qd(t.modelValue))})},{immediate:!0,deep:!0});const h=w(()=>({value:u.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),p=(m,_)=>{var b;const T=h.value[m];return _t(T)?T(_,(b=a.value)==null?void 0:b.getNode(p("value",_))):_[T]},f=qd(t.modelValue).map(m=>Mm(t.data||[],_=>p("value",_)===m,_=>p("children",_),(_,b,T,$)=>$&&p("value",$))).filter(m=>wy(m)),g=w(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const m=[];return ky(t.data.concat(t.cacheData),_=>{const b=p("value",_);m.push({value:b,currentLabel:p("label",_),isDisabled:p("disabled",_)})},_=>p("children",_)),m});return{...xi(fo(t),Object.keys(dg.props)),...n,nodeKey:u,expandOnClickNode:w(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:w(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(f):f),renderContent:(m,{node:_,data:b,store:T})=>m(Aae,{value:p("value",b),label:p("label",b),disabled:p("disabled",b)},t.renderContent?()=>t.renderContent(m,{node:_,data:b,store:T}):o.default?()=>o.default({node:_,data:b,store:T}):void 0),filterNodeMethod:(m,_,b)=>t.filterNodeMethod?t.filterNodeMethod(m,_,b):m?new RegExp(yE(m),"i").test(p("label",_)||""):!0,onNodeClick:(m,_,b)=>{var T,$,E,y;if((T=n.onNodeClick)==null||T.call(n,m,_,b),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||_.isLeaf)){if(!p("disabled",m)){const I=($=l.value)==null?void 0:$.states.options.get(p("value",m));(E=l.value)==null||E.handleOptionSelect(I)}}else t.expandOnClickNode&&b.proxy.handleExpandIconClick();(y=l.value)==null||y.focus()}},onCheck:(m,_)=>{var b;if(!t.showCheckbox)return;const T=p("value",m),$={};ky([a.value.store.root],C=>$[C.key]=C,C=>C.childNodes);const E=_.checkedKeys,y=t.multiple?qd(t.modelValue).filter(C=>!(C in $)&&!E.includes(C)):[],I=y.concat(E);if(t.checkStrictly)i(Bt,t.multiple?I:I.includes(T)?T:void 0);else if(t.multiple)i(Bt,y.concat(a.value.getCheckedKeys(!0)));else{const C=Mm([m],O=>!x0(p("children",O))&&!p("disabled",O),O=>p("children",O)),S=C?p("value",C):void 0,R=wy(t.modelValue)&&!!Mm([m],O=>p("value",O)===t.modelValue,O=>p("children",O));i(Bt,S===t.modelValue||R?void 0:S)}pt(()=>{var C;const S=qd(t.modelValue);a.value.setCheckedKeys(S),(C=n.onCheck)==null||C.call(n,m,{checkedKeys:a.value.getCheckedKeys(),checkedNodes:a.value.getCheckedNodes(),halfCheckedKeys:a.value.getHalfCheckedKeys(),halfCheckedNodes:a.value.getHalfCheckedNodes()})}),(b=l.value)==null||b.focus()},cacheOptions:g}};var Lae=ne({props:{data:{type:Array,default:()=>[]}},setup(t){const n=it(zc);return Me(()=>t.data,()=>{var o;t.data.forEach(l=>{n.states.cachedOptions.has(l.value)||n.states.cachedOptions.set(l.value,l)});const i=((o=n.selectRef)==null?void 0:o.querySelectorAll("input"))||[];Array.from(i).includes(document.activeElement)||n.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Mae=ne({name:"ElTreeSelect",inheritAttrs:!1,props:{...Va.props,...dg.props,cacheData:{type:Array,default:()=>[]}},setup(t,n){const{slots:o,expose:i}=n,l=V(),a=V(),u=w(()=>t.nodeKey||t.valueKey||"value"),h=Rae(t,n,{select:l,tree:a,key:u}),{cacheOptions:p,...f}=Nae(t,n,{select:l,tree:a,key:u}),g=Qt({});return i(g),At(()=>{Object.assign(g,{...xi(a.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...xi(l.value,["focus","blur"])})}),()=>ft(Va,Qt({...h,ref:m=>l.value=m}),{...o,default:()=>[ft(Lae,{data:p.value}),ft(dg,Qt({...f,ref:m=>a.value=m}))]})}});var Dm=We(Mae,[["__file","tree-select.vue"]]);Dm.install=t=>{t.component(Dm.name,Dm)};const Dae=Dm,Pae=Dae,B0=Symbol(),xae={key:-1,level:-1,data:{}};var eh=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(eh||{}),Oy=(t=>(t.ADD="add",t.DELETE="delete",t))(Oy||{});const UP={type:Number,default:26},Bae=Ue({data:{type:fe(Array),default:()=>wn([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:fe(Object),default:()=>wn({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:fe(Array),default:()=>wn([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:fe(Array),default:()=>wn([])},indent:{type:Number,default:16},itemSize:UP,icon:{type:ln},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:fe([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:fe(Function)},perfMode:{type:Boolean,default:!0}}),Fae=Ue({node:{type:fe(Object),default:()=>wn(xae)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:UP}),Hae=Ue({node:{type:fe(Object),required:!0}}),GP="node-click",WP="node-expand",zP="node-collapse",KP="current-change",XP="check",YP="check-change",jP="node-contextmenu",Vae={[GP]:(t,n,o)=>t&&n&&o,[WP]:(t,n)=>t&&n,[zP]:(t,n)=>t&&n,[KP]:(t,n)=>t&&n,[XP]:(t,n)=>t&&n,[YP]:(t,n)=>t&&typeof n=="boolean",[jP]:(t,n,o)=>t&&n&&o},Uae={click:(t,n)=>!!(t&&n),toggle:t=>!!t,check:(t,n)=>t&&typeof n=="boolean"};function Gae(t,n){const o=V(new Set),i=V(new Set),{emit:l}=Mt();Me([()=>n.value,()=>t.defaultCheckedKeys],()=>pt(()=>{I(t.defaultCheckedKeys)}),{immediate:!0});const a=()=>{if(!n.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:C,maxLevel:S}=n.value,R=o.value,O=new Set;for(let P=S-1;P>=1;--P){const M=C.get(P);M&&M.forEach(H=>{const F=H.children;if(F){let B=!0,K=!1;for(const te of F){const Z=te.key;if(R.has(Z))K=!0;else if(O.has(Z)){B=!1,K=!0;break}else B=!1}B?R.add(H.key):K?(O.add(H.key),R.delete(H.key)):(R.delete(H.key),O.delete(H.key))}})}i.value=O},u=C=>o.value.has(C.key),h=C=>i.value.has(C.key),p=(C,S,R=!0)=>{const O=o.value,P=(M,H)=>{O[H?Oy.ADD:Oy.DELETE](M.key);const F=M.children;!t.checkStrictly&&F&&F.forEach(B=>{B.disabled||P(B,H)})};P(C,S),a(),R&&f(C,S)},f=(C,S)=>{const{checkedNodes:R,checkedKeys:O}=T(),{halfCheckedNodes:P,halfCheckedKeys:M}=$();l(XP,C.data,{checkedKeys:O,checkedNodes:R,halfCheckedKeys:M,halfCheckedNodes:P}),l(YP,C.data,S)};function g(C=!1){return T(C).checkedKeys}function m(C=!1){return T(C).checkedNodes}function _(){return $().halfCheckedKeys}function b(){return $().halfCheckedNodes}function T(C=!1){const S=[],R=[];if(n!=null&&n.value&&t.showCheckbox){const{treeNodeMap:O}=n.value;o.value.forEach(P=>{const M=O.get(P);M&&(!C||C&&M.isLeaf)&&(R.push(P),S.push(M.data))})}return{checkedKeys:R,checkedNodes:S}}function $(){const C=[],S=[];if(n!=null&&n.value&&t.showCheckbox){const{treeNodeMap:R}=n.value;i.value.forEach(O=>{const P=R.get(O);P&&(S.push(O),C.push(P.data))})}return{halfCheckedNodes:C,halfCheckedKeys:S}}function E(C){o.value.clear(),i.value.clear(),pt(()=>{I(C)})}function y(C,S){if(n!=null&&n.value&&t.showCheckbox){const R=n.value.treeNodeMap.get(C);R&&p(R,S,!1)}}function I(C){if(n!=null&&n.value){const{treeNodeMap:S}=n.value;if(t.showCheckbox&&S&&C)for(const R of C){const O=S.get(R);O&&!u(O)&&p(O,!0,!1)}}}return{updateCheckedKeys:a,toggleCheckbox:p,isChecked:u,isIndeterminate:h,getCheckedKeys:g,getCheckedNodes:m,getHalfCheckedKeys:_,getHalfCheckedNodes:b,setChecked:y,setCheckedKeys:E}}function Wae(t,n){const o=V(new Set([])),i=V(new Set([])),l=w(()=>_t(t.filterMethod));function a(h){var p;if(!l.value)return;const f=new Set,g=i.value,m=o.value,_=[],b=((p=n.value)==null?void 0:p.treeNodes)||[],T=t.filterMethod;m.clear();function $(E){E.forEach(y=>{_.push(y),T!=null&&T(h,y.data)?_.forEach(C=>{f.add(C.key)}):y.isLeaf&&m.add(y.key);const I=y.children;if(I&&$(I),!y.isLeaf){if(!f.has(y.key))m.add(y.key);else if(I){let C=!0;for(const S of I)if(!m.has(S.key)){C=!1;break}C?g.add(y.key):g.delete(y.key)}}_.pop()})}return $(b),f}function u(h){return i.value.has(h.key)}return{hiddenExpandIconKeySet:i,hiddenNodeKeySet:o,doFilter:a,isForceHiddenExpandIcon:u}}function zae(t,n){const o=V(new Set(t.defaultExpandedKeys)),i=V(),l=_n();Me(()=>t.currentNodeKey,_e=>{i.value=_e},{immediate:!0}),Me(()=>t.data,_e=>{de(_e)},{immediate:!0});const{isIndeterminate:a,isChecked:u,toggleCheckbox:h,getCheckedKeys:p,getCheckedNodes:f,getHalfCheckedKeys:g,getHalfCheckedNodes:m,setChecked:_,setCheckedKeys:b}=Gae(t,l),{doFilter:T,hiddenNodeKeySet:$,isForceHiddenExpandIcon:E}=Wae(t,l),y=w(()=>{var _e;return((_e=t.props)==null?void 0:_e.value)||eh.KEY}),I=w(()=>{var _e;return((_e=t.props)==null?void 0:_e.children)||eh.CHILDREN}),C=w(()=>{var _e;return((_e=t.props)==null?void 0:_e.disabled)||eh.DISABLED}),S=w(()=>{var _e;return((_e=t.props)==null?void 0:_e.label)||eh.LABEL}),R=w(()=>{const _e=o.value,Ke=$.value,ve=[],Ne=l.value&&l.value.treeNodes||[];function He(){const ae=[];for(let he=Ne.length-1;he>=0;--he)ae.push(Ne[he]);for(;ae.length;){const he=ae.pop();if(he&&(Ke.has(he.key)||ve.push(he),_e.has(he.key))){const Ae=he.children;if(Ae){const Fe=Ae.length;for(let Ce=Fe-1;Ce>=0;--Ce)ae.push(Ae[Ce])}}}}return He(),ve}),O=w(()=>R.value.length>0);function P(_e){const Ke=new Map,ve=new Map;let Ne=1;function He(he,Ae=1,Fe=void 0){var Ce;const De=[];for(const Ve of he){const ue=F(Ve),we={level:Ae,key:ue,data:Ve};we.label=K(Ve),we.parent=Fe;const ke=H(Ve);we.disabled=B(Ve),we.isLeaf=!ke||ke.length===0,ke&&ke.length&&(we.children=He(ke,Ae+1,we)),De.push(we),Ke.set(ue,we),ve.has(Ae)||ve.set(Ae,[]),(Ce=ve.get(Ae))==null||Ce.push(we)}return Ae>Ne&&(Ne=Ae),De}const ae=He(_e);return{treeNodeMap:Ke,levelTreeNodeMap:ve,maxLevel:Ne,treeNodes:ae}}function M(_e){const Ke=T(_e);Ke&&(o.value=Ke)}function H(_e){return _e[I.value]}function F(_e){return _e?_e[y.value]:""}function B(_e){return _e[C.value]}function K(_e){return _e[S.value]}function te(_e){o.value.has(_e.key)?D(_e):W(_e)}function Z(_e){o.value=new Set(_e)}function j(_e,Ke){n(GP,_e.data,_e,Ke),z(_e),t.expandOnClickNode&&te(_e),t.showCheckbox&&t.checkOnClickNode&&!_e.disabled&&h(_e,!u(_e),!0)}function z(_e){le(_e)||(i.value=_e.key,n(KP,_e.data,_e))}function G(_e,Ke){h(_e,Ke)}function W(_e){const Ke=o.value;if(l.value&&t.accordion){const{treeNodeMap:ve}=l.value;Ke.forEach(Ne=>{const He=ve.get(Ne);_e&&_e.level===(He==null?void 0:He.level)&&Ke.delete(Ne)})}Ke.add(_e.key),n(WP,_e.data,_e)}function D(_e){o.value.delete(_e.key),n(zP,_e.data,_e)}function X(_e){return o.value.has(_e.key)}function oe(_e){return!!_e.disabled}function le(_e){const Ke=i.value;return Ke!==void 0&&Ke===_e.key}function me(){var _e,Ke;if(i.value)return(Ke=(_e=l.value)==null?void 0:_e.treeNodeMap.get(i.value))==null?void 0:Ke.data}function Se(){return i.value}function Pe(_e){i.value=_e}function de(_e){pt(()=>l.value=P(_e))}function ye(_e){var Ke;const ve=xt(_e)?F(_e):_e;return(Ke=l.value)==null?void 0:Ke.treeNodeMap.get(ve)}return{tree:l,flattenTree:R,isNotEmpty:O,getKey:F,getChildren:H,toggleExpand:te,toggleCheckbox:h,isExpanded:X,isChecked:u,isIndeterminate:a,isDisabled:oe,isCurrent:le,isForceHiddenExpandIcon:E,handleNodeClick:j,handleNodeCheck:G,getCurrentNode:me,getCurrentKey:Se,setCurrentKey:Pe,getCheckedKeys:p,getCheckedNodes:f,getHalfCheckedKeys:g,getHalfCheckedNodes:m,setChecked:_,setCheckedKeys:b,filter:M,setData:de,getNode:ye,expandNode:W,collapseNode:D,setExpandedKeys:Z}}var Kae=ne({name:"ElTreeNodeContent",props:Hae,setup(t){const n=it(B0),o=xe("tree");return()=>{const i=t.node,{data:l}=i;return n!=null&&n.ctx.slots.default?n.ctx.slots.default({node:i,data:l}):ft("span",{class:o.be("node","label")},[i==null?void 0:i.label])}}});const Xae=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],Yae=ne({name:"ElTreeNode"}),jae=ne({...Yae,props:Fae,emits:Uae,setup(t,{emit:n}){const o=t,i=it(B0),l=xe("tree"),a=w(()=>{var m;return(m=i==null?void 0:i.props.indent)!=null?m:16}),u=w(()=>{var m;return(m=i==null?void 0:i.props.icon)!=null?m:SE}),h=m=>{n("click",o.node,m)},p=()=>{n("toggle",o.node)},f=m=>{n("check",o.node,m)},g=m=>{var _,b,T,$;(T=(b=(_=i==null?void 0:i.instance)==null?void 0:_.vnode)==null?void 0:b.props)!=null&&T.onNodeContextmenu&&(m.stopPropagation(),m.preventDefault()),i==null||i.ctx.emit(jP,m,($=o.node)==null?void 0:$.data,o.node)};return(m,_)=>{var b,T,$;return N(),Y("div",{ref:"node$",class:L([c(l).b("node"),c(l).is("expanded",m.expanded),c(l).is("current",m.current),c(l).is("focusable",!m.disabled),c(l).is("checked",!m.disabled&&m.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":m.expanded,"aria-disabled":m.disabled,"aria-checked":m.checked,"data-key":(b=m.node)==null?void 0:b.key,onClick:bt(h,["stop"]),onContextmenu:g},[Q("div",{class:L(c(l).be("node","content")),style:ct({paddingLeft:`${(m.node.level-1)*c(a)}px`,height:m.itemSize+"px"})},[c(u)?(N(),be(c(at),{key:0,class:L([c(l).is("leaf",!!((T=m.node)!=null&&T.isLeaf)),c(l).is("hidden",m.hiddenExpandIcon),{expanded:!(($=m.node)!=null&&$.isLeaf)&&m.expanded},c(l).be("node","expand-icon")]),onClick:bt(p,["stop"])},{default:ce(()=>[(N(),be(Ft(c(u))))]),_:1},8,["class","onClick"])):$e("v-if",!0),m.showCheckbox?(N(),be(c(Ys),{key:1,"model-value":m.checked,indeterminate:m.indeterminate,disabled:m.disabled,onChange:f,onClick:_[0]||(_[0]=bt(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):$e("v-if",!0),ie(c(Kae),{node:m.node},null,8,["node"])],6)],42,Xae)}}});var qae=We(jae,[["__file","tree-node.vue"]]);const Jae=ne({name:"ElTreeV2"}),Zae=ne({...Jae,props:Bae,emits:Vae,setup(t,{expose:n,emit:o}){const i=t,l=ao(),a=w(()=>i.itemSize);Ut(B0,{ctx:{emit:o,slots:l},props:i,instance:Mt()}),Ut(zi,void 0);const{t:u}=Yt(),h=xe("tree"),{flattenTree:p,isNotEmpty:f,toggleExpand:g,isExpanded:m,isIndeterminate:_,isChecked:b,isDisabled:T,isCurrent:$,isForceHiddenExpandIcon:E,handleNodeClick:y,handleNodeCheck:I,toggleCheckbox:C,getCurrentNode:S,getCurrentKey:R,setCurrentKey:O,getCheckedKeys:P,getCheckedNodes:M,getHalfCheckedKeys:H,getHalfCheckedNodes:F,setChecked:B,setCheckedKeys:K,filter:te,setData:Z,getNode:j,expandNode:z,collapseNode:G,setExpandedKeys:W}=zae(i,o);return n({toggleCheckbox:C,getCurrentNode:S,getCurrentKey:R,setCurrentKey:O,getCheckedKeys:P,getCheckedNodes:M,getHalfCheckedKeys:H,getHalfCheckedNodes:F,setChecked:B,setCheckedKeys:K,filter:te,setData:Z,getNode:j,expandNode:z,collapseNode:G,setExpandedKeys:W}),(D,X)=>{var oe;return N(),Y("div",{class:L([c(h).b(),{[c(h).m("highlight-current")]:D.highlightCurrent}]),role:"tree"},[c(f)?(N(),be(c(QD),{key:0,"class-name":c(h).b("virtual-list"),data:c(p),total:c(p).length,height:D.height,"item-size":c(a),"perf-mode":D.perfMode},{default:ce(({data:le,index:me,style:Se})=>[(N(),be(qae,{key:le[me].key,style:ct(Se),node:le[me],expanded:c(m)(le[me]),"show-checkbox":D.showCheckbox,checked:c(b)(le[me]),indeterminate:c(_)(le[me]),"item-size":c(a),disabled:c(T)(le[me]),current:c($)(le[me]),"hidden-expand-icon":c(E)(le[me]),onClick:c(y),onToggle:c(g),onCheck:c(I)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(N(),Y("div",{key:1,class:L(c(h).e("empty-block"))},[Q("span",{class:L(c(h).e("empty-text"))},ze((oe=D.emptyText)!=null?oe:c(u)("el.tree.emptyText")),3)],2))],2)}}});var Qae=We(Zae,[["__file","tree.vue"]]);const eue=Dt(Qae),qP=Symbol("uploadContextKey"),tue="ElUpload";class nue extends Error{constructor(n,o,i,l){super(n),this.name="UploadAjaxError",this.status=o,this.method=i,this.url=l}}function AA(t,n,o){let i;return o.response?i=`${o.response.error||o.response}`:o.responseText?i=`${o.responseText}`:i=`fail to ${n.method} ${t} ${o.status}`,new nue(i,o.status,n.method,t)}function oue(t){const n=t.responseText||t.response;if(!n)return n;try{return JSON.parse(n)}catch{return n}}const sue=t=>{typeof XMLHttpRequest>"u"&&jn(tue,"XMLHttpRequest is undefined");const n=new XMLHttpRequest,o=t.action;n.upload&&n.upload.addEventListener("progress",a=>{const u=a;u.percent=a.total>0?a.loaded/a.total*100:0,t.onProgress(u)});const i=new FormData;if(t.data)for(const[a,u]of Object.entries(t.data))tt(u)&&u.length?i.append(a,...u):i.append(a,u);i.append(t.filename,t.file,t.file.name),n.addEventListener("error",()=>{t.onError(AA(o,t,n))}),n.addEventListener("load",()=>{if(n.status<200||n.status>=300)return t.onError(AA(o,t,n));t.onSuccess(oue(n))}),n.open(t.method,o,!0),t.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0);const l=t.headers||{};if(l instanceof Headers)l.forEach((a,u)=>n.setRequestHeader(u,a));else for(const[a,u]of Object.entries(l))io(u)||n.setRequestHeader(a,String(u));return n.send(i),n},JP=["text","picture","picture-card"];let iue=1;const Ry=()=>Date.now()+iue++,ZP=Ue({action:{type:String,default:"#"},headers:{type:fe(Object)},method:{type:String,default:"post"},data:{type:fe([Object,Function,Promise]),default:()=>wn({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:fe(Array),default:()=>wn([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:JP,default:"text"},httpRequest:{type:fe(Function),default:sue},disabled:Boolean,limit:Number}),rue=Ue({...ZP,beforeUpload:{type:fe(Function),default:nn},beforeRemove:{type:fe(Function)},onRemove:{type:fe(Function),default:nn},onChange:{type:fe(Function),default:nn},onPreview:{type:fe(Function),default:nn},onSuccess:{type:fe(Function),default:nn},onProgress:{type:fe(Function),default:nn},onError:{type:fe(Function),default:nn},onExceed:{type:fe(Function),default:nn},crossorigin:{type:fe(String)}}),lue=Ue({files:{type:fe(Array),default:()=>wn([])},disabled:{type:Boolean,default:!1},handlePreview:{type:fe(Function),default:nn},listType:{type:String,values:JP,default:"text"},crossorigin:{type:fe(String)}}),aue={remove:t=>!!t},uue=["onKeydown"],cue=["src","crossorigin"],due=["onClick"],hue=["title"],pue=["onClick"],fue=["onClick"],mue=ne({name:"ElUploadList"}),gue=ne({...mue,props:lue,emits:aue,setup(t,{emit:n}){const o=t,{t:i}=Yt(),l=xe("upload"),a=xe("icon"),u=xe("list"),h=Zo(),p=V(!1),f=w(()=>[l.b("list"),l.bm("list",o.listType),l.is("disabled",o.disabled)]),g=m=>{n("remove",m)};return(m,_)=>(N(),be(nL,{tag:"ul",class:L(c(f)),name:c(u).b()},{default:ce(()=>[(N(!0),Y(dt,null,zt(m.files,b=>(N(),Y("li",{key:b.uid||b.name,class:L([c(l).be("list","item"),c(l).is(b.status),{focusing:p.value}]),tabindex:"0",onKeydown:rn(T=>!c(h)&&g(b),["delete"]),onFocus:_[0]||(_[0]=T=>p.value=!0),onBlur:_[1]||(_[1]=T=>p.value=!1),onClick:_[2]||(_[2]=T=>p.value=!1)},[Te(m.$slots,"default",{file:b},()=>[m.listType==="picture"||b.status!=="uploading"&&m.listType==="picture-card"?(N(),Y("img",{key:0,class:L(c(l).be("list","item-thumbnail")),src:b.url,crossorigin:m.crossorigin,alt:""},null,10,cue)):$e("v-if",!0),b.status==="uploading"||m.listType!=="picture-card"?(N(),Y("div",{key:1,class:L(c(l).be("list","item-info"))},[Q("a",{class:L(c(l).be("list","item-name")),onClick:bt(T=>m.handlePreview(b),["prevent"])},[ie(c(at),{class:L(c(a).m("document"))},{default:ce(()=>[ie(c(y4))]),_:1},8,["class"]),Q("span",{class:L(c(l).be("list","item-file-name")),title:b.name},ze(b.name),11,hue)],10,due),b.status==="uploading"?(N(),be(c(WD),{key:0,type:m.listType==="picture-card"?"circle":"line","stroke-width":m.listType==="picture-card"?6:2,percentage:Number(b.percentage),style:ct(m.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):$e("v-if",!0)],2)):$e("v-if",!0),Q("label",{class:L(c(l).be("list","item-status-label"))},[m.listType==="text"?(N(),be(c(at),{key:0,class:L([c(a).m("upload-success"),c(a).m("circle-check")])},{default:ce(()=>[ie(c(IE))]),_:1},8,["class"])):["picture-card","picture"].includes(m.listType)?(N(),be(c(at),{key:1,class:L([c(a).m("upload-success"),c(a).m("check")])},{default:ce(()=>[ie(c(Qh))]),_:1},8,["class"])):$e("v-if",!0)],2),c(h)?$e("v-if",!0):(N(),be(c(at),{key:2,class:L(c(a).m("close")),onClick:T=>g(b)},{default:ce(()=>[ie(c(hi))]),_:2},1032,["class","onClick"])),$e(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),$e(" This is a bug which needs to be fixed "),$e(" TODO: Fix the incorrect navigation interaction "),c(h)?$e("v-if",!0):(N(),Y("i",{key:3,class:L(c(a).m("close-tip"))},ze(c(i)("el.upload.deleteTip")),3)),m.listType==="picture-card"?(N(),Y("span",{key:4,class:L(c(l).be("list","item-actions"))},[Q("span",{class:L(c(l).be("list","item-preview")),onClick:T=>m.handlePreview(b)},[ie(c(at),{class:L(c(a).m("zoom-in"))},{default:ce(()=>[ie(c(uM))]),_:1},8,["class"])],10,pue),c(h)?$e("v-if",!0):(N(),Y("span",{key:0,class:L(c(l).be("list","item-delete")),onClick:T=>g(b)},[ie(c(at),{class:L(c(a).m("delete"))},{default:ce(()=>[ie(c(b4))]),_:1},8,["class"])],10,fue))],2)):$e("v-if",!0)])],42,uue))),128)),Te(m.$slots,"append")]),_:3},8,["class","name"]))}});var NA=We(gue,[["__file","upload-list.vue"]]);const $ue=Ue({disabled:{type:Boolean,default:!1}}),vue={file:t=>tt(t)},_ue=["onDrop","onDragover"],QP="ElUploadDrag",bue=ne({name:QP}),Tue=ne({...bue,props:$ue,emits:vue,setup(t,{emit:n}){it(qP)||jn(QP,"usage: <el-upload><el-upload-dragger /></el-upload>");const i=xe("upload"),l=V(!1),a=Zo(),u=p=>{if(a.value)return;l.value=!1,p.stopPropagation();const f=Array.from(p.dataTransfer.files);n("file",f)},h=()=>{a.value||(l.value=!0)};return(p,f)=>(N(),Y("div",{class:L([c(i).b("dragger"),c(i).is("dragover",l.value)]),onDrop:bt(u,["prevent"]),onDragover:bt(h,["prevent"]),onDragleave:f[0]||(f[0]=bt(g=>l.value=!1,["prevent"]))},[Te(p.$slots,"default")],42,_ue))}});var yue=We(Tue,[["__file","upload-dragger.vue"]]);const Eue=Ue({...ZP,beforeUpload:{type:fe(Function),default:nn},onRemove:{type:fe(Function),default:nn},onStart:{type:fe(Function),default:nn},onSuccess:{type:fe(Function),default:nn},onProgress:{type:fe(Function),default:nn},onError:{type:fe(Function),default:nn},onExceed:{type:fe(Function),default:nn}}),Cue=["onKeydown"],Sue=["name","multiple","accept"],Iue=ne({name:"ElUploadContent",inheritAttrs:!1}),wue=ne({...Iue,props:Eue,setup(t,{expose:n}){const o=t,i=xe("upload"),l=Zo(),a=_n({}),u=_n(),h=$=>{if($.length===0)return;const{autoUpload:E,limit:y,fileList:I,multiple:C,onStart:S,onExceed:R}=o;if(y&&I.length+$.length>y){R($,I);return}C||($=$.slice(0,1));for(const O of $){const P=O;P.uid=Ry(),S(P),E&&p(P)}},p=async $=>{if(u.value.value="",!o.beforeUpload)return g($);let E,y={};try{const C=o.data,S=o.beforeUpload($);y=xm(o.data)?Ym(o.data):o.data,E=await S,xm(o.data)&&Do(C,y)&&(y=Ym(o.data))}catch{E=!1}if(E===!1){o.onRemove($);return}let I=$;E instanceof Blob&&(E instanceof File?I=E:I=new File([E],$.name,{type:$.type})),g(Object.assign(I,{uid:$.uid}),y)},f=async($,E)=>_t($)?$(E):$,g=async($,E)=>{const{headers:y,data:I,method:C,withCredentials:S,name:R,action:O,onProgress:P,onSuccess:M,onError:H,httpRequest:F}=o;try{E=await f(E??I,$)}catch{o.onRemove($);return}const{uid:B}=$,K={headers:y||{},withCredentials:S,file:$,data:E,method:C,filename:R,action:O,onProgress:Z=>{P(Z,$)},onSuccess:Z=>{M(Z,$),delete a.value[B]},onError:Z=>{H(Z,$),delete a.value[B]}},te=F(K);a.value[B]=te,te instanceof Promise&&te.then(K.onSuccess,K.onError)},m=$=>{const E=$.target.files;E&&h(Array.from(E))},_=()=>{l.value||(u.value.value="",u.value.click())},b=()=>{_()};return n({abort:$=>{KW(a.value).filter($?([y])=>String($.uid)===y:()=>!0).forEach(([y,I])=>{I instanceof XMLHttpRequest&&I.abort(),delete a.value[y]})},upload:p}),($,E)=>(N(),Y("div",{class:L([c(i).b(),c(i).m($.listType),c(i).is("drag",$.drag)]),tabindex:"0",onClick:_,onKeydown:rn(bt(b,["self"]),["enter","space"])},[$.drag?(N(),be(yue,{key:0,disabled:c(l),onFile:h},{default:ce(()=>[Te($.$slots,"default")]),_:3},8,["disabled"])):Te($.$slots,"default",{key:1}),Q("input",{ref_key:"inputRef",ref:u,class:L(c(i).e("input")),name:$.name,multiple:$.multiple,accept:$.accept,type:"file",onChange:m,onClick:E[0]||(E[0]=bt(()=>{},["stop"]))},null,42,Sue)],42,Cue))}});var LA=We(wue,[["__file","upload-content.vue"]]);const MA="ElUpload",DA=t=>{var n;(n=t.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(t.url)},kue=(t,n)=>{const o=fL(t,"fileList",void 0,{passive:!0}),i=_=>o.value.find(b=>b.uid===_.uid);function l(_){var b;(b=n.value)==null||b.abort(_)}function a(_=["ready","uploading","success","fail"]){o.value=o.value.filter(b=>!_.includes(b.status))}const u=(_,b)=>{const T=i(b);T&&(console.error(_),T.status="fail",o.value.splice(o.value.indexOf(T),1),t.onError(_,T,o.value),t.onChange(T,o.value))},h=(_,b)=>{const T=i(b);T&&(t.onProgress(_,T,o.value),T.status="uploading",T.percentage=Math.round(_.percent))},p=(_,b)=>{const T=i(b);T&&(T.status="success",T.response=_,t.onSuccess(_,T,o.value),t.onChange(T,o.value))},f=_=>{io(_.uid)&&(_.uid=Ry());const b={name:_.name,percentage:0,status:"ready",size:_.size,raw:_,uid:_.uid};if(t.listType==="picture-card"||t.listType==="picture")try{b.url=URL.createObjectURL(_)}catch(T){T.message,t.onError(T,b,o.value)}o.value=[...o.value,b],t.onChange(b,o.value)},g=async _=>{const b=_ instanceof File?i(_):_;b||jn(MA,"file to be removed not found");const T=$=>{l($);const E=o.value;E.splice(E.indexOf($),1),t.onRemove($,E),DA($)};t.beforeRemove?await t.beforeRemove(b,o.value)!==!1&&T(b):T(b)};function m(){o.value.filter(({status:_})=>_==="ready").forEach(({raw:_})=>{var b;return _&&((b=n.value)==null?void 0:b.upload(_))})}return Me(()=>t.listType,_=>{_!=="picture-card"&&_!=="picture"||(o.value=o.value.map(b=>{const{raw:T,url:$}=b;if(!$&&T)try{b.url=URL.createObjectURL(T)}catch(E){t.onError(E,b,o.value)}return b}))}),Me(o,_=>{for(const b of _)b.uid||(b.uid=Ry()),b.status||(b.status="success")},{immediate:!0,deep:!0}),{uploadFiles:o,abort:l,clearFiles:a,handleError:u,handleProgress:h,handleStart:f,handleSuccess:p,handleRemove:g,submit:m,revokeFileObjectURL:DA}},Oue=ne({name:"ElUpload"}),Rue=ne({...Oue,props:rue,setup(t,{expose:n}){const o=t,i=Zo(),l=_n(),{abort:a,submit:u,clearFiles:h,uploadFiles:p,handleStart:f,handleError:g,handleRemove:m,handleSuccess:_,handleProgress:b,revokeFileObjectURL:T}=kue(o,l),$=w(()=>o.listType==="picture-card"),E=w(()=>({...o,fileList:p.value,onStart:f,onProgress:b,onSuccess:_,onError:g,onRemove:m}));return fn(()=>{p.value.forEach(T)}),Ut(qP,{accept:on(o,"accept")}),n({abort:a,submit:u,clearFiles:h,handleStart:f,handleRemove:m}),(y,I)=>(N(),Y("div",null,[c($)&&y.showFileList?(N(),be(NA,{key:0,disabled:c(i),"list-type":y.listType,files:c(p),crossorigin:y.crossorigin,"handle-preview":y.onPreview,onRemove:c(m)},Sr({append:ce(()=>[ie(LA,Vt({ref_key:"uploadRef",ref:l},c(E)),{default:ce(()=>[y.$slots.trigger?Te(y.$slots,"trigger",{key:0}):$e("v-if",!0),!y.$slots.trigger&&y.$slots.default?Te(y.$slots,"default",{key:1}):$e("v-if",!0)]),_:3},16)]),_:2},[y.$slots.file?{name:"default",fn:ce(({file:C})=>[Te(y.$slots,"file",{file:C})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):$e("v-if",!0),!c($)||c($)&&!y.showFileList?(N(),be(LA,Vt({key:1,ref_key:"uploadRef",ref:l},c(E)),{default:ce(()=>[y.$slots.trigger?Te(y.$slots,"trigger",{key:0}):$e("v-if",!0),!y.$slots.trigger&&y.$slots.default?Te(y.$slots,"default",{key:1}):$e("v-if",!0)]),_:3},16)):$e("v-if",!0),y.$slots.trigger?Te(y.$slots,"default",{key:2}):$e("v-if",!0),Te(y.$slots,"tip"),!c($)&&y.showFileList?(N(),be(NA,{key:3,disabled:c(i),"list-type":y.listType,files:c(p),crossorigin:y.crossorigin,"handle-preview":y.onPreview,onRemove:c(m)},Sr({_:2},[y.$slots.file?{name:"default",fn:ce(({file:C})=>[Te(y.$slots,"file",{file:C})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):$e("v-if",!0)]))}});var Aue=We(Rue,[["__file","upload.vue"]]);const Nue=Dt(Aue),Lue=Ue({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:fe([String,Array]),default:"Element Plus"},font:{type:fe(Object)},gap:{type:fe(Array),default:()=>[100,100]},offset:{type:fe(Array)}});function Mue(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function Due(t){return Object.keys(t).map(n=>`${Mue(n)}: ${t[n]};`).join(" ")}function Pue(){return window.devicePixelRatio||1}const xue=(t,n)=>{let o=!1;return t.removedNodes.length&&n&&(o=Array.from(t.removedNodes).includes(n)),t.type==="attributes"&&t.target===n&&(o=!0),o},ex=3;function uT(t,n,o=1){const i=document.createElement("canvas"),l=i.getContext("2d"),a=t*o,u=n*o;return i.setAttribute("width",`${a}px`),i.setAttribute("height",`${u}px`),l.save(),[l,i,a,u]}function Bue(){function t(n,o,i,l,a,u,h,p){const[f,g,m,_]=uT(l,a,i);if(n instanceof HTMLImageElement)f.drawImage(n,0,0,m,_);else{const{color:oe,fontSize:le,fontStyle:me,fontWeight:Se,fontFamily:Pe,textAlign:de,textBaseline:ye}=u,_e=Number(le)*i;f.font=`${me} normal ${Se} ${_e}px/${a}px ${Pe}`,f.fillStyle=oe,f.textAlign=de,f.textBaseline=ye;const Ke=Array.isArray(n)?n:[n];Ke==null||Ke.forEach((ve,Ne)=>{f.fillText(ve??"",m/2,Ne*(_e+ex*i))})}const b=Math.PI/180*Number(o),T=Math.max(l,a),[$,E,y]=uT(T,T,i);$.translate(y/2,y/2),$.rotate(b),m>0&&_>0&&$.drawImage(g,-m/2,-_/2);function I(oe,le){const me=oe*Math.cos(b)-le*Math.sin(b),Se=oe*Math.sin(b)+le*Math.cos(b);return[me,Se]}let C=0,S=0,R=0,O=0;const P=m/2,M=_/2;[[0-P,0-M],[0+P,0-M],[0+P,0+M],[0-P,0+M]].forEach(([oe,le])=>{const[me,Se]=I(oe,le);C=Math.min(C,me),S=Math.max(S,me),R=Math.min(R,Se),O=Math.max(O,Se)});const F=C+y/2,B=R+y/2,K=S-C,te=O-R,Z=h*i,j=p*i,z=(K+Z)*2,G=te+j,[W,D]=uT(z,G);function X(oe=0,le=0){W.drawImage(E,F,B,K,te,oe,le,K,te)}return X(),X(K+Z,-te/2-j/2),X(K+Z,+te/2+j/2),[D.toDataURL(),z/i,G/i]}return t}const Fue=ne({name:"ElWatermark"}),Hue=ne({...Fue,props:Lue,setup(t){const n=t,o={position:"relative"},i=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.color)!=null?B:"rgba(0,0,0,.15)"}),l=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.fontSize)!=null?B:16}),a=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.fontWeight)!=null?B:"normal"}),u=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.fontStyle)!=null?B:"normal"}),h=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.fontFamily)!=null?B:"sans-serif"}),p=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.textAlign)!=null?B:"center"}),f=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.textBaseline)!=null?B:"hanging"}),g=w(()=>n.gap[0]),m=w(()=>n.gap[1]),_=w(()=>g.value/2),b=w(()=>m.value/2),T=w(()=>{var F,B;return(B=(F=n.offset)==null?void 0:F[0])!=null?B:_.value}),$=w(()=>{var F,B;return(B=(F=n.offset)==null?void 0:F[1])!=null?B:b.value}),E=()=>{const F={zIndex:n.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let B=T.value-_.value,K=$.value-b.value;return B>0&&(F.left=`${B}px`,F.width=`calc(100% - ${B}px)`,B=0),K>0&&(F.top=`${K}px`,F.height=`calc(100% - ${K}px)`,K=0),F.backgroundPosition=`${B}px ${K}px`,F},y=_n(null),I=_n(),C=V(!1),S=()=>{I.value&&(I.value.remove(),I.value=void 0)},R=(F,B)=>{var K;y.value&&I.value&&(C.value=!0,I.value.setAttribute("style",Due({...E(),backgroundImage:`url('${F}')`,backgroundSize:`${Math.floor(B)}px`})),(K=y.value)==null||K.append(I.value),setTimeout(()=>{C.value=!1}))},O=F=>{let B=120,K=64;const te=n.image,Z=n.content,j=n.width,z=n.height;if(!te&&F.measureText){F.font=`${Number(l.value)}px ${h.value}`;const G=Array.isArray(Z)?Z:[Z],W=G.map(D=>{const X=F.measureText(D);return[X.width,X.fontBoundingBoxAscent!==void 0?X.fontBoundingBoxAscent+X.fontBoundingBoxDescent:X.actualBoundingBoxAscent+X.actualBoundingBoxDescent]});B=Math.ceil(Math.max(...W.map(D=>D[0]))),K=Math.ceil(Math.max(...W.map(D=>D[1])))*G.length+(G.length-1)*ex}return[j??B,z??K]},P=Bue(),M=()=>{const B=document.createElement("canvas").getContext("2d"),K=n.image,te=n.content,Z=n.rotate;if(B){I.value||(I.value=document.createElement("div"));const j=Pue(),[z,G]=O(B),W=D=>{const[X,oe]=P(D||"",Z,j,z,G,{color:i.value,fontSize:l.value,fontStyle:u.value,fontWeight:a.value,fontFamily:h.value,textAlign:p.value,textBaseline:f.value},g.value,m.value);R(X,oe)};if(K){const D=new Image;D.onload=()=>{W(D)},D.onerror=()=>{W(te)},D.crossOrigin="anonymous",D.referrerPolicy="no-referrer",D.src=K}else W(te)}};return At(()=>{M()}),Me(()=>n,()=>{M()},{deep:!0,flush:"post"}),fn(()=>{S()}),pL(y,F=>{C.value||F.forEach(B=>{xue(B,I.value)&&(S(),M())})},{attributes:!0,subtree:!0,childList:!0}),(F,B)=>(N(),Y("div",{ref_key:"containerRef",ref:y,style:ct([o])},[Te(F.$slots,"default")],4))}});var Vue=We(Hue,[["__file","watermark.vue"]]);const Uue=Dt(Vue),Gue=Ue({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:fe(Object)},targetAreaClickable:{type:Boolean,default:!0}}),Wue=(t,n,o,i,l)=>{const a=V(null),u=()=>{let m;return yt(t.value)?m=document.querySelector(t.value):_t(t.value)?m=t.value():m=t.value,m},h=()=>{const m=u();if(!m||!n.value){a.value=null;return}!zue(m)&&n.value&&m.scrollIntoView(l.value);const{left:_,top:b,width:T,height:$}=m.getBoundingClientRect();a.value={left:_,top:b,width:T,height:$,radius:0}};At(()=>{Me([n,t],()=>{h()},{immediate:!0}),window.addEventListener("resize",h)}),fn(()=>{window.removeEventListener("resize",h)});const p=m=>{var _;return(_=tt(o.value.offset)?o.value.offset[m]:o.value.offset)!=null?_:6},f=w(()=>{var m;if(!a.value)return a.value;const _=p(0),b=p(1),T=((m=o.value)==null?void 0:m.radius)||2;return{left:a.value.left-_,top:a.value.top-b,width:a.value.width+_*2,height:a.value.height+b*2,radius:T}}),g=w(()=>{const m=u();return!i.value||!m||!window.DOMRect?m||void 0:{getBoundingClientRect(){var _,b,T,$;return window.DOMRect.fromRect({width:((_=f.value)==null?void 0:_.width)||0,height:((b=f.value)==null?void 0:b.height)||0,x:((T=f.value)==null?void 0:T.left)||0,y:(($=f.value)==null?void 0:$.top)||0})}}});return{mergedPosInfo:f,triggerTarget:g}},qg=Symbol("ElTour");function zue(t){const n=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight,{top:i,right:l,bottom:a,left:u}=t.getBoundingClientRect();return i>=0&&u>=0&&l<=n&&a<=o}const Kue=(t,n,o,i,l,a,u,h)=>{const p=V(),f=V(),g=V({}),m={x:p,y:f,placement:i,strategy:l,middlewareData:g},_=w(()=>{const y=[UM(c(a)),m6(),f6(),Xue()];return c(h)&&c(o)&&y.push(GM({element:c(o)})),y}),b=async()=>{if(!Kt)return;const y=c(t),I=c(n);if(!y||!I)return;const C=await WM(y,I,{placement:c(i),strategy:c(l),middleware:c(_)});_c(m).forEach(S=>{m[S].value=C[S]})},T=w(()=>{if(!c(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:c(u)};const{overflow:y}=c(g);return{position:c(l),zIndex:c(u),top:c(f)!=null?`${c(f)}px`:"",left:c(p)!=null?`${c(p)}px`:"",maxWidth:y!=null&&y.maxWidth?`${y==null?void 0:y.maxWidth}px`:""}}),$=w(()=>{if(!c(h))return{};const{arrow:y}=c(g);return{left:(y==null?void 0:y.x)!=null?`${y==null?void 0:y.x}px`:"",top:(y==null?void 0:y.y)!=null?`${y==null?void 0:y.y}px`:""}});let E;return At(()=>{const y=c(t),I=c(n);y&&I&&(E=h6(y,I,b)),Eo(()=>{b()})}),fn(()=>{E&&E()}),{update:b,contentStyle:T,arrowStyle:$}},Xue=()=>({name:"overflow",async fn(t){const n=await p6(t);let o=0;return n.left>0&&(o=n.left),n.right>0&&(o=n.right),{data:{maxWidth:t.rects.floating.width-o}}}}),Yue={style:{width:"100%",height:"100%"}},jue=["d"],que=ne({name:"ElTourMask",inheritAttrs:!1}),Jue=ne({...que,props:Gue,setup(t){const n=t,{ns:o}=it(qg),i=w(()=>{var h,p;return(p=(h=n.pos)==null?void 0:h.radius)!=null?p:2}),l=w(()=>{const h=i.value,p=`a${h},${h} 0 0 1`;return{topRight:`${p} ${h},${h}`,bottomRight:`${p} ${-h},${h}`,bottomLeft:`${p} ${-h},${-h}`,topLeft:`${p} ${h},${-h}`}}),a=w(()=>{const h=window.innerWidth,p=window.innerHeight,f=l.value,g=`M${h},0 L0,0 L0,${p} L${h},${p} L${h},0 Z`,m=i.value;return n.pos?`${g} M${n.pos.left+m},${n.pos.top} h${n.pos.width-m*2} ${f.topRight} v${n.pos.height-m*2} ${f.bottomRight} h${-n.pos.width+m*2} ${f.bottomLeft} v${-n.pos.height+m*2} ${f.topLeft} z`:g}),u=w(()=>({fill:n.fill,pointerEvents:"auto",cursor:"auto"}));return DE(on(n,"visible"),{ns:o}),(h,p)=>h.visible?(N(),Y("div",Vt({key:0,class:c(o).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:h.zIndex,pointerEvents:h.pos&&h.targetAreaClickable?"none":"auto"}},h.$attrs),[(N(),Y("svg",Yue,[Q("path",{class:L(c(o).e("hollow")),style:ct(c(u)),d:c(a)},null,14,jue)]))],16)):$e("v-if",!0)}});var Zue=We(Jue,[["__file","mask.vue"]]);const Que=["absolute","fixed"],ece=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],F0=Ue({placement:{type:fe(String),values:ece,default:"bottom"},reference:{type:fe(Object),default:null},strategy:{type:fe(String),values:Que,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),tce={close:()=>!0},nce=["data-side"],oce=ne({name:"ElTourContent"}),sce=ne({...oce,props:F0,emits:tce,setup(t,{emit:n}){const o=t,i=V(o.placement),l=V(o.strategy),a=V(null),u=V(null);Me(()=>o.placement,()=>{i.value=o.placement});const{contentStyle:h,arrowStyle:p}=Kue(on(o,"reference"),a,u,i,l,on(o,"offset"),on(o,"zIndex"),on(o,"showArrow")),f=w(()=>i.value.split("-")[0]),{ns:g}=it(qg),m=()=>{n("close")},_=b=>{b.detail.focusReason==="pointer"&&b.preventDefault()};return(b,T)=>(N(),Y("div",{ref_key:"contentRef",ref:a,style:ct(c(h)),class:L(c(g).e("content")),"data-side":c(f),tabindex:"-1"},[ie(c(lp),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":a.value||void 0,onReleaseRequested:m,onFocusoutPrevented:_},{default:ce(()=>[Te(b.$slots,"default")]),_:3},8,["focus-trap-el"]),b.showArrow?(N(),Y("span",{key:0,ref_key:"arrowRef",ref:u,style:ct(c(p)),class:L(c(g).e("arrow"))},null,6)):$e("v-if",!0)],14,nce))}});var ice=We(sce,[["__file","content.vue"]]),rce=ne({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:n,emit:o}){let i=0;return()=>{var l,a;const u=(l=n.default)==null?void 0:l.call(n),h=[];let p=0;function f(g){tt(g)&&g.forEach(m=>{var _;((_=(m==null?void 0:m.type)||{})==null?void 0:_.name)==="ElTourStep"&&(h.push(m),p+=1)})}return u.length&&f($l((a=u[0])==null?void 0:a.children)),i!==p&&(i=p,o("update-total",p)),h.length?h[t.current]:null}}});const lce=Ue({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:ln},placement:F0.placement,contentStyle:{type:fe([Object])},mask:{type:fe([Boolean,Object]),default:!0},gap:{type:fe(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:fe([Boolean,Object]),default:()=>({block:"center"})},type:{type:fe(String)},appendTo:{type:fe([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),ace={[Bt]:t=>Hn(t),"update:current":t=>$t(t),close:t=>$t(t),finish:()=>!0,change:t=>$t(t)},uce=ne({name:"ElTour"}),cce=ne({...uce,props:lce,emits:ace,setup(t,{emit:n}){const o=t,i=xe("tour"),l=V(0),a=V(),u=fL(o,"current",n,{passive:!0}),h=w(()=>{var H;return(H=a.value)==null?void 0:H.target}),p=w(()=>[i.b(),E.value==="primary"?i.m("primary"):""]),f=w(()=>{var H;return((H=a.value)==null?void 0:H.placement)||o.placement}),g=w(()=>{var H,F;return(F=(H=a.value)==null?void 0:H.contentStyle)!=null?F:o.contentStyle}),m=w(()=>{var H,F;return(F=(H=a.value)==null?void 0:H.mask)!=null?F:o.mask}),_=w(()=>!!m.value&&o.modelValue),b=w(()=>Hn(m.value)?void 0:m.value),T=w(()=>{var H,F;return!!h.value&&((F=(H=a.value)==null?void 0:H.showArrow)!=null?F:o.showArrow)}),$=w(()=>{var H,F;return(F=(H=a.value)==null?void 0:H.scrollIntoViewOptions)!=null?F:o.scrollIntoViewOptions}),E=w(()=>{var H,F;return(F=(H=a.value)==null?void 0:H.type)!=null?F:o.type}),{nextZIndex:y}=Vc(),I=y(),C=w(()=>{var H;return(H=o.zIndex)!=null?H:I}),{mergedPosInfo:S,triggerTarget:R}=Wue(h,on(o,"modelValue"),on(o,"gap"),m,$);Me(()=>o.modelValue,H=>{H||(u.value=0)});const O=()=>{o.closeOnPressEscape&&(n("update:modelValue",!1),n("close",u.value))},P=H=>{l.value=H},M=ao();return Ut(qg,{currentStep:a,current:u,total:l,showClose:on(o,"showClose"),closeIcon:on(o,"closeIcon"),mergedType:E,ns:i,slots:M,updateModelValue(H){n("update:modelValue",H)},onClose(){n("close",u.value)},onFinish(){n("finish")},onChange(){n("change",u.value)}}),(H,F)=>{var B,K;return N(),Y(dt,null,[(N(),be(Dc,{to:H.appendTo},[Q("div",Vt({class:c(p)},H.$attrs),[ie(Zue,{visible:c(_),fill:(B=c(b))==null?void 0:B.color,style:ct((K=c(b))==null?void 0:K.style),pos:c(S),"z-index":c(C),"target-area-clickable":H.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),H.modelValue?(N(),be(ice,{key:c(u),reference:c(R),placement:c(f),"show-arrow":c(T),"z-index":c(C),style:ct(c(g)),onClose:O},{default:ce(()=>[ie(c(rce),{current:c(u),onUpdateTotal:P},{default:ce(()=>[Te(H.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):$e("v-if",!0)],16)],8,["to"])),$e(" just for IDE "),$e("v-if",!0)],64)}}});var dce=We(cce,[["__file","tour.vue"]]);const hce=Ue({target:{type:fe([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:ln},showArrow:{type:Boolean,default:void 0},placement:F0.placement,mask:{type:fe([Boolean,Object]),default:void 0},contentStyle:{type:fe([Object])},prevButtonProps:{type:fe(Object)},nextButtonProps:{type:fe(Object)},scrollIntoViewOptions:{type:fe([Boolean,Object]),default:void 0},type:{type:fe(String)}}),pce={close:()=>!0},fce=ne({name:"ElTourStep"}),mce=ne({...fce,props:hce,emits:pce,setup(t,{emit:n}){const o=t,{Close:i}=OE,{t:l}=Yt(),{currentStep:a,current:u,total:h,showClose:p,closeIcon:f,mergedType:g,ns:m,slots:_,updateModelValue:b,onClose:T,onFinish:$,onChange:E}=it(qg);Me(o,M=>{a.value=M},{immediate:!0});const y=w(()=>{var M;return(M=o.showClose)!=null?M:p.value}),I=w(()=>{var M,H;return(H=(M=o.closeIcon)!=null?M:f.value)!=null?H:i}),C=M=>{if(M)return PW(M,["children","onClick"])},S=()=>{var M,H;u.value-=1,(M=o.prevButtonProps)!=null&&M.onClick&&((H=o.prevButtonProps)==null||H.onClick()),E()},R=()=>{var M;u.value>=h.value-1?O():u.value+=1,(M=o.nextButtonProps)!=null&&M.onClick&&o.nextButtonProps.onClick(),E()},O=()=>{P(),$()},P=()=>{b(!1),T(),n("close")};return(M,H)=>(N(),Y(dt,null,[c(y)?(N(),Y("button",{key:0,"aria-label":"Close",class:L(c(m).e("closebtn")),type:"button",onClick:P},[ie(c(at),{class:L(c(m).e("close"))},{default:ce(()=>[(N(),be(Ft(c(I))))]),_:1},8,["class"])],2)):$e("v-if",!0),Q("header",{class:L([c(m).e("header"),{"show-close":c(p)}])},[Te(M.$slots,"header",{},()=>[Q("span",{role:"heading",class:L(c(m).e("title"))},ze(M.title),3)])],2),Q("div",{class:L(c(m).e("body"))},[Te(M.$slots,"default",{},()=>[Q("span",null,ze(M.description),1)])],2),Q("footer",{class:L(c(m).e("footer"))},[Q("div",{class:L(c(m).b("indicators"))},[c(_).indicators?(N(),be(Ft(c(_).indicators),{key:0,current:c(u),total:c(h)},null,8,["current","total"])):(N(!0),Y(dt,{key:1},zt(c(h),(F,B)=>(N(),Y("span",{key:F,class:L([c(m).b("indicator"),B===c(u)?"is-active":""])},null,2))),128))],2),Q("div",{class:L(c(m).b("buttons"))},[c(u)>0?(N(),be(c(ro),Vt({key:0,size:"small",type:c(g)},C(M.prevButtonProps),{onClick:S}),{default:ce(()=>{var F,B;return[Wt(ze((B=(F=M.prevButtonProps)==null?void 0:F.children)!=null?B:c(l)("el.tour.previous")),1)]}),_:1},16,["type"])):$e("v-if",!0),c(u)<=c(h)-1?(N(),be(c(ro),Vt({key:1,size:"small",type:c(g)==="primary"?"default":"primary"},C(M.nextButtonProps),{onClick:R}),{default:ce(()=>{var F,B;return[Wt(ze((B=(F=M.nextButtonProps)==null?void 0:F.children)!=null?B:c(u)===c(h)-1?c(l)("el.tour.finish"):c(l)("el.tour.next")),1)]}),_:1},16,["type"])):$e("v-if",!0)],2)],2)],64))}});var tx=We(mce,[["__file","step.vue"]]);const gce=Dt(dce,{TourStep:tx}),$ce=kn(tx),vce=Ue({container:{type:fe([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:fe(String),default:"default"},direction:{type:fe(String),default:"vertical"}}),_ce={change:t=>yt(t),click:(t,n)=>t instanceof MouseEvent&&(yt(n)||Fn(n))},nx=Symbol("anchor"),bce=ne({name:"ElAnchor"}),Tce=ne({...bce,props:vce,emits:_ce,setup(t,{expose:n,emit:o}){const i=t,l=V(""),a=V(null),u=V(null),h=V(),p={};let f=!1,g=0;const m=xe("anchor"),_=w(()=>[m.b(),i.type==="underline"?m.m("underline"):"",m.m(i.direction)]),b=M=>{p[M.href]=M.el},T=M=>{delete p[M]},$=M=>{l.value!==M&&(l.value=M,o("change",M))};let E=null;const y=M=>{if(!h.value)return;const H=Kf(M);if(!H)return;E&&E(),f=!0;const F=WO(H,h.value),B=IT(H,F),K=F.scrollHeight-F.clientHeight,te=Math.min(B-i.offset,K);E=jW(h.value,g,te,i.duration,()=>{setTimeout(()=>{f=!1},20)})},I=M=>{M&&($(M),y(M))},C=(M,H)=>{o("click",M,H),I(H)},S=pz(()=>{h.value&&(g=zO(h.value));const M=R();f||Fn(M)||$(M)}),R=()=>{if(!h.value)return;const M=zO(h.value),H=[];for(const F of Object.keys(p)){const B=Kf(F);if(!B)continue;const K=WO(B,h.value),te=IT(B,K);H.push({top:te-i.offset-i.bound,href:F})}H.sort((F,B)=>F.top-B.top);for(let F=0;F<H.length;F++){const B=H[F],K=H[F+1];if(F===0&&M===0)return"";if(B.top<=M&&(!K||K.top>M))return B.href}},O=()=>{const M=Kf(i.container);!M||Ng(M)?h.value=window:h.value=M};gn(h,"scroll",S);const P=w(()=>{if(!a.value||!u.value||!l.value)return{};const M=p[l.value];if(!M)return{};const H=a.value.getBoundingClientRect(),F=u.value.getBoundingClientRect(),B=M.getBoundingClientRect();return i.direction==="horizontal"?{left:`${B.left-H.left}px`,width:`${B.width}px`,opacity:1}:{top:`${B.top-H.top+(B.height-F.height)/2}px`,opacity:1}});return At(()=>{O();const M=decodeURIComponent(window.location.hash);Kf(M)?I(M):S()}),Me(()=>i.container,()=>{O()}),Ut(nx,{ns:m,direction:i.direction,currentAnchor:l,addLink:b,removeLink:T,handleClick:C}),n({scrollTo:I}),(M,H)=>(N(),Y("div",{ref_key:"anchorRef",ref:a,class:L(c(_))},[M.marker?(N(),Y("div",{key:0,ref_key:"markerRef",ref:u,class:L(c(m).e("marker")),style:ct(c(P))},null,6)):$e("v-if",!0),Q("div",{class:L(c(m).e("list"))},[Te(M.$slots,"default")],2)],2))}});var yce=We(Tce,[["__file","anchor.vue"]]);const Ece=Ue({title:String,href:String}),Cce=["href"],Sce=ne({name:"ElAnchorLink"}),Ice=ne({...Sce,props:Ece,setup(t){const n=t,o=V(null),{ns:i,direction:l,currentAnchor:a,addLink:u,removeLink:h,handleClick:p}=it(nx),f=w(()=>[i.e("link"),i.is("active",a.value===n.href)]),g=m=>{p(m,n.href)};return Me(()=>n.href,(m,_)=>{pt(()=>{_&&h(_),m&&u({href:m,el:o.value})})}),At(()=>{const{href:m}=n;m&&u({href:m,el:o.value})}),fn(()=>{const{href:m}=n;m&&h(m)}),(m,_)=>(N(),Y("div",{class:L(c(i).e("item"))},[Q("a",{ref_key:"linkRef",ref:o,class:L(c(f)),href:m.href,onClick:g},[Te(m.$slots,"default",{},()=>[Wt(ze(m.title),1)])],10,Cce),m.$slots["sub-link"]&&c(l)==="vertical"?(N(),Y("div",{key:0,class:L(c(i).e("list"))},[Te(m.$slots,"sub-link")],2)):$e("v-if",!0)],2))}});var ox=We(Ice,[["__file","anchor-link.vue"]]);const wce=Dt(yce,{AnchorLink:ox}),kce=kn(ox),Oce=Ue({options:{type:fe(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:qn,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...mo(["ariaLabel"])}),Rce={[Bt]:t=>yt(t)||$t(t),[$n]:t=>yt(t)||$t(t)},Ace=["id","aria-label","aria-labelledby"],Nce=["name","disabled","checked","onChange"],Lce=ne({name:"ElSegmented"}),Mce=ne({...Lce,props:Oce,emits:Rce,setup(t,{emit:n}){const o=t,i=xe("segmented"),l=So(),a=Kn(),u=Zo(),{formItem:h}=Bo(),{inputId:p,isLabeledByFormItem:f}=$i(o,{formItemContext:h}),g=V(null),m=eH(),_=Qt({isInit:!1,width:0,translateX:0,disabled:!1,focusVisible:!1}),b=H=>{const F=T(H);n(Bt,F),n($n,F)},T=H=>xt(H)?H.value:H,$=H=>xt(H)?H.label:H,E=H=>!!(u.value||xt(H)&&H.disabled),y=H=>o.modelValue===T(H),I=H=>o.options.find(F=>T(F)===H),C=H=>[i.e("item"),i.is("selected",y(H)),i.is("disabled",E(H))],S=()=>{if(!g.value)return;const H=g.value.querySelector(".is-selected"),F=g.value.querySelector(".is-selected input");if(!H||!F){_.width=0,_.translateX=0,_.disabled=!1,_.focusVisible=!1;return}const B=H.getBoundingClientRect();_.isInit=!0,_.width=B.width,_.translateX=H.offsetLeft,_.disabled=E(I(o.modelValue));try{_.focusVisible=F.matches(":focus-visible")}catch{}},R=w(()=>[i.b(),i.m(a.value),i.is("block",o.block)]),O=w(()=>({width:`${_.width}px`,transform:`translateX(${_.translateX}px)`,display:_.isInit?"block":"none"})),P=w(()=>[i.e("item-selected"),i.is("disabled",_.disabled),i.is("focus-visible",_.focusVisible)]),M=w(()=>o.name||l.value);return In(g,S),Me(m,S),Me(()=>o.modelValue,()=>{var H;S(),o.validateEvent&&((H=h==null?void 0:h.validate)==null||H.call(h,"change").catch(F=>void 0))},{flush:"post"}),(H,F)=>(N(),Y("div",{id:c(p),ref_key:"segmentedRef",ref:g,class:L(c(R)),role:"radiogroup","aria-label":c(f)?void 0:H.ariaLabel||"segmented","aria-labelledby":c(f)?c(h).labelId:void 0},[Q("div",{class:L(c(i).e("group"))},[Q("div",{style:ct(c(O)),class:L(c(P))},null,6),(N(!0),Y(dt,null,zt(H.options,(B,K)=>(N(),Y("label",{key:K,class:L(C(B))},[Q("input",{class:L(c(i).e("item-input")),type:"radio",name:c(M),disabled:E(B),checked:y(B),onChange:te=>b(B)},null,42,Nce),Q("div",{class:L(c(i).e("item-label"))},[Te(H.$slots,"default",{item:B},()=>[Wt(ze($(B)),1)])],2)],2))),128))],2)],10,Ace))}});var Dce=We(Mce,[["__file","segmented.vue"]]);const Pce=Dt(Dce);var xce=[P6,X6,_X,jre,IX,LX,a1,XX,YX,ro,m1,pj,vj,Bj,Fj,J9,x9,o7,Ys,o9,G1,m7,L7,M7,S7,cq,k6,yq,Eq,Cq,Sq,Iq,KJ,oZ,sZ,bZ,ED,MZ,SQ,IQ,wQ,ND,HK,VK,at,_ee,LD,Mo,MD,Lee,Qee,ete,tte,nte,ute,gne,yne,Ane,i1,WD,q1,_9,v9,Yne,Qne,c7,Dr,Va,og,Ute,Foe,Xoe,Yoe,Cse,Ose,uP,Hse,jse,qse,lie,cre,dre,Yre,cle,dle,Dh,gle,zY,yle,wle,kle,xo,eae,mae,Oae,Pae,eue,Nue,Uue,gce,$ce,wce,kce,Pce];const Ps="ElInfiniteScroll",Bce=50,Fce=200,Hce=0,Vce={delay:{type:Number,default:Fce},distance:{type:Number,default:Hce},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},H0=(t,n)=>Object.entries(Vce).reduce((o,[i,l])=>{var a,u;const{type:h,default:p}=l,f=t.getAttribute(`infinite-scroll-${i}`);let g=(u=(a=n[f])!=null?a:f)!=null?u:p;return g=g==="false"?!1:g,g=h(g),o[i]=Number.isNaN(g)?p:g,o},{}),sx=t=>{const{observer:n}=t[Ps];n&&(n.disconnect(),delete t[Ps].observer)},Uce=(t,n)=>{const{container:o,containerEl:i,instance:l,observer:a,lastScrollTop:u}=t[Ps],{disabled:h,distance:p}=H0(t,l),{clientHeight:f,scrollHeight:g,scrollTop:m}=i,_=m-u;if(t[Ps].lastScrollTop=m,a||h||_<0)return;let b=!1;if(o===t)b=g-(f+m)<=p;else{const{clientTop:T,scrollHeight:$}=t,E=IT(t,i);b=m+f>=E+T+$-p}b&&n.call(l)};function cT(t,n){const{containerEl:o,instance:i}=t[Ps],{disabled:l}=H0(t,i);l||o.clientHeight===0||(o.scrollHeight<=o.clientHeight?n.call(i):sx(t))}const Gce={async mounted(t,n){const{instance:o,value:i}=n;_t(i)||jn(Ps,"'v-infinite-scroll' binding value must be a function"),await pt();const{delay:l,immediate:a}=H0(t,o),u=EE(t,!0),h=u===window?document.documentElement:u,p=Ra(Uce.bind(null,t,i),l);if(u){if(t[Ps]={instance:o,container:u,containerEl:h,delay:l,cb:i,onScroll:p,lastScrollTop:h.scrollTop},a){const f=new MutationObserver(Ra(cT.bind(null,t,i),Bce));t[Ps].observer=f,f.observe(t,{childList:!0,subtree:!0}),cT(t,i)}u.addEventListener("scroll",p)}},unmounted(t){if(!t[Ps])return;const{container:n,onScroll:o}=t[Ps];n==null||n.removeEventListener("scroll",o),sx(t)},async updated(t){if(!t[Ps])await pt();else{const{containerEl:n,cb:o,observer:i}=t[Ps];n.clientHeight&&i&&cT(t,o)}}},Ay=Gce;Ay.install=t=>{t.directive("InfiniteScroll",Ay)};const Wce=Ay;function zce(t){let n;const o=V(!1),i=Qt({...t,originalPosition:"",originalOverflow:"",visible:!1});function l(_){i.text=_}function a(){const _=i.parent,b=m.ns;if(!_.vLoadingAddClassList){let T=_.getAttribute("loading-number");T=Number.parseInt(T)-1,T?_.setAttribute("loading-number",T.toString()):(Po(_,b.bm("parent","relative")),_.removeAttribute("loading-number")),Po(_,b.bm("parent","hidden"))}u(),g.unmount()}function u(){var _,b;(b=(_=m.$el)==null?void 0:_.parentNode)==null||b.removeChild(m.$el)}function h(){var _;t.beforeClose&&!t.beforeClose()||(o.value=!0,clearTimeout(n),n=window.setTimeout(p,400),i.visible=!1,(_=t.closed)==null||_.call(t))}function p(){if(!o.value)return;const _=i.parent;o.value=!1,_.vLoadingAddClassList=void 0,a()}const g=lL(ne({name:"ElLoading",setup(_,{expose:b}){const{ns:T,zIndex:$}=Hg("loading");return b({ns:T,zIndex:$}),()=>{const E=i.spinner||i.svg,y=ft("svg",{class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"0 0 50 50",...E?{innerHTML:E}:{}},[ft("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),I=i.text?ft("p",{class:T.b("text")},[i.text]):void 0;return ft(Yn,{name:T.b("fade"),onAfterLeave:p},{default:ce(()=>[Rt(ie("div",{style:{backgroundColor:i.background||""},class:[T.b("mask"),i.customClass,i.fullscreen?"is-fullscreen":""]},[ft("div",{class:T.b("spinner")},[y,I])]),[[qt,i.visible]])])})}}})),m=g.mount(document.createElement("div"));return{...fo(i),setText:l,removeElLoadingChild:u,close:h,handleAfterLeave:p,vm:m,get $el(){return m.$el}}}let lm;const Ny=function(t={}){if(!Kt)return;const n=Kce(t);if(n.fullscreen&&lm)return lm;const o=zce({...n,closed:()=>{var l;(l=n.closed)==null||l.call(n),n.fullscreen&&(lm=void 0)}});Xce(n,n.parent,o),PA(n,n.parent,o),n.parent.vLoadingAddClassList=()=>PA(n,n.parent,o);let i=n.parent.getAttribute("loading-number");return i?i=`${Number.parseInt(i)+1}`:i="1",n.parent.setAttribute("loading-number",i),n.parent.appendChild(o.$el),pt(()=>o.visible.value=n.visible),n.fullscreen&&(lm=o),o},Kce=t=>{var n,o,i,l;let a;return yt(t.target)?a=(n=document.querySelector(t.target))!=null?n:document.body:a=t.target||document.body,{parent:a===document.body||t.body?document.body:a,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:a===document.body&&((o=t.fullscreen)!=null?o:!0),lock:(i=t.lock)!=null?i:!1,customClass:t.customClass||"",visible:(l=t.visible)!=null?l:!0,target:a}},Xce=async(t,n,o)=>{const{nextZIndex:i}=o.vm.zIndex||o.vm._.exposed.zIndex,l={};if(t.fullscreen)o.originalPosition.value=hl(document.body,"position"),o.originalOverflow.value=hl(document.body,"overflow"),l.zIndex=i();else if(t.parent===document.body){o.originalPosition.value=hl(document.body,"position"),await pt();for(const a of["top","left"]){const u=a==="top"?"scrollTop":"scrollLeft";l[a]=`${t.target.getBoundingClientRect()[a]+document.body[u]+document.documentElement[u]-Number.parseInt(hl(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])l[a]=`${t.target.getBoundingClientRect()[a]}px`}else o.originalPosition.value=hl(n,"position");for(const[a,u]of Object.entries(l))o.$el.style[a]=u},PA=(t,n,o)=>{const i=o.vm.ns||o.vm._.exposed.ns;["absolute","fixed","sticky"].includes(o.originalPosition.value)?Po(n,i.bm("parent","relative")):Bs(n,i.bm("parent","relative")),t.fullscreen&&t.lock?Bs(n,i.bm("parent","hidden")):Po(n,i.bm("parent","hidden"))},Pm=Symbol("ElLoading"),xA=(t,n)=>{var o,i,l,a;const u=n.instance,h=_=>xt(n.value)?n.value[_]:void 0,p=_=>{const b=yt(_)&&(u==null?void 0:u[_])||_;return b&&V(b)},f=_=>p(h(_)||t.getAttribute(`element-loading-${kl(_)}`)),g=(o=h("fullscreen"))!=null?o:n.modifiers.fullscreen,m={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:g,target:(i=h("target"))!=null?i:g?void 0:t,body:(l=h("body"))!=null?l:n.modifiers.body,lock:(a=h("lock"))!=null?a:n.modifiers.lock};t[Pm]={options:m,instance:Ny(m)}},Yce=(t,n)=>{for(const o of Object.keys(n))bn(n[o])&&(n[o].value=t[o])},BA={mounted(t,n){n.value&&xA(t,n)},updated(t,n){const o=t[Pm];n.oldValue!==n.value&&(n.value&&!n.oldValue?xA(t,n):n.value&&n.oldValue?xt(n.value)&&Yce(n.value,o.options):o==null||o.instance.close())},unmounted(t){var n;(n=t[Pm])==null||n.instance.close(),t[Pm]=null}},jce={install(t){t.directive("loading",BA),t.config.globalProperties.$loading=Ny},directive:BA,service:Ny},ix=["success","info","warning","error"],No=wn({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Kt?document.body:void 0}),qce=Ue({customClass:{type:String,default:No.customClass},center:{type:Boolean,default:No.center},dangerouslyUseHTMLString:{type:Boolean,default:No.dangerouslyUseHTMLString},duration:{type:Number,default:No.duration},icon:{type:ln,default:No.icon},id:{type:String,default:No.id},message:{type:fe([String,Object,Function]),default:No.message},onClose:{type:fe(Function),default:No.onClose},showClose:{type:Boolean,default:No.showClose},type:{type:String,values:ix,default:No.type},plain:{type:Boolean,default:No.plain},offset:{type:Number,default:No.offset},zIndex:{type:Number,default:No.zIndex},grouping:{type:Boolean,default:No.grouping},repeatNum:{type:Number,default:No.repeatNum}}),Jce={destroy:()=>!0},ci=aN([]),Zce=t=>{const n=ci.findIndex(l=>l.id===t),o=ci[n];let i;return n>0&&(i=ci[n-1]),{current:o,prev:i}},Qce=t=>{const{prev:n}=Zce(t);return n?n.vm.exposed.bottom.value:0},ede=(t,n)=>ci.findIndex(i=>i.id===t)>0?16:n,tde=["id"],nde=["innerHTML"],ode=ne({name:"ElMessage"}),sde=ne({...ode,props:qce,emits:Jce,setup(t,{expose:n}){const o=t,{Close:i}=RE,{ns:l,zIndex:a}=Hg("message"),{currentZIndex:u,nextZIndex:h}=a,p=V(),f=V(!1),g=V(0);let m;const _=w(()=>o.type?o.type==="error"?"danger":o.type:"info"),b=w(()=>{const P=o.type;return{[l.bm("icon",P)]:P&&Sl[P]}}),T=w(()=>o.icon||Sl[o.type]||""),$=w(()=>Qce(o.id)),E=w(()=>ede(o.id,o.offset)+$.value),y=w(()=>g.value+E.value),I=w(()=>({top:`${E.value}px`,zIndex:u.value}));function C(){o.duration!==0&&({stop:m}=Da(()=>{R()},o.duration))}function S(){m==null||m()}function R(){f.value=!1}function O({code:P}){P===mt.esc&&R()}return At(()=>{C(),h(),f.value=!0}),Me(()=>o.repeatNum,()=>{S(),C()}),gn(document,"keydown",O),In(p,()=>{g.value=p.value.getBoundingClientRect().height}),n({visible:f,bottom:y,close:R}),(P,M)=>(N(),be(Yn,{name:c(l).b("fade"),onBeforeLeave:P.onClose,onAfterLeave:M[0]||(M[0]=H=>P.$emit("destroy")),persisted:""},{default:ce(()=>[Rt(Q("div",{id:P.id,ref_key:"messageRef",ref:p,class:L([c(l).b(),{[c(l).m(P.type)]:P.type},c(l).is("center",P.center),c(l).is("closable",P.showClose),c(l).is("plain",P.plain),P.customClass]),style:ct(c(I)),role:"alert",onMouseenter:S,onMouseleave:C},[P.repeatNum>1?(N(),be(c(a1),{key:0,value:P.repeatNum,type:c(_),class:L(c(l).e("badge"))},null,8,["value","type","class"])):$e("v-if",!0),c(T)?(N(),be(c(at),{key:1,class:L([c(l).e("icon"),c(b)])},{default:ce(()=>[(N(),be(Ft(c(T))))]),_:1},8,["class"])):$e("v-if",!0),Te(P.$slots,"default",{},()=>[P.dangerouslyUseHTMLString?(N(),Y(dt,{key:1},[$e(" Caution here, message could've been compromised, never use user's input as message "),Q("p",{class:L(c(l).e("content")),innerHTML:P.message},null,10,nde)],2112)):(N(),Y("p",{key:0,class:L(c(l).e("content"))},ze(P.message),3))]),P.showClose?(N(),be(c(at),{key:2,class:L(c(l).e("closeBtn")),onClick:bt(R,["stop"])},{default:ce(()=>[ie(c(i))]),_:1},8,["class","onClick"])):$e("v-if",!0)],46,tde),[[qt,f.value]])]),_:3},8,["name","onBeforeLeave"]))}});var ide=We(sde,[["__file","message.vue"]]);let rde=1;const rx=t=>{const n=!t||yt(t)||Cn(t)||_t(t)?{message:t}:t,o={...No,...n};if(!o.appendTo)o.appendTo=document.body;else if(yt(o.appendTo)){let i=document.querySelector(o.appendTo);zs(i)||(i=document.body),o.appendTo=i}return o},lde=t=>{const n=ci.indexOf(t);if(n===-1)return;ci.splice(n,1);const{handler:o}=t;o.close()},ade=({appendTo:t,...n},o)=>{const i=`message_${rde++}`,l=n.onClose,a=document.createElement("div"),u={...n,id:i,onClose:()=>{l==null||l(),lde(g)},onDestroy:()=>{bl(null,a)}},h=ie(ide,u,_t(u.message)||Cn(u.message)?{default:_t(u.message)?u.message:()=>u.message}:null);h.appContext=o||Nc._context,bl(h,a),t.appendChild(a.firstElementChild);const p=h.component,g={id:i,vnode:h,vm:p,handler:{close:()=>{p.exposed.visible.value=!1}},props:h.component.props};return g},Nc=(t={},n)=>{if(!Kt)return{close:()=>{}};if($t(xT.max)&&ci.length>=xT.max)return{close:()=>{}};const o=rx(t);if(o.grouping&&ci.length){const l=ci.find(({vnode:a})=>{var u;return((u=a.props)==null?void 0:u.message)===o.message});if(l)return l.props.repeatNum+=1,l.props.type=o.type,l.handler}const i=ade(o,n);return ci.push(i),i.handler};ix.forEach(t=>{Nc[t]=(n={},o)=>{const i=rx(n);return Nc({...i,type:t},o)}});function ude(t){for(const n of ci)(!t||t===n.props.type)&&n.handler.close()}Nc.closeAll=ude;Nc._context=null;const lx=dM(Nc,"$message"),cde=ne({name:"ElMessageBox",directives:{TrapFocus:wY},components:{ElButton:ro,ElFocusTrap:lp,ElInput:Mo,ElOverlay:h0,ElIcon:at,...RE},inheritAttrs:!1,props:{buttonSize:{type:String,validator:hM},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:n}){const{locale:o,zIndex:i,ns:l,size:a}=Hg("message-box",w(()=>t.buttonSize)),{t:u}=o,{nextZIndex:h}=i,p=V(!1),f=Qt({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:h()}),g=w(()=>{const z=f.type;return{[l.bm("icon",z)]:z&&Sl[z]}}),m=So(),_=So(),b=w(()=>f.icon||Sl[f.type]||""),T=w(()=>!!f.message),$=V(),E=V(),y=V(),I=V(),C=V(),S=w(()=>f.confirmButtonClass);Me(()=>f.inputValue,async z=>{await pt(),t.boxType==="prompt"&&z!==null&&K()},{immediate:!0}),Me(()=>p.value,z=>{var G,W;z&&(t.boxType!=="prompt"&&(f.autofocus?y.value=(W=(G=C.value)==null?void 0:G.$el)!=null?W:$.value:y.value=$.value),f.zIndex=h()),t.boxType==="prompt"&&(z?pt().then(()=>{var D;I.value&&I.value.$el&&(f.autofocus?y.value=(D=te())!=null?D:$.value:y.value=$.value)}):(f.editorErrorMessage="",f.validateError=!1))});const R=w(()=>t.draggable),O=w(()=>t.overflow);pM($,E,R,O),At(async()=>{await pt(),t.closeOnHashChange&&window.addEventListener("hashchange",P)}),fn(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",P)});function P(){p.value&&(p.value=!1,pt(()=>{f.action&&n("action",f.action)}))}const M=()=>{t.closeOnClickModal&&B(f.distinguishCancelAndClose?"close":"cancel")},H=WE(M),F=z=>{if(f.inputType!=="textarea")return z.preventDefault(),B("confirm")},B=z=>{var G;t.boxType==="prompt"&&z==="confirm"&&!K()||(f.action=z,f.beforeClose?(G=f.beforeClose)==null||G.call(f,z,f,P):P())},K=()=>{if(t.boxType==="prompt"){const z=f.inputPattern;if(z&&!z.test(f.inputValue||""))return f.editorErrorMessage=f.inputErrorMessage||u("el.messagebox.error"),f.validateError=!0,!1;const G=f.inputValidator;if(typeof G=="function"){const W=G(f.inputValue);if(W===!1)return f.editorErrorMessage=f.inputErrorMessage||u("el.messagebox.error"),f.validateError=!0,!1;if(typeof W=="string")return f.editorErrorMessage=W,f.validateError=!0,!1}}return f.editorErrorMessage="",f.validateError=!1,!0},te=()=>{const z=I.value.$refs;return z.input||z.textarea},Z=()=>{B("close")},j=()=>{t.closeOnPressEscape&&Z()};return t.lockScroll&&DE(p),{...fo(f),ns:l,overlayEvent:H,visible:p,hasMessage:T,typeClass:g,contentId:m,inputId:_,btnSize:a,iconComponent:b,confirmButtonClasses:S,rootRef:$,focusStartRef:y,headerRef:E,inputRef:I,confirmRef:C,doClose:P,handleClose:Z,onCloseRequested:j,handleWrapperClick:M,handleInputEnter:F,handleAction:B,t:u}}}),dde=["aria-label","aria-describedby"],hde=["aria-label"],pde=["id"];function fde(t,n,o,i,l,a){const u=Nt("el-icon"),h=Nt("close"),p=Nt("el-input"),f=Nt("el-button"),g=Nt("el-focus-trap"),m=Nt("el-overlay");return N(),be(Yn,{name:"fade-in-linear",onAfterLeave:n[11]||(n[11]=_=>t.$emit("vanish")),persisted:""},{default:ce(()=>[Rt(ie(m,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:ce(()=>[Q("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:L(`${t.ns.namespace.value}-overlay-message-box`),onClick:n[8]||(n[8]=(..._)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(..._)),onMousedown:n[9]||(n[9]=(..._)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(..._)),onMouseup:n[10]||(n[10]=(..._)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(..._))},[ie(g,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:ce(()=>[Q("div",{ref:"rootRef",class:L([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:ct(t.customStyle),tabindex:"-1",onClick:n[7]||(n[7]=bt(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?(N(),Y("div",{key:0,ref:"headerRef",class:L([t.ns.e("header"),{"show-close":t.showClose}])},[Q("div",{class:L(t.ns.e("title"))},[t.iconComponent&&t.center?(N(),be(u,{key:0,class:L([t.ns.e("status"),t.typeClass])},{default:ce(()=>[(N(),be(Ft(t.iconComponent)))]),_:1},8,["class"])):$e("v-if",!0),Q("span",null,ze(t.title),1)],2),t.showClose?(N(),Y("button",{key:0,type:"button",class:L(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:n[0]||(n[0]=_=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:n[1]||(n[1]=rn(bt(_=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[ie(u,{class:L(t.ns.e("close"))},{default:ce(()=>[ie(h)]),_:1},8,["class"])],42,hde)):$e("v-if",!0)],2)):$e("v-if",!0),Q("div",{id:t.contentId,class:L(t.ns.e("content"))},[Q("div",{class:L(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(N(),be(u,{key:0,class:L([t.ns.e("status"),t.typeClass])},{default:ce(()=>[(N(),be(Ft(t.iconComponent)))]),_:1},8,["class"])):$e("v-if",!0),t.hasMessage?(N(),Y("div",{key:1,class:L(t.ns.e("message"))},[Te(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(N(),be(Ft(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(N(),be(Ft(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:ce(()=>[Wt(ze(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):$e("v-if",!0)],2),Rt(Q("div",{class:L(t.ns.e("input"))},[ie(p,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":n[2]||(n[2]=_=>t.inputValue=_),type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:L({invalid:t.validateError}),onKeydown:rn(t.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Q("div",{class:L(t.ns.e("errormsg")),style:ct({visibility:t.editorErrorMessage?"visible":"hidden"})},ze(t.editorErrorMessage),7)],2),[[qt,t.showInput]])],10,pde),Q("div",{class:L(t.ns.e("btns"))},[t.showCancelButton?(N(),be(f,{key:0,loading:t.cancelButtonLoading,class:L([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:n[3]||(n[3]=_=>t.handleAction("cancel")),onKeydown:n[4]||(n[4]=rn(bt(_=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:ce(()=>[Wt(ze(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):$e("v-if",!0),Rt(ie(f,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,class:L([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:n[5]||(n[5]=_=>t.handleAction("confirm")),onKeydown:n[6]||(n[6]=rn(bt(_=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:ce(()=>[Wt(ze(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[qt,t.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,dde)]),_:3},8,["z-index","overlay-class","mask"]),[[qt,t.visible]])]),_:3})}var mde=We(cde,[["render",fde],["__file","index.vue"]]);const Wh=new Map,gde=t=>{let n=document.body;return t.appendTo&&(yt(t.appendTo)&&(n=document.querySelector(t.appendTo)),zs(t.appendTo)&&(n=t.appendTo),zs(n)||(n=document.body)),n},$de=(t,n,o=null)=>{const i=ie(mde,t,_t(t.message)||Cn(t.message)?{default:_t(t.message)?t.message:()=>t.message}:null);return i.appContext=o,bl(i,n),gde(t).appendChild(n.firstElementChild),i.component},vde=()=>document.createElement("div"),_de=(t,n)=>{const o=vde();t.onVanish=()=>{bl(null,o),Wh.delete(l)},t.onAction=a=>{const u=Wh.get(l);let h;t.showInput?h={value:l.inputValue,action:a}:h=a,t.callback?t.callback(h,i.proxy):a==="cancel"||a==="close"?t.distinguishCancelAndClose&&a!=="cancel"?u.reject("close"):u.reject("cancel"):u.resolve(h)};const i=$de(t,o,n),l=i.proxy;for(const a in t)Xt(t,a)&&!Xt(l.$props,a)&&(l[a]=t[a]);return l.visible=!0,l};function Kc(t,n=null){if(!Kt)return Promise.reject();let o;return yt(t)||Cn(t)?t={message:t}:o=t.callback,new Promise((i,l)=>{const a=_de(t,n??Kc._context);Wh.set(a,{options:t,callback:o,resolve:i,reject:l})})}const bde=["alert","confirm","prompt"],Tde={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};bde.forEach(t=>{Kc[t]=yde(t)});function yde(t){return(n,o,i,l)=>{let a="";return xt(o)?(i=o,a=""):Fn(o)?a="":a=o,Kc(Object.assign({title:a,message:n,type:"",...Tde[t]},i,{boxType:t}),l)}}Kc.close=()=>{Wh.forEach((t,n)=>{n.doClose()}),Wh.clear()};Kc._context=null;const rl=Kc;rl.install=t=>{rl._context=t._context,t.config.globalProperties.$msgbox=rl,t.config.globalProperties.$messageBox=rl,t.config.globalProperties.$alert=rl.alert,t.config.globalProperties.$confirm=rl.confirm,t.config.globalProperties.$prompt=rl.prompt};const Ede=rl,ax=["success","info","warning","error"],Cde=Ue({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:ln},id:{type:String,default:""},message:{type:fe([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:fe(Function),default:()=>{}},onClose:{type:fe(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...ax,""],default:""},zIndex:Number}),Sde={destroy:()=>!0},Ide=["id"],wde=["textContent"],kde={key:0},Ode=["innerHTML"],Rde=ne({name:"ElNotification"}),Ade=ne({...Rde,props:Cde,emits:Sde,setup(t,{expose:n}){const o=t,{ns:i,zIndex:l}=Hg("notification"),{nextZIndex:a,currentZIndex:u}=l,{Close:h}=OE,p=V(!1);let f;const g=w(()=>{const C=o.type;return C&&Sl[o.type]?i.m(C):""}),m=w(()=>o.type&&Sl[o.type]||o.icon),_=w(()=>o.position.endsWith("right")?"right":"left"),b=w(()=>o.position.startsWith("top")?"top":"bottom"),T=w(()=>{var C;return{[b.value]:`${o.offset}px`,zIndex:(C=o.zIndex)!=null?C:u.value}});function $(){o.duration>0&&({stop:f}=Da(()=>{p.value&&y()},o.duration))}function E(){f==null||f()}function y(){p.value=!1}function I({code:C}){C===mt.delete||C===mt.backspace?E():C===mt.esc?p.value&&y():$()}return At(()=>{$(),a(),p.value=!0}),gn(document,"keydown",I),n({visible:p,close:y}),(C,S)=>(N(),be(Yn,{name:c(i).b("fade"),onBeforeLeave:C.onClose,onAfterLeave:S[1]||(S[1]=R=>C.$emit("destroy")),persisted:""},{default:ce(()=>[Rt(Q("div",{id:C.id,class:L([c(i).b(),C.customClass,c(_)]),style:ct(c(T)),role:"alert",onMouseenter:E,onMouseleave:$,onClick:S[0]||(S[0]=(...R)=>C.onClick&&C.onClick(...R))},[c(m)?(N(),be(c(at),{key:0,class:L([c(i).e("icon"),c(g)])},{default:ce(()=>[(N(),be(Ft(c(m))))]),_:1},8,["class"])):$e("v-if",!0),Q("div",{class:L(c(i).e("group"))},[Q("h2",{class:L(c(i).e("title")),textContent:ze(C.title)},null,10,wde),Rt(Q("div",{class:L(c(i).e("content")),style:ct(C.title?void 0:{margin:0})},[Te(C.$slots,"default",{},()=>[C.dangerouslyUseHTMLString?(N(),Y(dt,{key:1},[$e(" Caution here, message could've been compromised, never use user's input as message "),Q("p",{innerHTML:C.message},null,8,Ode)],2112)):(N(),Y("p",kde,ze(C.message),1))])],6),[[qt,C.message]]),C.showClose?(N(),be(c(at),{key:0,class:L(c(i).e("closeBtn")),onClick:bt(y,["stop"])},{default:ce(()=>[ie(c(h))]),_:1},8,["class","onClick"])):$e("v-if",!0)],2)],46,Ide),[[qt,p.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Nde=We(Ade,[["__file","notification.vue"]]);const hg={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},Ly=16;let Lde=1;const Lc=function(t={},n=null){if(!Kt)return{close:()=>{}};(typeof t=="string"||Cn(t))&&(t={message:t});const o=t.position||"top-right";let i=t.offset||0;hg[o].forEach(({vm:g})=>{var m;i+=(((m=g.el)==null?void 0:m.offsetHeight)||0)+Ly}),i+=Ly;const l=`notification_${Lde++}`,a=t.onClose,u={...t,offset:i,id:l,onClose:()=>{Mde(l,o,a)}};let h=document.body;zs(t.appendTo)?h=t.appendTo:yt(t.appendTo)&&(h=document.querySelector(t.appendTo)),zs(h)||(h=document.body);const p=document.createElement("div"),f=ie(Nde,u,Cn(u.message)?{default:()=>u.message}:null);return f.appContext=n??Lc._context,f.props.onDestroy=()=>{bl(null,p)},bl(f,p),hg[o].push({vm:f}),h.appendChild(p.firstElementChild),{close:()=>{f.component.exposed.visible.value=!1}}};ax.forEach(t=>{Lc[t]=(n={})=>((typeof n=="string"||Cn(n))&&(n={message:n}),Lc({...n,type:t}))});function Mde(t,n,o){const i=hg[n],l=i.findIndex(({vm:f})=>{var g;return((g=f.component)==null?void 0:g.props.id)===t});if(l===-1)return;const{vm:a}=i[l];if(!a)return;o==null||o(a);const u=a.el.offsetHeight,h=n.split("-")[0];i.splice(l,1);const p=i.length;if(!(p<1))for(let f=l;f<p;f++){const{el:g,component:m}=i[f].vm,_=Number.parseInt(g.style[h],10)-u-Ly;m.props.offset=_}}function Dde(){for(const t of Object.values(hg))t.forEach(({vm:n})=>{n.component.exposed.visible.value=!1})}Lc.closeAll=Dde;Lc._context=null;const Pde=dM(Lc,"$notify");var xde=[Wce,jce,lx,Ede,Pde,GD],Bde=R6([...xce,...xde]),dT={exports:{}},FA;function V0(){return FA||(FA=1,function(t,n){(function(o,i){t.exports=i()})(jo,function(){var o={},i,l,a,u,h,p,f,g,m,_,b,T,$,E,y,I,C,S,R,O,P,M,H,F,B,K,te,Z,j,z,G,W,D,X,oe,le,me,Se,Pe,de,ye,_e,Ke,ve,Ne,He,ae,he,Ae,Fe,Ce,De,Ve,ue,we,ke,Ge,ot,q,et,lt,Et,Tt,st,Re,Ye,A,x,ee,pe,re,je,Ct,U,se,Ee,Ie,Qe,Lt,Bn,go,Fo,uo,Vn,Io,qs,Dl,Yi,Pr,ja,xr,Ze,vt,un,Tn,wo,us,Js,$o,Ho,Zs,Je,St,Gt,tn,ko,Oo,U0,cp,Jg,Zg,G0,dp,qa,hp,W0,Qg,e$,z0,K0,Pl,X0,Yc,t$,vi,ji,Y0,n$,pp,o$,j0,s$,jc,q0,Ja,qc,fp,J0,Z0,Q0,Br,co,Jc,cs,eC,tC,nC,oC,sC,iC,rC,i$,qi,Za,r$,lC,aC,uC,cC,dC,hC,pC,fC,mC,l$,gC,Qa,mp,$C,eu,a$,u$,c$,gp,$p,d$,vC,h$,p$,f$,m$,g$,$$,v$,_C,Zc,_$,vp,_p,_i,b$,T$,Qc,y$,E$,bC,bp,C$,TC,yC,EC,CC,SC,tu,S$,I$,nu,Tp,IC,wC,w$,k$,Ji,O$,R$,kC,OC,RC,AC,A$,NC,N$,LC,xl,ed,yp,Ep,Bl,L$,Cp,M$,Un,MC,ou,su,DC,D$,Sp,iu,P$,Fl,td,x$,B$,PC,xC,BC,F$,FC,H$,nd,HC,VC,UC,GC,od,V$,WC,sd,U$,id,zC,KC,Fr,G$,bi,XC,YC,W$,jC,Hl,z$,qC,JC,ZC,QC,eS,K$,tS,nS,Ip,oS,sS,X$,wp,Y$,kp,j$,q$,ru,Vl,Zi,Hr,Op,Ti,iS,rS,lS,aS,J$,uS,Z$,Rp,cS,dS,hS,Q$,Ap,ev,Np,pS,fS,mS,gS,Vr,Ht,Qo,eo,Rn,yi,lu,kt,Gn,tv,$S,Lp,nv,vS,ov,Mp,sv,iv,_S,rv,bS,Dp,TS,yS,ES,CS,SS,lv,IS,rd,ld,wS,av,uv,cv,dv,Pp,hv,kS,OS,RS,au,pv,AS,xp,Cs,NS,Ur,fv,LS,ad,mv,gv,$v,vv,_v,bv,Tv,yv,Ev,Cv,MS,DS,PS,xS,BS,FS,HS,VS,US,Sv,Iv,wv,kv,Ov,Rv,Av,Bp,ud,Nv,GS,Lv,Mv,Dv,Pv,xv,Bv,Fv,Hv,Vv,Uv,WS,zS,KS,Gv,XS,YS,jS,qS,JS,rt;i=function(e,s,r,d){if(!(e instanceof ut)&&typeof e!="string"||`${e}`.trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),typeof s!="string"||s.trim()==="")throw Error('Invalid name "'+s+'". The name must be a non-empty string.');const v=s.toLowerCase();if(!r)throw Error("Can not register a null value");let k=Gr[e],J=Fp[e];if(k||(k=Gr[e]=Object.create(null),J=Fp[e]=Object.create(null)),l(e,r),!d&&k[v]&&k[v]!==r)throw Error('Name "'+v+'" with type "'+e+'" already registered.');k[v]=r,J[v]=s},l=function(e,s){switch(e){case String(ut.FIELD):if(typeof s.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},a=function(e,s){e=`${e}`.toLowerCase(),s=s.toLowerCase();const r=Gr[e];r&&r[s]?(delete Gr[e][s],delete Fp[e][s]):console.warn("Unable to unregister ["+s+"]["+e+"] from the registry.")},u=function(e,s,r){e=`${e}`.toLowerCase(),s=s.toLowerCase();const d=Gr[e];if(!d||!d[s]){if(s="Unable to find ["+s+"]["+e+"] in the registry.",r)throw Error(s+" You must require or register a "+e+" plugin.");return console.warn(s),null}return d[s]},h=function(e,s){return e=`${e}`.toLowerCase(),s=s.toLowerCase(),(e=Gr[e])?!!e[s]:!1},p=function(e,s,r){return u(e,s,r)},f=function(e,s,r){return u(e,s,r)},g=function(e,s,r){e=`${e}`.toLowerCase();var d=Gr[e];if(!d){if(d=`Unable to find [${e}] in the registry.`,r)throw Error(`${d} You must require or register a ${e} plugin.`);return console.warn(d),null}if(!s)return d;e=Fp[e],r=Object.create(null);for(const v of Object.keys(d))r[e[v]]=d[v];return r},m=function(e,s,r){return s=s.plugins[String(e)]||Ei,typeof s=="function"?s:p(e,s,r)},_=function(){return"blockly-"+(gx++).toString(36)},b=function(){return QS.genUid()},o.setRecordUndo$$module$build$src$core$events$utils=function(e){uu=e},T=function(){return uu},$=function(e){Wp.fireInternal(e)},E=function(e){if(S()){if(!Kl.length)try{requestAnimationFrame(()=>{setTimeout(y,0)})}catch{setTimeout(y,0)}Kl.push(e)}},y=function(){var e=I(Kl,!0);Kl.length=0;for(let r=0,d;d=e[r];r++)if(d.workspaceId){var s=F(d.workspaceId);s&&s.fireChangeListener(d)}e=new Set(e.map(r=>r.workspaceId));for(const r of e){if(!r||(e=F(r),!e))continue;e=e.getUndoStack();let d;for(s=e.length;0<s;s--){const v=e[s-1];if(v.group==="")break;if(d===void 0)d=v.group;else if(v.group!==d)break}d&&s!=e.length-1&&(s=e.splice(s,e.length-s),s=I(s,!0),e.push(...s))}},I=function(e,s){e=e.slice(),s||e.reverse();const r=[],d=Object.create(null);for(let J=0,ge;ge=e[J];J++)if(!ge.isNull()){var v=[ge.isUiEvent?Vp:ge.type,ge.blockId,ge.workspaceId].join(" "),k=d[v];const Xe=k?k.event:null;k?ge.type===o.MOVE$$module$build$src$core$events$utils&&k.index===J-1?(v=ge,Xe.newParentId=v.newParentId,Xe.newInputName=v.newInputName,Xe.newCoordinate=v.newCoordinate,v.reason&&(Xe.reason?(v=new Set(v.reason.concat(Xe.reason)),Xe.reason=Array.from(v)):Xe.reason=v.reason),k.index=J):ge.type===o.CHANGE$$module$build$src$core$events$utils&&ge.element===Xe.element&&ge.name===Xe.name?Xe.newValue=ge.newValue:ge.type===Wr?(k=ge,Xe.viewTop=k.viewTop,Xe.viewLeft=k.viewLeft,Xe.scale=k.scale,Xe.oldScale=k.oldScale):(ge.type!==tr||Xe.type!==Ci)&&(d[v]={event:ge,index:J},r.push(ge)):(d[v]={event:ge,index:J},r.push(ge))}e=r.filter(function(J){return!J.isNull()}),s||e.reverse();for(let J=1,ge;ge=e[J];J++)ge.type===o.CHANGE$$module$build$src$core$events$utils&&ge.element==="mutation"&&e.unshift(e.splice(J,1)[0]);return e},C=function(){for(let e=0,s;s=Kl[e];e++)s.recordUndo=!1},o.disable$$module$build$src$core$events$utils=function(){Hp++},o.enable$$module$build$src$core$events$utils=function(){Hp--},S=function(){return Hp===0},o.getGroup$$module$build$src$core$events$utils=function(){return zv},o.setGroup$$module$build$src$core$events$utils=function(e){Wp.setGroupInternal(e)},R=function(e){zv=typeof e=="boolean"?e?b():"":e},O=function(e){const s=[];e=e.getDescendants(!1);for(let r=0,d;d=e[r];r++)s[r]=d.id;return s},P=function(e,s){const r=M(e.type);if(!r)throw Error("Unknown event type.");return r.fromJson(e,s)},M=function(e){const s=p(ut.EVENT,e);if(!s)throw Error(`Event type ${e} not found in registry.`);return s},H=function(e){if((e.type===o.MOVE$$module$build$src$core$events$utils||e.type===o.CREATE$$module$build$src$core$events$utils)&&e.workspaceId){var s=F(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=s.getBlockById(e.blockId)){const r=uu;try{uu=!1;const d=e.getParent();if(d&&!d.hasDisabledReason(Up)){const v=e.getDescendants(!1);for(let k=0,J;J=v[k];k++)J.setDisabledReason(!1,Up)}else if((e.outputConnection||e.previousConnection)&&!s.isDragging())do e.setDisabledReason(!0,Up),e=e.getNextBlock();while(e)}finally{uu=r}}}},F=function(e){return dd[e]||null},B=function(){const e=[];for(const s in dd)e.push(dd[s]);return e},K=function(e){dd[e.id]=e},te=function(e){delete dd[e.id]},Z=function(){return eI},j=function(e){eI=e},z=function(){return Xl},o.setSelected$$module$build$src$core$common=function(e){if(Xl!==e){var s,r,d,v,k,J,ge=new(M(du))((d=(s=Xl)==null?void 0:s.id)!=null?d:null,(v=e==null?void 0:e.id)!=null?v:null,(J=(k=e==null?void 0:e.workspace.id)!=null?k:(r=Xl)==null?void 0:r.workspace.id)!=null?J:"");$(ge);var Xe;(Xe=Xl)==null||Xe.unselect(),Xl=e;var It;(It=Xl)==null||It.select()}},G=function(){return tI},W=function(e){tI=e},D=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const s=e.getParentSvg(),r=e.getCachedParentSvgSize();var d=s.parentElement;if(d instanceof HTMLElement){var v=d.offsetWidth;d=d.offsetHeight,r.width!==v&&(s.setAttribute("width",v+"px"),e.setCachedParentSvgSize(v,null)),r.height!==d&&(s.setAttribute("height",d+"px"),e.setCachedParentSvgSize(null,d)),e.resize()}},X=function(e,s){const r=Object.create(null),d=e.getDescendants(!0);s&&(e=e.getNextBlock())&&(e=d.indexOf(e),d.splice(e,d.length-e));for(let v=0,k;k=d[v];v++)r[k.type]?r[k.type]++:r[k.type]=1;return r},oe=function(e){return function(){this.jsonInit(e)}},le=function(e){nI.defineBlocksWithJsonArrayInternal(e)},me=function(e){o.defineBlocks$$module$build$src$core$common(o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const s={};for(let r=0;r<e.length;r++){const d=e[r];if(!d){console.warn(`Block definition #${r} in JSON array is ${d}. Skipping`);continue}const v=d.type;v?s[v]={init:oe(d)}:console.warn(`Block definition #${r} in JSON array is missing a type attribute. Skipping.`)}return s},o.defineBlocks$$module$build$src$core$common=function(e){for(const s of Object.keys(e)){const r=e[s];s in es&&console.warn(`Block definition "${s}" overwrites previous definition.`),es[s]=r}},Se=function(e,s){Pe(),Kp=setTimeout(function(){s&&s.handleRightClick(e)},$x)},Pe=function(){Kp&&(clearTimeout(Kp),Kp=0)},de=function(){zp=null},ye=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&Ke(e)},_e=function(e){return`${e.pointerId}`},Ke=function(e){const s=_e(e);return zp?zp===s:e.type==="pointerdown"?(zp=s,!0):!1},ve=function(e,s,r,d,v){function k(ge){(v||ye(ge))&&(r?d.call(r,ge):d(ge))}const J=[];if(s in Yl)for(let ge=0;ge<Yl[s].length;ge++){const Xe=Yl[s][ge];e.addEventListener(Xe,k,!1),J.push([e,Xe,k])}else e.addEventListener(s,k,!1),J.push([e,s,k]);return J},Ne=function(e,s,r,d){function v(J){r?d.call(r,J):d(J)}const k=[];if(s in Yl)for(let J=0;J<Yl[s].length;J++){const ge=Yl[s][J];e.addEventListener(ge,v,!1),k.push([e,ge,v])}else e.addEventListener(s,v,!1),k.push([e,s,v]);return k},He=function(e){const s=e[e.length-1][2];for(;e.length;){const[r,d,v]=e.pop();r.removeEventListener(d,v,!1)}return s},ae=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},he=function(e){return e.ctrlKey&&Jv?!0:e.button===2},Ae=function(e,s,r){const d=s.createSVGPoint();return d.x=e.clientX,d.y=e.clientY,r||(r=s.getScreenCTM().inverse()),d.matrixTransform(r)},Fe=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*fI,y:e.deltaY*fI};case 2:return{x:e.deltaX*mI,y:e.deltaY*mI}}},Ce=function(e,s){return s=e.indexOf(s),s===-1?!1:(e.splice(s,1),!0)},De=function(e){if(Zv)throw Error("CSS already injected");Qv+=`
`+e},Ve=function(e,s){Zv||(Zv=!0,e&&(e=s.replace(/[\\/]$/,""),s=Qv.replace(/<<<PATH>>>/g,e),Qv="",e=document.createElement("style"),e.id="blockly-common-style",s=document.createTextNode(s),e.appendChild(s),document.head.insertBefore(e,document.head.firstChild)))},ue=function(e,s,r){e=document.createElementNS(fd,`${e}`);for(const d in s)e.setAttribute(d,`${s[d]}`);return r&&r.appendChild(e),e},we=function(e,s){return s=s.split(" "),s.every(r=>e.classList.contains(r))?!1:(e.classList.add(...s),!0)},ke=function(e,s){e.classList.remove(...s.split(" "))},Ge=function(e,s){return s=s.split(" "),s.every(r=>!e.classList.contains(r))?!1:(e.classList.remove(...s),!0)},ot=function(e,s){return e.classList.contains(s)},q=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},et=function(e,s){const r=s.nextSibling;if(s=s.parentNode,!s)throw Error("Reference node has no parent.");r?s.insertBefore(e,r):s.appendChild(e)},lt=function(e,s){e.style.transform=s,e.style["-webkit-transform"]=s},Et=function(){t_++,Qs||(Qs=Object.create(null))},Tt=function(){t_--,t_||(Qs=null)},st=function(e){const s=e.textContent+`
`+e.className.baseVal;let r;if(Qs&&(r=Qs[s]))return r;try{r=e.getComputedTextLength()}catch{return 8*e.textContent.length}return Qs&&(Qs[s]=r),r},Re=function(e,s,r,d){return Ye(e,s+"pt",r,d)},Ye=function(e,s,r,d){const v=e.textContent;e=v+`
`+e.className.baseVal;var k;return Qs&&(k=Qs[e])||(jp||(k=document.createElement("canvas"),k.className="blocklyComputeCanvas",document.body.appendChild(k),jp=k.getContext("2d")),jp.font=r+" "+s+" "+d,k=v?jp.measureText(v).width:0,Qs&&(Qs[e]=k)),k},A=function(e,s,r,d){const v=document.createElement("span");v.style.font=r+" "+s+" "+d,v.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",s=document.createElement("div"),s.style.display="flex",s.style.position="fixed",s.style.top="0",s.style.left="0",s.appendChild(v),s.appendChild(e),document.body.appendChild(s),r={height:0,baseline:0};try{s.style.alignItems="baseline",r.baseline=e.offsetTop-v.offsetTop,s.style.alignItems="flex-end",r.height=e.offsetTop-v.offsetTop}finally{document.body.removeChild(s)}return r},x=function(e){return $I.getSizeInternal(e)},ee=function(e){if(re(e,"display")!=="none")return pe(e);const s=e.style,r=s.display,d=s.visibility,v=s.position;s.visibility="hidden",s.position="absolute",s.display="inline";const k=e.offsetWidth;return e=e.offsetHeight,s.display=r,s.position=v,s.visibility=d,new cn(k,e)},pe=function(e){return new cn(e.offsetWidth,e.offsetHeight)},re=function(e,s){return e=window.getComputedStyle(e),e[s]||e.getPropertyValue(s)},je=function(e){const s=new ht(0,0);e=e.getBoundingClientRect();var r=document.documentElement;return r=new ht(window.pageXOffset||r.scrollLeft,window.pageYOffset||r.scrollTop),s.x=e.left+r.x,s.y=e.top+r.y,s},Ct=function(){const e=document.body,s=document.documentElement;return new ht(e.scrollLeft||s.scrollLeft,e.scrollTop||s.scrollTop)},U=function(e){const s=parseFloat(re(e,"borderLeftWidth")),r=parseFloat(re(e,"borderRightWidth")),d=parseFloat(re(e,"borderTopWidth"));return e=parseFloat(re(e,"borderBottomWidth")),new yn(d,e,s,r)},se=function(e,s,r){e=Ee(e,s,r),s.scrollLeft=e.x,s.scrollTop=e.y},Ee=function(e,s,r){var d=je(e),v=je(s),k=U(s);const J=d.x-v.x-k.left;return d=d.y-v.y-k.top,v=pe(e),e=s.clientWidth-v.width,v=s.clientHeight-v.height,k=s.scrollLeft,s=s.scrollTop,r?(k+=J-e/2,s+=d-v/2):(k+=Math.min(J,Math.max(J-e,0)),s+=Math.min(d,Math.max(d-v,0))),new ht(k,s)},Ie=function(e){const s=new ht(0,0);var r=e.x&&e.getAttribute("x");const d=e.y&&e.getAttribute("y");return r&&(s.x=parseInt(r)),d&&(s.y=parseInt(d)),(r=(r=e.getAttribute("transform"))&&r.match(vI))&&(s.x+=Number(r[1]),r[3]&&(s.y+=Number(r[3]))),(e=e.getAttribute("style"))&&e.includes("translate")&&(e=e.match(_I))&&(s.x+=Number(e[1]),e[3]&&(s.y+=Number(e[3]))),s},Qe=function(e){let s=0,r=0;for(;e;){const d=Ie(e);if(s+=d.x,r+=d.y,(" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv "))break;e=e.parentNode}return new ht(s,r)},Lt=function(){const e=Ct();return new yn(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},Bn=function(){const e=document.documentElement,s=window;return new ht(s.pageXOffset||e.scrollLeft,s.pageYOffset||e.scrollTop)},go=function(e,s){var r=s.x;s=s.y;const d=e.getInjectionDiv().getBoundingClientRect();return r=new ht(r-d.left,s-d.top),s=e.getOriginOffsetInPixels(),ht.difference(r,s).scale(1/e.scale)},Fo=function(e,s){var r=s.scale(e.scale);s=r.x,r=r.y;const d=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new ht(s+d.left+e.x,r+d.top+e.y)},uo=function(e){({document:Jp=Jp,DOMParser:md=md,XMLSerializer:gd=gd}=e),qp=new md,n_=new gd},o.createElement$$module$build$src$core$utils$xml=function(e){return Jp.createElementNS(bI,e)},o.createTextNode$$module$build$src$core$utils$xml=function(e){return Jp.createTextNode(e)},o.textToDom$$module$build$src$core$utils$xml=function(e){let s=qp.parseFromString(e,"text/xml");if(s&&s.documentElement&&!s.getElementsByTagName("parsererror").length)return s.documentElement;if((s=qp.parseFromString(e,"text/html"))&&s.body.firstChild&&s.body.firstChild.nodeName.toLowerCase()==="xml")return s.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},Vn=function(e){return Io(n_.serializeToString(e))},Io=function(e){return e.replace(Tx,s=>`&#${s.charCodeAt(0)};`)},qs=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=Tn(e),e=Ze(e)),Dl(e),e):null},Dl=function(e){const s=e.kind;if(e=e.contents,s&&s!==TI&&s!==o_)throw Error("Invalid toolbox kind "+s+". Please supply either "+TI+" or "+o_);if(!e)throw Error("Toolbox must have a contents attribute.")},Yi=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:vt(e):[]},Pr=function(e){return yI.hasCategoriesInternal(e)},ja=function(e){if(!e)return!1;const s=e.kind;return s?s===o_:!!e.contents.filter(function(r){return r.kind.toUpperCase()==="CATEGORY"}).length},xr=function(e){return e&&e.contents?!!e.contents.filter(function(s){return s.kind.toUpperCase()==="CATEGORY"}).length:!1},Ze=function(e){const s={contents:vt(e)};return e instanceof Node&&un(e,s),s},vt=function(e){const s=[];let r=e.childNodes;r||(r=e);for(let d=0,v;v=r[d];d++){if(!v.tagName)continue;e={};const k=v.tagName.toUpperCase();e.kind=k,k==="BLOCK"?e.blockxml=v:v.childNodes&&0<v.childNodes.length&&(e.contents=vt(v)),un(v,e),s.push(e)}return s},un=function(e,s){for(let r=0;r<e.attributes.length;r++){const d=e.attributes[r];d.nodeName.includes("css-")?(s.cssconfig=s.cssconfig||{},s.cssconfig[d.nodeName.replace("css-","")]=d.value):s[d.nodeName]=d.value}},Tn=function(e){let s=null;if(e)if(typeof e=="string"){if(s=o.textToDom$$module$build$src$core$utils$xml(e),s.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(s=e);return s},wo=function(e,s,r,d,v,k){const J=k.scrollbar&&k.scrollbar.canScrollVertically();return e.horizontal===bu.LEFT?(r=v.absoluteMetrics.left+r,J&&k.RTL&&(r+=Wn.scrollbarThickness)):(r=v.absoluteMetrics.left+v.viewMetrics.width-s.width-r,J&&!k.RTL&&(r-=Wn.scrollbarThickness)),e.vertical===lr.TOP?e=v.absoluteMetrics.top+d:(e=v.absoluteMetrics.top+v.viewMetrics.height-s.height-d,k.scrollbar&&k.scrollbar.canScrollHorizontally()&&(e-=Wn.scrollbarThickness)),new yn(e,e+s.height,r,r+s.width)},us=function(e,s){return{horizontal:s.toolboxMetrics.position===Jt.LEFT||e.horizontalLayout&&!e.RTL?bu.RIGHT:bu.LEFT,vertical:s.toolboxMetrics.position===Jt.BOTTOM?lr.TOP:lr.BOTTOM}},Js=function(e,s,r,d){const v=e.left,k=e.right-e.left,J=e.bottom-e.top;for(let ge=0;ge<d.length;ge++){const Xe=d[ge];e.intersects(Xe)&&(e=r===Xr.UP?Xe.top-J-s:Xe.bottom+s,e=new yn(e,e+J,v,v+k),ge=-1)}return e},$o=function(e,s){CI(e,s)},Ho=function(e){CI=e},Zs=function(e,s){wI.confirmInternal(e,s)},Je=function(e,s){SI(e,s)},St=function(e){SI=e},Gt=function(e,s,r){II(e,s,r)},tn=function(e){II=e},ko=function(e){return e.getVariableModel!==void 0},Oo=function(e){return e.getProcedureDef!==void 0},U0=function(e){return e.getProcedureCall!==void 0&&e.renameProcedure!==void 0},o.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const s=new Set;for(let r=0;r<e.length;r++){const d=e[r].getVarModels();if(d)for(let v=0;v<d.length;v++){const k=d[v];k.getId()&&s.add(k)}}return Array.from(s.values())},o.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const s=new Set;for(let d=0,v;v=e[d];d++){var r=v.getDeveloperVariables;if(r){r=r();for(let k=0;k<r.length;k++)s.add(r[k])}}return Array.from(s.values())},cp=function(e){let s=[];const r=document.createElement("button");return r.setAttribute("text","%{BKY_NEW_VARIABLE}"),r.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(d){qa(d.getTargetWorkspace())}),s.push(r),e=Jg(e),s=s.concat(e)},Jg=function(e){e=e.getVariablesOfType("");const s=[];if(0<e.length){var r=e[e.length-1];if(es.variables_set){var d=o.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","variables_set"),d.setAttribute("gap",es.math_change?"8":"24"),d.appendChild(Pl(r)),s.push(d)}if(es.math_change&&(d=o.createElement$$module$build$src$core$utils$xml("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",es.variables_get?"20":"8"),d.appendChild(Pl(r)),r=o.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(r),s.push(d)),es.variables_get){e.sort(_d.compareByName);for(let v=0,k;k=e[v];v++)r=o.createElement$$module$build$src$core$utils$xml("block"),r.setAttribute("type","variables_get"),r.setAttribute("gap","8"),r.appendChild(Pl(k)),s.push(r)}}return s},Zg=function(e){return OI.generateUniqueNameInternal(e)},G0=function(e){return dp(l_.charAt(0),e.getAllVariableNames())},dp=function(e,s){if(!s.length)return e;const r=l_;let d="",v=r.indexOf(e);for(;;){let k=!1;for(let J=0;J<s.length;J++)if(s[J].toLowerCase()===e){k=!0;break}if(!k)break;v++,v===r.length&&(v=0,d=`${Number(d)+1}`),e=r.charAt(v)+d}return e},qa=function(e,s,r){function d(k){hp(o.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,k,function(J){if(J){var ge=Qg(J,e);if(ge){if(ge.type===v)var Xe=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",ge.name);else Xe=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,Xe=Xe.replace("%1",ge.name).replace("%2",ge.type);$o(Xe,function(){d(J)})}else e.createVariable(J,v),s&&s(J)}else s&&s(null)})}const v=r||"";d("")},o.renameVariable$$module$build$src$core$variables=function(e,s,r){function d(v){const k=o.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",s.name);hp(k,v,function(J){if(J){var ge=W0(J,s.type,e),Xe=e$(s.name,J,e);if(ge||Xe){var It="";ge?It=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",ge.name).replace("%2",ge.type):Xe&&(It=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",J).replace("%2",Xe)),$o(It,function(){d(J)})}else e.renameVariableById(s.getId(),J),r&&r(J)}else r&&r(null)})}d("")},hp=function(e,s,r){Gt(e,s,function(d){d&&(d=d.replace(/[\s\xa0]+/g," ").trim(),d===o.Msg$$module$build$src$core$msg.RENAME_VARIABLE||d===o.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(d=null),r(d)})},W0=function(e,s,r){r=r.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let d=0,v;v=r[d];d++)if(v.name.toLowerCase()===e&&v.type!==s)return v;return null},Qg=function(e,s){s=s.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let r=0,d;d=s[r];r++)if(d.name.toLowerCase()===e)return d;return null},e$=function(e,s,r){return r.getProcedureMap().getProcedures().length?z0(e,s,r):K0(e,s,r)},z0=function(e,s,r){e=e.toLowerCase(),s=s.toLowerCase(),r=r.getProcedureMap().getProcedures();for(const v of r){var d=v.getParameters().filter(ko).map(k=>k.getVariableModel().name);if(d&&(r=d.some(k=>k.toLowerCase()===e),d=d.some(k=>k.toLowerCase()===s),r&&d))return v.getName()}return null},K0=function(e,s,r){e=e.toLowerCase(),s=s.toLowerCase(),r=r.getAllBlocks(!1);for(const v of r){if(!Oo(v))continue;r=v.getProcedureDef();var d=r[1];const k=d.some(J=>J.toLowerCase()===e);if(d=d.some(J=>J.toLowerCase()===s),k&&d)return r[0]}return null},Pl=function(e){const s=o.createElement$$module$build$src$core$utils$xml("field");return s.setAttribute("name","VAR"),s.setAttribute("id",e.getId()),s.setAttribute("variabletype",e.type),e=o.createTextNode$$module$build$src$core$utils$xml(e.name),s.appendChild(e),s},o.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,s,r,d){let v=o.getVariable$$module$build$src$core$variables(e,s,r,d);return v||(v=X0(e,s,r,d)),v},o.getVariable$$module$build$src$core$variables=function(e,s,r,d){const v=e.getPotentialVariableMap();let k=null;if(s&&(k=e.getVariableById(s),!k&&v&&(k=v.getVariableById(s)),k))return k;if(r){if(d===void 0)throw Error("Tried to look up a variable by name without a type");k=e.getVariable(r,d),!k&&v&&(k=v.getVariable(r,d))}return k},X0=function(e,s,r,d){const v=e.getPotentialVariableMap();return r||(r=Zg(e.isFlyout?e.targetWorkspace:e)),v?v.createVariable(r,d,s):e.createVariable(r,d,s)},Yc=function(e,s){e=e.getAllVariables();const r=[];if(s.length!==e.length)for(let d=0;d<e.length;d++){const v=e[d];s.includes(v)||r.push(v)}return r},t$=function(e){return n$(e),Y0()?(pp(),Promise.resolve()):(Tu||(Tu=new Promise(s=>{c_=s,RI=window.requestAnimationFrame(()=>{pp(),s()})})),Tu)},vi=function(){return Tu||Promise.resolve()},ji=function(e){e||window.cancelAnimationFrame(RI),pp(e),!e&&c_&&c_()},Y0=function(){return cI},n$=function(e){a_.add(e),u_.set(e,o.getGroup$$module$build$src$core$events$utils());const s=e.getParent();s?n$(s):Qp.add(e)},pp=function(e){const s=e?new Set([e]):new Set([...Qp].map(k=>k.workspace)),r=[...Qp].filter(j0).filter(k=>s.has(k.workspace));for(var d of r)s$(d);for(const k of s)k.resizeContents();for(var v of r)d=v.getRelativeToSurfaceXY(),v.updateComponentLocations(d);for(const k of r)v=o.getGroup$$module$build$src$core$events$utils(),(d=u_.get(k))&&o.setGroup$$module$build$src$core$events$utils(d),k.bumpNeighbours(),o.setGroup$$module$build$src$core$events$utils(v);for(const k of r)o$(k);e||(Tu=null)},o$=function(e){Qp.delete(e),a_.delete(e),u_.delete(e);for(const s of e.getChildren(!1))o$(s)},j0=function(e){return!e.isDisposed()&&!e.getParent()},s$=function(e){if(a_.has(e)&&e.initialized){for(const s of e.getChildren(!1))s$(s);e.renderEfficiently()}},jc=function(e,s){i(ut.SERIALIZER,e,s)},q0=function(e){a(ut.SERIALIZER,e)},Ja=function(e,{addCoordinates:s=!1,saveIds:r=!0}={}){const d=e.workspace,v=Object.create(null);return v.height=e.getSize().height,v.width=e.getSize().width,r&&(v.id=e.id),s&&(s=e.getRelativeToSurfaceXY(),v.x=d.RTL?d.getWidth()-s.x:s.x,v.y=s.y),e.getText()&&(v.text=e.getText()),e.isCollapsed()&&(v.collapsed=!0),e.isOwnEditable()||(v.editable=!1),e.isOwnMovable()||(v.movable=!1),e.isOwnDeletable()||(v.deletable=!1),v},qc=function(e,s,{recordUndo:r=!1}={}){const d=T();if(o.setRecordUndo$$module$build$src$core$events$utils(r),r=s.newComment(e.id),e.text!==void 0&&r.setText(e.text),e.x!==void 0||e.y!==void 0){const k=r.getRelativeToSurfaceXY();let J,ge=(J=e.x)!=null?J:k.x;ge=s.RTL?s.getWidth()-ge:ge;var v;s=(v=e.y)!=null?v:k.y,r.moveTo(new ht(ge,s))}if(e.width!==void 0||e.height){v=r.getSize();let k,J;r.setSize(new cn((k=e.width)!=null?k:v.width,(J=e.height)!=null?J:v.height))}return e.collapsed!==void 0&&r.setCollapsed(e.collapsed),e.editable!==void 0&&r.setEditable(e.editable),e.movable!==void 0&&r.setMovable(e.movable),e.deletable!==void 0&&r.setDeletable(e.deletable),o.setRecordUndo$$module$build$src$core$events$utils(d),r},fp=function(e,s){i(ut.PASTER,e,s)},J0=function(e){a(ut.PASTER,e)},Z0=function(e){const s=e.workspace,r=e.getRelativeToSurfaceXY(),d=new ht(0,0),v=s.getTopComments(!1).filter(k=>k.id!==e.id).map(k=>k.getRelativeToSurfaceXY());for(;Q0(ht.sum(r,d),v);)d.translate(s.RTL?-30:30,30);e.moveTo(ht.sum(r,d))},Q0=function(e,s){return s.some(r=>1>=Math.abs(r.x-e.x)&&1>=Math.abs(r.y-e.y))},Br=function(e,s){e.setAttribute(Sx,s)},co=function(e,s,r){Array.isArray(r)&&(r=r.join(" ")),e.setAttribute(Cx+s,`${r}`)},Jc=function(e){return e.saveState!==void 0&&e.loadState!==void 0},cs=function(e,{addCoordinates:s=!1,addInputBlocks:r=!0,addNextBlocks:d=!0,doFullSerialization:v=!0,saveIds:k=!0}={}){if(e.isInsertionMarker())return null;const J={type:e.type,id:k?e.id:void 0};return s&&tC(e,J),eC(e,J),nC(e,J,v),oC(e,J,v),sC(e,J,v),r&&iC(e,J,v,k),d&&rC(e,J,v,k),J},eC=function(e,s){e.isCollapsed()&&(s.collapsed=!0),e.isEnabled()||(s.disabledReasons=Array.from(e.getDisabledReasons())),e.isOwnDeletable()||(s.deletable=!1),e.isOwnMovable()||(s.movable=!1),e.isOwnEditable()||(s.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(s.inline=e.inputsInline),e.data&&(s.data=e.data)},tC=function(e,s){const r=e.workspace;e=e.getRelativeToSurfaceXY(),s.x=Math.round(r.RTL?r.getWidth()-e.x:e.x),s.y=Math.round(e.y)},nC=function(e,s,r){e.saveExtraState?(e=e.saveExtraState(r),e!==null&&(s.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(s.extraState=bi(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},oC=function(e,s,r){const d=Object.create(null);for(const v of e.getIcons())Jc(v)&&(e=v.saveState(r))&&(d[v.getType().toString()]=e);Object.keys(d).length&&(s.icons=d)},sC=function(e,s,r){const d=Object.create(null);for(let v=0;v<e.inputList.length;v++){const k=e.inputList[v];for(let J=0;J<k.fieldRow.length;J++){const ge=k.fieldRow[J];ge.isSerializable()&&(d[ge.name]=ge.saveState(r))}}Object.keys(d).length&&(s.fields=d)},iC=function(e,s,r,d){const v=Object.create(null);for(let k=0;k<e.inputList.length;k++){const J=e.inputList[k];if(!J.connection)continue;const ge=i$(J.connection,r,d);ge&&(v[J.name]=ge)}Object.keys(v).length&&(s.inputs=v)},rC=function(e,s,r,d){e.nextConnection&&(e=i$(e.nextConnection,r,d))&&(s.next=e)},i$=function(e,s,r){const d=e.getShadowState(!0);if(e=e.targetBlock(),!d&&!e)return null;const v=Object.create(null);return d&&(v.shadow=d),e&&!e.isShadow()&&(v.block=cs(e,{doFullSerialization:s,saveIds:r})),v},qi=function(e,s,{recordUndo:r=!1}={}){return e=Za(e,s,{recordUndo:r}),s.rendered&&ji(),e},Za=function(e,s,{parentConnection:r,isShadow:d=!1,recordUndo:v=!1}={}){const k=T();o.setRecordUndo$$module$build$src$core$events$utils(v),(v=o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),o.disable$$module$build$src$core$events$utils();const J=s.getAllVariables();let ge;try{ge=r$(e,s,{parentConnection:r,isShadow:d})}finally{o.enable$$module$build$src$core$events$utils()}if(lC(s,J),S()&&$(new(M(o.CREATE$$module$build$src$core$events$utils))(ge)),o.setGroup$$module$build$src$core$events$utils(v),o.setRecordUndo$$module$build$src$core$events$utils(k),s.rendered){const Xe=ge;setTimeout(()=>{Xe.disposed||Xe.setConnectionTracking(!0)},1)}return ge},r$=function(e,s,{parentConnection:r,isShadow:d=!1}={}){if(!e.type)throw new BI(e);const v=s.newBlock(e.type,e.id);return v.setShadow(d),aC(v,e),uC(v,e),cC(v,e),dC(r,v,e),hC(v,e),pC(v,e),fC(v,e),mC(v,e),gC(v,s.rendered),v},lC=function(e,s){if(S())for(e=Yc(e,s),s=0;s<e.length;s++){const r=e[s];$(new(M(er))(r))}},aC=function(e,s){let r=s.x===void 0?0:s.x;s=s.y===void 0?0:s.y;const d=e.workspace;r=d.RTL?d.getWidth()-r:r,e.moveBy(r,s)},uC=function(e,s){if(s.collapsed&&e.setCollapsed(!0),s.deletable===!1&&e.setDeletable(!1),s.movable===!1&&e.setMovable(!1),s.editable===!1&&e.setEditable(!1),s.enabled===!1&&e.setDisabledReason(!0,Ss),Array.isArray(s.disabledReasons))for(const r of s.disabledReasons)e.setDisabledReason(!0,r);s.inline!==void 0&&e.setInputsInline(s.inline),s.data!==void 0&&(e.data=s.data)},cC=function(e,s){s.extraState&&(e.loadExtraState?e.loadExtraState(s.extraState):e.domToMutation&&e.domToMutation(o.textToDom$$module$build$src$core$utils$xml(s.extraState)))},dC=function(e,s,r){if(e){if(e.getSourceBlock().isShadow()&&!s.isShadow())throw new HI(r);if(e.type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var d=s.outputConnection;if(!d)throw new Td("output",s,r)}else if(d=s.previousConnection,!d)throw new Td("previous",s,r);if(!e.connect(d)){const v=s.workspace.connectionChecker;throw new FI(v.getErrorMessage(v.canConnectWithReason(d,e,!1),d,e),e.type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",s,r)}}},hC=function(e,s){if(s.icons){var r=Object.keys(s.icons);for(const v of r){r=s.icons[v];var d=e.getIcon(v);if(!d){if(d=p(ut.ICON,v,!1),!d)throw new VI(v,e,s);d=new d(e),e.addIcon(d)}Jc(d)&&d.loadState(r)}}},pC=function(e,s){if(s.fields){var r=Object.keys(s.fields);for(let d=0;d<r.length;d++){const v=r[d],k=s.fields[v],J=e.getField(v);J?J.loadState(k):console.warn(`Ignoring non-existant field ${v} in block ${e.type}`)}}},fC=function(e,s){if(s.inputs){var r=Object.keys(s.inputs);for(let d=0;d<r.length;d++){const v=r[d],k=e.getInput(v);if(!k||!k.connection)throw new Td(v,e,s);l$(k.connection,s.inputs[v])}}},mC=function(e,s){if(s.next){if(!e.nextConnection)throw new Td("next",e,s);l$(e.nextConnection,s.next)}},l$=function(e,s){s.shadow&&e.setShadowState(s.shadow),s.block&&r$(s.block,e.getSourceBlock().workspace,{parentConnection:e})},gC=function(e,s){if(s){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const r of e.getIcons())r.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},Qa=function(e){return e.bubbleIsVisible!==void 0&&e.setBubbleVisible!==void 0},mp=function(e){return e*Math.PI/180},$C=function(e){return 180*e/Math.PI},eu=function(e,s,r){if(r<e){const d=r;r=e,e=d}return Math.max(e,Math.min(s,r))},a$=function(){document.querySelector(".blocklyDropDownDiv")||(hn=document.createElement("div"),hn.className="blocklyDropDownDiv",(G()||document.body).appendChild(hn),Iu=document.createElement("div"),Iu.className="blocklyDropDownContent",hn.appendChild(Iu),oa=document.createElement("div"),oa.className="blocklyDropDownArrow",hn.appendChild(oa),hn.style.opacity="0",hn.style.transition="transform "+rf+"s, opacity "+rf+"s",hn.addEventListener("focusin",function(){we(hn,"blocklyFocused")}),hn.addEventListener("focusout",function(){Ge(hn,"blocklyFocused")}))},u$=function(e){b_=e},c$=function(){return Yr},gp=function(){return Iu},$p=function(){Iu.textContent="",Iu.style.width=""},d$=function(e,s){hn.style.backgroundColor=e,hn.style.borderColor=s},vC=function(e,s,r,d){return m$(p$(s),e,r,d)},h$=function(e,s,r){return WI=!0,m$(f$(e),e,s,r)},p$=function(e){var s=e.getSvgRoot();const r=e.workspace.scale,d=e.height*r;return e=e.width*r,s=je(s),new yn(s.y,s.y+d,s.x,s.x+e)},f$=function(e){return e=e.getScaledBBox(),new yn(e.top,e.bottom,e.left,e.right)},m$=function(e,s,r,d){const v=e.left+(e.right-e.left)/2,k=e.bottom;e=e.top,d&&(e+=d),d=s.getSourceBlock();let J=d.workspace;for(;J.options.parentWorkspace;)J=J.options.parentWorkspace;return u$(J.getParentSvg().parentNode),g$(s,d.RTL,v,k,v,e,r)},g$=function(e,s,r,d,v,k,J){return Yr=e,na=J||null,hn.style.direction=s?"rtl":"ltr",e=Z(),Cu=e.getRenderer().getClassName(),Su=e.getTheme().getClassName(),Cu&&we(hn,Cu),Su&&we(hn,Su),b$(r,d,v,k)},$$=function(e,s,r,d){return e=Zc(e,r.left,r.right,d.width),{initialX:e.divX,initialY:s,finalX:e.divX,finalY:s+v_,arrowX:e.arrowX,arrowY:-(Ed/2+$_),arrowAtTop:!0,arrowVisible:!0}},v$=function(e,s,r,d){return e=Zc(e,r.left,r.right,d.width),{initialX:e.divX,initialY:s-d.height,finalX:e.divX,finalY:s-d.height-v_,arrowX:e.arrowX,arrowY:d.height-2*$_-Ed/2,arrowAtTop:!1,arrowVisible:!0}},_C=function(e,s,r){return e=Zc(e,s.left,s.right,r.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},Zc=function(e,s,r,d){return s=eu(s,e-d/2,r-d),e=e-Ed/2-s,r=GI,e=eu(r,e,d-r-Ed),{arrowX:e,divX:s}},_$=function(){return!!Yr},vp=function(e,s){return Yr===e?(s?_i():_p(),!0):!1},_p=function(){hn.style.transform="translate(0, 0)",hn.style.opacity="0",__=setTimeout(function(){_i()},1e3*rf),na&&(na(),na=null)},_i=function(){_$()&&(__&&clearTimeout(__),hn.style.transform="",hn.style.left="",hn.style.top="",hn.style.opacity="0",hn.style.display="none",hn.style.backgroundColor="",hn.style.borderColor="",na&&(na(),na=null),$p(),Yr=null,Cu&&(Ge(hn,Cu),Cu=""),Su&&(Ge(hn,Su),Su=""),Z().markFocused())},b$=function(e,s,r,d){e=T_.getPositionMetrics(e,s,r,d),e.arrowVisible?(oa.style.display="",oa.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",oa.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):oa.style.display="none",s=Math.floor(e.initialX),r=Math.floor(e.initialY),d=Math.floor(e.finalX);const v=Math.floor(e.finalY);return hn.style.left=s+"px",hn.style.top=r+"px",hn.style.display="block",hn.style.opacity="1",hn.style.transform="translate("+(d-s)+"px,"+(v-r)+"px)",!!e.arrowAtTop},T$=function(){if(Yr){var e=Yr.getSourceBlock();e=WI?f$(Yr):p$(e);const s=e.left+(e.right-e.left)/2;b$(s,e.bottom,s,e.top)}else _p()},Qc=function(e){return e.length?e.reduce(function(s,r){return s.length<r.length?s:r}).length:0},y$=function(e,s){if(!e.length)return 0;if(e.length===1)return e[0].length;let r=0;s=s||Qc(e);let d;for(d=0;d<s;d++){for(var v=e[0][d],k=1;k<e.length;k++)if(v!==e[k][d])return r;v===" "&&(r=d+1)}for(v=1;v<e.length;v++)if((k=e[v][d])&&k!==" ")return r;return s},E$=function(e,s){if(!e.length)return 0;if(e.length===1)return e[0].length;let r=0;s=s||Qc(e);let d;for(d=0;d<s;d++){for(var v=e[0].substr(-d-1,1),k=1;k<e.length;k++)if(v!==e[k].substr(-d-1,1))return r;v===" "&&(r=d+1)}for(v=1;v<e.length;v++)if((k=e[v].charAt(e[v].length-d-1))&&k!==" ")return r;return s},o.wrap$$module$build$src$core$utils$string=function(e,s){e=e.split(`
`);for(let r=0;r<e.length;r++)e[r]=bC(e[r],s);return e.join(`
`)},bC=function(e,s){if(e.length<=s)return e;const r=e.trim().split(/\s+/);for(var d=0;d<r.length;d++)r[d].length>s&&(s=r[d].length);var v=-1/0;let k,J=1;do{d=v,k=e,e=[],v=r.length/J;let ge=1;for(let Xe=0;Xe<r.length-1;Xe++)ge<(Xe+1.5)/v?(ge++,e[Xe]=!0):e[Xe]=!1;e=C$(r,e,s),v=bp(r,e,s),e=TC(r,e),J++}while(v>d);return k},bp=function(e,s,r){const d=[0],v=[];for(var k=0;k<e.length;k++)d[d.length-1]+=e[k].length,s[k]===!0?(d.push(0),v.push(e[k].charAt(e[k].length-1))):s[k]===!1&&d[d.length-1]++;for(e=Math.max(...d),s=0,k=0;k<d.length;k++)s-=2*Math.pow(Math.abs(r-d[k]),1.5),s-=Math.pow(e-d[k],1.5),".?!".includes(v[k])?s+=r/3:",;)]}".includes(v[k])&&(s+=r/4);return 1<d.length&&d[d.length-1]<=d[d.length-2]&&(s+=.5),s},C$=function(e,s,r){let d=bp(e,s,r),v;for(let k=0;k<s.length-1;k++){if(s[k]===s[k+1])continue;const J=[].concat(s);J[k]=!J[k],J[k+1]=!J[k+1];const ge=bp(e,J,r);ge>d&&(d=ge,v=J)}return v?C$(e,v,r):s},TC=function(e,s){const r=[];for(let d=0;d<e.length;d++)r.push(e[d]),s[d]!==void 0&&r.push(s[d]?`
`:" ");return r.join("")},o.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},yC=function(e){lf=e},EC=function(){return lf},CC=function(){return Sd},SC=function(){return Zn},tu=function(e){if(e=S$(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},S$=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},I$=function(){document.querySelector(".blocklyTooltipDiv")||(Zn=document.createElement("div"),Zn.className="blocklyTooltipDiv",(G()||document.body).appendChild(Zn))},nu=function(e){e.mouseOverWrapper_=Ne(e,"pointerover",null,IC),e.mouseOutWrapper_=Ne(e,"pointerout",null,wC),e.addEventListener("pointermove",w$,!1)},Tp=function(e){e&&(He(e.mouseOverWrapper_),He(e.mouseOutWrapper_),e.removeEventListener("pointermove",w$))},IC=function(e){ku||(e=S$(e.currentTarget),Is!==e&&(Ji(),Id=null,Is=e),clearTimeout(KI))},wC=function(e){ku||(KI=setTimeout(function(){Id=Is=null,Ji()},1),clearTimeout(sa),sa=0)},w$=function(e){if(Is&&Is.tooltip&&!ku)if(Sd){const s=y_-e.pageX;e=E_-e.pageY,Math.sqrt(s*s+e*e)>XI&&Ji()}else Id!==Is&&(clearTimeout(sa),y_=e.pageX,E_=e.pageY,sa=setTimeout(AC,YI))},k$=function(){Id=Is=null,Ji()},Ji=function(){Sd&&(Sd=!1,Zn&&(Zn.style.display="none")),sa&&(clearTimeout(sa),sa=0)},O$=function(){Ji(),ku=!0},R$=function(){ku=!1},kC=function(){Zn&&Is&&(typeof lf=="function"?lf(Zn,Is):OC())},OC=function(){var e=tu(Is);e=o.wrap$$module$build$src$core$utils$string(e,zI),e=e.split(`
`);for(let s=0;s<e.length;s++){const r=document.createElement("div");r.appendChild(document.createTextNode(e[s])),Zn.appendChild(r)}},RC=function(e){const s=document.documentElement.clientWidth,r=document.documentElement.clientHeight;let d=y_;d=e?d-(C_+Zn.offsetWidth):d+C_;let v=E_+S_;return v+Zn.offsetHeight>r+window.scrollY&&(v-=Zn.offsetHeight+2*S_),e?d=Math.max(af-window.scrollX,d):d+Zn.offsetWidth>s+window.scrollX-2*af&&(d=s-Zn.offsetWidth-2*af),{x:d,y:v}},AC=function(){if(!ku&&(Id=Is,Zn)){Zn.textContent="",kC();var e=Is.RTL;Zn.style.direction=e?"rtl":"ltr",Zn.style.display="block",Sd=!0;var{x:s,y:r}=RC(e);Zn.style.left=s+"px",Zn.style.top=r+"px"}},A$=function(){return I_},NC=function(e){I_=e},N$=function(){return w_},LC=function(e){w_=e},xl=function(e){e=`${e}`.toLowerCase().trim();var s=jI[e];if(s||(s=e.substring(0,2)==="0x"?"#"+e.substring(2):e,s=s[0]==="#"?s:"#"+s,/^#[0-9a-f]{6}$/.test(s)))return s;if(/^#[0-9a-f]{3}$/.test(s))return["#",s[1],s[1],s[2],s[2],s[3],s[3]].join("");var r=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return r&&(e=Number(r[1]),s=Number(r[2]),r=Number(r[3]),0<=e&&256>e&&0<=s&&256>s&&0<=r&&256>r)?ed(e,s,r):null},ed=function(e,s,r){return s=e<<16|s<<8|r,16>e?"#"+(16777216|s).toString(16).substr(1):"#"+s.toString(16)},yp=function(e){return e=xl(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},Ep=function(e,s,r){let d=0,v=0,k=0;if(s===0)k=v=d=r;else{const J=Math.floor(e/60),ge=e/60-J;e=r*(1-s);const Xe=r*(1-s*ge);switch(s=r*(1-s*(1-ge)),J){case 1:d=Xe,v=r,k=e;break;case 2:d=e,v=r,k=s;break;case 3:d=e,v=Xe,k=r;break;case 4:d=s,v=e,k=r;break;case 5:d=r,v=e,k=Xe;break;case 6:case 0:d=r,v=s,k=e}}return ed(Math.floor(d),Math.floor(v),Math.floor(k))},Bl=function(e,s,r){return e=xl(e),!e||(s=xl(s),!s)?null:(e=yp(e),s=yp(s),ed(Math.round(s[0]+r*(e[0]-s[0])),Math.round(s[1]+r*(e[1]-s[1])),Math.round(s[2]+r*(e[2]-s[2]))))},L$=function(e){return Ep(e,I_,255*w_)},Cp=function(e,s,r){const d=[];var v=e.split("");v.push("");var k=0;e=[];let J=null;for(let It=0;It<v.length;It++){var ge=v[It];if(k===0)if(ge==="%")(k=e.join(""))&&d.push(k),e.length=0,k=1;else if(r&&ge===`
`){const On=e.join("");On&&d.push(On),e.length=0,d.push(ge)}else e.push(ge);else if(k===1)ge==="%"?(e.push(ge),k=0):s&&"0"<=ge&&"9">=ge?(k=2,J=ge,(ge=e.join(""))&&d.push(ge),e.length=0):ge==="{"?k=3:(e.push("%",ge),k=0);else if(k===2)if("0"<=ge&&"9">=ge)J+=ge;else{var Xe=void 0;d.push(parseInt((Xe=J)!=null?Xe:"",10)),It--,k=0}else k===3&&(ge===""?(e.splice(0,0,"%{"),It--,k=0):ge!=="}"?e.push(ge):(k=e.join(""),/[A-Z]\w*/i.test(k)?(ge=k.toUpperCase(),(ge=ge.startsWith("BKY_")?ge.substring(4):null)&&ge in o.Msg$$module$build$src$core$msg?(k=o.Msg$$module$build$src$core$msg[ge],typeof k=="string"?Array.prototype.push.apply(d,Cp(k,s,r)):s?d.push(`${k}`):d.push(k)):d.push("%{"+k+"}")):d.push("%{"+k+"}"),k=e.length=0))}for((s=e.join(""))&&d.push(s),Xe=[],e.length=0,v=0;v<d.length;v++)typeof d[v]!="string"||r&&d[v]===`
`?((s=e.join(""))&&Xe.push(s),e.length=0,Xe.push(d[v])):e.push(d[v]);return(s=e.join(""))&&Xe.push(s),e.length=0,Xe},M$=function(e){return Cp(e,!0,!0)},Un=function(e){return typeof e!="string"?e:(e=Cp(e,!1,!1),e.length?String(e[0]):"")},MC=function(e){let s=!0;const r=o.Msg$$module$build$src$core$msg,d=e.match(/%{BKY_[A-Z]\w*}/gi);if(d)for(let v=0;v<d.length;v++){const k=d[v].toUpperCase();r[k.slice(6,-1)]===void 0&&(console.warn("No message string for "+d[v]+" in "+e),s=!1)}return s},ou=function(e){const s=typeof e=="string"?Un(e):e;var r=Number(s);if(!isNaN(r)&&0<=r&&360>=r)return{hue:r,hex:Ep(r,A$(),255*N$())};if(r=xl(s))return{hue:null,hex:r};throw r='Invalid colour: "'+s+'"',e!==s&&(r+=' (from "'+e+'")'),Error(r)},su=function(){return ti},DC=function(e){if(ti=e,e===null){let s;(s=document.querySelector("."+cf))==null||s.remove()}},D$=function(){const e=G()||document.body;document.querySelector("."+cf)?ti=document.querySelector("."+cf):(ti=document.createElement("div"),ti.className=cf),e.appendChild(ti)},Sp=function(e,s,r,d){if(iu(),Ou=e,uf=r,r=ti){if(r.style.direction=s?"rtl":"ltr",r.style.display="block",!d&&e instanceof En){let J;d=(J=e.getSourceBlock())==null?void 0:J.workspace}var v;k_=(v=d)!=null?v:null;var k;e=(k=d)!=null?k:Z(),Ru=e.getRenderer().getClassName(),Au=e.getTheme().getClassName(),Ru&&we(r,Ru),Au&&we(r,Au)}},iu=function(){if(P$()){Ou=null;var e=ti;e&&(e.style.display="none",e.style.left="",e.style.top="",uf&&uf(),uf=null,e.textContent="",Ru&&(Ge(e,Ru),Ru=""),Au&&(Ge(e,Au),Au=""),Z().markFocused())}},P$=function(){return!!Ou},Fl=function(e){Ou===e&&iu()},td=function(e){k_!==null&&k_!==e||iu()},x$=function(e,s,r){ti.style.left=e+"px",ti.style.top=s+"px",ti.style.height=r+"px"},B$=function(e,s,r,d){const v=xC(e,s,r);e=PC(e,s,r,d),0>v?x$(e,0,r.height+v):x$(e,v,r.height)},PC=function(e,s,r,d){return d?Math.min(Math.max(s.right-r.width,e.left),e.right-r.width):Math.max(Math.min(s.left,e.right-r.width),e.left)},xC=function(e,s,r){return s.bottom+r.height>=e.bottom?s.top-r.height:s.bottom},BC=function(e){return!(e==null||!e.repositionForWindowResize)},F$=function(){BC(Ou)&&Ou.repositionForWindowResize()||iu()},FC=function(){return df},H$=function(e){df=e},nd=function(e,s,r,d){if(Sp(qI,r,V$,d),s.length){var v=HC(s,r,e);hf=v,VC(v,e,r),setTimeout(function(){v.focus()},1),df=null}else od()},HC=function(e,s,r){const d=new m_;d.setRole(ei.MENU);for(let v=0;v<e.length;v++){const k=e[v],J=new g_(k.text);J.setRightToLeft(s),J.setRole(ei.MENUITEM),d.addChild(J),J.setEnabled(k.enabled),k.enabled&&J.onAction(function(){od(),requestAnimationFrame(()=>{setTimeout(()=>{k.callback(k.scope,r)},0)})},{})}return d},VC=function(e,s,r){const d=Lt();s=new yn(s.clientY+d.top,s.clientY+d.top,s.clientX+d.left,s.clientX+d.left),UC(e);const v=e.getSize();r&&(s.left+=v.width,s.right+=v.width,d.left+=v.width,d.right+=v.width),B$(d,s,v,r),e.focus()},UC=function(e){var s=su();if(!s)throw Error("Attempting to create a context menu when widget div is null");s=e.render(s),we(s,"blocklyContextMenu"),ve(s,"contextmenu",null,GC),e.focus()},GC=function(e){e.preventDefault(),e.stopPropagation()},od=function(){Fl(qI),df=null},V$=function(){hf&&(hf.dispose(),hf=null)},o.callbackFactory$$module$build$src$core$contextmenu=function(e,s){return()=>{o.disable$$module$build$src$core$events$utils();let r;try{r=s instanceof Element?Hl(s,e.workspace):Za(s,e.workspace);const d=e.getRelativeToSurfaceXY();d.x=e.RTL?d.x-o.config$$module$build$src$core$config.snapRadius:d.x+o.config$$module$build$src$core$config.snapRadius,d.y+=2*o.config$$module$build$src$core$config.snapRadius,r.moveBy(d.x,d.y)}finally{o.enable$$module$build$src$core$events$utils()}return S()&&!r.isShadow()&&$(new(M(o.CREATE$$module$build$src$core$events$utils))(r)),o.setSelected$$module$build$src$core$common(r),r}},WC=function(e,s=!1){const r=o.createElement$$module$build$src$core$utils$xml("xml");var d=U$(o.allUsedVarModels$$module$build$src$core$variables(e));d.hasChildNodes()&&r.appendChild(d);for(const v of e.getTopComments())r.appendChild(sd(v,s));for(e=e.getTopBlocks(!0),d=0;d<e.length;d++)r.appendChild(id(e[d],s));return r},sd=function(e,s=!1){const r=o.createElement$$module$build$src$core$utils$xml("comment");s||r.setAttribute("id",e.id),s=e.workspace;const d=e.getRelativeToSurfaceXY();return d.x=s.RTL?s.getWidth()-d.x:d.x,r.setAttribute("x",`${d.x}`),r.setAttribute("y",`${d.y}`),r.setAttribute("w",`${e.getSize().width}`),r.setAttribute("h",`${e.getSize().height}`),e.getText()&&(r.textContent=e.getText()),e.isCollapsed()&&r.setAttribute("collapsed","true"),e.isOwnEditable()||r.setAttribute("editable","false"),e.isOwnMovable()||r.setAttribute("movable","false"),e.isOwnDeletable()||r.setAttribute("deletable","false"),r},U$=function(e){const s=o.createElement$$module$build$src$core$utils$xml("variables");for(let r=0;r<e.length;r++){const d=e[r],v=o.createElement$$module$build$src$core$utils$xml("variable");v.appendChild(o.createTextNode$$module$build$src$core$utils$xml(d.name)),d.type&&v.setAttribute("type",d.type),v.id=d.getId(),s.appendChild(v)}return s},id=function(e,s){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let r=0;if(e.workspace.RTL&&(r=e.workspace.getWidth()),s=Fr(e,s),X$(s)){const d=e.getRelativeToSurfaceXY();s.setAttribute("x",String(Math.round(e.workspace.RTL?r-d.x:d.x))),s.setAttribute("y",String(Math.round(d.y)))}return s},zC=function(e){if(e.isSerializable()){const s=o.createElement$$module$build$src$core$utils$xml("field");return s.setAttribute("name",e.name||""),e.toXml(s)}return null},KC=function(e,s){for(let r=0;r<e.inputList.length;r++){const d=e.inputList[r];for(let v=0;v<d.fieldRow.length;v++){const k=zC(d.fieldRow[v]);k&&s.appendChild(k)}}},Fr=function(e,s){if(e.isInsertionMarker())return(s=e.getChildren(!1)[0])?Fr(s):new DocumentFragment;const r=o.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(r.setAttribute("type",e.type),s||(r.id=e.id),e.mutationToDom){var d=e.mutationToDom();d&&(d.hasChildNodes()||d.hasAttributes())&&r.appendChild(d)}if(KC(e,r),d=e.getCommentText()){var v=e.getIcon(Jn.COMMENT),k=v.getBubbleSize();v=v.bubbleIsVisible();var J=o.createElement$$module$build$src$core$utils$xml("comment");J.appendChild(o.createTextNode$$module$build$src$core$utils$xml(d)),J.setAttribute("pinned",`${v}`),J.setAttribute("h",String(k.height)),J.setAttribute("w",String(k.width)),r.appendChild(J)}for(e.data&&(d=o.createElement$$module$build$src$core$utils$xml("data"),d.appendChild(o.createTextNode$$module$build$src$core$utils$xml(e.data)),r.appendChild(d)),d=0;d<e.inputList.length;d++){k=e.inputList[d];var ge=void 0;if(v=!0,k.type!==o.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&k.type!==o.inputTypes$$module$build$src$core$inputs$input_types.END_ROW){J=k.connection.targetBlock(),k.type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE?ge=o.createElement$$module$build$src$core$utils$xml("value"):k.type===o.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(ge=o.createElement$$module$build$src$core$utils$xml("statement"));const It=k.connection.getShadowDom();!It||J&&J.isShadow()||ge.appendChild(G$(It,s)),J&&(J=Fr(J,s),J.nodeType===rr.ELEMENT_NODE&&(ge.appendChild(J),v=!1)),ge.setAttribute("name",k.name),v||r.appendChild(ge)}}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&r.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&r.setAttribute("collapsed","true"),e.isEnabled()||r.setAttribute("disabled-reasons",Array.from(e.getDisabledReasons()).map(encodeURIComponent).join(",")),e.isOwnDeletable()||r.setAttribute("deletable","false"),e.isOwnMovable()||r.setAttribute("movable","false"),e.isOwnEditable()||r.setAttribute("editable","false"),ge=e.getNextBlock();let Xe;return ge&&(d=Fr(ge,s),d.nodeType===rr.ELEMENT_NODE&&(Xe=o.createElement$$module$build$src$core$utils$xml("next"),Xe.appendChild(d),r.appendChild(Xe))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||ge&&ge.isShadow()||Xe.appendChild(G$(e,s)),r},G$=function(e,s){let r=e=e.cloneNode(!0),d;for(;r;)if(s&&r.nodeName==="shadow"&&r.removeAttribute("id"),r.firstChild)r=r.firstChild;else{for(;r&&!r.nextSibling;){d=r,r=r.parentNode;let v;d.nodeType===rr.TEXT_NODE&&d.data.trim()===""&&((v=r)==null?void 0:v.firstChild)!==d&&q(d)}r&&(d=r,r=r.nextSibling,d.nodeType===rr.TEXT_NODE&&d.data.trim()===""&&q(d))}return e},bi=function(e){return Vn(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},XC=function(e){e=bi(e).split("<");let s="";for(let r=1;r<e.length;r++){const d=e[r];d[0]==="/"&&(s=s.substring(2)),e[r]=s+"<"+d,d[0]!=="/"&&d.slice(-2)!=="/>"&&(s+="  ")}return e=e.join(`
`),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},YC=function(e,s){return s.setResizesEnabled(!1),s.clear(),e=o.domToWorkspace$$module$build$src$core$xml(e,s),s.setResizesEnabled(!0),e},o.domToWorkspace$$module$build$src$core$xml=function(e,s){let r=0;s.RTL&&(r=s.getWidth());const d=[];Et();const v=o.getGroup$$module$build$src$core$events$utils();v||o.setGroup$$module$build$src$core$events$utils(!0),s.setResizesEnabled&&s.setResizesEnabled(!1);let k=!0;try{for(let J=0,ge;ge=e.childNodes[J];J++){const Xe=ge.nodeName.toLowerCase(),It=ge;if(Xe==="block"||Xe==="shadow"&&!T()){const On=Hl(It,s);d.push(On.id);let Sn;const ts=parseInt((Sn=It.getAttribute("x"))!=null?Sn:"10",10);let Uu;const Ud=parseInt((Uu=It.getAttribute("y"))!=null?Uu:"10",10);isNaN(ts)||isNaN(Ud)||On.moveBy(s.RTL?r-ts:ts,Ud,["create"]),k=!1}else{if(Xe==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(Xe==="comment")W$(It,s);else if(Xe==="variables"){if(k)z$(It,s);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");k=!1}}}}finally{o.setGroup$$module$build$src$core$events$utils(v),s.setResizesEnabled&&s.setResizesEnabled(!0),s.rendered&&ji(),Tt()}return $(new(M(zl))(s)),d},W$=function(e,s){var r;const d=(r=e.getAttribute("id"))!=null?r:void 0;r=s.rendered?new pf(s,d):new tf(s,d);var v;r.setText((v=e.textContent)!=null?v:"");var k;v=parseInt((k=e.getAttribute("x"))!=null?k:"",10);let J;k=parseInt((J=e.getAttribute("y"))!=null?J:"",10),isNaN(v)||isNaN(k)||(v=s.RTL?s.getWidth()-v:v,r.moveTo(new ht(v,k)));var ge;s=parseInt((ge=e.getAttribute("w"))!=null?ge:"",10);let Xe;return ge=parseInt((Xe=e.getAttribute("h"))!=null?Xe:"",10),isNaN(s)||isNaN(ge)||r.setSize(new cn(s,ge)),e.getAttribute("collapsed")==="true"&&r.setCollapsed(!0),e.getAttribute("editable")==="false"&&r.setEditable(!1),e.getAttribute("movable")==="false"&&r.setMovable(!1),e.getAttribute("deletable")==="false"&&r.setDeletable(!1),r},jC=function(e,s){if(!s.getBlocksBoundingBox)return o.domToWorkspace$$module$build$src$core$xml(e,s);var r=s.getBlocksBoundingBox();if(e=o.domToWorkspace$$module$build$src$core$xml(e,s),r&&r.top!==r.bottom){var d=r.bottom;r=s.RTL?r.right:r.left;var v=1/0;let k=-1/0,J=1/0;for(let ge=0;ge<e.length;ge++){const Xe=s.getBlockById(e[ge]).getRelativeToSurfaceXY();Xe.y<J&&(J=Xe.y),Xe.x<v&&(v=Xe.x),Xe.x>k&&(k=Xe.x)}for(d=d-J+10,r=s.RTL?r-k:r-v,v=0;v<e.length;v++)s.getBlockById(e[v]).moveBy(r,d,["create"])}return e},o.domToBlock$$module$build$src$core$xml=function(e,s){return e=Hl(e,s),s.rendered&&ji(),e},Hl=function(e,s){o.disable$$module$build$src$core$events$utils();var r=s.getAllVariables();let d;try{if(d=Ip(e,s),s.rendered){const v=d,k=d.getDescendants(!1);v.setConnectionTracking(!1);for(let J=k.length-1;0<=J;J--)k[J].initSvg();for(let J=k.length-1;0<=J;J--)k[J].queueRender();setTimeout(function(){v.disposed||v.setConnectionTracking(!0)},1),s.resizeContents()}else{const v=d.getDescendants(!1);for(let k=v.length-1;0<=k;k--)v[k].initModel()}}finally{o.enable$$module$build$src$core$events$utils()}if(S()){for(e=Yc(s,r),s=0;s<e.length;s++)r=e[s],$(new(M(er))(r));$(new(M(o.CREATE$$module$build$src$core$events$utils))(d))}return d},z$=function(e,s){for(let d=0;d<e.children.length;d++){var r=e.children[d];const v=r.getAttribute("type"),k=r.getAttribute("id");if(r=r.textContent,!r)break;s.createVariable(r,v,k)}},qC=function(e){const s={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let r=0;r<e.children.length;r++){const d=e.children[r];if(d.nodeType!==rr.TEXT_NODE)switch(d.nodeName.toLowerCase()){case"mutation":s.mutation.push(d);break;case"comment":s.comment.push(d);break;case"data":s.data.push(d);break;case"title":case"field":s.field.push(d);break;case"value":case"statement":s.input.push(d);break;case"next":s.next.push(d);break;default:console.warn("Ignoring unknown tag: "+d.nodeName)}}return s},JC=function(e,s){let r=!1;for(let d=0;d<e.length;d++){const v=e[d];s.domToMutation&&(s.domToMutation(v),s.initSvg&&(r=!0))}return r},ZC=function(e,s){for(let d=0;d<e.length;d++){var r=e[d];const v=r.textContent,k=r.getAttribute("pinned")==="true";let J;const ge=parseInt((J=r.getAttribute("w"))!=null?J:"50",10);let Xe;r=parseInt((Xe=r.getAttribute("h"))!=null?Xe:"50",10),s.setCommentText(v);const It=s.getIcon(Jn.COMMENT);isNaN(ge)||isNaN(r)||It.setBubbleSize(new cn(ge,r)),It.setBubbleVisible(k),setTimeout(()=>It.setBubbleVisible(k),1)}},QC=function(e,s){for(let r=0;r<e.length;r++)s.data=e[r].textContent},eS=function(e,s){for(let r=0;r<e.length;r++){const d=e[r],v=d.getAttribute("name");v?oS(s,v,d):console.warn(`Ignoring unnamed field in block ${s.type}`)}},K$=function(e){let s=null,r=null;for(let d=0;d<e.childNodes.length;d++){const v=e.childNodes[d];X$(v)&&(v.nodeName.toLowerCase()==="block"?s=v:v.nodeName.toLowerCase()==="shadow"&&(r=v))}return{childBlockElement:s,childShadowElement:r}},tS=function(e,s,r,d){for(let k=0;k<e.length;k++){var v=e[k];const J=v.getAttribute("name"),ge=J?r.getInput(J):null;if(!ge){console.warn("Ignoring non-existent input "+J+" in block "+d);break}if(v=K$(v),v.childBlockElement){if(!ge.connection)throw TypeError("Input connection does not exist.");Ip(v.childBlockElement,s,ge.connection,!1)}if(v.childShadowElement){let Xe;(Xe=ge.connection)==null||Xe.setShadowDom(v.childShadowElement)}}},nS=function(e,s,r){for(let d=0;d<e.length;d++){const v=K$(e[d]);if(v.childBlockElement){if(!r.nextConnection)throw TypeError("Next statement does not exist.");if(r.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Ip(v.childBlockElement,s,r.nextConnection,!0)}v.childShadowElement&&r.nextConnection&&r.nextConnection.setShadowDom(v.childShadowElement)}},Ip=function(e,s,r,d){var v;const k=e.getAttribute("type");if(!k)throw TypeError("Block type unspecified: "+e.outerHTML);var J=(v=e.getAttribute("id"))!=null?v:void 0;v=s.newBlock(k,J),J=qC(e);const ge=JC(J.mutation,v);if(ZC(J.comment,v),QC(J.data,v),r)if(d)if(v.previousConnection)r.connect(v.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(v.outputConnection)r.connect(v.outputConnection);else if(v.previousConnection)r.connect(v.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(eS(J.field,v),tS(J.input,s,v,k),nS(J.next,s,v),ge&&v.initSvg(),(s=e.getAttribute("inline"))&&v.setInputsInline(s==="true"),(s=e.getAttribute("disabled"))&&v.setDisabledReason(s==="true"||s==="disabled",Ss),s=e.getAttribute("disabled-reasons"),s!==null)for(var Xe of s.split(","))v.setDisabledReason(!0,decodeURIComponent(Xe));if((Xe=e.getAttribute("deletable"))&&v.setDeletable(Xe==="true"),(Xe=e.getAttribute("movable"))&&v.setMovable(Xe==="true"),(Xe=e.getAttribute("editable"))&&v.setEditable(Xe==="true"),(Xe=e.getAttribute("collapsed"))&&v.setCollapsed(Xe==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=v.getChildren(!1),Xe=0;Xe<e.length;Xe++)if(!e[Xe].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");v.setShadow(!0)}return v},oS=function(e,s,r){const d=e.getField(s);d?d.fromXml(r):console.warn("Ignoring non-existent field "+s+" in block "+e.type)},sS=function(e){for(let s=0;s<e.childNodes.length;s++){const r=e.childNodes[s];if(r.nodeName.toLowerCase()==="next"){e.removeChild(r);break}}},X$=function(e){return e.nodeType===rr.ELEMENT_NODE},wp=function(e){if(!(100<e.getDescendants(!1).length)){var s=e.workspace,r=e.getSvgRoot();s.getAudioManager().play("delete");var d=e.getRelativeToSurfaceXY(),v=r.cloneNode(!0);v.setAttribute("transform","translate("+d.x+","+d.y+")");var k;(k=s.getLayerManager())==null||k.appendToAnimationLayer({getSvgRoot:()=>v}),Y$(v,{x:d.x,y:d.y,width:e.width,height:e.height},s.RTL,new Date)}},Y$=function(e,s,r,d){const v=(new Date().getTime()-d.getTime())/150;1<v?q(e):(e.setAttribute("transform","translate("+(s.x+(r?-1:1)*s.width/2*v)+","+(s.y+s.height/2*v)+") scale("+(1-v)+")"),setTimeout(Y$,10,e,s,r,d))},kp=function(e){var s=e.workspace;const r=s.scale;if(s.getAudioManager().play("click"),!(1>r)){var d=s.getSvgXY(e.getSvgRoot());e.outputConnection?(d.x+=(e.RTL?3:-3)*r,d.y+=13*r):e.previousConnection&&(d.x+=(e.RTL?-23:23)*r,d.y+=3*r);var v=ue(Be.CIRCLE,{cx:d.x,cy:d.y,r:0,fill:"none",stroke:"#888","stroke-width":10},s.getParentSvg());e=ue(Be.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*r},v),s=ue(Be.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},v),e.beginElement(),s.beginElement(),setTimeout(()=>void q(v),150)}},j$=function(e){if(ru(),e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var s=e.getHeightWidth().height;s=Math.atan(10/s)/Math.PI*180,e.RTL||(s*=-1),kd=e,q$(e,s,new Date)}},q$=function(e,s,r){const d=(new Date().getTime()-r.getTime())/200;let v="";1>=d&&(v=`skewX(${Math.round(Math.sin(d*Math.PI*3)*(1-d)*s)})`,ff=setTimeout(q$,10,e,s,r)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${v}`)},ru=function(){kd&&(ff&&(clearTimeout(ff),ff=null),kd.getSvgRoot().setAttribute("transform",kd.getTranslation()),kd=null)},Vl=function(e){return e.getRelativeToSurfaceXY!==void 0&&e.isMovable!==void 0&&e.startDrag!==void 0&&e.drag!==void 0&&e.endDrag!==void 0&&e.revertDrag!==void 0},Zi=function(e,s){for(const r in s)e[r]=s[r]!==null&&typeof s[r]=="object"?Zi(e[r]||Object.create(null),s[r]):s[r];return e},Hr=function(e){return e.getProcedureModel!==void 0&&e.doProcedureUpdate!==void 0&&e.isProcedureDef!==void 0},Op=function(e){return e.startPublishing!==void 0&&e.stopPublishing!==void 0},Ti=function(e,s){i(ut.FIELD,e,s)},iS=function(e){a(ut.FIELD,e)},o.fromJson$$module$build$src$core$field_registry=function(e){return ew.fromJsonInternal(e)},rS=function(e){const s=f(ut.FIELD,e.type);return s?s.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},lS=function(e){let s=!1;const r=e.map(([J,ge])=>typeof J=="string"?[Un(J),ge]:(s=!0,[J.alt!==null?Object.assign({},J,{alt:Un(J.alt)}):Object.assign({},J),ge]));if(s||2>e.length)return{options:r};var d=r.map(([J])=>J),v=Qc(d);e=y$(d,v);const k=E$(d,v);return!e&&!k||v<=e+k?{options:r}:(v=e?d[0].substring(0,e-1):void 0,d=k?d[0].substr(1-k):void 0,{options:aS(r,e,k),prefix:v,suffix:d})},aS=function(e,s,r){return e.map(([d,v])=>[d.substring(s,d.length-r),v])},J$=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let s=!1;for(let r=0;r<e.length;r++){const d=e[r];Array.isArray(d)?typeof d[1]!="string"?(s=!0,console.error("Invalid option["+r+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&typeof d[0]!="string"&&typeof d[0].src!="string"&&(s=!0,console.error("Invalid option["+r+"]: Each FieldDropdown option must have a string label or image description. Found"+d[0]+" in: ",d)):(s=!0,console.error("Invalid option["+r+"]: Each FieldDropdown option must be an array. Found: ",d))}if(s)throw TypeError("Found invalid FieldDropdown options.")},o.register$$module$build$src$core$extensions=function(e,s){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(Lu[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof s!="function")throw Error('Error: Extension "'+e+'" must be a function');Lu[e]=s},o.registerMixin$$module$build$src$core$extensions=function(e,s){if(!s||typeof s!="object")throw Error('Error: Mixin "'+e+'" must be a object');o.register$$module$build$src$core$extensions(e,function(){this.mixin(s)})},o.registerMutator$$module$build$src$core$extensions=function(e,s,r,d){const v='Error when registering mutator "'+e+'": ';ev(v,s);const k=Q$(s,v);if(r&&typeof r!="function")throw Error(v+'Extension "'+e+'" is not a function');o.register$$module$build$src$core$extensions(e,function(){k&&this.setMutator(new o.MutatorIcon$$module$build$src$core$icons$mutator_icon(d||[],this)),this.mixin(s),r&&r.apply(this)})},uS=function(e){Z$(e)?delete Lu[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},Z$=function(e){return!!Lu[e]},Rp=function(e,s,r){const d=Lu[e];if(typeof d!="function")throw Error('Error: Extension "'+e+'" not found.');let v;if(r?cS(e,s):v=Np(s),d.apply(s),r)ev('Error after applying mutator "'+e+'": ',s);else if(!pS(v,s))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},cS=function(e,s){if(Np(s).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+s.id)},dS=function(e,s){return Ap(e.mutationToDom,e.domToMutation,s+" mutationToDom/domToMutation")},hS=function(e,s){return Ap(e.saveExtraState,e.loadExtraState,s+" saveExtraState/loadExtraState")},Q$=function(e,s){return Ap(e.compose,e.decompose,s+" compose/decompose")},Ap=function(e,s,r){if(e&&s){if(typeof e!="function"||typeof s!="function")throw Error(r+" must be a function");return!0}if(!e&&!s)return!1;throw Error(r+"Must have both or neither functions")},ev=function(e,s){const r=dS(s,e),d=hS(s,e);if(!r&&!d)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");Q$(s,e)},Np=function(e){const s=[];return e.domToMutation!==void 0&&s.push(e.domToMutation),e.mutationToDom!==void 0&&s.push(e.mutationToDom),e.saveExtraState!==void 0&&s.push(e.saveExtraState),e.loadExtraState!==void 0&&s.push(e.loadExtraState),e.compose!==void 0&&s.push(e.compose),e.decompose!==void 0&&s.push(e.decompose),s},pS=function(e,s){if(s=Np(s),s.length!==e.length)return!1;for(let r=0;r<s.length;r++)if(e[r]!==s[r])return!1;return!0},fS=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const s=setInterval(function(){document.readyState==="complete"&&(clearInterval(s),e())},10)}},o.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,s){const r=[];return function(){r.includes(this.type)||(mS(this,e,s),r.push(this.type)),this.setTooltip((function(){const d=String(this.getFieldValue(e));return Un(s[d])}).bind(this))}},mS=function(e,s,r){var d=e.getField(s);if(d instanceof wi&&!d.isOptionListDynamic()){d=d.getOptions();for(const[,v]of d)r[v]===void 0&&console.warn(`No tooltip mapping for value ${v} of field ${s} of block type ${e.type}.`)}},o.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,s){return function(){this.setTooltip((function(){const r=this.getField(s);return Un(e).replace("%1",r?r.getText():"")}).bind(this))}},gS=function(){const e=this.tooltip;this.setTooltip((function(){const s=this.getParent();return s&&s.getInputsInline()&&s.tooltip||e}).bind(this))},Vr=function(e,s,r,d){e=e+" was deprecated in "+s+" and will be deleted in "+r+".",d&&(e+=`
Use `+d+" instead."),nw.has(e)||(nw.add(e),console.warn(e))},Ht=function(e,s){return" "+e+","+s+" "},Qo=function(e,s){return" "+e+s.join("")},eo=function(e,s){return" M "+e+","+s+" "},Rn=function(e,s){return" m "+e+","+s+" "},yi=function(e,s){return" l "+e+","+s+" "},lu=function(e){return" l"+e.join("")},kt=function(e,s){return" "+e+" "+s+" "},Gn=function(e,s,r,d){return e+" "+r+" "+r+" "+s+d},tv=function(e,s){i(ut.ICON,e.toString(),s)},$S=function(e){a(ut.ICON,e)},Lp=function(e){const s=e.getProcedureMap().getProcedures().filter(d=>!d.getReturnTypes()).map(d=>[d.getName(),d.getParameters().map(v=>v.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(d=>{!Hr(d)&&Oo(d)&&s.push(d.getProcedureDef())});const r=e.getProcedureMap().getProcedures().filter(d=>!!d.getReturnTypes()).map(d=>[d.getName(),d.getParameters().map(v=>v.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(d=>{!Hr(d)&&Oo(d)&&r.push(d.getProcedureDef())}),s.sort(nv),r.sort(nv),[s,r]},nv=function(e,s){return e[0].localeCompare(s[0],void 0,{sensitivity:"base"})},o.findLegalName$$module$build$src$core$procedures=function(e,s){if(s.isInFlyout)return e;for(e=e||o.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!vS(e,s.workspace,s);){const r=e.match(/^(.*?)(\d+)$/);e=r?r[1]+(parseInt(r[2])+1):e+"2"}return e},vS=function(e,s,r){return!ov(e,s,r)},ov=function(e,s,r){for(const d of s.getAllBlocks(!1))if(d!==r&&Oo(d)&&o.Names$$module$build$src$core$names.equals(d.getProcedureDef()[0],e))return!0;r=r&&Hr(r)?r==null?void 0:r.getProcedureModel():void 0;for(const d of s.getProcedureMap().getProcedures())if(d!==r&&o.Names$$module$build$src$core$names.equals(d.getName(),e))return!0;return!1},o.rename$$module$build$src$core$procedures=function(e){var s=this.getSourceBlock();if(!s)throw new zn;e=e.trim();const r=o.findLegalName$$module$build$src$core$procedures(e,s);Hr(s)&&!s.isInsertionMarker()&&s.getProcedureModel().setName(r);const d=this.getValue();if(d!==e&&d!==r)for(e=s.workspace.getAllBlocks(!1),s=0;s<e.length;s++){const v=e[s];v.renameProcedure&&v.renameProcedure(d,r)}return r},Mp=function(e){function s(k,J){for(let Xe=0;Xe<k.length;Xe++){var ge=k[Xe][0];const It=k[Xe][1],On=o.createElement$$module$build$src$core$utils$xml("block");On.setAttribute("type",J),On.setAttribute("gap","16");const Sn=o.createElement$$module$build$src$core$utils$xml("mutation");for(Sn.setAttribute("name",ge),On.appendChild(Sn),ge=0;ge<It.length;ge++){const ts=o.createElement$$module$build$src$core$utils$xml("arg");ts.setAttribute("name",It[ge]),Sn.appendChild(ts)}r.push(On)}}const r=[];if(es.procedures_defnoreturn){var d=o.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","procedures_defnoreturn"),d.setAttribute("gap","16");var v=o.createElement$$module$build$src$core$utils$xml("field");v.setAttribute("name","NAME"),v.appendChild(o.createTextNode$$module$build$src$core$utils$xml(o.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),d.appendChild(v),r.push(d)}return es.procedures_defreturn&&(d=o.createElement$$module$build$src$core$utils$xml("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap","16"),v=o.createElement$$module$build$src$core$utils$xml("field"),v.setAttribute("name","NAME"),v.appendChild(o.createTextNode$$module$build$src$core$utils$xml(o.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(v),r.push(d)),es.procedures_ifreturn&&(d=o.createElement$$module$build$src$core$utils$xml("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap","16"),r.push(d)),r.length&&r[r.length-1].setAttribute("gap","24"),e=Lp(e),s(e[0],"procedures_callnoreturn"),s(e[1],"procedures_callreturn"),r},sv=function(e){var s=[],r=e.getBlocksByType("procedures_mutatorarg",!1);for(let k=0,J;J=r[k];k++)s.push(J.getFieldValue("NAME"));r=o.createElement$$module$build$src$core$utils$xml("xml");const d=o.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","procedures_mutatorarg");const v=o.createElement$$module$build$src$core$utils$xml("field");v.setAttribute("name","NAME"),s=dp(o.DEFAULT_ARG$$module$build$src$core$procedures,s),s=o.createTextNode$$module$build$src$core$utils$xml(s),v.appendChild(s),d.appendChild(v),r.appendChild(d),e.updateToolbox(r)},iv=function(e){if(e.type===Ci&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=F(e.workspaceId).getBlockById(e.blockId);var s=e.type;(s==="procedures_defnoreturn"||s==="procedures_defreturn")&&(e=e.getIcon(o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),sv(e),e.addChangeListener(_S))}},_S=function(e){(e.type===o.CREATE$$module$build$src$core$events$utils||e.type===o.DELETE$$module$build$src$core$events$utils||e.type===o.CHANGE$$module$build$src$core$events$utils||e.type===Ul)&&(e=F(e.workspaceId),sv(e))},rv=function(e,s){return s.getAllBlocks(!1).filter(r=>bS(r,e)||U0(r)&&o.Names$$module$build$src$core$names.equals(r.getProcedureCall(),e))},bS=function(e,s){return Hr(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&o.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),s)},o.mutateCallers$$module$build$src$core$procedures=function(e){const s=T();var r=e.getProcedureDef()[0];const d=e.mutationToDom(!0);e=rv(r,e.workspace);for(let k=0,J;J=e[k];k++){r=(r=J.mutationToDom())&&Vn(r),J.domToMutation&&J.domToMutation(d);var v=J.mutationToDom();v=v&&Vn(v),r!==v&&(o.setRecordUndo$$module$build$src$core$events$utils(!1),$(new(M(o.CHANGE$$module$build$src$core$events$utils))(J,"mutation",null,r,v)),o.setRecordUndo$$module$build$src$core$events$utils(s))}},o.getDefinition$$module$build$src$core$procedures=function(e,s){for(const r of s.getAllBlocks(!1))if(Hr(r)&&r.isProcedureDef()&&o.Names$$module$build$src$core$names.equals(r.getProcedureModel().getName(),e)||Oo(r)&&o.Names$$module$build$src$core$names.equals(r.getProcedureDef()[0],e))return r;return null},Dp=function(e){return e.isDynamic},TS=function(e){return e.pathDown!==void 0&&e.pathUp!==void 0},yS=function(e){return e.pathLeft!==void 0&&e.pathRight!==void 0},ES=function(e,s){if(!e||!s)throw Error("Cannot connect null connections.");e.targetConnection=s,s.targetConnection=e},CS=function(e,s){let r=null;s=s.outputConnection;const d=s==null?void 0:s.getConnectionChecker();for(let v=0,k;k=e.inputList[v];v++){const J=k.connection;let ge;if(J&&((ge=d)!=null&&ge.canConnect(s,J,!1))){if(r)return null;r=J}}return r},SS=function(e,s){let r;for(;r=CS(e,s);)if(e=r.targetBlock(),!e||e.isShadow())return r;return null},lv=function(e){return e.getType!==void 0&&e.initView!==void 0&&e.dispose!==void 0&&e.getWeight!==void 0&&e.getSize!==void 0&&e.applyColour!==void 0&&e.hideForInsertionMarker!==void 0&&e.updateEditable!==void 0&&e.updateCollapsed!==void 0&&e.isShownWhenCollapsed!==void 0&&e.setOffsetInBlock!==void 0&&e.onLocationChange!==void 0&&e.onClick!==void 0},IS=function(e){return lv(e)&&Qa(e)&&Jc(e)&&e.setText!==void 0&&e.getText!==void 0&&e.setBubbleSize!==void 0&&e.getBubbleSize!==void 0&&e.getType()===Jn.COMMENT},rd=function(e){let s=e.outputConnection;return(!s||e.previousConnection&&e.previousConnection.isConnected())&&(s=e.previousConnection),s},ld=function(e,s){i(ut.RENDERER,e,s)},wS=function(e){a(ut.RENDERER,e)},av=function(e,s,r){return e=new(p(ut.RENDERER,e))(e),e.init(s,r),e},uv=function(e){qa(e.getTargetWorkspace(),void 0,"String")},cv=function(e){qa(e.getTargetWorkspace(),void 0,"Number")},dv=function(e){qa(e.getTargetWorkspace(),void 0,"Colour")},Pp=function(e){let s=[],r=document.createElement("button");return r.setAttribute("text",o.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),s.push(r),r=document.createElement("button"),r.setAttribute("text",o.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),s.push(r),r=document.createElement("button"),r.setAttribute("text",o.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),s.push(r),e.registerButtonCallback("CREATE_VARIABLE_STRING",uv),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",cv),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",dv),e=hv(e),s=s.concat(e)},hv=function(e){e=e.getAllVariables();const s=[];if(0<e.length){if(es.variables_set_dynamic){var r=e[e.length-1];const d=o.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","variables_set_dynamic"),d.setAttribute("gap","24"),d.appendChild(Pl(r)),s.push(d)}if(es.variables_get_dynamic){e.sort(_d.compareByName);for(let d=0,v;v=e[d];d++)r=o.createElement$$module$build$src$core$utils$xml("block"),r.setAttribute("type","variables_get_dynamic"),r.setAttribute("gap","8"),r.appendChild(Pl(v)),s.push(r)}}return s},kS=function(e,s){const r=e.workspace,d=o.config$$module$build$src$core$config.snapRadius,v=ht.difference(s,e.getRelativeToSurfaceXY()),k=new ht(0,0),J=r.getAllBlocks(!1).filter(ge=>ge.id!=e.id).map(ge=>ge.getRelativeToSurfaceXY());for(;OS(ht.sum(s,k),J)||RS(e,ht.sum(v,k),d);)r.RTL?k.translate(-d,2*d):k.translate(d,2*d);e.moveTo(ht.sum(s,k))},OS=function(e,s){return s.some(r=>1>=Math.abs(r.x-e.x)&&1>=Math.abs(r.y-e.y))},RS=function(e,s,r){return e.getConnections_(!1).some(d=>!!d.closest(r,s).connection)},au=function(e,s,r){const d=r.getBoundingRectangle(),v=d.right-d.left,k=eu(s.top,d.top,s.top+s.height-(d.bottom-d.top))-d.top;let J=s.left;return s=s.left+s.width-v,e.RTL?J=Math.min(s,J):s=Math.max(J,s),(e=eu(J,d.left,s)-d.left)||k?(r.moveBy(e,k,["inbounds"]),!0):!1},pv=function(e){return s=>{var r=e.getMetricsManager();if(r.hasFixedEdges()&&!e.isDragging()){var d;if(Gp.includes((d=s.type)!=null?d:"")){d=r.getScrollMetrics(!0);const v=AS(e,s);v&&(r=o.getGroup$$module$build$src$core$events$utils()||!1,o.setGroup$$module$build$src$core$events$utils(s.group),au(e,d,v)&&!s.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),o.setGroup$$module$build$src$core$events$utils(r))}else s.type===Wr&&s.scale&&s.oldScale&&s.scale>s.oldScale&&xp(e)}}},AS=function(e,s){let r=null;switch(s.type){case o.CREATE$$module$build$src$core$events$utils:case o.MOVE$$module$build$src$core$events$utils:(r=e.getBlockById(s.blockId))&&(r=r.getRootBlock());break;case nr:case or:r=e.getCommentById(s.commentId)}return r},xp=function(e){var s=e.getMetricsManager();if(s.hasFixedEdges()&&!e.isDragging()){s=s.getScrollMetrics(!0);var r=e.getTopBoundedElements();for(let d=0,v;v=r[d];d++)au(e,s,v)}},Cs=function(e){return e.isDeletable!==void 0&&e.dispose!==void 0&&e.setDeleteStyle!==void 0},NS=function(e){const s=e.toCopyData();sb=s;let r;return ib=(r=e.workspace)!=null?r:null,s},Ur=function(e,s,r){return e&&s?fv(e,s,r):sb&&ib?fv(sb,ib):null},fv=function(e,s,r){let d;s=(d=s.getRootWorkspace())!=null?d:s;let v,k;return(k=(v=f(ut.PASTER,e.paster,!1))==null?void 0:v.paste(e,s,r))!=null?k:null},LS=function(e){const s=e.toCopyData();return s?Ur(s,e.workspace):null},ad=function(e){return e.toCopyData!==void 0},mv=function(){pn.registry.register({name:Ri.ESCAPE,preconditionFn(e){return!e.options.readOnly},callback(e){return e.hideChaff(),!0},keyCodes:[en.ESC]})},gv=function(){pn.registry.register({name:Ri.DELETE,preconditionFn(e){const s=z();return!e.options.readOnly&&s!=null&&Cs(s)&&s.isDeletable()&&!ar.inProgress()},callback(e,s){return s.preventDefault(),e=z(),e instanceof Ns?e.checkAndDelete():Cs(e)&&e.isDeletable()&&(o.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),o.setGroup$$module$build$src$core$events$utils(!1)),!0},keyCodes:[en.DELETE,en.BACKSPACE]})},$v=function(){const e=pn.registry.createSerializedKey(en.C,[en.CTRL]),s=pn.registry.createSerializedKey(en.C,[en.ALT]),r=pn.registry.createSerializedKey(en.C,[en.META]);pn.registry.register({name:Ri.COPY,preconditionFn(d){const v=z();return!d.options.readOnly&&!ar.inProgress()&&v!=null&&Cs(v)&&v.isDeletable()&&Vl(v)&&v.isMovable()&&ad(v)},callback(d,v){return v.preventDefault(),d.hideChaff(),v=z(),!v||!ad(v)?!1:(Jr=v.toCopyData(),Zr=d,Fu=Vl(v)?v.getRelativeToSurfaceXY():null,!!Jr)},keyCodes:[e,s,r]})},vv=function(){const e=pn.registry.createSerializedKey(en.X,[en.CTRL]),s=pn.registry.createSerializedKey(en.X,[en.ALT]),r=pn.registry.createSerializedKey(en.X,[en.META]);pn.registry.register({name:Ri.CUT,preconditionFn(d){const v=z();return!d.options.readOnly&&!ar.inProgress()&&v!=null&&Cs(v)&&v.isDeletable()&&Vl(v)&&v.isMovable()&&!v.workspace.isFlyout},callback(d){const v=z();return v instanceof Ns?(Jr=v.toCopyData(),Zr=d,Fu=v.getRelativeToSurfaceXY(),v.checkAndDelete(),!0):Cs(v)&&v.isDeletable()&&ad(v)?(Jr=v.toCopyData(),Zr=d,Fu=Vl(v)?v.getRelativeToSurfaceXY():null,v.dispose(),!0):!1},keyCodes:[e,s,r]})},_v=function(){const e=pn.registry.createSerializedKey(en.V,[en.CTRL]),s=pn.registry.createSerializedKey(en.V,[en.ALT]),r=pn.registry.createSerializedKey(en.V,[en.META]);pn.registry.register({name:Ri.PASTE,preconditionFn(d){return!d.options.readOnly&&!ar.inProgress()},callback(){if(!Jr||!Zr)return!1;if(!Fu)return!!Ur(Jr,Zr);const{left:d,top:v,width:k,height:J}=Zr.getMetricsManager().getViewMetrics(!0);if(new yn(v,v+J,d,d+k).contains(Fu.x,Fu.y))return!!Ur(Jr,Zr);const ge=new ht(d+k/2,v+J/2);return!!Ur(Jr,Zr,ge)},keyCodes:[e,s,r]})},bv=function(){const e=pn.registry.createSerializedKey(en.Z,[en.CTRL]),s=pn.registry.createSerializedKey(en.Z,[en.ALT]),r=pn.registry.createSerializedKey(en.Z,[en.META]);pn.registry.register({name:Ri.UNDO,preconditionFn(d){return!d.options.readOnly&&!ar.inProgress()},callback(d,v){return d.hideChaff(),d.undo(!1),v.preventDefault(),!0},keyCodes:[e,s,r]})},Tv=function(){const e=pn.registry.createSerializedKey(en.Z,[en.SHIFT,en.CTRL]),s=pn.registry.createSerializedKey(en.Z,[en.SHIFT,en.ALT]),r=pn.registry.createSerializedKey(en.Z,[en.SHIFT,en.META]),d=pn.registry.createSerializedKey(en.Y,[en.CTRL]);pn.registry.register({name:Ri.REDO,preconditionFn(v){return!ar.inProgress()&&!v.options.readOnly},callback(v,k){return v.hideChaff(),v.undo(!0),k.preventDefault(),!0},keyCodes:[e,s,r,d]})},yv=function(){mv(),gv(),$v(),vv(),_v(),bv(),Tv()},Ev=function(e){const s=e.saveState();return e.getParameters().length&&(s.parameters=e.getParameters().map(r=>r.saveState())),s},Cv=function(e,s,r,d){if(e=e.loadState(r,d),!r.parameters)return e;for(const[v,k]of r.parameters.entries())e.insertParameter(s.loadState(k,d),v);return e},MS=function(e){const s=Object.create(null),r=g(ut.SERIALIZER,!0);for(const d in r){let v;const k=(v=r[d])==null?void 0:v.save(e);k&&(s[d]=k)}return s},DS=function(e,s,{recordUndo:r=!1}={}){var d=g(ut.SERIALIZER,!0);if(d){d=Object.entries(d).sort((k,J)=>J[1].priority-k[1].priority);var v=T();o.setRecordUndo$$module$build$src$core$events$utils(r),(r=o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),Et(),s instanceof As&&s.setResizesEnabled(!1);for(const[,k]of d.reverse()){let J;(J=k)==null||J.clear(s)}for(const[k,J]of d.reverse())if(e[k]){let ge;(ge=J)==null||ge.load(e[k],s)}s instanceof As&&s.setResizesEnabled(!0),Tt(),$(new(M(zl))(s)),o.setGroup$$module$build$src$core$events$utils(r),o.setRecordUndo$$module$build$src$core$events$utils(v)}},PS=function(e,s){let r=null;r=typeof e=="string"?document.getElementById(e)||document.querySelector(e):e;var d;if(!document.contains(r)&&document!==((d=r)==null?void 0:d.ownerDocument))throw Error("Error: container is not in current document");e=new ks(s||{}),d=document.createElement("div"),we(d,"injectionDiv"),s!=null&&s.rtl&&we(d,"blocklyRTL"),d.tabIndex=0,co(d,no.LABEL,o.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),r.appendChild(d),s=xS(d,e);const v=BS(d,s,e);return FS(v),j(v),D(v),d.addEventListener("focusin",function(){j(v)}),v},xS=function(e,s){e.setAttribute("dir","LTR"),Ve(s.hasCss,s.pathToMedia),e=ue(Be.SVG,{xmlns:fd,"xmlns:html":Ii,"xmlns:xlink":ds,version:"1.1",class:"blocklySvg",tabindex:"0"},e);const r=ue(Be.DEFS,{},e),d=String(Math.random()).substring(2);return s.gridPattern=N_.createDom(d,s.gridOptions,r),e},BS=function(e,s,r){r.parentWorkspace=null,r=new As(r);const d=r.options;r.scale=d.zoomOptions.startScale,s.appendChild(r.createDom("blocklyMainBackground",e));var v=r.getRenderer().getClassName();return v&&we(e,v),(v=r.getTheme().getClassName())&&we(e,v),!d.hasCategories&&d.languageTree&&(e=r.addFlyout(Be.SVG),et(e,s)),d.hasTrashcan&&r.addTrashcan(),d.zoomOptions&&d.zoomOptions.controls&&r.addZoomControls(),r.getThemeManager().subscribe(s,"workspaceBackgroundColour","background-color"),r.translate(0,0),r.addChangeListener(pv(r)),D(r),D$(),a$(),I$(),r},FS=function(e){const s=e.options;var r=e.getParentSvg();if(ve(r.parentNode,"contextmenu",null,function(d){ae(d)||d.preventDefault()}),r=ve(window,"resize",null,function(){Ji(),e.hideComponents(!0),T$(),F$(),D(e),xp(e)}),e.setResizeHandlerWrapper(r),VS(),s.languageTree){r=e.getToolbox();const d=e.getFlyout(!0);r?r.init():d&&(d.init(e),d.show(s.languageTree),typeof d.scrollToStart=="function"&&d.scrollToStart())}s.hasTrashcan&&e.trashcan.init(),s.zoomOptions&&s.zoomOptions.controls&&e.zoomControls_.init(),s.moveOptions&&s.moveOptions.scrollbars?(e.scrollbar=new lb(e,s.moveOptions.scrollbars===!0||!!s.moveOptions.scrollbars.horizontal,s.moveOptions.scrollbars===!0||!!s.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),s.hasSounds&&US(s.pathToMedia,e)},HS=function(e){const s=Z();s&&!(ae(e)||s.rendered&&!s.isVisible())&&pn.registry.onKeyDown(s,e)},VS=function(){Bw||(ve(document,"scroll",null,function(){const e=B();for(let s=0,r;r=e[s];s++)r instanceof As&&r.updateInverseScreenCTM()}),ve(document,"keydown",null,HS),Ne(document,"touchend",null,Pe),Ne(document,"touchcancel",null,Pe),pd&&ve(window,"orientationchange",document,function(){D(Z())})),Bw=!0},US=function(e,s){function r(){for(;v.length;){const k=v.pop();k&&He(k)}d.preload()}const d=s.getAudioManager();d.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),d.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),d.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const v=[];v.push(ve(document,"pointermove",null,r,!0)),v.push(ve(document,"touchstart",null,r,!0))},Sv=function(){Zt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.UNDO},preconditionFn(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:Zt.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},Iv=function(){Zt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.REDO},preconditionFn(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:Zt.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},wv=function(){Zt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:Zt.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},kv=function(e,s){function r(k){v--,k.setCollapsed(e),v===0&&o.setGroup$$module$build$src$core$events$utils(!1)}let d=0,v=0;o.setGroup$$module$build$src$core$events$utils(!0);for(let k=0;k<s.length;k++){let J=s[k];for(;J;)v++,setTimeout(r.bind(null,J),d),J=J.getNextBlock(),d+=10}},Ov=function(){Zt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let s=0;s<e.length;s++){let r=e[s];for(;r;){if(!r.isCollapsed())return"enabled";r=r.getNextBlock()}}return"disabled"}return"hidden"},callback(e){kv(!0,e.workspace.getTopBlocks(!0))},scopeType:Zt.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},Rv=function(){Zt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let s=0;s<e.length;s++){let r=e[s];for(;r;){if(r.isCollapsed())return"enabled";r=r.getNextBlock()}}return"disabled"}return"hidden"},callback(e){kv(!1,e.workspace.getTopBlocks(!0))},scopeType:Zt.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},Av=function(e,s){if(e.isDeletable())Array.prototype.push.apply(s,e.getDescendants(!1));else{e=e.getChildren(!1);for(let r=0;r<e.length;r++)Av(e[r],s)}},Bp=function(e){const s=[];e=e.getTopBlocks(!0);for(let r=0;r<e.length;r++)Av(e[r],s);return s},ud=function(e,s){s?o.setGroup$$module$build$src$core$events$utils(s):(o.setGroup$$module$build$src$core$events$utils(!0),s=o.getGroup$$module$build$src$core$events$utils());const r=e.shift();r&&(r.isDeadOrDying()?ud(e,s):(r.dispose(!1,!0),setTimeout(ud,10,e,s))),o.setGroup$$module$build$src$core$events$utils(!1)},Nv=function(){Zt.registry.register({displayText(e){return e.workspace?(e=Bp(e.workspace).length,e===1?o.Msg$$module$build$src$core$msg.DELETE_BLOCK:o.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)):""},preconditionFn(e){return e.workspace&&0<Bp(e.workspace).length?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var s=Bp(e.workspace);2>s.length?ud(s):Zs(o.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(s.length)),function(r){r&&ud(s)})}},scopeType:Zt.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},GS=function(){Sv(),Iv(),wv(),Ov(),Rv(),Nv()},Lv=function(){Zt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){if(e.block){var s=e.block.toCopyData();s&&Ur(s,e.block.workspace)}},scopeType:Zt.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},Mv=function(){Zt.registry.register({displayText(e){return e.block.hasIcon(dr.TYPE)?o.Msg$$module$build$src$core$msg.REMOVE_COMMENT:o.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.workspace.options.comments&&!e.isCollapsed()&&e.isEditable()?"enabled":"hidden"},callback(e){e=e.block,e.hasIcon(dr.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:Zt.ScopeType.BLOCK,id:"blockComment",weight:2})},Dv=function(){Zt.registry.register({displayText(e){return e.block.getInputsInline()?o.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:o.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let s=1;s<e.inputList.length;s++)if(!(e.inputList[s-1]instanceof Lf||e.inputList[s]instanceof Lf))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:Zt.ScopeType.BLOCK,id:"blockInline",weight:3})},Pv=function(){Zt.registry.register({displayText(e){return e.block.isCollapsed()?o.Msg$$module$build$src$core$msg.EXPAND_BLOCK:o.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:Zt.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},xv=function(){Zt.registry.register({displayText(e){return e.block.hasDisabledReason(Ss)?o.Msg$$module$build$src$core$msg.ENABLE_BLOCK:o.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()){var s=e.getDisabledReasons();return s=s.size>(s.has(Ss)?1:0),e.getInheritedDisabled()||s?"disabled":"enabled"}return"hidden"},callback(e){e=e.block;const s=o.getGroup$$module$build$src$core$events$utils();s||o.setGroup$$module$build$src$core$events$utils(!0),e.setDisabledReason(!e.hasDisabledReason(Ss),Ss),o.setGroup$$module$build$src$core$events$utils(s)},scopeType:Zt.ScopeType.BLOCK,id:"blockDisable",weight:5})},Bv=function(){Zt.registry.register({displayText(e){var s=e.block;return e=s.getDescendants(!1).length,(s=s.getNextBlock())&&(e-=s.getDescendants(!1).length),e===1?o.Msg$$module$build$src$core$msg.DELETE_BLOCK:o.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:Zt.ScopeType.BLOCK,id:"blockDelete",weight:6})},Fv=function(){Zt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:Zt.ScopeType.BLOCK,id:"blockHelp",weight:7})},Hv=function(){Zt.registry.register({displayText:()=>o.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(e){let s;return(s=e.comment)!=null&&s.isDeletable()?"enabled":"hidden"},callback(e){o.setGroup$$module$build$src$core$events$utils(!0);let s;(s=e.comment)==null||s.dispose(),o.setGroup$$module$build$src$core$events$utils(!1)},scopeType:Zt.ScopeType.COMMENT,id:"commentDelete",weight:6})},Vv=function(){Zt.registry.register({displayText:()=>o.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(e){let s;return(s=e.comment)!=null&&s.isMovable()?"enabled":"hidden"},callback(e){if(e.comment){var s=e.comment.toCopyData();s&&Ur(s,e.comment.workspace)}},scopeType:Zt.ScopeType.COMMENT,id:"commentDuplicate",weight:1})},Uv=function(){Zt.registry.register({displayText:()=>o.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:()=>"enabled",callback:(e,s)=>{if(e=e.workspace){o.setGroup$$module$build$src$core$events$utils(!0);var r=new pf(e);r.setText(o.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),r.moveTo(WS(new ht(s.clientX,s.clientY),e)),o.setSelected$$module$build$src$core$common(r),o.setGroup$$module$build$src$core$events$utils(!1)}},scopeType:Zt.ScopeType.WORKSPACE,id:"commentCreate",weight:8})},WS=function(e,s){var r=s.getInjectionDiv().getBoundingClientRect();return e=new ht(e.x-r.left,e.y-r.top),r=s.getOriginOffsetInPixels(),e=ht.difference(e,r),e.scale(1/s.scale),e},zS=function(){Lv(),Mv(),Dv(),Pv(),xv(),Bv(),Fv()},KS=function(){Vv(),Hv(),Uv()},Gv=function(){GS(),zS()},XS=function(e){return e.paste!==void 0},YS=function(e){return e.getSvgRoot!==void 0},jS=function(e){return typeof e.id=="string"&&e.workspace!==void 0&&e.select!==void 0&&e.unselect!==void 0},qS=function(e){return e.isSelectable()},JS=function(e){Z().hideChaff(e)},rt=rt||{},rt.scope={},rt.ASSUME_ES5=!1,rt.ASSUME_NO_NATIVE_MAP=!1,rt.ASSUME_NO_NATIVE_SET=!1,rt.SIMPLE_FROUND_POLYFILL=!1,rt.ISOLATE_POLYFILLS=!1,rt.FORCE_POLYFILL_PROMISE=!1,rt.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,rt.defineProperty=rt.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,s,r){return e==Array.prototype||e==Object.prototype||(e[s]=r.value),e},rt.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof jo=="object"&&jo];for(var s=0;s<e.length;++s){var r=e[s];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},rt.global=rt.getGlobal(this),rt.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",rt.TRUST_ES6_POLYFILLS=!rt.ISOLATE_POLYFILLS||rt.IS_SYMBOL_NATIVE,rt.polyfills={},rt.propertyToPolyfillSymbol={},rt.POLYFILL_PREFIX="$jscp$",rt.polyfill=function(e,s,r,d){s&&(rt.ISOLATE_POLYFILLS?rt.polyfillIsolated(e,s,r,d):rt.polyfillUnisolated(e,s,r,d))},rt.polyfillUnisolated=function(e,s,r,d){for(r=rt.global,e=e.split("."),d=0;d<e.length-1;d++){var v=e[d];if(!(v in r))return;r=r[v]}e=e[e.length-1],d=r[e],s=s(d),s!=d&&s!=null&&rt.defineProperty(r,e,{configurable:!0,writable:!0,value:s})},rt.polyfillIsolated=function(e,s,r,d){var v=e.split(".");e=v.length===1,d=v[0],d=!e&&d in rt.polyfills?rt.polyfills:rt.global;for(var k=0;k<v.length-1;k++){var J=v[k];if(!(J in d))return;d=d[J]}v=v[v.length-1],r=rt.IS_SYMBOL_NATIVE&&r==="es6"?d[v]:null,s=s(r),s!=null&&(e?rt.defineProperty(rt.polyfills,v,{configurable:!0,writable:!0,value:s}):s!==r&&(rt.propertyToPolyfillSymbol[v]===void 0&&(r=1e9*Math.random()>>>0,rt.propertyToPolyfillSymbol[v]=rt.IS_SYMBOL_NATIVE?rt.global.Symbol(v):rt.POLYFILL_PREFIX+r+"$"+v),rt.defineProperty(d,rt.propertyToPolyfillSymbol[v],{configurable:!0,writable:!0,value:s})))},rt.underscoreProtoCanBeSet=function(){var e={a:!0},s={};try{return s.__proto__=e,s.a}catch{}return!1},rt.setPrototypeOf=rt.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:rt.underscoreProtoCanBeSet()?function(e,s){if(e.__proto__=s,e.__proto__!==s)throw new TypeError(e+" is not extensible");return e}:null,rt.arrayIteratorImpl=function(e){var s=0;return function(){return s<e.length?{done:!1,value:e[s++]}:{done:!0}}},rt.arrayIterator=function(e){return{next:rt.arrayIteratorImpl(e)}},rt.makeIterator=function(e){var s=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(s)return s.call(e);if(typeof e.length=="number")return rt.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},rt.generator={},rt.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},rt.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},rt.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},rt.generator.Context.prototype.stop_=function(){this.isRunning_=!1},rt.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},rt.generator.Context.prototype.next_=function(e){this.yieldResult=e},rt.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},rt.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},rt.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},rt.generator.Context.prototype.yield=function(e,s){return this.nextAddress=s,{value:e}},rt.generator.Context.prototype.yieldAll=function(e,s){e=rt.makeIterator(e);var r=e.next();if(rt.generator.ensureIteratorResultIsObject_(r),r.done)this.yieldResult=r.value,this.nextAddress=s;else return this.yieldAllIterator_=e,this.yield(r.value,s)},rt.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},rt.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},rt.generator.Context.prototype.setCatchFinallyBlocks=function(e,s){this.catchAddress_=e,s!=null&&(this.finallyAddress_=s)},rt.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},rt.generator.Context.prototype.leaveTryBlock=function(e,s){this.nextAddress=e,this.catchAddress_=s||0},rt.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},rt.generator.Context.prototype.enterFinallyBlock=function(e,s,r){r?this.finallyContexts_[r]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=s||0},rt.generator.Context.prototype.leaveFinallyBlock=function(e,s){if(s=this.finallyContexts_.splice(s||0)[0],s=this.abruptCompletion_=this.abruptCompletion_||s){if(s.isException)return this.jumpToErrorHandler_();s.jumpTo!=null&&this.finallyAddress_<s.jumpTo?(this.nextAddress=s.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},rt.generator.Context.prototype.forIn=function(e){return new rt.generator.Context.PropertyIterator(e)},rt.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var s in e)this.properties_.push(s);this.properties_.reverse()},rt.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},rt.generator.Engine_=function(e){this.context_=new rt.generator.Context,this.program_=e},rt.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},rt.generator.Engine_.prototype.return_=function(e){this.context_.start_();var s=this.context_.yieldAllIterator_;return s?this.yieldAllStep_("return"in s?s.return:function(r){return{value:r,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},rt.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},rt.generator.Engine_.prototype.yieldAllStep_=function(e,s,r){try{var d=e.call(this.context_.yieldAllIterator_,s);if(rt.generator.ensureIteratorResultIsObject_(d),!d.done)return this.context_.stop_(),d;var v=d.value}catch(k){return this.context_.yieldAllIterator_=null,this.context_.throw_(k),this.nextStep_()}return this.context_.yieldAllIterator_=null,r.call(this.context_,v),this.nextStep_()},rt.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(s){this.context_.yieldResult=void 0,this.context_.throw_(s)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},rt.generator.Generator_=function(e){this.next=function(s){return e.next_(s)},this.throw=function(s){return e.throw_(s)},this.return=function(s){return e.return_(s)},this[Symbol.iterator]=function(){return this}},rt.generator.createGenerator=function(e,s){return s=new rt.generator.Generator_(new rt.generator.Engine_(s)),rt.setPrototypeOf&&e.prototype&&rt.setPrototypeOf(s,e.prototype),s},rt.asyncExecutePromiseGenerator=function(e){function s(d){return e.next(d)}function r(d){return e.throw(d)}return new Promise(function(d,v){function k(J){J.done?d(J.value):Promise.resolve(J.value).then(s,r).then(k,v)}k(e.next())})},rt.asyncExecutePromiseGeneratorFunction=function(e){return rt.asyncExecutePromiseGenerator(e())},rt.asyncExecutePromiseGeneratorProgram=function(e){return rt.asyncExecutePromiseGenerator(new rt.generator.Generator_(new rt.generator.Engine_(e)))},rt.polyfill("globalThis",function(e){return e||rt.global},"es_2020","es3"),rt.polyfill("Array.prototype.includes",function(e){return e||function(s,r){var d=this;d instanceof String&&(d=String(d));var v=d.length;for(r=r||0,0>r&&(r=Math.max(r+v,0));r<v;r++){var k=d[r];if(k===s||Object.is(k,s))return!0}return!1}},"es7","es3"),rt.initSymbol=function(){},rt.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},rt.iteratorFromArray=function(e,s){e instanceof String&&(e+="");var r=0,d=!1,v={next:function(){if(!d&&r<e.length){var k=r++;return{value:s(k,e[k]),done:!1}}return d=!0,{done:!0,value:void 0}}};return v[Symbol.iterator]=function(){return v},v},rt.polyfill("Array.prototype.values",function(e){return e||function(){return rt.iteratorFromArray(this,function(s,r){return r})}},"es8","es3"),rt.polyfill("Array.prototype.flat",function(e){return e||function(s){s=s===void 0?1:s;var r=[];return Array.prototype.forEach.call(this,function(d){Array.isArray(d)&&0<s?(d=Array.prototype.flat.call(d,s-1),r.push.apply(r,d)):r.push(d)}),r}},"es9","es5"),rt.polyfill("Array.prototype.flatMap",function(e){return e||function(s,r){var d=[];return Array.prototype.forEach.call(this,function(v,k){v=s.call(r,v,k,this),Array.isArray(v)?d.push.apply(d,v):d.push(v)}),d}},"es9","es5"),rt.owns=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},rt.polyfill("Object.entries",function(e){return e||function(s){var r=[],d;for(d in s)rt.owns(s,d)&&r.push([d,s[d]]);return r}},"es8","es3"),rt.polyfill("Object.values",function(e){return e||function(s){var r=[],d;for(d in s)rt.owns(s,d)&&r.push(s[d]);return r}},"es8","es3");var Gr=Object.create(null),mx={typeMap:Gr},Fp=Object.create(null),Ei="default",ut=class{constructor(e){this.name=e}toString(){return this.name}};ut.CONNECTION_CHECKER=new ut("connectionChecker"),ut.CONNECTION_PREVIEWER=new ut("connectionPreviewer"),ut.CURSOR=new ut("cursor"),ut.EVENT=new ut("event"),ut.FIELD=new ut("field"),ut.INPUT=new ut("input"),ut.RENDERER=new ut("renderer"),ut.TOOLBOX=new ut("toolbox"),ut.THEME=new ut("theme"),ut.TOOLBOX_ITEM=new ut("toolboxItem"),ut.FLYOUTS_VERTICAL_TOOLBOX=new ut("flyoutsVerticalToolbox"),ut.FLYOUTS_HORIZONTAL_TOOLBOX=new ut("flyoutsHorizontalToolbox"),ut.METRICS_MANAGER=new ut("metricsManager"),ut.BLOCK_DRAGGER=new ut("blockDragger"),ut.SERIALIZER=new ut("serializer"),ut.ICON=new ut("icon"),ut.PASTER=new ut("paster");var Qi={DEFAULT:Ei,TEST_ONLY:mx};Qi.Type=ut,Qi.getAllItems=g,Qi.getClass=p,Qi.getClassFromOptions=m,Qi.getObject=f,Qi.hasItem=h,Qi.register=i,Qi.unregister=a;var es=Object.create(null),ZS="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",QS={genUid:()=>{const e=ZS.length,s=[];for(let r=0;20>r;r++)s[r]=ZS.charAt(Math.random()*e);return s.join("")}},gx=0,Wv={TEST_ONLY:QS};Wv.genUid=b,Wv.getNextUniqueId=_;var zv,uu,Hp,Ul,er,Gl,cu,Vp,Wl,du,tr,hu,Ci,pu,fu,mu,Wr,nr,gu,$u,or,cd,zl,Up,Gp,Kl,Wp,Vo;zv="",uu=!0,Hp=0,o.CREATE$$module$build$src$core$events$utils="create",o.CREATE$$module$build$src$core$events$utils,o.DELETE$$module$build$src$core$events$utils="delete",o.DELETE$$module$build$src$core$events$utils,o.CHANGE$$module$build$src$core$events$utils="change",o.CHANGE$$module$build$src$core$events$utils,Ul="block_field_intermediate_change",o.MOVE$$module$build$src$core$events$utils="move",o.MOVE$$module$build$src$core$events$utils,er="var_create",Gl="var_delete",cu="var_rename",Vp="ui",Wl="drag",du="selected",tr="click",hu="marker_move",Ci="bubble_open",pu="trashcan_open",fu="toolbox_item_select",mu="theme_change",Wr="viewport_change",nr="comment_create",gu="comment_delete",$u="comment_change",or="comment_move",cd="comment_collapse",zl="finished_loading",Up="ORPHANED_BLOCK",Gp=[o.CREATE$$module$build$src$core$events$utils,o.MOVE$$module$build$src$core$events$utils,nr,or],Kl=[],Wp={FIRE_QUEUE:Kl,fireNow:y,fireInternal:E,setGroupInternal:R},Vo={BLOCK_CHANGE:o.CHANGE$$module$build$src$core$events$utils,BLOCK_CREATE:o.CREATE$$module$build$src$core$events$utils,BLOCK_DELETE:o.DELETE$$module$build$src$core$events$utils,BLOCK_DRAG:Wl,BLOCK_FIELD_INTERMEDIATE_CHANGE:Ul,BLOCK_MOVE:o.MOVE$$module$build$src$core$events$utils,BUBBLE_OPEN:Ci,BUMP_EVENTS:Gp,CHANGE:o.CHANGE$$module$build$src$core$events$utils,CLICK:tr,COMMENT_CHANGE:$u,COMMENT_COLLAPSE:cd,COMMENT_CREATE:nr,COMMENT_DELETE:gu,COMMENT_MOVE:or,CREATE:o.CREATE$$module$build$src$core$events$utils,DELETE:o.DELETE$$module$build$src$core$events$utils,FINISHED_LOADING:zl,MARKER_MOVE:hu,MOVE:o.MOVE$$module$build$src$core$events$utils,SELECTED:du,TEST_ONLY:Wp,THEME_CHANGE:mu,TOOLBOX_ITEM_SELECT:fu,TRASHCAN_OPEN:pu,UI:Vp,VAR_CREATE:er,VAR_DELETE:Gl,VAR_RENAME:cu,VIEWPORT_CHANGE:Wr},Vo.clearPendingUndo=C,Vo.disable=o.disable$$module$build$src$core$events$utils,Vo.disableOrphans=H,Vo.enable=o.enable$$module$build$src$core$events$utils,Vo.filter=I,Vo.fire=$,Vo.fromJson=P,Vo.get=M,Vo.getDescendantIds=O,Vo.getGroup=o.getGroup$$module$build$src$core$events$utils,Vo.getRecordUndo=T,Vo.isEnabled=S,Vo.setGroup=o.setGroup$$module$build$src$core$events$utils,Vo.setRecordUndo=o.setRecordUndo$$module$build$src$core$events$utils;var dd=Object.create(null),eI,Xl=null,tI,hd=[],nI={defineBlocksWithJsonArrayInternal:me},vo={TEST_ONLY:nI};vo.createBlockDefinitionsFromJsonArray=o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,vo.defineBlocks=o.defineBlocks$$module$build$src$core$common,vo.defineBlocksWithJsonArray=le,vo.draggingConnections=hd,vo.getAllWorkspaces=B,vo.getBlockTypeCounts=X,vo.getMainWorkspace=Z,vo.getParentContainer=G,vo.getSelected=z,vo.getWorkspaceById=F,vo.registerWorkspace=K,vo.setMainWorkspace=j,vo.setParentContainer=W,vo.setSelected=o.setSelected$$module$build$src$core$common,vo.svgResize=D,vo.unregisterWorkpace=te;var vu=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=o.getGroup$$module$build$src$core$events$utils(),this.recordUndo=T()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,s,r){return r.isBlank=!1,r.group=e.group||"",r.workspaceId=s.id,r}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=F(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},Si=class extends vu{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},Kv=class extends Si{constructor(e,s,r){s=e?e.workspace.id:s,s===null&&(s=void 0),super(s),this.type=tr,this.blockId=e?e.id:void 0,this.targetType=r}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new Kv),s.targetType=e.targetType,s.blockId=e.blockId,s}},Xv;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(Xv||(Xv={})),i(ut.EVENT,tr,Kv);var $x=750,oI="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),zp=null,Yl={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},Kp=0,jl={TOUCH_ENABLED:oI,TOUCH_MAP:Yl};jl.checkTouchIdentifier=Ke,jl.clearTouchIdentifier=de,jl.getTouchIdentifierFromEvent=_e,jl.longStart=Se,jl.longStop=Pe,jl.shouldHandleEvent=ye;var Yv,sI,iI,rI,Xp,Yp,jv,lI,aI,uI;(function(e){function s(d){return r.includes(d.toUpperCase())}Yv=e;const r=Yv.toUpperCase();sI=s("JavaFX"),iI=s("WebKit"),rI=s("Gecko")&&!iI,Xp=s("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,Yp=s("iPad")||s("Macintosh")&&0<e,jv=s("iPhone")&&!Yp,lI=s("Macintosh"),aI=Yp||Xp&&!s("Mobile")||s("Silk"),uI=!aI&&(jv||Xp)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var vx=Yv,cI=sI,dI=rI,qv=Xp,pd=Yp,hI=jv,Jv=lI,pI=uI,_x={ANDROID:qv,GECKO:dI,IPAD:pd,IPHONE:hI,JavaFx:cI,MAC:Jv,MOBILE:pI,raw:vx},fI=40,mI=125,sr={};sr.bind=Ne,sr.conditionalBind=ve,sr.getScrollDeltaPixels=Fe,sr.isRightButton=he,sr.isTargetInput=ae,sr.mouseToSvg=Ae,sr.unbind=He;var gI={};gI.removeElem=Ce;var ir=class{constructor(e){this.name_=e}toString(){return this.name_}};ir.POSITIONABLE=new ir("positionable"),ir.DRAG_TARGET=new ir("drag_target"),ir.DELETE_AREA=new ir("delete_area"),ir.AUTOHIDEABLE=new ir("autohideable");var to=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,s){const r=e.component.id;if(!s&&this.componentData.has(r)){var d;throw Error('Plugin "'+r+'" with capabilities "'+((d=this.componentData.get(r))==null?void 0:d.capabilities)+'" already added.')}for(this.componentData.set(r,e),s=[],d=0;d<e.capabilities.length;d++){const v=String(e.capabilities[d]).toLowerCase();if(s.push(v),this.capabilityToComponentIds.has(v)){let k;(k=this.capabilityToComponentIds.get(v))==null||k.push(r)}else this.capabilityToComponentIds.set(v,[r])}this.componentData.get(r).capabilities=s}removeComponent(e){const s=this.componentData.get(e);if(s){for(let r=0;r<s.capabilities.length;r++){const d=String(s.capabilities[r]).toLowerCase();Ce(this.capabilityToComponentIds.get(d),e)}this.componentData.delete(e)}}addCapability(e,s){if(!this.getComponent(e))throw Error('Cannot add capability, "'+s+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,s))console.warn('Plugin "'+e+'already has capability "'+s+'"');else{s=`${s}`.toLowerCase();var r;(r=this.componentData.get(e))==null||r.capabilities.push(s);var d;(d=this.capabilityToComponentIds.get(s))==null||d.push(e)}}removeCapability(e,s){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+s+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,s)?(s=`${s}`.toLowerCase(),Ce(this.componentData.get(e).capabilities,s),Ce(this.capabilityToComponentIds.get(s),e)):console.warn('Plugin "'+e+`doesn't have capability "`+s+'" to remove')}hasCapability(e,s){return s=`${s}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.includes(s)}getComponent(e){let s;return(s=this.componentData.get(e))==null?void 0:s.component}getComponents(e,s){if(e=`${e}`.toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const r=[];if(s){const d=[];e.forEach(v=>{d.push(this.componentData.get(v))}),d.sort(function(v,k){return v.weight-k.weight}),d.forEach(function(v){r.push(v.component)})}else e.forEach(d=>{r.push(this.componentData.get(d).component)});return r}};to.Capability=ir;var Zv=!1,Qv=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
}

.blocklyNonSelectable {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
  overflow: auto;
  overflow-x: hidden;
  position: relative;
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
}

.blocklyDropDownButton {
  display: inline-block;
  float: left;
  padding: 0;
  margin: 4px;
  border-radius: 4px;
  outline: none;
  border: 1px solid;
  transition: box-shadow .1s;
  cursor: pointer;
}

.blocklyArrowTop {
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyArrowBottom {
  border-bottom: 1px solid;
  border-right: 1px solid;
  border-bottom-right-radius: 4px;
  border-color: inherit;
}

.blocklyResizeSE {
  cursor: se-resize;
  fill: #aaa;
}

.blocklyResizeSW {
  cursor: sw-resize;
  fill: #aaa;
}

.blocklyResizeLine {
  stroke: #515A5A;
  stroke-width: 1;
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
  /* Drag surface disables events to not block the toolbox, so we have to
   * reenable them here for the cursor values to work. */
  pointer-events: auto;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabled>.blocklyPath {
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyMultilineText {
  font-family: monospace;
}

.blocklyNonEditableText>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

/*
  Don't allow users to select text.  It gets annoying when trying to
  drag a block and selected text moves instead.
*/
.blocklySvg text {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  cursor: inherit;
}

.blocklyHidden {
  display: none;
}

.blocklyFieldDropdown:not(.blocklyHidden) {
  display: block;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
  height: 100%;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  position: relative;  /* Compatibility with gapi, reset from goog-menu */
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}

.blocklyBlockDragSurface, .blocklyAnimationLayer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 80;
  pointer-events: none;
}
`,e_={};e_.inject=Ve,e_.register=De;var ht=class{constructor(e,s){this.x=e,this.y=s}clone(){return new ht(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,s){return this.x+=e,this.y+=s,this}static equals(e,s){return e===s?!0:e&&s?e.x===s.x&&e.y===s.y:!1}static distance(e,s){const r=e.x-s.x;return e=e.y-s.y,Math.sqrt(r*r+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,s){return new ht(e.x-s.x,e.y-s.y)}static sum(e,s){return new ht(e.x+s.x,e.y+s.y)}},fd="http://www.w3.org/2000/svg",Ii="http://www.w3.org/1999/xhtml",ds="http://www.w3.org/1999/xlink",rr;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(rr||(rr={}));var Qs=null,t_=0,jp=null,ho={HTML_NS:Ii};ho.NodeType=rr,ho.SVG_NS=fd,ho.XLINK_NS=ds,ho.addClass=we,ho.createSvgElement=ue,ho.getFastTextWidth=Re,ho.getFastTextWidthWithSizeString=Ye,ho.getTextWidth=st,ho.hasClass=ot,ho.insertAfter=et,ho.measureFontMetrics=A,ho.removeClass=Ge,ho.removeClasses=ke,ho.removeNode=q,ho.setCssTransform=lt,ho.startTextWidthCache=Et,ho.stopTextWidthCache=Tt;var Be=class{constructor(e){this.tagName=e}toString(){return this.tagName}};Be.ANIMATE=new Be("animate"),Be.CIRCLE=new Be("circle"),Be.CLIPPATH=new Be("clipPath"),Be.DEFS=new Be("defs"),Be.FECOMPOSITE=new Be("feComposite"),Be.FECOMPONENTTRANSFER=new Be("feComponentTransfer"),Be.FEFLOOD=new Be("feFlood"),Be.FEFUNCA=new Be("feFuncA"),Be.FEGAUSSIANBLUR=new Be("feGaussianBlur"),Be.FEPOINTLIGHT=new Be("fePointLight"),Be.FESPECULARLIGHTING=new Be("feSpecularLighting"),Be.FILTER=new Be("filter"),Be.FOREIGNOBJECT=new Be("foreignObject"),Be.G=new Be("g"),Be.IMAGE=new Be("image"),Be.LINE=new Be("line"),Be.PATH=new Be("path"),Be.PATTERN=new Be("pattern"),Be.POLYGON=new Be("polygon"),Be.RECT=new Be("rect"),Be.SVG=new Be("svg"),Be.TEXT=new Be("text"),Be.TSPAN=new Be("tspan");var yn=class{constructor(e,s,r,d){this.top=e,this.bottom=s,this.left=r,this.right=d}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}contains(e,s){return e>=this.left&&e<=this.right&&s>=this.top&&s<=this.bottom}intersects(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)}},cn=class{constructor(e,s){this.width=e,this.height=s}static equals(e,s){return e===s?!0:e&&s?e.width===s.width&&e.height===s.height:!1}static max(e,s){return new cn(Math.max(e.width,s.width),Math.max(e.height,s.height))}static min(e,s){return new cn(Math.min(e.width,s.width),Math.min(e.height,s.height))}},$I={getSizeInternal:ee},zr={TEST_ONLY:$I};zr.getBorderBox=U,zr.getComputedStyle=re,zr.getContainerOffsetToScrollInto=Ee,zr.getPageOffset=je,zr.getSize=x,zr.getViewportPageOffset=Ct,zr.scrollIntoContainerView=se;var vI=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,_I=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,bx={XY_REGEX:vI,XY_STYLE_REGEX:_I},ql={TEST_ONLY:bx};ql.getDocumentScroll=Bn,ql.getInjectionDivXY=Qe,ql.getRelativeXY=Ie,ql.getViewportBBox=Lt,ql.screenToWsCoordinates=go,ql.wsToScreenCoordinates=Fo;var Wn=class{constructor(e,s,r,d,v){this.workspace=e,this.horizontal=s,this.oldHostMetrics=null,this.ratio=1,this.origin=new ht(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new ht(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=r||!1,this.margin=v!==void 0?v:Wn.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),d&&(e+=" "+d),this.outerSvg=ue(Be.SVG,{class:e}),d=ue(Be.G,{},this.outerSvg),this.svgBackground=ue(Be.RECT,{class:"blocklyScrollbarBackground"},d),e=Math.floor((Wn.scrollbarThickness-5)/2),this.svgHandle=ue(Be.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},d),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),et(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),s?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=ve(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=ve(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=Wn.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),He(this.onMouseDownBarWrapper_),He(this.onMouseDownHandleWrapper_),q(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,s){this.position.x=e,this.position.y=s,lt(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&Wn.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var s=e.viewWidth-2*this.margin;this.pair&&(s-=Wn.scrollbarThickness),this.setScrollbarLength(Math.max(0,s)),s=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(s+=Wn.scrollbarThickness),this.setPosition(s,e.absoluteTop+e.viewHeight-Wn.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var s=this.scrollbarLength*e.viewWidth/e.scrollWidth;s=this.constrainHandleLength(s),this.setHandleLength(s),s=e.scrollWidth-e.viewWidth;var r=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/s*r,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=r/s}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let s=e.viewHeight-2*this.margin;this.pair&&(s-=Wn.scrollbarThickness),this.setScrollbarLength(Math.max(0,s)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-Wn.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var s=this.scrollbarLength*e.viewHeight/e.scrollHeight;s=this.constrainHandleLength(s),this.setHandleLength(s),s=e.scrollHeight-e.viewHeight;var r=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/s*r,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=r/s}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const s=e!==this.containerVisible;this.containerVisible=e,s&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const s=e!==this.isVisible();this.isHandleVisible=e,s&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),de(),this.cleanUp(),he(e))e.stopPropagation();else{var s=Ae(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());s=this.horizontal?s.x:s.y;var r=Qe(this.svgHandle);r=this.horizontal?r.x:r.y;var d=this.handlePosition,v=.95*this.handleLength;s<=r?d-=v:s>=r+this.handleLength&&(d+=v),this.setHandlePosition(this.constrainHandlePosition(d)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),he(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=ve(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=ve(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){de(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(He(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(He(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,s){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(s||s===void 0)&&this.updateMetrics()}setOrigin(e,s){this.origin=new ht(e,s)}static metricsAreEquivalent(e,s){return e.viewWidth===s.viewWidth&&e.viewHeight===s.viewHeight&&e.viewLeft===s.viewLeft&&e.viewTop===s.viewTop&&e.absoluteTop===s.absoluteTop&&e.absoluteLeft===s.absoluteLeft&&e.scrollWidth===s.scrollWidth&&e.scrollHeight===s.scrollHeight&&e.scrollLeft===s.scrollLeft&&e.scrollTop===s.scrollTop}};Wn.scrollbarThickness=oI?25:15,Wn.DEFAULT_SCROLLBAR_MARGIN=.5;var qp={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},n_={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:Jp,DOMParser:md,XMLSerializer:gd}=globalThis;md&&(qp=new md),gd&&(n_=new gd);var bI="https://developers.google.com/blockly/xml",Tx=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,_u={NAME_SPACE:bI};_u.createElement=o.createElement$$module$build$src$core$utils$xml,_u.createTextNode=o.createTextNode$$module$build$src$core$utils$xml,_u.domToText=Vn,_u.injectDependencies=uo,_u.textToDom=o.textToDom$$module$build$src$core$utils$xml;var o_="categoryToolbox",TI="flyoutToolbox",Jt;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(Jt||(Jt={}));var yI={hasCategoriesInternal:ja},Kr={};Kr.Position=Jt,Kr.TEST_ONLY=yI,Kr.convertFlyoutDefToJsonArray=Yi,Kr.convertToolboxDefToJson=qs,Kr.hasCategories=Pr,Kr.isCategoryCollapsible=xr,Kr.parseToolboxTree=Tn;var lr;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(lr||(lr={}));var bu;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(bu||(bu={}));var Xr;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(Xr||(Xr={}));var Jl={};Jl.bumpDirection=Xr,Jl.bumpPositionRect=Js,Jl.getCornerOppositeToolbox=us,Jl.getStartPositionRect=wo,Jl.horizontalPosition=bu,Jl.verticalPosition=lr;var Uo={width:96,height:124,url:"sprites.png"},EI=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=ue(Be.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:2,capabilities:[to.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&q(this.svgGroup);for(const e of this.boundEvents)He(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new yn(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,s){if(this.initialized){var r=us(this.workspace,e),d=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(d+=this.LARGE_SPACING+this.HEIGHT),e=wo(r,new cn(this.WIDTH,d),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),r=r.vertical,s=Js(e,this.MARGIN_VERTICAL,r===lr.TOP?Xr.DOWN:Xr.UP,s),r===lr.TOP){var v=this.SMALL_SPACING+this.HEIGHT,k;(k=this.zoomInGroup)==null||k.setAttribute("transform","translate(0, "+v+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(v+this.LARGE_SPACING+this.HEIGHT)+")")}else{k=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let ge;(ge=this.zoomInGroup)==null||ge.setAttribute("transform","translate(0, "+k+")"),k=k+this.SMALL_SPACING+this.HEIGHT,(v=this.zoomOutGroup)==null||v.setAttribute("transform","translate(0, "+k+")")}this.top=s.top,this.left=s.left;var J;(J=this.svgGroup)==null||J.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=ue(Be.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const s=ue(Be.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);ue(Be.RECT,{width:32,height:32},s),ue(Be.IMAGE,{width:Uo.width,height:Uo.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(ds,"xlink:href",this.workspace.options.pathToMedia+Uo.url),this.boundEvents.push(ve(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=ue(Be.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const s=ue(Be.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);ue(Be.RECT,{width:32,height:32},s),ue(Be.IMAGE,{width:Uo.width,height:Uo.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(ds,"xlink:href",this.workspace.options.pathToMedia+Uo.url),this.boundEvents.push(ve(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,s){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),de(),s.stopPropagation(),s.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=ue(Be.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const s=ue(Be.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);ue(Be.RECT,{width:32,height:32},s),ue(Be.IMAGE,{width:Uo.width,height:Uo.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(ds,"xlink:href",this.workspace.options.pathToMedia+Uo.url),this.boundEvents.push(ve(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const s=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(s),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),de(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(M(tr))(null,this.workspace.id,"zoom_controls");$(e)}};De(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var $d="_TEMP_COLLAPSED_INPUT",Zp="_TEMP_COLLAPSED_FIELD",Ss="MANUALLY_DISABLED",yx={COLLAPSED_FIELD_NAME:Zp,COLLAPSED_INPUT_NAME:$d,MANUALLY_DISABLED:Ss},Jn=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};Jn.MUTATOR=new Jn("mutator"),Jn.WARNING=new Jn("warning"),Jn.COMMENT=new Jn("comment"),function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"}(o.inputTypes$$module$build$src$core$inputs$input_types||(o.inputTypes$$module$build$src$core$inputs$input_types={})),o.inputTypes$$module$build$src$core$inputs$input_types;var CI=function(e,s){window.alert(e),s&&s()},SI=function(e,s){s(window.confirm(e))},II=function(e,s,r){r(window.prompt(e,s))},wI={confirmInternal:Je},Zl={TEST_ONLY:wI};Zl.alert=$o,Zl.confirm=Zs,Zl.prompt=Gt,Zl.setAlert=Ho,Zl.setConfirm=St,Zl.setPrompt=tn;var s_,kI;o.Msg$$module$build$src$core$msg=Object.create(null),s_=function(e){Object.keys(e).forEach(function(s){o.Msg$$module$build$src$core$msg[s]=e[s]})},kI={Msg:o.Msg$$module$build$src$core$msg,setLocale:s_};var vd=class extends vu{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new vd),s.varId=e.varId,s}},i_=class extends vd{constructor(e){super(e),this.type=er,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new i_),s.varType=e.varType,s.varName=e.varName,s}run(e){const s=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?s.createVariable(this.varName,this.varType,this.varId):s.deleteVariableById(this.varId)}};i(ut.EVENT,er,i_);var _d=class{constructor(e,s,r,d){this.workspace=e,this.name=s,this.type=r||"",this.id_=d||b()}getId(){return this.id_}static compareByName(e,s){return e.name.localeCompare(s.name,void 0,{sensitivity:"base"})}},r_="VARIABLE",l_="ijkmnopqrstuvwxyzabcdefgh",OI={generateUniqueNameInternal:G0},_o={CATEGORY_NAME:r_,TEST_ONLY:OI,VAR_LETTER_OPTIONS:l_};_o.allDeveloperVariables=o.allDeveloperVariables$$module$build$src$core$variables,_o.allUsedVarModels=o.allUsedVarModels$$module$build$src$core$variables,_o.createVariableButtonHandler=qa,_o.flyoutCategory=cp,_o.flyoutCategoryBlocks=Jg,_o.generateUniqueName=Zg,_o.generateUniqueNameFromOptions=dp,_o.generateVariableFieldDom=Pl,_o.getAddedVariables=Yc,_o.getOrCreateVariablePackage=o.getOrCreateVariablePackage$$module$build$src$core$variables,_o.getVariable=o.getVariable$$module$build$src$core$variables,_o.nameUsedWithAnyType=Qg,_o.nameUsedWithConflictingParam=e$,_o.promptName=hp,_o.renameVariable=o.renameVariable$$module$build$src$core$variables;var Qp=new Set,a_=new WeakSet,u_=new WeakMap,Tu=null,c_=null,RI=0,ef={};ef.finishQueuedRenders=vi,ef.queueRender=t$,ef.triggerQueuedRenders=ji;var tf=class{constructor(e,s){this.workspace=e,this.text="",this.size=new cn(120,100),this.collapsed=!1,this.deletable=this.movable=this.editable=!0,this.location=new ht(0,0),this.disposing=this.disposed=!1,this.id=s&&!e.getCommentById(s)?s:b(),e.addTopComment(this),this.fireCreateEvent()}fireCreateEvent(){S()&&$(new(M(nr))(this))}fireDeleteEvent(){S()&&$(new(M(gu))(this))}fireChangeEvent(e,s){S()&&$(new(M($u))(this,e,s))}fireCollapseEvent(e){S()&&$(new(M(cd))(this,e))}setText(e){const s=this.text;this.text=e,this.fireChangeEvent(s,e)}getText(){return this.text}setSize(e){this.size=e}getSize(){return this.size}setCollapsed(e){this.collapsed=e,this.fireCollapseEvent(e)}isCollapsed(){return this.collapsed}setEditable(e){this.editable=e}isEditable(){return this.isOwnEditable()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable}setMovable(e){this.movable=e}isMovable(){return this.isOwnMovable()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable}setDeletable(e){this.deletable=e}isDeletable(){return this.isOwnDeletable()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable}moveTo(e,s){const r=new(M(or))(this);s&&r.setReason(s),this.location=e,r.recordNew(),S()&&$(r)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0,this.fireDeleteEvent(),this.workspace.removeTopComment(this),this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}},yu=50,d_=100,AI=class{constructor(e){this.workspace=e,this.size=new cn(120,100),this.collapsed=!1,this.editable=!0,this.location=new ht(0,0),this.text="",this.textChangeListeners=[],this.sizeChangeListeners=[],this.disposeListeners=[],this.collapseChangeListeners=[],this.resizePointerMoveListener=this.resizePointerUpListener=null,this.disposed=this.disposing=!1,this.svgRoot=ue(Be.G,{class:"blocklyComment blocklyEditable"}),this.highlightRect=this.createHighlightRect(this.svgRoot),{topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteIcon:this.deleteIcon,foldoutIcon:this.foldoutIcon,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot,e),{foreignObject:this.foreignObject,textArea:this.textArea}=this.createTextArea(this.svgRoot),this.resizeHandle=this.createResizeHandle(this.svgRoot,e);let s;(s=e.getLayerManager())==null||s.append(this,yu),this.setSize(this.size),this.moveTo(new ht(0,0))}createHighlightRect(e){return ue(Be.RECT,{class:"blocklyCommentHighlight"},e)}createTopBar(e,s){e=ue(Be.G,{class:"blocklyCommentTopbar"},e);const r=ue(Be.RECT,{class:"blocklyCommentTopbarBackground"},e),d=ue(Be.IMAGE,{class:"blocklyDeleteIcon",href:`${s.options.pathToMedia}delete-icon.svg`},e);s=ue(Be.IMAGE,{class:"blocklyFoldoutIcon",href:`${s.options.pathToMedia}foldout-icon.svg`},e);const v=ue(Be.TEXT,{class:"blocklyCommentPreview blocklyCommentText blocklyText"},e),k=document.createTextNode("");return v.appendChild(k),ve(s,"pointerdown",this,this.onFoldoutDown),ve(d,"pointerdown",this,this.onDeleteDown),{topBarGroup:e,topBarBackground:r,deleteIcon:d,foldoutIcon:s,textPreview:v,textPreviewNode:k}}createTextArea(e){e=ue(Be.FOREIGNOBJECT,{class:"blocklyCommentForeignObject"},e);const s=document.createElementNS(Ii,"body");s.setAttribute("xmlns",Ii),s.className="blocklyMinimalBody";const r=document.createElementNS(Ii,"textarea");return we(r,"blocklyCommentText"),we(r,"blocklyTextarea"),we(r,"blocklyText"),s.appendChild(r),e.appendChild(s),ve(r,"change",this,this.onTextChange),{foreignObject:e,textArea:r}}createResizeHandle(e,s){return e=ue(Be.IMAGE,{class:"blocklyResizeHandle",href:`${s.options.pathToMedia}resize-handle.svg`},e),ve(e,"pointerdown",this,this.onResizePointerDown),e}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSize(e){const s=this.topBarBackground.getBBox(),r=this.deleteIcon.getBBox(),d=this.foldoutIcon.getBBox(),v=this.textPreview.getBBox(),k=this.resizeHandle.getBBox();e=cn.max(e,this.calcMinSize(s,d,r));const J=this.size;this.size=e,this.svgRoot.setAttribute("height",`${e.height}`),this.svgRoot.setAttribute("width",`${e.width}`),this.updateHighlightRect(e),this.updateTopBarSize(e),this.updateTextAreaSize(e,s),this.updateDeleteIconPosition(e,s,r),this.updateFoldoutIconPosition(s,d),this.updateTextPreviewSize(e,s,v,r,k),this.updateResizeHandlePosition(e,k),this.onSizeChange(J,this.size)}calcMinSize(e,s,r){var d;this.updateTextPreview((d=this.textArea.value)!=null?d:""),d=st(this.textPreview);const v=this.calcFoldoutMargin(e,s),k=this.calcDeleteMargin(e,r);let J=d;return this.foldoutIcon.checkVisibility()?J+=s.width+2*v:d&&(J+=4),this.deleteIcon.checkVisibility()?J+=r.width+2*k:d&&(J+=4),new cn(J,e.height+20)}calcDeleteMargin(e,s){return(e.height-s.height)/2}calcFoldoutMargin(e,s){return(e.height-s.height)/2}updateHighlightRect(e){this.highlightRect.setAttribute("height",`${e.height}`),this.highlightRect.setAttribute("width",`${e.width}`),this.workspace.RTL&&this.highlightRect.setAttribute("x",`${-e.width}`)}updateTopBarSize(e){this.topBarBackground.setAttribute("width",`${e.width}`)}updateTextAreaSize(e,s){this.foreignObject.setAttribute("height",`${e.height-s.height}`),this.foreignObject.setAttribute("width",`${e.width}`),this.foreignObject.setAttribute("y",`${s.height}`),this.workspace.RTL&&this.foreignObject.setAttribute("x",`${-e.width}`)}updateDeleteIconPosition(e,s,r){s=this.calcDeleteMargin(s,r),this.deleteIcon.setAttribute("y",`${s}`),this.deleteIcon.setAttribute("x",`${e.width-r.width-s}`)}updateFoldoutIconPosition(e,s){e=this.calcFoldoutMargin(e,s),this.foldoutIcon.setAttribute("y",`${e}`),this.foldoutIcon.setAttribute("x",`${e}`)}updateTextPreviewSize(e,s,r,d,v){const k=(s.height-r.height)/2,J=this.calcDeleteMargin(s,d);s=this.calcFoldoutMargin(s,v),e=e.width-v.width-2*s-d.width-2*J,this.textPreview.setAttribute("x",`${v.width+2*s*(this.workspace.RTL?-1:1)}`),this.textPreview.setAttribute("y",`${k+r.height/2}`),this.textPreview.setAttribute("width",`${e}`)}updateResizeHandlePosition(e,s){this.resizeHandle.setAttribute("y",`${e.height-s.height}`),this.resizeHandle.setAttribute("x",`${e.width-s.width}`)}onSizeChange(e,s){for(let r=this.sizeChangeListeners.length-1;0<=r;r--)this.sizeChangeListeners[r](e,s)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}removeSizeChangeListener(e){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(e),1)}onResizePointerDown(e){this.isEditable()&&(this.bringToFront(),he(e)||(this.workspace.startDrag(e,new ht(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=ve(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=ve(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation())}onResizePointerUp(e){de(),this.resizePointerUpListener&&(He(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(He(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=this.workspace.moveDrag(e),this.setSize(new cn(this.workspace.RTL?-e.x:e.x,e.y))}isCollapsed(){return this.collapsed}setCollapsed(e){(this.collapsed=e)?we(this.svgRoot,"blocklyCollapsed"):Ge(this.svgRoot,"blocklyCollapsed"),this.setSize(this.size),this.onCollapse()}onCollapse(){for(let e=this.collapseChangeListeners.length-1;0<=e;e--)this.collapseChangeListeners[e](this.collapsed)}addOnCollapseListener(e){this.collapseChangeListeners.push(e)}removeOnCollapseListener(e){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(e),1)}onFoldoutDown(e){this.bringToFront(),he(e)||(this.setCollapsed(!this.collapsed),this.workspace.hideChaff()),e.stopPropagation()}isEditable(){return this.editable}setEditable(e){(this.editable=e)?(we(this.svgRoot,"blocklyEditable"),Ge(this.svgRoot,"blocklyReadonly"),this.textArea.removeAttribute("readonly")):(Ge(this.svgRoot,"blocklyEditable"),we(this.svgRoot,"blocklyReadonly"),this.textArea.setAttribute("readonly","true"))}getRelativeToSurfaceXY(){return this.location}moveTo(e){this.location=e,this.svgRoot.setAttribute("transform",`translate(${e.x}, ${e.y})`)}getText(){return this.text}setText(e){this.textArea.value=e,this.onTextChange()}addTextChangeListener(e){this.textChangeListeners.push(e)}removeTextChangeListener(e){this.textChangeListeners.splice(this.textChangeListeners.indexOf(e),1)}onTextChange(){const e=this.text;this.text=this.textArea.value,this.updateTextPreview(this.text),this.setSize(this.size);for(let s=this.textChangeListeners.length-1;0<=s;s--)this.textChangeListeners[s](e,this.text)}updateTextPreview(e){this.textPreviewNode.textContent=this.truncateText(e)}truncateText(e){return 12<=e.length?`${e.substring(0,9)}...`:e}bringToFront(){const e=this.svgRoot.parentNode,s=e.childNodes;s[s.length-1]!==this.svgRoot&&e.appendChild(this.svgRoot)}onDeleteDown(e){he(e)||this.dispose(),e.stopPropagation()}dispose(){this.disposing=!0,q(this.svgRoot);for(let e=this.disposeListeners.length-1;0<=e;e--)this.disposeListeners[e]();this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}addDisposeListener(e){this.disposeListeners.push(e)}removeDisposeListener(e){this.disposeListeners.splice(this.disposeListeners.indexOf(e),1)}};De(`
.injectionDiv {
  --commentFillColour: #FFFCC7;
  --commentBorderColour: #F2E49B;
}

.blocklyComment .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 1px solid var(--commentBorderColour);
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}

.blocklyReadonly.blocklyComment .blocklyTextarea {
  cursor: inherit;
}

.blocklyDeleteIcon {
  width: 20px;
  height: 20px;
  display: none;
  cursor: pointer;
}

.blocklyFoldoutIcon {
  width: 20px;
  height: 20px;
  transform-origin: 12px 12px;
  cursor: pointer;
}
.blocklyResizeHandle {
  width: 12px;
  height: 12px;
  cursor: se-resize;
}
.blocklyReadonly.blocklyComment .blocklyResizeHandle {
  cursor: inherit;
}

.blocklyCommentTopbarBackground {
  cursor: grab;
  fill: var(--commentBorderColour);
  height: 24px;
}

.blocklyComment .blocklyCommentPreview.blocklyText {
  fill: #000;
  dominant-baseline: middle;
  visibility: hidden;
}

.blocklyCollapsed.blocklyComment .blocklyCommentPreview {
  visibility: visible;
}

.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,
.blocklyCollapsed.blocklyComment .blocklyResizeHandle {
  display: none;
}

.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {
  transform: rotate(-90deg);
}

.blocklyRTL .blocklyCommentTopbar {
  transform: scale(-1, 1);
}

.blocklyRTL .blocklyCommentForeignObject {
  direction: rtl;
}

.blocklyRTL .blocklyCommentPreview {
  /* Revert the scale and control RTL using direction instead. */
  transform: scale(-1, 1);
  direction: rtl;
}

.blocklyRTL .blocklyResizeHandle {
  transform: scale(-1, 1);
  cursor: sw-resize;
}

.blocklyCommentHighlight {
  fill: none;
}

.blocklySelected .blocklyCommentHighlight {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {
  stroke: none;
}

.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {
  stroke: #fc3;
  stroke-width: 3px;
}
`);var NI=class{constructor(e){this.comment=e,this.startLoc=null,this.workspace=e.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.workspace.options.readOnly}startDrag(){o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0),this.startLoc=this.comment.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.comment),this.comment.setDragging(!0)}drag(e){this.comment.moveDuringDrag(e)}endDrag(){this.fireMoveEvent();let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.comment,yu),this.comment.setDragging(!1),this.comment.snapToGrid(),this.workspace.setResizesEnabled(!0),o.setGroup$$module$build$src$core$events$utils(!1)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var e=new(M(or))(this.comment);e.setReason(["drag"]),e.oldCoordinate_=this.startLoc,e.recordNew(),$(e)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},LI=100,MI=75,DI=50,PI=25,Ex={BLOCKS:DI,PROCEDURES:MI,VARIABLES:LI,WORKSPACE_COMMENTS:PI},h_={};h_.register=jc,h_.unregister=q0;var xI=class{constructor(){this.priority=PI}save(e){const s=[];for(const r of e.getTopComments())(e=Ja(r,{addCoordinates:!0,saveIds:!0}))&&s.push(e);return s.length?s:null}load(e,s){for(const r of e)qc(r,s,{recordUndo:T()})}clear(e){for(const s of e.getTopComments())s.dispose()}};jc("workspaceComments",new xI);var nf={};nf.WorkspaceCommentSerializer=xI,nf.append=qc,nf.save=Ja;var p_={};p_.register=fp,p_.unregister=J0;var of=class{paste(e,s,r){e=e.commentState,r&&(e.x=r.x,e.y=r.y),o.disable$$module$build$src$core$events$utils();let d;try{d=qc(e,s),Z0(d)}finally{o.enable$$module$build$src$core$events$utils()}return d?(S()&&$(new(M(nr))(d)),o.setSelected$$module$build$src$core$common(d),d):null}};of.TYPE="workspace-comment",fp(of.TYPE,new of);var f_;f_=28,o.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:f_,connectingSnapRadius:f_,currentConnectionPreference:8,bumpDelay:250},o.config$$module$build$src$core$config;var Cx="aria-",Sx="role",ei;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem"})(ei||(ei={}));var no;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin"})(no||(no={}));var bd={};bd.Role=ei,bd.State=no,bd.setRole=Br,bd.setState=co;var m_=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const s=document.createElement("div");s.className="blocklyMenu goog-menu blocklyNonSelectable",s.tabIndex=0,this.roleName&&Br(s,this.roleName),this.element=s;for(let r=0,d;d=this.menuItems[r];r++)s.appendChild(d.createDom());return this.mouseOverHandler=ve(s,"pointerover",this,this.handleMouseOver,!0),this.clickHandler=ve(s,"pointerup",this,this.handleClick,!0),this.mouseEnterHandler=ve(s,"pointerenter",this,this.handleMouseEnter,!0),this.mouseLeaveHandler=ve(s,"pointerleave",this,this.handleMouseLeave,!0),this.onKeyDownHandler=ve(s,"keydown",this,this.handleKeyEvent),e.appendChild(s),s}getElement(){return this.element}focus(){const e=this.getElement();e&&(e.focus({preventScroll:!0}),we(e,"blocklyFocused"))}blur(){const e=this.getElement();e&&(e.blur(),Ge(e,"blocklyFocused"))}setRole(e){this.roleName=e}dispose(){this.mouseOverHandler&&(He(this.mouseOverHandler),this.mouseOverHandler=null),this.clickHandler&&(He(this.clickHandler),this.clickHandler=null),this.mouseEnterHandler&&(He(this.mouseEnterHandler),this.mouseEnterHandler=null),this.mouseLeaveHandler&&(He(this.mouseLeaveHandler),this.mouseLeaveHandler=null),this.onKeyDownHandler&&(He(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,s;s=this.menuItems[e];e++)s.dispose();this.element=null}getMenuItem(e){const s=this.getElement();for(;e&&e!==s;){if(e.classList.contains("blocklyMenuItem")){for(let r=0,d;d=this.menuItems[r];r++)if(d.getElement()===e)return d}e=e.parentElement}return null}setHighlighted(e){var s=this.highlightedItem;s&&(s.setHighlighted(!1),this.highlightedItem=null),e&&(e.setHighlighted(!0),this.highlightedItem=e,s=this.getElement(),se(e.getElement(),s),co(s,no.ACTIVEDESCENDANT,e.getId()))}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>e?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,s){e+=s;let r;for(;r=this.menuItems[e];){if(r.isEnabled()){this.setHighlighted(r);break}e+=s}}handleMouseOver(e){(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){const s=this.openingCoords;if(this.openingCoords=null,s&&typeof e.clientX=="number"){const r=new ht(e.clientX,e.clientY);if(1>ht.distance(s,r))return}(e=this.getMenuItem(e.target))&&e.performAction()}handleMouseEnter(e){this.focus()}handleMouseLeave(e){this.getElement()&&(this.blur(),this.setHighlighted(null))}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var s=this.highlightedItem;switch(e.key){case"Enter":case" ":s&&s.performAction();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),s=x(e);return s.height=e.scrollHeight,s}},g_=class{constructor(e,s){this.content=e,this.opt_value=s,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=_(),this.element=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");const s=document.createElement("div");if(s.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var r=document.createElement("div");r.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",s.appendChild(r)}return r=this.content,typeof this.content=="string"&&(r=document.createTextNode(this.content)),s.appendChild(r),e.appendChild(s),this.roleName&&Br(e,this.roleName),co(e,no.SELECTED,this.checkable&&this.checked||!1),co(e,no.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const s=this.getElement();s&&this.isEnabled()&&(e?(we(s,"blocklyMenuItemHighlight"),we(s,"goog-menuitem-highlight")):(Ge(s,"blocklyMenuItemHighlight"),Ge(s,"goog-menuitem-highlight")))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}onAction(e,s){this.actionHandler=e.bind(s)}},Eu=class extends Error{},BI=class extends Eu{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},Td=class extends Eu{constructor(e,s,r){super(`The block ${s.toDevString()} is missing a(n) ${e}
connection`),this.block=s,this.state=r}},FI=class extends Eu{constructor(e,s,r,d){super(`The block ${r.toDevString()} could not connect its
${s} to its parent, because: ${e}`),this.childBlock=r,this.childState=d}},HI=class extends Eu{constructor(e){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=e}},VI=class extends Eu{constructor(e,s,r){super(`Cannot add an icon of type '${e}' to the block ${s.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=s,this.state=r}},Ql={};Ql.BadConnectionCheck=FI,Ql.DeserializationError=Eu,Ql.MissingBlockType=BI,Ql.MissingConnection=Td,Ql.RealChildOfShadow=HI,Ql.UnregisteredIcon=VI;var UI=class{constructor(){this.priority=DI}save(e){const s=[];for(const r of e.getTopBlocks(!1))(e=cs(r,{addCoordinates:!0,doFullSerialization:!1}))&&s.push(e);return s.length?{languageVersion:0,blocks:s}:null}load(e,s){e=e.blocks;for(const r of e)qi(r,s,{recordUndo:T()})}clear(e){for(const s of e.getTopBlocks(!1))s.dispose(!1)}};jc("blocks",new UI);var yd={};yd.BlockSerializer=UI,yd.append=qi,yd.appendInternal=Za,yd.save=cs;var ea=class extends vu{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new ea),s.blockId=e.blockId,s}},ta=class extends ea{constructor(e,s,r,d,v){super(e),this.type=o.CHANGE$$module$build$src$core$events$utils,e&&(this.element=s,this.name=r||void 0,this.oldValue=d,this.newValue=v)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,this.disabledReason&&(e.disabledReason=this.disabledReason),e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new ta),s.element=e.element,s.name=e.name,s.oldValue=e.oldValue,s.newValue=e.newValue,e.disabledReason!==void 0&&(s.disabledReason=e.disabledReason),s}setDisabledReason(e){if(this.element!=="disabled")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not "disabled".');this.disabledReason=e}isNull(){return this.oldValue===this.newValue}run(e){var s=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(s=s.getBlockById(this.blockId),!s)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");const r=s.getIcon(Jn.MUTATOR);switch(r&&Qa(r)&&r.bubbleIsVisible()&&r.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(s=s.getField(this.name))?s.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":s.setCommentText(e||null);break;case"collapsed":s.setCollapsed(!!e);break;case"disabled":var d;s.setDisabledReason(!!e,(d=this.disabledReason)!=null?d:Ss);break;case"inline":s.setInputsInline(!!e);break;case"mutation":d=ta.getExtraBlockState_(s),s.loadExtraState?s.loadExtraState(JSON.parse(e||"{}")):s.domToMutation&&s.domToMutation(o.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),$(new ta(s,"mutation",null,d,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?bi(e):""}};i(ut.EVENT,o.CHANGE$$module$build$src$core$events$utils,ta);var sf={};sf.clamp=eu,sf.toDegrees=$C,sf.toRadians=mp;var Ed=16,$_=1,GI=12,v_=16,rf=.25,__=null,na=null,Cu="",Su="",hn,Iu,oa,b_=null,Yr=null,WI=null,T_={getBoundsInfo:function(){const e=je(b_),s=x(b_);return{left:e.x,right:e.x+s.width,top:e.y,bottom:e.y+s.height,width:s.width,height:s.height}},getPositionMetrics:function(e,s,r,d){const v=T_.getBoundsInfo(),k=x(hn);return s+k.height<v.bottom?$$(e,s,v,k):d-k.height>v.top?v$(r,d,v,k):s+k.height<document.documentElement.clientHeight?$$(e,s,v,k):d-k.height>document.documentElement.clientTop?v$(r,d,v,k):_C(e,v,k)}},Ro={ANIMATION_TIME:rf,ARROW_HORIZONTAL_PADDING:GI,ARROW_SIZE:Ed,BORDER_SIZE:$_,PADDING_Y:v_,TEST_ONLY:T_};Ro.clearContent=$p,Ro.createDom=a$,Ro.getContentDiv=gp,Ro.getOwner=c$,Ro.getPositionX=Zc,Ro.hide=_p,Ro.hideIfOwner=vp,Ro.hideWithoutAnimation=_i,Ro.isVisible=_$,Ro.repositionForWindowResize=T$,Ro.setBoundsElement=u$,Ro.setColour=d$,Ro.show=g$,Ro.showPositionedByBlock=vC,Ro.showPositionedByField=h$;var Cd=class{constructor(e){this.workspace=e,this.cursorSvg_=this.cursor_=null,this.markers=new Map,this.markerSvg_=null}registerMarker(e,s){this.markers.has(e)&&this.unregisterMarker(e),s.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,s)),this.setMarkerSvg(s.getDrawer().createDom()),this.markers.set(e,s)}unregisterMarker(e){const s=this.markers.get(e);if(s)s.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor_}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))}setCursorSvg(e){e?(this.workspace.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null}setMarkerSvg(e){e?this.workspace.getBlockCanvas()&&(this.cursorSvg_?this.workspace.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace.getBlockCanvas().appendChild(e)):this.markerSvg_=null}updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace.getCursor().draw()}dispose(){const e=Object.keys(this.markers);for(let s=0,r;r=e[s];s++)this.unregisterMarker(r);this.markers.clear(),this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)}};Cd.LOCAL_MARKER="local_marker_1";var wu={};wu.commonWordPrefix=y$,wu.commonWordSuffix=E$,wu.isNumber=o.isNumber$$module$build$src$core$utils$string,wu.shortestStringLength=Qc,wu.wrap=o.wrap$$module$build$src$core$utils$string;var lf=void 0,Sd=!1,ku=!1,zI=50,KI=0,sa=0,y_=0,E_=0,Is=null,Id=null,C_=0,S_=10,XI=10,YI=750,af=5,Zn=null,hs={HOVER_MS:YI,LIMIT:zI,MARGINS:af,OFFSET_X:C_,OFFSET_Y:S_,RADIUS_OK:XI};hs.bindMouseEvents=nu,hs.block=O$,hs.createDom=I$,hs.dispose=k$,hs.getCustomTooltip=EC,hs.getDiv=SC,hs.getTooltipOfObject=tu,hs.hide=Ji,hs.isVisible=CC,hs.setCustomTooltip=yC,hs.unbindMouseEvents=Tp,hs.unblock=R$;var I_=.45,w_=.65,jI={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},ws={};ws.blend=Bl,ws.getHsvSaturation=A$,ws.getHsvValue=N$,ws.hexToRgb=yp,ws.hsvToHex=Ep,ws.hueToHex=L$,ws.names=jI,ws.parse=xl,ws.rgbToHex=ed,ws.setHsvSaturation=NC,ws.setHsvValue=LC;var wd={};wd.checkMessageReferences=MC,wd.parseBlockColour=ou,wd.replaceMessageReferences=Un,wd.tokenizeInterpolation=M$;var En=class{constructor(e,s,r){this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=this.tooltip_=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new cn(0,0),e!==En.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),s&&this.setValidator(s))}configure_(e){e.tooltip&&this.setTooltip(Un(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){this.fieldGroup_||(this.fieldGroup_=ue(Be.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel(),this.applyColour())}initView(){this.createBorderRect_(),this.createTextElement_()}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=ue(Be.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=ue(Be.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");nu(e),this.mouseDownWrapper_=ve(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(En),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(En,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=o.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),Vn(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,s){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(o.textToDom$$module$build$src$core$utils$xml(s)),!0):!1}dispose(){vp(this),Fl(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||q(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,s=this.getSourceBlock();this.EDITABLE&&e&&s&&(this.enabled_&&s.isEditable()?(we(e,"blocklyEditableText"),Ge(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(we(e,"blocklyNonEditableText"),Ge(e,"blocklyEditableText"),e.style.cursor=""))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==En.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var s=this.fieldGroup_;s&&(s.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const s=this.getConstants();e=e!==void 0?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let r=2*e,d=s.FIELD_TEXT_HEIGHT,v=0;this.textElement_&&(v=Re(this.textElement_,s.FIELD_TEXT_FONTSIZE,s.FIELD_TEXT_FONTWEIGHT,s.FIELD_TEXT_FONTFAMILY),r+=v),this.isFullBlockField()||(d=Math.max(d,s.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=d,this.size_.width=r,this.positionTextElement_(e,v),this.positionBorderRect_()}positionTextElement_(e,s){if(this.textElement_){var r=this.getConstants(),d=this.size_.height/2,v;this.textElement_.setAttribute("x",String((v=this.getSourceBlock())!=null&&v.RTL?this.size_.width-s-e:e)),this.textElement_.setAttribute("y",String(r.FIELD_TEXT_BASELINE_CENTER?d:d-r.FIELD_TEXT_HEIGHT/2+r.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&this.size_.width===0&&(this.render_(),this.size_.width!==0&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new cn(0,0)}getScaledBBox(){let e;var s=this.getSourceBlock();if(!s)throw new zn;if(this.isFullBlockField()){var r=this.sourceBlock_.getHeightWidth();const d=s.workspace.scale;e=this.getAbsoluteXY_(),s=(r.width+1)*d,r=(r.height+1)*d,dI?(e.x+=1.5*d,e.y+=1.5*d):(e.x-=.5*d,e.y-=.5*d)}else r=this.borderRect_.getBoundingClientRect(),e=je(this.borderRect_),s=r.width,r=r.height;return new yn(e.y,e.y+r,e.x,e.x+s)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),e=e.replace(/\s/g,En.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="‏"),e):En.NBSP}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.queueRender()}setValue(e,s=!0){if(e!==null){var r=this.doClassValidation_(e);if(e=this.processValidation_(e,r,s),!(e instanceof Error)){var d;r=(d=this.getValidator())==null?void 0:d.call(this,e),d=this.processValidation_(e,r,s),d instanceof Error||(e=this.sourceBlock_,e&&e.disposed||(r=this.getValue(),r===d?this.doValueUpdate_(d):(this.doValueUpdate_(d),s&&e&&S()&&$(new(M(o.CHANGE$$module$build$src$core$events$utils))(e,"field",this.name||null,r,d)),this.isDirty_&&this.forceRerender())))}}}processValidation_(e,s,r){return s===null?(this.doValueInvalid_(e,r),this.isDirty_&&this.forceRerender(),Error()):s===void 0?e:s}getValue(){return this.value_}doClassValidation_(e){return e??null}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e,s){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const s=this.getClickTarget_();s?s.tooltip=e:this.tooltip_=e}getTooltip(){const e=this.getClickTarget_();return tu(e||{tooltip:this.tooltip_})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return je(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const s=this.getSourceBlock();if(!s)throw new zn;const r=s.inputList;for(let d=0;d<s.inputList.length;d++){const v=r[d],k=v.fieldRow;for(let J=0;J<k.length;J++)if(k[J]===this){e=v;break}}return e}getFlipRtl(){return!1}isTabNavigable(){return!1}onShortcut(e){return!1}setCursorSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.cursorSvg_=e}else this.cursorSvg_=null}setMarkerSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.markerSvg_=e}else this.markerSvg_=null}updateMarkers_(){var e=this.getSourceBlock();if(!e)throw new zn;e=e.workspace,e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(Cd.LOCAL_MARKER).draw()}static fromJson(e){throw Error("Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.")}};En.NBSP=" ",En.SKIP_SETUP=Symbol("SKIP_SETUP");var zn=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},Ou=null,k_=null,uf=null,cf="blocklyWidgetDiv",Ru="",Au="",ti,ni={};ni.createDom=D$,ni.getDiv=su,ni.hide=iu,ni.hideIfOwner=Fl,ni.hideIfOwnerIsInWorkspace=td,ni.isVisible=P$,ni.positionWithAnchor=B$,ni.repositionForWindowResize=F$,ni.show=Sp,ni.testOnly_setDiv=DC;var df=null,qI={},hf=null,ia={};ia.callbackFactory=o.callbackFactory$$module$build$src$core$contextmenu,ia.dispose=V$,ia.getCurrentBlock=FC,ia.hide=od,ia.setCurrentBlock=H$,ia.show=nd;var Zt=class{constructor(){this.registry_=new Map,this.reset()}reset(){this.registry_.clear()}register(e){if(this.registry_.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_.set(e.id,e)}unregister(e){if(!this.registry_.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registry_.delete(e)}getItem(e){let s;return(s=this.registry_.get(e))!=null?s:null}getContextMenuOptions(e,s){const r=[];for(const v of this.registry_.values())if(e===v.scopeType){var d=v.preconditionFn(s);d!=="hidden"&&(d={text:typeof v.displayText=="function"?v.displayText(s):v.displayText,enabled:d==="enabled",callback:v.callback,scope:s,weight:v.weight},r.push(d))}return r.sort(function(v,k){return v.weight-k.weight}),r}};(function(e){var s=e.ScopeType||(e.ScopeType={});s.BLOCK="block",s.WORKSPACE="workspace",s.COMMENT="comment",e.registry=new e})(Zt||(Zt={})),Zt.ScopeType;var pf=class extends tf{constructor(e,s){super(e,s),this.dragStrategy=new NI(this),this.workspace=e,this.view=new AI(e),this.view.setSize(this.getSize()),this.view.setEditable(this.isEditable()),this.addModelUpdateBindings(),ve(this.view.getSvgRoot(),"pointerdown",this,this.startGesture),ve(this.view.getSvgRoot(),"wheel",this,r=>{r.stopPropagation()})}addModelUpdateBindings(){this.view.addTextChangeListener((e,s)=>void super.setText(s)),this.view.addSizeChangeListener((e,s)=>void super.setSize(s)),this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed())),this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(e){this.view.setText(e)}setSize(e){this.view.setSize(e)}setCollapsed(e){this.view.setCollapsed(e)}setEditable(e){super.setEditable(e),this.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY();var s,r;const d=(r=(s=this.view)==null?void 0:s.getSize())!=null?r:this.getSize();return this.workspace.RTL?(s=e.x-d.width,r=e.x):(s=e.x,r=e.x+d.width),new yn(e.y,e.y+d.height,s,r)}moveBy(e,s,r){const d=this.getRelativeToSurfaceXY();e=new ht(d.x+e,d.y+s),this.moveTo(e,r)}moveTo(e,s){super.moveTo(e,s),this.view.moveTo(e)}moveDuringDrag(e){this.location=e,this.view.moveTo(e)}setDragging(e){e?we(this.getSvgRoot(),"blocklyDragging"):Ge(this.getSvgRoot(),"blocklyDragging")}dispose(){this.disposing=!0,this.view.isDeadOrDying()||this.view.dispose(),super.dispose()}startGesture(e){const s=this.workspace.getGesture(e);s&&(s.handleCommentStart(e,this),o.setSelected$$module$build$src$core$common(this))}setDeleteStyle(e){e?we(this.getSvgRoot(),"blocklyDraggingDelete"):Ge(this.getSvgRoot(),"blocklyDraggingDelete")}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){we(this.getSvgRoot(),"blocklySelected")}unselect(){Ge(this.getSvgRoot(),"blocklySelected")}toCopyData(){return{paster:of.TYPE,commentState:Ja(this,{addCoordinates:!0})}}showContextMenu(e){const s=Zt.registry.getContextMenuOptions(Zt.ScopeType.COMMENT,{comment:this});nd(e,s,this.workspace.RTL,this.workspace)}snapToGrid(){if(!this.isDeadOrDying()){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var s=this.getRelativeToSurfaceXY();e=e.alignXY(s),e!==s&&this.moveTo(e,["snap"])}}}},Ao={};Ao.appendDomToWorkspace=jC,Ao.blockToDom=Fr,Ao.blockToDomWithXY=id,Ao.clearWorkspaceAndLoadFromXml=YC,Ao.deleteNext=sS,Ao.domToBlock=o.domToBlock$$module$build$src$core$xml,Ao.domToBlockInternal=Hl,Ao.domToPrettyText=XC,Ao.domToText=bi,Ao.domToVariables=z$,Ao.domToWorkspace=o.domToWorkspace$$module$build$src$core$xml,Ao.loadWorkspaceComment=W$,Ao.saveWorkspaceComment=sd,Ao.variablesToDom=U$,Ao.workspaceToDom=WC;var O_=class extends ea{constructor(e){super(e),this.type=o.CREATE$$module$build$src$core$events$utils,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=id(e),this.ids=O(e),this.json=cs(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=bi(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new O_),s.xml=o.textToDom$$module$build$src$core$utils$xml(e.xml),s.ids=e.ids,s.json=e.json,e.recordUndo!==void 0&&(s.recordUndo=e.recordUndo),s}run(e){const s=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!Ix(s,this.ids))if(e)qi(this.json,s);else for(e=0;e<this.ids.length;e++){const r=this.ids[e],d=s.getBlockById(r);d?d.dispose(!1):r===this.blockId&&console.warn("Can't uncreate non-existent block: "+r)}}},Ix=function(e,s){return s.map(r=>e.getBlockById(r)).filter(r=>r&&r.isShadow()).length===s.length};i(ut.EVENT,o.CREATE$$module$build$src$core$events$utils,O_);var R_=class extends Si{constructor(e,s){super(s),this.type=mu,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new R_),s.themeName=e.themeName,s}};i(ut.EVENT,mu,R_);var A_=class extends Si{constructor(e,s,r,d,v){super(d),this.type=Wr,this.viewTop=e,this.viewLeft=s,this.scale=r,this.oldScale=v}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new A_),s.viewTop=e.viewTop,s.viewLeft=e.viewLeft,s.scale=e.scale,s.oldScale=e.oldScale,s}};i(ut.EVENT,Wr,A_);var wt;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(wt||(wt={}));var Nu=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,s){s=this.calculateIndexForYPos(s),this.connections.splice(s,0,e)}findIndexOfConnection(e,s){if(!this.connections.length)return-1;const r=this.calculateIndexForYPos(s);if(r>=this.connections.length)return-1;s=e.y;let d=r;for(;0<=d&&this.connections[d].y===s;){if(this.connections[d]===e)return d;d--}for(d=r;d<this.connections.length&&this.connections[d].y===s;){if(this.connections[d]===e)return d;d++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let s=0,r=this.connections.length;for(;s<r;){const d=Math.floor((s+r)/2);if(this.connections[d].y<e)s=d+1;else if(this.connections[d].y>e)r=d;else{s=d;break}}return s}removeConnection(e,s){if(e=this.findIndexOfConnection(e,s),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,s){function r(It){const On=v-d[It].x,Sn=k-d[It].y;return Math.sqrt(On*On+Sn*Sn)<=s&&Xe.push(d[It]),Sn<s}const d=this.connections,v=e.x,k=e.y;e=0;let J=d.length-2,ge=J;for(;e<ge;)d[ge].y<k?e=ge:J=ge,ge=Math.floor((e+J)/2);const Xe=[];if(J=e=ge,d.length){for(;0<=e&&r(e);)e--;do J++;while(J<d.length&&r(J))}return Xe}isInYRange(e,s,r){return Math.abs(this.connections[e].y-s)<=r}searchForClosest(e,s,r){if(!this.connections.length)return{connection:null,radius:s};const d=e.y,v=e.x;e.x=v+r.x,e.y=d+r.y;var k=this.calculateIndexForYPos(e.y);r=null;let J=s,ge,Xe=k-1;for(;0<=Xe&&this.isInYRange(Xe,e.y,s);)ge=this.connections[Xe],this.connectionChecker.canConnect(e,ge,!0,J)&&(r=ge,J=ge.distanceFrom(e)),Xe--;for(;k<this.connections.length&&this.isInYRange(k,e.y,s);)ge=this.connections[k],this.connectionChecker.canConnect(e,ge,!0,J)&&(r=ge,J=ge.distanceFrom(e)),k++;return e.x=v,e.y=d,{connection:r,radius:J}}static init(e){const s=[];return s[wt.INPUT_VALUE]=new Nu(e),s[wt.OUTPUT_VALUE]=new Nu(e),s[wt.NEXT_STATEMENT]=new Nu(e),s[wt.PREVIOUS_STATEMENT]=new Nu(e),s}},ff=null,kd=null,Od={};Od.connectionUiEffect=kp,Od.disconnectUiEffect=j$,Od.disconnectUiStop=ru,Od.disposeUiEffect=wp;var JI=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled_=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace.isMovableVertically(),this.startScrollXY_=new ht(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){z()&&z().unselect()}endDrag(e){this.drag(e)}drag(e){if(e=ht.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled_)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},wx=5,kx=6,ar=class{constructor(e,s){this.creatorWorkspace=s,this.mouseDownXY=new ht(0,0),this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.workspaceDragger=this.dragger=null,this.dragging=!1,this.flyout=null,this.isMultiTouch_=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new ht(0,0)}dispose(){de(),R$(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)He(e);this.boundEvents.length=0,this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const s=new ht(e.clientX,e.clientY);this.updateDragDelta(s)&&(this.updateIsDragging(e),Pe()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=ht.difference(e,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=ht.magnitude(this.currentDragDeltaXY)>(this.flyout?o.config$$module$build$src$core$config.flyoutDragRadius:o.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||(e=this.flyout)==null||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),o.setSelected$$module$build$src$core$common(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.dragging=!0,this.workspaceDragger=new JI(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(e){if(!this.startWorkspace_)throw Error("Cannot update dragging because the start workspace is undefined");if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.flyout&&this.updateIsDraggingFromFlyout();const s=z();s&&Vl(s)&&s.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(s,this.startWorkspace_),this.dragger.onDragStart(e),this.dragger.onDrag(e,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(e,s){return new(m(ut.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(e,s)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,ae(e)?this.cancel():(this.gestureHasStarted=!0,ru(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=c$(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,O$(),he(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&Se(e,this),this.mouseDownXY=new ht(e.clientX,e.clientY),this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(ve(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(ve(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(ve(document,"pointerup",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&Pe())}handleMove(e){this.isDragging()&&ye(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),Pe())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!ye(e))return;if(this.updateFromEvent(e),Pe(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.dragger?this.dragger.onDragEnd(e,this.currentDragDeltaXY):this.workspaceDragger?this.workspaceDragger.endDrag(this.currentDragDeltaXY):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e))}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var s=_e(e);this.cachedPoints.set(s,this.getTouchPoint(e));var r=Array.from(this.cachedPoints.keys());r.length===2&&(s=this.cachedPoints.get(r[0]),r=this.cachedPoints.get(r[1]),this.startDistance=ht.distance(s,r),this.isMultiTouch_=!0,e.preventDefault())}handleTouchMove(e){const s=_e(e);this.cachedPoints.set(s,this.getTouchPoint(e)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(e):this.handleMove(e)}handlePinch(e){var s=Array.from(this.cachedPoints.keys()),r=this.cachedPoints.get(s[0]);if(s=this.cachedPoints.get(s[1]),r=ht.distance(r,s)/this.startDistance,0<this.previousScale&&1/0>this.previousScale){if(s=r-this.previousScale,s=0<s?s*wx:s*kx,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const d=this.startWorkspace_,v=Ae(e,d.getParentSvg(),d.getInverseScreenCTM());d.zoom(v.x,v.y,s)}this.previousScale=r,e.preventDefault()}handleTouchEnd(e){e=_e(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new ht(e.pageX,e.pageY):null}isMultiTouch(){return this.isMultiTouch_}cancel(){this.isEnding_||(Pe(),this.dragger?this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(e)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()}handleWsStart(e,s){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(s),this.mostRecentEvent=e,this.startBlock||this.startBubble||this.startComment||o.setSelected$$module$build$src$core$common(null),this.doStart(e)}fireWorkspaceClick(e){$(new(M(tr))(null,e.id,"workspace"))}handleFlyoutStart(e,s){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(s),this.handleWsStart(e,s.getWorkspace())}handleBlockStart(e,s){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(s),this.mostRecentEvent=e}handleBubbleStart(e,s){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(s),this.mostRecentEvent=e}handleCommentStart(e,s){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleCommentStart, but the gesture had already been started.");this.setStartComment(s),this.mostRecentEvent=e}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent),this.bringBlockToFront()}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");if(this.targetBlock.isEnabled()){o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0);var e=this.flyout.createBlock(this.targetBlock);e.snapToGrid(),e.bumpNeighbours()}}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");e=new(M(tr))(this.startBlock,this.startWorkspace_.id,"block"),$(e)}this.bringBlockToFront(),o.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){e=this.creatorWorkspace,z()&&z().unselect(),this.fireWorkspaceClick(this.startWorkspace_||e)}bringBlockToFront(){this.targetBlock&&!this.flyout&&this.targetBlock.bringToFront()}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartComment(e){this.startComment||(this.startComment=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,o.setSelected$$module$build$src$core$common(this.startBlock),e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):this.targetBlock=e}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let e,s;return(s=(e=this.workspaceDragger)!=null?e:this.dragger)!=null?s:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const e=B();for(let s=0,r;r=e[s];s++)if(r.currentGesture_)return!0;return!1}},N_=class{constructor(e,s){this.pattern=e,this.scale=1;let r;this.spacing=(r=s.spacing)!=null?r:0;let d;this.length=(d=s.length)!=null?d:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let v;this.snapToGrid=(v=s.snap)!=null?v:!1}setSpacing(e){this.spacing=e,this.update(this.scale)}getSpacing(){return this.spacing}setLength(e){this.length=e,this.update(this.scale)}getLength(){return this.length}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(e){this.scale=e;var s=this.spacing*e;this.pattern.setAttribute("width",`${s}`),this.pattern.setAttribute("height",`${s}`),s=Math.floor(this.spacing/2)+.5;let r=s-this.length/2,d=s+this.length/2;s*=e,r*=e,d*=e,this.setLineAttributes(this.line1,e,r,d,s,s),this.setLineAttributes(this.line2,e,s,s,r,d)}setLineAttributes(e,s,r,d,v,k){e&&(e.setAttribute("stroke-width",`${s}`),e.setAttribute("x1",`${r}`),e.setAttribute("y1",`${v}`),e.setAttribute("x2",`${d}`),e.setAttribute("y2",`${k}`))}moveTo(e,s){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${s}`)}alignXY(e){var s=this.getSpacing();const r=s/2,d=Math.round(Math.round((e.x-r)/s)*s+r);return s=Math.round(Math.round((e.y-r)/s)*s+r),d===e.x&&s===e.y?e:new ht(d,s)}static createDom(e,s,r){e=ue(Be.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},r);let d,v;if(0<((d=s.length)!=null?d:1)&&0<((v=s.spacing)!=null?v:0)){ue(Be.LINE,{stroke:s.colour},e);let k;(k=s.length)!=null&&k&&ue(Be.LINE,{stroke:s.colour},e)}else ue(Be.LINE,{},e);return e}},ZI={};ZI.deepMerge=Zi;var ra=class{constructor(e,s,r,d){this.name=e,this.startHats=!1,this.blockStyles=s||Object.create(null),this.categoryStyles=r||Object.create(null),this.componentStyles=d||Object.create(null),this.fontStyle=Object.create(null),i(ut.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,s){this.blockStyles[e]=s}setCategoryStyle(e,s){this.categoryStyles[e]=s}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const s=this.getComponentStyle(e);if(s)return s}return`${e}`}setComponentStyle(e,s){this.componentStyles[e]=s}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,s){e=e.toLowerCase();const r=new ra(e);let d=s.base;if(d){if(typeof d=="string"){let v;d=(v=f(ut.THEME,d))!=null?v:void 0}d instanceof ra&&(Zi(r,d),r.name=e)}return Zi(r.blockStyles,s.blockStyles),Zi(r.categoryStyles,s.categoryStyles),Zi(r.componentStyles,s.componentStyles),Zi(r.fontStyle,s.fontStyle),s.startHats!==null&&(r.startHats=s.startHats),r}},Ox={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},Rx={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},mf=new ra("classic",Ox,Rx),ks=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let s=null,r=!1;var d=!1,v=!1,k=!1,J=!1,ge=!1;const Xe=!!e.readOnly;if(!Xe){var It;s=qs((It=e.toolbox)!=null?It:null),r=Pr(s),d=e.trashcan,d=d===void 0?r:d,v=e.collapse,v=v===void 0?r:v,k=e.comments,k=k===void 0?r:k,J=e.disable,J=J===void 0?r:J,ge=e.sounds,ge=ge===void 0?!0:ge}It=e.maxTrashcanContents,d?It===void 0&&(It=32):It=0;const On=!!e.rtl;let Sn=e.horizontalLayout;Sn===void 0&&(Sn=!1);var ts=e.toolboxPosition!=="end";ts=Sn?ts?Jt.TOP:Jt.BOTTOM:ts===On?Jt.RIGHT:Jt.LEFT;let Uu=e.css;Uu===void 0&&(Uu=!0);let Ud="https://blockly-demo.appspot.com/static/media/";e.media&&(Ud=e.media.endsWith("/")?e.media:e.media+"/");const ok=e.oneBasedIndex,uB=e.renderer||"geras",cB=e.plugins||{};let Sb=e.modalInputs;Sb===void 0&&(Sb=!0),this.RTL=On,this.oneBasedIndex=ok===void 0?!0:ok,this.collapse=v,this.comments=k,this.disable=J,this.readOnly=Xe,this.maxBlocks=e.maxBlocks||1/0;let sk;this.maxInstances=(sk=e.maxInstances)!=null?sk:null,this.modalInputs=Sb,this.pathToMedia=Ud,this.hasCategories=r,this.moveOptions=ks.parseMoveOptions_(e,r),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=d,this.maxTrashcanContents=It,this.hasSounds=ge,this.hasCss=Uu,this.horizontalLayout=Sn,this.languageTree=s,this.gridOptions=ks.parseGridOptions_(e),this.zoomOptions=ks.parseZoomOptions_(e),this.toolboxPosition=ts,this.theme=ks.parseThemeOptions_(e),this.renderer=uB;let ik;this.rendererOverrides=(ik=e.rendererOverrides)!=null?ik:null;let rk;this.parentWorkspace=(rk=e.parentWorkspace)!=null?rk:null,this.plugins=cB}static parseMoveOptions_(e,s){const r=e.move||{},d={};return r.scrollbars===void 0&&e.scrollbars===void 0?d.scrollbars=s:typeof r.scrollbars=="object"?(d.scrollbars={horizontal:!!r.scrollbars.horizontal,vertical:!!r.scrollbars.vertical},d.scrollbars.horizontal&&d.scrollbars.vertical?d.scrollbars=!0:d.scrollbars.horizontal||d.scrollbars.vertical||(d.scrollbars=!1)):d.scrollbars=!!r.scrollbars||!!e.scrollbars,d.wheel=d.scrollbars&&r.wheel!==void 0?!!r.wheel:typeof d.scrollbars=="object",d.drag=d.scrollbars?r.drag===void 0?!0:!!r.drag:!1,d}static parseZoomOptions_(e){e=e.zoom||{};const s={};return s.controls=e.controls===void 0?!1:!!e.controls,s.wheel=e.wheel===void 0?!1:!!e.wheel,s.startScale=e.startScale===void 0?1:Number(e.startScale),s.maxScale=e.maxScale===void 0?3:Number(e.maxScale),s.minScale=e.minScale===void 0?.3:Number(e.minScale),s.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),s.pinch=e.pinch===void 0?s.wheel||s.controls:!!e.pinch,s}static parseGridOptions_(e){e=e.grid||{};const s={};return s.spacing=Number(e.spacing)||0,s.colour=e.colour||"#888",s.length=e.length===void 0?1:Number(e.length),s.snap=0<s.spacing&&!!e.snap,s}static parseThemeOptions_(e){return e=e.theme||mf,typeof e=="string"?f(ut.THEME,e):e instanceof ra?e:ra.defineTheme(e.name||"builtin"+_(),e)}};o.Names$$module$build$src$core$names=class{constructor(e,s){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=s||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.name:null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(e){e=o.allUsedVarModels$$module$build$src$core$variables(e);for(let s=0;s<e.length;s++)this.getName(e[s].getId(),o.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,s){let r=e;s===o.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(r=e),e=r.toLowerCase();const d=s===o.NameType$$module$build$src$core$names.VARIABLE||s===o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(s)||this.db.set(s,new Map);const v=this.db.get(s);return v.has(e)?d+v.get(e):(s=this.getDistinctName(r,s),v.set(e,s.substr(d.length)),s)}getUserNames(e){let s;return(e=(s=this.db.get(e))==null?void 0:s.keys())?Array.from(e):[]}getDistinctName(e,s){e=this.safeName(e);let r=null,d,v;for(;this.dbReverse.has(e+((d=r)!=null?d:""))||this.reservedWords.has(e+((v=r)!=null?v:""));)r=r?r+1:2;let k;return e+=(k=r)!=null?k:"",this.dbReverse.add(e),(s===o.NameType$$module$build$src$core$names.VARIABLE||s===o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".includes(e[0])&&(e="my_"+e)):e=o.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,s){return e.toLowerCase()===s.toLowerCase()}},function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"}(o.Names$$module$build$src$core$names||(o.Names$$module$build$src$core$names={})),o.NameType$$module$build$src$core$names=o.Names$$module$build$src$core$names.NameType,o.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,o.NameType$$module$build$src$core$names,o.Names$$module$build$src$core$names;var QI=class extends Map{constructor(){super()}set(e,s){return this.get(e)===s?this:(super.set(e,s),Op(s)&&s.startPublishing(),this)}delete(e){const s=this.get(e);return e=super.delete(e),e&&(Op(s)&&s.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},gf=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new ht(0,0),this.workspaceLocation=new ht(0,0),this.svgRoot=null,this.tooltip=e}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var s=this.sourceBlock;this.svgRoot=ue(Be.G,{class:"blocklyIconGroup"}),s.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),ve(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,nu(this.svgRoot)}}dispose(){Tp(this.svgRoot),q(this.svgRoot)}getWeight(){return-1}getSize(){return new cn(0,0)}setTooltip(e){this.tooltip=e??this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",Qa(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;(e=this.svgRoot)==null||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=ht.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}},ew={fromJsonInternal:rS},$f={TEST_ONLY:ew};$f.fromJson=o.fromJson$$module$build$src$core$field_registry,$f.register=Ti,$f.unregister=iS;var wi=class extends En{constructor(e,s,r){super(En.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==En.SKIP_SETUP&&(Array.isArray(e)?(J$(e),e=lS(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],r&&this.configure_(r),this.setValue(this.selectedOption[1]),s&&this.setValidator(s))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(wi,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=ue(Be.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&we(this.borderRect_,"blocklyDropdownRect")}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow=ue(Be.TSPAN,{},this.textElement_);let e;this.arrow.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?wi.ARROW_CHAR+" ":" "+wi.ARROW_CHAR)),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute("dominant-baseline","central");let s;(s=this.getSourceBlock())!=null&&s.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=ue(Be.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(ds,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var s=this.getSourceBlock();if(!s)throw new zn;this.dropdownCreate(),this.menu_.openingCoords=e&&typeof e.clientX=="number"?new ht(e.clientX,e.clientY):null,$p(),e=this.menu_.render(gp()),we(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(s=s.getColour(),d$(s,this.sourceBlock_.style.colourTertiary)),h$(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem&&(this.menu_.setHighlighted(this.selectedMenuItem),se(this.selectedMenuItem.getElement(),gp(),!0)),this.applyColour()}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new zn;const s=new m_;s.setRole(ei.LISTBOX),this.menu_=s;const r=this.getOptions(!1);this.selectedMenuItem=null;for(let v=0;v<r.length;v++){const[k,J]=r[v];if(typeof k=="object"){var d=new Image(k.width,k.height);d.src=k.src,d.alt=k.alt||""}else d=k;d=new g_(d,J),d.setRole(ei.OPTION),d.setRightToLeft(e.RTL),d.setCheckable(!0),s.addChild(d),d.setChecked(J===this.value_),J===this.value_&&(this.selectedMenuItem=d),d.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){vp(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,s){this.setValue(s.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),J$(this.generatedOptions),this.generatedOptions)}doClassValidation_(e){return this.getOptions(!0).some(s=>s[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let s=0,r;r=e[s];s++)r[1]===this.value_&&(this.selectedOption=r)}applyColour(){const e=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",e.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow&&(this.sourceBlock_.isShadow()?this.arrow.style.fill=e.colourSecondary:this.arrow.style.fill=e.colourPrimary)}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];e&&typeof e=="object"?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const s=this.getSourceBlock();if(!s)throw new zn;this.imageElement.style.display="",this.imageElement.setAttributeNS(ds,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const r=Number(e.height);e=Number(e.width);var d=!!this.borderRect_;const v=Math.max(d?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,r+Nx);d=d?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let k;k=this.svgArrow?this.positionSVGArrow(e+d,v/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):Re(this.arrow,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=e+k+2*d,this.size_.height=v;let J=0;s.RTL?this.imageElement.setAttribute("x",`${d+k}`):(J=e+k,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${d}`)),this.imageElement.setAttribute("y",String(v/2-r/2)),this.positionTextElement_(J+d,e+k)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();we(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var s=!!this.borderRect_;e=Math.max(s?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const r=Re(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);s=s?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let d=0;this.svgArrow&&(d=this.positionSVGArrow(r+s,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=r+d+2*s,this.size_.height=e,this.positionTextElement_(s,r)}positionSVGArrow(e,s){if(!this.svgArrow)return 0;const r=this.getSourceBlock();if(!r)throw new zn;const d=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,v=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,k=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(r.RTL?d:e+v)+","+s+")"),k+v}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];return typeof e=="object"?e.alt:e}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}};wi.CHECKMARK_OVERHANG=25,wi.MAX_MENU_HEIGHT_VH=.45,wi.ARROW_CHAR="▾";var Ax=5,Nx=2*Ax;Ti("field_dropdown",wi);var tw=class{constructor(e,s){this.bubble=e,this.workspace=s,this.startLoc=null}isMovable(){return!0}startDrag(){o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0),this.startLoc=this.bubble.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(e){this.bubble.moveDuringDrag(e)}endDrag(){this.workspace.setResizesEnabled(!0),o.setGroup$$module$build$src$core$events$utils(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.bubble,d_),this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},ps,vn=class{constructor(e,s,r){this.workspace=e,this.anchor=s,this.ownerRect=r,this.size=new cn(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.dragStrategy=new tw(this,this.workspace),this.id=_(),this.svgRoot=ue(Be.G,{class:"blocklyBubble"},e.getBubbleCanvas()),e=ue(Be.G,{filter:`url(#${this.workspace.getRenderer().getConstants().embossFilterId})`},this.svgRoot),this.tail=ue(Be.PATH,{class:"blocklyBubbleTail"},e),this.background=ue(Be.RECT,{class:"blocklyDraggable",x:0,y:0,rx:ps.BORDER_WIDTH,ry:ps.BORDER_WIDTH},e),this.contentContainer=ue(Be.G,{},this.svgRoot),ve(this.background,"pointerdown",this,this.onMouseDown)}dispose(){q(this.svgRoot),this.disposed=!0}setAnchorLocation(e,s=!1){this.anchor=e,s?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,s){this.relativeLeft=e,this.relativeTop=s,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,s=!1){e.width=Math.max(e.width,ps.MIN_SIZE),e.height=Math.max(e.height,ps.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),s?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let s;(s=this.workspace.getGesture(e))==null||s.handleBubbleStart(e,this),o.setSelected$$module$build$src$core$common(this)}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,s){this.svgRoot.setAttribute("transform",`translate(${e}, ${s})`)}positionByRect(e=new yn(0,0,0,0)){var s=this.workspace.getMetricsManager().getViewMetrics(!0),r=this.getOptimalRelativeLeft(s),d=this.getOptimalRelativeTop(s);const v={x:r,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},k={x:-this.size.width-30,y:d};d={x:e.getWidth(),y:d};var J={x:r,y:e.getHeight()};r=e.getWidth()<e.getHeight()?d:J,e=e.getWidth()<e.getHeight()?J:d,d=this.getOverlap(v,s),J=this.getOverlap(k,s);const ge=this.getOverlap(r,s);s=this.getOverlap(e,s),s=Math.max(d,J,ge,s),d===s?(this.relativeLeft=v.x,this.relativeTop=v.y):J===s?(this.relativeLeft=k.x,this.relativeTop=k.y):ge===s?(this.relativeLeft=r.x,this.relativeTop=r.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,s){var r=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(r+this.size.width,s.left+s.width)-Math.max(r,s.left))*(Math.min(e+this.size.height,s.top+s.height)-Math.max(e,s.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let s=-this.size.width/4;if(this.size.width>e.width)return s;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var r=this.anchor.x-s;r-this.size.width<e.left?s=-(e.left-this.anchor.x+this.size.width):r>e.right&&(s=-(e.right-this.anchor.x))}else{r=s+this.anchor.x;const d=r+this.size.width;r<e.left?s=e.left-this.anchor.x:d>e.right&&(s=e.right-this.anchor.x-this.size.width)}return s}getOptimalRelativeTop(e){let s=-this.size.height/4;if(this.size.height>e.height)return s;const r=this.anchor.y+s,d=r+this.size.height;return e=this.getWorkspaceViewRect(e),r<e.top?s=e.top-this.anchor.y:d>e.bottom&&(s=e.bottom-this.anchor.y-this.size.height),s}getWorkspaceViewRect(e){const s=e.top;let r=e.top+e.height,d=e.left;return e=e.left+e.width,r-=this.getScrollbarThickness(),this.workspace.RTL?d-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new yn(s,r,d,e)}getScrollbarThickness(){return Wn.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var s=this.size.width/2,r=this.size.height/2,d=-this.relativeLeft,v=-this.relativeTop;if(s===d&&r===v)e.push("M "+s+","+r);else{v-=r,d-=s,this.workspace.RTL&&(d*=-1);var k=Math.sqrt(v*v+d*d),J=Math.acos(d/k);0>v&&(J=2*Math.PI-J);var ge=J+Math.PI/2;ge>2*Math.PI&&(ge-=2*Math.PI);var Xe=Math.sin(ge);const On=Math.cos(ge);let Sn=(this.size.width+this.size.height)/ps.TAIL_THICKNESS;Sn=Math.min(Sn,this.size.width,this.size.height)/4,ge=1-ps.ANCHOR_RADIUS/k,d=s+ge*d,v=r+ge*v,ge=s+Sn*On;const ts=r+Sn*Xe;s-=Sn*On,r-=Sn*Xe,Xe=mp(this.workspace.RTL?-ps.TAIL_ANGLE:ps.TAIL_ANGLE),Xe=J+Xe,Xe>2*Math.PI&&(Xe-=2*Math.PI),J=Math.sin(Xe)*k/ps.TAIL_BEND,k=Math.cos(Xe)*k/ps.TAIL_BEND,e.push("M"+ge+","+ts),e.push("C"+(ge+k)+","+(ts+J)+" "+d+","+v+" "+d+","+v),e.push("C"+d+","+v+" "+(s+k)+","+(r+J)+" "+s+","+r)}e.push("z");let It;(It=this.tail)==null||It.setAttribute("d",e.join(" "))}bringToFront(){let e;const s=(e=this.svgRoot)==null?void 0:e.parentNode;return this.svgRoot&&(s==null?void 0:s.lastChild)!==this.svgRoot?(s==null||s.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new ht(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){}unselect(){}};ps=vn,vn.BORDER_WIDTH=6,vn.DOUBLE_BORDER=2*ps.BORDER_WIDTH,vn.MIN_SIZE=ps.DOUBLE_BORDER,vn.TAIL_THICKNESS=1,vn.TAIL_ANGLE=20,vn.TAIL_BEND=4,vn.ANCHOR_RADIUS=8;var ur=class extends vn{constructor(e,s,r,d){super(s,r,d),this.workspace=s,this.anchor=r,this.ownerRect=d,this.autoLayout=!0,s=new ks(e),this.validateWorkspaceOptions(s),this.svgDialog=ue(Be.SVG,{x:vn.BORDER_WIDTH,y:vn.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new ks(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),s.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(Be.G),this.miniWorkspace.getCanvas()),e=this.miniWorkspace.getFlyout(),e==null||e.init(this.miniWorkspace),e==null||e.show(s.languageTree)),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let v,k;(v=this.miniWorkspace.getFlyout())==null||(k=v.getWorkspace())==null||k.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging())for(const e of this.miniWorkspace.getTopBlocks(!1)){const s=e.getRelativeToSurfaceXY();if(20>s.y&&e.moveBy(0,20-s.y),e.RTL){let r=-20;const d=this.miniWorkspace.getFlyout();d&&(r-=d.getWidth()),s.x>r&&e.moveBy(r-s.x,0)}else 20>s.x&&e.moveBy(20-s.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()){var e=this.getSize(),s=this.calculateWorkspaceSize();Math.abs(e.width-s.width)<ur.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-s.height)<ur.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${s.width}px`),this.svgDialog.setAttribute("height",`${s.height}px`),this.miniWorkspace.setCachedParentSvgSize(s.width,s.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${s.width}, 0)`),this.setSize(new cn(s.width+vn.DOUBLE_BORDER,s.height+vn.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let s=e.width+ur.MARGIN;e=e.height+ur.MARGIN;const r=this.miniWorkspace.getFlyout();if(r){const d=r.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,d.height+20),s+=r.getWidth()}return new cn(s,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let s;if(e=(s=this.miniWorkspace.getFlyout())==null?void 0:s.getWorkspace())for(const r of e.getAllBlocks(!1))r.setStyle(r.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,s){super.moveTo(e,s),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};ur.MINIMUM_VIEW_CHANGE=10,ur.MARGIN=3*vn.DOUBLE_BORDER;var vf,_f;vf=17,_f=16,o.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends gf{constructor(e,s){super(s),this.flyoutBlockTypes=e,this.sourceBlock=s,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),ue(Be.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),ue(Be.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),ue(Be.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),we(this.svgRoot,"blockly-icon-mutator"))}dispose(){super.dispose();let e;(e=this.miniWorkspaceBubble)==null||e.dispose()}getWeight(){return o.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new cn(vf,vf)}applyColour(){super.applyColour();let e;(e=this.miniWorkspaceBubble)==null||e.setColour(this.sourceBlock.style.colourPrimary);let s;(s=this.miniWorkspaceBubble)==null||s.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){super.onLocationChange(e);let s;(s=this.miniWorkspaceBubble)==null||s.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){const s=this;return rt.asyncExecutePromiseGeneratorFunction(function*(){if(s.bubbleIsVisible()!==e){if(yield vi(),e){s.miniWorkspaceBubble=new ur(s.getMiniWorkspaceConfig(),s.sourceBlock.workspace,s.getAnchorLocation(),s.getBubbleOwnerRect()),s.applyColour(),s.createRootBlock(),s.addSaveConnectionsListener();let r;(r=s.miniWorkspaceBubble)==null||r.addWorkspaceChangeListener(s.createMiniWorkspaceChangeListener())}else{let r;(r=s.miniWorkspaceBubble)==null||r.dispose(),s.miniWorkspaceBubble=null,s.saveConnectionsListener&&s.sourceBlock.workspace.removeChangeListener(s.saveConnectionsListener),s.saveConnectionsListener=null}$(new(M(Ci))(s.sourceBlock,e,"mutator"))}})}getMiniWorkspaceConfig(){let e;const s={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(e=this.sourceBlock.workspace.options.rendererOverrides)!=null?e:void 0};return this.flyoutBlockTypes.length&&(s.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(r=>({kind:"block",type:r}))}),s}getAnchorLocation(){const e=vf/2;return ht.sum(this.workspaceLocation,new ht(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new yn(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var e of this.rootBlock.getDescendants(!1))e.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let s,r,d,v;e=(v=(s=this.miniWorkspaceBubble)==null||(r=s.getWorkspace())==null||(d=r.getFlyout())==null?void 0:d.getWidth())!=null?v:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+_f):_f,_f)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{o.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||e.type===o.CREATE$$module$build$src$core$events$utils||e.type===o.CHANGE$$module$build$src$core$events$utils&&e.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=o.getGroup$$module$build$src$core$events$utils();e||o.setGroup$$module$build$src$core$events$utils(!0);var s=ta.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var r=ta.getExtraBlockState_(this.sourceBlock);s!==r&&$(new(M(o.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"mutation",null,s,r)),o.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return(e=this.miniWorkspaceBubble)==null?void 0:e.getWorkspace()}},o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=Jn.MUTATOR,o.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,o.MutatorIcon$$module$build$src$core$icons$mutator_icon;var Lu=Object.create(null),Lx={allExtensions:Lu};o.register$$module$build$src$core$extensions("parent_tooltip_when_inline",gS);var oi={TEST_ONLY:Lx};oi.apply=Rp,oi.buildTooltipForDropdown=o.buildTooltipForDropdown$$module$build$src$core$extensions,oi.buildTooltipWithFieldText=o.buildTooltipWithFieldText$$module$build$src$core$extensions,oi.isRegistered=Z$,oi.register=o.register$$module$build$src$core$extensions,oi.registerMixin=o.registerMixin$$module$build$src$core$extensions,oi.registerMutator=o.registerMutator$$module$build$src$core$extensions,oi.runAfterPageLoad=fS,oi.unregister=uS;var nw=new Set,ow={};ow.warn=Vr;var en;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(en||(en={}));var cr={};cr.arc=Gn,cr.curve=Qo,cr.line=lu,cr.lineOnAxis=kt,cr.lineTo=yi,cr.moveBy=Rn,cr.moveTo=eo,cr.point=Ht;var xn={};xn.Coordinate=ht,xn.KeyCodes=en,xn.Rect=yn,xn.Size=cn,xn.Svg=Be,xn.aria=bd,xn.array=gI,xn.browserEvents=sr,xn.colour=ws,xn.deprecation=ow,xn.dom=ho,xn.extensions=oi,xn.idGenerator=Wv,xn.math=sf,xn.object=ZI,xn.parsing=wd,xn.string=wu,xn.style=zr,xn.svgMath=ql,xn.svgPaths=cr,xn.toolbox=Kr,xn.userAgent=_x,xn.xml=_u;var L_={};L_.register=tv,L_.unregister=$S;var M_=class extends vn{constructor(e,s,r,d){super(s,r,d),this.text=e,this.workspace=s,this.anchor=r,this.ownerRect=d,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}getText(){return this.text}setText(e){this.text=e,q(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,s){return s=this.createParagraph(s),e=this.createSpans(s,e),this.workspace.RTL&&this.rightAlignSpans(s.getBBox().width,e),s}createParagraph(e){return ue(Be.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:vn.BORDER_WIDTH},e)}createSpans(e,s){return s.split(`
`).map(r=>{const d=ue(Be.TSPAN,{dy:"1em",x:vn.BORDER_WIDTH},e);return r=document.createTextNode(r),d.appendChild(r),d})}rightAlignSpans(e,s){for(const r of s)r.setAttribute("text-anchor","end"),r.setAttribute("x",`${e+vn.BORDER_WIDTH}`)}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new cn(e.width+2*vn.BORDER_WIDTH,e.height+2*vn.BORDER_WIDTH),!0)}},sw=class extends vn{constructor(e,s,r){super(e,s,r),this.workspace=e,this.anchor=s,this.ownerRect=r,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.textChangeListeners=[],this.sizeChangeListeners=[],this.text="",this.DEFAULT_SIZE=new cn(160+vn.DOUBLE_BORDER,80+vn.DOUBLE_BORDER),this.MIN_SIZE=new cn(45+vn.DOUBLE_BORDER,20+vn.DOUBLE_BORDER),we(this.svgRoot,"blocklyTextInputBubble"),{inputRoot:this.inputRoot,textArea:this.textArea}=this.createEditor(this.contentContainer),this.resizeGroup=this.createResizeHandle(this.svgRoot,e),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.text}setText(e){this.text=e,this.textArea.value=e,this.onTextChange()}addTextChangeListener(e){this.textChangeListeners.push(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}createEditor(e){e=ue(Be.FOREIGNOBJECT,{x:vn.BORDER_WIDTH,y:vn.BORDER_WIDTH},e);const s=document.createElementNS(Ii,"body");s.setAttribute("xmlns",Ii),s.className="blocklyMinimalBody";const r=document.createElementNS(Ii,"textarea");return r.className="blocklyTextarea blocklyText",r.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),s.appendChild(r),e.appendChild(s),this.bindTextAreaEvents(r),setTimeout(()=>{r.focus()},0),{inputRoot:e,textArea:r}}bindTextAreaEvents(e){ve(e,"wheel",this,s=>{s.stopPropagation()}),ve(e,"focus",this,this.onStartEdit,!0),ve(e,"change",this,this.onTextChange)}createResizeHandle(e,s){return e=ue(Be.IMAGE,{class:"blocklyResizeHandle",href:`${s.options.pathToMedia}resize-handle.svg`},e),ve(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,s=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const r=e.width-vn.DOUBLE_BORDER,d=e.height-vn.DOUBLE_BORDER;this.inputRoot.setAttribute("width",`${r}`),this.inputRoot.setAttribute("height",`${d}`),this.resizeGroup.setAttribute("y",`${d}`),this.workspace.RTL?this.resizeGroup.setAttribute("x",`${-vn.DOUBLE_BORDER}`):this.resizeGroup.setAttribute("x",`${r}`),super.setSize(e,s),this.onSizeChange()}getSize(){return super.getSize()}onResizePointerDown(e){this.bringToFront(),he(e)||(this.workspace.startDrag(e,new ht(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=ve(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=ve(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){de(),this.resizePointerUpListener&&(He(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(He(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=this.workspace.moveDrag(e),this.setSize(new cn(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onStartEdit(){this.bringToFront()&&this.textArea.focus()}onTextChange(){this.text=this.textArea.value;for(const e of this.textChangeListeners)e()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}};De(`
.blocklyTextInputBubble .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 0;
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}
`);var D_=17,iw=160,rw=80,dr=class extends gf{constructor(e){super(e),this.sourceBlock=e,this.textBubble=this.textInputBubble=null,this.text="",this.bubbleSize=new cn(iw,rw),this.bubbleVisiblity=!1}getType(){return dr.TYPE}initView(e){this.svgRoot||(super.initView(e),ue(Be.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),ue(Be.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),ue(Be.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),we(this.svgRoot,"blockly-icon-comment"))}dispose(){super.dispose();let e;(e=this.textInputBubble)==null||e.dispose();let s;(s=this.textBubble)==null||s.dispose()}getWeight(){return dr.WEIGHT}getSize(){return new cn(D_,D_)}applyColour(){super.applyColour();const e=this.sourceBlock.style.colourPrimary;let s;(s=this.textInputBubble)==null||s.setColour(e);let r;(r=this.textBubble)==null||r.setColour(e)}updateEditable(){const e=this,s=()=>super.updateEditable;return rt.asyncExecutePromiseGeneratorFunction(function*(){s().call(e),e.bubbleIsVisible()&&(yield e.setBubbleVisible(!1),yield e.setBubbleVisible(!0))})}onLocationChange(e){super.onLocationChange(e),e=this.getAnchorLocation();let s;(s=this.textInputBubble)==null||s.setAnchorLocation(e);let r;(r=this.textBubble)==null||r.setAnchorLocation(e)}setText(e){const s=this.text;$(new(M(o.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,s,e)),this.text=e;let r;(r=this.textInputBubble)==null||r.setText(this.text);let d;(d=this.textBubble)==null||d.setText(this.text)}getText(){return this.text}setBubbleSize(e){this.bubbleSize=e;let s;(s=this.textInputBubble)==null||s.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}saveState(){return this.text?{text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width}:null}loadState(e){let s;this.text=(s=e.text)!=null?s:"";let r,d;this.bubbleSize=new cn((r=e.width)!=null?r:iw,(d=e.height)!=null?d:rw);let v;this.bubbleVisiblity=(v=e.pinned)!=null?v:!1,this.setBubbleVisible(this.bubbleVisiblity)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&($(new(M(o.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){const s=this;return rt.asyncExecutePromiseGeneratorFunction(function*(){s.bubbleVisiblity!==e&&(s.bubbleVisiblity=e,yield vi(),!s.sourceBlock.rendered||s.sourceBlock.isInFlyout||s.sourceBlock.isInsertionMarker()||(e?(s.sourceBlock.isEditable()?s.showEditableBubble():s.showNonEditableBubble(),s.applyColour()):s.hideBubble(),$(new(M(Ci))(s.sourceBlock,e,"comment"))))})}showEditableBubble(){this.textInputBubble=new sw(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.textInputBubble.addTextChangeListener(()=>this.onTextChange()),this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.textBubble=new M_(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect())}hideBubble(){let e;(e=this.textInputBubble)==null||e.dispose(),this.textInputBubble=null;let s;(s=this.textBubble)==null||s.dispose(),this.textBubble=null}getAnchorLocation(){const e=D_/2;return ht.sum(this.workspaceLocation,new ht(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new yn(e.y,e.y+e.height,e.x,e.x+e.width)}};dr.TYPE=Jn.COMMENT,dr.WEIGHT=3,tv(dr.TYPE,dr);var P_=17,hr=class extends gf{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return hr.TYPE}initView(e){this.svgRoot||(super.initView(e),ue(Be.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),ue(Be.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),ue(Be.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),we(this.svgRoot,"blockly-icon-warning"))}dispose(){super.dispose();let e;(e=this.textBubble)==null||e.dispose()}getWeight(){return hr.WEIGHT}getSize(){return new cn(P_,P_)}applyColour(){super.applyColour();let e;(e=this.textBubble)==null||e.setColour(this.sourceBlock.style.colourPrimary)}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){super.onLocationChange(e);let s;(s=this.textBubble)==null||s.setAnchorLocation(this.getAnchorLocation())}addMessage(e,s){if(this.textMap.get(s)===e)return this;e?this.textMap.set(s,e):this.textMap.delete(s);let r;return(r=this.textBubble)==null||r.setText(this.getText()),this}getText(){return[...this.textMap.values()].join(`
`)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){const s=this;return rt.asyncExecutePromiseGeneratorFunction(function*(){if(s.bubbleIsVisible()!==e){if(yield vi(),e)s.textBubble=new M_(s.getText(),s.sourceBlock.workspace,s.getAnchorLocation(),s.getBubbleOwnerRect()),s.applyColour();else{let r;(r=s.textBubble)==null||r.dispose(),s.textBubble=null}$(new(M(Ci))(s.sourceBlock,e,"warning"))}})}getAnchorLocation(){const e=P_/2;return ht.sum(this.workspaceLocation,new ht(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new yn(e.y,e.y+e.height,e.x,e.x+e.width)}};hr.TYPE=Jn.WARNING,hr.WEIGHT=2;var lw=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},aw={};aw.DuplicateIconType=lw;var jr={};jr.CommentIcon=dr,jr.Icon=gf,jr.IconType=Jn,jr.MutatorIcon=o.MutatorIcon$$module$build$src$core$icons$mutator_icon,jr.WarningIcon=hr,jr.exceptions=aw,jr.registry=L_;var bf,Go;bf="PROCEDURE",o.DEFAULT_ARG$$module$build$src$core$procedures="x",Go={CATEGORY_NAME:bf,DEFAULT_ARG:o.DEFAULT_ARG$$module$build$src$core$procedures},Go.ObservableProcedureMap=QI,Go.allProcedures=Lp,Go.findLegalName=o.findLegalName$$module$build$src$core$procedures,Go.flyoutCategory=Mp,Go.getCallers=rv,Go.getDefinition=o.getDefinition$$module$build$src$core$procedures,Go.isNameUsed=ov,Go.isProcedureBlock=Hr,Go.mutateCallers=o.mutateCallers$$module$build$src$core$procedures,Go.mutatorOpenListener=iv,Go.rename=o.rename$$module$build$src$core$procedures;var Mx=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return e.type&this.FIELD}isHat(e){return e.type&this.HAT}isIcon(e){return e.type&this.ICON}isSpacer(e){return e.type&this.SPACER}isInRowSpacer(e){return e.type&this.IN_ROW_SPACER}isInput(e){return e.type&this.INPUT}isExternalInput(e){return e.type&this.EXTERNAL_VALUE_INPUT}isInlineInput(e){return e.type&this.INLINE_INPUT}isStatementInput(e){return e.type&this.STATEMENT_INPUT}isPreviousConnection(e){return e.type&this.PREVIOUS_CONNECTION}isNextConnection(e){return e.type&this.NEXT_CONNECTION}isPreviousOrNextConnection(e){return e.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}isLeftRoundedCorner(e){return e.type&this.LEFT_ROUND_CORNER}isRightRoundedCorner(e){return e.type&this.RIGHT_ROUND_CORNER}isLeftSquareCorner(e){return e.type&this.LEFT_SQUARE_CORNER}isRightSquareCorner(e){return e.type&this.RIGHT_SQUARE_CORNER}isCorner(e){return e.type&this.CORNER}isJaggedEdge(e){return e.type&this.JAGGED_EDGE}isRow(e){return e.type&this.ROW}isBetweenRowSpacer(e){return e.type&this.BETWEEN_ROW_SPACER}isTopRow(e){return e.type&this.TOP_ROW}isBottomRow(e){return e.type&this.BOTTOM_ROW}isTopOrBottomRow(e){return e.type&(this.TOP_ROW|this.BOTTOM_ROW)}isInputRow(e){return e.type&this.INPUT_ROW}},Oe=new Mx,ki=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=Oe.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},Rd=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=Oe.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;0<=e;e--){const s=this.elements[e];if(Oe.isInput(s))return s}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const s=this.elements[e];if(Oe.isSpacer(s))return s}return null}getLastSpacer(){for(let e=this.elements.length-1;0<=e;e--){const s=this.elements[e];if(Oe.isSpacer(s))return s}return null}},x_=class extends Rd{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=Oe.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,s=0,r=0;for(let d=0;d<this.elements.length;d++){const v=this.elements[d];s+=v.width,Oe.isSpacer(v)||(Oe.isNextConnection(v)?r=Math.max(r,v.height):e=Math.max(e,v.height))}this.width=Math.max(this.minWidth,s),this.height=Math.max(this.minHeight,e)+r,this.descenderHeight=r,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},pr=class extends ki{constructor(e,s){super(e),this.connectionModel=s,this.type|=Oe.CONNECTION,this.shape=this.constants_.shapeFor(s),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=s.isHighlighted()}},qr=class extends pr{constructor(e,s){super(e,s.connection),this.input=s,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=Oe.INPUT,this.align=s.align,(this.connectedBlock=s.connection&&s.connection.targetBlock()?s.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},Tf=class extends qr{constructor(e,s){super(e,s),this.height=0,this.type|=Oe.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},Mu=class extends ki{constructor(e,s,r){super(e),this.field=s,this.parentInput=r,this.isEditable=s.EDITABLE,this.flipRtl=s.getFlipRtl(),this.type|=Oe.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},B_=class extends ki{constructor(e){super(e),this.type|=Oe.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},uw=class extends ki{constructor(e,s){super(e),this.icon=s,this.flipRtl=!1,this.type|=Oe.ICON,e=s.getSize(),this.height=e.height,this.width=e.width}},fs=class extends ki{constructor(e,s){super(e),this.type=this.type|Oe.SPACER|Oe.IN_ROW_SPACER,this.width=s,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},F_=class extends qr{constructor(e,s){super(e,s),this.type|=Oe.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},Ad=class extends qr{constructor(e,s){super(e,s),this.type|=Oe.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},H_=class extends Rd{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=Oe.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let s=0;s<this.elements.length;s++){const r=this.elements[s];this.width+=r.width,Oe.isInput(r)&&r instanceof qr&&(Oe.isStatementInput(r)&&r instanceof Ad?e+=r.connectedBlockWidth:Oe.isExternalInput(r)&&r instanceof Tf&&r.connectedBlockWidth!==0&&(e+=r.connectedBlockWidth-r.connectionWidth)),Oe.isSpacer(r)||(this.height=Math.max(this.height,r.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},cw=class extends ki{constructor(e){super(e),this.type|=Oe.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},dw=class extends pr{constructor(e,s){super(e,s),this.type|=Oe.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},hw=class extends pr{constructor(e,s){super(e,s),this.connectionOffsetX=0,this.type|=Oe.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},pw=class extends pr{constructor(e,s){super(e,s),this.type|=Oe.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Nd=class extends ki{constructor(e,s){super(e),this.type=(s&&s!=="left"?Oe.RIGHT_ROUND_CORNER:Oe.LEFT_ROUND_CORNER)|Oe.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},V_=class extends Rd{constructor(e,s,r){super(e),this.height=s,this.width=r,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type=this.type|Oe.SPACER|Oe.BETWEEN_ROW_SPACER,this.elements=[new fs(this.constants_,r)]}measure(){}},Ld=class extends ki{constructor(e,s){super(e),this.type=(s&&s!=="left"?Oe.RIGHT_SQUARE_CORNER:Oe.LEFT_SQUARE_CORNER)|Oe.CORNER,this.width=this.height=this.constants_.NO_PADDING}},U_=class extends Rd{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=Oe.TOP_ROW}hasLeftSquareCorner(e){const s=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,r=e.getPreviousBlock();return!!e.outputConnection||s||(r?r.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,s=0,r=0;for(let d=0;d<this.elements.length;d++){const v=this.elements[d];s+=v.width,Oe.isSpacer(v)||(Oe.isHat(v)&&v instanceof B_?r=Math.max(r,v.ascenderHeight):e=Math.max(e,v.height))}this.width=Math.max(this.minWidth,s),this.height=Math.max(this.minHeight,e)+r,this.capline=this.ascenderHeight=r,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},yf=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=Rn(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const s=e.blockStyles;for(const r in s)this.blockStyles[r]=this.validatedBlockStyle_(s[r]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=A("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const s="auto_"+e;return this.blockStyles[s]||(this.blockStyles[s]=this.createBlockStyle_(e)),{style:this.blockStyles[s],name:s}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.startsWith("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const s={};return e&&Object.assign(s,e),e=ou(s.colourPrimary||"#000"),s.colourPrimary=e.hex,s.colourSecondary=s.colourSecondary?ou(s.colourSecondary).hex:this.generateSecondaryColour_(s.colourPrimary),s.colourTertiary=s.colourTertiary?ou(s.colourTertiary).hex:this.generateTertiaryColour_(s.colourPrimary),s.hat=s.hat||"",s}generateSecondaryColour_(e){return Bl("#fff",e,.6)||e}generateTertiaryColour_(e){return Bl("#fff",e,.3)||e}dispose(){this.embossFilter&&q(this.embossFilter),this.disabledPattern&&q(this.disabledPattern),this.debugFilter&&q(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,s=this.JAGGED_TEETH_WIDTH,r=lu([Ht(s,e/4),Ht(2*-s,e/2),Ht(s,e/4)]);return{height:e,width:s,path:r}}makeStartHat(){const e=this.START_HAT_HEIGHT,s=this.START_HAT_WIDTH,r=Qo("c",[Ht(30,-e),Ht(70,-e),Ht(s,0)]);return{height:e,width:s,path:r}}makePuzzleTab(){function e(k){k=k?-1:1;const J=-k;var ge=r/2;const Xe=ge+2.5,It=ge+.5,On=Ht(-s,k*ge);return ge=Ht(s,k*ge),Qo("c",[Ht(0,k*Xe),Ht(-s,J*It),On])+Qo("s",[Ht(s,2.5*J),ge])}const s=this.TAB_WIDTH,r=this.TAB_HEIGHT,d=e(!0),v=e(!1);return{type:this.SHAPES.PUZZLE,width:s,height:r,pathDown:v,pathUp:d}}makeNotch(){function e(J){return lu([Ht(J*d,r),Ht(3*J,0),Ht(J*d,-r)])}const s=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,d=(s-3)/2,v=e(1),k=e(-1);return{type:this.SHAPES.NOTCH,width:s,height:r,pathLeft:v,pathRight:k}}makeInsideCorners(){const e=this.CORNER_RADIUS,s=Gn("a","0 0,0",e,Ht(-e,e)),r=Gn("a","0 0,0",e,Ht(e,e));return{width:e,height:e,pathTop:s,pathBottom:r}}makeOutsideCorners(){const e=this.CORNER_RADIUS,s=Rn(0,e)+Gn("a","0 0,1",e,Ht(e,-e)),r=Gn("a","0 0,1",e,Ht(e,e)),d=Gn("a","0 0,1",e,Ht(-e,-e)),v=Gn("a","0 0,1",e,Ht(-e,e));return{topLeft:s,topRight:r,bottomRight:v,bottomLeft:d,rightHeight:e}}shapeFor(e){switch(e.type){case wt.INPUT_VALUE:case wt.OUTPUT_VALUE:return this.PUZZLE_TAB;case wt.PREVIOUS_STATEMENT:case wt.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,s,r){this.injectCSS_(s,r),this.defs=ue(Be.DEFS,{},e),e=ue(Be.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),ue(Be.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),s=ue(Be.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),ue(Be.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},s),ue(Be.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),ue(Be.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=ue(Be.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),ue(Be.RECT,{width:10,height:10,fill:"#aaa"},e),ue(Be.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter()}createDebugFilter(){if(!this.debugFilter){const e=ue(Be.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),s=ue(Be.FECOMPONENTTRANSFER,{result:"outBlur"},e);ue(Be.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},s),ue(Be.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),ue(Be.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,s){s=this.getCSS_(s),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const r=s.join(`
`);this.cssNode?this.cssNode.firstChild.textContent=r:(s=document.createElement("style"),s.id=e,e=document.createTextNode(r),s.appendChild(e),document.head.insertBefore(s,document.head.firstChild),this.cssNode=s)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect,`,`${e} .blocklyEditableText>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableText:not(.editing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},Ef=class{constructor(e,s){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=s,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=s.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const s=this.info_.rows[e];s.hasJaggedEdge?this.drawJaggedEdge_(s):s.hasStatement?this.drawStatementInput_(s):s.hasExternalInput?this.drawValueInput_(s):this.drawRightSideRow_(s)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,s=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=Rn(e.xPos,this.info_.startY);for(let r=0,d;d=s[r];r++)Oe.isLeftRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:Oe.isRightRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:Oe.isPreviousConnection(d)&&d instanceof pr?this.outlinePath_+=d.shape.pathLeft:Oe.isHat(d)?this.outlinePath_+=this.constants_.START_HAT.path:Oe.isSpacer(d)&&(this.outlinePath_+=kt("h",d.width));this.outlinePath_+=kt("v",e.height)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+kt("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const s=e.getLastInput();this.positionExternalValueConnection_(e);const r=Dp(s.shape)?s.shape.pathDown(s.height):s.shape.pathDown;this.outlinePath_+=kt("H",s.xPos+s.width)+r+kt("v",e.height-s.connectionHeight)}drawStatementInput_(e){var s=e.getLastInput();if(s){var r=s.xPos+s.notchOffset+s.shape.width;s=s.shape.pathRight+kt("h",-(s.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var d=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=kt("H",r)+s+kt("v",d)+this.constants_.INSIDE_CORNERS.pathBottom+kt("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=kt("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,s=e.elements;this.positionNextConnection_();let r=0,d="";for(let v=s.length-1,k;k=s[v];v--)Oe.isNextConnection(k)&&k instanceof pr?d+=k.shape.pathRight:Oe.isLeftSquareCorner(k)?d+=kt("H",e.xPos):Oe.isLeftRoundedCorner(k)?d+=this.constants_.OUTSIDE_CORNERS.bottomLeft:Oe.isRightRoundedCorner(k)?(d+=this.constants_.OUTSIDE_CORNERS.bottomRight,r=this.constants_.OUTSIDE_CORNERS.rightHeight):Oe.isSpacer(k)&&(d+=kt("h",-1*k.width));this.outlinePath_+=kt("V",e.baseline-r),this.outlinePath_+=d}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const s=e.connectionOffsetY+e.height;e=Dp(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=kt("V",s)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,s;s=this.info_.rows[e];e++)for(let r=0,d;d=s.elements[r];r++)Oe.isInlineInput(d)?this.drawInlineInput_(d):(Oe.isIcon(d)||Oe.isField(d))&&this.layoutField_(d)}layoutField_(e){const s=e.centerline-e.height/2;let r=e.xPos;var d="";this.info_.RTL&&(r=-(r+e.width),e.flipRtl&&(r+=e.width,d="scale(-1 1)")),Oe.isIcon(e)?(d=e.icon,d.setOffsetInBlock(new ht(r,s)),this.info_.isInsertionMarker&&d.hideForInsertionMarker()):(e=e.field.getSvgRoot(),e.setAttribute("transform","translate("+r+","+s+")"+d),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const s=e.width,r=e.height,d=e.connectionOffsetY,v=e.connectionHeight+d;this.inlinePath_+=eo(e.xPos+e.connectionWidth,e.centerline-r/2)+kt("v",d)+e.shape.pathDown+kt("v",r-v)+kt("h",s-e.connectionWidth)+kt("v",-r)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const s=e.centerline-e.height/2;if(e.connectionModel){let r=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(r*=-1),e.connectionModel.setOffsetInBlock(r,s+e.connectionOffsetY)}}positionStatementInputConnection_(e){const s=e.getLastInput();if(s!=null&&s.connectionModel){let r=e.xPos+e.statementEdge+s.notchOffset;this.info_.RTL&&(r*=-1),s.connectionModel.setOffsetInBlock(r,e.yPos)}}positionExternalValueConnection_(e){const s=e.getLastInput();if(s&&s.connectionModel){let r=e.xPos+e.width;this.info_.RTL&&(r*=-1),s.connectionModel.setOffsetInBlock(r,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const s=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-s:s,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const s=e.connection,r=s.xPos;s.connectionModel.setOffsetInBlock(this.info_.RTL?-r:r,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const s of e.elements)if(s instanceof pr)if(s.highlighted)this.drawConnectionHighlightPath(s);else{let r,d;(d=(r=this.block_.pathObject).removeConnectionHighlight)==null||d.call(r,s.connectionModel)}}drawConnectionHighlightPath(e){const s=e.connectionModel;e=s.type===wt.INPUT_VALUE||s.type===wt.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const r=s.getSourceBlock();let d,v;(v=(d=r.pathObject).addConnectionHighlight)==null||v.call(d,s,e,s.getOffsetInBlock(),r.RTL)}getExpressionConnectionHighlightPath(e){let s="";return Dp(e.shape)?s=e.shape.pathDown(e.height):TS(e.shape)&&(s=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,Rn(0,-e)+kt("v",e)+s+kt("v",e)}getStatementConnectionHighlightPath(e){if(!yS(e.shape))throw Error("Statement connections should have notch shapes");const s=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return Rn(-s,0)+kt("h",s)+e.shape.pathLeft+kt("h",s)}};(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(o.Align$$module$build$src$core$inputs$align||(o.Align$$module$build$src$core$inputs$align={})),o.Align$$module$build$src$core$inputs$align;var la=class extends En{constructor(e,s,r){super(En.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==En.SKIP_SETUP&&(r?this.configure_(r):this.class=s||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&we(this.getTextElement(),this.class)}doClassValidation_(e){return e==null?null:`${e}`}setClass(e){this.textElement_&&(this.class&&Ge(this.textElement_,this.class),e&&we(this.textElement_,e)),this.class=e}static fromJson(e){return new this(Un(e.text),void 0,e)}};Ti("field_label",la),la.prototype.DEFAULT_VALUE="";var Du=class{constructor(e,s){this.name=e,this.sourceBlock=s,this.fieldRow=[],this.align=o.Align$$module$build$src$core$inputs$align.LEFT,this.visible=!0,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,s){return this.insertFieldAt(this.fieldRow.length,e,s),this}insertFieldAt(e,s,r){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(s||s===""&&r)&&(typeof s=="string"&&(s=o.fromJson$$module$build$src$core$field_registry({type:"field_label",text:s})),s.setSourceBlock(this.sourceBlock),this.sourceBlock.initialized&&this.initField(s),s.name=r,s.setVisible(this.isVisible()),s.prefixField&&(e=this.insertFieldAt(e,s.prefixField)),this.fieldRow.splice(e,0,s),e++,s.suffixField&&(e=this.insertFieldAt(e,s.suffixField)),this.sourceBlock.rendered&&this.sourceBlock.queueRender()),e}removeField(e,s){for(let r=0,d;d=this.fieldRow[r];r++)if(d.name===e)return d.dispose(),this.fieldRow.splice(r,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(s)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let s=[];if(this.visible===e)return s;this.visible=e;for(let d=0,v;v=this.fieldRow[d];d++)v.setVisible(e);if(this.connection){var r=this.connection;e?s=r.startTrackingAll():r.stopTrackingAll(),(r=r.targetBlock())&&(r.getSvgRoot().style.display=e?"block":"none")}return s}markDirty(){for(let e=0,s;s=this.fieldRow[e];e++)s.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){for(const e of this.fieldRow)e.init()}initModel(){for(const e of this.fieldRow)e.initModel()}initField(e){this.sourceBlock.rendered?e.init():e.initModel()}dispose(){for(let e=0,s;s=this.fieldRow[e];e++)s.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},Oi=class extends Du{constructor(e,s){super(e,s),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},fr=class extends Du{constructor(e,s){super(e,s),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},ms=class extends Du{constructor(e,s){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,s),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(wt.NEXT_STATEMENT)}},fw;o.ValueInput$$module$build$src$core$inputs$value_input=class extends Du{constructor(e,s){if(!e)throw Error("Value inputs must have a non-empty name");super(e,s),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(wt.INPUT_VALUE)}},fw={},fw.ValueInput=o.ValueInput$$module$build$src$core$inputs$value_input;var Md=class{constructor(e,s){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=s,this.constants_=this.renderer_.getConstants(),this.outputConnection=s.outputConnection?new hw(this.constants_,s.outputConnection):null,this.isInline=s.getInputsInline()&&!s.isCollapsed(),this.isCollapsed=s.isCollapsed(),this.isInsertionMarker=s.isInsertionMarker(),this.RTL=s.RTL,this.topRow=new U_(this.constants_),this.bottomRow=new x_(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new H_(this.constants_);this.inputRows.push(e);var s=this.block_.getIcons();for(let r=0,d;d=s[r];r++){const v=new uw(this.constants_,d);this.isCollapsed&&!d.isShownWhenCollapsed()||e.elements.push(v)}s=void 0;for(let r=0,d;d=this.block_.inputList[r];r++)if(d.isVisible()){this.shouldStartNewRow_(d,s)&&(this.rows.push(e),e=new H_(this.constants_),this.inputRows.push(e));for(let v=0,k;k=d.fieldRow[v];v++)e.elements.push(new Mu(this.constants_,k,d));this.addInput_(d,e),s=d}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new cw(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const s=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let r=this.topRow.hasLeftSquareCorner(this.block_)?Ld:Nd;this.topRow.elements.push(new r(this.constants_)),s?(e=new B_(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new pw(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof ms&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,r=this.topRow.hasRightSquareCorner(this.block_)?Ld:Nd,this.topRow.elements.push(new r(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof ms?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new Ld(this.constants_)):this.bottomRow.elements.push(new Nd(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new dw(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new Ld(this.constants_,"right")):this.bottomRow.elements.push(new Nd(this.constants_,"right"))}addInput_(e,s){this.isInline&&e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(s.elements.push(new F_(this.constants_,e)),s.hasInlineInput=!0):e instanceof ms?(s.elements.push(new Ad(this.constants_,e)),s.hasStatement=!0):e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(s.elements.push(new Tf(this.constants_,e)),s.hasExternalInput=!0):(e instanceof Oi||e instanceof fr)&&(s.minHeight=Math.max(s.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),s.hasDummyInput=!0),s.align===null&&(s.align=e.align)}shouldStartNewRow_(e,s){return s?s instanceof fr||e instanceof ms||s instanceof ms?!0:e instanceof o.ValueInput$$module$build$src$core$inputs$value_input||e instanceof Oi||s instanceof o.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,s;s=this.rows[e];e++){const r=s.elements;if(s.elements=[],s.startsWithElemSpacer()&&s.elements.push(new fs(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(let d=0;d<r.length-1;d++){s.elements.push(r[d]);const v=this.getInRowSpacing_(r[d],r[d+1]);s.elements.push(new fs(this.constants_,v))}s.elements.push(r[r.length-1]),s.endsWithElemSpacer()&&s.elements.push(new fs(this.constants_,this.getInRowSpacing_(r[r.length-1],null)))}}}getInRowSpacing_(e,s){if(!e&&s&&Oe.isStatementInput(s))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&Oe.isInput(e)&&!s){if(Oe.isExternalInput(e))return this.constants_.NO_PADDING;if(Oe.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Oe.isStatementInput(e))return this.constants_.NO_PADDING}return e&&Oe.isLeftSquareCorner(e)&&s&&(Oe.isPreviousConnection(s)||Oe.isNextConnection(s))?s.notchOffset:e&&Oe.isLeftRoundedCorner(e)&&s&&(Oe.isPreviousConnection(s)||Oe.isNextConnection(s))?s.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,s=0,r=0;for(let v=0,k;k=this.rows[v];v++){if(k.measure(),s=Math.max(s,k.width),k.hasStatement){var d=k.getLastInput();let J,ge;d=k.width-((ge=(J=d)==null?void 0:J.width)!=null?ge:0),e=Math.max(e,d)}r=Math.max(r,k.widthWithConnectedBlocks)}this.statementEdge=e,this.width=s;for(let v=0,k;k=this.rows[v];v++)k.hasStatement&&(k.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(s,r),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let s=0,r;r=this.rows[s];s++)if(r.hasStatement)this.alignStatementRow_(r);else{var e=r.width;e=this.getDesiredRowWidth_(r)-e,0<e&&this.addAlignmentPadding_(r,e),Oe.isTopOrBottomRow(r)&&(r.widthWithConnectedBlocks=r.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,s){const r=e.getFirstSpacer(),d=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=s),e.align===o.Align$$module$build$src$core$inputs$align.LEFT&&d)d.width+=s;else if(e.align===o.Align$$module$build$src$core$inputs$align.CENTRE&&r&&d)r.width+=s/2,d.width+=s/2;else if(e.align===o.Align$$module$build$src$core$inputs$align.RIGHT&&r)r.width+=s;else if(d)d.width+=s;else return;e.width+=s}alignStatementRow_(e){const s=e.getLastInput();if(s){var r=e.width-s.width,d=this.statementEdge;r=d-r,0<r&&this.addAlignmentPadding_(e,r),r=e.width,d=this.getDesiredRowWidth_(e),s.width+=d-r,s.height=Math.max(s.height,e.height),e.width+=d-r,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let s=0;s<e.length;s++)this.rows.push(e[s]),s!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[s],e[s+1]))}makeSpacerRow_(e,s){var r=this.getSpacerRowHeight_(e,s);const d=this.getSpacerRowWidth_(e,s);return r=new V_(this.constants_,r,d),e.hasStatement&&(r.followsStatement=!0),s.hasStatement&&(r.precedesStatement=!0),r}getSpacerRowWidth_(e,s){return this.width-this.startX}getSpacerRowHeight_(e,s){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,s){return Oe.isSpacer(s)?e.yPos+s.height/2:Oe.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,Oe.isNextConnection(s)?e+s.height/2:e-s.height/2):Oe.isTopRow(e)?Oe.isHat(s)?e.capline-s.height/2:e.capline+s.height/2:e.yPos+e.height/2}recordElemPositions_(e){let s=e.xPos;for(let r=0,d;d=e.elements[r];r++)Oe.isSpacer(d)&&(d.height=e.height),d.xPos=s,d.centerline=this.getElemCenterline_(e,d),s+=d.width}finalize_(){let e=0,s=0;for(let r=0,d;d=this.rows[r];r++)d.yPos=s,d.xPos=this.startX,s+=d.height,e=Math.max(e,d.widthWithConnectedBlocks),this.recordElemPositions_(d);if(this.outputConnection&&this.block_.nextConnection){const r=this.block_.nextConnection.targetBlock();r&&(e=Math.max(e,r.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=s,this.startY=this.topRow.capline,this.bottomRow.baseline=s-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let s;if(((s=this.outputConnection)==null?void 0:s.connectionModel)===e)return this.outputConnection;for(const r of this.rows)for(const d of r.elements)if(d instanceof pr&&d.connectionModel===e)return d;return null}},G_=class extends ea{constructor(e){if(super(e),this.type=o.DELETE$$module$build$src$core$events$utils,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=id(e),this.ids=O(e),this.wasShadow=e.isShadow(),this.oldJson=cs(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=bi(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new G_),s.oldXml=o.textToDom$$module$build$src$core$utils$xml(e.oldXml),s.ids=e.ids,s.wasShadow=e.wasShadow||s.oldXml.tagName.toLowerCase()==="shadow",s.oldJson=e.oldJson,e.recordUndo!==void 0&&(s.recordUndo=e.recordUndo),s}run(e){const s=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const r=this.ids[e],d=s.getBlockById(r);d?d.dispose(!1):r===this.blockId&&console.warn("Can't delete non-existent block: "+r)}else qi(this.oldJson,s)}};i(ut.EVENT,o.DELETE$$module$build$src$core$events$utils,G_);var dn=class{constructor(e,s){this.type=s,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e}connect_(e){const s=wt.INPUT_VALUE,r=this.getSourceBlock();var d=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let v;if(this.isConnected()){const J=this.stashShadowState(),ge=this.targetBlock();ge.isShadow()?ge.dispose(!1):(this.disconnectInternal(),v=ge),this.applyShadowState(J)}let k;S()&&(k=new(M(o.MOVE$$module$build$src$core$events$utils))(d),k.setReason(["connect"])),ES(this,e),d.setParent(r),k&&(k.recordNew(),$(k)),v&&(e=this.type===s?v.outputConnection:v.previousConnection)&&((d=dn.getConnectionForOrphanedConnection(d,e))?e.connect(d):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===wt.INPUT_VALUE||this.type===wt.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const s=o.getGroup$$module$build$src$core$events$utils();s||o.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),o.setGroup$$module$build$src$core$events$utils(s)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:s,childConnection:r}=this.getParentAndChildConnections();if(!s||!r)throw Error("Source connection not connected.");const d=o.getGroup$$module$build$src$core$events$utils();d||o.setGroup$$module$build$src$core$events$utils(!0);let v;S()&&(v=new(M(o.MOVE$$module$build$src$core$events$utils))(r.getSourceBlock()),v.setReason(["disconnect"]));const k=this.targetConnection;k&&(k.targetConnection=null),this.targetConnection=null,e&&r.getSourceBlock().setParent(null),v&&(v.recordNew(),$(v)),r.getSourceBlock().isShadow()||s.respawnShadow_(),o.setGroup$$module$build$src$core$events$utils(d)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,s){if(this.getSourceBlock().isDeadOrDying())return!1;var r;return s=(r=e.getInput(s))==null?void 0:r.connection,r=this.targetBlock(),r&&r!==e||!s||s.targetConnection===this?!1:(s.isConnected()&&s.disconnect(),s.connect(this),!0)}targetBlock(){if(this.isConnected()){let e,s;return(s=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?s:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Fr(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?cs(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const s=this.sourceBlock_.inputList;for(let r=0;r<s.length;r++)if(s[r].connection===this){e=s[r];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var s="Output Connection of ";else if(e.previousConnection===this)s="Previous Connection of ";else if(e.nextConnection===this)s="Next Connection of ";else{s=null;for(let r=0,d;d=e.inputList[r];r++)if(d.connection===this){s=d;break}if(s)s='Input "'+s.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return s+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),s=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:s}}applyShadowState({shadowDom:e,shadowState:s}){this.shadowDom=e,this.shadowState=s}setShadowStateInternal({shadowDom:e=null,shadowState:s=null}={}){this.shadowDom=e,this.shadowState=s,this.getSourceBlock().isDeadOrDying()||((e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(e){var s=this.getSourceBlock();const r=this.getShadowState(),d=this.getShadowDom();if(s.isDeadOrDying()||!r&&!d)return null;if(r)return s=Za(r,s.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(d){if(s=Hl(d,s.workspace),e)if(this.type===wt.INPUT_VALUE){if(!s.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(s.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===wt.NEXT_STATEMENT){if(!s.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(s.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return s}return null}serializeShadow(e){e&&(this.shadowDom=Fr(e),this.shadowState=cs(e))}static getConnectionForOrphanedConnection(e,s){if(s.type===wt.OUTPUT_VALUE)return SS(e,s.getSourceBlock());e=e.lastConnectionInStack(!0);const r=s.getConnectionChecker();return e&&r.canConnect(s,e,!1)?e:null}};dn.CAN_CONNECT=0,dn.REASON_SELF_CONNECTION=1,dn.REASON_WRONG_TYPE=2,dn.REASON_TARGET_NULL=3,dn.REASON_CHECKS_FAILED=4,dn.REASON_DIFFERENT_WORKSPACES=5,dn.REASON_SHADOW_PARENT=6,dn.REASON_DRAG_CHECKS_FAILED=7,dn.REASON_PREVIOUS_AND_OUTPUT=8;var aa=class{constructor(e,s,r){if(this.data=null,this.disposed=!1,this.hue_=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabledReasons=new Set,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.outputShape_=null,this.rendered=this.isInsertionMarker_=this.initialized=this.disposing=!1,this.onchangeWrapper_=this.helpUrl=null,this.statementInputCount=0,this.workspace=e,this.id=r&&!e.getBlockById(r)?r:b(),e.setBlockById(this.id,this),this.xy_=new ht(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,s){if(this.type=s,r=es[s],!r||typeof r!="object")throw TypeError("Invalid block definition for type: "+s);Object.assign(this,r)}e.addTopBlock(this),e.addTypedBlock(this),new.target===aa&&this.doInit_()}doInit_(){const e=o.getGroup$$module$build$src$core$events$utils();e||o.setGroup$$module$build$src$core$events$utils(!0);const s=T();try{typeof this.init=="function"&&(o.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),o.setRecordUndo$$module$build$src$core$events$utils(s)),S()&&$(new(M(o.CREATE$$module$build$src$core$events$utils))(this))}finally{o.setGroup$$module$build$src$core$events$utils(e),o.setRecordUndo$$module$build$src$core$events$utils(s)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e=!1){this.disposing=!0,this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),S()&&$(new(M(o.DELETE$$module$build$src$core$events$utils))(this)),this.workspace.removeTopBlock(this),this.disposeInternal()}disposeInternal(){this.disposing=!0,this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const e of this.inputList)e.initModel();this.initialized=!0}}unplug(e){this.outputConnection&&this.unplugFromRow_(e),this.previousConnection&&this.unplugFromStack_(e)}unplugFromRow_(e){let s=null,r;(r=this.outputConnection)!=null&&r.isConnected()&&(s=this.outputConnection.targetConnection,this.outputConnection.disconnect()),s&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e==null||e.disconnect(),this.workspace.connectionChecker.canConnect(e,s,!1)?s.connect(e):e==null||e.onFailedConnect(s))}getOnlyValueConnection_(){let e=null;for(let s=0;s<this.inputList.length;s++){const r=this.inputList[s].connection;if(r&&r.type===wt.INPUT_VALUE&&r.targetConnection){if(e)return null;e=r}}return e}unplugFromStack_(e){let s=null;var r;if((r=this.previousConnection)!=null&&r.isConnected()&&(s=this.previousConnection.targetConnection,this.previousConnection.disconnect()),r=this.getNextBlock(),e&&r&&!r.isShadow()){let d,v;e=(v=(d=this.nextConnection)==null?void 0:d.targetConnection)!=null?v:null,e==null||e.disconnect(),s&&this.workspace.connectionChecker.canConnect(s,e,!1)&&s.connect(e)}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let s=0,r;r=this.inputList[s];s++)r.connection&&e.push(r.connection);return e}lastConnectionInStack(e){let s=this.nextConnection;for(;s;){const r=s.targetBlock();if(!r||e&&r.isShadow())return s;s=r.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let s=0,r;r=this.inputList[s];s++)if(r.connection&&r.connection.targetBlock()===e)return r;return null}getSurroundParent(){let e=this,s;do if(s=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===s);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,s=this;do e=s,s=e.parentBlock_;while(s);return e}getTopStackBlock(){let e=this,s;do s=e.getPreviousBlock();while(s&&s.getNextBlock()===e&&(e=s));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let r=0,d;d=this.inputList[r];r++)if(d.connection){var s=d.connection.targetBlock();s&&e.push(s)}return(s=this.getNextBlock())&&e.push(s),e}setParent(e){if(e!==this.parentBlock_){var s=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),r=!!s;if(r&&e&&s!==e)throw Error("Block connected to superior one that is not new parent.");if(!r&&e)throw Error("Block not connected to new parent.");if(r&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?Ce(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const s=[this],r=this.getChildren(e);for(let d,v=0;d=r[v];v++)s.push(...d.getDescendants(e));return s}isDeletable(){return this.deletable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable_}setDeletable(e){this.deletable_=e}isMovable(){return this.movable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable_}setMovable(e){this.movable_=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(X(this,!0)):!0}isShadow(){return this.isShadow_}setShadow(e){this.isShadow_=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable_}setEditable(e){this.editable_=e;for(let s=0,r;r=this.inputList[s];s++)for(let d=0,v;v=r.fieldRow[d];d++)v.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||1<e.fieldRow.length)return!1;return!0}getMatchingConnection(e,s){const r=this.getConnections_(!0);if(e=e.getConnections_(!0),r.length!==e.length)throw Error("Connection lists did not match in length.");for(let d=0;d<e.length;d++)if(e[d]===s)return r[d];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return tu(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue_}setColour(e){e=ou(e),this.hue_=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.onchange=e,this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(let s=0,r;r=this.inputList[s];s++)for(let d=0,v;v=r.fieldRow[d];d++)if(v.name===e)return v;return null}getVars(){const e=[];for(let s=0,r;r=this.inputList[s];s++)for(let d=0,v;v=r.fieldRow[d];d++)v.referencesVariables()&&e.push(v.getValue());return e}getVarModels(){const e=[];for(let s=0,r;r=this.inputList[s];s++)for(let d=0,v;v=r.fieldRow[d];d++)if(v.referencesVariables()){const k=this.workspace.getVariableById(v.getValue());k&&e.push(k)}return e}updateVarName(e){for(let s=0,r;r=this.inputList[s];s++)for(let d=0,v;v=r.fieldRow[d];d++)v.referencesVariables()&&e.getId()===v.getValue()&&v.refreshVariableName()}renameVarById(e,s){for(let r=0,d;d=this.inputList[r];r++)for(let v=0,k;k=d.fieldRow[v];v++)k.referencesVariables()&&e===k.getValue()&&k.setValue(s)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,s){const r=this.getField(s);if(!r)throw Error('Field "'+s+'" not found.');r.setValue(e)}setPreviousStatement(e,s){if(e)s===void 0&&(s=null),this.previousConnection||(this.previousConnection=this.makeConnection_(wt.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(s);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,s){if(e)s===void 0&&(s=null),this.nextConnection||(this.nextConnection=this.makeConnection_(wt.NEXT_STATEMENT)),this.nextConnection.setCheck(s);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,s){if(e)s===void 0&&(s=null),this.outputConnection||(this.outputConnection=this.makeConnection_(wt.OUTPUT_VALUE)),this.outputConnection.setCheck(s);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&($(new(M(o.CHANGE$$module$build$src$core$events$utils))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof Oi&&this.inputList[e]instanceof Oi)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof o.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof Oi)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof fr)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}get disabled(){return Vr("disabled","v11","v12","the isEnabled or hasDisabledReason methods of Block"),this.hasDisabledReason(Ss)}set disabled(e){Vr("disabled","v11","v12","the setDisabledReason method of Block"),this.setDisabledReason(e,Ss)}setEnabled(e){Vr("setEnabled","v11","v12","the setDisabledReason method of Block"),this.setDisabledReason(!e,Ss)}setDisabledReason(e,s){this.disabledReasons.has(s)!==e&&(e?this.disabledReasons.add(s):this.disabledReasons.delete(s),e=new(M(o.CHANGE$$module$build$src$core$events$utils))(this,"disabled",null,!e,e),e.setDisabledReason(s),$(e))}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(!e.isEnabled())return!0;e=e.getSurroundParent()}return!1}hasDisabledReason(e){return this.disabledReasons.has(e)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&($(new(M(o.CHANGE$$module$build$src$core$events$utils))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,s){s=this.toTokens(s);for(let d=2;d<s.length;d++)s[d-2]==="("&&s[d]===")"&&(s[d-2]=s[d-1],s.splice(d-1,2));let r="";return s=s.reduce((d,v)=>(d=d+(r==="("||v===")"?"":" ")+v,r=v[v.length-1],d),""),s=s.trim()||"???",e&&s.length>e&&(s=s.substring(0,e-3)+"..."),s}toTokens(e="?"){const s=[];for(const d of this.inputList)if(d.name!=$d){for(const v of d.fieldRow)s.push(v.getText());if(d.connection){const v=d.connection.targetBlock();if(v){var r=d.connection;let k=r.getCheck();!k&&r.targetConnection&&(k=r.targetConnection.getCheck()),(r=!!k&&(k.includes("Boolean")||k.includes("Number")))&&s.push("("),s.push(...v.toTokens(e)),r&&s.push(")")}else s.push(e)}}return s}appendValueInput(e){return this.appendInput(new o.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new ms(e,this))}appendDummyInput(e=""){return this.appendInput(new Oi(e,this))}appendEndRowInput(e=""){return this.appendInput(new fr(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,s){return(e=p(ut.INPUT,e,!1))?this.appendInput(new e(s,this)):null}jsonInit(e){var s=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(s+"Must not have both an output and a previousStatement.");for(var r=0;e["args"+r];){if(e["message"+r]===void 0)throw Error(s+`args${r} must have a corresponding message (message${r}).`);r++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(s+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle_(e,s):this.jsonInitColour_(e,s),r=0;e["message"+r]!==void 0;)this.interpolate_(e["message"+r],e["args"+r]||[],e["implicitAlign"+r]||e["lastDummyAlign"+r],s),r++;if(e.inputsInline!==void 0&&(o.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),o.enable$$module$build$src$core$events$utils()),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(r=Un(e.tooltip),this.setTooltip(r)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(r=Un(e.helpUrl),this.setHelpUrl(r)),typeof e.extensions=="string"&&(console.warn(s+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&Rp(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(s=0;s<e.length;s++)Rp(e[s],this,!1)}jsonInitColour_(e,s){if("colour"in e)if(e.colour===void 0)console.warn(s+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch{console.warn(s+"Illegal colour value: ",e)}}}jsonInitStyle_(e,s){e=e.style;try{this.setStyle(e)}catch{console.warn(s+"Style does not exist: ",e)}}mixin(e,s){if(s!==void 0&&typeof s!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!s){s=[];for(const r in e)this[r]!==void 0&&s.push(r);if(s.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(s))}Object.assign(this,e)}interpolate_(e,s,r,d){e=M$(e),this.validateTokens_(e,s.length),s=this.interpolateArguments_(e,s,r),r=[];for(let v=0,k;k=s[v];v++)if(this.isInputKeyword_(k.type)){if(e=this.inputFromJson_(k,d)){for(let J=0,ge;ge=r[J];J++)e.appendField(ge[0],ge[1]);r.length=0}}else(e=this.fieldFromJson_(k))&&r.push([e,k.name])}validateTokens_(e,s){const r=[];let d=0;for(let v=0;v<e.length;v++){const k=e[v];if(typeof k=="number"){if(1>k||k>s)throw Error('Block "'+this.type+'": Message index %'+k+" out of range.");if(r[k])throw Error('Block "'+this.type+'": Message index %'+k+" duplicated.");r[k]=!0,d++}}if(d!==s)throw Error('Block "'+this.type+'": Message does not reference all '+s+" arg(s).")}interpolateArguments_(e,s,r){const d=[];for(let k=0;k<e.length;k++){var v=e[k];if(typeof v=="number"&&(v=s[v-1]),typeof v=="string"){if(v===`
`)v={type:"input_end_row"},r&&(v.align=r);else if(v=this.stringToFieldJson_(v),!v)continue}d.push(v)}return(e=d.length)&&!this.isInputKeyword_(d[e-1].type)&&(e={type:"input_dummy"},r&&(e.align=r),d.push(e)),d}fieldFromJson_(e){const s=o.fromJson$$module$build$src$core$field_registry(e);return!s&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):s}inputFromJson_(e,s){var r={LEFT:o.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:o.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:o.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:o.Align$$module$build$src$core$inputs$align.CENTRE};let d;switch(e.type){case"input_value":d=this.appendValueInput(e.name);break;case"input_statement":d=this.appendStatementInput(e.name);break;case"input_dummy":d=this.appendDummyInput(e.name);break;case"input_end_row":d=this.appendEndRowInput(e.name);break;default:d=this.appendInputFromRegistry(e.type,e.name)}return d?(e.check&&d.setCheck(e.check),e.align&&(r=r[e.align.toUpperCase()],r===void 0?console.warn(s+"Illegal align value: ",e.align):d.setAlign(r)),d):null}isInputKeyword_(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"||e==="input_end_row"||h(ut.INPUT,e)}stringToFieldJson_(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,s){if(e!==s){var r=-1,d=s?-1:this.inputList.length;for(let v=0,k;k=this.inputList[v];v++)if(k.name===e){if(r=v,d!==-1)break}else if(s&&k.name===s&&(d=v,r!==-1))break;if(r===-1)throw Error('Named input "'+e+'" not found.');if(d===-1)throw Error('Reference input "'+s+'" not found.');this.moveNumberedInputBefore(r,d)}}moveNumberedInputBefore(e,s){if(e===s)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(s>this.inputList.length)throw RangeError("Reference input "+s+" out of bounds.");const r=this.inputList[e];this.inputList.splice(e,1),e<s&&s--,this.inputList.splice(s,0,r)}removeInput(e,s){for(let r=0,d;d=this.inputList[r];r++)if(d.name===e)return d instanceof ms&&this.statementInputCount--,d.dispose(),this.inputList.splice(r,1),!0;if(s)return!1;throw Error("Input not found: "+e)}getInput(e){for(let s=0,r;r=this.inputList[s];s++)if(r.name===e)return r;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,s;return(s=(e=this.getIcon(Jn.COMMENT))==null?void 0:e.getText())!=null?s:null}setCommentText(e){var s;let r;const d=(r=(s=this.getIcon(Jn.COMMENT))==null?void 0:s.getText())!=null?r:null;if(d!==e){if(e!==null){if(s=this.getIcon(Jn.COMMENT),!s){if(s=p(ut.ICON,Jn.COMMENT.toString(),!1),!s)throw Error("No comment icon class is registered, so a comment cannot be set");if(s=new s(this),!IS(s))throw Error("The class registered as a comment icon does not conform to the ICommentIcon interface");s=this.addIcon(s)}o.disable$$module$build$src$core$events$utils(),s.setText(e),o.enable$$module$build$src$core$events$utils()}else this.removeIcon(Jn.COMMENT);$(new(M(o.CHANGE$$module$build$src$core$events$utils))(this,"comment",null,d,e))}}setWarningText(e,s){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new lw(e);return this.icons.push(e),this.icons.sort((s,r)=>s.getWeight()-r.getWeight()),e}removeIcon(e){if(!this.hasIcon(e))return!1;let s;return(s=this.getIcon(e))==null||s.dispose(),this.icons=this.icons.filter(r=>!r.getType().equals(e)),!0}hasIcon(e){return this.icons.some(s=>s.getType().equals(e))}getIcon(e){return e instanceof Jn?this.icons.find(s=>s.getType().equals(e)):this.icons.find(s=>s.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy_}moveBy(e,s,r){if(this.parentBlock_)throw Error("Block has parent");const d=new(M(o.MOVE$$module$build$src$core$events$utils))(this);r&&d.setReason(r),this.xy_.translate(e,s),d.recordNew(),$(d)}makeConnection_(e){return new dn(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let r=0,d;d=this.inputList[r];r++)if(d.connection){var s=d.connection.targetBlock();if(!s||!s.allInputsFilled(e))return!1}return(s=this.getNextBlock())?s.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};aa.COLLAPSED_INPUT_NAME=$d,aa.COLLAPSED_FIELD_NAME=Zp;var Os=class{constructor(e,s,r,d){this.workspace=e,this.targetWorkspace=s,this.isFlyoutLabel=d,this.onMouseUpWrapper=null,this.height=this.width=0,this.cursorSvg=this.svgText=this.svgGroup=null,this.text=r.text,this.position=new ht(0,0),this.callbackKey=r.callbackKey||r.callbackkey,this.cssClass=r["web-class"]||null,this.info=r}createDom(){var e=this.isFlyoutLabel?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass&&(e+=" "+this.cssClass),this.svgGroup=ue(Be.G,{class:e},this.workspace.getCanvas());let s;this.isFlyoutLabel||(s=ue(Be.RECT,{class:"blocklyFlyoutButtonShadow",rx:Os.BORDER_RADIUS,ry:Os.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=ue(Be.RECT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Os.BORDER_RADIUS,ry:Os.BORDER_RADIUS},this.svgGroup);const r=ue(Be.TEXT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup);var d=Un(this.text);this.workspace.RTL&&(d+="‏"),r.textContent=d,this.isFlyoutLabel&&(this.svgText=r,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill"));const v=re(r,"fontSize"),k=re(r,"fontWeight"),J=re(r,"fontFamily");if(this.width=Ye(r,v,k,J),d=A(d,v,k,J),this.height=d.height,!this.isFlyoutLabel){this.width+=2*Os.TEXT_MARGIN_X,this.height+=2*Os.TEXT_MARGIN_Y;let ge;(ge=s)==null||ge.setAttribute("width",String(this.width));let Xe;(Xe=s)==null||Xe.setAttribute("height",String(this.height))}return e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),r.setAttribute("x",String(this.width/2)),r.setAttribute("y",String(this.height/2-d.height/2+d.baseline)),this.updateTransform(),this.onMouseUpWrapper=ve(this.svgGroup,"pointerup",this,this.onMouseUp),this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,s){this.position.x=e,this.position.y=s,this.updateTransform()}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){this.onMouseUpWrapper&&He(this.onMouseUpWrapper),this.svgGroup&&q(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(e){e?this.svgGroup&&(this.svgGroup.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(){throw Error("Attempted to set a marker on a button.")}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isFlyoutLabel&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isFlyoutLabel||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}};Os.TEXT_MARGIN_X=5,Os.TEXT_MARGIN_Y=2,Os.BORDER_RADIUS=4,De(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var nt=class{constructor(e,s,r){if(this.wsCoordinate=null,!s)throw Error("Cannot create a node without a location.");this.type=e,this.isConnectionLocation=nt.isConnectionType(e),this.location=s,this.processParams(r||null)}processParams(e){e&&e.wsCoordinate&&(this.wsCoordinate=e.wsCoordinate)}getLocation(){return this.location}getType(){return this.type}getWsCoordinate(){return this.wsCoordinate}isConnection(){return this.isConnectionLocation}findNextForInput(){var e=this.location.getParentInput();const s=e.getSourceBlock();for(e=s.inputList.indexOf(e),e+=1;e<s.inputList.length;e++){const r=s.inputList[e],d=r.fieldRow;for(let v=0;v<d.length;v++){const k=d[v];if(k.isClickable()||nt.NAVIGATE_ALL_FIELDS)return nt.createFieldNode(k)}if(r.connection)return nt.createInputNode(r)}return null}findNextForField(){var e=this.location,s=e.getParentInput();const r=e.getSourceBlock();if(!r)throw Error("The current AST location is not associated with a block");var d=r.inputList.indexOf(s);for(e=s.fieldRow.indexOf(e)+1;d<r.inputList.length;d++){s=r.inputList[d];const v=s.fieldRow;for(;e<v.length;){if(v[e].isClickable()||nt.NAVIGATE_ALL_FIELDS)return nt.createFieldNode(v[e]);e++}if(e=0,s.connection)return nt.createInputNode(s)}return null}findPrevForInput(){const e=this.location.getParentInput(),s=e.getSourceBlock();for(var r=s.inputList.indexOf(e);0<=r;r--){var d=s.inputList[r];if(d.connection&&d!==e)return nt.createInputNode(d);d=d.fieldRow;for(let v=d.length-1;0<=v;v--){const k=d[v];if(k.isClickable()||nt.NAVIGATE_ALL_FIELDS)return nt.createFieldNode(k)}}return null}findPrevForField(){var e=this.location;const s=e.getParentInput(),r=e.getSourceBlock();if(!r)throw Error("The current AST location is not associated with a block");var d=r.inputList.indexOf(s);for(e=s.fieldRow.indexOf(e)-1;0<=d;d--){var v=r.inputList[d];if(v.connection&&v!==s)return nt.createInputNode(v);for(v=v.fieldRow;-1<e;){if(v[e].isClickable()||nt.NAVIGATE_ALL_FIELDS)return nt.createFieldNode(v[e]);e--}0<=d-1&&(e=r.inputList[d-1].fieldRow.length-1)}return null}navigateBetweenStacks(e){var s=this.getLocation();if(s.getSourceBlock){var r=s.getSourceBlock();r&&(s=r)}if(!s||s.isDeadOrDying())return null;if(s.workspace.isFlyout)return this.navigateFlyoutContents(e);r=s.getRootBlock(),s=r.workspace.getTopBlocks(!0);for(let d=0;d<s.length;d++)if(r.id===s[d].id)return e=d+(e?1:-1),e===-1||e===s.length?null:nt.createStackNode(s[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")}navigateFlyoutContents(e){let s;switch(this.getType()){case nt.types.STACK:s=this.getLocation();var r=s.workspace.targetWorkspace;break;case nt.types.BUTTON:s=this.getLocation(),r=s.getTargetWorkspace();break;default:return null}return r=r.getFlyout(),r&&(e=this.findNextLocationInFlyout(r.getContents(),s,e))?e.type==="button"&&e.button?nt.createButtonNode(e.button):e.type==="block"&&e.block?nt.createStackNode(e.block):null:null}findNextLocationInFlyout(e,s,r){const d=e.findIndex(v=>s instanceof aa&&v.block===s||s instanceof Os&&v.button===s);return 0>d?null:(r=r?d+1:d-1,r===-1||r===e.length?null:e[r])}findTopASTNodeForBlock(e){const s=rd(e);return s?nt.createConnectionNode(s):nt.createBlockNode(e)}getOutAstNodeForBlock(e){if(!e)return null;e=e.getTopStackBlock();const s=rd(e);return s&&s.targetConnection&&s.targetConnection.getParentInput()?nt.createInputNode(s.targetConnection.getParentInput()):nt.createStackNode(e)}findFirstFieldOrInput(e){e=e.inputList;for(let s=0;s<e.length;s++){const r=e[s],d=r.fieldRow;for(let v=0;v<d.length;v++){const k=d[v];if(k.isClickable()||nt.NAVIGATE_ALL_FIELDS)return nt.createFieldNode(k)}if(r.connection)return nt.createInputNode(r)}return null}getSourceBlock(){return this.getType()===nt.types.BLOCK?this.getLocation():this.getType()===nt.types.STACK?this.getLocation():this.getType()===nt.types.WORKSPACE||this.getType()===nt.types.BUTTON?null:this.getLocation().getSourceBlock()}next(){switch(this.type){case nt.types.STACK:return this.navigateBetweenStacks(!0);case nt.types.OUTPUT:return nt.createBlockNode(this.location.getSourceBlock());case nt.types.FIELD:return this.findNextForField();case nt.types.INPUT:return this.findNextForInput();case nt.types.BLOCK:const e=this.location.nextConnection;if(!e)break;return nt.createConnectionNode(e);case nt.types.PREVIOUS:return nt.createBlockNode(this.location.getSourceBlock());case nt.types.NEXT:return nt.createConnectionNode(this.location.targetConnection);case nt.types.BUTTON:return this.navigateFlyoutContents(!0)}return null}in(){switch(this.type){case nt.types.WORKSPACE:const e=this.location.getTopBlocks(!0);if(0<e.length)return nt.createStackNode(e[0]);break;case nt.types.STACK:return this.findTopASTNodeForBlock(this.location);case nt.types.BLOCK:return this.findFirstFieldOrInput(this.location);case nt.types.INPUT:return nt.createConnectionNode(this.location.targetConnection)}return null}prev(){switch(this.type){case nt.types.STACK:return this.navigateBetweenStacks(!1);case nt.types.FIELD:return this.findPrevForField();case nt.types.INPUT:return this.findPrevForInput();case nt.types.BLOCK:var e=rd(this.location);if(!e)break;return nt.createConnectionNode(e);case nt.types.PREVIOUS:if((e=this.location.targetConnection)&&!e.getParentInput())return nt.createConnectionNode(e);break;case nt.types.NEXT:return nt.createBlockNode(this.location.getSourceBlock());case nt.types.BUTTON:return this.navigateFlyoutContents(!1)}return null}out(){switch(this.type){case nt.types.STACK:var e=this.location,s=e.getRelativeToSurfaceXY();return s=new ht(s.x,s.y+nt.DEFAULT_OFFSET_Y),nt.createWorkspaceNode(e.workspace,s);case nt.types.OUTPUT:return e=this.location,(s=e.targetConnection)?nt.createConnectionNode(s):nt.createStackNode(e.getSourceBlock());case nt.types.FIELD:if(e=this.location.getSourceBlock(),!e)throw Error("The current AST location is not associated with a block");return nt.createBlockNode(e);case nt.types.INPUT:return nt.createBlockNode(this.location.getSourceBlock());case nt.types.BLOCK:return this.getOutAstNodeForBlock(this.location);case nt.types.PREVIOUS:return this.getOutAstNodeForBlock(this.location.getSourceBlock());case nt.types.NEXT:return this.getOutAstNodeForBlock(this.location.getSourceBlock())}return null}static isConnectionType(e){switch(e){case nt.types.PREVIOUS:case nt.types.NEXT:case nt.types.INPUT:case nt.types.OUTPUT:return!0}return!1}static createFieldNode(e){return e?new nt(nt.types.FIELD,e):null}static createConnectionNode(e){if(!e)return null;const s=e.type;return s===wt.INPUT_VALUE||s===wt.NEXT_STATEMENT&&e.getParentInput()?nt.createInputNode(e.getParentInput()):s===wt.NEXT_STATEMENT?new nt(nt.types.NEXT,e):s===wt.OUTPUT_VALUE?new nt(nt.types.OUTPUT,e):s===wt.PREVIOUS_STATEMENT?new nt(nt.types.PREVIOUS,e):null}static createInputNode(e){return e&&e.connection?new nt(nt.types.INPUT,e.connection):null}static createBlockNode(e){return e?new nt(nt.types.BLOCK,e):null}static createStackNode(e){return e?new nt(nt.types.STACK,e):null}static createButtonNode(e){return e?new nt(nt.types.BUTTON,e):null}static createWorkspaceNode(e,s){return s&&e?new nt(nt.types.WORKSPACE,e,{wsCoordinate:s}):null}static createTopNode(e){const s=rd(e);return s?nt.createConnectionNode(s):nt.createBlockNode(e)}};nt.NAVIGATE_ALL_FIELDS=!1,nt.DEFAULT_OFFSET_Y=-20,function(e){e=e.types||(e.types={}),e.FIELD="field",e.BLOCK="block",e.INPUT="input",e.OUTPUT="output",e.NEXT="next",e.PREVIOUS="previous",e.STACK="stack",e.WORKSPACE="workspace",e.BUTTON="button"}(nt||(nt={}));var W_=class extends Si{constructor(e,s,r,d){let v=e?e.workspace.id:void 0;d&&d.getType()===nt.types.WORKSPACE&&(v=d.getLocation().id),super(v),this.type=hu,this.blockId=e==null?void 0:e.id,this.oldNode=r||void 0,this.newNode=d,this.isCursor=s}toJson(){const e=super.toJson();if(this.isCursor===void 0)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new W_),s.isCursor=e.isCursor,s.blockId=e.blockId,s.oldNode=e.oldNode,s.newNode=e.newNode,s}};i(ut.EVENT,hu,W_);var Dx="blocklyCursor",Px="blocklyMarker",xx=.75,z_=class{constructor(e,s,r){this.workspace=e,this.marker=r,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent=null,this.constants_=s,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=r.colour||e}getSvgRoot(){return this.svgGroup_}getMarker(){return this.marker}isCursor(){return this.marker.type==="cursor"}createDom(){const e=this.isCursor()?Dx:Px;return this.svgGroup_=ue(Be.G,{class:e}),this.createDomInternal_(),this.svgGroup_}setParent_(e){this.isCursor()?(this.parent&&this.parent.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent&&this.parent.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent=e}draw(e,s){if(s){this.constants_=this.workspace.getRenderer().getConstants();var r=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||r,this.applyColour_(s),this.showAtLocation_(s),this.fireMarkerEvent(e,s),e=this.currentMarkerSvg.childNodes[0],e!==void 0&&e.beginElement&&e.beginElement()}else this.hide()}showAtLocation_(e){const s=e.getLocation().type;e.getType()===nt.types.BLOCK?this.showWithBlock_(e):e.getType()===nt.types.OUTPUT?this.showWithOutput_(e):s===wt.INPUT_VALUE?this.showWithInput_(e):s===wt.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===nt.types.PREVIOUS?this.showWithPrevious_(e):e.getType()===nt.types.FIELD?this.showWithField_(e):e.getType()===nt.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===nt.types.STACK?this.showWithStack_(e):e.getType()===nt.types.BUTTON&&this.showWithButton_(e)}showWithBlockPrevOutput(e){e=e.getSourceBlock();const s=e.width;var r=e.height,d=r*xx;const v=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(r=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(s,v,d,r)):e.outputConnection?(d=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(s,r,d)):this.positionBlock_(s,v,d),this.setParent_(e),this.showCurrent_()}showWithBlock_(e){this.showWithBlockPrevOutput(e)}showWithPrevious_(e){this.showWithBlockPrevOutput(e)}showWithOutput_(e){this.showWithBlockPrevOutput(e)}showWithCoordinates_(e){var s=e.getWsCoordinate();e=s.x,s=s.y,this.workspace.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,s,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}showWithField_(e){e=e.getLocation();const s=e.getSize().width,r=e.getSize().height;this.positionRect_(0,0,s,r),this.setParent_(e),this.showCurrent_()}showWithInput_(e){e=e.getLocation();const s=e.getSourceBlock();this.positionInput_(e),this.setParent_(s),this.showCurrent_()}showWithNext_(e){var s=e.getLocation();e=s.getSourceBlock();let r=0;s=s.getOffsetInBlock().y;const d=e.getHeightWidth().width;this.workspace.RTL&&(r=-d),this.positionLine_(r,s,d),this.setParent_(e),this.showCurrent_()}showWithStack_(e){e=e.getLocation();var s=e.getHeightWidth();const r=s.width+this.constants_.CURSOR_STACK_PADDING;s=s.height+this.constants_.CURSOR_STACK_PADDING;const d=-this.constants_.CURSOR_STACK_PADDING/2,v=-this.constants_.CURSOR_STACK_PADDING/2;let k=d;this.workspace.RTL&&(k=-(r+d)),this.positionRect_(k,v,r,s),this.setParent_(e),this.showCurrent_()}showWithButton_(e){e=e.getLocation();const s=e.width+this.constants_.CURSOR_STACK_PADDING,r=e.height+this.constants_.CURSOR_STACK_PADDING,d=-this.constants_.CURSOR_STACK_PADDING/2,v=-this.constants_.CURSOR_STACK_PADDING/2;let k=d;this.workspace.RTL&&(k=-(s+d)),this.positionRect_(k,v,s,r),this.setParent_(e),this.showCurrent_()}showCurrent_(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}positionBlock_(e,s,r){if(e=Rn(-s,r)+kt("V",-s)+kt("H",e+2*s)+kt("V",r),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionInput_(e){const s=e.getOffsetInBlock().x,r=e.getOffsetInBlock().y;e=eo(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+s+","+r+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}positionLine_(e,s,r){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",`${e}`),this.markerSvgLine_.setAttribute("y",`${s}`),this.markerSvgLine_.setAttribute("width",`${r}`),this.currentMarkerSvg=this.markerSvgLine_}positionOutput_(e,s,r){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");e=Rn(e,0)+kt("h",-(e-r.width))+kt("v",this.constants_.TAB_OFFSET_FROM_TOP)+r.pathDown+kt("V",s)+kt("H",e),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionPrevious_(e,s,r,d){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");e=Rn(-s,r)+kt("V",-s)+kt("H",this.constants_.NOTCH_OFFSET_LEFT)+d.pathLeft+kt("H",e+2*s)+kt("V",r),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionRect_(e,s,r,d){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",`${e}`),this.markerSvgRect_.setAttribute("y",`${s}`),this.markerSvgRect_.setAttribute("width",`${r}`),this.markerSvgRect_.setAttribute("height",`${d}`),this.currentMarkerSvg=this.markerSvgRect_}flipRtl(e){e.setAttribute("transform","scale(-1 1)")}hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}fireMarkerEvent(e,s){const r=s.getSourceBlock();e=new(M(hu))(r,this.isCursor(),e,s),$(e)}getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}createDomInternal_(){if(this.markerSvg_=ue(Be.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=ue(Be.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.markerSvg_),this.markerSvgRect_=ue(Be.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10},this.markerSvg_),this.markerInput_=ue(Be.PATH,{transform:""},this.markerSvg_),this.markerBlock_=ue(Be.PATH,{transform:"",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();ue(Be.ANIMATE,e,this.markerSvgLine_),ue(Be.ANIMATE,e,this.markerInput_),ue(Be.ANIMATE,Object.assign({},e,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}applyColour_(e){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",e),this.markerInput_.firstElementChild.setAttribute("values",e),this.markerBlock_.firstElementChild.setAttribute("values",e))}dispose(){this.svgGroup_&&q(this.svgGroup_)}},Cf=class{constructor(e,s,r){this.markerSvg=this.cursorSvg=null,this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=r,this.style=s,this.svgRoot=e,this.svgPath=ue(Be.PATH,{class:"blocklyPath"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}setCursorSvg(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,s){e&&(s?we(this.svgRoot,e):Ge(this.svgRoot,e))}updateHighlighted(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}updateShadow_(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}updateDisabled_(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,s){}addConnectionHighlight(e,s,r,d){if(this.connectionHighlights.has(e)){if(this.currentHighlightMatchesNew(e,s,r))return;this.removeConnectionHighlight(e)}s=ue(Be.PATH,{class:"blocklyHighlightedConnectionPath",d:s,transform:`translate(${r.x}, ${r.y})`+(d?" scale(-1 1)":"")},this.svgRoot),this.connectionHighlights.set(e,s)}currentHighlightMatchesNew(e,s,r){let d;const v=(d=this.connectionHighlights.get(e))==null?void 0:d.getAttribute("d");return e=this.highlightOffsets.get(e),v===s&&ht.equals(e,r)}removeConnectionHighlight(e){const s=this.connectionHighlights.get(e);s&&(q(s),this.connectionHighlights.delete(e))}},Rs=class{constructor(e){this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,o.setSelected$$module$build$src$core$common(e),this.topBlock=e,this.workspace=e.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections(),this.lastOnStack&&(this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock()))}dispose(){this.availableConnections.length=0,this.disposeInsertionMarker(this.firstMarker),this.disposeInsertionMarker(this.lastMarker)}updateAvailableConnections(){this.availableConnections=this.initAvailableConnections()}wouldConnectBlock(){return!!this.activeCandidate}applyConnections(){if(this.activeCandidate){o.disable$$module$build$src$core$events$utils(),this.hidePreview(),o.enable$$module$build$src$core$events$utils();var{local:e,closest:s}=this.activeCandidate;e.connect(s);var r=e.isSuperior()?s:e,d=this.topBlock.getRootBlock();vi().then(()=>{kp(r.getSourceBlock()),setTimeout(()=>{d.bringToFront()},0)})}}update(e,s){const r=this.getCandidate(e);((this.wouldDeleteBlock=this.shouldDelete(!!r,s))||this.shouldUpdatePreviews(r,e))&&(o.disable$$module$build$src$core$events$utils(),this.maybeHidePreview(r),this.maybeShowPreview(r),o.enable$$module$build$src$core$events$utils())}createMarkerBlock(e){o.disable$$module$build$src$core$events$utils();let s;try{const r=cs(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!r)throw Error(`Failed to serialize source block. ${e.toDevString()}`);s=qi(r,this.workspace);for(const d of s.getDescendants(!1))d.setInsertionMarker(!0);s.initSvg(),s.getSvgRoot().setAttribute("visibility","hidden")}finally{o.enable$$module$build$src$core$events$utils()}return s}initAvailableConnections(){const e=this.topBlock.getConnections_(!1),s=this.topBlock.lastConnectionInStack(!0);return s&&s!==this.topBlock.nextConnection&&(e.push(s),this.lastOnStack=s),e}shouldUpdatePreviews(e,s){if(!e)return!!this.activeCandidate;if(!this.activeCandidate)return!0;const{local:r,closest:d}=this.activeCandidate;if(d===e.closest&&r===e.local)return!1;const v=r.x+s.x-d.x;return s=r.y+s.y-d.y,e.radius<Math.sqrt(v*v+s*s)-o.config$$module$build$src$core$config.currentConnectionPreference}getCandidate(e){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();let s=this.getStartRadius(),r=null;for(let d=0;d<this.availableConnections.length;d++){const v=this.availableConnections[d],k=v.closest(s,e);k.connection&&(r={closest:k.connection,local:v,radius:k.radius},s=k.radius)}return r}getStartRadius(){return this.activeCandidate?o.config$$module$build$src$core$config.connectingSnapRadius:o.config$$module$build$src$core$config.snapRadius}shouldDelete(e,s){return s&&this.workspace.getComponentManager().hasCapability(s.id,to.Capability.DELETE_AREA)?s.wouldDelete(this.topBlock):!1}maybeShowPreview(e){if(!this.wouldDeleteBlock&&e){var s=e.closest,r;s===((r=this.activeCandidate)==null?void 0:r.closest)||s.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=e,this.showPreview(this.activeCandidate))}}showPreview(e){const s=this.workspace.getRenderer();switch(s.getConnectionPreviewMethod(e.closest,e.local,this.topBlock)){case Rs.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(e);break;case Rs.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(e);break;case Rs.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(e)}s.shouldHighlightConnection(e.closest)&&e.closest.highlight()}maybeHidePreview(e){if(!e)this.hidePreview();else if(this.activeCandidate){const s=this.activeCandidate.local!==e.local;(this.activeCandidate.closest!==e.closest||s||this.wouldDeleteBlock)&&this.hidePreview()}this.activeCandidate=this.markerConnection=null}hidePreview(){let e;const s=(e=this.activeCandidate)==null?void 0:e.closest;s&&s.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(s)&&s.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}showInsertionMarker(e){const{local:s,closest:r}=e;let d=(e=this.lastOnStack&&s===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!d)throw Error("Cannot show the insertion marker because there is no insertion marker block");let v;try{v=d.getMatchingConnection(s.getSourceBlock(),s)}catch{if(e&&this.lastOnStack?(this.disposeInsertionMarker(this.lastMarker),d=this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock())):(this.disposeInsertionMarker(this.firstMarker),d=this.firstMarker=this.createMarkerBlock(this.topBlock)),!d)throw Error("Cannot show the insertion marker because there is no insertion marker block");v=d.getMatchingConnection(s.getSourceBlock(),s)}if(!v)throw Error("Cannot show the insertion marker because there is no associated connection");if(v===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");d.queueRender(),ji(),v.connect(r);const k={x:r.x-v.x,y:r.y-v.y},J=v.getOffsetInBlock().clone(),ge=v;vi().then(()=>{let Xe;(Xe=d)==null||Xe.positionNearConnection(ge,k,J);let It;(It=d)==null||It.getSvgRoot().setAttribute("visibility","visible")}),this.markerConnection=v}hideInsertionMarker(){if(this.markerConnection){var e=this.markerConnection,s=e.getSourceBlock(),r=s.outputConnection,d;if((d=s.previousConnection)!=null&&d.targetConnection||r!=null&&r.targetConnection)s.unplug(!0);else{let v;(v=e.targetBlock())==null||v.unplug(!1)}if(e.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(e=s.getSvgRoot())&&e.setAttribute("visibility","hidden")}}showInsertionInputOutline(e){e=e.closest,this.highlightedBlock=e.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(e,!0)}hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}showReplacementFade(e){if(this.fadedBlock=e.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}getInsertionMarkers(){const e=[];return this.firstMarker&&e.push(this.firstMarker),this.lastMarker&&e.push(this.lastMarker),e}disposeInsertionMarker(e){if(e){o.disable$$module$build$src$core$events$utils();try{e.dispose()}finally{o.enable$$module$build$src$core$events$utils()}}}};(function(e){e=e.PREVIEW_TYPE||(e.PREVIEW_TYPE={}),e[e.INSERTION_MARKER=0]="INSERTION_MARKER",e[e.INPUT_OUTLINE=1]="INPUT_OUTLINE",e[e.REPLACEMENT_FADE=2]="REPLACEMENT_FADE"})(Rs||(Rs={})),Rs.PREVIEW_TYPE;var Sf=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,s){this.constants_=this.makeConstants_(),s&&(this.overrides=s,Object.assign(this.constants_,s)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,s){this.constants_.createDom(e,this.name+"-"+s.name,"."+this.getClassName()+"."+s.getClassName())}refreshDom(e,s){const r=this.getConstants();r.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=r.randomIdentifier,this.constants_.setTheme(s),this.constants_.init(),this.createDom(e,s)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new yf}makeRenderInfo_(e){return new Md(this,e)}makeDrawer_(e,s){return new Ef(e,s)}makeMarkerDrawer(e,s){return new z_(e,this.getConstants(),s)}makePathObject(e,s){return new Cf(e,s,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,s,r){return!!dn.getConnectionForOrphanedConnection(e,r===wt.OUTPUT_VALUE?s.outputConnection:s.previousConnection)}getConnectionPreviewMethod(e,s,r){return Vr("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),s.type===wt.OUTPUT_VALUE||s.type===wt.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(r,e.targetBlock(),s.type)?Rs.PREVIEW_TYPE.INSERTION_MARKER:Rs.PREVIEW_TYPE.REPLACEMENT_FADE:Rs.PREVIEW_TYPE.INSERTION_MARKER}render(e){const s=this.makeRenderInfo_(e);s.measure(),this.makeDrawer_(e,s).draw()}},mn={};mn.BottomRow=x_,mn.Connection=pr,mn.ConstantProvider=yf,mn.Drawer=Ef,mn.ExternalValueInput=Tf,mn.Field=Mu,mn.Hat=B_,mn.Icon=uw,mn.InRowSpacer=fs,mn.InlineInput=F_,mn.InputConnection=qr,mn.InputRow=H_,mn.JaggedEdge=cw,mn.MarkerSvg=z_,mn.Measurable=ki,mn.NextConnection=dw,mn.OutputConnection=hw,mn.PathObject=Cf,mn.PreviousConnection=pw,mn.RenderInfo=Md,mn.Renderer=Sf,mn.RoundCorner=Nd,mn.Row=Rd,mn.SpacerRow=V_,mn.SquareCorner=Ld,mn.StatementInput=Ad,mn.TopRow=U_,mn.Types=Oe,mn.init=av,mn.register=ld,mn.unregister=wS;var mw=class{constructor(e,s){this.workspace=e,this.theme=s,this.subscribedWorkspaces_=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var s=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(s&&(s=s.getClassName())&&Ge(e,s),(s=this.theme.getClassName())&&we(e,s));for(let r=0,d;d=this.subscribedWorkspaces_[r];r++)d.refreshTheme();for(const[r,d]of this.componentDB)for(const v of d){e=v.element,s=v.propertyName;const k=this.theme&&this.theme.getComponentStyle(r);e.style.setProperty(s,k||"")}for(const r of this.subscribedWorkspaces_)r.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces_.push(e)}unsubscribeWorkspace(e){if(!Ce(this.subscribedWorkspaces_,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,s,r){this.componentDB.has(s)||this.componentDB.set(s,[]),this.componentDB.get(s).push({element:e,propertyName:r}),s=this.theme&&this.theme.getComponentStyle(s),e.style.setProperty(r,s||"")}unsubscribe(e){if(e)for(const[s,r]of this.componentDB){for(let d=r.length-1;0<=d;d--)r[d].element===e&&r.splice(d,1);r.length||this.componentDB.delete(s)}}dispose(){this.subscribedWorkspaces_.length=0,this.componentDB.clear()}},K_="VARIABLE_DYNAMIC",ua={CATEGORY_NAME:K_};ua.flyoutCategory=Pp,ua.flyoutCategoryBlocks=hv,ua.onCreateVariableButtonClick_Colour=dv,ua.onCreateVariableButtonClick_Number=cv,ua.onCreateVariableButtonClick_String=uv;var gw=30,ca=[];ca[wt.INPUT_VALUE]=wt.OUTPUT_VALUE,ca[wt.OUTPUT_VALUE]=wt.INPUT_VALUE,ca[wt.NEXT_STATEMENT]=wt.PREVIOUS_STATEMENT,ca[wt.PREVIOUS_STATEMENT]=wt.NEXT_STATEMENT;var X_="RENAME_VARIABLE_ID",Y_="DELETE_VARIABLE_ID",$w=class{canConnect(e,s,r,d){return this.canConnectWithReason(e,s,r,d)===dn.CAN_CONNECT}canConnectWithReason(e,s,r,d){const v=this.doSafetyChecks(e,s);return v!==dn.CAN_CONNECT?v:this.doTypeChecks(e,s)?r&&!this.doDragChecks(e,s,d||0)?dn.REASON_DRAG_CHECKS_FAILED:dn.CAN_CONNECT:dn.REASON_CHECKS_FAILED}getErrorMessage(e,s,r){switch(e){case dn.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case dn.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case dn.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case dn.REASON_TARGET_NULL:return"Target connection is null.";case dn.REASON_CHECKS_FAILED:return"Connection checks failed. "+(s+" expected "+s.getCheck()+", found "+r.getCheck());case dn.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case dn.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case dn.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,s){if(!e||!s)return dn.REASON_TARGET_NULL;let r,d,v;return e.isSuperior()?(r=e.getSourceBlock(),d=s.getSourceBlock(),v=s):(d=e.getSourceBlock(),r=s.getSourceBlock(),v=e,e=s),r===d?dn.REASON_SELF_CONNECTION:v.type!==ca[e.type]?dn.REASON_WRONG_TYPE:r.workspace!==d.workspace?dn.REASON_DIFFERENT_WORKSPACES:r.isShadow()&&!d.isShadow()?dn.REASON_SHADOW_PARENT:v.type===wt.OUTPUT_VALUE&&d.previousConnection&&d.previousConnection.isConnected()||v.type===wt.PREVIOUS_STATEMENT&&d.outputConnection&&d.outputConnection.isConnected()?dn.REASON_PREVIOUS_AND_OUTPUT:dn.CAN_CONNECT}doTypeChecks(e,s){if(e=e.getCheck(),s=s.getCheck(),!e||!s)return!0;for(let r=0;r<e.length;r++)if(s.includes(e[r]))return!0;return!1}doDragChecks(e,s,r){if(e.distanceFrom(s)>r||s.getSourceBlock().isInsertionMarker())return!1;switch(s.type){case wt.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,s);case wt.OUTPUT_VALUE:if(s.isConnected()&&!s.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case wt.INPUT_VALUE:if(s.isConnected()&&!s.targetBlock().isMovable()&&!s.targetBlock().isShadow())return!1;break;case wt.NEXT_STATEMENT:if(s.isConnected()&&!e.getSourceBlock().nextConnection&&!s.targetBlock().isShadow()&&s.targetBlock().nextConnection||s.targetBlock()&&!s.targetBlock().isMovable()&&!s.targetBlock().isShadow())return!1;break;default:return!1}return!hd.includes(s)}canConnectToPrevious_(e,s){return e.targetConnection||hd.includes(s)?!1:s.targetConnection?(e=s.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};i(ut.CONNECTION_CHECKER,Ei,$w);var j_=class extends vd{constructor(e){super(e),this.type=Gl,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new j_),s.varType=e.varType,s.varName=e.varName,s}run(e){const s=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?s.deleteVariableById(this.varId):s.createVariable(this.varName,this.varType,this.varId)}};i(ut.EVENT,Gl,j_);var q_=class extends vd{constructor(e,s){super(e),this.type=cu,e&&(this.oldName=e.name,this.newName=typeof s>"u"?"":s)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new q_),s.oldName=e.oldName,s.newName=e.newName,s}run(e){const s=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");e?s.renameVariableById(this.varId,this.newName):s.renameVariableById(this.varId,this.oldName)}};i(ut.EVENT,cu,q_);var J_=class{constructor(e){this.workspace=e,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(;0<e.length;)this.deleteVariable(e[0]);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,s){if(e.name!==s){var r=this.getVariable(s,e.type),d=this.workspace.getAllBlocks(!1),v=o.getGroup$$module$build$src$core$events$utils();v||o.setGroup$$module$build$src$core$events$utils(!0);try{r&&r.getId()!==e.getId()?this.renameVariableWithConflict_(e,s,r,d):this.renameVariableAndUses_(e,s,d)}finally{o.setGroup$$module$build$src$core$events$utils(v)}}}renameVariableById(e,s){const r=this.getVariableById(e);if(!r)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(r,s)}renameVariableAndUses_(e,s,r){for($(new(M(cu))(e,s)),e.name=s,s=0;s<r.length;s++)r[s].updateVarName(e)}renameVariableWithConflict_(e,s,r,d){const v=e.type;for(s!==r.name&&this.renameVariableAndUses_(r,s,d),s=0;s<d.length;s++)d[s].renameVarById(e.getId(),r.getId());$(new(M(Gl))(e)),Ce(this.variableMap.get(v),e)}createVariable(e,s,r){var d=this.getVariable(e,s);if(d){if(r&&d.getId()!==r)throw Error('Variable "'+e+'" is already in use and its id is "'+d.getId()+'" which conflicts with the passed in id, "'+r+'".');return d}if(r&&this.getVariableById(r))throw Error('Variable id, "'+r+'", is already in use.');return d=r||b(),s=s||"",d=new _d(this.workspace,e,s,d),e=this.variableMap.get(s)||[],e.push(d),this.variableMap.delete(s),this.variableMap.set(s,e),$(new(M(er))(d)),d}deleteVariable(e){const s=e.getId(),r=this.variableMap.get(e.type);if(r){for(let d=0;d<r.length;d++)if(r[d].getId()===s){r.splice(d,1),$(new(M(Gl))(e)),r.length===0&&this.variableMap.delete(e.type);break}}}deleteVariableById(e){const s=this.getVariableById(e);if(s){var r=s.name;const d=this.getVariableUsesById(e);for(let v=0,k;k=d[v];v++)if(k.type==="procedures_defnoreturn"||k.type==="procedures_defreturn"){e=String(k.getFieldValue("NAME")),r=o.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",r).replace("%2",e),$o(r);return}1<d.length?(r=o.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",r),Zs(r,v=>{v&&s&&this.deleteVariableInternal(s,d)})):this.deleteVariableInternal(s,d)}else console.warn("Can't delete non-existent variable: "+e)}deleteVariableInternal(e,s){const r=o.getGroup$$module$build$src$core$events$utils();r||o.setGroup$$module$build$src$core$events$utils(!0);try{for(let d=0;d<s.length;d++)s[d].dispose(!0);this.deleteVariable(e)}finally{o.setGroup$$module$build$src$core$events$utils(r)}}getVariable(e,s){if(s=this.variableMap.get(s||"")){for(let r=0,d;d=s[r];r++)if(o.Names$$module$build$src$core$names.equals(d.name,e))return d}return null}getVariableById(e){for(const s of this.variableMap.values())for(const r of s)if(r.getId()===e)return r;return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?e.slice():[]}getVariableTypes(e){const s=new Set(this.variableMap.keys());if(e&&e.getPotentialVariableMap())for(const r of e.getPotentialVariableMap().variableMap.keys())s.add(r);return s.has("")||s.add(""),Array.from(s.values())}getAllVariables(){let e=[];for(const s of this.variableMap.values())e=e.concat(s);return e}getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map(e=>e.name)}getVariableUsesById(e){const s=[],r=this.workspace.getAllBlocks(!1);for(let d=0;d<r.length;d++){const v=r[d].getVarModels();if(v)for(let k=0;k<v.length;k++)v[k].getId()===e&&s.push(r[d])}return s}},Pu=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new QI,this.potentialVariableMap=null,this.id=b(),K(this),this.options=e||new ks({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(m(ut.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new J_(this)}dispose(){this.listeners.length=0,this.clear(),te(this)}sortObjects_(e,s){const r=Math.sin(mp(Pu.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getRelativeToSurfaceXY(),s=s.getRelativeToSurfaceXY(),e.y+r*e.x-(s.y+r*s.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!Ce(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const s=[].concat(this.topBlocks);return e&&1<s.length&&s.sort(this.sortObjects_.bind(this)),s}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){Ce(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,s=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),s&&e&&1<e.length&&e.sort(this.sortObjects_.bind(this)),e.filter(function(r){return!r.isInsertionMarker()})):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!Ce(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const s=[].concat(this.topComments);return e&&1<s.length&&s.sort(this.sortObjects_.bind(this)),s}getAllBlocks(e=!1){if(e){var s=this.getTopBlocks(!0);e=[];for(let r=0;r<s.length;r++)e.push(...s[r].getDescendants(!0))}else for(e=this.getTopBlocks(!1),s=0;s<e.length;s++)e.push(...e[s].getChildren(!1));return e.filter(function(r){return!r.isInsertionMarker()})}clear(){this.isClearing=!0;try{const e=o.getGroup$$module$build$src$core$events$utils();for(e||o.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();o.setGroup$$module$build$src$core$events$utils(e),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,s){this.variableMap.renameVariableById(e,s)}createVariable(e,s,r){return this.variableMap.createVariable(e,s,r)}getVariableUsesById(e){return this.variableMap.getVariableUsesById(e)}deleteVariableById(e){this.variableMap.deleteVariableById(e)}getVariable(e,s){return this.variableMap.getVariable(e,s)}getVariableById(e){return this.variableMap.getVariableById(e)}getVariablesOfType(e){return this.variableMap.getVariablesOfType(e)}getVariableTypes(){return this.variableMap.getVariableTypes(this)}getAllVariables(){return this.variableMap.getAllVariables()}getAllVariableNames(){return this.variableMap.getAllVariableNames()}getWidth(){return 0}newBlock(e,s){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let s=0;for(const r in e){if(e[r]>this.remainingCapacityOfType(r))return!1;s+=e[r]}return!(s>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var s=e?this.redoStack_:this.undoStack_,r=e?this.undoStack_:this.redoStack_;const d=s.pop();if(d){for(var v=[d];s.length&&d.group&&d.group===s[s.length-1].group;){const k=s.pop();k&&v.push(k)}for(s=0;s<v.length;s++)r.push(v[s]);v=I(v,e),o.setRecordUndo$$module$build$src$core$events$utils(!1);try{for(r=0;r<v.length;r++)v[r].run(e)}finally{o.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,C()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){Ce(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(let s=0;s<this.listeners.length;s++)(0,this.listeners[s])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,s){this.blockDB.set(e,s)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let s;return(s=this.commentDB.get(e))!=null?s:null}allInputsFilled(e){const s=this.getTopBlocks(!1);for(let r=0;r<s.length;r++)if(!s[r].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new J_(this)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const s=this.options.parentWorkspace;return this.isFlyout?s&&s.options&&(e=s.options.parentWorkspace):s&&(e=s),e}static getById(e){return F(e)}static getAll(){return B()}};Pu.SCAN_ANGLE=3;var Bx=100,vw=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound_=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,s){if(e.length){try{var r=new globalThis.Audio}catch{return}for(let v=0;v<e.length;v++){const k=e[v],J=k.match(/\.(\w+)$/);if(J&&r.canPlayType("audio/"+J[1])){var d=new globalThis.Audio(k);break}}d&&this.sounds.set(s,d)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const s=e.play();if(s!==void 0?s.then(e.pause).catch(function(){}):e.pause(),pd||hI)break}}play(e,s){if(!this.muted){var r=this.sounds.get(e);r?(e=new Date,this.lastSound_!==null&&e.getTime()-this.lastSound_.getTime()<Bx||(this.lastSound_=e,r=pd||qv?r:r.cloneNode(),r.volume=s===void 0?1:s,r.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,s)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},Fx=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e),this.animationLayer=this.createAnimationLayer(e)),e=this.createLayer(yu),we(e,"blocklyBlockCanvas"),e=this.createLayer(d_),we(e,"blocklyBubbleCanvas")}createDragLayer(e){const s=ue(Be.SVG,{class:"blocklyBlockDragSurface",xmlns:fd,"xmlns:html":Ii,"xmlns:xlink":ds,version:"1.1"});return e.append(s),ue(Be.G,{},s)}createAnimationLayer(e){const s=ue(Be.SVG,{class:"blocklyAnimationLayer",xmlns:fd,"xmlns:html":Ii,"xmlns:xlink":ds,version:"1.1"});return e.append(s),ue(Be.G,{},s)}appendToAnimationLayer(e){let s;const r=(s=this.dragLayer)==null?void 0:s.getAttribute("transform");if(r){let v;(v=this.animationLayer)==null||v.setAttribute("transform",r)}let d;(d=this.animationLayer)==null||d.appendChild(e.getSvgRoot())}translateLayers(e,s){e=`translate(${e.x}, ${e.y}) scale(${s})`;let r;(r=this.dragLayer)==null||r.setAttribute("transform",e);for(const[,d]of this.layers)d.setAttribute("transform",e)}moveToDragLayer(e){let s;(s=this.dragLayer)==null||s.appendChild(e.getSvgRoot())}moveOffDragLayer(e,s){this.append(e,s)}append(e,s){this.layers.has(s)||this.createLayer(s);let r;(r=this.layers.get(s))==null||r.appendChild(e.getSvgRoot())}createLayer(e){const s=this.workspace.getSvgGroup(),r=ue(Be.G,{});let d=!1;const v=[...this.layers].sort((k,J)=>k[0]-J[0]);for(const[k,J]of v)if(e<k){s.insertBefore(r,J),d=!0;break}return d||s.appendChild(r),this.layers.set(e,r),r}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(yu)}getBubbleLayer(){return this.layers.get(d_)}},Hx=20,As=class extends Pu{constructor(e){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.isVisible_=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.dragDeltaXY=null,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox_=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.metricsManager=new(m(ut.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||As.setTopLevelWorkspaceMetrics_,this.componentManager=new to,this.connectionDBList=Nu.init(this.connectionChecker),this.audioManager=new vw(e.parentWorkspace),this.grid=this.options.gridPattern?new N_(this.options.gridPattern,e.gridOptions):null,this.markerManager=new Cd(this),_o&&cp&&this.registerToolboxCategoryCallback(r_,cp),ua&&Pp&&this.registerToolboxCategoryCallback(K_,Pp),Go&&Mp&&(this.registerToolboxCategoryCallback(bf,Mp),this.addChangeListener(iv)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new mw(this,this.options.theme||mf),this.themeManager_.subscribeWorkspace(this);let s;this.renderer=av(this.options.renderer||"geras",this.getTheme(),(s=this.options.rendererOverrides)!=null?s:void 0),this.cachedParentSvgSize=new cn(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}setCursorSvg(e){this.markerManager.setCursorSvg(e)}setMarkerSvg(e){this.markerManager.setMarkerSvg(e)}getMarker(e){return this.markerManager?this.markerManager.getMarker(e):null}getCursor(){return this.markerManager?this.markerManager.getCursor():null}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=mf),this.themeManager_.setTheme(e)}refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(s){return!!s.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);const e=new(M(mu))(this.getTheme().name,this.id);$(e)}updateBlockStyles_(e){for(let s=0,r;r=e[s];s++){const d=r.getStyleName();d&&r.setStyle(d)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.isVisible_}getSvgXY(e){let s=0,r=0,d=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(d=this.scale);do{const v=Ie(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(d=1),s+=v.x*d,r+=v.y*d,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new ht(s,r)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new cn(e.width,e.height)}getOriginOffsetInPixels(){return Qe(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,s){return this.injectionDiv||(this.injectionDiv=s??null),this.svgGroup_=ue(Be.G,{class:"blocklyWorkspace"}),e&&(this.svgBackground_=ue(Be.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new Fx(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(ve(this.svgGroup_,"pointerdown",this,this.onMouseDown_,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),ve(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(m(ut.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=m(ut.CURSOR,this.options))&&this.markerManager.setCursor(new e),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&q(this.svgGroup_),this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&q(e.parentNode)}this.resizeHandlerWrapper&&(He(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null)}addTrashcan(){this.trashcan=As.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new EI(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}addFlyout(e){const s=new ks({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return s.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(m(ut.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(s):new(m(ut.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(s),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox_?this.toolbox_.getFlyout():null}getToolbox(){return this.toolbox_}updateScreenCalculations_(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox_&&this.toolbox_.position(),this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(to.Capability.POSITIONABLE,!0),s=this.getMetricsManager().getUiMetrics(),r=[];for(let d=0,v;v=e[d];d++){v.position(s,r);const k=v.getBoundingRectangle();k&&r.push(k)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()}updateScreenCalculationsIfScrolled(){const e=Bn();ht.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations_())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,s){const r=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,r.setAttribute("data-cached-width",`${e}`)),s!=null&&(this.cachedParentSvgSize.height=s,r.setAttribute("data-cached-height",`${s}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(S()){var e=this.scale,s=-this.scrollY,r=-this.scrollX;if(!(e===this.oldScale&&1>Math.abs(s-this.oldTop)&&1>Math.abs(r-this.oldLeft))){var d=new(M(Wr))(s,r,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=s,this.oldLeft=r,$(d)}}}translate(e,s){let r;(r=this.layerManager)==null||r.translateLayers(new ht(e,s),this.scale);let d;(d=this.grid)==null||d.moveTo(e,s),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.isVisible_=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e||this.hideChaff(!0))}render(){const e=this.getAllBlocks(!1);for(let s=e.length-1;0<=s;s--)e[s].queueRender();this.getTopBlocks().flatMap(s=>s.getDescendants(!1)).filter(s=>s.isInsertionMarker()).forEach(s=>s.queueRender()),vi().then(()=>void this.markerManager.updateMarkers())}highlightBlock(e,s){if(s===void 0){for(let r=0,d;d=this.highlightedBlocks[r];r++)d.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((s=s===void 0||s)?this.highlightedBlocks.includes(e)||this.highlightedBlocks.push(e):Ce(this.highlightedBlocks,e),e.setHighlighted(s))}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()}renameVariableById(e,s){super.renameVariableById(e,s),this.refreshToolboxSelection()}deleteVariableById(e){super.deleteVariableById(e),this.refreshToolboxSelection()}createVariable(e,s,r){return e=super.createVariable(e,s,r),this.refreshToolboxSelection(),e}recordDragTargets(){const e=this.componentManager.getComponents(to.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let s=0,r;r=e[s];s++){const d=r.getClientRect();d&&this.dragTargetAreas.push({component:r,clientRect:d})}}newBlock(e,s){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let s=0,r;r=this.dragTargetAreas[s];s++)if(r.clientRect.contains(e.clientX,e.clientY))return r.component;return null}onMouseDown_(e){const s=this.getGesture(e);s&&s.handleWsStart(e,this)}startDrag(e,s){e=Ae(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,this.dragDeltaXY=ht.difference(s,e)}moveDrag(e){return e=Ae(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,ht.sum(this.dragDeltaXY,e)}isDragging(){return this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel_(e){if(ar.inProgress())e.preventDefault(),e.stopPropagation();else{var s=this.options.zoomOptions&&this.options.zoomOptions.wheel,r=this.options.moveOptions&&this.options.moveOptions.wheel;if(s||r){var d=Fe(e);if(Jv)var v=e.metaKey;s&&(e.ctrlKey||v||!r)?(d=-d.y/50,s=Ae(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(s.x,s.y,d)):(s=this.scrollX-d.x,r=this.scrollY-d.y,e.shiftKey&&!d.x&&(s=this.scrollX-d.y,r=this.scrollY),this.scroll(s,r)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new yn(0,0,0,0);const s=e[0].getBoundingRectangle();for(let d=1;d<e.length;d++){var r=e[d];r.isInsertionMarker&&r.isInsertionMarker()||(r=r.getBoundingRectangle(),r.top<s.top&&(s.top=r.top),r.bottom>s.bottom&&(s.bottom=r.bottom),r.left<s.left&&(s.left=r.left),r.right>s.right&&(s.right=r.right))}return s}cleanUp(){this.setResizesEnabled(!1),o.setGroup$$module$build$src$core$events$utils(!0);const e=this.getTopBlocks(!0);let s=0;for(let r=0,d;d=e[r];r++){if(!d.isMovable())continue;const v=d.getRelativeToSurfaceXY();d.moveBy(-v.x,s-v.y,["cleanup"]),d.snapToGrid(),s=d.getRelativeToSurfaceXY().y+d.getHeightWidth().height+this.renderer.getConstants().MIN_BLOCK_HEIGHT}o.setGroup$$module$build$src$core$events$utils(!1),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.options.readOnly&&!this.isFlyout){var s=Zt.registry.getContextMenuOptions(Zt.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(s,e),nd(e,s,this.RTL,this)}}updateToolbox(e){if(e=qs(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(Pr(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(j(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,s,r){r=Math.pow(this.options.zoomOptions.scaleSpeed,r);const d=this.scale*r;if(this.scale!==d){d>this.options.zoomOptions.maxScale?r=this.options.zoomOptions.maxScale/this.scale:d<this.options.zoomOptions.minScale&&(r=this.options.zoomOptions.minScale/this.scale);var v=this.getCanvas().getCTM(),k=this.getParentSvg().createSVGPoint();k.x=e,k.y=s,k=k.matrixTransform(v.inverse()),e=k.x,s=k.y,v=v.translate(e*(1-r),s*(1-r)).scale(r),this.scrollX=v.e,this.scrollY=v.f,this.setScale(d)}}zoomCenter(e){var s=this.getMetrics();let r;this.flyout?(r=s.svgWidth?s.svgWidth/2:0,s=s.svgHeight?s.svgHeight/2:0):(r=s.viewWidth/2+s.absoluteLeft,s=s.viewHeight/2+s.absoluteTop),this.zoom(r,s,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),s=e.viewWidth;e=e.viewHeight;var r=this.getBlocksBoundingBox(),d=2*Hx,v=r.right-r.left+d;if(r=r.bottom-r.top+d,v){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),r+=this.flyout.getHeight()/this.scale):(s+=this.flyout.getWidth(),v+=this.flyout.getWidth()/this.scale)),s/=v,e/=r,o.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(s,e)),this.scrollCenter()}finally{o.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){we(this.getCanvas(),"blocklyCanvasTransitioning"),we(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){Ge(this.getCanvas(),"blocklyCanvasTransitioning"),Ge(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),s=(e.scrollWidth-e.viewWidth)/2,r=(e.scrollHeight-e.viewHeight)/2;s=-s-e.scrollLeft,r=-r-e.scrollTop,this.scroll(s,r)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,s){if(this.isMovable()){var r=e?this.getBlockById(e):null;if(r){e=r.getRelativeToSurfaceXY(),r=s?{height:r.height,width:r.width}:r.getHeightWidth();var d=this.scale;s=(e.x+(this.RTL?-1:1)*r.width/2)*d,e=(e.y+r.height/2)*d,r=this.getMetrics(),this.scroll(-(s-r.viewWidth/2),-(e-r.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}scroll(e,s){this.hideChaff(!0);const r=this.getMetrics();e=Math.min(e,-r.scrollLeft),s=Math.min(s,-r.scrollTop);const d=r.scrollTop+Math.max(0,r.scrollHeight-r.viewHeight);e=Math.max(e,-(r.scrollLeft+Math.max(0,r.scrollWidth-r.viewWidth))),s=Math.max(s,-d),this.scrollX=e,this.scrollY=s,this.scrollbar&&this.scrollbar.set(-(e+r.scrollLeft),-(s+r.scrollTop),!1),e+=r.absoluteLeft,s+=r.absoluteTop,this.translate(e,s)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){Ce(this.topBoundedElements,e)}getTopBoundedElements(){return[].concat(this.topBoundedElements)}setResizesEnabled(e){const s=!this.resizesEnabled&&e;this.resizesEnabled=e,s&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,s){if(typeof s!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,s)}getButtonCallback(e){let s;return(s=this.flyoutButtonCallbacks.get(e))!=null?s:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,s){if(typeof s!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,s)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){const s=e.type==="pointerdown",r=this.currentGesture_;return r?s&&r.hasStarted()?(console.warn("Tried to start the same gesture twice."),r.cancel(),null):r:s?this.currentGesture_=new ar(e,this):null}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){Ji(),td(this),_i(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(to.Capability.AUTOHIDEABLE,!0).forEach(s=>s.autoHide(e))}static setTopLevelWorkspaceMetrics_(e){const s=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(s.scrollLeft+(s.scrollWidth-s.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(s.scrollTop+(s.scrollHeight-s.viewHeight)*e.y)),this.translate(this.scrollX+s.absoluteLeft,this.scrollY+s.absoluteTop)}},Z_=class extends Si{constructor(e,s){super(s),this.type=pu,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new Z_),s.isOpen=e.isOpen,s}};i(ut.EVENT,pu,Z_);var Q_=class extends Si{constructor(e,s,r){super(r),this.type=du,this.oldElementId=e??void 0,this.newElementId=s??void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new Q_),s.oldElementId=e.oldElementId,s.newElementId=e.newElementId,s}};i(ut.EVENT,du,Q_);var _w=class{constructor(){this.drawer=this.curNode=this.colour=null,this.type="marker"}setDrawer(e){this.drawer=e}getDrawer(){return this.drawer}getCurNode(){return this.curNode}setCurNode(e){const s=this.curNode;this.curNode=e,this.drawer&&this.drawer.draw(s,this.curNode)}draw(){this.drawer&&this.drawer.draw(this.curNode,this.curNode)}hide(){this.drawer&&this.drawer.hide()}dispose(){this.getDrawer()&&this.getDrawer().dispose()}},eb=class extends _w{constructor(){super(),this.type="cursor"}next(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===nt.types.NEXT||e.getType()===nt.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e}in(){var e=this.getCurNode();if(!e)return null;(e.getType()===nt.types.PREVIOUS||e.getType()===nt.types.OUTPUT)&&(e=e.next());let s,r;return(e=(r=(s=e)==null?void 0:s.in())!=null?r:null)&&this.setCurNode(e),e}prev(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===nt.types.NEXT||e.getType()===nt.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e}out(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===nt.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null}};i(ut.CURSOR,Ei,eb);var Dd=class extends eb{constructor(){super()}next(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null}in(){return this.next()}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null}out(){return this.prev()}getNextNode_(e,s){if(!e)return null;const r=e.in()||e.next();return s(r)?r:r?this.getNextNode_(r,s):(e=this.findSiblingOrParent(e.out()),s(e)?e:e?this.getNextNode_(e,s):null)}getPreviousNode_(e,s){if(!e)return null;let r=e.prev();return r=r?this.getRightMostChild(r):e.out(),s(r)?r:r?this.getPreviousNode_(r,s):null}validNode_(e){let s=!1;return e=e&&e.getType(),(e===nt.types.OUTPUT||e===nt.types.INPUT||e===nt.types.FIELD||e===nt.types.NEXT||e===nt.types.PREVIOUS||e===nt.types.WORKSPACE)&&(s=!0),s}findSiblingOrParent(e){if(!e)return null;const s=e.next();return s||this.findSiblingOrParent(e.out())}getRightMostChild(e){if(!e.in())return e;for(e=e.in();e&&e.next();)e=e.next();return this.getRightMostChild(e)}};Dd.registrationName="basicCursor",i(ut.CURSOR,Dd.registrationName,Dd);var bw=class extends Dd{validNode_(e){let s=!1;const r=e&&e.getType();return e&&(e=e.getLocation(),r===nt.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(s=!0)),s}},tb=10,Wo=class extends dn{constructor(e,s){super(e,s),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[s],this.dbOpposite=e.workspace.connectionDBList[ca[s]],this.offsetInBlock=new ht(0,0),this.trackedState=Wo.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===Wo.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let e,s;(s=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||s.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const s=this.x-e.x;return e=this.y-e.y,Math.sqrt(s*s+e*e)}bumpAwayFrom(e){if(!this.sourceBlock_.workspace.isDragging()){var s=this.sourceBlock_.getRootBlock();if(!s.isInFlyout){var r=!1;if(!s.isMovable()){if(s=e.getSourceBlock().getRootBlock(),!s.isMovable())return;e=this,r=!0}var d=z()==s;d||s.addSelect();var v=e.x+o.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*tb)-this.x,k=e.y+o.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*tb)-this.y;r&&(k=-k),s.RTL&&(v=e.x-o.config$$module$build$src$core$config.snapRadius-Math.floor(Math.random()*tb)-this.x),s.moveBy(v,k,["bump"]),d||s.removeSelect()}}}moveTo(e,s){let r=!1;return this.trackedState===Wo.TrackedState.WILL_TRACK?(this.db.addConnection(this,s),this.trackedState=Wo.TrackedState.TRACKED,r=!0):this.trackedState===Wo.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,s),r=!0),this.x=e,this.y=s,r}moveBy(e,s){return this.moveTo(this.x+e,this.y+s)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,s){this.offsetInBlock.x=e,this.offsetInBlock.y=s}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const s=this.targetBlock();e&&s&&(e=ht.difference(this.offsetInBlock,e.offsetInBlock),s.translate(e.x,e.y))}closest(e,s){return this.dbOpposite.searchForClosest(this,e,s)}highlight(){this.highlighted=!0,this.getSourceBlock().queueRender()}unhighlight(){this.highlighted=!1,this.getSourceBlock().queueRender()}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===Wo.TrackedState.TRACKED||!e&&this.trackedState===Wo.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=Wo.TrackedState.TRACKED):(this.trackedState===Wo.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Wo.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let s=0;s<e.length;s++){const r=e[s],d=r.getConnections_(!0);for(let v=0;v<d.length;v++)d[v].setTracking(!1);for(const v of r.getIcons())Qa(v)&&v.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==wt.INPUT_VALUE&&this.type!==wt.NEXT_STATEMENT)return e;const s=this.targetBlock();if(s){let r;s.isCollapsed()?(r=[],s.outputConnection&&r.push(s.outputConnection),s.nextConnection&&r.push(s.nextConnection),s.previousConnection&&r.push(s.previousConnection)):r=s.getConnections_(!0);for(let d=0;d<r.length;d++)e.push(...r[d].startTrackingAll());e.length||(e=[s])}return e}onFailedConnect(e){const s=this.getSourceBlock();if(T()){const r=o.getGroup$$module$build$src$core$events$utils();setTimeout((function(){s.isDisposed()||s.getParent()||(o.setGroup$$module$build$src$core$events$utils(r),this.bumpAwayFrom(e),o.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),o.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:s,childConnection:r}=this.getParentAndChildConnections();if(s&&r){var d=o.getGroup$$module$build$src$core$events$utils();d||o.setGroup$$module$build$src$core$events$utils(!0);var v=s.getSourceBlock(),k=r.getSourceBlock();super.disconnectInternal(e),v.queueRender(),k.updateDisabled(),k.queueRender(),k.getSvgRoot().style.display="block",o.setGroup$$module$build$src$core$events$utils(d)}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var s=this.getSourceBlock();e=e.getSourceBlock(),s.updateDisabled(),e.updateDisabled(),e.queueRender(),(s=s.getInputWithBlock(e))&&(s=s.isVisible(),e.getSvgRoot().style.display=s?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return super.setCheck(e),this.sourceBlock_.queueRender(),this}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(Wo||(Wo={})),Wo.TrackedState;var Pd=class{paste(e,s,r){if(!s.isCapacityAvailable(e.typeCounts))return null;r&&(e.blockState.x=r.x,e.blockState.y=r.y),r=r||new ht(e.blockState.x||0,e.blockState.y||0),o.disable$$module$build$src$core$events$utils();let d;try{d=qi(e.blockState,s),kS(d,r)}finally{o.enable$$module$build$src$core$events$utils()}return d&&(S()&&!d.isShadow()&&$(new(M(o.CREATE$$module$build$src$core$events$utils))(d)),o.setSelected$$module$build$src$core$common(d),d)}};Pd.TYPE="block",fp(Pd.TYPE,new Pd);var If={};If.bumpIntoBounds=au,If.bumpIntoBoundsHandler=pv,If.bumpTopObjectsIntoBounds=xp;var Tw=class{constructor(e){this.block=e,this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null,this.dragging=!1,this.dragOffset=new ht(0,0),this.workspace=e.workspace}isMovable(){if(this.block.isShadow()){let e,s;return(s=(e=this.block.getParent())==null?void 0:e.isMovable())!=null?s:!1}return this.block.isOwnMovable()&&!this.block.isDeadOrDying()&&!this.workspace.options.readOnly&&!this.block.isInFlyout}startDrag(e){if(this.block.isShadow())this.startDraggingShadow(e);else{this.dragging=!0,o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent(),this.startLoc=this.block.getRelativeToSurfaceXY(),this.connectionCandidate=null,this.connectionPreviewer=new(m(ut.CONNECTION_PREVIEWER,this.workspace.options))(this.block),Et(),this.workspace.setResizesEnabled(!1),ru(),e=!!e&&(e.altKey||e.ctrlKey||e.metaKey),this.shouldDisconnect(e)&&this.disconnectBlock(e),this.block.setDragging(!0);var s;(s=this.workspace.getLayerManager())==null||s.moveToDragLayer(this.block)}}startDraggingShadow(e){const s=this.block.getParent();if(!s)throw Error("Tried to drag a shadow block with no parent. Shadow blocks should always have parents.");this.dragOffset=ht.difference(s.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY()),s.startDrag(e)}shouldDisconnect(e){return!!(this.block.getParent()||e&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(e){let s,r,d;if(this.startParentConn=(d=(s=this.block.outputConnection)==null?void 0:s.targetConnection)!=null?d:(r=this.block.previousConnection)==null?void 0:r.targetConnection,e){let v;this.startChildConn=(v=this.block.nextConnection)==null?void 0:v.targetConnection}this.block.unplug(e),j$(this.block)}fireDragStartEvent(){const e=new(M(Wl))(this.block,!0,this.block.getDescendants(!1));$(e)}fireDragEndEvent(){const e=new(M(Wl))(this.block,!1,this.block.getDescendants(!1));$(e)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var e=new(M(o.MOVE$$module$build$src$core$events$utils))(this.block);e.setReason(["drag"]),e.oldCoordinate=this.startLoc,e.recordNew(),$(e)}}drag(e){if(this.block.isShadow()){let s;(s=this.block.getParent())==null||s.drag(ht.sum(e,this.dragOffset))}else this.block.moveDuringDrag(e),this.updateConnectionPreview(this.block,ht.difference(e,this.startLoc))}updateConnectionPreview(e,s){var r=this.connectionCandidate;const d=this.getConnectionCandidate(e,s);if(d){this.connectionCandidate=s=r&&this.currCandidateIsBetter(r,s,d)?r:d;var{local:v,neighbour:k}=s;s=v.type===wt.OUTPUT_VALUE||v.type===wt.PREVIOUS_STATEMENT,r=k.isConnected()&&!k.targetBlock().isInsertionMarker(),s&&r&&!this.orphanCanConnectAtEnd(e,k.targetBlock(),v.type)?this.connectionPreviewer.previewReplacement(v,k,k.targetBlock()):this.connectionPreviewer.previewConnection(v,k)}else this.connectionPreviewer.hidePreview(),this.connectionCandidate=null}orphanCanConnectAtEnd(e,s,r){return!!dn.getConnectionForOrphanedConnection(e,r===wt.OUTPUT_VALUE?s.outputConnection:s.previousConnection)}currCandidateIsBetter(e,s,r){const{local:d,neighbour:v}=e;e=new ht(d.x,d.y);const k=new ht(v.x,v.y);return s=ht.distance(ht.sum(e,s),k),r.distance>s-o.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,s){e=this.getLocalConnections(e);let r=this.connectionCandidate?o.config$$module$build$src$core$config.connectingSnapRadius:o.config$$module$build$src$core$config.snapRadius,d=null;for(const v of e){const{connection:k,radius:J}=v.closest(r,s);k&&(d={local:v,neighbour:k,distance:J},r=J)}return d}getLocalConnections(e){const s=e.getConnections_(!1),r=e.lastConnectionInStack(!0);return r&&r!==e.nextConnection&&s.push(r),s}endDrag(e){if(this.block.isShadow()){let s;(s=this.block.getParent())==null||s.endDrag(e)}else{if(this.fireDragEndEvent(),this.fireMoveEvent(),Tt(),ru(),this.connectionPreviewer.hidePreview(),!this.block.isDeadOrDying()&&this.dragging){let s;(s=this.workspace.getLayerManager())==null||s.moveOffDragLayer(this.block,yu),this.block.setDragging(!1)}this.connectionCandidate?this.applyConnections(this.connectionCandidate):this.block.queueRender(),this.block.snapToGrid(),this.connectionPreviewer.dispose(),this.workspace.setResizesEnabled(!0),o.setGroup$$module$build$src$core$events$utils(!1)}}applyConnections(e){const{local:s,neighbour:r}=e;s.connect(r);const d=s.isSuperior()?r:s,v=this.block.getRootBlock();vi().then(()=>{kp(d.getSourceBlock()),setTimeout(()=>{v.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let s;(s=this.block.getParent())==null||s.revertDrag()}else{var e;if((e=this.startChildConn)==null||e.connect(this.block.nextConnection),this.startParentConn)switch(this.startParentConn.type){case wt.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);break;case wt.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,["drag"]);let s;(s=this.workspace.getLayerManager())==null||s.moveOffDragLayer(this.block,yu),au(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null,this.connectionPreviewer.hidePreview(),this.connectionCandidate=null,this.block.setDragging(!1),this.dragging=!1}}},Ns=class extends aa{constructor(e,s,r){if(super(e,s,r),this.width=this.height=0,this.warningTextDb=new Map,this.mutator=null,this.rendered=!0,this.eventsInit_=this.renderIsInProgress_=this.visuallyDisabled=!1,this.translation="",this.dragging=!1,this.relativeCoords=new ht(0,0),this.dragStrategy=new Tw(this),!e.rendered)throw TypeError("Cannot create a rendered block in a headless workspace");this.workspace=e,this.svgGroup_=ue(Be.G,{}),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),e=this.pathObject.svgPath,e.tooltip=this,nu(e),this.svgGroup_.setAttribute("data-id",this.id),this.doInit_()}initSvg(){if(!this.initialized){for(var e of this.inputList)e.init();for(const s of this.getIcons())s.initView(this.createIconPointerDownListener(s)),s.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()||this.isInFlyout),e=this.getSvgRoot(),!this.workspace.options.readOnly&&e&&ve(e,"pointerdown",this,this.onMouseDown_),e.parentNode||this.workspace.getCanvas().appendChild(e),this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){if(this.isShadow()){let e;(e=this.getParent())==null||e.select()}else this.addSelect()}unselect(){if(this.isShadow()){let e;(e=this.getParent())==null||e.unselect()}else this.removeSelect()}setParent(e){const s=this.parentBlock_;if(e!==s){Et(),super.setParent(e),Tt();var r=this.getSvgRoot();if(!this.workspace.isClearing&&r){var d=this.getRelativeToSurfaceXY();e?e.getSvgRoot().appendChild(r):s&&((e=this.workspace.getCanvas().querySelector(".blocklyDragging"))?this.workspace.getCanvas().insertBefore(r,e):this.workspace.getCanvas().appendChild(r),this.translate(d.x,d.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let s=0,r=0,d=this.getSvgRoot();if(d)do{const v=Ie(d);s+=v.x,r+=v.y,d=d.parentNode}while(d&&!e.hasLayer(d));return new ht(s,r)}moveBy(e,s,r){if(this.parentBlock_)throw Error("Block has parent");const d=S();let v=null;d&&(v=new(M(o.MOVE$$module$build$src$core$events$utils))(this),r&&v.setReason(r)),e=new ht(e,s),s=this.getRelativeToSurfaceXY(),e=ht.sum(s,e),this.translate(e.x,e.y),this.updateComponentLocations(e),d&&v&&(v.recordNew(),$(v)),this.workspace.resizeContents()}translate(e,s){this.translation=`translate(${e}, ${s})`,this.relativeCoords=new ht(e,s),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,s){const r=this.getRelativeToSurfaceXY();this.moveBy(e.x-r.x,e.y-r.y,s)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var s=this.getRelativeToSurfaceXY();e=e.alignXY(s),e!==s&&this.moveTo(e,["snap"])}}}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY(),s=this.getHeightWidth();let r,d;return this.RTL?(r=e.x-s.width,d=e.x):(r=e.x,d=e.x+s.width),new yn(e.y,e.y+s.height,r,d)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,s;s=this.inputList[e];e++)s.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed_())}updateCollapsed_(){var e=this.isCollapsed();const s=$d,r=Zp;for(let v=0,k;k=this.inputList[v];v++)k.name!==s&&k.setVisible(!e);for(var d of this.getIcons())d.updateCollapsed();e?(e=this.toString(gw),(d=this.getField(r))?d.setValue(e):(this.getInput(s)||this.appendDummyInput(s)).appendField(new la(e),r)):(this.updateDisabled(),this.removeInput(s))}tab(e,s){const r=new bw;r.setCurNode(nt.createFieldNode(e)),e=r.getCurNode(),s?r.next():r.prev(),(s=r.getCurNode())&&s!==e&&(s.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(s))}onMouseDown_(e){const s=this.workspace.getGesture(e);s&&s.handleBlockStart(e,this)}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;const e=Zt.registry.getContextMenuOptions(Zt.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e}showContextMenu(e){const s=this.generateContextMenu();s&&s.length&&(nd(e,s,this.RTL,this.workspace),H$(this))}updateComponentLocations(e){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const s of this.getChildren(!1))s.updateComponentLocations(ht.sum(e,s.relativeCoords))}updateConnectionLocations(e){for(const s of this.getConnections_(!1))s.moveToOffset(e)}updateIconLocations(e){for(const s of this.getIcons())s.onLocationChange(e)}updateFieldLocations(e){for(const s of this.inputList)for(const r of s.fieldRow)r.onLocationChange(e)}setDragging(e){(this.dragging=e)?(this.translation="",hd.push(...this.getConnections_(!0)),we(this.svgGroup_,"blocklyDragging")):(hd.length=0,Ge(this.svgGroup_,"blocklyDragging"));for(let s=0;s<this.childBlocks_.length;s++)this.childBlocks_[s].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e=this.getIcons();for(let s=0;s<e.length;s++)e[s].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup_}dispose(e,s){this.disposing=!0,k$(),od(),s&&(this.unplug(e),wp(this)),super.dispose(!!e),q(this.svgGroup_)}disposeInternal(){this.disposing=!0,super.disposeInternal(),z()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose())}checkAndDelete(){this.workspace.isFlyout||(o.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),o.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(){return this.isInsertionMarker_?null:{paster:Pd.TYPE,blockState:cs(this,{addCoordinates:!0,addNextBlocks:!1}),typeCounts:X(this,!0)}}applyColour(){this.pathObject.applyColour(this);const e=this.getIcons();for(let s=0;s<e.length;s++)e[s].applyColour();for(let s=0,r;r=this.inputList[s];s++)for(let d=0,v;v=r.fieldRow[d];d++)v.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let s;(s=this.getNextBlock())==null||s.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const s of this.getChildren(!1))s.updateDisabled()}}setWarningText(e,s=""){if(s)this.warningTextDb.has(s)&&(clearTimeout(this.warningTextDb.get(s)),this.warningTextDb.delete(s));else{for(var r of this.warningTextDb.values())clearTimeout(r);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(s,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(s),this.setWarningText(e,s))},100));else if(this.isInFlyout&&(e=null),r=this.getIcon(hr.TYPE),e){let d=this.getSurroundParent(),v=null;for(;d;)d.isCollapsed()&&(v=d),d=d.getSurroundParent();v&&v.setWarningText(o.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,Ns.COLLAPSED_WARNING_ID),r?r.addMessage(e,s):this.addIcon(new hr(this).addMessage(e,s))}else r&&(s?(r.addMessage("",s),r.getText()||this.removeIcon(hr.TYPE)):this.removeIcon(hr.TYPE))}setMutator(e){this.removeIcon(o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof o.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),e}createIconPointerDownListener(e){return s=>{this.isDeadOrDying()||(s=this.workspace.getGesture(s))&&s.setStartIcon(e)}}removeIcon(e){const s=super.removeIcon(e);return e.equals(o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.queueRender(),s}setEnabled(e){Vr("setEnabled","v11","v12","the setDisabledReason method of BlockSvg");const s=this.isEnabled();super.setEnabled(e),this.isEnabled()===s||this.getInheritedDisabled()||this.updateDisabled()}setDisabledReason(e,s){const r=this.isEnabled();super.setDisabledReason(e,s),this.isEnabled()===r||this.getInheritedDisabled()||this.updateDisabled()}setHighlighted(e){this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const s=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,s)this.hat=s.hat,this.pathObject.setStyle(s),this.colour_=s.colourPrimary,this.style=s,this.applyColour();else throw Error("Invalid style name: "+e)}bringToFront(e=!1){let s=this;if(!s.isDeadOrDying())do{const r=s.getSvgRoot(),d=r.parentNode,v=d.childNodes;if(v[v.length-1]!==r&&d.appendChild(r),e)break;s=s.getParent()}while(s)}setPreviousStatement(e,s){super.setPreviousStatement(e,s),this.queueRender()}setNextStatement(e,s){super.setNextStatement(e,s),this.queueRender()}setOutput(e,s){super.setOutput(e,s),this.queueRender()}setInputsInline(e){super.setInputsInline(e),this.queueRender()}removeInput(e,s){return e=super.removeInput(e,s),this.queueRender(),e}moveNumberedInputBefore(e,s){super.moveNumberedInputBefore(e,s),this.queueRender()}appendInput(e){return super.appendInput(e),this.queueRender(),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var s=this.nextConnection.targetBlock();s&&s.setConnectionTracking(e)}if(!this.collapsed_)for(s=0;s<this.inputList.length;s++){var r=this.inputList[s].connection;r&&(r.setTracking(e),(r=r.targetBlock())&&r.setConnectionTracking(e))}}getConnections_(e){const s=[];if(this.outputConnection&&s.push(this.outputConnection),this.previousConnection&&s.push(this.previousConnection),this.nextConnection&&s.push(this.nextConnection),e||!this.collapsed_)for(let r=0,d;d=this.inputList[r];r++)d.connection&&s.push(d.connection);return s}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,s){return super.getMatchingConnection(e,s)}makeConnection_(e){return new Wo(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const s of this.getConnections_(!1)){if(s.isSuperior()){let r;(r=s.targetBlock())==null||r.bumpNeighbours()}for(const r of s.neighbours(o.config$$module$build$src$core$config.snapRadius))r.getSourceBlock().getRootBlock()!==e&&(s.isConnected()&&r.isConnected()||(s.isSuperior()?r.bumpAwayFrom(s):s.bumpAwayFrom(r)))}}scheduleSnapAndBump(){this.snapToGrid(),this.bumpNeighbours()}positionNearConnection(e,s,r){if(e.type===wt.NEXT_STATEMENT||e.type===wt.INPUT_VALUE){let d=s.x;s=s.y,d+=r.x-e.getOffsetInBlock().x,s+=r.y-e.getOffsetInBlock().y,this.moveBy(d,s)}}getChildren(e){return super.getChildren(e)}queueRender(){return t$(this)}render(){this.queueRender(),ji()}renderEfficiently(){Et(),this.isCollapsed()&&this.updateCollapsed_(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),Tt(),this.updateMarkers_()}tightenChildrenEfficiently(){for(const e of this.inputList){const s=e.connection;s&&s.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}updateMarkers_(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(Cd.LOCAL_MARKER).draw();for(const e of this.inputList)for(const s of e.fieldRow)s.updateMarkers_()}setCursorSvg(e){this.pathObject.setCursorSvg(e)}setMarkerSvg(e){this.pathObject.setMarkerSvg(e)}getHeightWidth(){let e=this.height,s=this.width;var r=this.getNextBlock();if(r){r=r.getHeightWidth();const d=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=r.height-d,s=Math.max(s,r.width)}return{height:e,width:s}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,s){this.pathObject.updateShapeForInputHighlight(e,s)}setDragStrategy(e){this.dragStrategy=e}isMovable(){return this.dragStrategy.isMovable()}startDrag(e){this.dragStrategy.startDrag(e)}drag(e,s){this.dragStrategy.drag(e,s)}endDrag(e){this.dragStrategy.endDrag(e)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const e=Object.assign({},{kind:"BLOCK"},cs(this)),s=new Set(["id","height","width","pinned","enabled"]),r=function(d){for(const v in d)s.has(v)?delete d[v]:typeof d[v]=="object"&&r(d[v])};return r(e),[e]}};Ns.INLINE=-1,Ns.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var yw=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},wf=class extends yw{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e){return e instanceof Ns?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e)):this.updateWouldDelete_(Cs(e)&&e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},Ew=class extends wf{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,0>=this.workspace.options.maxTrashcanContents||(e=new ks({scrollbars:!0,parentWorkspace:this.workspace,rtl:this.workspace.RTL,oneBasedIndex:this.workspace.options.oneBasedIndex,renderer:this.workspace.options.renderer,rendererOverrides:this.workspace.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===Jt.TOP?Jt.BOTTOM:Jt.TOP,this.flyout=new(m(ut.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===Jt.RIGHT?Jt.LEFT:Jt.RIGHT,this.flyout=new(m(ut.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=ue(Be.G,{class:"blocklyTrash"});let e;const s=String(Math.random()).substring(2);e=ue(Be.CLIPPATH,{id:"blocklyTrashBodyClipPath"+s},this.svgGroup),ue(Be.RECT,{width:xu,height:kf,y:Bu},e);const r=ue(Be.IMAGE,{width:Uo.width,x:-nb,height:Uo.height,y:-ob,"clip-path":"url(#blocklyTrashBodyClipPath"+s+")"},this.svgGroup);return r.setAttributeNS(ds,"xlink:href",this.workspace.options.pathToMedia+Uo.url),e=ue(Be.CLIPPATH,{id:"blocklyTrashLidClipPath"+s},this.svgGroup),ue(Be.RECT,{width:xu,height:Bu},e),this.svgLid=ue(Be.IMAGE,{width:Uo.width,x:-nb,height:Uo.height,y:-ob,"clip-path":"url(#blocklyTrashLidClipPath"+s+")"},this.svgGroup),this.svgLid.setAttributeNS(ds,"xlink:href",this.workspace.options.pathToMedia+Uo.url),Ne(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),Ne(this.svgGroup,"pointerup",this,this.click),Ne(r,"pointerover",this,this.mouseOver),Ne(r,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){0<this.workspace.options.maxTrashcanContents&&(et(this.flyout.createDom(Be.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:1,capabilities:[to.Capability.AUTOHIDEABLE,to.Capability.DELETE_AREA,to.Capability.DRAG_TARGET,to.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&q(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(r){return JSON.parse(r)}),s=this.workspace.getParentSvg().style;s.cursor="wait",setTimeout(()=>{let r;(r=this.flyout)==null||r.show(e),s.cursor="";let d;(d=this.workspace.scrollbar)==null||d.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide();var s;(s=this.workspace.scrollbar)==null||s.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,s){if(this.initialized){var r=us(this.workspace,e);e=wo(r,new cn(xu,kf+Bu),Vx,Cw,e,this.workspace),s=Js(e,Cw,r.vertical===lr.TOP?Xr.DOWN:Xr.UP,s),this.top=s.top,this.left=s.left;var d;(d=this.svgGroup)==null||d.setAttribute("transform","translate("+this.left+","+this.top+")")}}getBoundingRectangle(){return new yn(this.top,this.top+kf+Bu,this.left,this.left+xu)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const s=e.top+ob-Of;return e=e.left+nb-Of,new yn(s,s+Bu+kf+2*Of,e,e+xu+2*Of)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=Wx;var s=1/(e+1);this.lidOpen+=this.isLidOpen?s:-s,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*Iw),s=Sw+this.lidOpen*(zx-Sw),this.svgGroup&&(this.svgGroup.style.opacity=`${s}`),this.lidOpen>this.minOpenness&&1>this.lidOpen&&(this.lidTask=setTimeout(this.animateLid.bind(this),Gx/e))}setLidAngle(e){const s=this.workspace.toolboxPosition===Jt.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let r;(r=this.svgLid)==null||r.setAttribute("transform","rotate("+(s?-e:e)+","+(s?4:xu-4)+","+(Bu-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*Iw)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(M(pu))(e,this.workspace.id),$(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(0>=this.workspace.options.maxTrashcanContents||e.type!==o.DELETE$$module$build$src$core$events$utils||e.type!==o.DELETE$$module$build$src$core$events$utils||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),!this.contents.includes(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(Ux)}}}cleanBlockJson(e){function s(r){if(r){if(delete r.id,delete r.x,delete r.y,delete r.enabled,delete r.disabledReasons,r.icons&&r.icons.comment){var d=r.icons.comment;delete d.height,delete d.width,delete d.pinned}d=r.inputs;for(var v in d){var k=d[v];const J=k.block;k=k.shadow,J&&s(J),k&&s(k)}r.next&&(v=r.next,r=v.block,v=v.shadow,r&&s(r),v&&s(v))}}return e=JSON.parse(JSON.stringify(e)),s(e),Object.assign({},{kind:"BLOCK"},e)}},xu=47,kf=44,Bu=16,Cw=20,Vx=20,Of=10,nb=0,ob=32,Ux=.1,Gx=80,Wx=4,Sw=.4,zx=.8,Iw=45,pn=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,s){if(this.shortcuts.get(e.name)&&!s)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),(s=e.keyCodes)&&0<s.length)for(let r=0;r<s.length;r++)this.addKeyMapping(s[r],e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,s,r){e=`${e}`;const d=this.keyMap.get(e);if(d&&!r)throw Error(`Shortcut named "${s}" collides with shortcuts "${d}"`);d&&r?d.unshift(s):this.keyMap.set(e,[s])}removeKeyMapping(e,s,r){const d=this.keyMap.get(e);if(!d)return r||console.warn(`No keyboard shortcut named "${s}" registered with key code "${e}"`),!1;const v=d.indexOf(s);return-1<v?(d.splice(v,1),d.length===0&&this.keyMap.delete(e),!0):(r||console.warn(`No keyboard shortcut named "${s}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const s of this.keyMap.keys())this.removeKeyMapping(s,e,!0)}setKeyMap(e){this.keyMap.clear();for(const s in e)this.keyMap.set(s,e[s])}getKeyMap(){const e=Object.create(null);for(const[s,r]of this.keyMap)e[s]=r;return e}getRegistry(){const e=Object.create(null);for(const[s,r]of this.shortcuts)e[s]=r;return Zi(Object.create(null),e)}onKeyDown(e,s){var r=this.serializeKeyEvent_(s);if(r=this.getShortcutNamesByKeyCode(r),!r)return!1;for(let d=0,v;v=r[d];d++){const k=this.shortcuts.get(v);let J,ge;if((J=k)==null||!J.preconditionFn||(ge=k)!=null&&ge.preconditionFn(e)){let Xe,It;if((Xe=k)!=null&&Xe.callback&&((It=k)!=null&&It.callback(e,s,k)))return!0}}return!1}getShortcutNamesByKeyCode(e){return this.keyMap.get(e)||[]}getKeyCodesByShortcutName(e){const s=[];for(const[r,d]of this.keyMap)-1<d.indexOf(e)&&s.push(r);return s}serializeKeyEvent_(e){let s="";for(const r in pn.modifierKeys)e.getModifierState(r)&&(s!==""&&(s+="+"),s+=r);return s!==""&&e.keyCode?s+="+"+e.keyCode:e.keyCode&&(s=String(e.keyCode)),s}checkModifiers_(e){for(let s=0,r;r=e[s];s++)if(!(r in pn.modifierKeys))throw Error(r+" is not a valid modifier key.")}createSerializedKey(e,s){let r="";if(s){this.checkModifiers_(s);for(const d in pn.modifierKeys)s.includes(pn.modifierKeys[d])&&(r!==""&&(r+="+"),r+=d)}return r!==""&&e?r+="+"+e:e&&(r=`${e}`),r}};pn.registry=new pn,function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"}(pn||(pn={}));var sb=null,ib=null,Kx={duplicateInternal:LS,copyInternal:NS},xd={};xd.BlockPaster=Pd,xd.TEST_ONLY=Kx,xd.paste=Ur,xd.registry=p_;var Ri;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(Ri||(Ri={}));var Jr=null,Zr=null,Fu=null;yv();var Ai={};Ai.names=Ri,Ai.registerCopy=$v,Ai.registerCut=vv,Ai.registerDefaultShortcuts=yv,Ai.registerDelete=gv,Ai.registerEscape=mv,Ai.registerPaste=_v,Ai.registerRedo=Tv,Ai.registerUndo=bv;var Xx=class{constructor(e,s){this.procedureModelClass=e,this.parameterModelClass=s,this.priority=MI}save(e){return e=e.getProcedureMap().getProcedures().map(s=>Ev(s)),e.length?e:null}load(e,s){const r=s.getProcedureMap();for(const d of e)r.add(Cv(this.procedureModelClass,this.parameterModelClass,d,s))}clear(e){e.getProcedureMap().clear()}},Rf={};Rf.ProcedureSerializer=Xx,Rf.loadProcedure=Cv,Rf.saveProcedure=Ev;var ww=class{constructor(){this.priority=LI}save(e){const s=[];for(const r of e.getAllVariables())e={name:r.name,id:r.getId()},r.type&&(e.type=r.type),s.push(e);return s.length?s:null}load(e,s){for(const r of e)s.createVariable(r.name,r.type,r.id)}clear(e){e.getVariableMap().clear()}};jc("variables",new ww);var kw={};kw.VariableSerializer=ww;var rb={};rb.load=DS,rb.save=MS;var Yx={blocks:yd,exceptions:Ql,priorities:Ex,procedures:Rf,registry:h_,variables:kw,workspaceComments:nf,workspaces:rb},lb=class{constructor(e,s,r,d,v){this.workspace=e,this.oldHostMetrics_=this.corner_=this.vScroll=this.hScroll=null,s=s===void 0?!0:s,r=r===void 0?!0:r;const k=s&&r;s&&(this.hScroll=new Wn(e,!0,k,d,v)),r&&(this.vScroll=new Wn(e,!1,k,d,v)),k&&(this.corner_=ue(Be.RECT,{height:Wn.scrollbarThickness,width:Wn.scrollbarThickness,class:"blocklyScrollbarBackground"}),et(this.corner_,e.getBubbleCanvas()))}dispose(){q(this.corner_),this.oldHostMetrics_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var s=!1,r=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===e.viewWidth&&this.oldHostMetrics_.viewHeight===e.viewHeight&&this.oldHostMetrics_.absoluteTop===e.absoluteTop&&this.oldHostMetrics_.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===e.scrollWidth&&this.oldHostMetrics_.viewLeft===e.viewLeft&&this.oldHostMetrics_.scrollLeft===e.scrollLeft||(s=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===e.scrollHeight&&this.oldHostMetrics_.viewTop===e.viewTop&&this.oldHostMetrics_.scrollTop===e.scrollTop||(r=!0)):r=s=!0,s||r){try{o.disable$$module$build$src$core$events$utils(),this.hScroll&&s&&this.hScroll.resize(e),this.vScroll&&r&&this.vScroll.resize(e)}finally{o.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft){let d;(d=this.corner_)==null||d.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics_||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteTop!==e.absoluteTop){let d;(d=this.corner_)==null||d.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics_=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,s){this.hScroll&&this.hScroll.setOrigin(e,s),this.vScroll&&this.vScroll.setOrigin(e,s)}set(e,s,r){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(s,!1),(r||r===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},ab=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let s=0,r=0;return e&&(s=e.getWidth(),r=e.getHeight()),new cn(s,r)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,s=0;const r=this.getToolboxMetrics(),d=this.getFlyoutMetrics(),v=!!this.workspace_.getToolbox();var k;const J=!((k=this.workspace_.getFlyout())!=null&&k.autoClose);k=v?r.position:d.position;const ge=k===Jt.TOP;return k===Jt.LEFT&&(v&&(e+=r.width),J&&(e+=d.width)),ge&&(v&&(s+=r.height),J&&(s+=d.height)),{top:s,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const s=this.getSvgMetrics(),r=this.getToolboxMetrics(),d=this.getFlyoutMetrics(),v=!!this.workspace_.getToolbox();var k;const J=!((k=this.workspace_.getFlyout())!=null&&k.autoClose);k=v?r.position:d.position;const ge=k===Jt.LEFT||k===Jt.RIGHT;return(k===Jt.TOP||k===Jt.BOTTOM)&&(v&&(s.height-=r.height),J&&(s.height-=d.height)),ge&&(v&&(s.width-=r.width),J&&(s.width-=d.width)),{height:s.height/e,width:s.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const s=this.workspace_.getBlocksBoundingBox();return{height:(s.bottom-s.top)*e,width:(s.right-s.left)*e,top:s.top*e,left:s.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const s=this.workspace_.isMovableHorizontally(),r=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const d={};return r||(d.top=e.top,d.bottom=e.top+e.height),s||(d.left=e.left,d.right=e.left+e.width),d}getPaddedContent_(e,s){const r=s.top+s.height,d=s.left+s.width,v=e.width;e=e.height;const k=v/2,J=e/2;return{top:Math.min(s.top-J,r-e),bottom:Math.max(r+J,s.top+e),left:Math.min(s.left-k,d-v),right:Math.max(d+k,s.left+v)}}getScrollMetrics(e,s,r){e=e?this.workspace_.scale:1,s=s||this.getViewMetrics(!1);var d=r||this.getContentMetrics();r=this.getComputedFixedEdges_(s),s=this.getPaddedContent_(s,d),d=r.top!==void 0?r.top:s.top;const v=r.left!==void 0?r.left:s.left;return{top:d/e,left:v/e,width:((r.right!==void 0?r.right:s.right)-v)/e,height:((r.bottom!==void 0?r.bottom:s.bottom)-d)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),s=this.getFlyoutMetrics(!0),r=this.getSvgMetrics(),d=this.getAbsoluteMetrics(),v=this.getViewMetrics(),k=this.getContentMetrics(),J=this.getScrollMetrics(!1,v,k);return{contentHeight:k.height,contentWidth:k.width,contentTop:k.top,contentLeft:k.left,scrollHeight:J.height,scrollWidth:J.width,scrollTop:J.top,scrollLeft:J.left,viewHeight:v.height,viewWidth:v.width,viewTop:v.top,viewLeft:v.left,absoluteTop:d.top,absoluteLeft:d.left,svgHeight:r.height,svgWidth:r.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:s.width,flyoutHeight:s.height}}};i(ut.METRICS_MANAGER,Ei,ab),"Blockly"in globalThis||(globalThis.Blockly={Msg:kI});var Ow=class extends yf{constructor(){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const s=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=s&&!isNaN(s)?s:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&q(this.selectedGlowFilter),this.replacementGlowFilter&&q(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,s=this.START_HAT_WIDTH,r=Qo("c",[Ht(25,-e),Ht(71,-e),Ht(s,0)]);return{height:e,width:s,path:r}}makeHexagonal(){function e(r,d,v){var k=r/2;return k=k>s?s:k,v=v?-1:1,r=(d?-1:1)*r/2,yi(-v*k,r)+yi(v*k,r)}const s=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(r){return r/=2,r>s?s:r},height(r){return r},connectionOffsetY(r){return r/2},connectionOffsetX(r){return-r},pathDown(r){return e(r,!1,!1)},pathUp(r){return e(r,!0,!1)},pathRightDown(r){return e(r,!1,!0)},pathRightUp(r){return e(r,!1,!0)}}}makeRounded(){function e(d,v,k){const J=d>r?d-r:0;d=(d>r?r:d)/2;const ge=k===v?"0":"1";return Gn("a","0 0,"+ge,d,Ht((k?1:-1)*d,(v?-1:1)*d))+kt("v",(v?-1:1)*J)+Gn("a","0 0,"+ge,d,Ht((k?-1:1)*d,(v?-1:1)*d))}const s=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,r=2*s;return{type:this.SHAPES.ROUND,isDynamic:!0,width(d){return d/=2,d>s?s:d},height(d){return d},connectionOffsetY(d){return d/2},connectionOffsetX(d){return-d},pathDown(d){return e(d,!1,!1)},pathUp(d){return e(d,!0,!1)},pathRightDown(d){return e(d,!1,!0)},pathRightUp(d){return e(d,!1,!0)}}}makeSquared(){function e(r,d,v){r-=2*s;const k=v===d?"0":"1";return Gn("a","0 0,"+k,s,Ht((v?1:-1)*s,(d?-1:1)*s))+kt("v",(d?-1:1)*r)+Gn("a","0 0,"+k,s,Ht((v?-1:1)*s,(d?-1:1)*s))}const s=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(r){return s},height(r){return r},connectionOffsetY(r){return r/2},connectionOffsetX(r){return-r},pathDown(r){return e(r,!1,!1)},pathUp(r){return e(r,!0,!1)},pathRightDown(r){return e(r,!1,!0)},pathRightUp(r){return e(r,!1,!0)}}}shapeFor(e){let s=e.getCheck();switch(!s&&e.targetConnection&&(s=e.targetConnection.getCheck()),e.type){case wt.INPUT_VALUE:case wt.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return s&&s.includes("Boolean")?this.HEXAGONAL:s&&s.includes("Number")?this.ROUNDED:(s&&s.includes("String"),this.ROUNDED);case wt.PREVIOUS_STATEMENT:case wt.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(It){return Qo("c",[Ht(It*v/2,0),Ht(It*v*3/4,J/2),Ht(It*v,J)])+lu([Ht(It*v,k)])+Qo("c",[Ht(It*v/4,J/2),Ht(It*v/2,J),Ht(It*v,J)])+kt("h",It*d)+Qo("c",[Ht(It*v/2,0),Ht(It*v*3/4,-(J/2)),Ht(It*v,-J)])+lu([Ht(It*v,-k)])+Qo("c",[Ht(It*v/4,-(J/2)),Ht(It*v/2,-J),Ht(It*v,-J)])}const s=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,d=s/3,v=d/3,k=r/2,J=k/2,ge=e(1),Xe=e(-1);return{type:this.SHAPES.NOTCH,width:s,height:r,pathLeft:ge,pathRight:Xe}}makeInsideCorners(){const e=this.CORNER_RADIUS,s=Gn("a","0 0,0",e,Ht(-e,e)),r=Gn("a","0 0,1",e,Ht(-e,e)),d=Gn("a","0 0,0",e,Ht(e,e)),v=Gn("a","0 0,1",e,Ht(e,e));return{width:e,height:e,pathTop:s,pathBottom:d,rightWidth:e,rightHeight:e,pathTopRight:r,pathBottomRight:v}}generateSecondaryColour_(e){return Bl("#000",e,.15)||e}generateTertiaryColour_(e){return Bl("#000",e,.25)||e}createDom(e,s,r){super.createDom(e,s,r),e=ue(Be.DEFS,{},e),s=ue(Be.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),ue(Be.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},s),r=ue(Be.FECOMPONENTTRANSFER,{result:"outBlur"},s),ue(Be.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},r),ue(Be.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},s),ue(Be.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},s),this.selectedGlowFilterId=s.id,this.selectedGlowFilter=s,e=ue(Be.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),ue(Be.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),s=ue(Be.FECOMPONENTTRANSFER,{result:"outBlur"},e),ue(Be.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},s),ue(Be.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),ue(Be.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),ue(Be.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyTextInputBubble textarea {`,"font-weight: normal;","}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableText>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text,`,`${e} .blocklyNonEditableText>g>text,`,`${e} .blocklyEditableText>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .goog-menuitem,`,`${e}.blocklyDropDownDiv .goog-menuitem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .goog-menuitem-content {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabled > .blocklyOutlinePath {`,`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},Rw=class extends Ef{constructor(e,s){super(e,s)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(0>=e.height)){if(Oe.isSpacer(e)){const d=e.precedesStatement;var s=e.followsStatement;if(d||s){const v=this.constants_.INSIDE_CORNERS;var r=v.rightHeight;r=e.height-(d?r:0),s=s?v.pathBottomRight:"",e=0<r?kt("V",e.yPos+r):"",this.outlinePath_+=s+e+(d?v.pathTopRight:"");return}}this.outlinePath_+=kt("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=Rn(e.xPos,this.info_.startY),this.outlinePath_+=kt("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=kt("V",e.baseline),this.outlinePath_+=kt("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const s=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=eo(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(s,e))}getInlineInputPath(e){const s=e.width-2*e.connectionWidth,r=e.height;return kt("h",s)+e.shape.pathRightDown(r)+kt("h",-s)+e.shape.pathUp(r)+"z"}drawStatementInput_(e){var s=e.getLastInput();const r=s.xPos+s.notchOffset+s.shape.width,d=this.constants_.INSIDE_CORNERS,v=s.shape.pathRight+kt("h",-(s.notchOffset-d.width))+d.pathTop,k=e.height-2*d.height;s=d.pathBottom+kt("h",s.notchOffset-d.width)+(s.connectedBottomNextConnection?"":s.shape.pathLeft),this.outlinePath_+=kt("H",r)+v+kt("v",k)+s+kt("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const s=e.connectionModel;if(s.type===wt.NEXT_STATEMENT||s.type===wt.PREVIOUS_STATEMENT||s.type===wt.OUTPUT_VALUE&&!e.isDynamicShape)super.drawConnectionHighlightPath(e);else{e=s.type===wt.INPUT_VALUE?eo(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):eo(e.width,-e.height/2)+e.shape.pathDown(e.height);var r=s.getSourceBlock(),d,v;(v=(d=r.pathObject).addConnectionHighlight)==null||v.call(d,s,e,s.getOffsetInBlock(),r.RTL)}}},da=class extends En{constructor(e,s,r,d,v,k,J){if(super(En.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",r=Number(Un(r)),s=Number(Un(s)),isNaN(r)||isNaN(s))throw Error("Height and width values of an image field must cast to numbers.");if(0>=r||0>=s)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new cn(s,r+da.Y_PADDING),this.imageHeight=r,typeof v=="function"&&(this.clickHandler=v),e!==En.SKIP_SETUP&&(J?this.configure_(J):(this.flipRtl=!!k,this.altText=Un(d)||""),this.setValue(Un(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=Un(e.alt))}initView(){this.imageElement=ue(Be.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(ds,"xlink:href",this.value_),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(ds,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};da.Y_PADDING=1,Ti("field_image",da),da.prototype.DEFAULT_VALUE="";var Af=class extends En{constructor(e,s,r){super(En.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",e!==En.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),s&&this.setValidator(s))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new zn;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new zn;let s;return this.fullBlockClickTarget_=!((s=this.getConstants())==null||!s.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e,s=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&S()&&this.value_!==e&&s&&$(new(M(o.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new zn;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.style.colourTertiary)):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(e=this.getConstants())!=null&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(Ge(e,"blocklyInvalidInput"),co(e,no.INVALID,!1)):(we(e,"blocklyInvalidInput"),co(e,no.INVALID,!0))}if(e=this.getSourceBlock(),!e)throw new zn;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,s=!1){this.workspace_=this.sourceBlock_.workspace,!s&&this.workspace_.options.modalInputs&&(pI||qv||pd)?this.showPromptEditor_():this.showInlineEditor_(s)}showPromptEditor_(){Gt(o.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor_(e){const s=this.getSourceBlock();if(!s)throw new zn;Sp(this,s.RTL,this.widgetDispose_.bind(this),this.workspace_),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new zn;o.setGroup$$module$build$src$core$events$utils(!0);const s=su();var r=this.getClickTarget_();if(!r)throw Error("A click target has not been set.");we(r,"editing"),r=document.createElement("input"),r.className="blocklyHtmlInput",r.setAttribute("spellcheck",this.spellcheck_);const d=this.workspace_.getScale();var v=this.getConstants().FIELD_TEXT_FONTSIZE*d+"pt";return s.style.fontSize=v,r.style.fontSize=v,v=Af.BORDERRADIUS*d+"px",this.isFullBlockField()&&(v=this.getScaledBBox(),v=(v.bottom-v.top)/2+"px",e=e.getParent()?e.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,r.style.border=1*d+"px solid "+e,s.style.borderRadius=v,s.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(s.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*d+"px")),r.style.borderRadius=v,s.appendChild(r),r.value=r.defaultValue=this.getEditorText_(this.value_),r.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(r),r}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&S()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&($(new(M(o.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),o.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=su().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");Ge(e,"editing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper_=ve(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=ve(e,"input",this,this.onHtmlInputChange_)}unbindInputEvents_(){this.onKeyDownWrapper_&&(He(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(He(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)}onHtmlInputKeyDown_(e){e.key==="Enter"?(Fl(this),_i()):e.key==="Escape"?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),Fl(this),_i()):e.key==="Tab"&&(Fl(this),_i(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())}onHtmlInputChange_(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&S()&&this.value_!==e&&$(new(M(Ul))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,s=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,s)}resizeEditor_(){var e=this.getSourceBlock();if(!e)throw new zn;const s=su(),r=this.getScaledBBox();s.style.width=r.right-r.left+"px",s.style.height=r.bottom-r.top+"px",e=new ht(e.RTL?r.right-s.offsetWidth:r.left,r.top),s.style.left=e.x+"px",s.style.top=e.y+"px"}repositionForWindowResize(){const e=this.getSourceBlock();return e instanceof Ns?(au(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),e)||this.resizeEditor_(),!0):!1}isTabNavigable(){return!0}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};Af.BORDERRADIUS=4;var Nf=class extends Af{constructor(e,s,r){super(e,s,r)}doClassValidation_(e){return e===void 0?null:`${e}`}static fromJson(e){return new this(Un(e.text),void 0,e)}};Ti("field_input",Nf),Nf.prototype.DEFAULT_VALUE="";var Aw=class extends x_{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},Lf=class extends Ad{constructor(e,s){if(super(e,s),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;s=e.getNextBlock();)e=s;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},Nw=class extends ki{constructor(e){super(e),this.width=this.height=0,this.type|=Oe.getType("RIGHT_CONNECTION")}},Lw=class extends U_{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const s=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||s}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},Mw=class extends Md{constructor(e,s){super(e,s),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new Lw(this.constants_),this.bottomRow=new Aw(this.constants_),this.isMultiRow=!s.getInputsInline()||s.isCollapsed(),this.hasStatementInput=0<s.statementInputCount,this.rightSide=this.outputConnection?new Nw(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,s){return s?s instanceof fr||e instanceof ms||s instanceof ms?!0:e instanceof o.ValueInput$$module$build$src$core$inputs$value_input||e instanceof Oi||e instanceof fr?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,s){return e&&s||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&s&&Oe.isStatementInput(s)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&Oe.isLeftRoundedCorner(e)&&s&&(Oe.isPreviousConnection(s)||Oe.isNextConnection(s))?s.notchOffset-this.constants_.CORNER_RADIUS:e&&Oe.isLeftSquareCorner(e)&&s&&Oe.isHat(s)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,s){if(Oe.isTopRow(e)&&Oe.isBottomRow(s))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const r=Oe.isInputRow(e)&&e.hasStatement,d=Oe.isInputRow(s)&&s.hasStatement;return d||r?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),d&&r?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):Oe.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):Oe.isBottomRow(s)?this.outputConnection?!s.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,s){const r=this.width-this.startX;return Oe.isInputRow(e)&&e.hasStatement||Oe.isInputRow(s)&&s.hasStatement?Math.max(r,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):r}getElemCenterline_(e,s){if(e.hasStatement&&!Oe.isSpacer(s)&&!Oe.isStatementInput(s))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(Oe.isInlineInput(s)&&s instanceof qr){const r=s.connectedBlock;if(r&&r.outputConnection&&r.nextConnection)return e.yPos+r.height/2}return super.getElemCenterline_(e,s)}addInput_(e,s){if((e instanceof Oi||e instanceof fr)&&s.hasDummyInput&&s.align===o.Align$$module$build$src$core$inputs$align.LEFT&&e.align===o.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(s,e);else if(e instanceof ms){s.elements.push(new Lf(this.constants_,e)),s.hasStatement=!0,s.align===null&&(s.align=e.align);return}super.addInput_(e,s)}addAlignmentPadding_(e,s){if(this.rightAlignedDummyInputs.get(e)){let r;for(let d=0;d<e.elements.length;d++){const v=e.elements[d];if(Oe.isSpacer(v)&&(r=v),Oe.isField(v)&&v instanceof Mu&&v.parentInput===this.rightAlignedDummyInputs.get(e))break}if(r){r.width+=s,e.width+=s;return}}super.addAlignmentPadding_(e,s)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let s=e;for(let v=2;v<this.rows.length-1;v+=2){var r=this.rows[v-1];const k=this.rows[v];var d=this.rows[v+1];if(r=v===2?!!this.topRow.hasPreviousConnection:!!r.followsStatement,d=v+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!d.precedesStatement,Oe.isInputRow(k)&&k.hasStatement){k.measure();let J,ge;s=k.width-((ge=(J=k.getLastInput())==null?void 0:J.width)!=null?ge:0)+e}else if(r&&(v===2||d)&&Oe.isInputRow(k)&&!k.hasStatement){d=k.xPos,r=null;for(let J=0;J<k.elements.length;J++){const ge=k.elements[J];Oe.isSpacer(ge)&&(r=ge),r&&(Oe.isField(ge)||Oe.isInput(ge))&&d<s&&!(Oe.isField(ge)&&ge instanceof Mu&&(ge.field instanceof la||ge.field instanceof da))&&(r.width+=s-d),d+=ge.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var s=0,r=0;r<this.rows.length;r++){const d=this.rows[r];d.yPos=s,s+=d.height}this.height=s,r=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,s=e.height(r),r=e.width(r),this.outputConnection.height=s,this.outputConnection.width=r,this.outputConnection.startX=r,this.outputConnection.connectionOffsetY=e.connectionOffsetY(s),this.outputConnection.connectionOffsetX=e.connectionOffsetX(r),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=r,this.rightSide.height=s,this.rightSide.width=e,this.rightSide.centerline=s/2,this.rightSide.xPos=this.width+e),this.startX=r,this.width+=r+e,this.widthWithChildren+=r+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,s=0;s<this.rows.length;s++){var r=this.rows[s];if(!Oe.isInputRow(r))continue;e=r.elements[r.elements.length-2];let d=this.getNegativeSpacing_(r.elements[1]),v=this.getNegativeSpacing_(e);e=d+v;const k=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<k&&(e=this.width-k,d=e/2,v=e/2),r.elements.unshift(new fs(this.constants_,-d)),r.elements.push(new fs(this.constants_,-v))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,s=0;s<this.rows.length;s++)r=this.rows[s],Oe.isTopOrBottomRow(r)&&(r.elements[1].width-=e),r.width-=e,r.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const s=this.outputConnection.width;var r=this.outputConnection.shape.type;const d=this.constants_;if(1<this.inputRows.length)switch(r){case d.SHAPES.ROUND:return r=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,r=this.height/2>r?r:this.height/2,s-r*(1-Math.sin(Math.acos((r-this.constants_.SMALL_PADDING)/r)));default:return 0}if(Oe.isInlineInput(e)&&e instanceof qr){const v=e.connectedBlock;return e=v?v.pathObject.outputShapeType:e.shape.type,e==null||v&&v.outputConnection&&(v.statementInputCount||v.nextConnection)||r===d.SHAPES.HEXAGONAL&&r!==e?0:s-this.constants_.SHAPE_IN_SHAPE_PADDING[r][e]}return Oe.isField(e)&&e instanceof Mu?r===d.SHAPES.ROUND&&e.field instanceof Nf?s-2.75*d.GRID_UNIT:s-this.constants_.SHAPE_IN_SHAPE_PADDING[r][0]:Oe.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let d=2;d<this.rows.length-1;d+=2){const v=this.rows[d-1],k=this.rows[d],J=this.rows[d+1];var e=d===2,s=d+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!J.precedesStatement;if(e?this.topRow.hasPreviousConnection:v.followsStatement){var r=k.elements[1];if(r=k.elements.length===3&&r instanceof Mu&&(r.field instanceof la||r.field instanceof da),!e&&r)v.height-=this.constants_.SMALL_PADDING,J.height-=this.constants_.SMALL_PADDING,k.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!s)v.height+=this.constants_.SMALL_PADDING;else if(s){for(e=!1,s=0;s<k.elements.length;s++)if(r=k.elements[s],r instanceof qr&&Oe.isInlineInput(r)&&r.connectedBlock&&!r.connectedBlock.isShadow()&&40<=r.connectedBlock.getHeightWidth().height){e=!0;break}e&&(v.height-=this.constants_.SMALL_PADDING,J.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},Dw=class extends z_{constructor(e,s,r){super(e,s,r),this.markerCircle=null}showWithInputOutput(e){const s=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle(e.x,e.y),this.setParent_(s),this.showCurrent_()}showWithOutput_(e){this.showWithInputOutput(e)}showWithInput_(e){this.showWithInputOutput(e)}showWithBlock_(e){e=e.getLocation();const s=e.getHeightWidth();this.positionRect_(0,0,s.width,s.height),this.setParent_(e),this.showCurrent_()}positionCircle(e,s){let r;(r=this.markerCircle)==null||r.setAttribute("cx",`${e}`);let d;(d=this.markerCircle)==null||d.setAttribute("cy",`${s}`),this.currentMarkerSvg=this.markerCircle}hide(){super.hide(),this.markerCircle&&(this.markerCircle.style.display="none")}createDomInternal_(){if(super.createDomInternal_(),this.markerCircle=ue(Be.CIRCLE,{r:this.constants_.CURSOR_RADIUS,"stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();ue(Be.ANIMATE,e,this.markerCircle)}return this.markerSvg_}applyColour_(e){super.applyColour_(e);let s;(s=this.markerCircle)==null||s.setAttribute("fill",this.colour_);let r;if((r=this.markerCircle)==null||r.setAttribute("stroke",this.colour_),this.isCursor()){e=this.colour_+";transparent;transparent;";let d;(d=this.markerCircle)==null||d.firstElementChild.setAttribute("values",e)}}},Pw=class extends Cf{constructor(e,s,r){super(e,s,r),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=r}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const s=e.getParent();e.isShadow()&&s&&this.svgPath.setAttribute("stroke",s.style.colourTertiary);for(const r of this.outlines.values())r.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.setAttribute("fill","none"),this.svgPathSelected.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}updateShapeForInputHighlight(e,s){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(s?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,s){e=this.getOutlinePath(e),e.setAttribute("d",s),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,ue(Be.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let s,r;(s=this.outlines.get(e))==null||(r=s.parentNode)==null||r.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},ub=class extends Sf{constructor(e){super(e)}makeConstants_(){return new Ow}makeRenderInfo_(e){return new Mw(this,e)}makeDrawer_(e,s){return new Rw(e,s)}makeMarkerDrawer(e,s){return new Dw(e,this.getConstants(),s)}makePathObject(e,s){return new Pw(e,s,this.getConstants())}getConstants(){return this.constants_}getConnectionPreviewMethod(e,s,r){return Vr("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),s.type===wt.OUTPUT_VALUE?e.isConnected()?Rs.PREVIEW_TYPE.REPLACEMENT_FADE:Rs.PREVIEW_TYPE.INPUT_OUTLINE:super.getConnectionPreviewMethod(e,s,r)}};ld("zelos",ub);var xw=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,s,r){o.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=r,r.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(s)&&(s.highlight(),this.staticConn=s)}finally{o.enable$$module$build$src$core$events$utils()}}previewConnection(e,s){if(e!==this.draggedConn||s!==this.staticConn){o.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,s)&&(this.markerConn=this.previewMarker(e,s)),this.workspace.getRenderer().shouldHighlightConnection(s)&&s.highlight(),this.draggedConn=e,this.staticConn=s}finally{o.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,s){return s.type===wt.PREVIOUS_STATEMENT||s.type===wt.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof ub)}previewMarker(e,s){const r=e.getSourceBlock(),d=this.createInsertionMarker(r),v=this.getMatchingConnection(r,d,e);if(!v)return null;d.queueRender(),ji(),v.connect(s);const k={x:s.x-v.x,y:s.y-v.y},J=v.getOffsetInBlock().clone();return vi().then(()=>{if(!d.isDeadOrDying()){o.disable$$module$build$src$core$events$utils();try{d==null||d.positionNearConnection(v,k,J),d==null||d.getSvgRoot().setAttribute("visibility","visible")}finally{o.enable$$module$build$src$core$events$utils()}}}),v}createInsertionMarker(e){const s=cs(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!s)throw Error(`Failed to serialize source block. ${e.toDevString()}`);e=qi(s,this.workspace);for(const r of e.getDescendants(!1))r.setInsertionMarker(!0);return e.initSvg(),e.getSvgRoot().setAttribute("visibility","hidden"),e}getMatchingConnection(e,s,r){if(e=e.getConnections_(!0),s=s.getConnections_(!0),e.length!==s.length)return null;for(let d=0;d<e.length;d++)if(e[d]===r)return s[d];return null}hidePreview(){o.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{o.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const s=e.getSourceBlock(),r=s.outputConnection;let d;if((d=s.previousConnection)!=null&&d.targetConnection||r!=null&&r.targetConnection)s.unplug(!0);else{let v;(v=e.targetBlock())==null||v.unplug(!1)}s.dispose()}dispose(){this.hidePreview()}};i(ut.CONNECTION_PREVIEWER,Ei,xw);var Qr={};Qr.Align=o.Align$$module$build$src$core$inputs$align,Qr.DummyInput=Oi,Qr.EndRowInput=fr,Qr.Input=Du,Qr.StatementInput=ms,Qr.ValueInput=o.ValueInput$$module$build$src$core$inputs$value_input,Qr.inputTypes=o.inputTypes$$module$build$src$core$inputs$input_types;var Bw=!1,Fw;o.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=Z());var s=[];this.init(e),e=e.getTopBlocks(!0);for(let r=0,d;d=e[r];r++){let v=this.blockToCode(d);Array.isArray(v)&&(v=v[0]),v&&(d.outputConnection&&(v=this.scrubNakedValue(v),this.STATEMENT_PREFIX&&!d.suppressPrefixSuffix&&(v=this.injectId(this.STATEMENT_PREFIX,d)+v),this.STATEMENT_SUFFIX&&!d.suppressPrefixSuffix&&(v+=this.injectId(this.STATEMENT_SUFFIX,d))),s.push(v))}return s=s.join(`
`),s=this.finish(s),s=s.replace(/^\s+\n/,""),s=s.replace(/\n\s+$/,`
`),s=s.replace(/[ \t]+\n/g,`
`)}prefixLines(e,s){return s+e.replace(/(?!\n$)\n/g,`
`+s)}allNestedComments(e){const s=[];e=e.getDescendants(!0);for(let r=0;r<e.length;r++){const d=e[r].getCommentText();d&&s.push(d)}return s.length&&s.push(""),s.join(`
`)}blockToCode(e,s){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return s?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return s?"":this.blockToCode(e.getChildren(!1)[0]);var r=this.forBlock[e.type];if(typeof r!="function")throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(r=r.call(e,e,this),Array.isArray(r)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,r[0],s),r[1]]}if(typeof r=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(r=this.injectId(this.STATEMENT_PREFIX,e)+r),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(r+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,r,s);if(r===null)return"";throw SyntaxError("Invalid code generated: "+r)}valueToCode(e,s,r){if(isNaN(r))throw TypeError("Expecting valid order from block: "+e.type);var d=e.getInputTargetBlock(s);if(!d&&!e.getInput(s))throw ReferenceError(`Input "${s}" doesn't exist on "${e.type}"`);if(!d||(s=this.blockToCode(d),s===""))return"";if(!Array.isArray(s))throw TypeError(`Expecting tuple from value block: ${d.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=s[0],s=s[1],isNaN(s))throw TypeError("Expecting valid order from value block: "+d.type);if(!e)return"";d=!1;var v=Math.floor(r);const k=Math.floor(s);if(v<=k&&(v!==k||v!==0&&v!==99)){for(d=!0,v=0;v<this.ORDER_OVERRIDES.length;v++)if(this.ORDER_OVERRIDES[v][0]===r&&this.ORDER_OVERRIDES[v][1]===s){d=!1;break}}return d&&(e="("+e+")"),e}statementToCode(e,s){const r=e.getInputTargetBlock(s);if(!r&&!e.getInput(s))throw ReferenceError(`Input "${s}" doesn't exist on "${e.type}"`);if(e=this.blockToCode(r),typeof e!="string")throw TypeError("Expecting code from statement block: "+(r&&r.type));return e&&(e=this.prefixLines(e,this.INDENT)),e}addLoopTrap(e,s){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,s),this.INDENT)+e),this.STATEMENT_SUFFIX&&!s.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,s),this.INDENT)+e),this.STATEMENT_PREFIX&&!s.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,s),this.INDENT)),e}injectId(e,s){return s=s.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+s+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,s){if(!this.definitions_[e]){const r=this.nameDB_.getDistinctName(e,o.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=r,Array.isArray(s)&&(s=s.join(`
`)),s=s.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,r);let d;for(;d!==s;)d=s,s=s.replace(/^(( {2})*) {2}/gm,"$1\0");s=s.replace(/\0/g,this.INDENT),this.definitions_[e]=s}return this.functionNames_[e]}getVariableName(e){return this.getName(e,o.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,o.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,s){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,s)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,s,r){return s}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},Fw={},Fw.CodeGenerator=o.CodeGenerator$$module$build$src$core$generator;var Hw=class extends ab{constructor(e,s){super(e),this.flyout_=s}getBoundingBox_(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch{e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const s=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:s.height*e,width:s.width*e,top:s.y*e,left:s.x*e}}getScrollMetrics(e,s,r){return s=r||this.getContentMetrics(),r=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(s.height+2*r)/e,width:(s.width+s.left+r)/e,top:0,left:0}}},Hu;(function(e){e.BLOCK="block",e.BUTTON="button"})(Hu||(Hu={}));var jx="WORKSPACE_AT_BLOCK_CAPACITY",Mf=class extends wf{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.filterWrapper=this.reflowWrapper=null,this.mats=[],this.buttons_=[],this.contents=[],this.listeners=[],this.permanentlyDisabled=[],this.recycledBlocks=[],this.autoClose=!0,this.isVisible_=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new As(e),this.workspace_.setMetricsManager(new Hw(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=b(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN}createDom(e){return this.svgGroup_=ue(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=ue(Be.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new lb(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(ve(this.svgGroup_,"wheel",this,this.wheel_)),this.filterWrapper=this.filterForCapacity.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper),this.boundEvents.push(ve(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[to.Capability.AUTOHIDEABLE,to.Capability.DELETE_AREA,to.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)He(e);this.boundEvents.length=0,this.filterWrapper&&this.targetWorkspace.removeChangeListener(this.filterWrapper),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&q(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.isVisible_}setVisible(e){const s=e!==this.isVisible();this.isVisible_=e,s&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const s=e!==this.containerVisible;this.containerVisible=e,s&&this.updateDisplay()}getContents(){return this.contents}setContents(e){this.contents=e}updateDisplay(){let e;e=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let s;(s=this.workspace_.scrollbar)==null||s.setContainerVisible(e)}positionAt_(e,s,r,d){let v;(v=this.svgGroup_)==null||v.setAttribute("width",`${e}`);let k;(k=this.svgGroup_)==null||k.setAttribute("height",`${s}`),this.workspace_.setCachedParentSvgSize(e,s),this.svgGroup_&&lt(this.svgGroup_,"translate("+r+"px,"+d+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(r,d),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){if(this.isVisible()){this.setVisible(!1);for(const e of this.listeners)He(e);this.listeners.length=0,this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null)}}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof e=="string"&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=Yi(e),e=this.createFlyoutInfo(e),ji(this.workspace_),this.setContents(e.contents),this.layout_(e.contents,e.gaps),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity(),this.position(),this.reflowWrapper=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper),this.emptyRecycledBlocks()}createFlyoutInfo(e){const s=[],r=[];this.permanentlyDisabled.length=0;const d=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const v of e){if("custom"in v){e=this.getDynamicCategoryContents(v.custom),e=Yi(e);const{contents:k,gaps:J}=this.createFlyoutInfo(e);s.push(...k),r.push(...J)}switch(v.kind.toUpperCase()){case"BLOCK":e=v;const k=this.createFlyoutBlock(e);s.push({type:Hu.BLOCK,block:k}),this.addBlockGap(e,r,d);break;case"SEP":this.addSeparatorGap(v,r,d);break;case"LABEL":e=this.createButton(v,!0),s.push({type:Hu.BUTTON,button:e}),r.push(d);break;case"BUTTON":e=this.createButton(v,!1),s.push({type:Hu.BUTTON,button:e}),r.push(d)}}return{contents:s,gaps:r}}getDynamicCategoryContents(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}createButton(e,s){return new Os(this.workspace_,this.targetWorkspace,e,s)}createFlyoutBlock(e){let s;return e.blockxml?(e=typeof e.blockxml=="string"?o.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,(s=this.getRecycledBlock(e.getAttribute("type")))||(s=Hl(e,this.workspace_))):(s=this.getRecycledBlock(e.type),s||(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),e.disabledReasons===void 0&&e.enabled===!1&&(e.disabledReasons=[Ss]),s=Za(e,this.workspace_))),s.isEnabled()||this.permanentlyDisabled.push(s),s}getRecycledBlock(e){let s=-1;for(let r=0;r<this.recycledBlocks.length;r++)if(this.recycledBlocks[r].type===e){s=r;break}return s===-1?void 0:this.recycledBlocks.splice(s,1)[0]}addBlockGap(e,s,r){let d;e.gap?d=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?o.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,d=parseInt(e.getAttribute("gap"))),s.push(!d||isNaN(d)?r:d)}addSeparatorGap(e,s,r){e=parseInt(String(e.gap)),!isNaN(e)&&0<s.length?s[s.length-1]=e:s.push(r)}clearOldBlocks(){var e=this.workspace_.getTopBlocks(!1);for(let r=0,d;d=e[r];r++)this.blockIsRecyclable_(d)?this.recycleBlock(d):d.dispose(!1,!1);for(e=0;e<this.mats.length;e++){const r=this.mats[e];r&&(Tp(r),q(r))}this.mats.length=0;for(let r=0,d;d=this.buttons_[r];r++)d.dispose();this.buttons_.length=0;let s;(s=this.workspace_.getPotentialVariableMap())==null||s.clear()}emptyRecycledBlocks(){for(let e=0;e<this.recycledBlocks.length;e++)this.recycledBlocks[e].dispose();this.recycledBlocks=[]}blockIsRecyclable_(e){return!1}recycleBlock(e){const s=e.getRelativeToSurfaceXY();e.moveBy(-s.x,-s.y),this.recycledBlocks.push(e)}addBlockListeners_(e,s,r){this.listeners.push(ve(e,"pointerdown",null,this.blockMouseDown(s))),this.listeners.push(ve(r,"pointerdown",null,this.blockMouseDown(s))),this.listeners.push(Ne(e,"pointerenter",s,()=>{this.targetWorkspace.isDragging()||s.addSelect()})),this.listeners.push(Ne(e,"pointerleave",s,()=>{this.targetWorkspace.isDragging()||s.removeSelect()})),this.listeners.push(Ne(r,"pointerenter",s,()=>{this.targetWorkspace.isDragging()||s.addSelect()})),this.listeners.push(Ne(r,"pointerleave",s,()=>{this.targetWorkspace.isDragging()||s.removeSelect()}))}blockMouseDown(e){return s=>{const r=this.targetWorkspace.getGesture(s);r&&(r.setStartBlock(e),r.handleFlyoutStart(s,this))}}onMouseDown(e){const s=this.targetWorkspace.getGesture(e);s&&s.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()}createBlock(e){let s=null;o.disable$$module$build$src$core$events$utils();var r=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{s=this.placeNewBlock(e)}finally{o.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=Yc(this.targetWorkspace,r),S()){for(o.setGroup$$module$build$src$core$events$utils(!0),r=0;r<e.length;r++){const d=e[r];$(new(M(er))(d))}$(new(M(o.CREATE$$module$build$src$core$events$utils))(s))}return this.autoClose?this.hide():this.filterForCapacity(),s}initFlyoutButton_(e,s,r){const d=e.createDom();e.moveTo(s,r),e.show(),this.listeners.push(ve(d,"pointerdown",this,this.onMouseDown)),this.buttons_.push(e)}createRect_(e,s,r,d,v){return s=ue(Be.RECT,{"fill-opacity":0,x:s,y:r,height:d.height,width:d.width}),s.tooltip=e,nu(s),this.workspace_.getCanvas().insertBefore(s,e.getSvgRoot()),this.rectMap_.set(e,s),this.mats[v]=s}moveRectToBlock_(e,s){const r=s.getHeightWidth();e.setAttribute("width",String(r.width)),e.setAttribute("height",String(r.height)),s=s.getRelativeToSurfaceXY(),e.setAttribute("y",String(s.y)),e.setAttribute("x",String(this.RTL?s.x-r.width:s.x))}filterForCapacity(){const e=this.workspace_.getTopBlocks(!1);for(let s=0,r;r=e[s];s++)if(!this.permanentlyDisabled.includes(r)){const d=this.targetWorkspace.isCapacityAvailable(X(r));for(;r;)r.setDisabledReason(!d,jx),r=r.getNextBlock()}}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(e){var s=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const r=this.serializeBlock(e);return s.setResizesEnabled(!1),s=qi(r,s),this.positionNewBlock(e,s),s}serializeBlock(e){return cs(e)}positionNewBlock(e,s){const r=this.targetWorkspace;var d=r.getOriginOffsetInPixels(),v=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),v=ht.sum(v,e),d=ht.difference(v,d),d.scale(1/r.scale),s.moveTo(new ht(d.x,d.y))}};Mf.FlyoutItemType=Hu;var cb=class extends Mf{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var s=this.workspace_.getMetricsManager(),r=s.getScrollMetrics(),d=s.getViewMetrics();s=s.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(r.top+(r.height-d.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+s.left,this.workspace_.scrollY+s.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const s=e.getAbsoluteMetrics(),r=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Jt.LEFT?e.width:r.width-this.width_:this.toolboxPosition_===Jt.LEFT?0:r.width:this.toolboxPosition_===Jt.LEFT?0:r.width+s.left-this.width_}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var s=this.getY();this.positionAt_(this.width_,this.height_,e,s)}}setBackgroundPath(e,s){const r=this.toolboxPosition_===Jt.RIGHT;var d=e+this.CORNER_RADIUS;d=["M "+(r?d:0)+",0"],d.push("h",r?-e:e),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("v",Math.max(0,s)),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("h",r?e:-e),d.push("z"),this.svgBackground_.setAttribute("d",d.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var s=Fe(e);if(s.y){const r=this.workspace_.getMetricsManager(),d=r.getScrollMetrics();s=r.getViewMetrics().top-d.top+s.y;let v;(v=this.workspace_.scrollbar)==null||v.setY(s),td(this.workspace_),_i()}e.preventDefault(),e.stopPropagation()}layout_(e,s){this.workspace_.scale=this.targetWorkspace.scale;var r=this.MARGIN;const d=this.RTL?r:r+this.tabWidth_;for(let ge=0,Xe;Xe=e[ge];ge++)if(Xe.type==="block"){var v=Xe.block;if(!v)continue;var k=v.getDescendants(!1);for(let On=0,Sn;Sn=k[On];On++)Sn.isInFlyout=!0;k=v.getSvgRoot();const It=v.getHeightWidth();var J=v.outputConnection?d-this.tabWidth_:d;v.moveBy(J,r),J=this.createRect_(v,this.RTL?J-It.width:J,r,It,ge),this.addBlockListeners_(k,v,J),r+=It.height+s[ge]}else Xe.type==="button"&&(v=Xe.button,this.initFlyoutButton_(v,d,r),r+=v.height+s[ge])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const s=this.dragAngleRange_;return e<s&&e>-s||e<-180+s||e>180-s}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),s=e.left;return this.toolboxPosition_===Jt.LEFT?new yn(-1e9,1e9,-1e9,s+e.width):new yn(-1e9,1e9,s,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;var s=this.workspace_.getTopBlocks(!1);for(let d=0,v;v=s[d];d++){var r=v.getHeightWidth().width;v.outputConnection&&(r-=this.tabWidth_),e=Math.max(e,r)}for(let d=0,v;v=this.buttons_[d];d++)e=Math.max(e,v.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,e+=Wn.scrollbarThickness,this.width_!==e){for(let d=0,v;v=s[d];d++){if(this.RTL){r=v.getRelativeToSurfaceXY().x;let k=e/this.workspace_.scale-this.MARGIN;v.outputConnection||(k-=this.tabWidth_),v.moveBy(k-r,0)}this.rectMap_.has(v)&&this.moveRectToBlock_(this.rectMap_.get(v),v)}if(this.RTL)for(let d=0,v;v=this.buttons_[d];d++)s=v.getPosition().y,v.moveTo(e/this.workspace_.scale-v.width-this.MARGIN-this.tabWidth_,s);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Jt.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};cb.registryName="verticalFlyout",i(ut.FLYOUTS_VERTICAL_TOOLBOX,Ei,cb);var Vw=class extends Mf{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var s=this.workspace_.getMetricsManager(),r=s.getScrollMetrics(),d=s.getViewMetrics();s=s.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(r.left+(r.width-d.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+s.left,this.workspace_.scrollY+s.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const s=e.getAbsoluteMetrics(),r=e.getViewMetrics();e=e.getToolboxMetrics();const d=this.toolboxPosition_===Jt.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?d?e.height:r.height-this.height_:d?0:r.height:d?0:r.height+s.top-this.height_}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var s=this.getY();this.positionAt_(this.width_,this.height_,e,s)}}setBackgroundPath(e,s){const r=this.toolboxPosition_===Jt.TOP,d=["M 0,"+(r?0:this.CORNER_RADIUS)];r?(d.push("h",e+2*this.CORNER_RADIUS),d.push("v",s),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("h",-e),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),d.push("h",e),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("v",s),d.push("h",-e-2*this.CORNER_RADIUS)),d.push("z"),this.svgBackground_.setAttribute("d",d.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var s=Fe(e);if(s=s.x||s.y){const r=this.workspace_.getMetricsManager(),d=r.getScrollMetrics();s=r.getViewMetrics().left-d.left+s;let v;(v=this.workspace_.scrollbar)==null||v.setX(s),td(this.workspace_),_i()}e.preventDefault(),e.stopPropagation()}layout_(e,s){this.workspace_.scale=this.targetWorkspace.scale;const r=this.MARGIN;let d=r+this.tabWidth_;this.RTL&&(e=e.reverse());for(let ge=0,Xe;Xe=e[ge];ge++)if(Xe.type==="block"){var v=Xe.block;if(v==null)continue;var k=v.getDescendants(!1);for(let On=0,Sn;Sn=k[On];On++)Sn.isInFlyout=!0;k=v.getSvgRoot();const It=v.getHeightWidth();var J=v.outputConnection?this.tabWidth_:0;J=this.RTL?d+It.width:d-J,v.moveBy(J,r),J=this.createRect_(v,J,r,It,ge),d+=It.width+s[ge],this.addBlockListeners_(k,v,J)}else Xe.type==="button"&&(v=Xe.button,this.initFlyoutButton_(v,d,r),d+=v.width+s[ge])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const s=this.dragAngleRange_;return e<90+s&&e>90-s||e>-90-s&&e<-90+s}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),s=e.top;return this.toolboxPosition_===Jt.TOP?new yn(-1e9,s+e.height,-1e9,1e9):new yn(s,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;const s=this.workspace_.getTopBlocks(!1);for(let d=0,v;v=s[d];d++)e=Math.max(e,v.getHeightWidth().height);const r=this.buttons_;for(let d=0,v;v=r[d];d++)e=Math.max(e,v.height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,e+=Wn.scrollbarThickness,this.height_!==e){for(let d=0,v;v=s[d];d++)this.rectMap_.has(v)&&this.moveRectToBlock_(this.rectMap_.get(v),v);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Jt.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};i(ut.FLYOUTS_HORIZONTAL_TOOLBOX,Ei,Vw);var Bd=class extends wi{constructor(e,s,r,d,v){super(En.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=Bd.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new cn(0,0),e!==En.SKIP_SETUP&&(v?this.configure_(v):this.setTypes(r,d),s&&this.setValidator(s))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new zn;this.variable||(e=o.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new zn;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var s=this.getSourceBlock();if(!s)throw new zn;const r=e.getAttribute("id"),d=e.textContent,v=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(s=o.getOrCreateVariablePackage$$module$build$src$core$variables(s.workspace,r,d,v),v!==null&&v!==s.type)throw Error("Serialized variable type with id '"+s.getId()+"' had type "+s.type+", and does not match variable field that references it: "+bi(e)+".");this.setValue(s.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.name,this.variable.type&&e.setAttribute("variabletype",this.variable.type),e}saveState(e){var s=this.saveLegacyState(Bd);return s!==null||(this.initModel(),s={id:this.variable.getId()},e&&(s.name=this.variable.name,s.type=this.variable.type)),s}loadState(e){const s=this.getSourceBlock();if(!s)throw new zn;this.loadLegacyState(Bd,e)||(e=o.getOrCreateVariablePackage$$module$build$src$core$variables(s.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.name:""}getVariable(){return this.variable}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(e===null)return null;var s=this.getSourceBlock();if(!s)throw new zn;return s=o.getVariable$$module$build$src$core$variables(s.workspace,e),s?(s=s.type,this.typeIsAllowed(s)?e:(console.warn("Variable type doesn't match this field!  Type was "+s),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const s=this.getSourceBlock();if(!s)throw new zn;this.variable=o.getVariable$$module$build$src$core$variables(s.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const s=this.getVariableTypes();if(!s)return!0;for(let r=0;r<s.length;r++)if(e===s[r])return!0;return!1}getVariableTypes(){var e=this.variableTypes;if(e===null&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(e=e||[""],e.length===0)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e}setTypes(e=null,s=""){if(Array.isArray(e)){let r=!1;for(let d=0;d<e.length;d++)e[d]===s&&(r=!0);if(!r)throw Error("Invalid default type '"+s+"' in the definition of a FieldVariable")}else if(e!==null)throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType=s,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,s){if(e=s.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===X_){o.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(e===Y_){this.sourceBlock_.workspace.deleteVariableById(this.variable.getId());return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(Un(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let s=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var r=this.getVariableTypes(),d=0;d<r.length;d++){const v=this.sourceBlock_.workspace.getVariablesOfType(r[d]);s=s.concat(v)}for(s.sort(_d.compareByName),r=[],d=0;d<s.length;d++)r[d]=[s[d].name,s[d].getId()];return r.push([o.Msg$$module$build$src$core$msg.RENAME_VARIABLE,X_]),o.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&r.push([o.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),Y_]),r}};Ti("field_variable",Bd);var db=class extends Af{constructor(e,s,r,d,v,k){super(En.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==En.SKIP_SETUP&&(k?this.configure_(k):this.setConstraints(s,r,d),this.setValue(e),v&&this.setValidator(v))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,s,r){this.setMinInternal(e),this.setMaxInternal(s),this.setPrecisionInternal(r),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let s=String(this.precision_);s.includes("e")&&(s=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const r=s.indexOf(".");this.decimalPlaces=r===-1?e?0:null:s.length-r-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e=`${e}`.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces!==null&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){const e=super.widgetCreate_();return-1/0<this.min_&&(e.min=`${this.min_}`,co(e,no.VALUEMIN,this.min_)),1/0>this.max_&&(e.max=`${this.max_}`,co(e,no.VALUEMAX,this.max_)),e}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};Ti("field_number",db),db.prototype.DEFAULT_VALUE=0;var Uw=class extends la{constructor(e,s,r){super(String(e??""),s,r),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(Un(e.text),void 0,e)}};Ti("field_label_serializable",Uw);var ha=class extends En{constructor(e,s,r){super(En.SKIP_SETUP),this.SERIALIZABLE=!0,this.CURSOR="default",this.value_=this.value_,this.checkChar=ha.CHECK_CHAR,e!==En.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),s&&this.setValidator(s))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(ha);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();we(e,"blocklyCheckbox"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||ha.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool_(this.value_))}convertValueToBool_(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};ha.CHECK_CHAR="✓",Ti("field_checkbox",ha),ha.prototype.DEFAULT_VALUE=!1;var Gw=class{constructor(e,s){this.draggable=e,this.workspace=s,this.dragTarget=null,this.startLoc=e.getRelativeToSurfaceXY()}onDragStart(e){this.draggable.startDrag(e)}onDrag(e,s){this.moveDraggable(e,s),s=this.getRoot(this.draggable),Cs(s)&&s.setDeleteStyle(this.wouldDeleteDraggable(e,s)),this.updateDragTarget(e)}updateDragTarget(e){e=this.workspace.getDragTarget(e);const s=this.getRoot(this.draggable);if(this.dragTarget!==e){let r;(r=this.dragTarget)==null||r.onDragExit(s),e==null||e.onDragEnter(s)}e==null||e.onDragOver(s),this.dragTarget=e}moveDraggable(e,s){s=this.pixelsToWorkspaceUnits(s),s=ht.sum(this.startLoc,s),this.draggable.drag(s,e)}wouldDeleteDraggable(e,s){return(e=this.workspace.getDragTarget(e))&&this.workspace.getComponentManager().hasCapability(e.id,to.Capability.DELETE_AREA)?e.wouldDelete(s):!1}onDragEnd(e){const s=o.getGroup$$module$build$src$core$events$utils();var r=this.workspace.getDragTarget(e);const d=this.getRoot(this.draggable);if(r){let v;(v=this.dragTarget)==null||v.onDrop(d)}this.shouldReturnToStart(e,d)&&this.draggable.revertDrag(),(r=Cs(d)&&this.wouldDeleteDraggable(e,d))&&this.draggable instanceof Ns&&wp(this.draggable.getRootBlock()),this.draggable.endDrag(e),r&&Cs(d)&&(e=o.getGroup$$module$build$src$core$events$utils(),o.setGroup$$module$build$src$core$events$utils(s),d.dispose(),o.setGroup$$module$build$src$core$events$utils(e))}getRoot(e){return e instanceof Ns?e.getRootBlock():e}shouldReturnToStart(e,s){return(e=this.workspace.getDragTarget(e))?e.shouldPreventMove(s):!1}pixelsToWorkspaceUnits(e){return e=new ht(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}};i(ut.BLOCK_DRAGGER,Ei,Gw);var Fd={};Fd.BlockDragStrategy=Tw,Fd.BubbleDragStrategy=tw,Fd.CommentDragStrategy=NI,Fd.Dragger=Gw;var hb=class extends Si{constructor(e,s,r){super(e?e.workspace.id:void 0),this.type=Wl,e&&(this.blockId=e.id,this.isStart=s,this.blocks=r)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new hb),s.isStart=e.isStart,s.blockId=e.blockId,s.blocks=e.blocks,s}};i(ut.EVENT,Wl,hb);var pb=class extends ea{constructor(e,s,r,d){super(e),this.type=Ul,this.recordUndo=!1,e&&(this.name=s,this.oldValue=r,this.newValue=d)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new pb),s.name=e.name,s.oldValue=e.oldValue,s.newValue=e.newValue,s}isNull(){return this.oldValue===this.newValue}run(e){var s=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(s=s.getBlockById(this.blockId),!s)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(s=s.getField(this.name))?s.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};i(ut.EVENT,Ul,pb);var fb=class extends ea{constructor(e){super(e),this.type=o.MOVE$$module$build$src$core$events$utils,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new fb),s.oldParentId=e.oldParentId,s.oldInputName=e.oldInputName,e.oldCoordinate&&(r=e.oldCoordinate.split(","),s.oldCoordinate=new ht(Number(r[0]),Number(r[1]))),s.newParentId=e.newParentId,s.newInputName=e.newInputName,e.newCoordinate&&(r=e.newCoordinate.split(","),s.newCoordinate=new ht(Number(r[0]),Number(r[1]))),e.reason!==void 0&&(s.reason=e.reason),e.recordUndo!==void 0&&(s.recordUndo=e.recordUndo),s}recordNew(){const e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation_(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var s=e.getBlockById(this.blockId);if(!s)throw Error("The block associated with the block move event could not be found");e={};const r=s.getParent();return r?(e.parentId=r.id,(s=r.getInputWithBlock(s))&&(e.inputName=s.name)):e.coordinate=s.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&ht.equals(this.oldCoordinate,this.newCoordinate)}run(e){var s=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var r=s.getBlockById(this.blockId);if(r){var d=e?this.newParentId:this.oldParentId,v=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,d){var k=s.getBlockById(d);if(!k){console.warn("Can't connect to non-existent block: "+d);return}}if(r.getParent()&&r.unplug(),e)v=r.getRelativeToSurfaceXY(),r.moveBy(e.x-v.x,e.y-v.y,this.reason);else{s=r.outputConnection,(!s||r.previousConnection&&r.previousConnection.isConnected())&&(s=r.previousConnection);let J,ge;r=(ge=s)==null?void 0:ge.type,v?(r=k.getInput(v))&&(J=r.connection):r===wt.PREVIOUS_STATEMENT&&(J=k.nextConnection),J&&s?s.connect(J):console.warn("Can't connect to non-existent input: "+v)}}else console.warn("Can't move non-existent block: "+this.blockId)}};i(ut.EVENT,o.MOVE$$module$build$src$core$events$utils,fb);var mb=class extends Si{constructor(e,s,r){super(e?e.workspace.id:void 0),this.type=Ci,e&&(this.blockId=e.id,this.isOpen=s,this.bubbleType=r)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new mb),s.isOpen=e.isOpen,s.bubbleType=e.bubbleType,s.blockId=e.blockId,s}},gb;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(gb||(gb={})),i(ut.EVENT,Ci,mb);var mr=class extends vu{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=o.getGroup$$module$build$src$core$events$utils(),this.recordUndo=T())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new mr),s.commentId=e.commentId,s}static CommentCreateDeleteHelper(e,s){const r=e.getEventWorkspace_();if(s){if(!e.json)throw Error("Encountered a comment event without proper json");qc(e.json,r)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(s=r.getCommentById(e.commentId))?s.dispose():console.warn("Can't delete non-existent comment: "+e.commentId)}}},$b=class extends mr{constructor(e,s,r){super(e),this.type=$u,e&&(this.oldContents_=typeof s>"u"?"":s,this.newContents_=typeof r>"u"?"":r)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new $b),s.oldContents_=e.oldContents,s.newContents_=e.newContents,s}isNull(){return this.oldContents_===this.newContents_}run(e){var s=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(s=s.getCommentById(this.commentId)){var r=e?this.newContents_:this.oldContents_;if(r===void 0)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");s.setText(r)}else console.warn("Can't change non-existent comment: "+this.commentId)}};i(ut.EVENT,$u,$b);var vb=class extends mr{constructor(e){super(e),this.type=nr,e&&(this.xml=sd(e),this.json=Ja(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=bi(this.xml),e.json=this.json,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new vb),s.xml=o.textToDom$$module$build$src$core$utils$xml(e.xml),s.json=e.json,s}run(e){mr.CommentCreateDeleteHelper(this,e)}};i(ut.EVENT,nr,vb);var _b=class extends mr{constructor(e){super(e),this.type=gu,e&&(this.xml=sd(e),this.json=Ja(e,{addCoordinates:!0}))}run(e){mr.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=bi(this.xml),e.json=this.json,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new _b),s.xml=o.textToDom$$module$build$src$core$utils$xml(e.xml),s.json=e.json,s}};i(ut.EVENT,gu,_b);var bb=class extends mr{constructor(e){super(e),this.type=or,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(e){this.reason=e}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new bb),r=e.oldCoordinate.split(","),s.oldCoordinate_=new ht(Number(r[0]),Number(r[1])),r=e.newCoordinate.split(","),s.newCoordinate_=new ht(Number(r[0]),Number(r[1])),s}isNull(){return ht.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var s=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(s=s.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");s.moveTo(e)}else console.warn("Can't move non-existent comment: "+this.commentId)}};i(ut.EVENT,or,bb);var Tb=class extends mr{constructor(e,s){super(e),this.newCollapsed=s,this.type=cd}toJson(){const e=super.toJson();if(this.newCollapsed===void 0)throw Error("The new collapse value undefined. Either call recordNew, or call fromJson");return e.newCollapsed=this.newCollapsed,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new Tb),s.newCollapsed=e.newCollapsed,s}run(e){var s=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(s=s.getCommentById(this.commentId))?s.setCollapsed(e?!!this.newCollapsed:!this.newCollapsed):console.warn("Can't collapse or uncollapse non-existent comment: "+this.commentId)}};i(ut.EVENT,cd,Tb);var yb=class extends Si{constructor(e,s,r){super(r),this.type=fu,this.oldItem=e??void 0,this.newItem=s??void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new yb),s.oldItem=e.oldItem,s.newItem=e.newItem,s}};i(ut.EVENT,fu,yb);var Ww=class extends vu{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=zl,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};i(ut.EVENT,zl,Ww),o.CHANGE$$module$build$src$core$events$utils,o.CREATE$$module$build$src$core$events$utils,o.DELETE$$module$build$src$core$events$utils,o.MOVE$$module$build$src$core$events$utils,o.CHANGE$$module$build$src$core$events$utils,o.CREATE$$module$build$src$core$events$utils,o.DELETE$$module$build$src$core$events$utils,o.MOVE$$module$build$src$core$events$utils,o.disable$$module$build$src$core$events$utils,o.enable$$module$build$src$core$events$utils,o.getGroup$$module$build$src$core$events$utils,o.setGroup$$module$build$src$core$events$utils,o.setRecordUndo$$module$build$src$core$events$utils;var Ot={};Ot.Abstract=vu,Ot.BLOCK_CHANGE=o.CHANGE$$module$build$src$core$events$utils,Ot.BLOCK_CREATE=o.CREATE$$module$build$src$core$events$utils,Ot.BLOCK_DELETE=o.DELETE$$module$build$src$core$events$utils,Ot.BLOCK_DRAG=Wl,Ot.BLOCK_FIELD_INTERMEDIATE_CHANGE=Ul,Ot.BLOCK_MOVE=o.MOVE$$module$build$src$core$events$utils,Ot.BUBBLE_OPEN=Ci,Ot.BUMP_EVENTS=Gp,Ot.BlockBase=ea,Ot.BlockChange=ta,Ot.BlockCreate=O_,Ot.BlockDelete=G_,Ot.BlockDrag=hb,Ot.BlockFieldIntermediateChange=pb,Ot.BlockMove=fb,Ot.BubbleOpen=mb,Ot.BubbleType=gb,Ot.CHANGE=o.CHANGE$$module$build$src$core$events$utils,Ot.CLICK=tr,Ot.COMMENT_CHANGE=$u,Ot.COMMENT_CREATE=nr,Ot.COMMENT_DELETE=gu,Ot.COMMENT_MOVE=or,Ot.CREATE=o.CREATE$$module$build$src$core$events$utils,Ot.Click=Kv,Ot.ClickTarget=Xv,Ot.CommentBase=mr,Ot.CommentChange=$b,Ot.CommentCollapse=Tb,Ot.CommentCreate=vb,Ot.CommentDelete=_b,Ot.CommentMove=bb,Ot.DELETE=o.DELETE$$module$build$src$core$events$utils,Ot.FINISHED_LOADING=zl,Ot.FinishedLoading=Ww,Ot.MARKER_MOVE=hu,Ot.MOVE=o.MOVE$$module$build$src$core$events$utils,Ot.MarkerMove=W_,Ot.SELECTED=du,Ot.Selected=Q_,Ot.THEME_CHANGE=mu,Ot.TOOLBOX_ITEM_SELECT=fu,Ot.TRASHCAN_OPEN=pu,Ot.ThemeChange=R_,Ot.ToolboxItemSelect=yb,Ot.TrashcanOpen=Z_,Ot.UI=Vp,Ot.UiBase=Si,Ot.VAR_CREATE=er,Ot.VAR_DELETE=Gl,Ot.VAR_RENAME=cu,Ot.VIEWPORT_CHANGE=Wr,Ot.VarBase=vd,Ot.VarCreate=i_,Ot.VarDelete=j_,Ot.VarRename=q_,Ot.ViewportChange=A_,Ot.clearPendingUndo=C,Ot.disable=o.disable$$module$build$src$core$events$utils,Ot.disableOrphans=H,Ot.enable=o.enable$$module$build$src$core$events$utils,Ot.filter=I,Ot.fire=$,Ot.fromJson=P,Ot.get=M,Ot.getDescendantIds=O,Ot.getGroup=o.getGroup$$module$build$src$core$events$utils,Ot.getRecordUndo=T,Ot.isEnabled=S,Ot.setGroup=o.setGroup$$module$build$src$core$events$utils,Ot.setRecordUndo=o.setRecordUndo$$module$build$src$core$events$utils;var si={};si.BottomRow=Aw,si.ConstantProvider=Ow,si.Drawer=Rw,si.MarkerSvg=Dw,si.PathObject=Pw,si.RenderInfo=Mw,si.Renderer=ub,si.RightConnectionShape=Nw,si.StatementInput=Lf,si.TopRow=Lw,Gv();var oo={};oo.registerCleanup=wv,oo.registerCollapse=Ov,oo.registerCollapseExpandBlock=Pv,oo.registerComment=Mv,oo.registerCommentCreate=Uv,oo.registerCommentDelete=Hv,oo.registerCommentDuplicate=Vv,oo.registerCommentOptions=KS,oo.registerDefaultOptions=Gv,oo.registerDelete=Bv,oo.registerDeleteAll=Nv,oo.registerDisable=xv,oo.registerDuplicate=Lv,oo.registerExpand=Rv,oo.registerHelp=Fv,oo.registerInline=Dv,oo.registerRedo=Iv,oo.registerUndo=Sv;var Df={};Df.CommentView=AI,Df.RenderedWorkspaceComment=pf,Df.WorkspaceComment=tf;var Hd={};Hd.Bubble=vn,Hd.MiniWorkspaceBubble=ur,Hd.TextBubble=M_,Hd.TextInputBubble=sw;var zw=class extends yf{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},Kw=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(e){this.steps_+=Rn(e.xPos,this.info_.startY);for(let s=0,r;r=e.elements[s];s++)Oe.isLeftSquareCorner(r)?this.steps_+=this.highlightConstants_.START_POINT:Oe.isLeftRoundedCorner(r)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):Oe.isPreviousConnection(r)?this.steps_+=this.notchPaths_.pathLeft:Oe.isHat(r)?this.steps_+=this.startPaths_.path(this.RTL_):Oe.isSpacer(r)&&r.width!==0&&(this.steps_+=kt("H",r.xPos+r.width-this.highlightOffset));this.steps_+=kt("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+kt("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const s=e.getLastInput();if(this.RTL_){const r=e.height-s.connectionHeight;this.steps_+=eo(s.xPos+s.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+kt("v",r)}else this.steps_+=eo(s.xPos+s.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const s=e.getLastInput();if(s)if(this.RTL_){const r=e.height-2*this.insideCornerPaths_.height;this.steps_+=eo(s.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+kt("v",r)+this.insideCornerPaths_.pathBottom(this.RTL_)+yi(e.width-s.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=eo(s.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+yi(e.width-s.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const s=e.xPos+e.width-this.highlightOffset;e instanceof V_&&e.followsStatement&&(this.steps_+=kt("H",s)),this.RTL_&&(this.steps_+=kt("H",s),e.height>this.highlightOffset&&(this.steps_+=kt("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=kt("V",e.baseline-this.highlightOffset);else{const s=this.info_.bottomRow.elements[0];Oe.isLeftSquareCorner(s)?this.steps_+=eo(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):Oe.isLeftRoundedCorner(s)&&(this.steps_+=eo(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=eo(this.info_.startX,e):(this.steps_+=eo(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=kt("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,Oe.isLeftRoundedCorner(e.elements[0])?this.steps_+=kt("V",this.outsideCornerPaths_.height):this.steps_+=kt("V",e.capline+this.highlightOffset))}drawInlineInput(e){const s=this.highlightOffset,r=e.xPos+e.connectionWidth;var d=e.centerline-e.height/2;const v=e.width-e.connectionWidth,k=d+s;this.RTL_?(d=e.connectionOffsetY-s,e=e.height-(e.connectionOffsetY+e.connectionHeight)+s,this.inlineSteps_+=eo(r-s,k)+kt("v",d)+this.puzzleTabPaths_.pathDown(this.RTL_)+kt("v",e)+kt("h",v)):this.inlineSteps_+=eo(e.xPos+e.width+s,k)+kt("v",e.height)+kt("h",-v)+eo(r,d+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},Xw=class extends Ef{constructor(e,s){super(e,s),this.highlighter_=new Kw(s)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+`
`+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=kt("H",e.xPos+e.width)+kt("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const s=e.centerline-e.height/2;if(e.connectionModel){let r=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(r*=-1),e.connectionModel.setOffsetInBlock(r,s+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const s=e.getLastInput();if(s!=null&&s.connectionModel){let r=e.xPos+e.statementEdge+s.notchOffset;r=this.info_.RTL?-1*r:r+this.constants_.DARK_PATH_OFFSET,s.connectionModel.setOffsetInBlock(r,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const s=e.getLastInput();if(s&&s.connectionModel){let r=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(r*=-1),s.connectionModel.setOffsetInBlock(r,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const s=e.connection,r=s.xPos;s.connectionModel.setOffsetInBlock((this.info_.RTL?-r:r)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},Yw=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=Rn(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,s=this.OFFSET,r=(1-Math.SQRT1_2)*(e+s)-s,d=Rn(r,r)+Gn("a","0 0,0",e,Ht(-r-s,e-r)),v=Gn("a","0 0,0",e+s,Ht(e+s,e+s)),k=Rn(r,-r)+Gn("a","0 0,0",e+s,Ht(e-r,r+s));return{width:e+s,height:e,pathTop(J){return J?d:""},pathBottom(J){return J?v:k}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,s=this.OFFSET,r=(1-Math.SQRT1_2)*(e-s)+s,d=Rn(r,r)+Gn("a","0 0,1",e-s,Ht(e-r,-r+s)),v=Rn(s,e)+Gn("a","0 0,1",e-s,Ht(e,-e+s)),k=-r,J=Rn(r,k)+Gn("a","0 0,1",e-s,Ht(-r+s,-k-e));return{height:e,topLeft(ge){return ge?d:v},bottomLeft(){return J}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,s=this.constantProvider.TAB_HEIGHT,r=Rn(-2,-s+3.4)+yi(-.45*e,-2.1),d=kt("v",2.5)+Rn(.97*-e,2.5)+Qo("q",[Ht(.05*-e,10),Ht(.3*e,9.5)])+Rn(.67*e,-1.9)+kt("v",2.5),v=kt("v",-1.5)+Rn(-.92*e,-.5)+Qo("q",[Ht(-.19*e,-5.5),Ht(0,-11)])+Rn(.92*e,1),k=Rn(-5,s-.7)+yi(.46*e,-2.1);return{width:e,height:s,pathUp(J){return J?r:v},pathDown(J){return J?d:k}}}makeNotch(){return{pathLeft:kt("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:yi(5.1,2.6)+Rn(-10.2,6.8)+yi(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,s=Rn(25,-8.7)+Qo("c",[Ht(29.7,-6.2),Ht(57.2,-.5),Ht(75,8.7)]),r=Qo("c",[Ht(17.8,-9.2),Ht(45.3,-14.9),Ht(75,-8.7)])+eo(100.5,e+.5);return{path(d){return d?s:r}}}},jw=class extends F_{constructor(e,s){super(e,s),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},qw=class extends Ad{constructor(e,s){super(e,s),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},Jw=class extends Md{constructor(e,s){super(e,s),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof ms||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,s){this.isInline&&e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(s.elements.push(new jw(this.constants_,e)),s.hasInlineInput=!0):e instanceof ms?(s.elements.push(new qw(this.constants_,e)),s.hasStatement=!0):e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(s.elements.push(new Tf(this.constants_,e)),s.hasExternalInput=!0):(e instanceof Oi||e instanceof fr)&&(s.minHeight=Math.max(s.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),s.hasDummyInput=!0),this.isInline||s.align!==null||(s.align=e.align)}addElemSpacing_(){let e=!1;for(let r=0,d;d=this.rows[r];r++)d.hasExternalInput&&(e=!0);for(let r=0,d;d=this.rows[r];r++){var s=d.elements;if(d.elements=[],d.startsWithElemSpacer()&&d.elements.push(new fs(this.constants_,this.getInRowSpacing_(null,s[0]))),s.length){for(let v=0;v<s.length-1;v++){d.elements.push(s[v]);const k=this.getInRowSpacing_(s[v],s[v+1]);d.elements.push(new fs(this.constants_,k))}d.elements.push(s[s.length-1]),d.endsWithElemSpacer()&&(s=this.getInRowSpacing_(s[s.length-1],null),e&&d.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),d.elements.push(new fs(this.constants_,s)))}}}getInRowSpacing_(e,s){if(!e)return s&&Oe.isField(s)&&s.isEditable?this.constants_.MEDIUM_PADDING:s&&Oe.isInlineInput(s)?this.constants_.MEDIUM_LARGE_PADDING:s&&Oe.isStatementInput(s)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Oe.isInput(e)&&(!s||Oe.isStatementInput(s)))return Oe.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:Oe.isIcon(e)?2*this.constants_.LARGE_PADDING+1:Oe.isHat(e)?this.constants_.NO_PADDING:Oe.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:Oe.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:Oe.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Oe.isInput(e)&&!s){if(Oe.isExternalInput(e))return this.constants_.NO_PADDING;if(Oe.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Oe.isStatementInput(e))return this.constants_.NO_PADDING}if(!Oe.isInput(e)&&s&&Oe.isInput(s)){if(Oe.isField(e)&&e.isEditable){if(Oe.isInlineInput(s)||Oe.isExternalInput(s))return this.constants_.SMALL_PADDING}else{if(Oe.isInlineInput(s)||Oe.isExternalInput(s))return this.constants_.MEDIUM_LARGE_PADDING;if(Oe.isStatementInput(s))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Oe.isIcon(e)&&s&&!Oe.isInput(s))return this.constants_.LARGE_PADDING;if(Oe.isInlineInput(e)&&s&&Oe.isField(s))return s.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Oe.isLeftSquareCorner(e)&&s){if(Oe.isHat(s))return this.constants_.NO_PADDING;if(Oe.isPreviousConnection(s))return s.notchOffset;if(Oe.isNextConnection(s))return s.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(Oe.isLeftRoundedCorner(e)&&s){if(Oe.isPreviousConnection(s))return s.notchOffset-this.constants_.CORNER_RADIUS;if(Oe.isNextConnection(s))return s.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return Oe.isField(e)&&s&&Oe.isField(s)&&e.isEditable===s.isEditable||s&&Oe.isJaggedEdge(s)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,s){return Oe.isTopRow(e)&&Oe.isBottomRow(s)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Oe.isTopRow(e)||Oe.isBottomRow(s)?this.constants_.NO_PADDING:e.hasExternalInput&&s.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&s.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&s.hasStatement||!e.hasStatement&&s.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,s){if(Oe.isSpacer(s))return e.yPos+s.height/2;if(Oe.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,Oe.isNextConnection(s)?e+s.height/2:e-s.height/2;if(Oe.isTopRow(e))return Oe.isHat(s)?e.capline-s.height/2:e.capline+s.height/2;let r=e.yPos;return Oe.isField(s)||Oe.isIcon(s)?(r+=s.height/2,(e.hasInlineInput||e.hasStatement)&&s.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(r+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):r=Oe.isInlineInput(s)?r+s.height/2:r+e.height/2,r}alignRowElements_(){if(this.isInline){var e=0,s=new WeakMap,r=null;for(let d=this.rows.length-1,v;v=this.rows[d];d--)s.set(v,e),Oe.isInputRow(v)&&(v.hasStatement&&this.alignStatementRow_(v),r&&r.hasStatement&&v.width<r.width?s.set(v,r.width):e=v.hasStatement?v.width:Math.max(e,v.width),r=v);e=0;for(let d=0,v;v=this.rows[d];d++)v.hasStatement?e=this.getDesiredRowWidth_(v):Oe.isSpacer(v)?v.width=Math.max(e,s.get(v)):(r=v.width,e=Math.max(e,s.get(v))-r,0<e&&this.addAlignmentPadding_(v,e),e=v.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,s=0;for(let d=0,v;v=this.rows[d];d++){v.yPos=s,v.xPos=this.startX,s+=v.height,e=Math.max(e,v.widthWithConnectedBlocks);var r=s-this.topRow.ascenderHeight;v===this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,s+=r),this.recordElemPositions_(v)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(r=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,r.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=s-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=s+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},Zw=class extends Cf{constructor(e,s,r){super(e,s,r),this.constants=r,this.colourDark="#000000",this.svgPathDark=ue(Be.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=ue(Be.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=Bl("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},Qw=class extends Sf{constructor(e){super(e),this.highlightConstants=null}init(e,s){super.init(e,s),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,s){super.refreshDom(e,s),this.getHighlightConstants().init()}makeConstants_(){return new zw}makeRenderInfo_(e){return new Jw(this,e)}makeDrawer_(e,s){return new Xw(e,s)}makePathObject(e,s){return new Zw(e,s,this.getConstants())}makeHighlightConstants_(){return new Yw(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};ld("geras",Qw);var Ni={};Ni.ConstantProvider=zw,Ni.Drawer=Xw,Ni.HighlightConstantProvider=Yw,Ni.Highlighter=Kw,Ni.InlineInput=jw,Ni.PathObject=Zw,Ni.RenderInfo=Jw,Ni.Renderer=Qw,Ni.StatementInput=qw;var ek=class extends Md{constructor(e,s){super(e,s)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var s=0;s<this.rows.length;s++)if(this.rows[s].hasExternalInput){e=!0;break}for(s=0;s<this.rows.length;s++){const d=this.rows[s];var r=d.elements;if(d.elements=[],d.startsWithElemSpacer()&&d.elements.push(new fs(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(let v=0;v<r.length-1;v++){d.elements.push(r[v]);const k=this.getInRowSpacing_(r[v],r[v+1]);d.elements.push(new fs(this.constants_,k))}d.elements.push(r[r.length-1]),d.endsWithElemSpacer()&&(r=this.getInRowSpacing_(r[r.length-1],null),e&&d.hasDummyInput&&(r+=this.constants_.TAB_WIDTH),d.elements.push(new fs(this.constants_,r)))}}}getInRowSpacing_(e,s){if(!e)return s&&Oe.isField(s)&&s.isEditable?this.constants_.MEDIUM_PADDING:s&&Oe.isInlineInput(s)?this.constants_.MEDIUM_LARGE_PADDING:s&&Oe.isStatementInput(s)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Oe.isInput(e)&&!s)return Oe.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:Oe.isIcon(e)?2*this.constants_.LARGE_PADDING+1:Oe.isHat(e)?this.constants_.NO_PADDING:Oe.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:Oe.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:Oe.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Oe.isInput(e)&&!s){if(Oe.isExternalInput(e))return this.constants_.NO_PADDING;if(Oe.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Oe.isStatementInput(e))return this.constants_.NO_PADDING}if(!Oe.isInput(e)&&s&&Oe.isInput(s)){if(Oe.isField(e)&&e.isEditable){if(Oe.isInlineInput(s)||Oe.isExternalInput(s))return this.constants_.SMALL_PADDING}else{if(Oe.isInlineInput(s)||Oe.isExternalInput(s))return this.constants_.MEDIUM_LARGE_PADDING;if(Oe.isStatementInput(s))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Oe.isIcon(e)&&s&&!Oe.isInput(s))return this.constants_.LARGE_PADDING;if(Oe.isInlineInput(e)&&s&&Oe.isField(s))return s.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Oe.isLeftSquareCorner(e)&&s){if(Oe.isHat(s))return this.constants_.NO_PADDING;if(Oe.isPreviousConnection(s)||Oe.isNextConnection(s))return s.notchOffset}return Oe.isLeftRoundedCorner(e)&&s?s.notchOffset-this.constants_.CORNER_RADIUS:Oe.isField(e)&&s&&Oe.isField(s)&&e.isEditable===s.isEditable||s&&Oe.isJaggedEdge(s)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,s){return Oe.isTopRow(e)&&Oe.isBottomRow(s)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Oe.isTopRow(e)||Oe.isBottomRow(s)?this.constants_.NO_PADDING:e.hasExternalInput&&s.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&s.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&s.hasStatement||e.hasDummyInput||s.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,s){if(Oe.isSpacer(s))return e.yPos+s.height/2;if(Oe.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,Oe.isNextConnection(s)?e+s.height/2:e-s.height/2;if(Oe.isTopRow(e))return Oe.isHat(s)?e.capline-s.height/2:e.capline+s.height/2;let r=e.yPos;return r=Oe.isField(s)&&e.hasStatement?r+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+s.height/2):r+e.height/2}finalize_(){let e=0,s=0;for(var r=0;r<this.rows.length;r++){const v=this.rows[r];v.yPos=s,v.xPos=this.startX,s+=v.height,e=Math.max(e,v.widthWithConnectedBlocks);var d=s-this.topRow.ascenderHeight;v===this.bottomRow&&d<this.constants_.MIN_BLOCK_HEIGHT&&(d=this.constants_.MIN_BLOCK_HEIGHT-d,this.bottomRow.height+=d,s+=d),this.recordElemPositions_(v)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(r=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,r.getHeightWidth().width)),this.bottomRow.baseline=s-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=s,this.startY=this.topRow.capline}},tk=class extends Sf{constructor(e){super(e)}makeRenderInfo_(e){return new ek(this,e)}};ld("thrasos",tk);var Eb={};Eb.RenderInfo=ek,Eb.Renderer=tk;var qx={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},Jx={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},Zx=new ra("zelos",qx,Jx),Qx={Classic:mf,Zelos:Zx},Cb=class{constructor(e,s,r){this.id_=e.toolboxitemid||_(),this.level_=(this.parent_=r||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=s,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}},ii=class extends Cb{constructor(e,s,r){super(e,s,r),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let s=0;s<e.length;s++){const r=e[s];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(r)}}parseCategoryDef_(e){this.name_="name"in e?Un(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),Br(this.htmlDiv_,ei.TREEITEM),co(this.htmlDiv_,no.SELECTED,!1),co(this.htmlDiv_,no.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),Br(this.iconDom_,ei.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&co(this.htmlDiv_,no.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div"),s=this.cssConfig_.container;return s&&we(e,s),e}createRowContainer_(){const e=document.createElement("div");var s=this.cssConfig_.row;return s&&we(e,s),s=`${ii.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=s:e.style.paddingLeft=s,e}createRowContentsContainer_(){const e=document.createElement("div"),s=this.cssConfig_.rowcontentcontainer;return s&&we(e,s),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const s=this.cssConfig_.icon;s&&we(e,s)}return e.style.display="inline-block",e}createLabelDom_(e){const s=document.createElement("span");return s.setAttribute("id",this.getId()+".label"),s.textContent=e,(e=this.cssConfig_.label)&&we(s,e),s}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=ii.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const s=e.categorystyle||e.categoryStyle;if((e=e.colour)&&s)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(s)return this.getColourfromStyle_(s);if(e)return this.parseColour_(e)}return""}getColourfromStyle_(e){var s=this.workspace_.getTheme();if(e&&s){if((s=s.categoryStyles[e])&&s.colour)return this.parseColour_(s.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour_(e){if(e=Un(e),e==null||e==="")return"";var s=Number(e);return isNaN(s)?(s=xl(e))?s:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):L$(s)}openIcon_(e){if(e){var s=this.cssConfig_.closedicon;s&&ke(e,s),(s=this.cssConfig_.openicon)&&we(e,s)}}closeIcon_(e){if(e){var s=this.cssConfig_.openicon;s&&ke(e,s),(s=this.cssConfig_.closedicon)&&we(e,s)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var s=this.cssConfig_.selected;if(e){const r=this.parseColour_(ii.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||r,s&&we(this.rowDiv_,s)}else this.rowDiv_.style.backgroundColor="",s&&Ge(this.rowDiv_,s);co(this.htmlDiv_,no.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:Yi(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){q(this.htmlDiv_)}};ii.registrationName="category",ii.nestedPadding=19,ii.borderWidth=8,ii.defaultBackgroundColour="#57e",De(`
.blocklyTreeRow:not(.blocklyTreeSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {
  margin: 1px 5px 1px 0;
}

.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {
  margin: 1px 0 1px 5px;
}

.blocklyTreeRow {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyTreeIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyTreeIconClosed {
  background-position: -32px -1px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {
  background-position: 0 -1px;
}

.blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: -32px -17px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: 0 -17px;
}

.blocklyTreeIconOpen {
  background-position: -16px -1px;
}

.blocklyTreeSelected>.blocklyTreeIconOpen {
  background-position: -16px -17px;
}

.blocklyTreeLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyTreeLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyTreeSelected .blocklyTreeLabel {
  color: #fff;
}
`),i(ut.TOOLBOX_ITEM,ii.registrationName,ii);var Vd=class extends Cb{constructor(e,s){super(e,s),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv_=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div"),s=this.cssConfig_.container;return s&&we(e,s),this.htmlDiv_=e}getDiv(){return this.htmlDiv_}dispose(){q(this.htmlDiv_)}};Vd.registrationName="sep",De(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),i(ut.TOOLBOX_ITEM,Vd.registrationName,Vd);var Vu=class extends ii{constructor(e,s,r){super(e,s,r),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxContents",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const s=e.contents;if(s){this.flyoutItems_=[],e=!0;for(let r=0;r<s.length;r++){const d=s[r];!h(ut.TOOLBOX_ITEM,d.kind)||d.kind.toLowerCase()===Vd.registrationName&&e?(this.flyoutItems_.push(d),e=!0):(this.createToolboxItem_(d),e=!1)}}}}createToolboxItem_(e){let s=e.kind;s.toUpperCase()==="CATEGORY"&&xr(e)&&(s=Vu.registrationName),e=new(p(ut.TOOLBOX_ITEM,s))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),Br(this.subcategoriesDiv_,ei.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),co(this.htmlDiv_,no.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const s=this.cssConfig_.icon;s&&we(e,s),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const s=document.createElement("div");s.style.display="none";var r=this.cssConfig_.contents;for(r&&we(s,r),r=0;r<e.length;r++){const d=e[r];d.init();const v=d.getDiv();if(s.appendChild(v),d.getClickTarget){let k;(k=d.getClickTarget())==null||k.setAttribute("id",d.getId())}}return s}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let s;(s=this.parentToolbox_.getFlyout())==null||s.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}co(this.htmlDiv_,no.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const s=this.getChildToolboxItems();for(let r=0;r<s.length;r++)s[r].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};Vu.registrationName="collapsibleCategory",i(ut.TOOLBOX_ITEM,Vu.registrationName,Vu);var nk=class extends wf{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.previouslySelectedItem_=this.selectedItem_=this.flyout_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.RTL=e.options.RTL,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const s=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),et(this.flyout_.createDom("svg"),s),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[to.Capability.AUTOHIDEABLE,to.Capability.DELETE_AREA,to.Capability.DRAG_TARGET]})}createDom_(e){e=e.getParentSvg();const s=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,Br(this.contentsDiv_,ei.TREE),s.appendChild(this.contentsDiv_),e.parentNode.insertBefore(s,e),this.attachEvents_(s,this.contentsDiv_),s}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),we(e,"blocklyToolboxDiv"),we(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return we(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,s){e=ve(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),s=ve(s,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(s)}onClick_(e){if(he(e)||e.target===this.HtmlDiv)Z().hideChaff(!1);else{var s=e.target.getAttribute("id");s&&(s=this.getToolboxItemById(s),s.isSelectable()&&(this.setSelectedItem(s),s.onClick(e))),Z().hideChaff(!0)}de()}onKeyDown_(e){let s=!1;switch(e.key){case"ArrowDown":s=this.selectNext_();break;case"ArrowUp":s=this.selectPrevious_();break;case"ArrowLeft":s=this.selectParent_();break;case"ArrowRight":s=this.selectChild_();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),s=!0);break;default:s=!1}!s&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(s=this.selectedItem_.onKeyDown(e)),s&&e.preventDefault()}createFlyout_(){const e=this.workspace_,s=new ks({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return s.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?m(ut.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):m(ut.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(s)}render(e){this.toolboxDef_=e;for(let s=0;s<this.contents_.length;s++){const r=this.contents_[s];r&&r.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const s=document.createDocumentFragment();for(let r=0;r<e.length;r++)this.createToolboxItem_(e[r],s);this.contentsDiv_.appendChild(s)}createToolboxItem_(e,s){var r=e.kind;r.toUpperCase()==="CATEGORY"&&xr(e)&&(r=Vu.registrationName),(r=p(ut.TOOLBOX_ITEM,r.toLowerCase()))&&(e=new r(e,this),e.init(),this.addToolboxItem_(e),(r=e.getDiv())&&s.appendChild(r),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(let s=0;s<e.length;s++)this.addToolboxItem_(e[s])}}getToolboxItems(){return this.contents_}addStyle(e){e&&this.HtmlDiv&&we(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&Ge(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const s=e.top,r=s+e.height,d=e.left;return e=d+e.width,this.toolboxPosition===Jt.TOP?new yn(-1e7,r,-1e7,1e7):this.toolboxPosition===Jt.BOTTOM?new yn(s,1e7,-1e7,1e7):this.toolboxPosition===Jt.LEFT?new yn(-1e7,1e7,-1e7,e):new yn(-1e7,1e7,d,1e7)}wouldDelete(e){return e instanceof Ns?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(Cs(e)&&e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const s=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(s):this.removeStyle(s)}getToolboxItemById(e){return this.contentMap_[e]||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout_}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout_}position(){const e=this.workspace_.getMetrics(),s=this.HtmlDiv;s&&(this.horizontalLayout_?(s.style.left="0",s.style.height="auto",s.style.width="100%",this.height_=s.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===Jt.TOP?s.style.top="0":s.style.bottom="0"):(this.toolboxPosition===Jt.RIGHT?s.style.right="0":s.style.left="0",s.style.height="100%",this.width_=s.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())}handleToolboxItemResize(){const e=this.workspace_,s=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition===Jt.LEFT?e.scrollX+s.width:e.scrollX,this.toolboxPosition===Jt.TOP?e.scrollY+s.height:e.scrollY),D(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){for(let e=0;e<this.contents_.length;e++){const s=this.contents_[e];s.refreshTheme&&s.refreshTheme()}}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()}setSelectedItem(e){const s=this.selectedItem_;!e&&!s||e&&!qS(e)||(this.shouldDeselectItem_(s,e)&&s!==null&&this.deselectItem_(s),this.shouldSelectItem_(s,e)&&e!==null&&this.selectItem_(s,e),this.updateFlyout_(s,e),this.fireSelectEvent_(s,e))}shouldDeselectItem_(e,s){return e!==null&&(!e.isCollapsible()||e!==s)}shouldSelectItem_(e,s){return s!==null&&s!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),co(this.contentsDiv_,no.ACTIVEDESCENDANT,"")}selectItem_(e,s){this.selectedItem_=s,this.previouslySelectedItem_=e,s.setSelected(!0),co(this.contentsDiv_,no.ACTIVEDESCENDANT,s.getId())}selectItemByPosition(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e],e.isSelectable()&&this.setSelectedItem(e))}updateFlyout_(e,s){s&&(e!==s||s.isCollapsible())&&s.getContents().length?(this.flyout_.show(s.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()}fireSelectEvent_(e,s){const r=e&&e.getName();let d=s&&s.getName();e===s&&(d=null),e=new(M(fu))(r,d,this.workspace_.id),$(e)}selectParent_(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild_(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.toggleExpanded(),!0}selectNext_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){let s=this.contents_[e];for(;s&&!s.isSelectable();)s=this.contents_[++e];if(s&&s.isSelectable())return this.setSelectedItem(s),!0}return!1}selectPrevious_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){let s=this.contents_[e];for(;s&&!s.isSelectable();)s=this.contents_[--e];if(s&&s.isSelectable())return this.setSelectedItem(s),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)He(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),q(this.HtmlDiv))}};De(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolboxDiv {
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxContents {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxContents:focus {
  outline: none;
}
`),i(ut.TOOLBOX,Ei,nk);var eB="11.1.1",tB=wt.INPUT_VALUE,nB=wt.OUTPUT_VALUE,oB=wt.NEXT_STATEMENT,sB=wt.PREVIOUS_STATEMENT,iB=Jt.TOP,rB=Jt.BOTTOM,lB=Jt.LEFT,aB=Jt.RIGHT;Pu.prototype.newBlock=function(e,s){return new aa(this,e,s)},As.prototype.newBlock=function(e,s){return new Ns(this,e,s)},Pu.prototype.newComment=function(e){return new tf(this,e)},As.prototype.newComment=function(e){return new pf(this,e)},As.newTrashcan=function(e){return new Ew(e)},ur.prototype.newWorkspaceSvg=function(e){return new As(e)},o.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=Lp(e),e=e[0].concat(e[1]);for(let s=0;s<e.length;s++)this.getName(e[s][0],o.Names$$module$build$src$core$names.NameType.PROCEDURE)};var qe={};return qe.ASTNode=nt,qe.BasicCursor=Dd,qe.Block=aa,qe.BlockSvg=Ns,qe.Blocks=es,qe.COLLAPSED_FIELD_NAME=Zp,qe.COLLAPSED_INPUT_NAME=$d,qe.COLLAPSE_CHARS=gw,qe.CodeGenerator=o.CodeGenerator$$module$build$src$core$generator,qe.CollapsibleToolboxCategory=Vu,qe.ComponentManager=to,qe.Connection=dn,qe.ConnectionChecker=$w,qe.ConnectionDB=Nu,qe.ConnectionType=wt,qe.ContextMenu=ia,qe.ContextMenuItems=oo,qe.ContextMenuRegistry=Zt,qe.Css=e_,qe.Cursor=eb,qe.DELETE_VARIABLE_ID=Y_,qe.DeleteArea=wf,qe.DragTarget=yw,qe.DropDownDiv=Ro,qe.Events=Ot,qe.Extensions=oi,qe.Field=En,qe.FieldCheckbox=ha,qe.FieldDropdown=wi,qe.FieldImage=da,qe.FieldLabel=la,qe.FieldLabelSerializable=Uw,qe.FieldNumber=db,qe.FieldTextInput=Nf,qe.FieldVariable=Bd,qe.Flyout=Mf,qe.FlyoutButton=Os,qe.FlyoutMetricsManager=Hw,qe.Generator=o.CodeGenerator$$module$build$src$core$generator,qe.Gesture=ar,qe.Grid=N_,qe.HorizontalFlyout=Vw,qe.INPUT_VALUE=tB,qe.Input=Du,qe.InsertionMarkerManager=Rs,qe.InsertionMarkerPreviewer=xw,qe.Marker=_w,qe.MarkerManager=Cd,qe.Menu=m_,qe.MenuItem=g_,qe.MetricsManager=ab,qe.Msg=o.Msg$$module$build$src$core$msg,qe.NEXT_STATEMENT=oB,qe.Names=o.Names$$module$build$src$core$names,qe.OPPOSITE_TYPE=ca,qe.OUTPUT_VALUE=nB,qe.Options=ks,qe.PREVIOUS_STATEMENT=sB,qe.PROCEDURE_CATEGORY_NAME=bf,qe.Procedures=Go,qe.RENAME_VARIABLE_ID=X_,qe.RenderedConnection=Wo,qe.Scrollbar=Wn,qe.ScrollbarPair=lb,qe.ShortcutItems=Ai,qe.ShortcutRegistry=pn,qe.TOOLBOX_AT_BOTTOM=rB,qe.TOOLBOX_AT_LEFT=lB,qe.TOOLBOX_AT_RIGHT=aB,qe.TOOLBOX_AT_TOP=iB,qe.TabNavigateCursor=bw,qe.Theme=ra,qe.ThemeManager=mw,qe.Themes=Qx,qe.Toolbox=nk,qe.ToolboxCategory=ii,qe.ToolboxItem=Cb,qe.ToolboxSeparator=Vd,qe.Tooltip=hs,qe.Touch=jl,qe.Trashcan=Ew,qe.UnattachedFieldError=zn,qe.VARIABLE_CATEGORY_NAME=r_,qe.VARIABLE_DYNAMIC_CATEGORY_NAME=K_,qe.VERSION=eB,qe.VariableMap=J_,qe.VariableModel=_d,qe.Variables=_o,qe.VariablesDynamic=ua,qe.VerticalFlyout=cb,qe.WidgetDiv=ni,qe.Workspace=Pu,qe.WorkspaceAudio=vw,qe.WorkspaceDragger=JI,qe.WorkspaceSvg=As,qe.Xml=Ao,qe.ZoomControls=EI,qe.blockAnimations=Od,qe.blockRendering=mn,qe.browserEvents=sr,qe.bubbles=Hd,qe.bumpObjects=If,qe.clipboard=xd,qe.comments=Df,qe.common=vo,qe.config=o.config$$module$build$src$core$config,qe.constants=yx,qe.defineBlocksWithJsonArray=le,qe.dialog=Zl,qe.dragging=Fd,qe.fieldRegistry=$f,qe.geras=Ni,qe.getMainWorkspace=Z,qe.getSelected=z,qe.hasBubble=Qa,qe.hideChaff=JS,qe.icons=jr,qe.inject=PS,qe.inputs=Qr,qe.isCopyable=ad,qe.isDeletable=Cs,qe.isDraggable=Vl,qe.isIcon=lv,qe.isObservable=Op,qe.isPaster=XS,qe.isRenderedElement=YS,qe.isSelectable=jS,qe.isSerializable=Jc,qe.isVariableBackedParameterModel=ko,qe.procedures=Go,qe.registry=Qi,qe.renderManagement=ef,qe.serialization=Yx,qe.setLocale=s_,qe.setParentContainer=W,qe.svgResize=D,qe.thrasos=Eb,qe.uiPosition=Jl,qe.utils=xn,qe.zelos=si,qe.__namespace__=o,qe})}(dT)),dT.exports}var Fde=V0();const Hde=js(Fde),{ASTNode:ibe,BasicCursor:rbe,Block:lbe,BlockSvg:abe,Blocks:jt,COLLAPSED_FIELD_NAME:ube,COLLAPSED_INPUT_NAME:cbe,COLLAPSE_CHARS:dbe,CodeGenerator:hbe,CollapsibleToolboxCategory:pbe,ComponentManager:fbe,Connection:mbe,ConnectionChecker:gbe,ConnectionDB:$be,ConnectionType:vbe,ContextMenu:_be,ContextMenuItems:bbe,ContextMenuRegistry:Tbe,Css:ybe,Cursor:Ebe,DELETE_VARIABLE_ID:Cbe,DeleteArea:Sbe,DragTarget:Ibe,DropDownDiv:wbe,Events:kbe,Extensions:Obe,Field:Rbe,FieldCheckbox:Abe,FieldDropdown:Es,FieldImage:Nbe,FieldLabel:Lbe,FieldLabelSerializable:Mbe,FieldNumber:Dbe,FieldTextInput:Pbe,FieldVariable:xbe,Flyout:Bbe,FlyoutButton:Fbe,FlyoutMetricsManager:Hbe,Generator:Vbe,Gesture:Ube,Grid:Gbe,HorizontalFlyout:Wbe,INPUT_VALUE:zbe,Input:Kbe,InsertionMarkerManager:Xbe,InsertionMarkerPreviewer:Ybe,Marker:jbe,MarkerManager:qbe,Menu:Jbe,MenuItem:Zbe,MetricsManager:Qbe,Msg:eTe,NEXT_STATEMENT:tTe,Names:nTe,OPPOSITE_TYPE:oTe,OUTPUT_VALUE:sTe,Options:iTe,PREVIOUS_STATEMENT:rTe,PROCEDURE_CATEGORY_NAME:lTe,Procedures:aTe,RENAME_VARIABLE_ID:uTe,RenderedConnection:cTe,Scrollbar:dTe,ScrollbarPair:hTe,ShortcutItems:pTe,ShortcutRegistry:fTe,TOOLBOX_AT_BOTTOM:mTe,TOOLBOX_AT_LEFT:gTe,TOOLBOX_AT_RIGHT:$Te,TOOLBOX_AT_TOP:vTe,TabNavigateCursor:_Te,Theme:Vde,ThemeManager:bTe,Themes:Ude,Toolbox:TTe,ToolboxCategory:ux,ToolboxItem:yTe,ToolboxSeparator:ETe,Tooltip:CTe,Touch:STe,Trashcan:ITe,UnattachedFieldError:wTe,VARIABLE_CATEGORY_NAME:kTe,VARIABLE_DYNAMIC_CATEGORY_NAME:OTe,VERSION:RTe,VariableMap:ATe,VariableModel:NTe,Variables:LTe,VariablesDynamic:MTe,VerticalFlyout:DTe,WidgetDiv:PTe,Workspace:xTe,WorkspaceAudio:BTe,WorkspaceDragger:FTe,WorkspaceSvg:HTe,Xml:Yu,ZoomControls:VTe,blockAnimations:UTe,blockRendering:GTe,browserEvents:WTe,bubbles:zTe,bumpObjects:KTe,clipboard:XTe,comments:YTe,common:jTe,config:qTe,constants:JTe,defineBlocksWithJsonArray:ZTe,dialog:QTe,dragging:eye,fieldRegistry:tye,geras:nye,getMainWorkspace:oye,getSelected:sye,hasBubble:iye,hideChaff:rye,icons:lye,inject:Gde,inputs:aye,isCopyable:uye,isDeletable:cye,isDraggable:dye,isIcon:hye,isObservable:pye,isPaster:fye,isRenderedElement:mye,isSelectable:gye,isSerializable:$ye,isVariableBackedParameterModel:vye,procedures:_ye,registry:HA,renderManagement:bye,serialization:Tye,setLocale:Wde,setParentContainer:yye,svgResize:zde,thrasos:Eye,uiPosition:Cye,utils:My,zelos:Sye}=Hde;var cx={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(jo,function(){var o=o||{Msg:Object.create(null)};return o.Msg.ADD_COMMENT="添加注释",o.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="不能删除变量“%1”，因为它是函数“%2”定义的一部分",o.Msg.CHANGE_VALUE_TITLE="更改值：",o.Msg.CLEAN_UP="整理块",o.Msg.COLLAPSED_WARNINGS_WARNING="已收起的信息块内包含警告。",o.Msg.COLLAPSE_ALL="折叠块",o.Msg.COLLAPSE_BLOCK="折叠块",o.Msg.COLOUR_BLEND_COLOUR1="颜色1",o.Msg.COLOUR_BLEND_COLOUR2="颜色2",o.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",o.Msg.COLOUR_BLEND_RATIO="比例",o.Msg.COLOUR_BLEND_TITLE="混合",o.Msg.COLOUR_BLEND_TOOLTIP="把两种颜色以一个给定的比例(0.0-1.0)进行混合。",o.Msg.COLOUR_PICKER_HELPURL="https://zh.wikipedia.org/wiki/颜色",o.Msg.COLOUR_PICKER_TOOLTIP="从调色板中选择一种颜色。",o.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",o.Msg.COLOUR_RANDOM_TITLE="随机颜色",o.Msg.COLOUR_RANDOM_TOOLTIP="随机选择一种颜色。",o.Msg.COLOUR_RGB_BLUE="蓝色",o.Msg.COLOUR_RGB_GREEN="绿色",o.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",o.Msg.COLOUR_RGB_RED="红色",o.Msg.COLOUR_RGB_TITLE="颜色",o.Msg.COLOUR_RGB_TOOLTIP="通过指定红色、绿色和蓝色的量创建一种颜色。所有的值必须在0和100之间。",o.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",o.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="跳出循环",o.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="继续下一轮循环",o.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="跳出包含它的循环。",o.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="跳过本轮循环的剩余部分，并继进行续下一轮循环。",o.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="警告：这个块只能在循环内使用。",o.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",o.Msg.CONTROLS_FOREACH_TITLE="遍历列表 %2 里的每一项 %1",o.Msg.CONTROLS_FOREACH_TOOLTIP="遍历列表中的每一项，将变量“%1”设为所选项，并执行一些语句。",o.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",o.Msg.CONTROLS_FOR_TITLE="变量 %1 从 %2 数到 %3 每次增加 %4",o.Msg.CONTROLS_FOR_TOOLTIP="让变量“%1”记录开始数到结束数之间指定间隔的值，并执行指定的块。",o.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="在这个if语句块中增加一个条件。",o.Msg.CONTROLS_IF_ELSE_TOOLTIP="在这个if语句块中添加一个最终的，包括所有其余情况的条件。",o.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",o.Msg.CONTROLS_IF_IF_TOOLTIP="增加、删除或重新排列各节来重新配置这个if语句块。",o.Msg.CONTROLS_IF_MSG_ELSE="否则",o.Msg.CONTROLS_IF_MSG_ELSEIF="否则如果",o.Msg.CONTROLS_IF_MSG_IF="如果",o.Msg.CONTROLS_IF_TOOLTIP_1="如果值为真，执行一些语句。",o.Msg.CONTROLS_IF_TOOLTIP_2="如果值为真，则执行第一块语句。否则，则执行第二块语句。",o.Msg.CONTROLS_IF_TOOLTIP_3="如果第一个值为真，则执行第一块的语句。否则，如果第二个值为真，则执行第二块的语句。",o.Msg.CONTROLS_IF_TOOLTIP_4="如果第一个值为真，则执行第一块对语句。否则，如果第二个值为真，则执行语句的第二块。如果没有值为真，则执行最后一块的语句。",o.Msg.CONTROLS_REPEAT_HELPURL="https://zh.wikipedia.org/wiki/For循环",o.Msg.CONTROLS_REPEAT_INPUT_DO="执行",o.Msg.CONTROLS_REPEAT_TITLE="重复 %1 次",o.Msg.CONTROLS_REPEAT_TOOLTIP="多次执行一些语句。",o.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",o.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="重复直到条件满足",o.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="当条件满足时重复",o.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="只要值为假，就一直循环执行一些语句。",o.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="只要值为真，就一直循环执行一些语句。",o.Msg.DELETE_ALL_BLOCKS="删除所有 %1 个块吗？",o.Msg.DELETE_BLOCK="删除块",o.Msg.DELETE_VARIABLE="删除变量“%1”",o.Msg.DELETE_VARIABLE_CONFIRMATION="要删除对变量“%2”的%1个引用吗？",o.Msg.DELETE_X_BLOCKS="删除 %1 个块",o.Msg.DIALOG_CANCEL="取消",o.Msg.DIALOG_OK="确认",o.Msg.DISABLE_BLOCK="禁用块",o.Msg.DUPLICATE_BLOCK="复制",o.Msg.DUPLICATE_COMMENT="复制注释",o.Msg.ENABLE_BLOCK="启用块",o.Msg.EXPAND_ALL="展开块",o.Msg.EXPAND_BLOCK="展开块",o.Msg.EXTERNAL_INPUTS="外部输入",o.Msg.HELP="帮助",o.Msg.INLINE_INPUTS="单行输入",o.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",o.Msg.LISTS_CREATE_EMPTY_TITLE="创建空列表",o.Msg.LISTS_CREATE_EMPTY_TOOLTIP="返回一个列表，长度为 0，不包含任何数据记录",o.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="列表",o.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="增加、删除或重新排列各部分以此重新配置这个列表块。",o.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",o.Msg.LISTS_CREATE_WITH_INPUT_WITH="创建列表，内容：",o.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="将一个项添加到列表中。",o.Msg.LISTS_CREATE_WITH_TOOLTIP="建立一个具有任意数量项目的列表。",o.Msg.LISTS_GET_INDEX_FIRST="第一项",o.Msg.LISTS_GET_INDEX_FROM_END="倒数第#项",o.Msg.LISTS_GET_INDEX_FROM_START="#",o.Msg.LISTS_GET_INDEX_GET="取得",o.Msg.LISTS_GET_INDEX_GET_REMOVE="取得并移除",o.Msg.LISTS_GET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",o.Msg.LISTS_GET_INDEX_LAST="最后一项",o.Msg.LISTS_GET_INDEX_RANDOM="随机的一项",o.Msg.LISTS_GET_INDEX_REMOVE="移除",o.Msg.LISTS_GET_INDEX_TAIL="",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="返回列表中的第一项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="返回在列表中的指定位置的项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="返回列表中的最后一项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="返回列表中的随机一项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="移除并返回列表中的第一项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="移除并返回列表中的指定位置的项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="移除并返回列表中的最后一项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="移除并返回列表中的随机一项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="移除列表中的第一项",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="移除在列表中的指定位置的项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="移除列表中的最后一项",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="删除列表中的随机一项。",o.Msg.LISTS_GET_SUBLIST_END_FROM_END="到倒数第#项",o.Msg.LISTS_GET_SUBLIST_END_FROM_START="到第#项",o.Msg.LISTS_GET_SUBLIST_END_LAST="到最后一项",o.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",o.Msg.LISTS_GET_SUBLIST_START_FIRST="获取子列表，从第一项",o.Msg.LISTS_GET_SUBLIST_START_FROM_END="获取子列表，从倒数第#项",o.Msg.LISTS_GET_SUBLIST_START_FROM_START="获取子列表，从第#项",o.Msg.LISTS_GET_SUBLIST_TAIL="",o.Msg.LISTS_GET_SUBLIST_TOOLTIP="复制列表中指定的部分。",o.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1是最后一项。",o.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1是第一项。",o.Msg.LISTS_INDEX_OF_FIRST="寻找第一次出现的项",o.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list",o.Msg.LISTS_INDEX_OF_LAST="寻找最后一次出现的项",o.Msg.LISTS_INDEX_OF_TOOLTIP="返回在列表中的第一/最后一个匹配项的索引值。如果找不到项目则返回%1。",o.Msg.LISTS_INLIST="在列表中",o.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",o.Msg.LISTS_ISEMPTY_TITLE="%1是空的",o.Msg.LISTS_ISEMPTY_TOOLTIP="如果改列表为空，则返回真。",o.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",o.Msg.LISTS_LENGTH_TITLE="%1的长度",o.Msg.LISTS_LENGTH_TOOLTIP="返回列表的长度。",o.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",o.Msg.LISTS_REPEAT_TITLE="建立列表使用项 %1 重复 %2 次",o.Msg.LISTS_REPEAT_TOOLTIP="建立包含指定重复次数的值的列表。",o.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",o.Msg.LISTS_REVERSE_MESSAGE0="倒转%1",o.Msg.LISTS_REVERSE_TOOLTIP="倒转一个列表，返回副本。",o.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",o.Msg.LISTS_SET_INDEX_INPUT_TO="值为",o.Msg.LISTS_SET_INDEX_INSERT="插入在",o.Msg.LISTS_SET_INDEX_SET="设置",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="在列表的起始处添加该项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="在列表中指定位置插入项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="在列表的末尾处添加该项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="在列表的随机位置插入该项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="设置列表中的第一项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="设置在列表中指定位置的项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="设置列表中的最后一项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="设置列表中的随机一项。",o.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",o.Msg.LISTS_SORT_ORDER_ASCENDING="升序",o.Msg.LISTS_SORT_ORDER_DESCENDING="降序",o.Msg.LISTS_SORT_TITLE="排序%1 %2 %3",o.Msg.LISTS_SORT_TOOLTIP="排序一个列表，返回副本。",o.Msg.LISTS_SORT_TYPE_IGNORECASE="按字母（忽略大小写）",o.Msg.LISTS_SORT_TYPE_NUMERIC="按数字",o.Msg.LISTS_SORT_TYPE_TEXT="按字母",o.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",o.Msg.LISTS_SPLIT_LIST_FROM_TEXT="从文本制作列表",o.Msg.LISTS_SPLIT_TEXT_FROM_LIST="将列表合并为文本",o.Msg.LISTS_SPLIT_TOOLTIP_JOIN="加入文本列表至一个文本，由分隔符分隔。",o.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="将文本按指定的分隔符拆分为文本组成的列表。",o.Msg.LISTS_SPLIT_WITH_DELIMITER="分隔符：",o.Msg.LOGIC_BOOLEAN_FALSE="false",o.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",o.Msg.LOGIC_BOOLEAN_TOOLTIP="返回 true 或 false。",o.Msg.LOGIC_BOOLEAN_TRUE="true",o.Msg.LOGIC_COMPARE_HELPURL="https://zh.wikipedia.org/wiki/不等",o.Msg.LOGIC_COMPARE_TOOLTIP_EQ="如果两个输入结果相等，则返回真。",o.Msg.LOGIC_COMPARE_TOOLTIP_GT="如果第一个输入结果比第二个大，则返回真。",o.Msg.LOGIC_COMPARE_TOOLTIP_GTE="如果第一个输入结果大于或等于第二个输入结果，则返回真。",o.Msg.LOGIC_COMPARE_TOOLTIP_LT="如果第一个输入结果比第二个小，则返回真。",o.Msg.LOGIC_COMPARE_TOOLTIP_LTE="如果第一个输入结果小于或等于第二个输入结果，则返回真。",o.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="如果两个输入结果不相等，则返回真。",o.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",o.Msg.LOGIC_NEGATE_TITLE="非 %1",o.Msg.LOGIC_NEGATE_TOOLTIP="如果输入结果为false，则返回true；如果输入结果为true，则返回false。",o.Msg.LOGIC_NULL="空",o.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",o.Msg.LOGIC_NULL_TOOLTIP="返回空值。",o.Msg.LOGIC_OPERATION_AND="并且",o.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",o.Msg.LOGIC_OPERATION_OR="或",o.Msg.LOGIC_OPERATION_TOOLTIP_AND="如果两个输入结果都为真，则返回真。",o.Msg.LOGIC_OPERATION_TOOLTIP_OR="如果至少有一个输入结果为真，则返回真。",o.Msg.LOGIC_TERNARY_CONDITION="断言",o.Msg.LOGIC_TERNARY_HELPURL="https://zh.wikipedia.org/wiki/条件运算符%3F:",o.Msg.LOGIC_TERNARY_IF_FALSE="如果为 false",o.Msg.LOGIC_TERNARY_IF_TRUE="如果为 true",o.Msg.LOGIC_TERNARY_TOOLTIP="检查“断言”里的条件语句。如果条件为真，则返回“如果为真”的值，否则，则返回“如果为假”的值。",o.Msg.MATH_ADDITION_SYMBOL="+",o.Msg.MATH_ARITHMETIC_HELPURL="https://zh.wikipedia.org/wiki/算术",o.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="返回两个数的和。",o.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="返回两个数的商。",o.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="返回两个数的差。",o.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="返回两个数的积。",o.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="返回第一个数的第二个数次幂。",o.Msg.MATH_ATAN2_HELPURL="https://zh.wikipedia.org/wiki/反正切2",o.Msg.MATH_ATAN2_TITLE="点(x:%1,y:%2)的方位角",o.Msg.MATH_ATAN2_TOOLTIP="返回点（X，Y）的反正切值，范围为-180到180度。",o.Msg.MATH_CHANGE_HELPURL="https://zh.wikipedia.org/wiki/加法",o.Msg.MATH_CHANGE_TITLE="给 %1 加 %2",o.Msg.MATH_CHANGE_TOOLTIP="把数加到变量“%1”。",o.Msg.MATH_CONSTANT_HELPURL="https://zh.wikipedia.org/wiki/数学常数",o.Msg.MATH_CONSTANT_TOOLTIP="返回一个以下常见常数：π (3.141…)、e (2.718…)、φ (1.618…)、根号2 (1.414…)、根号½ (0.707…)或∞ (无穷)。",o.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",o.Msg.MATH_CONSTRAIN_TITLE="将 %1 限制在 最低 %2 到最高 %3 之间",o.Msg.MATH_CONSTRAIN_TOOLTIP="把一个数限制在指定的极限（含）之间。",o.Msg.MATH_DIVISION_SYMBOL="÷",o.Msg.MATH_IS_DIVISIBLE_BY="可整除被",o.Msg.MATH_IS_EVEN="是偶数",o.Msg.MATH_IS_NEGATIVE="是负数",o.Msg.MATH_IS_ODD="是奇数",o.Msg.MATH_IS_POSITIVE="是正数",o.Msg.MATH_IS_PRIME="是质数",o.Msg.MATH_IS_TOOLTIP="检查一个数是否是偶数、奇数、质数、整数、正数、负数，或者是否能被某数整除。返回真或假。",o.Msg.MATH_IS_WHOLE="是整数",o.Msg.MATH_MODULO_HELPURL="https://zh.wikipedia.org/wiki/模除",o.Msg.MATH_MODULO_TITLE="%1 ÷ %2 的余数",o.Msg.MATH_MODULO_TOOLTIP="返回两个数相除的余数。",o.Msg.MATH_MULTIPLICATION_SYMBOL="×",o.Msg.MATH_NUMBER_HELPURL="https://zh.wikipedia.org/wiki/数",o.Msg.MATH_NUMBER_TOOLTIP="一个数。",o.Msg.MATH_ONLIST_HELPURL="",o.Msg.MATH_ONLIST_OPERATOR_AVERAGE="列表的平均",o.Msg.MATH_ONLIST_OPERATOR_MAX="列表的最大数",o.Msg.MATH_ONLIST_OPERATOR_MEDIAN="列表的中位数",o.Msg.MATH_ONLIST_OPERATOR_MIN="列表的最小数",o.Msg.MATH_ONLIST_OPERATOR_MODE="列表的众数",o.Msg.MATH_ONLIST_OPERATOR_RANDOM="列表的随机项",o.Msg.MATH_ONLIST_OPERATOR_STD_DEV="列表的标准差",o.Msg.MATH_ONLIST_OPERATOR_SUM="列表的和",o.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="返回列表内数值的平均（算术平均）。",o.Msg.MATH_ONLIST_TOOLTIP_MAX="返回列表内的最大数。",o.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="返回列表内数的中位数。",o.Msg.MATH_ONLIST_TOOLTIP_MIN="返回列表内的最小数。",o.Msg.MATH_ONLIST_TOOLTIP_MODE="返回列表中的出现次数最多的项的列表。",o.Msg.MATH_ONLIST_TOOLTIP_RANDOM="返回列表内的一个随机元素。",o.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="返回列表的标准差。",o.Msg.MATH_ONLIST_TOOLTIP_SUM="返回列表内的所有数的和。",o.Msg.MATH_POWER_SYMBOL="^",o.Msg.MATH_RANDOM_FLOAT_HELPURL="https://zh.wikipedia.org/wiki/随机数生成器",o.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="随机小数",o.Msg.MATH_RANDOM_FLOAT_TOOLTIP="返回一个从0.0（含）到1.0（不含）之间的随机数。",o.Msg.MATH_RANDOM_INT_HELPURL="https://zh.wikipedia.org/wiki/随机数生成器",o.Msg.MATH_RANDOM_INT_TITLE="从 %1 到 %2 范围内的随机整数",o.Msg.MATH_RANDOM_INT_TOOLTIP="返回两个指定的极限（含）之间的随机整数。",o.Msg.MATH_ROUND_HELPURL="https://zh.wikipedia.org/wiki/数值修约",o.Msg.MATH_ROUND_OPERATOR_ROUND="四舍五入",o.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="向下舍入",o.Msg.MATH_ROUND_OPERATOR_ROUNDUP="向上舍入",o.Msg.MATH_ROUND_TOOLTIP="数向上或向下取整。",o.Msg.MATH_SINGLE_HELPURL="https://zh.wikipedia.org/wiki/平方根",o.Msg.MATH_SINGLE_OP_ABSOLUTE="绝对值",o.Msg.MATH_SINGLE_OP_ROOT="平方根",o.Msg.MATH_SINGLE_TOOLTIP_ABS="返回一个数的绝对值。",o.Msg.MATH_SINGLE_TOOLTIP_EXP="返回e的一个数次幂。",o.Msg.MATH_SINGLE_TOOLTIP_LN="返回一个数的自然对数。",o.Msg.MATH_SINGLE_TOOLTIP_LOG10="返回一个数的以10为底的对数。",o.Msg.MATH_SINGLE_TOOLTIP_NEG="返回一个数的相反数。",o.Msg.MATH_SINGLE_TOOLTIP_POW10="返回10的一个数次幂。",o.Msg.MATH_SINGLE_TOOLTIP_ROOT="返回一个数的平方根。",o.Msg.MATH_SUBTRACTION_SYMBOL="-",o.Msg.MATH_TRIG_ACOS="反余弦",o.Msg.MATH_TRIG_ASIN="反正弦",o.Msg.MATH_TRIG_ATAN="反正切",o.Msg.MATH_TRIG_COS="余弦",o.Msg.MATH_TRIG_HELPURL="https://zh.wikipedia.org/wiki/三角函数",o.Msg.MATH_TRIG_SIN="正弦",o.Msg.MATH_TRIG_TAN="正切",o.Msg.MATH_TRIG_TOOLTIP_ACOS="返回一个数的反余弦。",o.Msg.MATH_TRIG_TOOLTIP_ASIN="返回一个数的反正弦。",o.Msg.MATH_TRIG_TOOLTIP_ATAN="返回一个数的反正切。",o.Msg.MATH_TRIG_TOOLTIP_COS="返回角度（非弧度）的余弦。",o.Msg.MATH_TRIG_TOOLTIP_SIN="返回角度（非弧度）的正弦。",o.Msg.MATH_TRIG_TOOLTIP_TAN="返回角度（非弧度）的正切。",o.Msg.NEW_COLOUR_VARIABLE="创建颜色变量...",o.Msg.NEW_NUMBER_VARIABLE="创建数变量...",o.Msg.NEW_STRING_VARIABLE="创建字符串变量...",o.Msg.NEW_VARIABLE="创建变量...",o.Msg.NEW_VARIABLE_TITLE="新变量的名称：",o.Msg.NEW_VARIABLE_TYPE_TITLE="新变量的类型：",o.Msg.ORDINAL_NUMBER_SUFFIX="",o.Msg.PROCEDURES_ALLOW_STATEMENTS="允许声明",o.Msg.PROCEDURES_BEFORE_PARAMS="与：",o.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",o.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="运行用户定义的函数“%1”。",o.Msg.PROCEDURES_CALLRETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",o.Msg.PROCEDURES_CALLRETURN_TOOLTIP="运行用户定义的函数“%1”，并使用它的输出值。",o.Msg.PROCEDURES_CALL_BEFORE_PARAMS="与：",o.Msg.PROCEDURES_CALL_DISABLED_DEF_WARNING="Can't run the user-defined function '%1' because the definition block is disabled.",o.Msg.PROCEDURES_CREATE_DO="创建“%1”",o.Msg.PROCEDURES_DEFNORETURN_COMMENT="描述该功能...",o.Msg.PROCEDURES_DEFNORETURN_DO="",o.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",o.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="做点什么",o.Msg.PROCEDURES_DEFNORETURN_TITLE="至",o.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="创建一个不带输出值的函数。",o.Msg.PROCEDURES_DEFRETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",o.Msg.PROCEDURES_DEFRETURN_RETURN="返回",o.Msg.PROCEDURES_DEFRETURN_TOOLTIP="创建一个有输出值的函数。",o.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="警告：此函数具有重复参数。",o.Msg.PROCEDURES_HIGHLIGHT_DEF="突出显示函数定义",o.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",o.Msg.PROCEDURES_IFRETURN_TOOLTIP="如果值为真，则返回第二个值。",o.Msg.PROCEDURES_IFRETURN_WARNING="警告：这个块只能在函数内部使用。",o.Msg.PROCEDURES_MUTATORARG_TITLE="输入名称：",o.Msg.PROCEDURES_MUTATORARG_TOOLTIP="添加函数输入。",o.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="输入",o.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="添加、移除或重新排此函数的输入。",o.Msg.REDO="重做",o.Msg.REMOVE_COMMENT="删除注释",o.Msg.RENAME_VARIABLE="重命名变量...",o.Msg.RENAME_VARIABLE_TITLE="将所有“%1”变量重命名为:",o.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",o.Msg.TEXT_APPEND_TITLE="在%1之后加上文本%2",o.Msg.TEXT_APPEND_TOOLTIP="将一些文本追加到变量“%1”里。",o.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",o.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="转为小写",o.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="转为首字母大写",o.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="转为大写",o.Msg.TEXT_CHANGECASE_TOOLTIP="用不同的大小写模式复制并返回这段文字。",o.Msg.TEXT_CHARAT_FIRST="获取第一个字符",o.Msg.TEXT_CHARAT_FROM_END="获取倒数第#个字符",o.Msg.TEXT_CHARAT_FROM_START="获取第#个字符",o.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",o.Msg.TEXT_CHARAT_LAST="获取最后一个字符",o.Msg.TEXT_CHARAT_RANDOM="获取随机一个字符",o.Msg.TEXT_CHARAT_TAIL="",o.Msg.TEXT_CHARAT_TITLE="在文本%1 里 %2",o.Msg.TEXT_CHARAT_TOOLTIP="返回位于指定位置的字符。",o.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",o.Msg.TEXT_COUNT_MESSAGE0="计算%1在%2里出现的次数",o.Msg.TEXT_COUNT_TOOLTIP="计算在一段文本中，某个部分文本重复出现了多少次。",o.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="将一个项添加到文本中。",o.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="拼接",o.Msg.TEXT_CREATE_JOIN_TOOLTIP="添加、移除或重新排列各节来重新配置这个文本块。",o.Msg.TEXT_GET_SUBSTRING_END_FROM_END="到倒数第#个字符",o.Msg.TEXT_GET_SUBSTRING_END_FROM_START="到第#个字符",o.Msg.TEXT_GET_SUBSTRING_END_LAST="到最后一个字符",o.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",o.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="从文本",o.Msg.TEXT_GET_SUBSTRING_START_FIRST="获取子串，从第一个字符",o.Msg.TEXT_GET_SUBSTRING_START_FROM_END="获取子串，从倒数第#个字符",o.Msg.TEXT_GET_SUBSTRING_START_FROM_START="获取子串，从第#个字符",o.Msg.TEXT_GET_SUBSTRING_TAIL="",o.Msg.TEXT_GET_SUBSTRING_TOOLTIP="返回文本中指定的一部分。",o.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",o.Msg.TEXT_INDEXOF_OPERATOR_FIRST="寻找第一次出现的文本",o.Msg.TEXT_INDEXOF_OPERATOR_LAST="寻找最后一次出现的文本",o.Msg.TEXT_INDEXOF_TITLE="在文本 %1 里 %2 %3",o.Msg.TEXT_INDEXOF_TOOLTIP="返回第一个文本段在第二个文本段中的第一/最后一个匹配项的起始位置。如果未找到，则返回%1。",o.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",o.Msg.TEXT_ISEMPTY_TITLE="%1是空的",o.Msg.TEXT_ISEMPTY_TOOLTIP="如果给定的文本为空，则返回真。",o.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",o.Msg.TEXT_JOIN_TITLE_CREATEWITH="创建文本，内容：",o.Msg.TEXT_JOIN_TOOLTIP="通过串起任意数量的项以建立一段文本。",o.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",o.Msg.TEXT_LENGTH_TITLE="%1的长度",o.Msg.TEXT_LENGTH_TOOLTIP="返回给定文本的字母数（包括空格）。",o.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",o.Msg.TEXT_PRINT_TITLE="输出%1",o.Msg.TEXT_PRINT_TOOLTIP="打印指定的文字、数或其他值。",o.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",o.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="提示用户输入一个数。",o.Msg.TEXT_PROMPT_TOOLTIP_TEXT="要求用户输入一些文本。",o.Msg.TEXT_PROMPT_TYPE_NUMBER="提示输入数并显示消息",o.Msg.TEXT_PROMPT_TYPE_TEXT="要求输入文本，并显示提示消息",o.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",o.Msg.TEXT_REPLACE_MESSAGE0="把%3中的%1替换为%2",o.Msg.TEXT_REPLACE_TOOLTIP="在一段文本中，将出现过的某部分文本都替换掉。",o.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",o.Msg.TEXT_REVERSE_MESSAGE0="倒转文本%1",o.Msg.TEXT_REVERSE_TOOLTIP="将文本中各个字符的顺序倒转。",o.Msg.TEXT_TEXT_HELPURL="https://zh.wikipedia.org/wiki/字符串",o.Msg.TEXT_TEXT_TOOLTIP="一个字、词或一行文本。",o.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",o.Msg.TEXT_TRIM_OPERATOR_BOTH="消除其两侧的空格",o.Msg.TEXT_TRIM_OPERATOR_LEFT="消除其左侧的空格",o.Msg.TEXT_TRIM_OPERATOR_RIGHT="消除其右侧的空格",o.Msg.TEXT_TRIM_TOOLTIP="从某一端或同时从两端删除多余的空白，并返回这段文字的一个副本。",o.Msg.TODAY="今天",o.Msg.UNDO="撤销",o.Msg.UNNAMED_KEY="未命名",o.Msg.VARIABLES_DEFAULT_NAME="项目",o.Msg.VARIABLES_GET_CREATE_SET="创建“设定%1”",o.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",o.Msg.VARIABLES_GET_TOOLTIP="返回此变量的值。",o.Msg.VARIABLES_SET="赋值 %1 为 %2",o.Msg.VARIABLES_SET_CREATE_GET="创建“获得%1”",o.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",o.Msg.VARIABLES_SET_TOOLTIP="设置此变量，以使它和输入值相等。",o.Msg.VARIABLE_ALREADY_EXISTS="名字叫“%1”的变量已经存在了。",o.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="名字叫“%1”的变量已经有了另一个类型：“%2”。",o.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="名为“%1”的变量已经作为参数存在于流程“%2”中。",o.Msg.WORKSPACE_ARIA_LABEL="Blockly工作区",o.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="说点什么...",o.Msg.CONTROLS_FOREACH_INPUT_DO=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.CONTROLS_FOR_INPUT_DO=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=o.Msg.CONTROLS_IF_MSG_ELSEIF,o.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=o.Msg.CONTROLS_IF_MSG_ELSE,o.Msg.CONTROLS_IF_IF_TITLE_IF=o.Msg.CONTROLS_IF_MSG_IF,o.Msg.CONTROLS_IF_MSG_THEN=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.LISTS_CREATE_WITH_ITEM_TITLE=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.MATH_CHANGE_TITLE_ITEM=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.PROCEDURES_DEFRETURN_COMMENT=o.Msg.PROCEDURES_DEFNORETURN_COMMENT,o.Msg.PROCEDURES_DEFRETURN_DO=o.Msg.PROCEDURES_DEFNORETURN_DO,o.Msg.PROCEDURES_DEFRETURN_PROCEDURE=o.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,o.Msg.PROCEDURES_DEFRETURN_TITLE=o.Msg.PROCEDURES_DEFNORETURN_TITLE,o.Msg.TEXT_APPEND_VARIABLE=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.COLOUR_HUE="20",o.Msg.LISTS_HUE="260",o.Msg.LOGIC_HUE="210",o.Msg.LOOPS_HUE="120",o.Msg.MATH_HUE="230",o.Msg.PROCEDURES_HUE="290",o.Msg.TEXTS_HUE="160",o.Msg.VARIABLES_DYNAMIC_HUE="310",o.Msg.VARIABLES_HUE="330",o.Msg})})(cx);var Kde=cx.exports;const Xde=js(Kde),{LOGIC_HUE:Yde,LOOPS_HUE:jde,MATH_HUE:qde,TEXTS_HUE:Jde,LISTS_HUE:Zde,COLOUR_HUE:Qde,VARIABLES_HUE:ehe,VARIABLES_DYNAMIC_HUE:the,PROCEDURES_HUE:nhe,VARIABLES_DEFAULT_NAME:ohe,UNNAMED_KEY:she,TODAY:ihe,DUPLICATE_BLOCK:rhe,ADD_COMMENT:lhe,REMOVE_COMMENT:ahe,DUPLICATE_COMMENT:uhe,EXTERNAL_INPUTS:che,INLINE_INPUTS:dhe,DELETE_BLOCK:hhe,DELETE_X_BLOCKS:phe,DELETE_ALL_BLOCKS:fhe,CLEAN_UP:mhe,COLLAPSE_BLOCK:ghe,COLLAPSE_ALL:$he,EXPAND_BLOCK:vhe,EXPAND_ALL:_he,DISABLE_BLOCK:bhe,ENABLE_BLOCK:The,HELP:yhe,UNDO:Ehe,REDO:Che,CHANGE_VALUE_TITLE:She,RENAME_VARIABLE:Ihe,RENAME_VARIABLE_TITLE:whe,NEW_VARIABLE:khe,NEW_STRING_VARIABLE:Ohe,NEW_NUMBER_VARIABLE:Rhe,NEW_COLOUR_VARIABLE:Ahe,NEW_VARIABLE_TYPE_TITLE:Nhe,NEW_VARIABLE_TITLE:Lhe,VARIABLE_ALREADY_EXISTS:Mhe,VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE:Dhe,VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER:Phe,DELETE_VARIABLE_CONFIRMATION:xhe,CANNOT_DELETE_VARIABLE_PROCEDURE:Bhe,DELETE_VARIABLE:Fhe,COLOUR_PICKER_HELPURL:Hhe,COLOUR_PICKER_TOOLTIP:Vhe,COLOUR_RANDOM_HELPURL:Uhe,COLOUR_RANDOM_TITLE:Ghe,COLOUR_RANDOM_TOOLTIP:Whe,COLOUR_RGB_HELPURL:zhe,COLOUR_RGB_TITLE:Khe,COLOUR_RGB_RED:Xhe,COLOUR_RGB_GREEN:Yhe,COLOUR_RGB_BLUE:jhe,COLOUR_RGB_TOOLTIP:qhe,COLOUR_BLEND_HELPURL:Jhe,COLOUR_BLEND_TITLE:Zhe,COLOUR_BLEND_COLOUR1:Qhe,COLOUR_BLEND_COLOUR2:epe,COLOUR_BLEND_RATIO:tpe,COLOUR_BLEND_TOOLTIP:npe,CONTROLS_REPEAT_HELPURL:ope,CONTROLS_REPEAT_TITLE:spe,CONTROLS_REPEAT_INPUT_DO:ipe,CONTROLS_REPEAT_TOOLTIP:rpe,CONTROLS_WHILEUNTIL_HELPURL:lpe,CONTROLS_WHILEUNTIL_INPUT_DO:ape,CONTROLS_WHILEUNTIL_OPERATOR_WHILE:upe,CONTROLS_WHILEUNTIL_OPERATOR_UNTIL:cpe,CONTROLS_WHILEUNTIL_TOOLTIP_WHILE:dpe,CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL:hpe,CONTROLS_FOR_HELPURL:ppe,CONTROLS_FOR_TOOLTIP:fpe,CONTROLS_FOR_TITLE:mpe,CONTROLS_FOR_INPUT_DO:gpe,CONTROLS_FOREACH_HELPURL:$pe,CONTROLS_FOREACH_TITLE:vpe,CONTROLS_FOREACH_INPUT_DO:_pe,CONTROLS_FOREACH_TOOLTIP:bpe,CONTROLS_FLOW_STATEMENTS_HELPURL:Tpe,CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK:ype,CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE:Epe,CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK:Cpe,CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE:Spe,CONTROLS_FLOW_STATEMENTS_WARNING:Ipe,CONTROLS_IF_HELPURL:wpe,CONTROLS_IF_TOOLTIP_1:kpe,CONTROLS_IF_TOOLTIP_2:Ope,CONTROLS_IF_TOOLTIP_3:Rpe,CONTROLS_IF_TOOLTIP_4:Ape,CONTROLS_IF_MSG_IF:Npe,CONTROLS_IF_MSG_ELSEIF:Lpe,CONTROLS_IF_MSG_ELSE:Mpe,CONTROLS_IF_MSG_THEN:Dpe,CONTROLS_IF_IF_TITLE_IF:Ppe,CONTROLS_IF_IF_TOOLTIP:xpe,CONTROLS_IF_ELSEIF_TITLE_ELSEIF:Bpe,CONTROLS_IF_ELSEIF_TOOLTIP:Fpe,CONTROLS_IF_ELSE_TITLE_ELSE:Hpe,CONTROLS_IF_ELSE_TOOLTIP:Vpe,LOGIC_COMPARE_HELPURL:Upe,LOGIC_COMPARE_TOOLTIP_EQ:Gpe,LOGIC_COMPARE_TOOLTIP_NEQ:Wpe,LOGIC_COMPARE_TOOLTIP_LT:zpe,LOGIC_COMPARE_TOOLTIP_LTE:Kpe,LOGIC_COMPARE_TOOLTIP_GT:Xpe,LOGIC_COMPARE_TOOLTIP_GTE:Ype,LOGIC_OPERATION_HELPURL:jpe,LOGIC_OPERATION_TOOLTIP_AND:qpe,LOGIC_OPERATION_AND:Jpe,LOGIC_OPERATION_TOOLTIP_OR:Zpe,LOGIC_OPERATION_OR:Qpe,LOGIC_NEGATE_HELPURL:efe,LOGIC_NEGATE_TITLE:tfe,LOGIC_NEGATE_TOOLTIP:nfe,LOGIC_BOOLEAN_HELPURL:ofe,LOGIC_BOOLEAN_TRUE:sfe,LOGIC_BOOLEAN_FALSE:ife,LOGIC_BOOLEAN_TOOLTIP:rfe,LOGIC_NULL_HELPURL:lfe,LOGIC_NULL:afe,LOGIC_NULL_TOOLTIP:ufe,LOGIC_TERNARY_HELPURL:cfe,LOGIC_TERNARY_CONDITION:dfe,LOGIC_TERNARY_IF_TRUE:hfe,LOGIC_TERNARY_IF_FALSE:pfe,LOGIC_TERNARY_TOOLTIP:ffe,MATH_NUMBER_HELPURL:mfe,MATH_NUMBER_TOOLTIP:gfe,MATH_ADDITION_SYMBOL:$fe,MATH_SUBTRACTION_SYMBOL:vfe,MATH_DIVISION_SYMBOL:_fe,MATH_MULTIPLICATION_SYMBOL:bfe,MATH_POWER_SYMBOL:Tfe,MATH_TRIG_SIN:yfe,MATH_TRIG_COS:Efe,MATH_TRIG_TAN:Cfe,MATH_TRIG_ASIN:Sfe,MATH_TRIG_ACOS:Ife,MATH_TRIG_ATAN:wfe,MATH_ARITHMETIC_HELPURL:kfe,MATH_ARITHMETIC_TOOLTIP_ADD:Ofe,MATH_ARITHMETIC_TOOLTIP_MINUS:Rfe,MATH_ARITHMETIC_TOOLTIP_MULTIPLY:Afe,MATH_ARITHMETIC_TOOLTIP_DIVIDE:Nfe,MATH_ARITHMETIC_TOOLTIP_POWER:Lfe,MATH_SINGLE_HELPURL:Mfe,MATH_SINGLE_OP_ROOT:Dfe,MATH_SINGLE_TOOLTIP_ROOT:Pfe,MATH_SINGLE_OP_ABSOLUTE:xfe,MATH_SINGLE_TOOLTIP_ABS:Bfe,MATH_SINGLE_TOOLTIP_NEG:Ffe,MATH_SINGLE_TOOLTIP_LN:Hfe,MATH_SINGLE_TOOLTIP_LOG10:Vfe,MATH_SINGLE_TOOLTIP_EXP:Ufe,MATH_SINGLE_TOOLTIP_POW10:Gfe,MATH_TRIG_HELPURL:Wfe,MATH_TRIG_TOOLTIP_SIN:zfe,MATH_TRIG_TOOLTIP_COS:Kfe,MATH_TRIG_TOOLTIP_TAN:Xfe,MATH_TRIG_TOOLTIP_ASIN:Yfe,MATH_TRIG_TOOLTIP_ACOS:jfe,MATH_TRIG_TOOLTIP_ATAN:qfe,MATH_CONSTANT_HELPURL:Jfe,MATH_CONSTANT_TOOLTIP:Zfe,MATH_IS_EVEN:Qfe,MATH_IS_ODD:eme,MATH_IS_PRIME:tme,MATH_IS_WHOLE:nme,MATH_IS_POSITIVE:ome,MATH_IS_NEGATIVE:sme,MATH_IS_DIVISIBLE_BY:ime,MATH_IS_TOOLTIP:rme,MATH_CHANGE_HELPURL:lme,MATH_CHANGE_TITLE:ame,MATH_CHANGE_TITLE_ITEM:ume,MATH_CHANGE_TOOLTIP:cme,MATH_ROUND_HELPURL:dme,MATH_ROUND_TOOLTIP:hme,MATH_ROUND_OPERATOR_ROUND:pme,MATH_ROUND_OPERATOR_ROUNDUP:fme,MATH_ROUND_OPERATOR_ROUNDDOWN:mme,MATH_ONLIST_HELPURL:gme,MATH_ONLIST_OPERATOR_SUM:$me,MATH_ONLIST_TOOLTIP_SUM:vme,MATH_ONLIST_OPERATOR_MIN:_me,MATH_ONLIST_TOOLTIP_MIN:bme,MATH_ONLIST_OPERATOR_MAX:Tme,MATH_ONLIST_TOOLTIP_MAX:yme,MATH_ONLIST_OPERATOR_AVERAGE:Eme,MATH_ONLIST_TOOLTIP_AVERAGE:Cme,MATH_ONLIST_OPERATOR_MEDIAN:Sme,MATH_ONLIST_TOOLTIP_MEDIAN:Ime,MATH_ONLIST_OPERATOR_MODE:wme,MATH_ONLIST_TOOLTIP_MODE:kme,MATH_ONLIST_OPERATOR_STD_DEV:Ome,MATH_ONLIST_TOOLTIP_STD_DEV:Rme,MATH_ONLIST_OPERATOR_RANDOM:Ame,MATH_ONLIST_TOOLTIP_RANDOM:Nme,MATH_MODULO_HELPURL:Lme,MATH_MODULO_TITLE:Mme,MATH_MODULO_TOOLTIP:Dme,MATH_CONSTRAIN_HELPURL:Pme,MATH_CONSTRAIN_TITLE:xme,MATH_CONSTRAIN_TOOLTIP:Bme,MATH_RANDOM_INT_HELPURL:Fme,MATH_RANDOM_INT_TITLE:Hme,MATH_RANDOM_INT_TOOLTIP:Vme,MATH_RANDOM_FLOAT_HELPURL:Ume,MATH_RANDOM_FLOAT_TITLE_RANDOM:Gme,MATH_RANDOM_FLOAT_TOOLTIP:Wme,MATH_ATAN2_HELPURL:zme,MATH_ATAN2_TITLE:Kme,MATH_ATAN2_TOOLTIP:Xme,TEXT_TEXT_HELPURL:Yme,TEXT_TEXT_TOOLTIP:jme,TEXT_JOIN_HELPURL:qme,TEXT_JOIN_TITLE_CREATEWITH:Jme,TEXT_JOIN_TOOLTIP:Zme,TEXT_CREATE_JOIN_TITLE_JOIN:Qme,TEXT_CREATE_JOIN_TOOLTIP:ege,TEXT_CREATE_JOIN_ITEM_TITLE_ITEM:tge,TEXT_CREATE_JOIN_ITEM_TOOLTIP:nge,TEXT_APPEND_HELPURL:oge,TEXT_APPEND_TITLE:sge,TEXT_APPEND_VARIABLE:ige,TEXT_APPEND_TOOLTIP:rge,TEXT_LENGTH_HELPURL:lge,TEXT_LENGTH_TITLE:age,TEXT_LENGTH_TOOLTIP:uge,TEXT_ISEMPTY_HELPURL:cge,TEXT_ISEMPTY_TITLE:dge,TEXT_ISEMPTY_TOOLTIP:hge,TEXT_INDEXOF_HELPURL:pge,TEXT_INDEXOF_TOOLTIP:fge,TEXT_INDEXOF_TITLE:mge,TEXT_INDEXOF_OPERATOR_FIRST:gge,TEXT_INDEXOF_OPERATOR_LAST:$ge,TEXT_CHARAT_HELPURL:vge,TEXT_CHARAT_TITLE:_ge,TEXT_CHARAT_FROM_START:bge,TEXT_CHARAT_FROM_END:Tge,TEXT_CHARAT_FIRST:yge,TEXT_CHARAT_LAST:Ege,TEXT_CHARAT_RANDOM:Cge,TEXT_CHARAT_TAIL:Sge,TEXT_CHARAT_TOOLTIP:Ige,TEXT_GET_SUBSTRING_TOOLTIP:wge,TEXT_GET_SUBSTRING_HELPURL:kge,TEXT_GET_SUBSTRING_INPUT_IN_TEXT:Oge,TEXT_GET_SUBSTRING_START_FROM_START:Rge,TEXT_GET_SUBSTRING_START_FROM_END:Age,TEXT_GET_SUBSTRING_START_FIRST:Nge,TEXT_GET_SUBSTRING_END_FROM_START:Lge,TEXT_GET_SUBSTRING_END_FROM_END:Mge,TEXT_GET_SUBSTRING_END_LAST:Dge,TEXT_GET_SUBSTRING_TAIL:Pge,TEXT_CHANGECASE_HELPURL:xge,TEXT_CHANGECASE_TOOLTIP:Bge,TEXT_CHANGECASE_OPERATOR_UPPERCASE:Fge,TEXT_CHANGECASE_OPERATOR_LOWERCASE:Hge,TEXT_CHANGECASE_OPERATOR_TITLECASE:Vge,TEXT_TRIM_HELPURL:Uge,TEXT_TRIM_TOOLTIP:Gge,TEXT_TRIM_OPERATOR_BOTH:Wge,TEXT_TRIM_OPERATOR_LEFT:zge,TEXT_TRIM_OPERATOR_RIGHT:Kge,TEXT_PRINT_HELPURL:Xge,TEXT_PRINT_TITLE:Yge,TEXT_PRINT_TOOLTIP:jge,TEXT_PROMPT_HELPURL:qge,TEXT_PROMPT_TYPE_TEXT:Jge,TEXT_PROMPT_TYPE_NUMBER:Zge,TEXT_PROMPT_TOOLTIP_NUMBER:Qge,TEXT_PROMPT_TOOLTIP_TEXT:e$e,TEXT_COUNT_MESSAGE0:t$e,TEXT_COUNT_HELPURL:n$e,TEXT_COUNT_TOOLTIP:o$e,TEXT_REPLACE_MESSAGE0:s$e,TEXT_REPLACE_HELPURL:i$e,TEXT_REPLACE_TOOLTIP:r$e,TEXT_REVERSE_MESSAGE0:l$e,TEXT_REVERSE_HELPURL:a$e,TEXT_REVERSE_TOOLTIP:u$e,LISTS_CREATE_EMPTY_HELPURL:c$e,LISTS_CREATE_EMPTY_TITLE:d$e,LISTS_CREATE_EMPTY_TOOLTIP:h$e,LISTS_CREATE_WITH_HELPURL:p$e,LISTS_CREATE_WITH_TOOLTIP:f$e,LISTS_CREATE_WITH_INPUT_WITH:m$e,LISTS_CREATE_WITH_CONTAINER_TITLE_ADD:g$e,LISTS_CREATE_WITH_CONTAINER_TOOLTIP:$$e,LISTS_CREATE_WITH_ITEM_TITLE:v$e,LISTS_CREATE_WITH_ITEM_TOOLTIP:_$e,LISTS_REPEAT_HELPURL:b$e,LISTS_REPEAT_TOOLTIP:T$e,LISTS_REPEAT_TITLE:y$e,LISTS_LENGTH_HELPURL:E$e,LISTS_LENGTH_TITLE:C$e,LISTS_LENGTH_TOOLTIP:S$e,LISTS_ISEMPTY_HELPURL:I$e,LISTS_ISEMPTY_TITLE:w$e,LISTS_ISEMPTY_TOOLTIP:k$e,LISTS_INLIST:O$e,LISTS_INDEX_OF_HELPURL:R$e,LISTS_INDEX_OF_INPUT_IN_LIST:A$e,LISTS_INDEX_OF_FIRST:N$e,LISTS_INDEX_OF_LAST:L$e,LISTS_INDEX_OF_TOOLTIP:M$e,LISTS_GET_INDEX_HELPURL:D$e,LISTS_GET_INDEX_GET:P$e,LISTS_GET_INDEX_GET_REMOVE:x$e,LISTS_GET_INDEX_REMOVE:B$e,LISTS_GET_INDEX_FROM_START:F$e,LISTS_GET_INDEX_FROM_END:H$e,LISTS_GET_INDEX_FIRST:V$e,LISTS_GET_INDEX_LAST:U$e,LISTS_GET_INDEX_RANDOM:G$e,LISTS_GET_INDEX_TAIL:W$e,LISTS_GET_INDEX_INPUT_IN_LIST:z$e,LISTS_INDEX_FROM_START_TOOLTIP:K$e,LISTS_INDEX_FROM_END_TOOLTIP:X$e,LISTS_GET_INDEX_TOOLTIP_GET_FROM:Y$e,LISTS_GET_INDEX_TOOLTIP_GET_FIRST:j$e,LISTS_GET_INDEX_TOOLTIP_GET_LAST:q$e,LISTS_GET_INDEX_TOOLTIP_GET_RANDOM:J$e,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM:Z$e,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST:Q$e,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST:eve,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM:tve,LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM:nve,LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST:ove,LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST:sve,LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM:ive,LISTS_SET_INDEX_HELPURL:rve,LISTS_SET_INDEX_INPUT_IN_LIST:lve,LISTS_SET_INDEX_SET:ave,LISTS_SET_INDEX_INSERT:uve,LISTS_SET_INDEX_INPUT_TO:cve,LISTS_SET_INDEX_TOOLTIP_SET_FROM:dve,LISTS_SET_INDEX_TOOLTIP_SET_FIRST:hve,LISTS_SET_INDEX_TOOLTIP_SET_LAST:pve,LISTS_SET_INDEX_TOOLTIP_SET_RANDOM:fve,LISTS_SET_INDEX_TOOLTIP_INSERT_FROM:mve,LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST:gve,LISTS_SET_INDEX_TOOLTIP_INSERT_LAST:$ve,LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM:vve,LISTS_GET_SUBLIST_HELPURL:_ve,LISTS_GET_SUBLIST_INPUT_IN_LIST:bve,LISTS_GET_SUBLIST_START_FROM_START:Tve,LISTS_GET_SUBLIST_START_FROM_END:yve,LISTS_GET_SUBLIST_START_FIRST:Eve,LISTS_GET_SUBLIST_END_FROM_START:Cve,LISTS_GET_SUBLIST_END_FROM_END:Sve,LISTS_GET_SUBLIST_END_LAST:Ive,LISTS_GET_SUBLIST_TAIL:wve,LISTS_GET_SUBLIST_TOOLTIP:kve,LISTS_SORT_HELPURL:Ove,LISTS_SORT_TITLE:Rve,LISTS_SORT_TOOLTIP:Ave,LISTS_SORT_ORDER_ASCENDING:Nve,LISTS_SORT_ORDER_DESCENDING:Lve,LISTS_SORT_TYPE_NUMERIC:Mve,LISTS_SORT_TYPE_TEXT:Dve,LISTS_SORT_TYPE_IGNORECASE:Pve,LISTS_SPLIT_HELPURL:xve,LISTS_SPLIT_LIST_FROM_TEXT:Bve,LISTS_SPLIT_TEXT_FROM_LIST:Fve,LISTS_SPLIT_WITH_DELIMITER:Hve,LISTS_SPLIT_TOOLTIP_SPLIT:Vve,LISTS_SPLIT_TOOLTIP_JOIN:Uve,LISTS_REVERSE_HELPURL:Gve,LISTS_REVERSE_MESSAGE0:Wve,LISTS_REVERSE_TOOLTIP:zve,ORDINAL_NUMBER_SUFFIX:Kve,VARIABLES_GET_HELPURL:Xve,VARIABLES_GET_TOOLTIP:Yve,VARIABLES_GET_CREATE_SET:jve,VARIABLES_SET_HELPURL:qve,VARIABLES_SET:Jve,VARIABLES_SET_TOOLTIP:Zve,VARIABLES_SET_CREATE_GET:Qve,PROCEDURES_DEFNORETURN_HELPURL:e_e,PROCEDURES_DEFNORETURN_TITLE:t_e,PROCEDURES_DEFNORETURN_PROCEDURE:n_e,PROCEDURES_BEFORE_PARAMS:o_e,PROCEDURES_CALL_BEFORE_PARAMS:s_e,PROCEDURES_CALL_DISABLED_DEF_WARNING:i_e,PROCEDURES_DEFNORETURN_DO:r_e,PROCEDURES_DEFNORETURN_TOOLTIP:l_e,PROCEDURES_DEFNORETURN_COMMENT:a_e,PROCEDURES_DEFRETURN_HELPURL:u_e,PROCEDURES_DEFRETURN_TITLE:c_e,PROCEDURES_DEFRETURN_PROCEDURE:d_e,PROCEDURES_DEFRETURN_DO:h_e,PROCEDURES_DEFRETURN_COMMENT:p_e,PROCEDURES_DEFRETURN_RETURN:f_e,PROCEDURES_DEFRETURN_TOOLTIP:m_e,PROCEDURES_ALLOW_STATEMENTS:g_e,PROCEDURES_DEF_DUPLICATE_WARNING:$_e,PROCEDURES_CALLNORETURN_HELPURL:v_e,PROCEDURES_CALLNORETURN_TOOLTIP:__e,PROCEDURES_CALLRETURN_HELPURL:b_e,PROCEDURES_CALLRETURN_TOOLTIP:T_e,PROCEDURES_MUTATORCONTAINER_TITLE:y_e,PROCEDURES_MUTATORCONTAINER_TOOLTIP:E_e,PROCEDURES_MUTATORARG_TITLE:C_e,PROCEDURES_MUTATORARG_TOOLTIP:S_e,PROCEDURES_HIGHLIGHT_DEF:I_e,PROCEDURES_CREATE_DO:w_e,PROCEDURES_IFRETURN_TOOLTIP:k_e,PROCEDURES_IFRETURN_HELPURL:O_e,PROCEDURES_IFRETURN_WARNING:R_e,WORKSPACE_COMMENT_DEFAULT_TEXT:A_e,WORKSPACE_ARIA_LABEL:N_e,COLLAPSED_WARNINGS_WARNING:L_e,DIALOG_OK:M_e,DIALOG_CANCEL:D_e}=Xde,P_e=Object.freeze(Object.defineProperty({__proto__:null,ADD_COMMENT:lhe,CANNOT_DELETE_VARIABLE_PROCEDURE:Bhe,CHANGE_VALUE_TITLE:She,CLEAN_UP:mhe,COLLAPSED_WARNINGS_WARNING:L_e,COLLAPSE_ALL:$he,COLLAPSE_BLOCK:ghe,COLOUR_BLEND_COLOUR1:Qhe,COLOUR_BLEND_COLOUR2:epe,COLOUR_BLEND_HELPURL:Jhe,COLOUR_BLEND_RATIO:tpe,COLOUR_BLEND_TITLE:Zhe,COLOUR_BLEND_TOOLTIP:npe,COLOUR_HUE:Qde,COLOUR_PICKER_HELPURL:Hhe,COLOUR_PICKER_TOOLTIP:Vhe,COLOUR_RANDOM_HELPURL:Uhe,COLOUR_RANDOM_TITLE:Ghe,COLOUR_RANDOM_TOOLTIP:Whe,COLOUR_RGB_BLUE:jhe,COLOUR_RGB_GREEN:Yhe,COLOUR_RGB_HELPURL:zhe,COLOUR_RGB_RED:Xhe,COLOUR_RGB_TITLE:Khe,COLOUR_RGB_TOOLTIP:qhe,CONTROLS_FLOW_STATEMENTS_HELPURL:Tpe,CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK:ype,CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE:Epe,CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK:Cpe,CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE:Spe,CONTROLS_FLOW_STATEMENTS_WARNING:Ipe,CONTROLS_FOREACH_HELPURL:$pe,CONTROLS_FOREACH_INPUT_DO:_pe,CONTROLS_FOREACH_TITLE:vpe,CONTROLS_FOREACH_TOOLTIP:bpe,CONTROLS_FOR_HELPURL:ppe,CONTROLS_FOR_INPUT_DO:gpe,CONTROLS_FOR_TITLE:mpe,CONTROLS_FOR_TOOLTIP:fpe,CONTROLS_IF_ELSEIF_TITLE_ELSEIF:Bpe,CONTROLS_IF_ELSEIF_TOOLTIP:Fpe,CONTROLS_IF_ELSE_TITLE_ELSE:Hpe,CONTROLS_IF_ELSE_TOOLTIP:Vpe,CONTROLS_IF_HELPURL:wpe,CONTROLS_IF_IF_TITLE_IF:Ppe,CONTROLS_IF_IF_TOOLTIP:xpe,CONTROLS_IF_MSG_ELSE:Mpe,CONTROLS_IF_MSG_ELSEIF:Lpe,CONTROLS_IF_MSG_IF:Npe,CONTROLS_IF_MSG_THEN:Dpe,CONTROLS_IF_TOOLTIP_1:kpe,CONTROLS_IF_TOOLTIP_2:Ope,CONTROLS_IF_TOOLTIP_3:Rpe,CONTROLS_IF_TOOLTIP_4:Ape,CONTROLS_REPEAT_HELPURL:ope,CONTROLS_REPEAT_INPUT_DO:ipe,CONTROLS_REPEAT_TITLE:spe,CONTROLS_REPEAT_TOOLTIP:rpe,CONTROLS_WHILEUNTIL_HELPURL:lpe,CONTROLS_WHILEUNTIL_INPUT_DO:ape,CONTROLS_WHILEUNTIL_OPERATOR_UNTIL:cpe,CONTROLS_WHILEUNTIL_OPERATOR_WHILE:upe,CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL:hpe,CONTROLS_WHILEUNTIL_TOOLTIP_WHILE:dpe,DELETE_ALL_BLOCKS:fhe,DELETE_BLOCK:hhe,DELETE_VARIABLE:Fhe,DELETE_VARIABLE_CONFIRMATION:xhe,DELETE_X_BLOCKS:phe,DIALOG_CANCEL:D_e,DIALOG_OK:M_e,DISABLE_BLOCK:bhe,DUPLICATE_BLOCK:rhe,DUPLICATE_COMMENT:uhe,ENABLE_BLOCK:The,EXPAND_ALL:_he,EXPAND_BLOCK:vhe,EXTERNAL_INPUTS:che,HELP:yhe,INLINE_INPUTS:dhe,LISTS_CREATE_EMPTY_HELPURL:c$e,LISTS_CREATE_EMPTY_TITLE:d$e,LISTS_CREATE_EMPTY_TOOLTIP:h$e,LISTS_CREATE_WITH_CONTAINER_TITLE_ADD:g$e,LISTS_CREATE_WITH_CONTAINER_TOOLTIP:$$e,LISTS_CREATE_WITH_HELPURL:p$e,LISTS_CREATE_WITH_INPUT_WITH:m$e,LISTS_CREATE_WITH_ITEM_TITLE:v$e,LISTS_CREATE_WITH_ITEM_TOOLTIP:_$e,LISTS_CREATE_WITH_TOOLTIP:f$e,LISTS_GET_INDEX_FIRST:V$e,LISTS_GET_INDEX_FROM_END:H$e,LISTS_GET_INDEX_FROM_START:F$e,LISTS_GET_INDEX_GET:P$e,LISTS_GET_INDEX_GET_REMOVE:x$e,LISTS_GET_INDEX_HELPURL:D$e,LISTS_GET_INDEX_INPUT_IN_LIST:z$e,LISTS_GET_INDEX_LAST:U$e,LISTS_GET_INDEX_RANDOM:G$e,LISTS_GET_INDEX_REMOVE:B$e,LISTS_GET_INDEX_TAIL:W$e,LISTS_GET_INDEX_TOOLTIP_GET_FIRST:j$e,LISTS_GET_INDEX_TOOLTIP_GET_FROM:Y$e,LISTS_GET_INDEX_TOOLTIP_GET_LAST:q$e,LISTS_GET_INDEX_TOOLTIP_GET_RANDOM:J$e,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST:Q$e,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM:Z$e,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST:eve,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM:tve,LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST:ove,LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM:nve,LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST:sve,LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM:ive,LISTS_GET_SUBLIST_END_FROM_END:Sve,LISTS_GET_SUBLIST_END_FROM_START:Cve,LISTS_GET_SUBLIST_END_LAST:Ive,LISTS_GET_SUBLIST_HELPURL:_ve,LISTS_GET_SUBLIST_INPUT_IN_LIST:bve,LISTS_GET_SUBLIST_START_FIRST:Eve,LISTS_GET_SUBLIST_START_FROM_END:yve,LISTS_GET_SUBLIST_START_FROM_START:Tve,LISTS_GET_SUBLIST_TAIL:wve,LISTS_GET_SUBLIST_TOOLTIP:kve,LISTS_HUE:Zde,LISTS_INDEX_FROM_END_TOOLTIP:X$e,LISTS_INDEX_FROM_START_TOOLTIP:K$e,LISTS_INDEX_OF_FIRST:N$e,LISTS_INDEX_OF_HELPURL:R$e,LISTS_INDEX_OF_INPUT_IN_LIST:A$e,LISTS_INDEX_OF_LAST:L$e,LISTS_INDEX_OF_TOOLTIP:M$e,LISTS_INLIST:O$e,LISTS_ISEMPTY_HELPURL:I$e,LISTS_ISEMPTY_TITLE:w$e,LISTS_ISEMPTY_TOOLTIP:k$e,LISTS_LENGTH_HELPURL:E$e,LISTS_LENGTH_TITLE:C$e,LISTS_LENGTH_TOOLTIP:S$e,LISTS_REPEAT_HELPURL:b$e,LISTS_REPEAT_TITLE:y$e,LISTS_REPEAT_TOOLTIP:T$e,LISTS_REVERSE_HELPURL:Gve,LISTS_REVERSE_MESSAGE0:Wve,LISTS_REVERSE_TOOLTIP:zve,LISTS_SET_INDEX_HELPURL:rve,LISTS_SET_INDEX_INPUT_IN_LIST:lve,LISTS_SET_INDEX_INPUT_TO:cve,LISTS_SET_INDEX_INSERT:uve,LISTS_SET_INDEX_SET:ave,LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST:gve,LISTS_SET_INDEX_TOOLTIP_INSERT_FROM:mve,LISTS_SET_INDEX_TOOLTIP_INSERT_LAST:$ve,LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM:vve,LISTS_SET_INDEX_TOOLTIP_SET_FIRST:hve,LISTS_SET_INDEX_TOOLTIP_SET_FROM:dve,LISTS_SET_INDEX_TOOLTIP_SET_LAST:pve,LISTS_SET_INDEX_TOOLTIP_SET_RANDOM:fve,LISTS_SORT_HELPURL:Ove,LISTS_SORT_ORDER_ASCENDING:Nve,LISTS_SORT_ORDER_DESCENDING:Lve,LISTS_SORT_TITLE:Rve,LISTS_SORT_TOOLTIP:Ave,LISTS_SORT_TYPE_IGNORECASE:Pve,LISTS_SORT_TYPE_NUMERIC:Mve,LISTS_SORT_TYPE_TEXT:Dve,LISTS_SPLIT_HELPURL:xve,LISTS_SPLIT_LIST_FROM_TEXT:Bve,LISTS_SPLIT_TEXT_FROM_LIST:Fve,LISTS_SPLIT_TOOLTIP_JOIN:Uve,LISTS_SPLIT_TOOLTIP_SPLIT:Vve,LISTS_SPLIT_WITH_DELIMITER:Hve,LOGIC_BOOLEAN_FALSE:ife,LOGIC_BOOLEAN_HELPURL:ofe,LOGIC_BOOLEAN_TOOLTIP:rfe,LOGIC_BOOLEAN_TRUE:sfe,LOGIC_COMPARE_HELPURL:Upe,LOGIC_COMPARE_TOOLTIP_EQ:Gpe,LOGIC_COMPARE_TOOLTIP_GT:Xpe,LOGIC_COMPARE_TOOLTIP_GTE:Ype,LOGIC_COMPARE_TOOLTIP_LT:zpe,LOGIC_COMPARE_TOOLTIP_LTE:Kpe,LOGIC_COMPARE_TOOLTIP_NEQ:Wpe,LOGIC_HUE:Yde,LOGIC_NEGATE_HELPURL:efe,LOGIC_NEGATE_TITLE:tfe,LOGIC_NEGATE_TOOLTIP:nfe,LOGIC_NULL:afe,LOGIC_NULL_HELPURL:lfe,LOGIC_NULL_TOOLTIP:ufe,LOGIC_OPERATION_AND:Jpe,LOGIC_OPERATION_HELPURL:jpe,LOGIC_OPERATION_OR:Qpe,LOGIC_OPERATION_TOOLTIP_AND:qpe,LOGIC_OPERATION_TOOLTIP_OR:Zpe,LOGIC_TERNARY_CONDITION:dfe,LOGIC_TERNARY_HELPURL:cfe,LOGIC_TERNARY_IF_FALSE:pfe,LOGIC_TERNARY_IF_TRUE:hfe,LOGIC_TERNARY_TOOLTIP:ffe,LOOPS_HUE:jde,MATH_ADDITION_SYMBOL:$fe,MATH_ARITHMETIC_HELPURL:kfe,MATH_ARITHMETIC_TOOLTIP_ADD:Ofe,MATH_ARITHMETIC_TOOLTIP_DIVIDE:Nfe,MATH_ARITHMETIC_TOOLTIP_MINUS:Rfe,MATH_ARITHMETIC_TOOLTIP_MULTIPLY:Afe,MATH_ARITHMETIC_TOOLTIP_POWER:Lfe,MATH_ATAN2_HELPURL:zme,MATH_ATAN2_TITLE:Kme,MATH_ATAN2_TOOLTIP:Xme,MATH_CHANGE_HELPURL:lme,MATH_CHANGE_TITLE:ame,MATH_CHANGE_TITLE_ITEM:ume,MATH_CHANGE_TOOLTIP:cme,MATH_CONSTANT_HELPURL:Jfe,MATH_CONSTANT_TOOLTIP:Zfe,MATH_CONSTRAIN_HELPURL:Pme,MATH_CONSTRAIN_TITLE:xme,MATH_CONSTRAIN_TOOLTIP:Bme,MATH_DIVISION_SYMBOL:_fe,MATH_HUE:qde,MATH_IS_DIVISIBLE_BY:ime,MATH_IS_EVEN:Qfe,MATH_IS_NEGATIVE:sme,MATH_IS_ODD:eme,MATH_IS_POSITIVE:ome,MATH_IS_PRIME:tme,MATH_IS_TOOLTIP:rme,MATH_IS_WHOLE:nme,MATH_MODULO_HELPURL:Lme,MATH_MODULO_TITLE:Mme,MATH_MODULO_TOOLTIP:Dme,MATH_MULTIPLICATION_SYMBOL:bfe,MATH_NUMBER_HELPURL:mfe,MATH_NUMBER_TOOLTIP:gfe,MATH_ONLIST_HELPURL:gme,MATH_ONLIST_OPERATOR_AVERAGE:Eme,MATH_ONLIST_OPERATOR_MAX:Tme,MATH_ONLIST_OPERATOR_MEDIAN:Sme,MATH_ONLIST_OPERATOR_MIN:_me,MATH_ONLIST_OPERATOR_MODE:wme,MATH_ONLIST_OPERATOR_RANDOM:Ame,MATH_ONLIST_OPERATOR_STD_DEV:Ome,MATH_ONLIST_OPERATOR_SUM:$me,MATH_ONLIST_TOOLTIP_AVERAGE:Cme,MATH_ONLIST_TOOLTIP_MAX:yme,MATH_ONLIST_TOOLTIP_MEDIAN:Ime,MATH_ONLIST_TOOLTIP_MIN:bme,MATH_ONLIST_TOOLTIP_MODE:kme,MATH_ONLIST_TOOLTIP_RANDOM:Nme,MATH_ONLIST_TOOLTIP_STD_DEV:Rme,MATH_ONLIST_TOOLTIP_SUM:vme,MATH_POWER_SYMBOL:Tfe,MATH_RANDOM_FLOAT_HELPURL:Ume,MATH_RANDOM_FLOAT_TITLE_RANDOM:Gme,MATH_RANDOM_FLOAT_TOOLTIP:Wme,MATH_RANDOM_INT_HELPURL:Fme,MATH_RANDOM_INT_TITLE:Hme,MATH_RANDOM_INT_TOOLTIP:Vme,MATH_ROUND_HELPURL:dme,MATH_ROUND_OPERATOR_ROUND:pme,MATH_ROUND_OPERATOR_ROUNDDOWN:mme,MATH_ROUND_OPERATOR_ROUNDUP:fme,MATH_ROUND_TOOLTIP:hme,MATH_SINGLE_HELPURL:Mfe,MATH_SINGLE_OP_ABSOLUTE:xfe,MATH_SINGLE_OP_ROOT:Dfe,MATH_SINGLE_TOOLTIP_ABS:Bfe,MATH_SINGLE_TOOLTIP_EXP:Ufe,MATH_SINGLE_TOOLTIP_LN:Hfe,MATH_SINGLE_TOOLTIP_LOG10:Vfe,MATH_SINGLE_TOOLTIP_NEG:Ffe,MATH_SINGLE_TOOLTIP_POW10:Gfe,MATH_SINGLE_TOOLTIP_ROOT:Pfe,MATH_SUBTRACTION_SYMBOL:vfe,MATH_TRIG_ACOS:Ife,MATH_TRIG_ASIN:Sfe,MATH_TRIG_ATAN:wfe,MATH_TRIG_COS:Efe,MATH_TRIG_HELPURL:Wfe,MATH_TRIG_SIN:yfe,MATH_TRIG_TAN:Cfe,MATH_TRIG_TOOLTIP_ACOS:jfe,MATH_TRIG_TOOLTIP_ASIN:Yfe,MATH_TRIG_TOOLTIP_ATAN:qfe,MATH_TRIG_TOOLTIP_COS:Kfe,MATH_TRIG_TOOLTIP_SIN:zfe,MATH_TRIG_TOOLTIP_TAN:Xfe,NEW_COLOUR_VARIABLE:Ahe,NEW_NUMBER_VARIABLE:Rhe,NEW_STRING_VARIABLE:Ohe,NEW_VARIABLE:khe,NEW_VARIABLE_TITLE:Lhe,NEW_VARIABLE_TYPE_TITLE:Nhe,ORDINAL_NUMBER_SUFFIX:Kve,PROCEDURES_ALLOW_STATEMENTS:g_e,PROCEDURES_BEFORE_PARAMS:o_e,PROCEDURES_CALLNORETURN_HELPURL:v_e,PROCEDURES_CALLNORETURN_TOOLTIP:__e,PROCEDURES_CALLRETURN_HELPURL:b_e,PROCEDURES_CALLRETURN_TOOLTIP:T_e,PROCEDURES_CALL_BEFORE_PARAMS:s_e,PROCEDURES_CALL_DISABLED_DEF_WARNING:i_e,PROCEDURES_CREATE_DO:w_e,PROCEDURES_DEFNORETURN_COMMENT:a_e,PROCEDURES_DEFNORETURN_DO:r_e,PROCEDURES_DEFNORETURN_HELPURL:e_e,PROCEDURES_DEFNORETURN_PROCEDURE:n_e,PROCEDURES_DEFNORETURN_TITLE:t_e,PROCEDURES_DEFNORETURN_TOOLTIP:l_e,PROCEDURES_DEFRETURN_COMMENT:p_e,PROCEDURES_DEFRETURN_DO:h_e,PROCEDURES_DEFRETURN_HELPURL:u_e,PROCEDURES_DEFRETURN_PROCEDURE:d_e,PROCEDURES_DEFRETURN_RETURN:f_e,PROCEDURES_DEFRETURN_TITLE:c_e,PROCEDURES_DEFRETURN_TOOLTIP:m_e,PROCEDURES_DEF_DUPLICATE_WARNING:$_e,PROCEDURES_HIGHLIGHT_DEF:I_e,PROCEDURES_HUE:nhe,PROCEDURES_IFRETURN_HELPURL:O_e,PROCEDURES_IFRETURN_TOOLTIP:k_e,PROCEDURES_IFRETURN_WARNING:R_e,PROCEDURES_MUTATORARG_TITLE:C_e,PROCEDURES_MUTATORARG_TOOLTIP:S_e,PROCEDURES_MUTATORCONTAINER_TITLE:y_e,PROCEDURES_MUTATORCONTAINER_TOOLTIP:E_e,REDO:Che,REMOVE_COMMENT:ahe,RENAME_VARIABLE:Ihe,RENAME_VARIABLE_TITLE:whe,TEXTS_HUE:Jde,TEXT_APPEND_HELPURL:oge,TEXT_APPEND_TITLE:sge,TEXT_APPEND_TOOLTIP:rge,TEXT_APPEND_VARIABLE:ige,TEXT_CHANGECASE_HELPURL:xge,TEXT_CHANGECASE_OPERATOR_LOWERCASE:Hge,TEXT_CHANGECASE_OPERATOR_TITLECASE:Vge,TEXT_CHANGECASE_OPERATOR_UPPERCASE:Fge,TEXT_CHANGECASE_TOOLTIP:Bge,TEXT_CHARAT_FIRST:yge,TEXT_CHARAT_FROM_END:Tge,TEXT_CHARAT_FROM_START:bge,TEXT_CHARAT_HELPURL:vge,TEXT_CHARAT_LAST:Ege,TEXT_CHARAT_RANDOM:Cge,TEXT_CHARAT_TAIL:Sge,TEXT_CHARAT_TITLE:_ge,TEXT_CHARAT_TOOLTIP:Ige,TEXT_COUNT_HELPURL:n$e,TEXT_COUNT_MESSAGE0:t$e,TEXT_COUNT_TOOLTIP:o$e,TEXT_CREATE_JOIN_ITEM_TITLE_ITEM:tge,TEXT_CREATE_JOIN_ITEM_TOOLTIP:nge,TEXT_CREATE_JOIN_TITLE_JOIN:Qme,TEXT_CREATE_JOIN_TOOLTIP:ege,TEXT_GET_SUBSTRING_END_FROM_END:Mge,TEXT_GET_SUBSTRING_END_FROM_START:Lge,TEXT_GET_SUBSTRING_END_LAST:Dge,TEXT_GET_SUBSTRING_HELPURL:kge,TEXT_GET_SUBSTRING_INPUT_IN_TEXT:Oge,TEXT_GET_SUBSTRING_START_FIRST:Nge,TEXT_GET_SUBSTRING_START_FROM_END:Age,TEXT_GET_SUBSTRING_START_FROM_START:Rge,TEXT_GET_SUBSTRING_TAIL:Pge,TEXT_GET_SUBSTRING_TOOLTIP:wge,TEXT_INDEXOF_HELPURL:pge,TEXT_INDEXOF_OPERATOR_FIRST:gge,TEXT_INDEXOF_OPERATOR_LAST:$ge,TEXT_INDEXOF_TITLE:mge,TEXT_INDEXOF_TOOLTIP:fge,TEXT_ISEMPTY_HELPURL:cge,TEXT_ISEMPTY_TITLE:dge,TEXT_ISEMPTY_TOOLTIP:hge,TEXT_JOIN_HELPURL:qme,TEXT_JOIN_TITLE_CREATEWITH:Jme,TEXT_JOIN_TOOLTIP:Zme,TEXT_LENGTH_HELPURL:lge,TEXT_LENGTH_TITLE:age,TEXT_LENGTH_TOOLTIP:uge,TEXT_PRINT_HELPURL:Xge,TEXT_PRINT_TITLE:Yge,TEXT_PRINT_TOOLTIP:jge,TEXT_PROMPT_HELPURL:qge,TEXT_PROMPT_TOOLTIP_NUMBER:Qge,TEXT_PROMPT_TOOLTIP_TEXT:e$e,TEXT_PROMPT_TYPE_NUMBER:Zge,TEXT_PROMPT_TYPE_TEXT:Jge,TEXT_REPLACE_HELPURL:i$e,TEXT_REPLACE_MESSAGE0:s$e,TEXT_REPLACE_TOOLTIP:r$e,TEXT_REVERSE_HELPURL:a$e,TEXT_REVERSE_MESSAGE0:l$e,TEXT_REVERSE_TOOLTIP:u$e,TEXT_TEXT_HELPURL:Yme,TEXT_TEXT_TOOLTIP:jme,TEXT_TRIM_HELPURL:Uge,TEXT_TRIM_OPERATOR_BOTH:Wge,TEXT_TRIM_OPERATOR_LEFT:zge,TEXT_TRIM_OPERATOR_RIGHT:Kge,TEXT_TRIM_TOOLTIP:Gge,TODAY:ihe,UNDO:Ehe,UNNAMED_KEY:she,VARIABLES_DEFAULT_NAME:ohe,VARIABLES_DYNAMIC_HUE:the,VARIABLES_GET_CREATE_SET:jve,VARIABLES_GET_HELPURL:Xve,VARIABLES_GET_TOOLTIP:Yve,VARIABLES_HUE:ehe,VARIABLES_SET:Jve,VARIABLES_SET_CREATE_GET:Qve,VARIABLES_SET_HELPURL:qve,VARIABLES_SET_TOOLTIP:Zve,VARIABLE_ALREADY_EXISTS:Mhe,VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE:Dhe,VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER:Phe,WORKSPACE_ARIA_LABEL:N_e,WORKSPACE_COMMENT_DEFAULT_TEXT:A_e},Symbol.toStringTag,{value:"Module"}));class x_e extends ux{constructor(n,o,i){super(n,o,i)}addColourBorder_(n){this.rowDiv_.style.backgroundColor=n}setSelected(n){var o=this.rowDiv_.getElementsByClassName("blocklyTreeLabel")[0];n?(this.rowDiv_.style.backgroundColor="white",o.style.color=this.colour_,this.iconDom_.style.color=this.colour_):(this.rowDiv_.style.backgroundColor=this.colour_,o.style.color="white",this.iconDom_.style.color="white"),My.aria.setState(this.htmlDiv_,My.aria.State.SELECTED,n)}createIconDom_(){const n=document.createElement("img");return this.toolboxItemDef_.categorystyle?n.src="static/png/"+this.toolboxItemDef_.categorystyle+".png":n.src="static/png/logo_only.svg",n.alt="",n.width="40",n.height="40",n}}HA.register(HA.Type.TOOLBOX_ITEM,ux.registrationName,x_e,!0);Vde.defineTheme("LeLink",{name:"LeLink",base:Ude.Classic,categoryStyles:{logic_category:{colour:"#D435D4"},loop_category:{colour:"#5454BF"},math_category:{colour:"#039A9A"},text_category:{colour:"#257DB1"},list_category:{colour:"#035703"},variable_category:{colour:"#6969FF"},procedure_category:{colour:"#FF6680"},dict_category:{colour:"#D435D4"},pin_category:{colour:"#039A9A"},input_category:{colour:"#FFC003"},output_category:{colour:"#1CB3FF"},network_category:{colour:"#13B013"},broadcast_category:{colour:"#D2691E"},interval_category:{colour:"#FFCC99"}},blockStyles:{logic_blocks:{colourPrimary:"#D435D4"},loop_blocks:{colourPrimary:"#5454BF"},math_blocks:{colourPrimary:"#039A9A"},text_blocks:{colourPrimary:"#257DB1"},list_blocks:{colourPrimary:"#035703"},variable_blocks:{colourPrimary:"#6969FF"},procedure_blocks:{colourPrimary:"#FF6680"},dict_blocks:{colourPrimary:"#1CB3FF"},pin_blocks:{colourPrimary:"#039A9A"},input_blocks:{colourPrimary:"#FFC003"}},startHats:!0});var dx={exports:{}};(function(t,n){(function(o,i){t.exports=i(V0())})(jo,function(o){var i=o.__namespace__,l=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),a={customContextMenu:function(A){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(ee={text:i.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:u(this)},pe=this.getField("VAR").getText(),pe={text:i.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",pe),enabled:!0,callback:h(this)},A.unshift(ee),A.unshift(pe));else{if(this.type==="variables_get_dynamic")var x="variables_set_dynamic",ee=i.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else x="variables_get_dynamic",ee=i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var pe=this.getField("VAR");x={type:x,fields:{VAR:pe.saveState(!0)}},A.push({enabled:0<this.workspace.remainingCapacity(),text:ee.replace("%1",pe.getText()),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,x)})}},onchange:function(A){A=this.getFieldValue("VAR"),A=i.getVariable$$module$build$src$core$variables(this.workspace,A),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(A.type):this.getInput("VALUE").connection.setCheck(A.type)}},u=function(A){return function(){const x=A.workspace,ee=A.getField("VAR").getVariable();i.renameVariable$$module$build$src$core$variables(x,ee)}},h=function(A){return function(){const x=A.workspace,ee=A.getField("VAR").getVariable();x.deleteVariableById(ee.getId()),x.refreshToolboxSelection()}};i.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",a),i.defineBlocks$$module$build$src$core$common(l);var p={blocks:l},f=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),g={customContextMenu:function(A){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(ee={text:i.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:m(this)},pe=this.getField("VAR").getText(),pe={text:i.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",pe),enabled:!0,callback:_(this)},A.unshift(ee),A.unshift(pe));else{if(this.type==="variables_get")var x="variables_set",ee=i.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else x="variables_get",ee=i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var pe=this.getField("VAR");x={type:x,fields:{VAR:pe.saveState(!0)}},A.push({enabled:0<this.workspace.remainingCapacity(),text:ee.replace("%1",pe.getText()),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,x)})}}},m=function(A){return function(){const x=A.workspace,ee=A.getField("VAR").getVariable();i.renameVariable$$module$build$src$core$variables(x,ee)}},_=function(A){return function(){const x=A.workspace,ee=A.getField("VAR").getVariable();x.deleteVariableById(ee.getId()),x.refreshToolboxSelection()}};i.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",g),i.defineBlocks$$module$build$src$core$common(f);var b={blocks:f},T=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),$={init:function(){this.WHERE_OPTIONS_1=[[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation");var x=this.getInput("AT1")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return A.setAttribute("at1",`${x}`),x=this.getInput("AT2")instanceof i.ValueInput$$module$build$src$core$inputs$value_input,A.setAttribute("at2",`${x}`),A},domToMutation:function(A){const x=A.getAttribute("at1")==="true";A=A.getAttribute("at2")==="true",this.updateAt_(1,x),this.updateAt_(2,A)},updateAt_:function(A,x){this.removeInput("AT"+A),this.removeInput("ORDINAL"+A,!0),x?(this.appendValueInput("AT"+A).setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+A).appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+A),A===2&&i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL));const ee=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+A]});ee.setValidator(function(pe){const re=pe==="FROM_START"||pe==="FROM_END";if(re!==x){const je=this.getSourceBlock();return je.updateAt_(A,re),je.setFieldValue(pe,"WHERE"+A),null}}),this.getInput("AT"+A).appendField(ee,"WHERE"+A),A===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}};T.text_getSubstring=$,T.text_changeCase={init:function(){const A=[[i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:A}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},T.text_trim={init:function(){const A=[[i.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[i.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[i.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:A}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(i.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},T.text_print={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var E={updateType_:function(A){this.outputConnection.setCheck(A==="NUMBER"?"Number":"String")},mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation");return A.setAttribute("type",this.getFieldValue("TYPE")),A},domToMutation:function(A){this.updateType_(A.getAttribute("type"))}};T.text_prompt_ext=Object.assign({},E,{init:function(){var A=[[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),A=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:A}),A.setValidator(x=>{this.updateType_(x)}),this.appendValueInput("TEXT").appendField(A,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});var y=Object.assign({},E,{init:function(){this.mixin(I);var A=[[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),A=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:A}),A.setValidator(x=>{this.updateType_(x)}),this.appendDummyInput().appendField(A,"TYPE").appendField(this.newQuote_(!0)).appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});T.text_prompt=y,T.text_count={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},T.text_replace={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},T.text_reverse={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var I={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(A){for(let x=0,ee;ee=this.inputList[x];x++)for(let pe=0,re;re=ee.fieldRow[pe];pe++)if(A===re.name){ee.insertFieldAt(pe,this.newQuote_(!0)),ee.insertFieldAt(pe+2,this.newQuote_(!1));return}console.warn('field named "'+A+'" not found in '+this.toDevString())},newQuote_:function(A){return A=this.RTL?!A:A,i.fromJson$$module$build$src$core$field_registry({type:"field_image",src:A?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:A?"“":"”"})}},C=function(){this.mixin(I),this.quoteField_("TEXT")},S={itemCount_:0,mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation");return A.setAttribute("items",`${this.itemCount_}`),A},domToMutation:function(A){this.itemCount_=parseInt(A.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(A){this.itemCount_=A.itemCount,this.updateShape_()},decompose:function(A){const x=A.newBlock("text_create_join_container");x.initSvg();let ee=x.getInput("STACK").connection;for(let pe=0;pe<this.itemCount_;pe++){const re=A.newBlock("text_create_join_item");re.initSvg(),ee.connect(re.previousConnection),ee=re.nextConnection}return x},compose:function(A){var x=A.getInputTargetBlock("STACK");for(A=[];x;)x.isInsertionMarker()||A.push(x.valueConnection_),x=x.getNextBlock();for(x=0;x<this.itemCount_;x++){const ee=this.getInput("ADD"+x).connection.targetConnection;ee&&!A.includes(ee)&&ee.disconnect()}for(this.itemCount_=A.length,this.updateShape_(),x=0;x<this.itemCount_;x++){let ee;(ee=A[x])==null||ee.reconnect(this,"ADD"+x)}},saveConnections:function(A){A=A.getInputTargetBlock("STACK");let x=0;for(;A;){if(A.isInsertionMarker()){A=A.getNextBlock();continue}const ee=this.getInput("ADD"+x);A.valueConnection_=ee&&ee.connection.targetConnection,A=A.getNextBlock(),x++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var A=0;A<this.itemCount_;A++)if(!this.getInput("ADD"+A)){const x=this.appendValueInput("ADD"+A).setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT);A===0&&x.appendField(i.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(A=this.itemCount_;this.getInput("ADD"+A);A++)this.removeInput("ADD"+A)}},R=function(){this.mixin(I),this.itemCount_=2,this.updateShape_(),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};i.register$$module$build$src$core$extensions("text_append_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var O=function(){this.setTooltip(()=>i.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},P={isAt_:!1,mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation");return A.setAttribute("at",`${this.isAt_}`),A},domToMutation:function(A){A=A.getAttribute("at")!=="false",this.updateAt_(A)},updateAt_:function(A){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),A&&(this.appendValueInput("AT").setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),i.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=A}},M=function(){this.getField("WHERE").setValidator(function(A){A=A==="FROM_START"||A==="FROM_END";const x=this.getSourceBlock();A!==x.isAt_&&x.updateAt_(A)}),this.updateAt_(!0),this.setTooltip(()=>{var A=this.getFieldValue("WHERE");let x=i.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(A==="FROM_START"||A==="FROM_END")&&(A=A==="FROM_START"?i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(x+="  "+A.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),x})};i.register$$module$build$src$core$extensions("text_indexOf_tooltip",O),i.register$$module$build$src$core$extensions("text_quotes",C),i.registerMixin$$module$build$src$core$extensions("quote_image_mixin",I),i.registerMutator$$module$build$src$core$extensions("text_join_mutator",S,R),i.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",P,M),i.defineBlocks$$module$build$src$core$common(T);var H={blocks:T},F={},B={setStatements_:function(A){this.hasStatements_!==A&&(A?(this.appendStatementInput("STACK").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=A)},updateParams_:function(){let A="";this.arguments_.length&&(A=i.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),i.disable$$module$build$src$core$events$utils();try{this.setFieldValue(A,"PARAMS")}finally{i.enable$$module$build$src$core$events$utils()}},mutationToDom:function(A){const x=i.createElement$$module$build$src$core$utils$xml("mutation");A&&x.setAttribute("name",this.getFieldValue("NAME"));for(let ee=0;ee<this.argumentVarModels_.length;ee++){const pe=i.createElement$$module$build$src$core$utils$xml("arg"),re=this.argumentVarModels_[ee];pe.setAttribute("name",re.name),pe.setAttribute("varid",re.getId()),A&&this.paramIds_&&pe.setAttribute("paramId",this.paramIds_[ee]),x.appendChild(pe)}return this.hasStatements_||x.setAttribute("statements","false"),x},domToMutation:function(A){this.arguments_=[],this.argumentVarModels_=[];for(let ee=0,pe;pe=A.childNodes[ee];ee++)if(pe.nodeName.toLowerCase()==="arg"){var x=pe;const re=x.getAttribute("name");x=x.getAttribute("varid")||x.getAttribute("varId"),this.arguments_.push(re),x=i.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,x,re,""),x!==null?this.argumentVarModels_.push(x):console.log(`Failed to create a variable named "${re}", ignoring.`)}this.updateParams_(),i.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(A.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const A=Object.create(null);if(this.argumentVarModels_.length){A.params=[];for(let x=0;x<this.argumentVarModels_.length;x++)A.params.push({name:this.argumentVarModels_[x].name,id:this.argumentVarModels_[x].getId()})}return this.hasStatements_||(A.hasStatements=!1),A},loadExtraState:function(A){if(this.arguments_=[],this.argumentVarModels_=[],A.params)for(let ee=0;ee<A.params.length;ee++){var x=A.params[ee];x=i.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,x.id,x.name,""),this.arguments_.push(x.name),this.argumentVarModels_.push(x)}this.updateParams_(),i.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(A.hasStatements!==!1)},decompose:function(A){const x=i.createElement$$module$build$src$core$utils$xml("block");x.setAttribute("type","procedures_mutatorcontainer");var ee=i.createElement$$module$build$src$core$utils$xml("statement");ee.setAttribute("name","STACK"),x.appendChild(ee);for(let re=0;re<this.arguments_.length;re++){const je=i.createElement$$module$build$src$core$utils$xml("block");je.setAttribute("type","procedures_mutatorarg");var pe=i.createElement$$module$build$src$core$utils$xml("field");pe.setAttribute("name","NAME");const Ct=i.createTextNode$$module$build$src$core$utils$xml(this.arguments_[re]);pe.appendChild(Ct),je.appendChild(pe),pe=i.createElement$$module$build$src$core$utils$xml("next"),je.appendChild(pe),ee.appendChild(je),ee=pe}return A=i.domToBlock$$module$build$src$core$xml(x,A),this.type==="procedures_defreturn"?A.setFieldValue(this.hasStatements_,"STATEMENTS"):A.removeInput("STATEMENT_INPUT"),i.mutateCallers$$module$build$src$core$procedures(this),A},compose:function(A){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let x=A.getInputTargetBlock("STACK");for(;x&&!x.isInsertionMarker();){var ee=x.getFieldValue("NAME");this.arguments_.push(ee),ee=this.workspace.getVariable(ee,""),this.argumentVarModels_.push(ee),this.paramIds_.push(x.id),x=x.nextConnection&&x.nextConnection.targetBlock()}if(this.updateParams_(),i.mutateCallers$$module$build$src$core$procedures(this),A=A.getFieldValue("STATEMENTS"),A!==null&&(A=A==="TRUE",this.hasStatements_!==A))if(A){this.setStatements_(!0);var pe;(pe=this.statementConnection_)==null||pe.reconnect(this,"STACK"),this.statementConnection_=null}else pe=this.getInput("STACK").connection,(this.statementConnection_=pe.targetConnection)&&(pe=pe.targetBlock(),pe.unplug(),pe.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(A,x){var ee=this.workspace.getVariableById(A);if(ee.type===""){ee=ee.name,x=this.workspace.getVariableById(x);var pe=!1;for(let re=0;re<this.argumentVarModels_.length;re++)this.argumentVarModels_[re].getId()===A&&(this.arguments_[re]=x.name,this.argumentVarModels_[re]=x,pe=!0);pe&&(this.displayRenamedVar_(ee,x.name),i.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(A){const x=A.name;let ee=!1,pe;for(let re=0;re<this.argumentVarModels_.length;re++)this.argumentVarModels_[re].getId()===A.getId()&&(pe=this.arguments_[re],this.arguments_[re]=x,ee=!0);ee&&(this.displayRenamedVar_(pe,x),i.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(A,x){this.updateParams_();var ee=this.getIcon(i.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(ee&&ee.bubbleIsVisible()){ee=ee.getWorkspace().getAllBlocks(!1);for(let pe=0,re;re=ee[pe];pe++)re.type==="procedures_mutatorarg"&&i.Names$$module$build$src$core$names.equals(A,re.getFieldValue("NAME"))&&re.setFieldValue(x,"NAME")}},customContextMenu:function(A){if(!this.isInFlyout){var x=this.getFieldValue("NAME"),ee={type:this.callType_,extraState:{name:x,params:this.arguments_}};if(A.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",x),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,ee)}),!this.isCollapsed())for(x=0;x<this.argumentVarModels_.length;x++){ee=this.argumentVarModels_[x];const pe={type:"variables_get",fields:{VAR:{name:ee.name,id:ee.getId(),type:ee.type}}};A.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",ee.name),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,pe)})}}}};F.procedures_defnoreturn=Object.assign({},B,{init:function(){var A=i.findLegalName$$module$build$src$core$procedures("",this);A=i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:A}),A.setValidator(i.rename$$module$build$src$core$procedures),A.setSpellcheck(!1),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(A,"NAME").appendField("","PARAMS"),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),F.procedures_defreturn=Object.assign({},B,{init:function(){var A=i.findLegalName$$module$build$src$core$procedures("",this);A=i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:A}),A.setValidator(i.rename$$module$build$src$core$procedures),A.setSpellcheck(!1),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(A,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT).appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var K={init:function(){this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};F.procedures_mutatorcontainer=K;var te={init:function(){const A=i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:i.DEFAULT_ARG$$module$build$src$core$procedures});A.setValidator(this.validator_),A.oldShowEditorFn_=A.showEditor_,A.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(A,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,A.onFinishEditing_=this.deleteIntermediateVars_,A.createdVariables_=[],A.onFinishEditing_("x")},validator_:function(A){var x=this.getSourceBlock();const ee=x.workspace.getRootWorkspace();if(A=A.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!A)return null;const pe=(x.workspace.targetWorkspace||x.workspace).getAllBlocks(!1),re=A.toLowerCase();for(let je=0;je<pe.length;je++){if(pe[je].id===this.getSourceBlock().id)continue;const Ct=pe[je].getFieldValue("NAME");if(Ct&&Ct.toLowerCase()===re)return null}return x.isInFlyout||((x=ee.getVariable(A,""))&&x.name!==A&&ee.renameVariableById(x.getId(),A),x||(x=ee.createVariable(A,""))&&this.createdVariables_&&this.createdVariables_.push(x)),A},deleteIntermediateVars_:function(A){const x=this.getSourceBlock().workspace.getRootWorkspace();if(x)for(let ee=0;ee<this.createdVariables_.length;ee++){const pe=this.createdVariables_[ee];pe.name!==A&&x.deleteVariableById(pe.getId())}}};F.procedures_mutatorarg=te;var Z="DISABLED_PROCEDURE_DEFINITION",j={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(A,x){i.Names$$module$build$src$core$names.equals(A,this.getProcedureCall())&&(this.setFieldValue(x,"NAME"),this.setTooltip((this.outputConnection?i.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:i.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",x)))},setProcedureParameters_:function(A,x){var ee=i.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((ee=(ee=ee&&ee.getIcon(i.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&ee.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),A.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=x;else{if(x.length!==A.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let re=0;re<this.arguments_.length;re++){var pe=this.getInput("ARG"+re);pe&&(pe=pe.connection.targetConnection,this.quarkConnections_[this.quarkIds_[re]]=pe,ee&&pe&&!x.includes(this.quarkIds_[re])&&(pe.disconnect(),pe.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(A),this.argumentVarModels_=[],A=0;A<this.arguments_.length;A++)ee=i.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[A],""),this.argumentVarModels_.push(ee);if(this.updateShape_(),this.quarkIds_=x){for(x=0;x<this.arguments_.length;x++)if(A=this.quarkIds_[x],A in this.quarkConnections_){let re;(re=this.quarkConnections_[A])!=null&&re.reconnect(this,"ARG"+x)||delete this.quarkConnections_[A]}}}},updateShape_:function(){for(var A=0;A<this.arguments_.length;A++){var x=this.getField("ARGNAME"+A);if(x){i.disable$$module$build$src$core$events$utils();try{x.setValue(this.arguments_[A])}finally{i.enable$$module$build$src$core$events$utils()}}else x=i.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[A]}),this.appendValueInput("ARG"+A).setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT).appendField(x,"ARGNAME"+A)}for(A=this.arguments_.length;this.getInput("ARG"+A);A++)this.removeInput("ARG"+A);(A=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||A.appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&A.removeField("WITH"))},mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation");A.setAttribute("name",this.getProcedureCall());for(let x=0;x<this.arguments_.length;x++){const ee=i.createElement$$module$build$src$core$utils$xml("arg");ee.setAttribute("name",this.arguments_[x]),A.appendChild(ee)}return A},domToMutation:function(A){var x=A.getAttribute("name");this.renameProcedure(this.getProcedureCall(),x),x=[];const ee=[];for(let pe=0,re;re=A.childNodes[pe];pe++)re.nodeName.toLowerCase()==="arg"&&(x.push(re.getAttribute("name")),ee.push(re.getAttribute("paramId")));this.setProcedureParameters_(x,ee)},saveExtraState:function(){const A=Object.create(null);return A.name=this.getProcedureCall(),this.arguments_.length&&(A.params=this.arguments_),A},loadExtraState:function(A){if(this.renameProcedure(this.getProcedureCall(),A.name),A=A.params){const x=[];x.length=A.length,x.fill(null),this.setProcedureParameters_(A,x)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(A){if(this.workspace&&!this.workspace.isFlyout&&A.recordUndo)if(A.type===i.CREATE$$module$build$src$core$events$utils&&A.ids.includes(this.id)){var x=this.getProcedureCall();if(x=i.getDefinition$$module$build$src$core$procedures(x,this.workspace),!x||x.type===this.defType_&&JSON.stringify(x.getVars())===JSON.stringify(this.arguments_)||(x=null),!x){i.setGroup$$module$build$src$core$events$utils(A.group),A=i.createElement$$module$build$src$core$utils$xml("xml"),x=i.createElement$$module$build$src$core$utils$xml("block"),x.setAttribute("type",this.defType_);var ee=this.getRelativeToSurfaceXY(),pe=ee.y+2*i.config$$module$build$src$core$config.snapRadius;x.setAttribute("x",`${ee.x+i.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),x.setAttribute("y",`${pe}`),ee=this.mutationToDom(),x.appendChild(ee),ee=i.createElement$$module$build$src$core$utils$xml("field"),ee.setAttribute("name","NAME"),pe=this.getProcedureCall();const re=i.findLegalName$$module$build$src$core$procedures(pe,this);pe!==re&&this.renameProcedure(pe,re),ee.appendChild(i.createTextNode$$module$build$src$core$utils$xml(pe)),x.appendChild(ee),A.appendChild(x),i.domToWorkspace$$module$build$src$core$xml(A,this.workspace),i.setGroup$$module$build$src$core$events$utils(!1)}}else A.type===i.DELETE$$module$build$src$core$events$utils?(x=this.getProcedureCall(),i.getDefinition$$module$build$src$core$procedures(x,this.workspace)||(i.setGroup$$module$build$src$core$events$utils(A.group),this.dispose(!0),i.setGroup$$module$build$src$core$events$utils(!1))):A.type===i.CHANGE$$module$build$src$core$events$utils&&A.element==="disabled"&&(x=this.getProcedureCall(),(pe=i.getDefinition$$module$build$src$core$procedures(x,this.workspace))&&pe.id===A.blockId&&((ee=i.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),i.setGroup$$module$build$src$core$events$utils(A.group),A=pe.isEnabled(),this.setDisabledReason(!A,Z),this.setWarningText(A?null:i.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",x)),i.setGroup$$module$build$src$core$events$utils(ee)))},customContextMenu:function(A){if(this.workspace.isMovable()){var x=this.getProcedureCall(),ee=this.workspace;A.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const pe=i.getDefinition$$module$build$src$core$procedures(x,ee);pe&&(ee.centerOnBlock(pe.id),i.setSelected$$module$build$src$core$common(pe))}})}}};F.procedures_callnoreturn=Object.assign({},j,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),F.procedures_callreturn=Object.assign({},j,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"});var z="UNPARENTED_IFRETURN",G={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation");return A.setAttribute("value",String(Number(this.hasReturnValue_))),A},domToMutation:function(A){this.hasReturnValue_=A.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(A){if(!(this.workspace.isDragging&&this.workspace.isDragging()||A.type!==i.MOVE$$module$build$src$core$events$utils&&A.type!==i.CREATE$$module$build$src$core$events$utils)){A=!1;var x=this;do{if(this.FUNCTION_TYPES.includes(x.type)){A=!0;break}x=x.getSurroundParent()}while(x);if(A?(x.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):x.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(i.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{i.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!A,z)}finally{i.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};F.procedures_ifreturn=G,i.defineBlocks$$module$build$src$core$common(F);var W={blocks:F},D=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),X={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};i.register$$module$build$src$core$extensions("math_op_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("OP",X));var oe={mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation"),x=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return A.setAttribute("divisor_input",String(x)),A},domToMutation:function(A){A=A.getAttribute("divisor_input")==="true",this.updateShape_(A)},updateShape_:function(A){const x=this.getInput("DIVISOR");A?x||this.appendValueInput("DIVISOR").setCheck("Number"):x&&this.removeInput("DIVISOR")}},le=function(){this.getField("PROPERTY").setValidator(function(A){A=A==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(A)})};i.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",oe,le),i.register$$module$build$src$core$extensions("math_change_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var me={updateType_:function(A){A==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation");return A.setAttribute("op",this.getFieldValue("OP")),A},domToMutation:function(A){if(A=A.getAttribute("op"),A===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(A)}},Se=function(){this.getField("OP").setValidator((function(A){this.updateType_(A)}).bind(this))};i.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",me,Se),i.defineBlocks$$module$build$src$core$common(D);var Pe={blocks:D},de=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),ye={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};i.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",ye));var _e={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};i.register$$module$build$src$core$extensions("controls_flow_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",_e));var Ke={customContextMenu:function(A){if(!this.isInFlyout){var x=this.getField("VAR"),ee=x.getVariable().name;this.isCollapsed()||ee===null||(x={type:"variables_get",fields:{VAR:x.saveState(!0)}},A.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",ee),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,x)}))}}};i.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",Ke),i.register$$module$build$src$core$extensions("controls_for_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),i.register$$module$build$src$core$extensions("controls_forEach_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var ve=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),Ne="CONTROL_FLOW_NOT_IN_LOOP",He={getSurroundLoop:function(){let A=this;do{if(ve.has(A.type))return A;A=A.getSurroundParent()}while(A);return null},onchange:function(A){const x=this.workspace;if(x.isDragging&&!x.isDragging()&&(A.type===i.MOVE$$module$build$src$core$events$utils||A.type===i.CREATE$$module$build$src$core$events$utils)&&(A=!!this.getSurroundLoop(),this.setWarningText(A?null:i.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{i.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!A,Ne)}finally{i.setRecordUndo$$module$build$src$core$events$utils(!0)}}};i.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",He),i.defineBlocks$$module$build$src$core$common(de);var ae={blocks:de,loopTypes:ve},he=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["‏<","LT"],["‏≤","LTE"],["‏>","GT"],["‏≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Ae={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};i.register$$module$build$src$core$extensions("logic_op_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Ae));var Fe={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const A=i.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&A.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&A.setAttribute("else","1"),A},domToMutation:function(A){this.elseifCount_=parseInt(A.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(A.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const A=Object.create(null);return this.elseifCount_&&(A.elseIfCount=this.elseifCount_),this.elseCount_&&(A.hasElse=!0),A},loadExtraState:function(A){this.elseifCount_=A.elseIfCount||0,this.elseCount_=A.hasElse?1:0,this.updateShape_()},decompose:function(A){const x=A.newBlock("controls_if_if");x.initSvg();let ee=x.nextConnection;for(let pe=1;pe<=this.elseifCount_;pe++){const re=A.newBlock("controls_if_elseif");re.initSvg(),ee.connect(re.previousConnection),ee=re.nextConnection}return this.elseCount_&&(A=A.newBlock("controls_if_else"),A.initSvg(),ee.connect(A.previousConnection)),x},compose:function(A){A=A.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const x=[null],ee=[null];let pe=null;for(;A;){if(!A.isInsertionMarker())switch(A.type){case"controls_if_elseif":this.elseifCount_++,x.push(A.valueConnection_),ee.push(A.statementConnection_);break;case"controls_if_else":this.elseCount_++,pe=A.statementConnection_;break;default:throw TypeError("Unknown block type: "+A.type)}A=A.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(x,ee,pe)},saveConnections:function(A){A=A.nextConnection.targetBlock();let x=1;for(;A;){if(!A.isInsertionMarker())switch(A.type){case"controls_if_elseif":var ee=this.getInput("IF"+x);const pe=this.getInput("DO"+x);A.valueConnection_=ee&&ee.connection.targetConnection,A.statementConnection_=pe&&pe.connection.targetConnection,x++;break;case"controls_if_else":ee=this.getInput("ELSE"),A.statementConnection_=ee&&ee.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+A.type)}A=A.getNextBlock()}},rebuildShape_:function(){const A=[null],x=[null];let ee=null;this.getInput("ELSE")&&(ee=this.getInput("ELSE").connection.targetConnection);for(let pe=1;this.getInput("IF"+pe);pe++){const re=this.getInput("IF"+pe),je=this.getInput("DO"+pe);A.push(re.connection.targetConnection),x.push(je.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(A,x,ee)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var A=1;this.getInput("IF"+A);A++)this.removeInput("IF"+A),this.removeInput("DO"+A);for(A=1;A<=this.elseifCount_;A++)this.appendValueInput("IF"+A).setCheck("Boolean").appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+A).appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(A,x,ee){for(let pe=1;pe<=this.elseifCount_;pe++){let re;(re=A[pe])==null||re.reconnect(this,"IF"+pe);let je;(je=x[pe])==null||je.reconnect(this,"DO"+pe)}ee==null||ee.reconnect(this,"ELSE")}};i.registerMutator$$module$build$src$core$extensions("controls_if_mutator",Fe,null,["controls_if_elseif","controls_if_else"]);var Ce=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};i.register$$module$build$src$core$extensions("controls_if_tooltip",Ce);var De={onchange:function(A){this.prevBlocks_||(this.prevBlocks_=[null,null]);var x=this.getInputTargetBlock("A");const ee=this.getInputTargetBlock("B");x&&ee&&!this.workspace.connectionChecker.doTypeChecks(x.outputConnection,ee.outputConnection)&&(i.setGroup$$module$build$src$core$events$utils(A.group),A=this.prevBlocks_[0],A!==x&&(x.unplug(),!A||A.isDisposed()||A.isShadow()||this.getInput("A").connection.connect(A.outputConnection)),x=this.prevBlocks_[1],x!==ee&&(ee.unplug(),!x||x.isDisposed()||x.isShadow()||this.getInput("B").connection.connect(x.outputConnection)),this.bumpNeighbours(),i.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},Ve=function(){this.mixin(De)};i.register$$module$build$src$core$extensions("logic_compare",Ve);var ue={prevParentConnection_:null,onchange:function(A){const x=this.getInputTargetBlock("THEN"),ee=this.getInputTargetBlock("ELSE"),pe=this.outputConnection.targetConnection;if((x||ee)&&pe)for(let re=0;2>re;re++){const je=re===1?x:ee;je&&!je.workspace.connectionChecker.doTypeChecks(je.outputConnection,pe)&&(i.setGroup$$module$build$src$core$events$utils(A.group),pe===this.prevParentConnection_?(this.unplug(),pe.getSourceBlock().bumpNeighbours()):(je.unplug(),je.bumpNeighbours()),i.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=pe}};i.registerMixin$$module$build$src$core$extensions("logic_ternary",ue),i.defineBlocks$$module$build$src$core$common(he);var we={blocks:he},ke=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),Ge={init:function(){this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation");return A.setAttribute("items",String(this.itemCount_)),A},domToMutation:function(A){if(A=A.getAttribute("items"),!A)throw new TypeError("element did not have items");this.itemCount_=parseInt(A,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(A){this.itemCount_=A.itemCount,this.updateShape_()},decompose:function(A){const x=A.newBlock("lists_create_with_container");x.initSvg();let ee=x.getInput("STACK").connection;for(let pe=0;pe<this.itemCount_;pe++){const re=A.newBlock("lists_create_with_item");if(re.initSvg(),!re.previousConnection)throw Error("itemBlock has no previousConnection");ee.connect(re.previousConnection),ee=re.nextConnection}return x},compose:function(A){var x=A.getInputTargetBlock("STACK");for(A=[];x;)x.isInsertionMarker()||A.push(x.valueConnection_),x=x.getNextBlock();for(x=0;x<this.itemCount_;x++){const ee=this.getInput("ADD"+x).connection.targetConnection;ee&&!A.includes(ee)&&ee.disconnect()}for(this.itemCount_=A.length,this.updateShape_(),x=0;x<this.itemCount_;x++){let ee;(ee=A[x])==null||ee.reconnect(this,"ADD"+x)}},saveConnections:function(A){A=A.getInputTargetBlock("STACK");let x=0;for(;A;){if(A.isInsertionMarker()){A=A.getNextBlock();continue}const ee=this.getInput("ADD"+x);let pe;A.valueConnection_=(pe=ee)==null?void 0:pe.connection.targetConnection,A=A.getNextBlock(),x++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var A=0;A<this.itemCount_;A++)if(!this.getInput("ADD"+A)){const x=this.appendValueInput("ADD"+A).setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT);A===0&&x.appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(A=this.itemCount_;this.getInput("ADD"+A);A++)this.removeInput("ADD"+A)}};ke.lists_create_with=Ge;var ot={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};ke.lists_create_with_container=ot;var q={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};ke.lists_create_with_item=q;var et={init:function(){var A=[[i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),A=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:A}),!A)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(A,"END"),this.setInputsInline(!0),this.setTooltip(()=>i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};ke.lists_indexOf=et;var lt={init:function(){var A=[[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),A=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:A}),A.setValidator(function(x){x=x==="REMOVE",this.getSourceBlock().updateStatement_(x)}),this.appendValueInput("VALUE").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(A,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const x=this.getFieldValue("MODE"),ee=this.getFieldValue("WHERE");let pe="";switch(x+" "+ee){case"GET FROM_START":case"GET FROM_END":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(ee==="FROM_START"||ee==="FROM_END")&&(pe+="  "+(ee==="FROM_START"?i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),pe})},mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation");A.setAttribute("statement",String(!this.outputConnection));const x=this.getInput("AT")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return A.setAttribute("at",String(x)),A},domToMutation:function(A){const x=A.getAttribute("statement")==="true";this.updateStatement_(x),A=A.getAttribute("at")!=="false",this.updateAt_(A)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(A){A.isStatement?this.updateStatement_(!0):typeof A=="string"&&this.domToMutation(i.textToDom$$module$build$src$core$utils$xml(A))},updateStatement_:function(A){A!==!this.outputConnection&&(this.unplug(!0,!0),A?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(A){this.removeInput("AT"),this.removeInput("ORDINAL",!0),A?(this.appendValueInput("AT").setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const x=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});x.setValidator(function(ee){const pe=ee==="FROM_START"||ee==="FROM_END";if(pe!==A){const re=this.getSourceBlock();return re.updateAt_(pe),re.setFieldValue(ee,"WHERE"),null}}),this.getInput("AT").appendField(x,"WHERE"),i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};ke.lists_getIndex=lt;var Et={init:function(){var A=[[i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),A=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:A}),this.appendDummyInput().appendField(A,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const x=this.getFieldValue("MODE"),ee=this.getFieldValue("WHERE");let pe="";switch(x+" "+ee){case"SET FROM_START":case"SET FROM_END":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(ee==="FROM_START"||ee==="FROM_END")&&(pe+="  "+i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),pe})},mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation"),x=this.getInput("AT")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return A.setAttribute("at",String(x)),A},domToMutation:function(A){A=A.getAttribute("at")!=="false",this.updateAt_(A)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(A){this.removeInput("AT"),this.removeInput("ORDINAL",!0),A?(this.appendValueInput("AT").setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const x=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});x.setValidator(function(ee){const pe=ee==="FROM_START"||ee==="FROM_END";if(pe!==A){const re=this.getSourceBlock();return re.updateAt_(pe),re.setFieldValue(ee,"WHERE"),null}}),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(x,"WHERE")}};ke.lists_setIndex=Et;var Tt={init:function(){this.WHERE_OPTIONS_1=[[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation");var x=this.getInput("AT1")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return A.setAttribute("at1",String(x)),x=this.getInput("AT2")instanceof i.ValueInput$$module$build$src$core$inputs$value_input,A.setAttribute("at2",String(x)),A},domToMutation:function(A){const x=A.getAttribute("at1")==="true";A=A.getAttribute("at2")==="true",this.updateAt_(1,x),this.updateAt_(2,A)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(A,x){this.removeInput("AT"+A),this.removeInput("ORDINAL"+A,!0),x?(this.appendValueInput("AT"+A).setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+A).appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+A);const ee=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+A]});ee.setValidator(function(pe){const re=pe==="FROM_START"||pe==="FROM_END";if(re!==x){const je=this.getSourceBlock();return je.updateAt_(A,re),je.setFieldValue(pe,"WHERE"+A),null}}),this.getInput("AT"+A).appendField(ee,"WHERE"+A),A===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};ke.lists_getSublist=Tt,ke.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},ke.lists_split={init:function(){const A=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[i.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[i.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!A)throw Error("field_dropdown not found");A.setValidator(x=>{this.updateType_(x)}),this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(A,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(i.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const x=this.getFieldValue("MODE");if(x==="SPLIT")return i.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(x==="JOIN")return i.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+x)})},updateType_:function(A){if(this.getFieldValue("MODE")!==A){const x=this.getInput("INPUT").connection;x.setShadowDom(null);const ee=x.targetBlock();ee&&(x.disconnect(),ee.isShadow()?ee.dispose(!1):this.bumpNeighbours())}A==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const A=i.createElement$$module$build$src$core$utils$xml("mutation");return A.setAttribute("mode",this.getFieldValue("MODE")),A},domToMutation:function(A){this.updateType_(A.getAttribute("mode"))},saveExtraState:function(){return null},loadExtraState:function(){}},i.defineBlocks$$module$build$src$core$common(ke);var st={blocks:ke},Re=Object.assign({},ke,he,de,D,F,T,f,l),Ye={blocks:Re,lists:st,logic:we,loops:ae,math:Pe,procedures:W,texts:H,variables:b,variablesDynamic:p};return Ye.__namespace__=i,Ye})})(dx);var Iye=dx.exports,hx={exports:{}};(function(t,n){(function(o,i){t.exports=i(V0())})(jo,function(o){var i=o.__namespace__,l=function(U,se){return["[]",q.ATOMIC]},a=function(U,se){const Ee=Array(U.itemCount_);for(let Ie=0;Ie<U.itemCount_;Ie++)Ee[Ie]=se.valueToCode(U,"ADD"+Ie,q.NONE)||"None";return["["+Ee.join(", ")+"]",q.ATOMIC]},u=function(U,se){const Ee=se.valueToCode(U,"ITEM",q.NONE)||"None";return U=se.valueToCode(U,"NUM",q.MULTIPLICATIVE)||"0",["["+Ee+"] * "+U,q.MULTIPLICATIVE]},h=function(U,se){return["len("+(se.valueToCode(U,"VALUE",q.NONE)||"[]")+")",q.FUNCTION_CALL]},p=function(U,se){return["not len("+(se.valueToCode(U,"VALUE",q.NONE)||"[]")+")",q.LOGICAL_NOT]},f=function(U,se){const Ee=se.valueToCode(U,"FIND",q.NONE)||"[]",Ie=se.valueToCode(U,"VALUE",q.NONE)||"''";let Qe=" -1",Lt="",Bn=" - 1";return U.workspace.options.oneBasedIndex&&(Qe=" 0",Lt=" + 1",Bn=""),[(U.getFieldValue("END")==="FIRST"?se.provideFunction_("first_index",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = my_list.index(elem)${Lt}
  except: index =${Qe}
  return index
`):se.provideFunction_("last_index",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = len(my_list) - my_list[::-1].index(elem)${Bn}
  except: index =${Qe}
  return index
`))+"("+Ie+", "+Ee+")",q.FUNCTION_CALL]},g=function(U,se){const Ee=U.getFieldValue("MODE")||"GET",Ie=U.getFieldValue("WHERE")||"FROM_START";var Qe=se.valueToCode(U,"VALUE",Ie==="RANDOM"?q.NONE:q.MEMBER)||"[]";switch(Ie){case"FIRST":if(Ee==="GET")return[Qe+"[0]",q.MEMBER];if(Ee==="GET_REMOVE")return[Qe+".pop(0)",q.FUNCTION_CALL];if(Ee==="REMOVE")return Qe+`.pop(0)
`;break;case"LAST":if(Ee==="GET")return[Qe+"[-1]",q.MEMBER];if(Ee==="GET_REMOVE")return[Qe+".pop()",q.FUNCTION_CALL];if(Ee==="REMOVE")return Qe+`.pop()
`;break;case"FROM_START":if(U=se.getAdjustedInt(U,"AT"),Ee==="GET")return[Qe+"["+U+"]",q.MEMBER];if(Ee==="GET_REMOVE")return[Qe+".pop("+U+")",q.FUNCTION_CALL];if(Ee==="REMOVE")return Qe+".pop("+U+`)
`;break;case"FROM_END":if(U=se.getAdjustedInt(U,"AT",1,!0),Ee==="GET")return[Qe+"["+U+"]",q.MEMBER];if(Ee==="GET_REMOVE")return[Qe+".pop("+U+")",q.FUNCTION_CALL];if(Ee==="REMOVE")return Qe+".pop("+U+`)
`;break;case"RANDOM":if(se.definitions_.import_random="import random",Ee==="GET")return["random.choice("+Qe+")",q.FUNCTION_CALL];if(Qe=se.provideFunction_("lists_remove_random_item",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(myList):
  x = int(random.random() * len(myList))
  return myList.pop(x)
`)+"("+Qe+")",Ee==="GET_REMOVE")return[Qe,q.FUNCTION_CALL];if(Ee==="REMOVE")return Qe+`
`}throw Error("Unhandled combination (lists_getIndex).")},m=function(U,se){let Ee=se.valueToCode(U,"LIST",q.MEMBER)||"[]";const Ie=U.getFieldValue("MODE")||"GET";var Qe=U.getFieldValue("WHERE")||"FROM_START";const Lt=se.valueToCode(U,"TO",q.NONE)||"None";switch(Qe){case"FIRST":if(Ie==="SET")return Ee+"[0] = "+Lt+`
`;if(Ie==="INSERT")return Ee+".insert(0, "+Lt+`)
`;break;case"LAST":if(Ie==="SET")return Ee+"[-1] = "+Lt+`
`;if(Ie==="INSERT")return Ee+".append("+Lt+`)
`;break;case"FROM_START":if(se=se.getAdjustedInt(U,"AT"),Ie==="SET")return Ee+"["+se+"] = "+Lt+`
`;if(Ie==="INSERT")return Ee+".insert("+se+", "+Lt+`)
`;break;case"FROM_END":if(se=se.getAdjustedInt(U,"AT",1,!0),Ie==="SET")return Ee+"["+se+"] = "+Lt+`
`;if(Ie==="INSERT")return Ee+".insert("+se+", "+Lt+`)
`;break;case"RANDOM":if(se.definitions_.import_random="import random",Ee.match(/^\w+$/)?U="":(U=se.nameDB_.getDistinctName("tmp_list",i.NameType$$module$build$src$core$names.VARIABLE),Qe=U+" = "+Ee+`
`,Ee=U,U=Qe),se=se.nameDB_.getDistinctName("tmp_x",i.NameType$$module$build$src$core$names.VARIABLE),U+=se+" = int(random.random() * len("+Ee+`))
`,Ie==="SET")return U+(Ee+"["+se+"] = "+Lt+`
`);if(Ie==="INSERT")return U+(Ee+".insert("+se+", "+Lt+`)
`)}throw Error("Unhandled combination (lists_setIndex).")},_=function(U,se){const Ee=se.valueToCode(U,"LIST",q.MEMBER)||"[]";var Ie=U.getFieldValue("WHERE1");const Qe=U.getFieldValue("WHERE2");switch(Ie){case"FROM_START":Ie=se.getAdjustedInt(U,"AT1"),Ie===0&&(Ie="");break;case"FROM_END":Ie=se.getAdjustedInt(U,"AT1",1,!0);break;case"FIRST":Ie="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(Qe){case"FROM_START":U=se.getAdjustedInt(U,"AT2",1);break;case"FROM_END":U=se.getAdjustedInt(U,"AT2",0,!0),i.isNumber$$module$build$src$core$utils$string(String(U))?U===0&&(U=""):(se.definitions_.import_sys="import sys",U+=" or sys.maxsize");break;case"LAST":U="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[Ee+"["+Ie+" : "+U+"]",q.MEMBER]},b=function(U,se){const Ee=se.valueToCode(U,"LIST",q.NONE)||"[]",Ie=U.getFieldValue("TYPE");return U=U.getFieldValue("DIRECTION")==="1"?"False":"True",[se.provideFunction_("lists_sort",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(my_list, type, reverse):
  def try_float(s):
    try:
      return float(s)
    except:
      return 0
  key_funcs = {
    "NUMERIC": try_float,
    "TEXT": str,
    "IGNORE_CASE": lambda s: str(s).lower()
  }
  key_func = key_funcs[type]
  list_cpy = list(my_list)
  return sorted(list_cpy, key=key_func, reverse=reverse)
`)+"("+Ee+', "'+Ie+'", '+U+")",q.FUNCTION_CALL]},T=function(U,se){var Ee=U.getFieldValue("MODE");if(Ee==="SPLIT")Ee=se.valueToCode(U,"INPUT",q.MEMBER)||"''",U=se.valueToCode(U,"DELIM",q.NONE),U=Ee+".split("+U+")";else if(Ee==="JOIN")Ee=se.valueToCode(U,"INPUT",q.NONE)||"[]",U=(se.valueToCode(U,"DELIM",q.MEMBER)||"''")+".join("+Ee+")";else throw Error("Unknown mode: "+Ee);return[U,q.FUNCTION_CALL]},$=function(U,se){return["list(reversed("+(se.valueToCode(U,"LIST",q.NONE)||"[]")+"))",q.FUNCTION_CALL]},E=function(U,se){let Ee=0,Ie="",Qe,Lt;se.STATEMENT_PREFIX&&(Ie+=se.injectId(se.STATEMENT_PREFIX,U));do Lt=se.valueToCode(U,"IF"+Ee,q.NONE)||"False",Qe=se.statementToCode(U,"DO"+Ee)||se.PASS,se.STATEMENT_SUFFIX&&(Qe=se.prefixLines(se.injectId(se.STATEMENT_SUFFIX,U),se.INDENT)+Qe),Ie+=(Ee===0?"if ":"elif ")+Lt+`:
`+Qe,Ee++;while(U.getInput("IF"+Ee));return(U.getInput("ELSE")||se.STATEMENT_SUFFIX)&&(Qe=se.statementToCode(U,"ELSE")||se.PASS,se.STATEMENT_SUFFIX&&(Qe=se.prefixLines(se.injectId(se.STATEMENT_SUFFIX,U),se.INDENT)+Qe),Ie+=`else:
`+Qe),Ie},y=function(U,se){const Ee={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[U.getFieldValue("OP")],Ie=q.RELATIONAL,Qe=se.valueToCode(U,"A",Ie)||"0";return U=se.valueToCode(U,"B",Ie)||"0",[Qe+" "+Ee+" "+U,Ie]},I=function(U,se){const Ee=U.getFieldValue("OP")==="AND"?"and":"or",Ie=Ee==="and"?q.LOGICAL_AND:q.LOGICAL_OR;let Qe=se.valueToCode(U,"A",Ie);return U=se.valueToCode(U,"B",Ie),Qe||U?(se=Ee==="and"?"True":"False",Qe||(Qe=se),U||(U=se)):U=Qe="False",[Qe+" "+Ee+" "+U,Ie]},C=function(U,se){return["not "+(se.valueToCode(U,"BOOL",q.LOGICAL_NOT)||"True"),q.LOGICAL_NOT]},S=function(U,se){return[U.getFieldValue("BOOL")==="TRUE"?"True":"False",q.ATOMIC]},R=function(U,se){return["None",q.ATOMIC]},O=function(U,se){const Ee=se.valueToCode(U,"IF",q.CONDITIONAL)||"False",Ie=se.valueToCode(U,"THEN",q.CONDITIONAL)||"None";return U=se.valueToCode(U,"ELSE",q.CONDITIONAL)||"None",[Ie+" if "+Ee+" else "+U,q.CONDITIONAL]},P=function(U,se){let Ee;Ee=U.getField("TIMES")?String(parseInt(U.getFieldValue("TIMES"),10)):se.valueToCode(U,"TIMES",q.NONE)||"0",Ee=i.isNumber$$module$build$src$core$utils$string(Ee)?parseInt(Ee,10):"int("+Ee+")";let Ie=se.statementToCode(U,"DO");return Ie=se.addLoopTrap(Ie,U)||se.PASS,"for "+se.nameDB_.getDistinctName("count",i.NameType$$module$build$src$core$names.VARIABLE)+" in range("+Ee+`):
`+Ie},M=function(U,se){const Ee=U.getFieldValue("MODE")==="UNTIL";let Ie=se.valueToCode(U,"BOOL",Ee?q.LOGICAL_NOT:q.NONE)||"False",Qe=se.statementToCode(U,"DO");return Qe=se.addLoopTrap(Qe,U)||se.PASS,Ee&&(Ie="not "+Ie),"while "+Ie+`:
`+Qe},H=function(U,se){const Ee=se.getVariableName(U.getFieldValue("VAR"));var Ie=se.valueToCode(U,"FROM",q.NONE)||"0",Qe=se.valueToCode(U,"TO",q.NONE)||"0",Lt=se.valueToCode(U,"BY",q.NONE)||"1";let Bn=se.statementToCode(U,"DO");Bn=se.addLoopTrap(Bn,U)||se.PASS;let go="";U=function(){return se.provideFunction_("upRange",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start <= stop:
    yield start
    start += abs(step)
`)};const Fo=function(){return se.provideFunction_("downRange",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start >= stop:
    yield start
    start -= abs(step)
`)};if(i.isNumber$$module$build$src$core$utils$string(Ie)&&i.isNumber$$module$build$src$core$utils$string(Qe)&&i.isNumber$$module$build$src$core$utils$string(Lt))Ie=Number(Ie),Qe=Number(Qe),Lt=Math.abs(Number(Lt)),Ie%1===0&&Qe%1===0&&Lt%1===0?(Ie<=Qe?(Qe++,U=Ie===0&&Lt===1?Qe:Ie+", "+Qe,Lt!==1&&(U+=", "+Lt)):(Qe--,U=Ie+", "+Qe+", -"+Lt),U="range("+U+")"):(U=Ie<Qe?U():Fo(),U+="("+Ie+", "+Qe+", "+Lt+")");else{const uo=function(Vn,Io){return i.isNumber$$module$build$src$core$utils$string(Vn)?Vn=String(Number(Vn)):Vn.match(/^\w+$/)||(Io=se.nameDB_.getDistinctName(Ee+Io,i.NameType$$module$build$src$core$names.VARIABLE),go+=Io+" = "+Vn+`
`,Vn=Io),Vn};Ie=uo(Ie,"_start"),Qe=uo(Qe,"_end"),Lt=uo(Lt,"_inc"),typeof Ie=="number"&&typeof Qe=="number"?(U=Ie<Qe?U():Fo(),U+="("+Ie+", "+Qe+", "+Lt+")"):U="("+Ie+" <= "+Qe+") and "+U()+"("+Ie+", "+Qe+", "+Lt+") or "+Fo()+"("+Ie+", "+Qe+", "+Lt+")"}return go+="for "+Ee+" in "+U+`:
`+Bn},F=function(U,se){const Ee=se.getVariableName(U.getFieldValue("VAR")),Ie=se.valueToCode(U,"LIST",q.RELATIONAL)||"[]";let Qe=se.statementToCode(U,"DO");return Qe=se.addLoopTrap(Qe,U)||se.PASS,"for "+Ee+" in "+Ie+`:
`+Qe},B=function(U,se){let Ee="";if(se.STATEMENT_PREFIX&&(Ee+=se.injectId(se.STATEMENT_PREFIX,U)),se.STATEMENT_SUFFIX&&(Ee+=se.injectId(se.STATEMENT_SUFFIX,U)),se.STATEMENT_PREFIX){const Ie=U.getSurroundLoop();Ie&&!Ie.suppressPrefixSuffix&&(Ee+=se.injectId(se.STATEMENT_PREFIX,Ie))}switch(U.getFieldValue("FLOW")){case"BREAK":return Ee+`break
`;case"CONTINUE":return Ee+`continue
`}throw Error("Unknown flow statement.")},K=function(U,se){return U=Number(U.getFieldValue("NUM")),U===1/0?['float("inf")',q.FUNCTION_CALL]:U===-1/0?['-float("inf")',q.UNARY_SIGN]:[String(U),0>U?q.UNARY_SIGN:q.ATOMIC]},te=function(U,se){var Ee={ADD:[" + ",q.ADDITIVE],MINUS:[" - ",q.ADDITIVE],MULTIPLY:[" * ",q.MULTIPLICATIVE],DIVIDE:[" / ",q.MULTIPLICATIVE],POWER:[" ** ",q.EXPONENTIATION]}[U.getFieldValue("OP")];const Ie=Ee[0];Ee=Ee[1];const Qe=se.valueToCode(U,"A",Ee)||"0";return U=se.valueToCode(U,"B",Ee)||"0",[Qe+Ie+U,Ee]},Z=function(U,se){const Ee=U.getFieldValue("OP");let Ie;if(Ee==="NEG")return Ie=se.valueToCode(U,"NUM",q.UNARY_SIGN)||"0",["-"+Ie,q.UNARY_SIGN];switch(se.definitions_.import_math="import math",U=Ee==="SIN"||Ee==="COS"||Ee==="TAN"?se.valueToCode(U,"NUM",q.MULTIPLICATIVE)||"0":se.valueToCode(U,"NUM",q.NONE)||"0",Ee){case"ABS":Ie="math.fabs("+U+")";break;case"ROOT":Ie="math.sqrt("+U+")";break;case"LN":Ie="math.log("+U+")";break;case"LOG10":Ie="math.log10("+U+")";break;case"EXP":Ie="math.exp("+U+")";break;case"POW10":Ie="math.pow(10,"+U+")";break;case"ROUND":Ie="round("+U+")";break;case"ROUNDUP":Ie="math.ceil("+U+")";break;case"ROUNDDOWN":Ie="math.floor("+U+")";break;case"SIN":Ie="math.sin("+U+" / 180.0 * math.pi)";break;case"COS":Ie="math.cos("+U+" / 180.0 * math.pi)";break;case"TAN":Ie="math.tan("+U+" / 180.0 * math.pi)"}if(Ie)return[Ie,q.FUNCTION_CALL];switch(Ee){case"ASIN":Ie="math.asin("+U+") / math.pi * 180";break;case"ACOS":Ie="math.acos("+U+") / math.pi * 180";break;case"ATAN":Ie="math.atan("+U+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+Ee)}return[Ie,q.MULTIPLICATIVE]},j=function(U,se){const Ee={PI:["math.pi",q.MEMBER],E:["math.e",q.MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",q.MULTIPLICATIVE],SQRT2:["math.sqrt(2)",q.MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",q.MEMBER],INFINITY:["float('inf')",q.ATOMIC]};return U=U.getFieldValue("CONSTANT"),U!=="INFINITY"&&(se.definitions_.import_math="import math"),Ee[U]},z=function(U,se){var Ee={EVEN:[" % 2 == 0",q.MULTIPLICATIVE,q.RELATIONAL],ODD:[" % 2 == 1",q.MULTIPLICATIVE,q.RELATIONAL],WHOLE:[" % 1 == 0",q.MULTIPLICATIVE,q.RELATIONAL],POSITIVE:[" > 0",q.RELATIONAL,q.RELATIONAL],NEGATIVE:[" < 0",q.RELATIONAL,q.RELATIONAL],DIVISIBLE_BY:[null,q.MULTIPLICATIVE,q.RELATIONAL],PRIME:[null,q.NONE,q.FUNCTION_CALL]};const Ie=U.getFieldValue("PROPERTY"),[Qe,Lt,Bn]=Ee[Ie];if(Ee=se.valueToCode(U,"NUMBER_TO_CHECK",Lt)||"0",Ie==="PRIME")se.definitions_.import_math="import math",se.definitions_.from_numbers_import_Number="from numbers import Number",U=se.provideFunction_("math_isPrime",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(n):
  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  # If n is not a number but a string, try parsing it.
  if not isinstance(n, Number):
    try:
      n = float(n)
    except:
      return False
  if n == 2 or n == 3:
    return True
  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.
  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:
    return False
  # Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for x in range(6, int(math.sqrt(n)) + 2, 6):
    if n % (x - 1) == 0 or n % (x + 1) == 0:
      return False
  return True
`)+"("+Ee+")";else if(Ie==="DIVISIBLE_BY"){if(U=se.valueToCode(U,"DIVISOR",q.MULTIPLICATIVE)||"0",U==="0")return["False",q.ATOMIC];U=Ee+" % "+U+" == 0"}else U=Ee+Qe;return[U,Bn]},G=function(U,se){se.definitions_.from_numbers_import_Number="from numbers import Number";const Ee=se.valueToCode(U,"DELTA",q.ADDITIVE)||"0";return U=se.getVariableName(U.getFieldValue("VAR")),U+" = ("+U+" if isinstance("+U+", Number) else 0) + "+Ee+`
`},W=function(U,se){const Ee=U.getFieldValue("OP");switch(U=se.valueToCode(U,"LIST",q.NONE)||"[]",Ee){case"SUM":se="sum("+U+")";break;case"MIN":se="min("+U+")";break;case"MAX":se="max("+U+")";break;case"AVERAGE":se.definitions_.from_numbers_import_Number="from numbers import Number",se=se.provideFunction_("math_mean",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = [e for e in myList if isinstance(e, Number)]
  if not localList: return
  return float(sum(localList)) / len(localList)
`)+"("+U+")";break;case"MEDIAN":se.definitions_.from_numbers_import_Number="from numbers import Number",se=se.provideFunction_("math_median",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = sorted([e for e in myList if isinstance(e, Number)])
  if not localList: return
  if len(localList) % 2 == 0:
    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0
  else:
    return localList[(len(localList) - 1) // 2]
`)+"("+U+")";break;case"MODE":se=se.provideFunction_("math_modes",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(some_list):
  modes = []
  # Using a lists of [item, count] to keep count rather than dict
  # to avoid "unhashable" errors when the counted item is itself a list or dict.
  counts = []
  maxCount = 1
  for item in some_list:
    found = False
    for count in counts:
      if count[0] == item:
        count[1] += 1
        maxCount = max(maxCount, count[1])
        found = True
    if not found:
      counts.append([item, 1])
  for counted_item, item_count in counts:
    if item_count == maxCount:
      modes.append(counted_item)
  return modes
`)+"("+U+")";break;case"STD_DEV":se.definitions_.import_math="import math",se=se.provideFunction_("math_standard_deviation",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(numbers):
  n = len(numbers)
  if n == 0: return
  mean = float(sum(numbers)) / n
  variance = sum((x - mean) ** 2 for x in numbers) / n
  return math.sqrt(variance)
`)+"("+U+")";break;case"RANDOM":se.definitions_.import_random="import random",se="random.choice("+U+")";break;default:throw Error("Unknown operator: "+Ee)}return[se,q.FUNCTION_CALL]},D=function(U,se){const Ee=se.valueToCode(U,"DIVIDEND",q.MULTIPLICATIVE)||"0";return U=se.valueToCode(U,"DIVISOR",q.MULTIPLICATIVE)||"0",[Ee+" % "+U,q.MULTIPLICATIVE]},X=function(U,se){const Ee=se.valueToCode(U,"VALUE",q.NONE)||"0",Ie=se.valueToCode(U,"LOW",q.NONE)||"0";return U=se.valueToCode(U,"HIGH",q.NONE)||"float('inf')",["min(max("+Ee+", "+Ie+"), "+U+")",q.FUNCTION_CALL]},oe=function(U,se){se.definitions_.import_random="import random";const Ee=se.valueToCode(U,"FROM",q.NONE)||"0";return U=se.valueToCode(U,"TO",q.NONE)||"0",["random.randint("+Ee+", "+U+")",q.FUNCTION_CALL]},le=function(U,se){return se.definitions_.import_random="import random",["random.random()",q.FUNCTION_CALL]},me=function(U,se){se.definitions_.import_math="import math";const Ee=se.valueToCode(U,"X",q.NONE)||"0";return["math.atan2("+(se.valueToCode(U,"Y",q.NONE)||"0")+", "+Ee+") / math.pi * 180",q.MULTIPLICATIVE]},Se=function(U,se){var Ee=[],Ie=U.workspace,Qe=i.allUsedVarModels$$module$build$src$core$variables(Ie)||[];for(var Lt of Qe)Qe=Lt.name,U.getVars().includes(Qe)||Ee.push(se.getVariableName(Qe));for(Ie=i.allDeveloperVariables$$module$build$src$core$variables(Ie),Lt=0;Lt<Ie.length;Lt++)Ee.push(se.nameDB_.getName(Ie[Lt],i.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));Ie=Ee.length?se.INDENT+"global "+Ee.join(", ")+`
`:"",Ee=se.getProcedureName(U.getFieldValue("NAME")),Lt="",se.STATEMENT_PREFIX&&(Lt+=se.injectId(se.STATEMENT_PREFIX,U)),se.STATEMENT_SUFFIX&&(Lt+=se.injectId(se.STATEMENT_SUFFIX,U)),Lt&&(Lt=se.prefixLines(Lt,se.INDENT)),Qe="",se.INFINITE_LOOP_TRAP&&(Qe=se.prefixLines(se.injectId(se.INFINITE_LOOP_TRAP,U),se.INDENT));let Bn="";U.getInput("STACK")&&(Bn=se.statementToCode(U,"STACK"));let go="";U.getInput("RETURN")&&(go=se.valueToCode(U,"RETURN",q.NONE)||"");let Fo="";Bn&&go&&(Fo=Lt),go?go=se.INDENT+"return "+go+`
`:Bn||(Bn=se.PASS);const uo=[],Vn=U.getVars();for(let Io=0;Io<Vn.length;Io++)uo[Io]=se.getVariableName(Vn[Io]);return Ie="def "+Ee+"("+uo.join(", ")+`):
`+Ie+Lt+Qe+Bn+Fo+go,Ie=se.scrub_(U,Ie),se.definitions_["%"+Ee]=Ie,null},Pe=function(U,se){const Ee=se.getProcedureName(U.getFieldValue("NAME")),Ie=[],Qe=U.getVars();for(let Lt=0;Lt<Qe.length;Lt++)Ie[Lt]=se.valueToCode(U,"ARG"+Lt,q.NONE)||"None";return[Ee+"("+Ie.join(", ")+")",q.FUNCTION_CALL]},de=function(U,se){return se.forBlock.procedures_callreturn(U,se)[0]+`
`},ye=function(U,se){let Ee="if "+(se.valueToCode(U,"CONDITION",q.NONE)||"False")+`:
`;return se.STATEMENT_SUFFIX&&(Ee+=se.prefixLines(se.injectId(se.STATEMENT_SUFFIX,U),se.INDENT)),U.hasReturnValue_?(U=se.valueToCode(U,"VALUE",q.NONE)||"None",Ee+=se.INDENT+"return "+U+`
`):Ee+=se.INDENT+`return
`,Ee},_e=function(U,se){return[se.quote_(U.getFieldValue("TEXT")),q.ATOMIC]},Ke=function(U,se){switch(U.itemCount_){case 0:return["''",q.ATOMIC];case 1:return U=se.valueToCode(U,"ADD0",q.NONE)||"''",A(U);case 2:var Ee=se.valueToCode(U,"ADD0",q.NONE)||"''";return U=se.valueToCode(U,"ADD1",q.NONE)||"''",[A(Ee)[0]+" + "+A(U)[0],q.ADDITIVE];default:Ee=[];for(let Ie=0;Ie<U.itemCount_;Ie++)Ee[Ie]=se.valueToCode(U,"ADD"+Ie,q.NONE)||"''";return U=se.nameDB_.getDistinctName("x",i.NameType$$module$build$src$core$names.VARIABLE),["''.join([str("+U+") for "+U+" in ["+Ee.join(", ")+"]])",q.FUNCTION_CALL]}},ve=function(U,se){const Ee=se.getVariableName(U.getFieldValue("VAR"));return U=se.valueToCode(U,"TEXT",q.NONE)||"''",Ee+" = str("+Ee+") + "+A(U)[0]+`
`},Ne=function(U,se){return["len("+(se.valueToCode(U,"VALUE",q.NONE)||"''")+")",q.FUNCTION_CALL]},He=function(U,se){return["not len("+(se.valueToCode(U,"VALUE",q.NONE)||"''")+")",q.LOGICAL_NOT]},ae=function(U,se){const Ee=U.getFieldValue("END")==="FIRST"?"find":"rfind",Ie=se.valueToCode(U,"FIND",q.NONE)||"''";return se=(se.valueToCode(U,"VALUE",q.MEMBER)||"''")+"."+Ee+"("+Ie+")",U.workspace.options.oneBasedIndex?[se+" + 1",q.ADDITIVE]:[se,q.FUNCTION_CALL]},he=function(U,se){const Ee=U.getFieldValue("WHERE")||"FROM_START",Ie=se.valueToCode(U,"VALUE",Ee==="RANDOM"?q.NONE:q.MEMBER)||"''";switch(Ee){case"FIRST":return[Ie+"[0]",q.MEMBER];case"LAST":return[Ie+"[-1]",q.MEMBER];case"FROM_START":return U=se.getAdjustedInt(U,"AT"),[Ie+"["+U+"]",q.MEMBER];case"FROM_END":return U=se.getAdjustedInt(U,"AT",1,!0),[Ie+"["+U+"]",q.MEMBER];case"RANDOM":return se.definitions_.import_random="import random",[se.provideFunction_("text_random_letter",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(text):
  x = int(random.random() * len(text))
  return text[x]
`)+"("+Ie+")",q.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},Ae=function(U,se){var Ee=U.getFieldValue("WHERE1");const Ie=U.getFieldValue("WHERE2"),Qe=se.valueToCode(U,"STRING",q.MEMBER)||"''";switch(Ee){case"FROM_START":Ee=se.getAdjustedInt(U,"AT1"),Ee===0&&(Ee="");break;case"FROM_END":Ee=se.getAdjustedInt(U,"AT1",1,!0);break;case"FIRST":Ee="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(Ie){case"FROM_START":U=se.getAdjustedInt(U,"AT2",1);break;case"FROM_END":U=se.getAdjustedInt(U,"AT2",0,!0),i.isNumber$$module$build$src$core$utils$string(String(U))?U===0&&(U=""):(se.definitions_.import_sys="import sys",U+=" or sys.maxsize");break;case"LAST":U="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[Qe+"["+Ee+" : "+U+"]",q.MEMBER]},Fe=function(U,se){const Ee={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[U.getFieldValue("CASE")];return[(se.valueToCode(U,"TEXT",q.MEMBER)||"''")+Ee,q.FUNCTION_CALL]},Ce=function(U,se){const Ee={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[U.getFieldValue("MODE")];return[(se.valueToCode(U,"TEXT",q.MEMBER)||"''")+Ee,q.FUNCTION_CALL]},De=function(U,se){return"print("+(se.valueToCode(U,"TEXT",q.NONE)||"''")+`)
`},Ve=function(U,se){var Ee=se.provideFunction_("text_prompt",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(msg):
  try:
    return raw_input(msg)
  except NameError:
    return input(msg)
`);return se=U.getField("TEXT")?se.quote_(U.getFieldValue("TEXT")):se.valueToCode(U,"TEXT",q.NONE)||"''",Ee=Ee+"("+se+")",U.getFieldValue("TYPE")==="NUMBER"&&(Ee="float("+Ee+")"),[Ee,q.FUNCTION_CALL]},ue=function(U,se){const Ee=se.valueToCode(U,"TEXT",q.MEMBER)||"''";return U=se.valueToCode(U,"SUB",q.NONE)||"''",[Ee+".count("+U+")",q.FUNCTION_CALL]},we=function(U,se){const Ee=se.valueToCode(U,"TEXT",q.MEMBER)||"''",Ie=se.valueToCode(U,"FROM",q.NONE)||"''";return U=se.valueToCode(U,"TO",q.NONE)||"''",[Ee+".replace("+Ie+", "+U+")",q.MEMBER]},ke=function(U,se){return[(se.valueToCode(U,"TEXT",q.MEMBER)||"''")+"[::-1]",q.MEMBER]},Ge=function(U,se){return[se.getVariableName(U.getFieldValue("VAR")),q.ATOMIC]},ot=function(U,se){const Ee=se.valueToCode(U,"VALUE",q.NONE)||"0";return se.getVariableName(U.getFieldValue("VAR"))+" = "+Ee+`
`},q;(function(U){U[U.ATOMIC=0]="ATOMIC",U[U.COLLECTION=1]="COLLECTION",U[U.STRING_CONVERSION=1]="STRING_CONVERSION",U[U.MEMBER=2.1]="MEMBER",U[U.FUNCTION_CALL=2.2]="FUNCTION_CALL",U[U.EXPONENTIATION=3]="EXPONENTIATION",U[U.UNARY_SIGN=4]="UNARY_SIGN",U[U.BITWISE_NOT=4]="BITWISE_NOT",U[U.MULTIPLICATIVE=5]="MULTIPLICATIVE",U[U.ADDITIVE=6]="ADDITIVE",U[U.BITWISE_SHIFT=7]="BITWISE_SHIFT",U[U.BITWISE_AND=8]="BITWISE_AND",U[U.BITWISE_XOR=9]="BITWISE_XOR",U[U.BITWISE_OR=10]="BITWISE_OR",U[U.RELATIONAL=11]="RELATIONAL",U[U.LOGICAL_NOT=12]="LOGICAL_NOT",U[U.LOGICAL_AND=13]="LOGICAL_AND",U[U.LOGICAL_OR=14]="LOGICAL_OR",U[U.CONDITIONAL=15]="CONDITIONAL",U[U.LAMBDA=16]="LAMBDA",U[U.NONE=99]="NONE"})(q||(q={}));var et=class extends i.CodeGenerator$$module$build$src$core$generator{constructor(U="Python"){super(U),this.ORDER_OVERRIDES=[[q.FUNCTION_CALL,q.MEMBER],[q.FUNCTION_CALL,q.FUNCTION_CALL],[q.MEMBER,q.MEMBER],[q.MEMBER,q.FUNCTION_CALL],[q.LOGICAL_NOT,q.LOGICAL_NOT],[q.LOGICAL_AND,q.LOGICAL_AND],[q.LOGICAL_OR,q.LOGICAL_OR]],this.PASS="",this.isInitialized=!1;for(const se in q)U=q[se],typeof U!="string"&&(this["ORDER_"+se]=U);this.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip")}init(U){super.init(U),this.PASS=this.INDENT+`pass
`,this.nameDB_?this.nameDB_.reset():this.nameDB_=new i.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(U.getVariableMap()),this.nameDB_.populateVariables(U),this.nameDB_.populateProcedures(U);const se=[];var Ee=i.allDeveloperVariables$$module$build$src$core$variables(U);for(let Ie=0;Ie<Ee.length;Ie++)se.push(this.nameDB_.getName(Ee[Ie],i.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE)+" = None");for(U=i.allUsedVarModels$$module$build$src$core$variables(U),Ee=0;Ee<U.length;Ee++)se.push(this.getVariableName(U[Ee].getId())+" = None");this.definitions_.variables=se.join(`
`),this.isInitialized=!0}finish(U){const se=[],Ee=[];for(let Ie in this.definitions_){const Qe=this.definitions_[Ie];Qe.match(/^(from\s+\S+\s+)?import\s+\S+/)?se.push(Qe):Ee.push(Qe)}return U=super.finish(U),this.isInitialized=!1,this.nameDB_.reset(),(se.join(`
`)+`

`+Ee.join(`

`)).replace(/\n\n+/g,`

`).replace(/\n*$/,`


`)+U}scrubNakedValue(U){return U+`
`}quote_(U){U=U.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`);let se="'";return U.includes("'")&&(U.includes('"')?U=U.replace(/'/g,"\\'"):se='"'),se+U+se}multiline_quote_(U){return U.split(/\n/g).map(this.quote_).join(` + '\\n' + 
`)}scrub_(U,se,Ee=!1){let Ie="";if(!U.outputConnection||!U.outputConnection.targetConnection){var Qe=U.getCommentText();Qe&&(Qe=i.wrap$$module$build$src$core$utils$string(Qe,this.COMMENT_WRAP-3),Ie+=this.prefixLines(Qe+`
`,"# "));for(let Lt=0;Lt<U.inputList.length;Lt++)U.inputList[Lt].type===i.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(Qe=U.inputList[Lt].connection.targetBlock())&&(Qe=this.allNestedComments(Qe))&&(Ie+=this.prefixLines(Qe,"# "))}return U=U.nextConnection&&U.nextConnection.targetBlock(),Ee=Ee?"":this.blockToCode(U),Ie+se+Ee}getAdjustedInt(U,se,Ee=0,Ie=!1){U.workspace.options.oneBasedIndex&&Ee--;const Qe=U.workspace.options.oneBasedIndex?"1":"0";return U=this.valueToCode(U,se,Ee?q.ADDITIVE:q.NONE)||Qe,i.isNumber$$module$build$src$core$utils$string(U)?(U=parseInt(U,10)+Ee,Ie&&(U=-U)):(U=0<Ee?"int("+U+" + "+Ee+")":0>Ee?"int("+U+" - "+-Ee+")":"int("+U+")",Ie&&(U="-"+U)),U}},lt={};lt.lists_create_empty=l,lt.lists_create_with=a,lt.lists_getIndex=g,lt.lists_getSublist=_,lt.lists_indexOf=f,lt.lists_isEmpty=p,lt.lists_length=h,lt.lists_repeat=u,lt.lists_reverse=$,lt.lists_setIndex=m,lt.lists_sort=b,lt.lists_split=T;var Et={};Et.controls_if=E,Et.controls_ifelse=E,Et.logic_boolean=S,Et.logic_compare=y,Et.logic_negate=C,Et.logic_null=R,Et.logic_operation=I,Et.logic_ternary=O;var Tt={};Tt.controls_flow_statements=B,Tt.controls_for=H,Tt.controls_forEach=F,Tt.controls_repeat=P,Tt.controls_repeat_ext=P,Tt.controls_whileUntil=M;var st={};st.math_arithmetic=te,st.math_atan2=me,st.math_change=G,st.math_constant=j,st.math_constrain=X,st.math_modulo=D,st.math_number=K,st.math_number_property=z,st.math_on_list=W,st.math_random_float=le,st.math_random_int=oe,st.math_round=Z,st.math_single=Z,st.math_trig=Z;var Re={};Re.procedures_callnoreturn=de,Re.procedures_callreturn=Pe,Re.procedures_defnoreturn=Se,Re.procedures_defreturn=Se,Re.procedures_ifreturn=ye;var Ye=/^\s*'([^']|\\')*'\s*$/,A=function(U){return Ye.test(U)?[U,q.ATOMIC]:["str("+U+")",q.FUNCTION_CALL]},x={};x.text=_e,x.text_append=ve,x.text_changeCase=Fe,x.text_charAt=he,x.text_count=ue,x.text_getSubstring=Ae,x.text_indexOf=ae,x.text_isEmpty=He,x.text_join=Ke,x.text_length=Ne,x.text_print=De,x.text_prompt=Ve,x.text_prompt_ext=Ve,x.text_replace=we,x.text_reverse=ke,x.text_trim=Ce;var ee={};ee.variables_get=Ge,ee.variables_set=ot;var pe={};pe.variables_get_dynamic=Ge,pe.variables_set_dynamic=ot;var re=new et;re.addReservedWords("math,random,Number");var je=Object.assign({},lt,Et,Tt,st,Re,x,ee,pe);for(const U in je)re.forBlock[U]=je[U];var Ct={};return Ct.Order=q,Ct.PythonGenerator=et,Ct.pythonGenerator=re,Ct.__namespace__=i,Ct})})(hx);var B_e=hx.exports;const F_e=js(B_e),{Order:gt,PythonGenerator:wye,pythonGenerator:Le}=F_e,H_e="LeLink",V_e={},U_e={controls:!0,wheel:!1,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2},G_e={scrollbars:{horizontal:!0,vertical:!0},drag:!0,wheel:!0},W_e=!0,z_e="static/media",VA={theme:H_e,toolbox:V_e,zoom:U_e,move:G_e,trashcan:W_e,media:z_e},K_e="categoryToolbox",X_e=[{kind:"category",name:"逻辑",categorystyle:"logic_category",contents:[{kind:"block",type:"controls_if"},{kind:"block",type:"logic_compare"},{kind:"block",type:"logic_operation"},{kind:"block",type:"logic_negate"},{kind:"block",type:"logic_boolean"},{kind:"block",type:"logic_null"}]},{kind:"category",name:"循环",categorystyle:"loop_category",contents:[{kind:"block",type:"controls_whileUntil"},{kind:"block",type:"controls_for",inputs:{FROM:{block:{type:"math_number",fields:{NUM:1}}},TO:{block:{type:"math_number",fields:{NUM:10}}},BY:{block:{type:"math_number",fields:{NUM:1}}}}},{kind:"block",type:"controls_forEach"},{kind:"block",type:"controls_flow_statements"}]},{kind:"category",name:"数字",categorystyle:"math_category",contents:[{kind:"block",type:"math_number",fields:{NUM:123}},{kind:"block",type:"math_arithmetic",fields:{OP:"ADD"},inputs:{A:{shadow:{type:"math_number",fields:{NUM:1}}},B:{shadow:{type:"math_number",fields:{NUM:1}}}}},{kind:"block",type:"math_mod",inputs:{value_value_1:{shadow:{type:"math_number",fields:{NUM:8}}},value_value_2:{shadow:{type:"math_number",fields:{NUM:2}}}}},{kind:"block",type:"math_single",inputs:{NUM:{shadow:{type:"math_number",fields:{NUM:8}}}}},{kind:"block",type:"math_round",inputs:{NUM:{shadow:{type:"math_number",fields:{NUM:3.1}}}}},{kind:"block",type:"math_on_list"},{kind:"block",type:"math_random_int",inputs:{FROM:{shadow:{type:"math_number",fields:{NUM:1}}},TO:{shadow:{type:"math_number",fields:{NUM:100}}}}}]},{kind:"category",name:"字符",categorystyle:"text_category",contents:[{kind:"block",type:"text"},{kind:"block",type:"text_join"},{kind:"block",type:"text_length",inputs:{VALUE:{shadow:{type:"text",fields:{TEXT:"abc"}}}}},{kind:"block",type:"text_indexOf",inputs:{VALUE:{shadow:{type:"variables_get",fields:{VAR:"text"}}},FIND:{shadow:{type:"text",fields:{TEXT:"abc"}}}}},{kind:"block",type:"text_charAt",inputs:{VALUE:{shadow:{type:"variables_get",fields:{VAR:"text"}}}}},{kind:"block",type:"text_getSubstring",inputs:{STRING:{shadow:{type:"variables_get",fields:{VAR:"text"}}}}}]},{kind:"category",name:"列表",categorystyle:"list_category",contents:[{kind:"block",type:"lists_create_with",extraState:{itemCount:1}},{kind:"block",type:"lists_create_with"},{kind:"block",type:"lists_length"},{kind:"block",type:"lists_getIndex",inputs:{VALUE:{shadow:{type:"variables_get",fields:{VAR:"list"}}}}},{kind:"block",type:"lists_setIndex",inputs:{LIST:{shadow:{type:"variables_get",fields:{VAR:"list"}}}}},{kind:"block",type:"lists_getSublist",inputs:{LIST:{shadow:{type:"variables_get",fields:{VAR:"list"}}}}},{kind:"block",type:"lists_sort"}]},{kind:"category",name:"变量",categorystyle:"variable_category",contents:[{kind:"block",type:"var_set",inputs:{value_var_name_:{shadow:{type:"text",fields:{TEXT:"x"}}},value_var_v_:{}}},{kind:"block",type:"var_use",inputs:{value_var_name_:{shadow:{type:"text",fields:{TEXT:"x"}}}}},{kind:"block",type:"var_use_global",inputs:{value_var_name_:{shadow:{type:"text",fields:{TEXT:"x"}}}}}]},{kind:"category",name:"函数",categorystyle:"procedure_category",contents:[{kind:"block",type:"func",inputs:{value_func_name_:{shadow:{type:"text",fields:{TEXT:""}}},value_func_param_:{shadow:{type:"text",fields:{TEXT:""}}},value_func_return_:{}}},{kind:"block",type:"func_use",inputs:{value_func_name_:{shadow:{type:"text",fields:{TEXT:""}}}}}]},{kind:"category",name:"字典",categorystyle:"dict_category",contents:[{kind:"block",type:"dict_creat",inputs:{value_dict_name:{shadow:{type:"text",fields:{TEXT:"x"}}},value_dict_init:{shadow:{type:"text",fields:{TEXT:'{"name":"Alex"}'}}}}},{kind:"block",type:"dict_key_get",inputs:{value_dict_name:{shadow:{type:"text",fields:{TEXT:"x"}}},value_dict_key_:{shadow:{type:"text",fields:{TEXT:"name"}}}}},{kind:"block",type:"dict_value_add",inputs:{value_dict_name:{shadow:{type:"text",fields:{TEXT:"x"}}},value_dict_add:{shadow:{type:"text",fields:{TEXT:'{"age":16}'}}}}},{kind:"block",type:"dict_key_del",inputs:{value_dict_name:{shadow:{type:"text",fields:{TEXT:"x"}}},value_dict_key_:{shadow:{type:"text",fields:{TEXT:"name"}}}}},{kind:"block",type:"json_to_dict",inputs:{value_json:{},value_dict_name:{shadow:{type:"text",fields:{TEXT:"x"}}}}}]},{kind:"category",name:"输入",categorystyle:"input_category",contents:[{kind:"block",type:"wait_time",inputs:{value_time_:{shadow:{type:"math_number",fields:{NUM:"1"}}}}},{kind:"block",type:"hcsr",inputs:{value_road_trig:{shadow:{type:"pins"}},value_road_echo:{shadow:{type:"pins"}},value_road_port:{shadow:{type:"ports"}}}},{kind:"block",type:"singlebutton",inputs:{value_road_:{shadow:{type:"port_all"}}}},{kind:"block",type:"btn"},{kind:"block",type:"dhtsensor",inputs:{value_road_:{shadow:{type:"port_all"}}}},{kind:"block",type:"ds18b20",inputs:{value_road_:{shadow:{type:"port_all"}}}},{kind:"block",type:"tsd",inputs:{value_road_:{shadow:{type:"port_all"}}}},{kind:"block",type:"lightsensor",inputs:{value_road_:{shadow:{type:"port_all"}}}},{kind:"block",type:"soundsensor",inputs:{value_road_:{shadow:{type:"port_all"}}}},{kind:"block",type:"compass_more",inputs:{value_road_sda:{shadow:{type:"pins"}},value_road_scl:{shadow:{type:"pins"}},value_road_port:{shadow:{type:"ports"}}}},{kind:"block",type:"atmos",inputs:{value_road_sda:{shadow:{type:"pins"}},value_road_scl:{shadow:{type:"pins"}},value_road_port:{shadow:{type:"ports"}}}},{kind:"block",type:"accelerometer",inputs:{value_road_sda:{shadow:{type:"pins"}},value_road_scl:{shadow:{type:"pins"}},value_road_port:{shadow:{type:"ports"}}}},{kind:"block",type:"rfid_init",inputs:{value_road_sda:{shadow:{type:"pins"}},value_road_scl:{shadow:{type:"pins"}},value_road_port:{shadow:{type:"ports"}}}},{kind:"block",type:"rfid",inputs:{value_road_sda:{shadow:{type:"pins"}},value_road_scl:{shadow:{type:"pins"}},value_road_port:{shadow:{type:"ports"}}}}]},{kind:"category",name:"输出",categorystyle:"output_category",contents:[{kind:"block",type:"output_print"},{kind:"block",type:"motor_speed",inputs:{value_speed_:{shadow:{type:"math_number",fields:{NUM:"100"}}},value_road_in0:{shadow:{type:"pins"}},value_road_in1:{shadow:{type:"pins"}}}},{kind:"block",type:"play_tone",inputs:{value_tone_:{shadow:{type:"text",fields:{TEXT:"[2000,3000]"}}},value_delay_:{shadow:{type:"math_number",fields:{NUM:"1"}}},value_road_:{shadow:{type:"port_all"}}}},{kind:"block",type:"servo_move",inputs:{value_angle_:{shadow:{type:"math_number",fields:{NUM:"90"}}},value_road_:{shadow:{type:"port_all"}}}},{kind:"block",type:"oled_clear"},{kind:"block",type:"oled_print",inputs:{value_str_:{shadow:{type:"text",fields:{TEXT:"Hello World!"}}}}},{kind:"block",type:"set_rgb",inputs:{value_index_:{shadow:{type:"text",fields:{TEXT:"[0,1,2]"}}},value_color_r:{shadow:{type:"math_number",fields:{NUM:"255"}}},value_color_g:{shadow:{type:"math_number",fields:{NUM:"255"}}},value_color_b:{shadow:{type:"math_number",fields:{NUM:"0"}}},value_road_port:{shadow:{type:"ports"}}}},{kind:"block",type:"rgb_clear",inputs:{value_road_port:{shadow:{type:"ports"}}}}]},{kind:"category",name:"网络",categorystyle:"network_category",contents:[{kind:"block",type:"wifi_conn",inputs:{value_ssid_:{shadow:{type:"text",fields:{TEXT:""}}},value_psw_:{shadow:{type:"text",fields:{TEXT:""}}}}},{kind:"block",type:"iot_conn",inputs:{value_id_:{shadow:{type:"text",fields:{TEXT:""}}}}},{kind:"block",type:"msg_send",inputs:{value_topic_:{shadow:{type:"text",fields:{TEXT:""}}},value_msg_:{shadow:{type:"text",fields:{TEXT:""}}}}},{kind:"block",type:"msg_receive_do",inputs:{value_msg_:{shadow:{type:"text",fields:{TEXT:""}}}}},{kind:"block",type:"msg_get_once",inputs:{value_msg_:{shadow:{type:"text",fields:{TEXT:""}}}}},{kind:"block",type:"webcamera_conn",inputs:{value_id_:{shadow:{type:"text",fields:{TEXT:""}}}}},{kind:"block",type:"webcamera_res"}]},{kind:"category",name:"引脚",categorystyle:"pin_category",contents:[{kind:"block",type:"pin_read_digital"},{kind:"block",type:"pin_write_digital"},{kind:"block",type:"pin_read_analog"},{kind:"block",type:"pin_write_analog",inputs:{value_pwm_:{shadow:{type:"math_number",fields:{NUM:"0"}}}}}]}],Y_e={kind:K_e,contents:X_e};jt.func={init:function(){this.appendValueInput("value_func_name_").setCheck("String").appendField("函数名:"),this.appendValueInput("value_func_param_").setCheck("String").appendField("参数:"),this.appendStatementInput("INNER_BLOCKS").setCheck(null),this.appendValueInput("value_func_return_").appendField("返回"),this.setInputsInline(!0),this.setColour("#FF6680"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.func=function(t){let n=Le.valueToCode(t,"value_func_name_",gt.ATOMIC);n=n.slice(1,-1);let o=Le.valueToCode(t,"value_func_param_",gt.ATOMIC);o=o.slice(1,-1);let i=Le.statementToCode(t,"INNER_BLOCKS");i===""&&(i=`    pass
`);let l=Le.valueToCode(t,"value_func_return_",gt.ATOMIC);return Le.definitions_[`func_${n}`]=`def ${n}(${o}):
${i}    return ${l}`,""};jt.func_use={init:function(){this.appendValueInput("value_func_name_").setCheck("String").appendField("使用函数:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#FF6680"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.func_use=function(t){let n=Le.valueToCode(t,"value_func_name_",gt.ATOMIC);return n=n.slice(1,-1),`${n}
`};jt.math_mod={init:function(){this.appendDummyInput().appendField("取余数 "),this.appendValueInput("value_value_1").setCheck("Number"),this.appendValueInput("value_value_2").setCheck("Number").appendField("mod"),this.setOutput(!0,"Number"),this.setInputsInline(!0),this.setColour("#039A9A"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.math_mod=function(t,n){let o=n.valueToCode(t,"value_value_1",gt.ATOMIC),i=n.valueToCode(t,"value_value_2",gt.ATOMIC);return[`${o} % ${i}`,gt.ATOMIC]};jt.var_set={init:function(){this.appendValueInput("value_var_name_").appendField("给变量:").setCheck("String"),this.appendValueInput("value_var_v_").appendField("赋值:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.var_set=function(t){let n=Le.valueToCode(t,"value_var_name_",gt.ATOMIC);n=n.slice(1,-1);let o=Le.valueToCode(t,"value_var_v_",gt.ATOMIC);return Le.definitions_[`var_${n}`]=`${n}=None
`,`${n}=${o}
`};jt.var_use={init:function(){this.appendValueInput("value_var_name_").appendField("使用变量:").setCheck("String"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.var_use=function(t){let n=Le.valueToCode(t,"value_var_name_",gt.ATOMIC);return n=n.slice(1,-1),Le.definitions_[`var_${n}`]=`${n}=None
`,[`${n}`,gt.ATOMIC]};jt.var_use_global={init:function(){this.appendValueInput("value_var_name_").appendField("声明全局变量:").setCheck("String"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.var_use_global=function(t){let n=Le.valueToCode(t,"value_var_name_",gt.ATOMIC);return n=n.slice(1,-1),Le.definitions_[`var_${n}`]=`${n}=None
`,`global ${n}
`};jt.dict_creat={init:function(){this.appendValueInput("value_dict_name").appendField("创建字典变量"),this.appendValueInput("value_dict_init").appendField("并初始化为"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.dict_creat=function(t){let n=Le.valueToCode(t,"value_dict_name",gt.ATOMIC).slice(1,-1),o=Le.valueToCode(t,"value_dict_init",gt.ATOMIC).slice(1,-1);return Le.definitions_[`var_${n}`]=`${n}=None
`,`${n}=${o}
`};jt.dict_key_get={init:function(){this.appendValueInput("value_dict_name").appendField("获取字典变量"),this.appendValueInput("value_dict_key_").appendField("键为"),this.appendDummyInput().appendField("的值"),this.setInputsInline(!0),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Object")}};Le.forBlock.dict_key_get=function(t){let n=Le.valueToCode(t,"value_dict_name",gt.ATOMIC).slice(1,-1),o=Le.valueToCode(t,"value_dict_key_",gt.ATOMIC);return[`${n}.get(${o},None)`,gt.ATOMIC]};jt.dict_value_add={init:function(){this.appendValueInput("value_dict_name").appendField("为字典变量"),this.appendValueInput("value_dict_add").appendField("添加键值对"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.dict_value_add=function(t){let n=Le.valueToCode(t,"value_dict_name",gt.ATOMIC).slice(1,-1),o=Le.valueToCode(t,"value_dict_add",gt.ATOMIC).slice(1,-1);return`${n}.update(${o})
`};jt.dict_key_del={init:function(){this.appendValueInput("value_dict_name").appendField("删除字典变量中"),this.appendValueInput("value_dict_key_").appendField("键为"),this.appendDummyInput().appendField("的值"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.dict_key_del=function(t){let n=Le.valueToCode(t,"value_dict_name",gt.ATOMIC).slice(1,-1),o=Le.valueToCode(t,"value_dict_key_",gt.ATOMIC);return`${n}.pop(${o})`};jt.json_to_dict={init:function(){this.appendValueInput("value_json").appendField("将JSON"),this.appendValueInput("value_dict_name").appendField("转为字典变量"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.json_to_dict=function(t){Le.definitions_.json=`import json
`;let n=Le.valueToCode(t,"value_json",gt.ATOMIC),o=Le.valueToCode(t,"value_dict_name",gt.ATOMIC).slice(1,-1);return Le.definitions_[`var_${o}`]=`${o}=None
`,`${o}=json.loads(${n})
`};const Xc=[["D0","0"],["D1","1"],["D2","2"],["D3","3"],["D4","4"],["D5","5"],["D6","6"],["D7","7"],["D8","8"],["D9","9"],["D10","10"],["D11","11"],["D12","12"],["D13","13"],["D14","14"],["D15","15"],["AD0","AD0"],["AD1","AD1"],["AD2","AD2"]],px=[["内置",""],["port1","port=1"],["port2","port=2"],["port3","port=3"],["port4","port=4"]];jt.pin_read_digital={init:function(){this.appendDummyInput().appendField("读取引脚").appendField(new Es(Xc),"value_pin_").appendField("的数字值"),this.setInputsInline(!0),this.setColour("#039A9A"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.pin_read_digital=function(t){Le.definitions_.pin=`from educore import pin
`;let n=t.getFieldValue("value_pin_");return Le.definitions_[`pin_${n}`]=`pin_${n}=pin(${n})
`,[`pin_${n}.read_digital()`,gt.ATOMIC]};jt.pin_write_digital={init:function(){this.appendDummyInput().appendField("设置引脚").appendField(new Es(Xc),"value_pin_").appendField("数字值为").appendField(new Es([["高电平","1"],["低电平","0"]]),"value_digital_"),this.setInputsInline(!0),this.setColour("#039A9A"),this.setTooltip(""),this.setHelpUrl(""),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}};Le.forBlock.pin_write_digital=function(t){Le.definitions_.pin=`from educore import pin
`;let n=t.getFieldValue("value_pin_");Le.definitions_[`pin_${n}`]=`pin_${n}=pin(${n})
`;let o=t.getFieldValue("value_digital_");return`pin_${n}.write_digital(${o})
`};jt.pin_read_analog={init:function(){this.appendDummyInput().appendField("读取引脚").appendField(new Es(Xc),"value_pin_"),this.appendDummyInput().appendField("的模拟值(ADC)"),this.setInputsInline(!0),this.setColour("#039A9A"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.pin_read_analog=function(t){Le.definitions_.pin=`from educore import pin
`;let n=t.getFieldValue("value_pin_");return Le.definitions_[`pin_${n}`]=`pin_${n}=pin(${n})
`,[`pin_${n}.read_analog()`,gt.ATOMIC]};jt.pin_write_analog={init:function(){this.appendDummyInput().appendField("设置引脚").appendField(new Es(Xc),"value_pin_").appendField("模拟值(PWM)为"),this.appendValueInput("value_pwm_").setCheck("Number"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#039A9A"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.pin_write_analog=function(t){Le.definitions_.pin=`from educore import pin
`;let n=t.getFieldValue("value_pin_");Le.definitions_[`pin_${n}`]=`pin_${n}=pin(${n})
`;let o=Le.valueToCode(t,"value_pwm_",gt.ATOMIC);return`pin_${n}.write_analog(value=${o})`};jt.port_all={init:function(){this.appendDummyInput().appendField(new Es([["不使用","None"],...px,...Xc]),"value_port_"),this.setInputsInline(!0),this.setColour("#039A9A"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.port_all=function(t){return[t.getFieldValue("value_port_"),gt.ATOMIC]};jt.pins={init:function(){this.appendDummyInput().appendField(new Es([["不使用","None"],...Xc]),"value_port_"),this.setInputsInline(!0),this.setColour("#039A9A"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.pins=function(t){return[t.getFieldValue("value_port_"),gt.ATOMIC]};jt.ports={init:function(){this.appendDummyInput().appendField(new Es([["不使用","None"],...px]),"value_port_"),this.setInputsInline(!0),this.setColour("#039A9A"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.ports=function(t){return[t.getFieldValue("value_port_"),gt.ATOMIC]};jt.port_free={init:function(){this.appendDummyInput().appendField("自定义通道"),this.appendValueInput("value_port_").setCheck("String"),this.setInputsInline(!0),this.setColour("#039A9A"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Array")}};Le.forBlock.port_free=function(t){var n=Le.valueToCode(t,"value_port_",gt.ATOMIC);return[n.slice(1,-1),gt.ATOMIC]};jt.wait_time={init:function(){this.appendValueInput("value_time_").appendField("等待"),this.appendDummyInput().appendField("秒"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.wait_time=function(t){return Le.definitions_.sleep=`import time
`,`time.sleep(${Le.valueToCode(t,"value_time_",gt.ATOMIC)})
`};jt.hcsr={init:function(){this.appendDummyInput("tmp").appendField("读取超声波数据"),this.appendValueInput("value_road_trig").appendField(" trig="),this.appendValueInput("value_road_echo").appendField(" echo="),this.appendValueInput("value_road_port").appendField(" 端口"),this.appendDummyInput().appendField("单位").appendField(new Es([["厘米","cm"],["毫米","mm"]]),"value_status_"),this.setInputsInline(!1),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.hcsr=function(t){Le.definitions_.Ultrasonic=`from educore import ultrasonic
`;let n=Le.valueToCode(t,"value_road_trig",gt.ATOMIC),o=Le.valueToCode(t,"value_road_echo",gt.ATOMIC),i=Le.valueToCode(t,"value_road_port",gt.ATOMIC),l=t.getFieldValue("value_status_"),a;n!=="None"&&o!=="None"?(a=`Ultrasonic_${n}_${o}`,Le.definitions_[`${a}`]=`${a}=ultrasonic(trig=${n},echo=${o},port=None)`):(a=`Ultrasonic_${i.replace("=","")}_`,Le.definitions_[`${a}`]=`${a}=ultrasonic(trig=None,echo=None,${i})`);let u;return l==="cm"?u=`${a}.distance()`:u=`${a}.distance_mm()`,[u,gt.ATOMIC]};jt.singlebutton={init:function(){this.appendValueInput("value_road_").appendField("当外部按钮被按下时 在通道"),this.appendStatementInput("INNER_BLOCKS").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.singlebutton=function(t){Le.definitions_.button=`from educore import button
`;let n=Le.valueToCode(t,"value_road_",gt.ATOMIC),o=Le.statementToCode(t,"INNER_BLOCKS");o===""&&(o=`    pass
`);let i=`button_${n.replace("=","")}`;return Le.definitions_[`${i}`]=`${i}=button(${n})`,Le.definitions_[`${i}_def`]=`def ${i}_func():
${o}
`,`${i}.event_pressed = ${i}_func`};jt.btn={init:function(){this.appendDummyInput("tmp").appendField("当板载按钮").appendField(new Es([["A","a"],["B","b"]]),"value_status_").appendField("按下时"),this.appendStatementInput("INNER_BLOCKS").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.btn=function(t){Le.definitions_.button=`from educore import button
`;let n=t.getFieldValue("value_status_"),o=Le.statementToCode(t,"INNER_BLOCKS");o===""&&(o=`    pass
`);let i=`button_${n.replace("=","")}`;return Le.definitions_[`${i}`]=`${i}=button(button.${n})`,Le.definitions_[`${i}_def`]=`def ${i}_func():
${o}
`,`${i}.event_pressed = ${i}_func`};jt.dhtsensor={init:function(){this.appendDummyInput().appendField("读取温湿度传感器的").appendField(new Es([["温度","0"],["湿度","1"]]),"value_status_"),this.appendValueInput("value_road_").appendField(" 在通道"),this.setInputsInline(!0),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.dhtsensor=function(t){Le.definitions_.dht=`from educore import dht
`;let n=Le.valueToCode(t,"value_road_",gt.ATOMIC),o=t.getFieldValue("value_status_"),i=`dht_${n.replace("=","")}`;return Le.definitions_[`${i}`]=`${i}=dht(${n})`,[`${i}.read()[${o}]`,gt.ATOMIC]};jt.lightsensor={init:function(){this.appendValueInput("value_road_").appendField("读取光敏传感器的值 在通道"),this.setInputsInline(!0),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.lightsensor=function(t){let n=Le.valueToCode(t,"value_road_",gt.ATOMIC);Le.definitions_.light=`from educore import light
`;let o=`light_${n.replace("=","")}`;return Le.definitions_[`${o}`]=`${o}=light(${n})`,[`${o}.read()`,gt.ATOMIC]};jt.soundsensor={init:function(){this.appendValueInput("value_road_").appendField("读取声敏传感器模拟值 在通道"),this.setInputsInline(!0),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.soundsensor=function(t){Le.definitions_.sound=`from educore import sound
`;let n=Le.valueToCode(t,"value_road_",gt.ATOMIC),o=`sound_${n.replace("=","")}`;return Le.definitions_[`${o}`]=`${o}=sound(${n})`,[`${o}.read()`,gt.ATOMIC]};jt.compass_more={init:function(){this.appendDummyInput("tmp").appendField("读取指南针的方向值"),this.appendValueInput("value_road_sda").appendField(" sda="),this.appendValueInput("value_road_scl").appendField(" scl="),this.appendValueInput("value_road_port").appendField(" 端口"),this.setInputsInline(!1),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.compass_more=function(t){Le.definitions_.compass=`from educore import compass
`;let n=Le.valueToCode(t,"value_road_sda",gt.ATOMIC),o=Le.valueToCode(t,"value_road_scl",gt.ATOMIC),i=Le.valueToCode(t,"value_road_port",gt.ATOMIC),l;return n!=="None"&&o!=="None"?(l=`compass_${n}_${o}`,Le.definitions_[`${l}`]=`${l}=compass(sda=${n},scl=${o},port=None)
${l}.adjust()`):(l=`compass_${i.replace("=","")}_`,Le.definitions_[`${l}`]=`${l}=compass(sda=None,scl=None,${i})
${l}.adjust()`),[`${l}.direction()`,gt.ATOMIC]};jt.atmos={init:function(){this.appendDummyInput("tmp").appendField("读取大气压数据"),this.appendValueInput("value_road_sda").appendField(" sda="),this.appendValueInput("value_road_scl").appendField(" scl="),this.appendValueInput("value_road_port").appendField(" 端口"),this.setInputsInline(!1),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.atmos=function(t){Le.definitions_.pressure=`from educore import pressure
`;let n=Le.valueToCode(t,"value_road_sda",gt.ATOMIC),o=Le.valueToCode(t,"value_road_scl",gt.ATOMIC),i=Le.valueToCode(t,"value_road_port",gt.ATOMIC),l;return n!=="None"&&o!=="None"?(l=`pressure_${n}_${o}`,Le.definitions_[`${l}`]=`${l}=pressure(sda=${n},scl=${o},port=None)
`):(l=`pressure_${i.replace("=","")}_`,Le.definitions_[`${l}`]=`${l}=pressure(sda=None,scl=None,${i})
`),[`${l}.read()`,gt.ATOMIC]};jt.ds18b20={init:function(){this.appendValueInput("value_road_").appendField("获取测温针数据 在通道"),this.setInputsInline(!0),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.ds18b20=function(t){Le.definitions_.ds18b20=`from educore import ds18b20
`;let n=Le.valueToCode(t,"value_road_",gt.ATOMIC),o=`ds18b20_${n.replace("=","")}`;return Le.definitions_[`${o}`]=`${o}=ds18b20(${n})`,[`${o}.read()`,gt.ATOMIC]};jt.tsd={init:function(){this.appendValueInput("value_road_").appendField("读取人体红外数据 在通道"),this.setInputsInline(!0),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};Le.forBlock.tsd=function(t){Le.definitions_.tsd=`from educore import tsd
`;let n=Le.valueToCode(t,"value_road_",gt.ATOMIC),o=`tsd_${n.replace("=","")}`;return Le.definitions_[`${o}`]=`${o}=tsd(${n})`,[`${o}.read()`,gt.ATOMIC]};jt.accelerometer={init:function(){this.appendDummyInput("tmp").appendField("读取加速度计数据"),this.appendDummyInput().appendField(new Es([["x轴","X"],["y轴","Y"],["z轴","Z"],["摇晃检测","shake"]]),"value_status_"),this.appendValueInput("value_road_sda").appendField(" sda="),this.appendValueInput("value_road_scl").appendField(" scl="),this.appendValueInput("value_road_port").appendField(" 端口"),this.setInputsInline(!1),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Any")}};Le.forBlock.accelerometer=function(t){Le.definitions_.accelerometer=`from educore import accelerometer
`;let n=Le.valueToCode(t,"value_road_sda",gt.ATOMIC),o=Le.valueToCode(t,"value_road_scl",gt.ATOMIC),i=Le.valueToCode(t,"value_road_port",gt.ATOMIC),l=t.getFieldValue("value_status_"),a;return n!=="None"&&o!=="None"?(a=`accelerometer_${n}_${o}`,Le.definitions_[`${a}`]=`${a}=accelerometer(sda=${n},scl=${o},port=None)
`):(a=`accelerometer_${i.replace("=","")}_`,Le.definitions_[`${a}`]=`${a}=accelerometer(sda=None,scl=None,${i})
`),[`${a}.${l}()`,gt.ATOMIC]};jt.rfid_init={init:function(){this.appendDummyInput("tmp").appendField("搜索IC卡"),this.appendValueInput("value_road_sda").appendField(" sda="),this.appendValueInput("value_road_scl").appendField(" scl="),this.appendValueInput("value_road_port").appendField(" 端口"),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.rfid_init=function(t){Le.definitions_.rfid=`from educore import rfid
`;let n=Le.valueToCode(t,"value_road_sda",gt.ATOMIC),o=Le.valueToCode(t,"value_road_scl",gt.ATOMIC),i=Le.valueToCode(t,"value_road_port",gt.ATOMIC),l;return n!=="None"&&o!=="None"?(l=`rfid_${n}_${o}`,Le.definitions_[`${l}`]=`${l}= rfid(sda=${n},scl=${o},port=None)
`):(l=`rfid_${i.replace("=","")}_`,Le.definitions_[`${l}`]=`${l}= rfid(sda=None,scl=None,${i})
`),`${l}sn=${l}.scanning(wait=True)
`};jt.rfid={init:function(){this.appendDummyInput("tmp").appendField("获取IC卡序列号"),this.appendValueInput("value_road_sda").appendField(" sda="),this.appendValueInput("value_road_scl").appendField(" scl="),this.appendValueInput("value_road_port").appendField(" 端口"),this.setInputsInline(!1),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"String")}};Le.forBlock.rfid=function(t){let n=Le.valueToCode(t,"value_road_sda",gt.ATOMIC),o=Le.valueToCode(t,"value_road_scl",gt.ATOMIC),i=Le.valueToCode(t,"value_road_port",gt.ATOMIC),l;n!=="None"&&o!=="None"?l=`rfid_${n}_${o}`:l=`rfid_${i.replace("=","")}_`;var a=`${l}sn.serial_number()`;return[a,gt.ATOMIC]};jt.output_print={init:function(){this.appendValueInput("value_print_").appendField("打印"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.output_print=function(t){return`print(${Le.valueToCode(t,"value_print_",gt.ATOMIC)})
`};jt.motor_speed={init:function(){this.appendDummyInput("tmp").appendField("设置电机"),this.appendValueInput("value_road_in0").appendField(" in0="),this.appendValueInput("value_road_in1").appendField(" in1="),this.appendDummyInput("tmp2").appendField(" 端口").appendField(new Es([["不使用","None"],["M1","M1"],["M2","M2"]]),"value_status_"),this.appendValueInput("value_speed_").setCheck("Number").appendField("速度"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.motor_speed=function(t){Le.definitions_.parrot=`from educore import parrot
`;let n=Le.valueToCode(t,"value_speed_",gt.ATOMIC),o=Le.valueToCode(t,"value_road_in0",gt.ATOMIC),i=Le.valueToCode(t,"value_road_in1",gt.ATOMIC),l=t.getFieldValue("value_status_"),a;return o!=="None"&&i!=="None"?(a=`parrot_${o}_${i}`,Le.definitions_[`${a}`]=`${a}=parrot(in0=${o},in1=${i})`):(a=`parrot_${l.replace("=","")}_`,Le.definitions_[`${a}`]=`${a}=parrot(parrot.${l})`),n>100?n=100:n.replace(/[()]/g,"")<-100&&(n=-100),`${a}.speed(${n})
`};jt.play_tone={init:function(){this.appendValueInput("value_tone_").setCheck("String").appendField("播放音调"),this.appendValueInput("value_delay_").appendField("每个音调播放"),this.appendValueInput("value_road_").appendField("秒 在通道"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.play_tone=function(t){Le.definitions_.buzzconst=`from educore import speaker
`;let n=Le.valueToCode(t,"value_tone_",gt.ATOMIC),o=Le.valueToCode(t,"value_delay_",gt.ATOMIC),i=Le.valueToCode(t,"value_road_",gt.ATOMIC),l=`speaker_${i.replace("=","")}`;return Le.definitions_[`${l}`]=`${l}=speaker(${i})`,`${l}.tone(${n.slice(1,-1)},${o*1e3})
`};jt.servo_move={init:function(){this.appendValueInput("value_angle_").setCheck("Number").appendField("舵机移动到角度"),this.appendValueInput("value_road_").appendField("°  在通道"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.servo_move=function(t){Le.definitions_.servo=`from educore import servo
`;let n=Le.valueToCode(t,"value_angle_",gt.ATOMIC),o=Le.valueToCode(t,"value_road_",gt.ATOMIC),i=`servo_${o.replace("=","")}`;return Le.definitions_[`${i}`]=`${i}=servo(${o})`,`${i}.angle(value=${n})
`};jt.oled_clear={init:function(){this.appendDummyInput().appendField("屏幕清空"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.oled_clear=function(t){return Le.definitions_.oled=`from educore import oled
`,`oled.clear()
`};jt.oled_print={init:function(){this.appendValueInput("value_str_").appendField("屏幕显示").setCheck("String"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.oled_print=function(t){return Le.definitions_.oled=`from educore import oled
`,`oled.print(${Le.valueToCode(t,"value_str_",gt.ATOMIC)})`};jt.set_rgb={init:function(){this.appendDummyInput().appendField("设置RGB灯带"),this.appendValueInput("value_index_").appendField("灯珠序号"),this.appendValueInput("value_color_r").appendField("r"),this.appendValueInput("value_color_g").appendField("g"),this.appendValueInput("value_color_b").appendField("b"),this.appendValueInput("value_road_port").appendField(" 在通道"),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.set_rgb=function(t){Le.definitions_.rgb=`from educore import rgb
`;let n=Le.valueToCode(t,"value_index_",gt.ATOMIC),o=Le.valueToCode(t,"value_color_r",gt.ATOMIC),i=Le.valueToCode(t,"value_color_g",gt.ATOMIC),l=Le.valueToCode(t,"value_color_b",gt.ATOMIC),a=Le.valueToCode(t,"value_road_port",gt.ATOMIC),u=`rgb_${a.replace("=","")}`;return Le.definitions_[`${u}`]=`${u}=rgb(${a})`,`${u}.write(index=${n.slice(1,-1)},r=${o},g=${i},b=${l})
`};jt.rgb_clear={init:function(){this.appendDummyInput().appendField("熄灭所有rgb灯珠"),this.appendValueInput("value_road_port").appendField(" 在通道"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.rgb_clear=function(t){Le.definitions_.rgb=`from educore import rgb
`;let n=Le.valueToCode(t,"value_road_port",gt.ATOMIC),o=`rgb_${n.replace("=","")}`;return Le.definitions_[`${o}`]=`${o}=rgb(${n})`,`${o}.clear()
`};jt.wifi_conn={init:function(){this.appendValueInput("value_ssid_").setCheck("String").appendField("wifi名称:"),this.appendValueInput("value_psw_").setCheck("String").appendField("wifi密码:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#13B013"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.wifi_conn=function(t){Le.definitions_.wifi="from educore import wifi";let n=Le.valueToCode(t,"value_ssid_",gt.ATOMIC),o=Le.valueToCode(t,"value_psw_",gt.ATOMIC);return`wifi.connect(${n},${o})
`};jt.iot_conn={init:function(){this.appendValueInput("value_id_").setCheck("String").appendField("连接MQTT ClientID："),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#13B013"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.iot_conn=function(t){return Le.definitions_.mqttclient="from educore import mqttclient",`mqttclient.connect(server="cloud.leihoorobot.com",port=1883,client_id=${Le.valueToCode(t,"value_id_",gt.ATOMIC)})
`};jt.msg_send={init:function(){this.appendValueInput("value_topic_").setCheck("String").appendField("给主题"),this.appendValueInput("value_msg_").setCheck("String").appendField("发布消息:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#13B013"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.msg_send=function(t){Le.definitions_.mqttclient="from educore import mqttclient";let n=Le.valueToCode(t,"value_topic_",gt.ATOMIC),o=Le.valueToCode(t,"value_msg_",gt.ATOMIC);return`mqttclient.publish(${n},${o})
`};jt.msg_get_once={init:function(){this.appendValueInput("value_msg_").setCheck("String").appendField("从主题:"),this.appendDummyInput().appendField("接收一次消息"),this.setInputsInline(!0),this.setOutput(!0,"String"),this.setColour("#13B013"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.msg_get_once=function(t){return Le.definitions_.mqttclient="from educore import mqttclient",[`mqttclient.message(topic=${Le.valueToCode(t,"value_msg_",gt.ATOMIC)})`,gt.ATOMIC]};jt.msg_receive_do={init:function(){this.appendValueInput("value_msg_").setCheck("String").appendField("当主题:"),this.appendDummyInput().appendField("收到消息时"),this.appendStatementInput("INNER_BLOCKS").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#13B013"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.msg_receive_do=function(t){Le.definitions_.mqttclient="from educore import mqttclient";let n=Le.statementToCode(t,"INNER_BLOCKS");n===""&&(n=`    pass
`);let o=Le.valueToCode(t,"value_msg_",gt.ATOMIC);return Le.definitions_.iot_defin_msg_receive=`def msg_receive_func():
${n}`,`mqttclient.received(topic=${o},callback=msg_receive_func)
`};jt.webcamera_conn={init:function(){this.appendValueInput("value_id_").setCheck("String").appendField("开启网络摄像头 ID："),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#13B013"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.webcamera_conn=function(t){return Le.definitions_.webcamera="from educore import webcamera",`webcamera.connect(id=${Le.valueToCode(t,"value_id_",gt.ATOMIC)})
`};jt.webcamera_res={init:function(){this.appendDummyInput().appendField("获取网络摄像头结果"),this.setInputsInline(!0),this.setOutput(!0,"String"),this.setColour("#13B013"),this.setTooltip(""),this.setHelpUrl("")}};Le.forBlock.webcamera_res=function(t){return Le.definitions_.webcamera="from educore import webcamera",["webcamera.result()",gt.ATOMIC]};const j_e={style:{width:"100%","text-align":"center","margin-bottom":"10px","max-height":"7vh"}},q_e={style:{height:"93vh"}},J_e=["id"],Z_e=ne({__name:"Blockly",setup(t){let n="https://cloud.leihoorobot.com/w/lelink_weapp/index.html",o={data:{index:"cloud-0",item:{xml:'<xml xmlns="https://developers.google.com/blockly/xml"></xml>'}}},i=o.data.index,l;const a=V(!1),u=V("");At(()=>{g(),m()});function h(E){const y=new TextEncoder().encode(E);return btoa(String.fromCharCode(...y))}function p(E){const y=new Uint8Array(atob(E).split("").map(I=>I.charCodeAt(0)));return new TextDecoder().decode(y)}let f="";function g(){const E=window.location.href;console.log(E);const y=new URL(E),I=new URLSearchParams(y.search);f=I.get("project_id"),o.data.item.xml=p(I.get("xml"))}function m(){Le.INDENT="    ",Wde(P_e),VA.toolbox=Y_e,l=Gde(i,VA),console.log(o.data.item.xml);let E=My.xml.textToDom(o.data.item.xml);Yu.domToWorkspace(E,l),setTimeout(_,100)}function _(){zde(l),l.scrollCenter()}function b(){let E=Le.workspaceToCode(l);E=E.replaceAll("	","    ");let y=E.replace(/[\u4e00-\u9fa5，。！？：；、（）—《》‘’“”]/g,function(S){return"\\u"+S.charCodeAt(0).toString(16)});E=encodeURIComponent(btoa(y));let I=Yu.workspaceToDom(l),C=encodeURIComponent(h(Yu.domToText(I)));window.location.replace(`${n}?type=codeup&xml=${C}&project_id=${f}&code=${E}`)}function T(){let E=Yu.workspaceToDom(l),y=o.data.index.split("-");if(y[0]==="local"){let I=encodeURIComponent(Yu.domToText(E)),C=JSON.parse(localStorage.getItem("LeLinkLeightLocalProject")),S=C.findIndex(R=>R.id===parseInt(y[1]));C[S].xml=I,localStorage.setItem("LeLinkLeightLocalProject",JSON.stringify(C)),lx({type:"success",message:"成功"})}else if(y[0]==="cloud"){let I=encodeURIComponent(h(Yu.domToText(E)));window.location.replace(`${n}?type=save&xml=${I}&project_id=${f}`)}}function $(){a.value=!0,u.value=Le.workspaceToCode(l)}return(E,y)=>{const I=Nt("el-button"),C=Nt("el-tooltip"),S=Nt("el-drawer");return N(),Y(dt,null,[Q("div",j_e,[ie(C,{class:"box-item",effect:"dark",content:"运行",placement:"top","hide-after":0},{default:ce(()=>[ie(I,{type:"success",onClick:b,icon:c(SE),circle:"",size:"default"},null,8,["icon"])]),_:1}),ie(C,{class:"box-item",effect:"dark",content:"保存记录",placement:"top","hide-after":0},{default:ce(()=>[ie(I,{type:"success",onClick:T,icon:c(u4),circle:"",size:"default"},null,8,["icon"])]),_:1}),ie(C,{class:"box-item",effect:"dark",content:"查看代码",placement:"top","hide-after":0},{default:ce(()=>[ie(I,{type:"success",onClick:$,icon:c(lM),circle:"",size:"default"},null,8,["icon"])]),_:1})]),Q("div",q_e,[Q("div",{id:c(i),style:{height:"inherit"}},null,8,J_e)]),ie(S,{modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=R=>a.value=R),title:"code","with-header":!1},{default:ce(()=>[Q("pre",null,ze(u.value),1)]),_:1},8,["modelValue"])],64)}}}),Q_e=ne({__name:"App",setup(t){return(n,o)=>(N(),be(Ft(Z_e)))}}),fx=lL(Q_e);fx.use(Bde);fx.mount("#app")});export default ebe();
