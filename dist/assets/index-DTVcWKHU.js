var cB=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var ebe=cB((Ts,ys)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function o(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(l){if(l.ep)return;l.ep=!0;const a=o(l);fetch(l.href,a)}})();/**
* @vue/shared v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function My(t,n){const o=new Set(t.split(","));return i=>o.has(i)}const Pn={},nc=[],on=()=>{},dB=()=>!1,hg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Dy=t=>t.startsWith("onUpdate:"),Yn=Object.assign,Py=(t,n)=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)},hB=Object.prototype.hasOwnProperty,Yt=(t,n)=>hB.call(t,n),tt=Array.isArray,oc=t=>Wh(t)==="[object Map]",pg=t=>Wh(t)==="[object Set]",Ma=t=>Wh(t)==="[object Date]",vt=t=>typeof t=="function",yt=t=>typeof t=="string",Hi=t=>typeof t=="symbol",Pt=t=>t!==null&&typeof t=="object",$h=t=>(Pt(t)||vt(t))&&vt(t.then)&&vt(t.catch),UL=Object.prototype.toString,Wh=t=>UL.call(t),lm=t=>Wh(t).slice(8,-1),Pm=t=>Wh(t)==="[object Object]",xy=t=>yt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,eh=My(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fg=t=>{const n=Object.create(null);return o=>n[o]||(n[o]=t(o))},pB=/-(\w)/g,Gs=fg(t=>t.replace(pB,(n,o)=>o?o.toUpperCase():"")),fB=/\B([A-Z])/g,kl=fg(t=>t.replace(fB,"-$1").toLowerCase()),zh=fg(t=>t.charAt(0).toUpperCase()+t.slice(1)),th=fg(t=>t?`on${zh(t)}`:""),_l=(t,n)=>!Object.is(t,n),am=(t,...n)=>{for(let o=0;o<t.length;o++)t[o](...n)},GL=(t,n,o,i=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:i,value:o})},dT=t=>{const n=parseFloat(t);return isNaN(n)?t:n},mB=t=>{const n=yt(t)?Number(t):NaN;return isNaN(n)?t:n};let lk;const WL=()=>lk||(lk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ct(t){if(tt(t)){const n={};for(let o=0;o<t.length;o++){const i=t[o],l=yt(i)?_B(i):ct(i);if(l)for(const a in l)n[a]=l[a]}return n}else if(yt(t)||Pt(t))return t}const gB=/;(?![^(]*\))/g,$B=/:([^]+)/,vB=/\/\*[^]*?\*\//g;function _B(t){const n={};return t.replace(vB,"").split(gB).forEach(o=>{if(o){const i=o.split($B);i.length>1&&(n[i[0].trim()]=i[1].trim())}}),n}function N(t){let n="";if(yt(t))n=t;else if(tt(t))for(let o=0;o<t.length;o++){const i=N(t[o]);i&&(n+=i+" ")}else if(Pt(t))for(const o in t)t[o]&&(n+=o+" ");return n.trim()}function Tr(t){if(!t)return null;let{class:n,style:o}=t;return n&&!yt(n)&&(t.class=N(n)),o&&(t.style=ct(o)),t}const bB="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",TB=My(bB);function zL(t){return!!t||t===""}function yB(t,n){if(t.length!==n.length)return!1;let o=!0;for(let i=0;o&&i<t.length;i++)o=hc(t[i],n[i]);return o}function hc(t,n){if(t===n)return!0;let o=Ma(t),i=Ma(n);if(o||i)return o&&i?t.getTime()===n.getTime():!1;if(o=Hi(t),i=Hi(n),o||i)return t===n;if(o=tt(t),i=tt(n),o||i)return o&&i?yB(t,n):!1;if(o=Pt(t),i=Pt(n),o||i){if(!o||!i)return!1;const l=Object.keys(t).length,a=Object.keys(n).length;if(l!==a)return!1;for(const u in t){const h=t.hasOwnProperty(u),p=n.hasOwnProperty(u);if(h&&!p||!h&&p||!hc(t[u],n[u]))return!1}}return String(t)===String(n)}function KL(t,n){return t.findIndex(o=>hc(o,n))}const We=t=>yt(t)?t:t==null?"":tt(t)||Pt(t)&&(t.toString===UL||!vt(t.toString))?JSON.stringify(t,XL,2):String(t),XL=(t,n)=>n&&n.__v_isRef?XL(t,n.value):oc(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((o,[i,l],a)=>(o[Cb(i,a)+" =>"]=l,o),{})}:pg(n)?{[`Set(${n.size})`]:[...n.values()].map(o=>Cb(o))}:Hi(n)?Cb(n):Pt(n)&&!tt(n)&&!Pm(n)?String(n):n,Cb=(t,n="")=>{var o;return Hi(t)?`Symbol(${(o=t.description)!=null?o:n})`:t};/**
* @vue/reactivity v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vs;class YL{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=vs,!n&&vs&&(this.index=(vs.scopes||(vs.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const o=vs;try{return vs=this,n()}finally{vs=o}}}on(){vs=this}off(){vs=this.parent}stop(n){if(this._active){let o,i;for(o=0,i=this.effects.length;o<i;o++)this.effects[o].stop();for(o=0,i=this.cleanups.length;o<i;o++)this.cleanups[o]();if(this.scopes)for(o=0,i=this.scopes.length;o<i;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!n){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function EB(t){return new YL(t)}function SB(t,n=vs){n&&n.active&&n.effects.push(t)}function jL(){return vs}function qL(t){vs&&vs.cleanups.push(t)}let ka;class By{constructor(n,o,i,l){this.fn=n,this.trigger=o,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,SB(this,l)}get dirty(){if(this._dirtyLevel===2)return!1;if(this._dirtyLevel===3||this._dirtyLevel===4){this._dirtyLevel=1,Ol();for(let n=0;n<this._depsLength;n++){const o=this.deps[n];if(o.computed){if(o.computed.effect._dirtyLevel===2)return Sr(),!0;if(CB(o.computed),this._dirtyLevel>=5)break}}this._dirtyLevel===1&&(this._dirtyLevel=0),Sr()}return this._dirtyLevel>=5}set dirty(n){this._dirtyLevel=n?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let n=ml,o=ka;try{return ml=!0,ka=this,this._runnings++,ak(this),this.fn()}finally{uk(this),this._runnings--,ka=o,ml=n}}stop(){this.active&&(ak(this),uk(this),this.onStop&&this.onStop(),this.active=!1)}}function CB(t){return t.value}function ak(t){t._trackId++,t._depsLength=0}function uk(t){if(t.deps.length>t._depsLength){for(let n=t._depsLength;n<t.deps.length;n++)JL(t.deps[n],t);t.deps.length=t._depsLength}}function JL(t,n){const o=t.get(n);o!==void 0&&n._trackId!==o&&(t.delete(n),t.size===0&&t.cleanup())}let ml=!0,hT=0;const ZL=[];function Ol(){ZL.push(ml),ml=!1}function Sr(){const t=ZL.pop();ml=t===void 0?!0:t}function Fy(){hT++}function Hy(){for(hT--;!hT&&pT.length;)pT.shift()()}function QL(t,n,o){if(n.get(t)!==t._trackId){n.set(t,t._trackId);const i=t.deps[t._depsLength];i!==n?(i&&JL(i,t),t.deps[t._depsLength++]=n):t._depsLength++}}const pT=[];function eA(t,n,o){Fy();for(const i of t.keys()){let l;if(!t.computed&&i.computed&&i._runnings>0&&(l??(l=t.get(i)===i._trackId))){i._dirtyLevel=2;continue}i._dirtyLevel<n&&(l??(l=t.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i.computed&&i._dirtyLevel===2&&(i._shouldSchedule=!0),i._dirtyLevel=n),i._shouldSchedule&&(l??(l=t.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==3&&(i._shouldSchedule=!1,i.scheduler&&pT.push(i.scheduler)))}Hy()}const tA=(t,n)=>{const o=new Map;return o.cleanup=t,o.computed=n,o},xm=new WeakMap,Oa=Symbol(""),fT=Symbol("");function as(t,n,o){if(ml&&ka){let i=xm.get(t);i||xm.set(t,i=new Map);let l=i.get(o);l||i.set(o,l=tA(()=>i.delete(o))),QL(ka,l)}}function yr(t,n,o,i,l,a){const u=xm.get(t);if(!u)return;let h=[];if(n==="clear")h=[...u.values()];else if(o==="length"&&tt(t)){const p=Number(i);u.forEach((f,g)=>{(g==="length"||!Hi(g)&&g>=p)&&h.push(f)})}else switch(o!==void 0&&h.push(u.get(o)),n){case"add":tt(t)?xy(o)&&h.push(u.get("length")):(h.push(u.get(Oa)),oc(t)&&h.push(u.get(fT)));break;case"delete":tt(t)||(h.push(u.get(Oa)),oc(t)&&h.push(u.get(fT)));break;case"set":oc(t)&&h.push(u.get(Oa));break}Fy();for(const p of h)p&&eA(p,5);Hy()}function IB(t,n){const o=xm.get(t);return o&&o.get(n)}const wB=My("__proto__,__v_isRef,__isVue"),nA=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hi)),ck=kB();function kB(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...o){const i=rn(this);for(let a=0,u=this.length;a<u;a++)as(i,"get",a+"");const l=i[n](...o);return l===-1||l===!1?i[n](...o.map(rn)):l}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...o){Ol(),Fy();const i=rn(this)[n].apply(this,o);return Hy(),Sr(),i}}),t}function OB(t){Hi(t)||(t=String(t));const n=rn(this);return as(n,"has",t),n.hasOwnProperty(t)}class oA{constructor(n=!1,o=!1){this._isReadonly=n,this._isShallow=o}get(n,o,i){const l=this._isReadonly,a=this._isShallow;if(o==="__v_isReactive")return!l;if(o==="__v_isReadonly")return l;if(o==="__v_isShallow")return a;if(o==="__v_raw")return i===(l?a?UB:lA:a?rA:iA).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(i)?n:void 0;const u=tt(n);if(!l){if(u&&Yt(ck,o))return Reflect.get(ck,o,i);if(o==="hasOwnProperty")return OB}const h=Reflect.get(n,o,i);return(Hi(o)?nA.has(o):wB(o))||(l||as(n,"get",o),a)?h:Tn(h)?u&&xy(o)?h:h.value:Pt(h)?l?Mc(h):en(h):h}}class sA extends oA{constructor(n=!1){super(!1,n)}set(n,o,i,l){let a=n[o];if(!this._isShallow){const p=vh(a);if(!Bm(i)&&!vh(i)&&(a=rn(a),i=rn(i)),!tt(n)&&Tn(a)&&!Tn(i))return p?!1:(a.value=i,!0)}const u=tt(n)&&xy(o)?Number(o)<n.length:Yt(n,o),h=Reflect.set(n,o,i,l);return n===rn(l)&&(u?_l(i,a)&&yr(n,"set",o,i):yr(n,"add",o,i)),h}deleteProperty(n,o){const i=Yt(n,o);n[o];const l=Reflect.deleteProperty(n,o);return l&&i&&yr(n,"delete",o,void 0),l}has(n,o){const i=Reflect.has(n,o);return(!Hi(o)||!nA.has(o))&&as(n,"has",o),i}ownKeys(n){return as(n,"iterate",tt(n)?"length":Oa),Reflect.ownKeys(n)}}class RB extends oA{constructor(n=!1){super(!0,n)}set(n,o){return!0}deleteProperty(n,o){return!0}}const LB=new sA,AB=new RB,NB=new sA(!0),Vy=t=>t,mg=t=>Reflect.getPrototypeOf(t);function Df(t,n,o=!1,i=!1){t=t.__v_raw;const l=rn(t),a=rn(n);o||(_l(n,a)&&as(l,"get",n),as(l,"get",a));const{has:u}=mg(l),h=i?Vy:o?Wy:_h;if(u.call(l,n))return h(t.get(n));if(u.call(l,a))return h(t.get(a));t!==l&&t.get(n)}function Pf(t,n=!1){const o=this.__v_raw,i=rn(o),l=rn(t);return n||(_l(t,l)&&as(i,"has",t),as(i,"has",l)),t===l?o.has(t):o.has(t)||o.has(l)}function xf(t,n=!1){return t=t.__v_raw,!n&&as(rn(t),"iterate",Oa),Reflect.get(t,"size",t)}function dk(t){t=rn(t);const n=rn(this);return mg(n).has.call(n,t)||(n.add(t),yr(n,"add",t,t)),this}function hk(t,n){n=rn(n);const o=rn(this),{has:i,get:l}=mg(o);let a=i.call(o,t);a||(t=rn(t),a=i.call(o,t));const u=l.call(o,t);return o.set(t,n),a?_l(n,u)&&yr(o,"set",t,n):yr(o,"add",t,n),this}function pk(t){const n=rn(this),{has:o,get:i}=mg(n);let l=o.call(n,t);l||(t=rn(t),l=o.call(n,t)),i&&i.call(n,t);const a=n.delete(t);return l&&yr(n,"delete",t,void 0),a}function fk(){const t=rn(this),n=t.size!==0,o=t.clear();return n&&yr(t,"clear",void 0,void 0),o}function Bf(t,n){return function(i,l){const a=this,u=a.__v_raw,h=rn(u),p=n?Vy:t?Wy:_h;return!t&&as(h,"iterate",Oa),u.forEach((f,g)=>i.call(l,p(f),p(g),a))}}function Ff(t,n,o){return function(...i){const l=this.__v_raw,a=rn(l),u=oc(a),h=t==="entries"||t===Symbol.iterator&&u,p=t==="keys"&&u,f=l[t](...i),g=o?Vy:n?Wy:_h;return!n&&as(a,"iterate",p?fT:Oa),{next(){const{value:m,done:_}=f.next();return _?{value:m,done:_}:{value:h?[g(m[0]),g(m[1])]:g(m),done:_}},[Symbol.iterator](){return this}}}}function el(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function MB(){const t={get(a){return Df(this,a)},get size(){return xf(this)},has:Pf,add:dk,set:hk,delete:pk,clear:fk,forEach:Bf(!1,!1)},n={get(a){return Df(this,a,!1,!0)},get size(){return xf(this)},has:Pf,add:dk,set:hk,delete:pk,clear:fk,forEach:Bf(!1,!0)},o={get(a){return Df(this,a,!0)},get size(){return xf(this,!0)},has(a){return Pf.call(this,a,!0)},add:el("add"),set:el("set"),delete:el("delete"),clear:el("clear"),forEach:Bf(!0,!1)},i={get(a){return Df(this,a,!0,!0)},get size(){return xf(this,!0)},has(a){return Pf.call(this,a,!0)},add:el("add"),set:el("set"),delete:el("delete"),clear:el("clear"),forEach:Bf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=Ff(a,!1,!1),o[a]=Ff(a,!0,!1),n[a]=Ff(a,!1,!0),i[a]=Ff(a,!0,!0)}),[t,o,n,i]}const[DB,PB,xB,BB]=MB();function Uy(t,n){const o=n?t?BB:xB:t?PB:DB;return(i,l,a)=>l==="__v_isReactive"?!t:l==="__v_isReadonly"?t:l==="__v_raw"?i:Reflect.get(Yt(o,l)&&l in i?o:i,l,a)}const FB={get:Uy(!1,!1)},HB={get:Uy(!1,!0)},VB={get:Uy(!0,!1)},iA=new WeakMap,rA=new WeakMap,lA=new WeakMap,UB=new WeakMap;function GB(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function WB(t){return t.__v_skip||!Object.isExtensible(t)?0:GB(lm(t))}function en(t){return vh(t)?t:Gy(t,!1,LB,FB,iA)}function aA(t){return Gy(t,!1,NB,HB,rA)}function Mc(t){return Gy(t,!0,AB,VB,lA)}function Gy(t,n,o,i,l){if(!Pt(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const a=l.get(t);if(a)return a;const u=WB(t);if(u===0)return t;const h=new Proxy(t,u===2?i:o);return l.set(t,h),h}function nh(t){return vh(t)?nh(t.__v_raw):!!(t&&t.__v_isReactive)}function vh(t){return!!(t&&t.__v_isReadonly)}function Bm(t){return!!(t&&t.__v_isShallow)}function uA(t){return t?!!t.__v_raw:!1}function rn(t){const n=t&&t.__v_raw;return n?rn(n):t}function sc(t){return Object.isExtensible(t)&&GL(t,"__v_skip",!0),t}const _h=t=>Pt(t)?en(t):t,Wy=t=>Pt(t)?Mc(t):t;class cA{constructor(n,o,i,l){this.getter=n,this._setter=o,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new By(()=>n(this._value),()=>oh(this,this.effect._dirtyLevel===3?3:4)),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=i}get value(){const n=rn(this),o=n.effect._dirtyLevel;return(!n._cacheable||n.effect.dirty)&&_l(n._value,n._value=n.effect.run())&&o!==3&&oh(n,5),zy(n),n.effect._dirtyLevel>=2&&oh(n,3),n._value}set value(n){this._setter(n)}get _dirty(){return this.effect.dirty}set _dirty(n){this.effect.dirty=n}}function zB(t,n,o=!1){let i,l;const a=vt(t);return a?(i=t,l=on):(i=t.get,l=t.set),new cA(i,l,a||!l,o)}function zy(t){var n;ml&&ka&&(t=rn(t),QL(ka,(n=t.dep)!=null?n:t.dep=tA(()=>t.dep=void 0,t instanceof cA?t:void 0)))}function oh(t,n=5,o,i){t=rn(t);const l=t.dep;l&&eA(l,n)}function Tn(t){return!!(t&&t.__v_isRef===!0)}function V(t){return dA(t,!1)}function bn(t){return dA(t,!0)}function dA(t,n){return Tn(t)?t:new KB(t,n)}class KB{constructor(n,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?n:rn(n),this._value=o?n:_h(n)}get value(){return zy(this),this._value}set value(n){const o=this.__v_isShallow||Bm(n)||vh(n);n=o?n:rn(n),_l(n,this._rawValue)&&(this._rawValue,this._rawValue=n,this._value=o?n:_h(n),oh(this,5))}}function c(t){return Tn(t)?t.value:t}const XB={get:(t,n,o)=>c(Reflect.get(t,n,o)),set:(t,n,o,i)=>{const l=t[n];return Tn(l)&&!Tn(o)?(l.value=o,!0):Reflect.set(t,n,o,i)}};function hA(t){return nh(t)?t:new Proxy(t,XB)}class YB{constructor(n){this.dep=void 0,this.__v_isRef=!0;const{get:o,set:i}=n(()=>zy(this),()=>oh(this));this._get=o,this._set=i}get value(){return this._get()}set value(n){this._set(n)}}function jB(t){return new YB(t)}function mo(t){const n=tt(t)?new Array(t.length):{};for(const o in t)n[o]=pA(t,o);return n}class qB{constructor(n,o,i){this._object=n,this._key=o,this._defaultValue=i,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return IB(rn(this._object),this._key)}}class JB{constructor(n){this._getter=n,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function sn(t,n,o){return Tn(t)?t:vt(t)?new JB(t):Pt(t)&&arguments.length>1?pA(t,n,o):V(t)}function pA(t,n,o){const i=t[n];return Tn(i)?i:new qB(t,n,o)}/**
* @vue/runtime-core v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gl(t,n,o,i){try{return i?t(...i):t()}catch(l){gg(l,n,o)}}function Hs(t,n,o,i){if(vt(t)){const l=gl(t,n,o,i);return l&&$h(l)&&l.catch(a=>{gg(a,n,o)}),l}if(tt(t)){const l=[];for(let a=0;a<t.length;a++)l.push(Hs(t[a],n,o,i));return l}}function gg(t,n,o,i=!0){const l=n?n.vnode:null;if(n){let a=n.parent;const u=n.proxy,h=`https://vuejs.org/error-reference/#runtime-${o}`;for(;a;){const f=a.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](t,u,h)===!1)return}a=a.parent}const p=n.appContext.config.errorHandler;if(p){Ol(),gl(p,null,10,[t,u,h]),Sr();return}}ZB(t,o,l,i)}function ZB(t,n,o,i=!0){console.error(t)}let bh=!1,mT=!1;const Mo=[];let Di=0;const ic=[];let ll=null,va=0;const fA=Promise.resolve();let Ky=null;function pt(t){const n=Ky||fA;return t?n.then(this?t.bind(this):t):n}function QB(t){let n=Di+1,o=Mo.length;for(;n<o;){const i=n+o>>>1,l=Mo[i],a=Th(l);a<t||a===t&&l.pre?n=i+1:o=i}return n}function Xy(t){(!Mo.length||!Mo.includes(t,bh&&t.allowRecurse?Di+1:Di))&&(t.id==null?Mo.push(t):Mo.splice(QB(t.id),0,t),mA())}function mA(){!bh&&!mT&&(mT=!0,Ky=fA.then($A))}function eF(t){const n=Mo.indexOf(t);n>Di&&Mo.splice(n,1)}function tF(t){tt(t)?ic.push(...t):(!ll||!ll.includes(t,t.allowRecurse?va+1:va))&&ic.push(t),mA()}function mk(t,n,o=bh?Di+1:0){for(;o<Mo.length;o++){const i=Mo[o];if(i&&i.pre){if(t&&i.id!==t.uid)continue;Mo.splice(o,1),o--,i()}}}function gA(t){if(ic.length){const n=[...new Set(ic)].sort((o,i)=>Th(o)-Th(i));if(ic.length=0,ll){ll.push(...n);return}for(ll=n,va=0;va<ll.length;va++){const o=ll[va];o.active!==!1&&o()}ll=null,va=0}}const Th=t=>t.id==null?1/0:t.id,nF=(t,n)=>{const o=Th(t)-Th(n);if(o===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return o};function $A(t){mT=!1,bh=!0,Mo.sort(nF);try{for(Di=0;Di<Mo.length;Di++){const n=Mo[Di];n&&n.active!==!1&&gl(n,null,14)}}finally{Di=0,Mo.length=0,gA(),bh=!1,Ky=null,(Mo.length||ic.length)&&$A()}}function oF(t,n,...o){if(t.isUnmounted)return;const i=t.vnode.props||Pn;let l=o;const a=n.startsWith("update:"),u=a&&n.slice(7);if(u&&u in i){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:m,trim:_}=i[g]||Pn;_&&(l=o.map(b=>yt(b)?b.trim():b)),m&&(l=o.map(dT))}let h,p=i[h=th(n)]||i[h=th(Gs(n))];!p&&a&&(p=i[h=th(kl(n))]),p&&Hs(p,t,6,l);const f=i[h+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[h])return;t.emitted[h]=!0,Hs(f,t,6,l)}}function vA(t,n,o=!1){const i=n.emitsCache,l=i.get(t);if(l!==void 0)return l;const a=t.emits;let u={},h=!1;if(!vt(t)){const p=f=>{const g=vA(f,n,!0);g&&(h=!0,Yn(u,g))};!o&&n.mixins.length&&n.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}return!a&&!h?(Pt(t)&&i.set(t,null),null):(tt(a)?a.forEach(p=>u[p]=null):Yn(u,a),Pt(t)&&i.set(t,u),u)}function $g(t,n){return!t||!hg(n)?!1:(n=n.slice(2).replace(/Once$/,""),Yt(t,n[0].toLowerCase()+n.slice(1))||Yt(t,kl(n))||Yt(t,n))}let fo=null,_A=null;function Fm(t){const n=fo;return fo=t,_A=t&&t.type.__scopeId||null,n}function he(t,n=fo,o){if(!n||t._n)return t;const i=(...l)=>{i._d&&Rk(-1);const a=Fm(n);let u;try{u=t(...l)}finally{Fm(a),i._d&&Rk(1)}return u};return i._n=!0,i._c=!0,i._d=!0,i}function Ib(t){const{type:n,vnode:o,proxy:i,withProxy:l,propsOptions:[a],slots:u,attrs:h,emit:p,render:f,renderCache:g,props:m,data:_,setupState:b,ctx:T,inheritAttrs:$}=t,E=Fm(t);let y,I;try{if(o.shapeFlag&4){const C=l||i,R=C;y=Mi(f.call(R,C,g,m,b,_,T)),I=h}else{const C=n;y=Mi(C.length>1?C(m,{attrs:h,slots:u,emit:p}):C(m,null)),I=n.props?h:sF(h)}}catch(C){ah.length=0,gg(C,t,1),y=ie(To)}let S=y;if(I&&$!==!1){const C=Object.keys(I),{shapeFlag:R}=S;C.length&&R&7&&(a&&C.some(Dy)&&(I=iF(I,a)),S=Ir(S,I,!1,!0))}return o.dirs&&(S=Ir(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(o.dirs):o.dirs),o.transition&&(S.transition=o.transition),y=S,Fm(E),y}const sF=t=>{let n;for(const o in t)(o==="class"||o==="style"||hg(o))&&((n||(n={}))[o]=t[o]);return n},iF=(t,n)=>{const o={};for(const i in t)(!Dy(i)||!(i.slice(9)in n))&&(o[i]=t[i]);return o};function rF(t,n,o){const{props:i,children:l,component:a}=t,{props:u,children:h,patchFlag:p}=n,f=a.emitsOptions;if(n.dirs||n.transition)return!0;if(o&&p>=0){if(p&1024)return!0;if(p&16)return i?gk(i,u,f):!!u;if(p&8){const g=n.dynamicProps;for(let m=0;m<g.length;m++){const _=g[m];if(u[_]!==i[_]&&!$g(f,_))return!0}}}else return(l||h)&&(!h||!h.$stable)?!0:i===u?!1:i?u?gk(i,u,f):!0:!!u;return!1}function gk(t,n,o){const i=Object.keys(n);if(i.length!==Object.keys(t).length)return!0;for(let l=0;l<i.length;l++){const a=i[l];if(n[a]!==t[a]&&!$g(o,a))return!0}return!1}function lF({vnode:t,parent:n},o){for(;n;){const i=n.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=n.vnode).el=o,n=n.parent;else break}}const Yy="components",aF="directives";function Lt(t,n){return jy(Yy,t,!0,n)||t}const bA=Symbol.for("v-ndc");function Ft(t){return yt(t)?jy(Yy,t,!1)||t:t||bA}function vg(t){return jy(aF,t)}function jy(t,n,o=!0,i=!1){const l=fo||yo;if(l){const a=l.type;if(t===Yy){const h=JF(a,!1);if(h&&(h===n||h===Gs(n)||h===zh(Gs(n))))return a}const u=$k(l[t]||a[t],n)||$k(l.appContext[t],n);return!u&&i?a:u}}function $k(t,n){return t&&(t[n]||t[Gs(n)]||t[zh(Gs(n))])}const uF=t=>t.__isSuspense;function cF(t,n){n&&n.pendingBranch?tt(t)?n.effects.push(...t):n.effects.push(t):tF(t)}function _g(t,n,o=yo,i=!1){if(o){const l=o[t]||(o[t]=[]),a=n.__weh||(n.__weh=(...u)=>{Ol();const h=Kh(o),p=Hs(n,o,t,u);return h(),Sr(),p});return i?l.unshift(a):l.push(a),a}}const Or=t=>(n,o=yo)=>{(!yg||t==="sp")&&_g(t,(...i)=>n(...i),o)},bg=Or("bm"),Rt=Or("m"),TA=Or("bu"),Rr=Or("u"),mn=Or("bum"),Rl=Or("um"),dF=Or("sp"),hF=Or("rtg"),pF=Or("rtc");function fF(t,n=yo){_g("ec",t,n)}function Ot(t,n){if(fo===null)return t;const o=Eg(fo),i=t.dirs||(t.dirs=[]);for(let l=0;l<n.length;l++){let[a,u,h,p=Pn]=n[l];a&&(vt(a)&&(a={mounted:a,updated:a}),a.deep&&cl(u),i.push({dir:a,instance:o,value:u,oldValue:void 0,arg:h,modifiers:p}))}return t}function pa(t,n,o,i){const l=t.dirs,a=n&&n.dirs;for(let u=0;u<l.length;u++){const h=l[u];a&&(h.oldValue=a[u].value);let p=h.dir[i];p&&(Ol(),Hs(p,o,8,[t.el,h,t,n]),Sr())}}function Kt(t,n,o,i){let l;const a=o;if(tt(t)||yt(t)){l=new Array(t.length);for(let u=0,h=t.length;u<h;u++)l[u]=n(t[u],u,void 0,a)}else if(typeof t=="number"){l=new Array(t);for(let u=0;u<t;u++)l[u]=n(u+1,u,void 0,a)}else if(Pt(t))if(t[Symbol.iterator])l=Array.from(t,(u,h)=>n(u,h,void 0,a));else{const u=Object.keys(t);l=new Array(u.length);for(let h=0,p=u.length;h<p;h++){const f=u[h];l[h]=n(t[f],f,h,a)}}else l=[];return l}function Cr(t,n){for(let o=0;o<n.length;o++){const i=n[o];if(tt(i))for(let l=0;l<i.length;l++)t[i[l].name]=i[l].fn;else i&&(t[i.name]=i.key?(...l)=>{const a=i.fn(...l);return a&&(a.key=i.key),a}:i.fn)}return t}/*! #__NO_SIDE_EFFECTS__ */function ne(t,n){return vt(t)?Yn({name:t.name},n,{setup:t}):t}const sh=t=>!!t.type.__asyncLoader;function Te(t,n,o={},i,l){if(fo.isCE||fo.parent&&sh(fo.parent)&&fo.parent.isCE)return n!=="default"&&(o.name=n),ie("slot",o,i&&i());let a=t[n];a&&a._c&&(a._d=!1),A();const u=a&&yA(a(o)),h=be(dt,{key:o.key||u&&u.key||`_${n}`},u||(i?i():[]),u&&t._===1?64:-2);return h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),a&&a._c&&(a._d=!0),h}function yA(t){return t.some(n=>Cn(n)?!(n.type===To||n.type===dt&&!yA(n.children)):!0)?t:null}function mF(t,n){const o={};for(const i in t)o[th(i)]=t[i];return o}const gT=t=>t?zA(t)?Eg(t):gT(t.parent):null,ih=Yn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>gT(t.parent),$root:t=>gT(t.root),$emit:t=>t.emit,$options:t=>qy(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Xy(t.update)}),$nextTick:t=>t.n||(t.n=pt.bind(t.proxy)),$watch:t=>DF.bind(t)}),wb=(t,n)=>t!==Pn&&!t.__isScriptSetup&&Yt(t,n),gF={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:o,setupState:i,data:l,props:a,accessCache:u,type:h,appContext:p}=t;let f;if(n[0]!=="$"){const b=u[n];if(b!==void 0)switch(b){case 1:return i[n];case 2:return l[n];case 4:return o[n];case 3:return a[n]}else{if(wb(i,n))return u[n]=1,i[n];if(l!==Pn&&Yt(l,n))return u[n]=2,l[n];if((f=t.propsOptions[0])&&Yt(f,n))return u[n]=3,a[n];if(o!==Pn&&Yt(o,n))return u[n]=4,o[n];$T&&(u[n]=0)}}const g=ih[n];let m,_;if(g)return n==="$attrs"&&as(t.attrs,"get",""),g(t);if((m=h.__cssModules)&&(m=m[n]))return m;if(o!==Pn&&Yt(o,n))return u[n]=4,o[n];if(_=p.config.globalProperties,Yt(_,n))return _[n]},set({_:t},n,o){const{data:i,setupState:l,ctx:a}=t;return wb(l,n)?(l[n]=o,!0):i!==Pn&&Yt(i,n)?(i[n]=o,!0):Yt(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(a[n]=o,!0)},has({_:{data:t,setupState:n,accessCache:o,ctx:i,appContext:l,propsOptions:a}},u){let h;return!!o[u]||t!==Pn&&Yt(t,u)||wb(n,u)||(h=a[0])&&Yt(h,u)||Yt(i,u)||Yt(ih,u)||Yt(l.config.globalProperties,u)},defineProperty(t,n,o){return o.get!=null?t._.accessCache[n]=0:Yt(o,"value")&&this.set(t,n,o.value,null),Reflect.defineProperty(t,n,o)}};function uo(){return EA().slots}function Ga(){return EA().attrs}function EA(){const t=Nt();return t.setupContext||(t.setupContext=XA(t))}function vk(t){return tt(t)?t.reduce((n,o)=>(n[o]=null,n),{}):t}let $T=!0;function $F(t){const n=qy(t),o=t.proxy,i=t.ctx;$T=!1,n.beforeCreate&&_k(n.beforeCreate,t,"bc");const{data:l,computed:a,methods:u,watch:h,provide:p,inject:f,created:g,beforeMount:m,mounted:_,beforeUpdate:b,updated:T,activated:$,deactivated:E,beforeDestroy:y,beforeUnmount:I,destroyed:S,unmounted:C,render:R,renderTracked:O,renderTriggered:P,errorCaptured:M,serverPrefetch:H,expose:F,inheritAttrs:B,components:K,directives:te,filters:J}=n;if(f&&vF(f,i,null),u)for(const G in u){const W=u[G];vt(W)&&(i[G]=W.bind(o))}if(l){const G=l.call(o,o);Pt(G)&&(t.data=en(G))}if($T=!0,a)for(const G in a){const W=a[G],D=vt(W)?W.bind(o,o):vt(W.get)?W.get.bind(o,o):on,X=!vt(W)&&vt(W.set)?W.set.bind(o):on,oe=w({get:D,set:X});Object.defineProperty(i,G,{enumerable:!0,configurable:!0,get:()=>oe.value,set:le=>oe.value=le})}if(h)for(const G in h)SA(h[G],i,o,G);if(p){const G=vt(p)?p.call(o):p;Reflect.ownKeys(G).forEach(W=>{Gt(W,G[W])})}g&&_k(g,t,"c");function z(G,W){tt(W)?W.forEach(D=>G(D.bind(o))):W&&G(W.bind(o))}if(z(bg,m),z(Rt,_),z(TA,b),z(Rr,T),z(PF,$),z(PA,E),z(fF,M),z(pF,O),z(hF,P),z(mn,I),z(Rl,C),z(dF,H),tt(F))if(F.length){const G=t.exposed||(t.exposed={});F.forEach(W=>{Object.defineProperty(G,W,{get:()=>o[W],set:D=>o[W]=D})})}else t.exposed||(t.exposed={});R&&t.render===on&&(t.render=R),B!=null&&(t.inheritAttrs=B),K&&(t.components=K),te&&(t.directives=te)}function vF(t,n,o=on){tt(t)&&(t=vT(t));for(const i in t){const l=t[i];let a;Pt(l)?"default"in l?a=it(l.from||i,l.default,!0):a=it(l.from||i):a=it(l),Tn(a)?Object.defineProperty(n,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:u=>a.value=u}):n[i]=a}}function _k(t,n,o){Hs(tt(t)?t.map(i=>i.bind(n.proxy)):t.bind(n.proxy),n,o)}function SA(t,n,o,i){const l=i.includes(".")?DA(o,i):()=>o[i];if(yt(t)){const a=n[t];vt(a)&&Me(l,a)}else if(vt(t))Me(l,t.bind(o));else if(Pt(t))if(tt(t))t.forEach(a=>SA(a,n,o,i));else{const a=vt(t.handler)?t.handler.bind(o):n[t.handler];vt(a)&&Me(l,a,t)}}function qy(t){const n=t.type,{mixins:o,extends:i}=n,{mixins:l,optionsCache:a,config:{optionMergeStrategies:u}}=t.appContext,h=a.get(n);let p;return h?p=h:!l.length&&!o&&!i?p=n:(p={},l.length&&l.forEach(f=>Hm(p,f,u,!0)),Hm(p,n,u)),Pt(n)&&a.set(n,p),p}function Hm(t,n,o,i=!1){const{mixins:l,extends:a}=n;a&&Hm(t,a,o,!0),l&&l.forEach(u=>Hm(t,u,o,!0));for(const u in n)if(!(i&&u==="expose")){const h=_F[u]||o&&o[u];t[u]=h?h(t[u],n[u]):n[u]}return t}const _F={data:bk,props:Tk,emits:Tk,methods:qd,computed:qd,beforeCreate:Xo,created:Xo,beforeMount:Xo,mounted:Xo,beforeUpdate:Xo,updated:Xo,beforeDestroy:Xo,beforeUnmount:Xo,destroyed:Xo,unmounted:Xo,activated:Xo,deactivated:Xo,errorCaptured:Xo,serverPrefetch:Xo,components:qd,directives:qd,watch:TF,provide:bk,inject:bF};function bk(t,n){return n?t?function(){return Yn(vt(t)?t.call(this,this):t,vt(n)?n.call(this,this):n)}:n:t}function bF(t,n){return qd(vT(t),vT(n))}function vT(t){if(tt(t)){const n={};for(let o=0;o<t.length;o++)n[t[o]]=t[o];return n}return t}function Xo(t,n){return t?[...new Set([].concat(t,n))]:n}function qd(t,n){return t?Yn(Object.create(null),t,n):n}function Tk(t,n){return t?tt(t)&&tt(n)?[...new Set([...t,...n])]:Yn(Object.create(null),vk(t),vk(n??{})):n}function TF(t,n){if(!t)return n;if(!n)return t;const o=Yn(Object.create(null),t);for(const i in n)o[i]=Xo(t[i],n[i]);return o}function CA(){return{app:null,config:{isNativeTag:dB,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yF=0;function EF(t,n){return function(i,l=null){vt(i)||(i=Yn({},i)),l!=null&&!Pt(l)&&(l=null);const a=CA(),u=new WeakSet;let h=!1;const p=a.app={_uid:yF++,_component:i,_props:l,_container:null,_context:a,_instance:null,version:QF,get config(){return a.config},set config(f){},use(f,...g){return u.has(f)||(f&&vt(f.install)?(u.add(f),f.install(p,...g)):vt(f)&&(u.add(f),f(p,...g))),p},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),p},component(f,g){return g?(a.components[f]=g,p):a.components[f]},directive(f,g){return g?(a.directives[f]=g,p):a.directives[f]},mount(f,g,m){if(!h){const _=ie(i,l);return _.appContext=a,m===!0?m="svg":m===!1&&(m=void 0),g&&n?n(_,f):t(_,f,m),h=!0,p._container=f,f.__vue_app__=p,Eg(_.component)}},unmount(){h&&(t(null,p._container),delete p._container.__vue_app__)},provide(f,g){return a.provides[f]=g,p},runWithContext(f){const g=rh;rh=p;try{return f()}finally{rh=g}}};return p}}let rh=null;function Gt(t,n){if(yo){let o=yo.provides;const i=yo.parent&&yo.parent.provides;i===o&&(o=yo.provides=Object.create(i)),o[t]=n}}function it(t,n,o=!1){const i=yo||fo;if(i||rh){const l=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:rh._context.provides;if(l&&t in l)return l[t];if(arguments.length>1)return o&&vt(n)?n.call(i&&i.proxy):n}}const IA={},wA=()=>Object.create(IA),kA=t=>Object.getPrototypeOf(t)===IA;function SF(t,n,o,i=!1){const l={},a=wA();t.propsDefaults=Object.create(null),OA(t,n,l,a);for(const u in t.propsOptions[0])u in l||(l[u]=void 0);o?t.props=i?l:aA(l):t.type.props?t.props=l:t.props=a,t.attrs=a}function CF(t,n,o,i){const{props:l,attrs:a,vnode:{patchFlag:u}}=t,h=rn(l),[p]=t.propsOptions;let f=!1;if((i||u>0)&&!(u&16)){if(u&8){const g=t.vnode.dynamicProps;for(let m=0;m<g.length;m++){let _=g[m];if($g(t.emitsOptions,_))continue;const b=n[_];if(p)if(Yt(a,_))b!==a[_]&&(a[_]=b,f=!0);else{const T=Gs(_);l[T]=_T(p,h,T,b,t,!1)}else b!==a[_]&&(a[_]=b,f=!0)}}}else{OA(t,n,l,a)&&(f=!0);let g;for(const m in h)(!n||!Yt(n,m)&&((g=kl(m))===m||!Yt(n,g)))&&(p?o&&(o[m]!==void 0||o[g]!==void 0)&&(l[m]=_T(p,h,m,void 0,t,!0)):delete l[m]);if(a!==h)for(const m in a)(!n||!Yt(n,m))&&(delete a[m],f=!0)}f&&yr(t.attrs,"set","")}function OA(t,n,o,i){const[l,a]=t.propsOptions;let u=!1,h;if(n)for(let p in n){if(eh(p))continue;const f=n[p];let g;l&&Yt(l,g=Gs(p))?!a||!a.includes(g)?o[g]=f:(h||(h={}))[g]=f:$g(t.emitsOptions,p)||(!(p in i)||f!==i[p])&&(i[p]=f,u=!0)}if(a){const p=rn(o),f=h||Pn;for(let g=0;g<a.length;g++){const m=a[g];o[m]=_T(l,p,m,f[m],t,!Yt(f,m))}}return u}function _T(t,n,o,i,l,a){const u=t[o];if(u!=null){const h=Yt(u,"default");if(h&&i===void 0){const p=u.default;if(u.type!==Function&&!u.skipFactory&&vt(p)){const{propsDefaults:f}=l;if(o in f)i=f[o];else{const g=Kh(l);i=f[o]=p.call(null,n),g()}}else i=p}u[0]&&(a&&!h?i=!1:u[1]&&(i===""||i===kl(o))&&(i=!0))}return i}function RA(t,n,o=!1){const i=n.propsCache,l=i.get(t);if(l)return l;const a=t.props,u={},h=[];let p=!1;if(!vt(t)){const g=m=>{p=!0;const[_,b]=RA(m,n,!0);Yn(u,_),b&&h.push(...b)};!o&&n.mixins.length&&n.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!a&&!p)return Pt(t)&&i.set(t,nc),nc;if(tt(a))for(let g=0;g<a.length;g++){const m=Gs(a[g]);yk(m)&&(u[m]=Pn)}else if(a)for(const g in a){const m=Gs(g);if(yk(m)){const _=a[g],b=u[m]=tt(_)||vt(_)?{type:_}:Yn({},_);if(b){const T=Ck(Boolean,b.type),$=Ck(String,b.type);b[0]=T>-1,b[1]=$<0||T<$,(T>-1||Yt(b,"default"))&&h.push(m)}}}const f=[u,h];return Pt(t)&&i.set(t,f),f}function yk(t){return t[0]!=="$"&&!eh(t)}function Ek(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Sk(t,n){return Ek(t)===Ek(n)}function Ck(t,n){return tt(n)?n.findIndex(o=>Sk(o,t)):vt(n)&&Sk(n,t)?0:-1}const LA=t=>t[0]==="_"||t==="$stable",Jy=t=>tt(t)?t.map(Mi):[Mi(t)],IF=(t,n,o)=>{if(n._n)return n;const i=he((...l)=>Jy(n(...l)),o);return i._c=!1,i},AA=(t,n,o)=>{const i=t._ctx;for(const l in t){if(LA(l))continue;const a=t[l];if(vt(a))n[l]=IF(l,a,i);else if(a!=null){const u=Jy(a);n[l]=()=>u}}},NA=(t,n)=>{const o=Jy(n);t.slots.default=()=>o},wF=(t,n)=>{const o=t.slots=wA();if(t.vnode.shapeFlag&32){const i=n._;i?(Yn(o,n),GL(o,"_",i,!0)):AA(n,o)}else n&&NA(t,n)},kF=(t,n,o)=>{const{vnode:i,slots:l}=t;let a=!0,u=Pn;if(i.shapeFlag&32){const h=n._;h?o&&h===1?a=!1:(Yn(l,n),!o&&h===1&&delete l._):(a=!n.$stable,AA(n,l)),u=n}else n&&(NA(t,n),u={default:1});if(a)for(const h in l)!LA(h)&&u[h]==null&&delete l[h]};function bT(t,n,o,i,l=!1){if(tt(t)){t.forEach((_,b)=>bT(_,n&&(tt(n)?n[b]:n),o,i,l));return}if(sh(i)&&!l)return;const a=i.shapeFlag&4?Eg(i.component):i.el,u=l?null:a,{i:h,r:p}=t,f=n&&n.r,g=h.refs===Pn?h.refs={}:h.refs,m=h.setupState;if(f!=null&&f!==p&&(yt(f)?(g[f]=null,Yt(m,f)&&(m[f]=null)):Tn(f)&&(f.value=null)),vt(p))gl(p,h,12,[u,g]);else{const _=yt(p),b=Tn(p);if(_||b){const T=()=>{if(t.f){const $=_?Yt(m,p)?m[p]:g[p]:p.value;l?tt($)&&Py($,a):tt($)?$.includes(a)||$.push(a):_?(g[p]=[a],Yt(m,p)&&(m[p]=g[p])):(p.value=[a],t.k&&(g[t.k]=p.value))}else _?(g[p]=u,Yt(m,p)&&(m[p]=u)):b&&(p.value=u,t.k&&(g[t.k]=u))};u?(T.id=-1,ss(T,o)):T()}}}const ss=cF;function OF(t){return RF(t)}function RF(t,n){const o=WL();o.__VUE__=!0;const{insert:i,remove:l,patchProp:a,createElement:u,createText:h,createComment:p,setText:f,setElementText:g,parentNode:m,nextSibling:_,setScopeId:b=on,insertStaticContent:T}=t,$=(ae,de,Re,Be=null,Ee=null,Ne=null,He=void 0,ue=null,Ie=!!de.dynamicChildren)=>{if(ae===de)return;ae&&!_a(ae,de)&&(Be=ye(ae),le(ae,Ee,Ne,!0),ae=null),de.patchFlag===-2&&(Ie=!1,de.dynamicChildren=null);const{type:ke,ref:Ue,shapeFlag:ot}=de;switch(ke){case Pc:E(ae,de,Re,Be);break;case To:y(ae,de,Re,Be);break;case Rb:ae==null&&I(de,Re,Be,He);break;case dt:K(ae,de,Re,Be,Ee,Ne,He,ue,Ie);break;default:ot&1?R(ae,de,Re,Be,Ee,Ne,He,ue,Ie):ot&6?te(ae,de,Re,Be,Ee,Ne,He,ue,Ie):(ot&64||ot&128)&&ke.process(ae,de,Re,Be,Ee,Ne,He,ue,Ie,ve)}Ue!=null&&Ee&&bT(Ue,ae&&ae.ref,Ne,de||ae,!de)},E=(ae,de,Re,Be)=>{if(ae==null)i(de.el=h(de.children),Re,Be);else{const Ee=de.el=ae.el;de.children!==ae.children&&f(Ee,de.children)}},y=(ae,de,Re,Be)=>{ae==null?i(de.el=p(de.children||""),Re,Be):de.el=ae.el},I=(ae,de,Re,Be)=>{[ae.el,ae.anchor]=T(ae.children,de,Re,Be,ae.el,ae.anchor)},S=({el:ae,anchor:de},Re,Be)=>{let Ee;for(;ae&&ae!==de;)Ee=_(ae),i(ae,Re,Be),ae=Ee;i(de,Re,Be)},C=({el:ae,anchor:de})=>{let Re;for(;ae&&ae!==de;)Re=_(ae),l(ae),ae=Re;l(de)},R=(ae,de,Re,Be,Ee,Ne,He,ue,Ie)=>{de.type==="svg"?He="svg":de.type==="math"&&(He="mathml"),ae==null?O(de,Re,Be,Ee,Ne,He,ue,Ie):H(ae,de,Ee,Ne,He,ue,Ie)},O=(ae,de,Re,Be,Ee,Ne,He,ue)=>{let Ie,ke;const{props:Ue,shapeFlag:ot,transition:q,dirs:Qe}=ae;if(Ie=ae.el=u(ae.type,Ne,Ue&&Ue.is,Ue),ot&8?g(Ie,ae.children):ot&16&&M(ae.children,Ie,null,Be,Ee,kb(ae,Ne),He,ue),Qe&&pa(ae,null,Be,"created"),P(Ie,ae,ae.scopeId,He,Be),Ue){for(const bt in Ue)bt!=="value"&&!eh(bt)&&a(Ie,bt,null,Ue[bt],Ne,ae.children,Be,Ee,ce);"value"in Ue&&a(Ie,"value",null,Ue.value,Ne),(ke=Ue.onVnodeBeforeMount)&&Ni(ke,Be,ae)}Qe&&pa(ae,null,Be,"beforeMount");const lt=LF(Ee,q);lt&&q.beforeEnter(Ie),i(Ie,de,Re),((ke=Ue&&Ue.onVnodeMounted)||lt||Qe)&&ss(()=>{ke&&Ni(ke,Be,ae),lt&&q.enter(Ie),Qe&&pa(ae,null,Be,"mounted")},Ee)},P=(ae,de,Re,Be,Ee)=>{if(Re&&b(ae,Re),Be)for(let Ne=0;Ne<Be.length;Ne++)b(ae,Be[Ne]);if(Ee){let Ne=Ee.subTree;if(de===Ne){const He=Ee.vnode;P(ae,He,He.scopeId,He.slotScopeIds,Ee.parent)}}},M=(ae,de,Re,Be,Ee,Ne,He,ue,Ie=0)=>{for(let ke=Ie;ke<ae.length;ke++){const Ue=ae[ke]=ue?ul(ae[ke]):Mi(ae[ke]);$(null,Ue,de,Re,Be,Ee,Ne,He,ue)}},H=(ae,de,Re,Be,Ee,Ne,He)=>{const ue=de.el=ae.el;let{patchFlag:Ie,dynamicChildren:ke,dirs:Ue}=de;Ie|=ae.patchFlag&16;const ot=ae.props||Pn,q=de.props||Pn;let Qe;if(Re&&fa(Re,!1),(Qe=q.onVnodeBeforeUpdate)&&Ni(Qe,Re,de,ae),Ue&&pa(de,ae,Re,"beforeUpdate"),Re&&fa(Re,!0),ke?F(ae.dynamicChildren,ke,ue,Re,Be,kb(de,Ee),Ne):He||W(ae,de,ue,null,Re,Be,kb(de,Ee),Ne,!1),Ie>0){if(Ie&16)B(ue,de,ot,q,Re,Be,Ee);else if(Ie&2&&ot.class!==q.class&&a(ue,"class",null,q.class,Ee),Ie&4&&a(ue,"style",ot.style,q.style,Ee),Ie&8){const lt=de.dynamicProps;for(let bt=0;bt<lt.length;bt++){const Tt=lt[bt],st=ot[Tt],Le=q[Tt];(Le!==st||Tt==="value")&&a(ue,Tt,st,Le,Ee,ae.children,Re,Be,ce)}}Ie&1&&ae.children!==de.children&&g(ue,de.children)}else!He&&ke==null&&B(ue,de,ot,q,Re,Be,Ee);((Qe=q.onVnodeUpdated)||Ue)&&ss(()=>{Qe&&Ni(Qe,Re,de,ae),Ue&&pa(de,ae,Re,"updated")},Be)},F=(ae,de,Re,Be,Ee,Ne,He)=>{for(let ue=0;ue<de.length;ue++){const Ie=ae[ue],ke=de[ue],Ue=Ie.el&&(Ie.type===dt||!_a(Ie,ke)||Ie.shapeFlag&70)?m(Ie.el):Re;$(Ie,ke,Ue,null,Be,Ee,Ne,He,!0)}},B=(ae,de,Re,Be,Ee,Ne,He)=>{if(Re!==Be){if(Re!==Pn)for(const ue in Re)!eh(ue)&&!(ue in Be)&&a(ae,ue,Re[ue],null,He,de.children,Ee,Ne,ce);for(const ue in Be){if(eh(ue))continue;const Ie=Be[ue],ke=Re[ue];Ie!==ke&&ue!=="value"&&a(ae,ue,ke,Ie,He,de.children,Ee,Ne,ce)}"value"in Be&&a(ae,"value",Re.value,Be.value,He)}},K=(ae,de,Re,Be,Ee,Ne,He,ue,Ie)=>{const ke=de.el=ae?ae.el:h(""),Ue=de.anchor=ae?ae.anchor:h("");let{patchFlag:ot,dynamicChildren:q,slotScopeIds:Qe}=de;Qe&&(ue=ue?ue.concat(Qe):Qe),ae==null?(i(ke,Re,Be),i(Ue,Re,Be),M(de.children||[],Re,Ue,Ee,Ne,He,ue,Ie)):ot>0&&ot&64&&q&&ae.dynamicChildren?(F(ae.dynamicChildren,q,Re,Ee,Ne,He,ue),(de.key!=null||Ee&&de===Ee.subTree)&&Zy(ae,de,!0)):W(ae,de,Re,Ue,Ee,Ne,He,ue,Ie)},te=(ae,de,Re,Be,Ee,Ne,He,ue,Ie)=>{de.slotScopeIds=ue,ae==null?de.shapeFlag&512?Ee.ctx.activate(de,Re,Be,He,Ie):J(de,Re,Be,Ee,Ne,He,Ie):j(ae,de,Ie)},J=(ae,de,Re,Be,Ee,Ne,He)=>{const ue=ae.component=XF(ae,Be,Ee);if(Tg(ae)&&(ue.ctx.renderer=ve),YF(ue),ue.asyncDep){if(Ee&&Ee.registerDep(ue,z,He),!ae.el){const Ie=ue.subTree=ie(To);y(null,Ie,de,Re)}}else z(ue,ae,de,Re,Ee,Ne,He)},j=(ae,de,Re)=>{const Be=de.component=ae.component;if(rF(ae,de,Re))if(Be.asyncDep&&!Be.asyncResolved){G(Be,de,Re);return}else Be.next=de,eF(Be.update),Be.effect.dirty=!0,Be.update();else de.el=ae.el,Be.vnode=de},z=(ae,de,Re,Be,Ee,Ne,He)=>{const ue=()=>{if(ae.isMounted){let{next:Ue,bu:ot,u:q,parent:Qe,vnode:lt}=ae;{const Ye=MA(ae);if(Ye){Ue&&(Ue.el=lt.el,G(ae,Ue,He)),Ye.asyncDep.then(()=>{ae.isUnmounted||ue()});return}}let bt=Ue,Tt;fa(ae,!1),Ue?(Ue.el=lt.el,G(ae,Ue,He)):Ue=lt,ot&&am(ot),(Tt=Ue.props&&Ue.props.onVnodeBeforeUpdate)&&Ni(Tt,Qe,Ue,lt),fa(ae,!0);const st=Ib(ae),Le=ae.subTree;ae.subTree=st,$(Le,st,m(Le.el),ye(Le),ae,Ee,Ne),Ue.el=st.el,bt===null&&lF(ae,st.el),q&&ss(q,Ee),(Tt=Ue.props&&Ue.props.onVnodeUpdated)&&ss(()=>Ni(Tt,Qe,Ue,lt),Ee)}else{let Ue;const{el:ot,props:q}=de,{bm:Qe,m:lt,parent:bt}=ae,Tt=sh(de);if(fa(ae,!1),Qe&&am(Qe),!Tt&&(Ue=q&&q.onVnodeBeforeMount)&&Ni(Ue,bt,de),fa(ae,!0),ot&&Fe){const st=()=>{ae.subTree=Ib(ae),Fe(ot,ae.subTree,ae,Ee,null)};Tt?de.type.__asyncLoader().then(()=>!ae.isUnmounted&&st()):st()}else{const st=ae.subTree=Ib(ae);$(null,st,Re,Be,ae,Ee,Ne),de.el=st.el}if(lt&&ss(lt,Ee),!Tt&&(Ue=q&&q.onVnodeMounted)){const st=de;ss(()=>Ni(Ue,bt,st),Ee)}(de.shapeFlag&256||bt&&sh(bt.vnode)&&bt.vnode.shapeFlag&256)&&ae.a&&ss(ae.a,Ee),ae.isMounted=!0,de=Re=Be=null}},Ie=ae.effect=new By(ue,on,()=>Xy(ke),ae.scope),ke=ae.update=()=>{Ie.dirty&&Ie.run()};ke.id=ae.uid,fa(ae,!0),ke()},G=(ae,de,Re)=>{de.component=ae;const Be=ae.vnode.props;ae.vnode=de,ae.next=null,CF(ae,de.props,Be,Re),kF(ae,de.children,Re),Ol(),mk(ae),Sr()},W=(ae,de,Re,Be,Ee,Ne,He,ue,Ie=!1)=>{const ke=ae&&ae.children,Ue=ae?ae.shapeFlag:0,ot=de.children,{patchFlag:q,shapeFlag:Qe}=de;if(q>0){if(q&128){X(ke,ot,Re,Be,Ee,Ne,He,ue,Ie);return}else if(q&256){D(ke,ot,Re,Be,Ee,Ne,He,ue,Ie);return}}Qe&8?(Ue&16&&ce(ke,Ee,Ne),ot!==ke&&g(Re,ot)):Ue&16?Qe&16?X(ke,ot,Re,Be,Ee,Ne,He,ue,Ie):ce(ke,Ee,Ne,!0):(Ue&8&&g(Re,""),Qe&16&&M(ot,Re,Be,Ee,Ne,He,ue,Ie))},D=(ae,de,Re,Be,Ee,Ne,He,ue,Ie)=>{ae=ae||nc,de=de||nc;const ke=ae.length,Ue=de.length,ot=Math.min(ke,Ue);let q;for(q=0;q<ot;q++){const Qe=de[q]=Ie?ul(de[q]):Mi(de[q]);$(ae[q],Qe,Re,null,Ee,Ne,He,ue,Ie)}ke>Ue?ce(ae,Ee,Ne,!0,!1,ot):M(de,Re,Be,Ee,Ne,He,ue,Ie,ot)},X=(ae,de,Re,Be,Ee,Ne,He,ue,Ie)=>{let ke=0;const Ue=de.length;let ot=ae.length-1,q=Ue-1;for(;ke<=ot&&ke<=q;){const Qe=ae[ke],lt=de[ke]=Ie?ul(de[ke]):Mi(de[ke]);if(_a(Qe,lt))$(Qe,lt,Re,null,Ee,Ne,He,ue,Ie);else break;ke++}for(;ke<=ot&&ke<=q;){const Qe=ae[ot],lt=de[q]=Ie?ul(de[q]):Mi(de[q]);if(_a(Qe,lt))$(Qe,lt,Re,null,Ee,Ne,He,ue,Ie);else break;ot--,q--}if(ke>ot){if(ke<=q){const Qe=q+1,lt=Qe<Ue?de[Qe].el:Be;for(;ke<=q;)$(null,de[ke]=Ie?ul(de[ke]):Mi(de[ke]),Re,lt,Ee,Ne,He,ue,Ie),ke++}}else if(ke>q)for(;ke<=ot;)le(ae[ke],Ee,Ne,!0),ke++;else{const Qe=ke,lt=ke,bt=new Map;for(ke=lt;ke<=q;ke++){const pe=de[ke]=Ie?ul(de[ke]):Mi(de[ke]);pe.key!=null&&bt.set(pe.key,ke)}let Tt,st=0;const Le=q-lt+1;let Ye=!1,L=0;const x=new Array(Le);for(ke=0;ke<Le;ke++)x[ke]=0;for(ke=Qe;ke<=ot;ke++){const pe=ae[ke];if(st>=Le){le(pe,Ee,Ne,!0);continue}let re;if(pe.key!=null)re=bt.get(pe.key);else for(Tt=lt;Tt<=q;Tt++)if(x[Tt-lt]===0&&_a(pe,de[Tt])){re=Tt;break}re===void 0?le(pe,Ee,Ne,!0):(x[re-lt]=ke+1,re>=L?L=re:Ye=!0,$(pe,de[re],Re,null,Ee,Ne,He,ue,Ie),st++)}const ee=Ye?AF(x):nc;for(Tt=ee.length-1,ke=Le-1;ke>=0;ke--){const pe=lt+ke,re=de[pe],je=pe+1<Ue?de[pe+1].el:Be;x[ke]===0?$(null,re,Re,je,Ee,Ne,He,ue,Ie):Ye&&(Tt<0||ke!==ee[Tt]?oe(re,Re,je,2):Tt--)}}},oe=(ae,de,Re,Be,Ee=null)=>{const{el:Ne,type:He,transition:ue,children:Ie,shapeFlag:ke}=ae;if(ke&6){oe(ae.component.subTree,de,Re,Be);return}if(ke&128){ae.suspense.move(de,Re,Be);return}if(ke&64){He.move(ae,de,Re,ve);return}if(He===dt){i(Ne,de,Re);for(let ot=0;ot<Ie.length;ot++)oe(Ie[ot],de,Re,Be);i(ae.anchor,de,Re);return}if(He===Rb){S(ae,de,Re);return}if(Be!==2&&ke&1&&ue)if(Be===0)ue.beforeEnter(Ne),i(Ne,de,Re),ss(()=>ue.enter(Ne),Ee);else{const{leave:ot,delayLeave:q,afterLeave:Qe}=ue,lt=()=>i(Ne,de,Re),bt=()=>{ot(Ne,()=>{lt(),Qe&&Qe()})};q?q(Ne,lt,bt):bt()}else i(Ne,de,Re)},le=(ae,de,Re,Be=!1,Ee=!1)=>{const{type:Ne,props:He,ref:ue,children:Ie,dynamicChildren:ke,shapeFlag:Ue,patchFlag:ot,dirs:q,memoIndex:Qe}=ae;if(ot===-2&&(Ee=!1),ue!=null&&bT(ue,null,Re,ae,!0),Qe!=null&&(de.renderCache[Qe]=void 0),Ue&256){de.ctx.deactivate(ae);return}const lt=Ue&1&&q,bt=!sh(ae);let Tt;if(bt&&(Tt=He&&He.onVnodeBeforeUnmount)&&Ni(Tt,de,ae),Ue&6)De(ae.component,Re,Be);else{if(Ue&128){ae.suspense.unmount(Re,Be);return}lt&&pa(ae,null,de,"beforeUnmount"),Ue&64?ae.type.remove(ae,de,Re,ve,Be):ke&&(Ne!==dt||ot>0&&ot&64)?ce(ke,de,Re,!1,!0):(Ne===dt&&ot&384||!Ee&&Ue&16)&&ce(Ie,de,Re),Be&&me(ae)}(bt&&(Tt=He&&He.onVnodeUnmounted)||lt)&&ss(()=>{Tt&&Ni(Tt,de,ae),lt&&pa(ae,null,de,"unmounted")},Re)},me=ae=>{const{type:de,el:Re,anchor:Be,transition:Ee}=ae;if(de===dt){Se(Re,Be);return}if(de===Rb){C(ae);return}const Ne=()=>{l(Re),Ee&&!Ee.persisted&&Ee.afterLeave&&Ee.afterLeave()};if(ae.shapeFlag&1&&Ee&&!Ee.persisted){const{leave:He,delayLeave:ue}=Ee,Ie=()=>He(Re,Ne);ue?ue(ae.el,Ne,Ie):Ie()}else Ne()},Se=(ae,de)=>{let Re;for(;ae!==de;)Re=_(ae),l(ae),ae=Re;l(de)},De=(ae,de,Re)=>{const{bum:Be,scope:Ee,update:Ne,subTree:He,um:ue,m:Ie,a:ke}=ae;Ik(Ie),Ik(ke),Be&&am(Be),Ee.stop(),Ne&&(Ne.active=!1,le(He,ae,de,Re)),ue&&ss(ue,de),ss(()=>{ae.isUnmounted=!0},de),de&&de.pendingBranch&&!de.isUnmounted&&ae.asyncDep&&!ae.asyncResolved&&ae.suspenseId===de.pendingId&&(de.deps--,de.deps===0&&de.resolve())},ce=(ae,de,Re,Be=!1,Ee=!1,Ne=0)=>{for(let He=Ne;He<ae.length;He++)le(ae[He],de,Re,Be,Ee)},ye=ae=>ae.shapeFlag&6?ye(ae.component.subTree):ae.shapeFlag&128?ae.suspense.next():_(ae.anchor||ae.el);let _e=!1;const Ke=(ae,de,Re)=>{ae==null?de._vnode&&le(de._vnode,null,null,!0):$(de._vnode||null,ae,de,null,null,null,Re),_e||(_e=!0,mk(),gA(),_e=!1),de._vnode=ae},ve={p:$,um:le,m:oe,r:me,mt:J,mc:M,pc:W,pbc:F,n:ye,o:t};let Ae,Fe;return{render:Ke,hydrate:Ae,createApp:EF(Ke,Ae)}}function kb({type:t,props:n},o){return o==="svg"&&t==="foreignObject"||o==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:o}function fa({effect:t,update:n},o){t.allowRecurse=n.allowRecurse=o}function LF(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function Zy(t,n,o=!1){const i=t.children,l=n.children;if(tt(i)&&tt(l))for(let a=0;a<i.length;a++){const u=i[a];let h=l[a];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=l[a]=ul(l[a]),h.el=u.el),!o&&h.patchFlag!==-2&&Zy(u,h)),h.type===Pc&&(h.el=u.el)}}function AF(t){const n=t.slice(),o=[0];let i,l,a,u,h;const p=t.length;for(i=0;i<p;i++){const f=t[i];if(f!==0){if(l=o[o.length-1],t[l]<f){n[i]=l,o.push(i);continue}for(a=0,u=o.length-1;a<u;)h=a+u>>1,t[o[h]]<f?a=h+1:u=h;f<t[o[a]]&&(a>0&&(n[i]=o[a-1]),o[a]=i)}}for(a=o.length,u=o[a-1];a-- >0;)o[a]=u,u=n[u];return o}function MA(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:MA(n)}function Ik(t){if(t)for(let n=0;n<t.length;n++)t[n].active=!1}const NF=Symbol.for("v-scx"),MF=()=>it(NF);function So(t,n){return Qy(t,null,n)}const Hf={};function Me(t,n,o){return Qy(t,n,o)}function Qy(t,n,{immediate:o,deep:i,flush:l,once:a,onTrack:u,onTrigger:h}=Pn){if(n&&a){const O=n;n=(...P)=>{O(...P),R()}}const p=yo,f=O=>i===!0?O:cl(O,i===!1?1:void 0);let g,m=!1,_=!1;if(Tn(t)?(g=()=>t.value,m=Bm(t)):nh(t)?(g=()=>f(t),m=!0):tt(t)?(_=!0,m=t.some(O=>nh(O)||Bm(O)),g=()=>t.map(O=>{if(Tn(O))return O.value;if(nh(O))return f(O);if(vt(O))return gl(O,p,2)})):vt(t)?n?g=()=>gl(t,p,2):g=()=>(b&&b(),Hs(t,p,3,[T])):g=on,n&&i){const O=g;g=()=>cl(O())}let b,T=O=>{b=S.onStop=()=>{gl(O,p,4),b=S.onStop=void 0}},$;if(yg)if(T=on,n?o&&Hs(n,p,3,[g(),_?[]:void 0,T]):g(),l==="sync"){const O=MF();$=O.__watcherHandles||(O.__watcherHandles=[])}else return on;let E=_?new Array(t.length).fill(Hf):Hf;const y=()=>{if(!(!S.active||!S.dirty))if(n){const O=S.run();(i||m||(_?O.some((P,M)=>_l(P,E[M])):_l(O,E)))&&(b&&b(),Hs(n,p,3,[O,E===Hf?void 0:_&&E[0]===Hf?[]:E,T]),E=O)}else S.run()};y.allowRecurse=!!n;let I;l==="sync"?I=y:l==="post"?I=()=>ss(y,p&&p.suspense):(y.pre=!0,p&&(y.id=p.uid),I=()=>Xy(y));const S=new By(g,on,I),C=jL(),R=()=>{S.stop(),C&&Py(C.effects,S)};return n?o?y():E=S.run():l==="post"?ss(S.run.bind(S),p&&p.suspense):S.run(),$&&$.push(R),R}function DF(t,n,o){const i=this.proxy,l=yt(t)?t.includes(".")?DA(i,t):()=>i[t]:t.bind(i,i);let a;vt(n)?a=n:(a=n.handler,o=n);const u=Kh(this),h=Qy(l,a.bind(i),o);return u(),h}function DA(t,n){const o=n.split(".");return()=>{let i=t;for(let l=0;l<o.length&&i;l++)i=i[o[l]];return i}}function cl(t,n=1/0,o){if(n<=0||!Pt(t)||t.__v_skip||(o=o||new Set,o.has(t)))return t;if(o.add(t),n--,Tn(t))cl(t.value,n,o);else if(tt(t))for(let i=0;i<t.length;i++)cl(t[i],n,o);else if(pg(t)||oc(t))t.forEach(i=>{cl(i,n,o)});else if(Pm(t)){for(const i in t)cl(t[i],n,o);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&cl(t[i],n,o)}return t}const Tg=t=>t.type.__isKeepAlive;function PF(t,n){xA(t,"a",n)}function PA(t,n){xA(t,"da",n)}function xA(t,n,o=yo){const i=t.__wdc||(t.__wdc=()=>{let l=o;for(;l;){if(l.isDeactivated)return;l=l.parent}return t()});if(_g(n,i,o),o){let l=o.parent;for(;l&&l.parent;)Tg(l.parent.vnode)&&xF(i,n,o,l),l=l.parent}}function xF(t,n,o,i){const l=_g(n,t,i,!0);Rl(()=>{Py(i[n],l)},o)}const al=Symbol("_leaveCb"),Vf=Symbol("_enterCb");function BA(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Rt(()=>{t.isMounted=!0}),mn(()=>{t.isUnmounting=!0}),t}const Ns=[Function,Array],FA={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ns,onEnter:Ns,onAfterEnter:Ns,onEnterCancelled:Ns,onBeforeLeave:Ns,onLeave:Ns,onAfterLeave:Ns,onLeaveCancelled:Ns,onBeforeAppear:Ns,onAppear:Ns,onAfterAppear:Ns,onAppearCancelled:Ns},HA=t=>{const n=t.subTree;return n.component?HA(n.component):n},BF={name:"BaseTransition",props:FA,setup(t,{slots:n}){const o=Nt(),i=BA();return()=>{const l=n.default&&eE(n.default(),!0);if(!l||!l.length)return;let a=l[0];if(l.length>1){for(const _ of l)if(_.type!==To){a=_;break}}const u=rn(t),{mode:h}=u;if(i.isLeaving)return Ob(a);const p=wk(a);if(!p)return Ob(a);let f=yh(p,u,i,o,_=>f=_);pc(p,f);const g=o.subTree,m=g&&wk(g);if(m&&m.type!==To&&!_a(p,m)&&HA(o).type!==To){const _=yh(m,u,i,o);if(pc(m,_),h==="out-in"&&p.type!==To)return i.isLeaving=!0,_.afterLeave=()=>{i.isLeaving=!1,o.update.active!==!1&&(o.effect.dirty=!0,o.update())},Ob(a);h==="in-out"&&p.type!==To&&(_.delayLeave=(b,T,$)=>{const E=VA(i,m);E[String(m.key)]=m,b[al]=()=>{T(),b[al]=void 0,delete f.delayedLeave},f.delayedLeave=$})}return a}}},FF=BF;function VA(t,n){const{leavingVNodes:o}=t;let i=o.get(n.type);return i||(i=Object.create(null),o.set(n.type,i)),i}function yh(t,n,o,i,l){const{appear:a,mode:u,persisted:h=!1,onBeforeEnter:p,onEnter:f,onAfterEnter:g,onEnterCancelled:m,onBeforeLeave:_,onLeave:b,onAfterLeave:T,onLeaveCancelled:$,onBeforeAppear:E,onAppear:y,onAfterAppear:I,onAppearCancelled:S}=n,C=String(t.key),R=VA(o,t),O=(H,F)=>{H&&Hs(H,i,9,F)},P=(H,F)=>{const B=F[1];O(H,F),tt(H)?H.every(K=>K.length<=1)&&B():H.length<=1&&B()},M={mode:u,persisted:h,beforeEnter(H){let F=p;if(!o.isMounted)if(a)F=E||p;else return;H[al]&&H[al](!0);const B=R[C];B&&_a(t,B)&&B.el[al]&&B.el[al](),O(F,[H])},enter(H){let F=f,B=g,K=m;if(!o.isMounted)if(a)F=y||f,B=I||g,K=S||m;else return;let te=!1;const J=H[Vf]=j=>{te||(te=!0,j?O(K,[H]):O(B,[H]),M.delayedLeave&&M.delayedLeave(),H[Vf]=void 0)};F?P(F,[H,J]):J()},leave(H,F){const B=String(t.key);if(H[Vf]&&H[Vf](!0),o.isUnmounting)return F();O(_,[H]);let K=!1;const te=H[al]=J=>{K||(K=!0,F(),J?O($,[H]):O(T,[H]),H[al]=void 0,R[B]===t&&delete R[B])};R[B]=t,b?P(b,[H,te]):te()},clone(H){const F=yh(H,n,o,i,l);return l&&l(F),F}};return M}function Ob(t){if(Tg(t))return t=Ir(t),t.children=null,t}function wk(t){if(!Tg(t))return t;const{shapeFlag:n,children:o}=t;if(o){if(n&16)return o[0];if(n&32&&vt(o.default))return o.default()}}function pc(t,n){t.shapeFlag&6&&t.component?pc(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function eE(t,n=!1,o){let i=[],l=0;for(let a=0;a<t.length;a++){let u=t[a];const h=o==null?u.key:String(o)+String(u.key!=null?u.key:a);u.type===dt?(u.patchFlag&128&&l++,i=i.concat(eE(u.children,n,h))):(n||u.type!==To)&&i.push(h!=null?Ir(u,{key:h}):u)}if(l>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}const HF=t=>t.__isTeleport,lh=t=>t&&(t.disabled||t.disabled===""),kk=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ok=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,TT=(t,n)=>{const o=t&&t.to;return yt(o)?n?n(o):null:o},VF={name:"Teleport",__isTeleport:!0,process(t,n,o,i,l,a,u,h,p,f){const{mc:g,pc:m,pbc:_,o:{insert:b,querySelector:T,createText:$,createComment:E}}=f,y=lh(n.props);let{shapeFlag:I,children:S,dynamicChildren:C}=n;if(t==null){const R=n.el=$(""),O=n.anchor=$("");b(R,o,i),b(O,o,i);const P=n.target=TT(n.props,T),M=n.targetAnchor=$("");P&&(b(M,P),u==="svg"||kk(P)?u="svg":(u==="mathml"||Ok(P))&&(u="mathml"));const H=(F,B)=>{I&16&&g(S,F,B,l,a,u,h,p)};y?H(o,O):P&&H(P,M)}else{n.el=t.el;const R=n.anchor=t.anchor,O=n.target=t.target,P=n.targetAnchor=t.targetAnchor,M=lh(t.props),H=M?o:O,F=M?R:P;if(u==="svg"||kk(O)?u="svg":(u==="mathml"||Ok(O))&&(u="mathml"),C?(_(t.dynamicChildren,C,H,l,a,u,h),Zy(t,n,!0)):p||m(t,n,H,F,l,a,u,h,!1),y)M?n.props&&t.props&&n.props.to!==t.props.to&&(n.props.to=t.props.to):Uf(n,o,R,f,1);else if((n.props&&n.props.to)!==(t.props&&t.props.to)){const B=n.target=TT(n.props,T);B&&Uf(n,B,null,f,0)}else M&&Uf(n,O,P,f,1)}UA(n)},remove(t,n,o,{um:i,o:{remove:l}},a){const{shapeFlag:u,children:h,anchor:p,targetAnchor:f,target:g,props:m}=t;if(g&&l(f),a&&l(p),u&16){const _=a||!lh(m);for(let b=0;b<h.length;b++){const T=h[b];i(T,n,o,_,!!T.dynamicChildren)}}},move:Uf,hydrate:UF};function Uf(t,n,o,{o:{insert:i},m:l},a=2){a===0&&i(t.targetAnchor,n,o);const{el:u,anchor:h,shapeFlag:p,children:f,props:g}=t,m=a===2;if(m&&i(u,n,o),(!m||lh(g))&&p&16)for(let _=0;_<f.length;_++)l(f[_],n,o,2);m&&i(h,n,o)}function UF(t,n,o,i,l,a,{o:{nextSibling:u,parentNode:h,querySelector:p}},f){const g=n.target=TT(n.props,p);if(g){const m=g._lpa||g.firstChild;if(n.shapeFlag&16)if(lh(n.props))n.anchor=f(u(t),n,h(t),o,i,l,a),n.targetAnchor=m;else{n.anchor=u(t);let _=m;for(;_;)if(_=u(_),_&&_.nodeType===8&&_.data==="teleport anchor"){n.targetAnchor=_,g._lpa=n.targetAnchor&&u(n.targetAnchor);break}f(m,n,g,o,i,l,a)}UA(n)}return n.anchor&&u(n.anchor)}const Dc=VF;function UA(t){const n=t.ctx;if(n&&n.ut){let o=t.children[0].el;for(;o&&o!==t.targetAnchor;)o.nodeType===1&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}const dt=Symbol.for("v-fgt"),Pc=Symbol.for("v-txt"),To=Symbol.for("v-cmt"),Rb=Symbol.for("v-stc"),ah=[];let ui=null;function A(t=!1){ah.push(ui=t?null:[])}function GF(){ah.pop(),ui=ah[ah.length-1]||null}let Eh=1;function Rk(t){Eh+=t}function GA(t){return t.dynamicChildren=Eh>0?ui||nc:null,GF(),Eh>0&&ui&&ui.push(t),t}function Y(t,n,o,i,l,a){return GA(Q(t,n,o,i,l,a,!0))}function be(t,n,o,i,l){return GA(ie(t,n,o,i,l,!0))}function Cn(t){return t?t.__v_isVNode===!0:!1}function _a(t,n){return t.type===n.type&&t.key===n.key}const WA=({key:t})=>t??null,um=({ref:t,ref_key:n,ref_for:o})=>(typeof t=="number"&&(t=""+t),t!=null?yt(t)||Tn(t)||vt(t)?{i:fo,r:t,k:n,f:!!o}:t:null);function Q(t,n=null,o=null,i=0,l=null,a=t===dt?0:1,u=!1,h=!1){const p={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&WA(n),ref:n&&um(n),scopeId:_A,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:fo};return h?(tE(p,o),a&128&&t.normalize(p)):o&&(p.shapeFlag|=yt(o)?8:16),Eh>0&&!u&&ui&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&ui.push(p),p}const ie=WF;function WF(t,n=null,o=null,i=0,l=null,a=!1){if((!t||t===bA)&&(t=To),Cn(t)){const h=Ir(t,n,!0);return o&&tE(h,o),Eh>0&&!a&&ui&&(h.shapeFlag&6?ui[ui.indexOf(t)]=h:ui.push(h)),h.patchFlag=-2,h}if(ZF(t)&&(t=t.__vccOpts),n){n=fc(n);let{class:h,style:p}=n;h&&!yt(h)&&(n.class=N(h)),Pt(p)&&(uA(p)&&!tt(p)&&(p=Yn({},p)),n.style=ct(p))}const u=yt(t)?1:uF(t)?128:HF(t)?64:Pt(t)?4:vt(t)?2:0;return Q(t,n,o,i,l,u,a,!0)}function fc(t){return t?uA(t)||kA(t)?Yn({},t):t:null}function Ir(t,n,o=!1,i=!1){const{props:l,ref:a,patchFlag:u,children:h,transition:p}=t,f=n?Vt(l||{},n):l,g={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&WA(f),ref:n&&n.ref?o&&a?tt(a)?a.concat(um(n)):[a,um(n)]:um(n):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:h,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==dt?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:p,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ir(t.ssContent),ssFallback:t.ssFallback&&Ir(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return p&&i&&pc(g,p.clone(g)),g}function zt(t=" ",n=0){return ie(Pc,null,t,n)}function $e(t="",n=!1){return n?(A(),be(To,null,t)):ie(To,null,t)}function Mi(t){return t==null||typeof t=="boolean"?ie(To):tt(t)?ie(dt,null,t.slice()):typeof t=="object"?ul(t):ie(Pc,null,String(t))}function ul(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ir(t)}function tE(t,n){let o=0;const{shapeFlag:i}=t;if(n==null)n=null;else if(tt(n))o=16;else if(typeof n=="object")if(i&65){const l=n.default;l&&(l._c&&(l._d=!1),tE(t,l()),l._c&&(l._d=!0));return}else{o=32;const l=n._;!l&&!kA(n)?n._ctx=fo:l===3&&fo&&(fo.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else vt(n)?(n={default:n,_ctx:fo},o=32):(n=String(n),i&64?(o=16,n=[zt(n)]):o=8);t.children=n,t.shapeFlag|=o}function Vt(...t){const n={};for(let o=0;o<t.length;o++){const i=t[o];for(const l in i)if(l==="class")n.class!==i.class&&(n.class=N([n.class,i.class]));else if(l==="style")n.style=ct([n.style,i.style]);else if(hg(l)){const a=n[l],u=i[l];u&&a!==u&&!(tt(a)&&a.includes(u))&&(n[l]=a?[].concat(a,u):u)}else l!==""&&(n[l]=i[l])}return n}function Ni(t,n,o,i=null){Hs(t,n,7,[o,i])}const zF=CA();let KF=0;function XF(t,n,o){const i=t.type,l=(n?n.appContext:t.appContext)||zF,a={uid:KF++,vnode:t,type:i,parent:n,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new YL(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:RA(i,l),emitsOptions:vA(i,l),emit:null,emitted:null,propsDefaults:Pn,inheritAttrs:i.inheritAttrs,ctx:Pn,data:Pn,props:Pn,attrs:Pn,slots:Pn,refs:Pn,setupState:Pn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=n?n.root:a,a.emit=oF.bind(null,a),t.ce&&t.ce(a),a}let yo=null;const Nt=()=>yo||fo;let Vm,yT;{const t=WL(),n=(o,i)=>{let l;return(l=t[o])||(l=t[o]=[]),l.push(i),a=>{l.length>1?l.forEach(u=>u(a)):l[0](a)}};Vm=n("__VUE_INSTANCE_SETTERS__",o=>yo=o),yT=n("__VUE_SSR_SETTERS__",o=>yg=o)}const Kh=t=>{const n=yo;return Vm(t),t.scope.on(),()=>{t.scope.off(),Vm(n)}},Lk=()=>{yo&&yo.scope.off(),Vm(null)};function zA(t){return t.vnode.shapeFlag&4}let yg=!1;function YF(t,n=!1){n&&yT(n);const{props:o,children:i}=t.vnode,l=zA(t);SF(t,o,l,n),wF(t,i);const a=l?jF(t,n):void 0;return n&&yT(!1),a}function jF(t,n){const o=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,gF);const{setup:i}=o;if(i){const l=t.setupContext=i.length>1?XA(t):null,a=Kh(t);Ol();const u=gl(i,t,0,[t.props,l]);if(Sr(),a(),$h(u)){if(u.then(Lk,Lk),n)return u.then(h=>{Ak(t,h,n)}).catch(h=>{gg(h,t,0)});t.asyncDep=u}else Ak(t,u,n)}else KA(t,n)}function Ak(t,n,o){vt(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Pt(n)&&(t.setupState=hA(n)),KA(t,o)}let Nk;function KA(t,n,o){const i=t.type;if(!t.render){if(!n&&Nk&&!i.render){const l=i.template||qy(t).template;if(l){const{isCustomElement:a,compilerOptions:u}=t.appContext.config,{delimiters:h,compilerOptions:p}=i,f=Yn(Yn({isCustomElement:a,delimiters:h},u),p);i.render=Nk(l,f)}}t.render=i.render||on}{const l=Kh(t);Ol();try{$F(t)}finally{Sr(),l()}}}const qF={get(t,n){return as(t,"get",""),t[n]}};function XA(t){const n=o=>{t.exposed=o||{}};return{attrs:new Proxy(t.attrs,qF),slots:t.slots,emit:t.emit,expose:n}}function Eg(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(hA(sc(t.exposed)),{get(n,o){if(o in n)return n[o];if(o in ih)return ih[o](t)},has(n,o){return o in n||o in ih}})):t.proxy}function JF(t,n=!0){return vt(t)?t.displayName||t.name:t.name||n&&t.__name}function ZF(t){return vt(t)&&"__vccOpts"in t}const w=(t,n)=>zB(t,n,yg);function ft(t,n,o){const i=arguments.length;return i===2?Pt(n)&&!tt(n)?Cn(n)?ie(t,null,[n]):ie(t,n):ie(t,null,n):(i>3?o=Array.prototype.slice.call(arguments,2):i===3&&Cn(o)&&(o=[o]),ie(t,n,o))}const QF="3.4.30",e2=on;/**
* @vue/runtime-dom v3.4.30
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const t2="http://www.w3.org/2000/svg",n2="http://www.w3.org/1998/Math/MathML",vr=typeof document<"u"?document:null,Mk=vr&&vr.createElement("template"),o2={insert:(t,n,o)=>{n.insertBefore(t,o||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,o,i)=>{const l=n==="svg"?vr.createElementNS(t2,t):n==="mathml"?vr.createElementNS(n2,t):o?vr.createElement(t,{is:o}):vr.createElement(t);return t==="select"&&i&&i.multiple!=null&&l.setAttribute("multiple",i.multiple),l},createText:t=>vr.createTextNode(t),createComment:t=>vr.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vr.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,o,i,l,a){const u=o?o.previousSibling:n.lastChild;if(l&&(l===a||l.nextSibling))for(;n.insertBefore(l.cloneNode(!0),o),!(l===a||!(l=l.nextSibling)););else{Mk.innerHTML=i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t;const h=Mk.content;if(i==="svg"||i==="mathml"){const p=h.firstChild;for(;p.firstChild;)h.appendChild(p.firstChild);h.removeChild(p)}n.insertBefore(h,o)}return[u?u.nextSibling:n.firstChild,o?o.previousSibling:n.lastChild]}},tl="transition",Ud="animation",mc=Symbol("_vtc"),jn=(t,{slots:n})=>ft(FF,jA(t),n);jn.displayName="Transition";const YA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},s2=jn.props=Yn({},FA,YA),ma=(t,n=[])=>{tt(t)?t.forEach(o=>o(...n)):t&&t(...n)},Dk=t=>t?tt(t)?t.some(n=>n.length>1):t.length>1:!1;function jA(t){const n={};for(const K in t)K in YA||(n[K]=t[K]);if(t.css===!1)return n;const{name:o="v",type:i,duration:l,enterFromClass:a=`${o}-enter-from`,enterActiveClass:u=`${o}-enter-active`,enterToClass:h=`${o}-enter-to`,appearFromClass:p=a,appearActiveClass:f=u,appearToClass:g=h,leaveFromClass:m=`${o}-leave-from`,leaveActiveClass:_=`${o}-leave-active`,leaveToClass:b=`${o}-leave-to`}=t,T=i2(l),$=T&&T[0],E=T&&T[1],{onBeforeEnter:y,onEnter:I,onEnterCancelled:S,onLeave:C,onLeaveCancelled:R,onBeforeAppear:O=y,onAppear:P=I,onAppearCancelled:M=S}=n,H=(K,te,J)=>{ol(K,te?g:h),ol(K,te?f:u),J&&J()},F=(K,te)=>{K._isLeaving=!1,ol(K,m),ol(K,b),ol(K,_),te&&te()},B=K=>(te,J)=>{const j=K?P:I,z=()=>H(te,K,J);ma(j,[te,z]),Pk(()=>{ol(te,K?p:a),$r(te,K?g:h),Dk(j)||xk(te,i,$,z)})};return Yn(n,{onBeforeEnter(K){ma(y,[K]),$r(K,a),$r(K,u)},onBeforeAppear(K){ma(O,[K]),$r(K,p),$r(K,f)},onEnter:B(!1),onAppear:B(!0),onLeave(K,te){K._isLeaving=!0;const J=()=>F(K,te);$r(K,m),$r(K,_),JA(),Pk(()=>{K._isLeaving&&(ol(K,m),$r(K,b),Dk(C)||xk(K,i,E,J))}),ma(C,[K,J])},onEnterCancelled(K){H(K,!1),ma(S,[K])},onAppearCancelled(K){H(K,!0),ma(M,[K])},onLeaveCancelled(K){F(K),ma(R,[K])}})}function i2(t){if(t==null)return null;if(Pt(t))return[Lb(t.enter),Lb(t.leave)];{const n=Lb(t);return[n,n]}}function Lb(t){return mB(t)}function $r(t,n){n.split(/\s+/).forEach(o=>o&&t.classList.add(o)),(t[mc]||(t[mc]=new Set)).add(n)}function ol(t,n){n.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const o=t[mc];o&&(o.delete(n),o.size||(t[mc]=void 0))}function Pk(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let r2=0;function xk(t,n,o,i){const l=t._endId=++r2,a=()=>{l===t._endId&&i()};if(o)return setTimeout(a,o);const{type:u,timeout:h,propCount:p}=qA(t,n);if(!u)return i();const f=u+"end";let g=0;const m=()=>{t.removeEventListener(f,_),a()},_=b=>{b.target===t&&++g>=p&&m()};setTimeout(()=>{g<p&&m()},h+1),t.addEventListener(f,_)}function qA(t,n){const o=window.getComputedStyle(t),i=T=>(o[T]||"").split(", "),l=i(`${tl}Delay`),a=i(`${tl}Duration`),u=Bk(l,a),h=i(`${Ud}Delay`),p=i(`${Ud}Duration`),f=Bk(h,p);let g=null,m=0,_=0;n===tl?u>0&&(g=tl,m=u,_=a.length):n===Ud?f>0&&(g=Ud,m=f,_=p.length):(m=Math.max(u,f),g=m>0?u>f?tl:Ud:null,_=g?g===tl?a.length:p.length:0);const b=g===tl&&/\b(transform|all)(,|$)/.test(i(`${tl}Property`).toString());return{type:g,timeout:m,propCount:_,hasTransform:b}}function Bk(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((o,i)=>Fk(o)+Fk(t[i])))}function Fk(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function JA(){return document.body.offsetHeight}function l2(t,n,o){const i=t[mc];i&&(n=(n?[n,...i]:[...i]).join(" ")),n==null?t.removeAttribute("class"):o?t.setAttribute("class",n):t.className=n}const Um=Symbol("_vod"),ZA=Symbol("_vsh"),qt={beforeMount(t,{value:n},{transition:o}){t[Um]=t.style.display==="none"?"":t.style.display,o&&n?o.beforeEnter(t):Gd(t,n)},mounted(t,{value:n},{transition:o}){o&&n&&o.enter(t)},updated(t,{value:n,oldValue:o},{transition:i}){!n!=!o&&(i?n?(i.beforeEnter(t),Gd(t,!0),i.enter(t)):i.leave(t,()=>{Gd(t,!1)}):Gd(t,n))},beforeUnmount(t,{value:n}){Gd(t,n)}};function Gd(t,n){t.style.display=n?t[Um]:"none",t[ZA]=!n}const a2=Symbol(""),u2=/(^|;)\s*display\s*:/;function c2(t,n,o){const i=t.style,l=yt(o);let a=!1;if(o&&!l){if(n)if(yt(n))for(const u of n.split(";")){const h=u.slice(0,u.indexOf(":")).trim();o[h]==null&&cm(i,h,"")}else for(const u in n)o[u]==null&&cm(i,u,"");for(const u in o)u==="display"&&(a=!0),cm(i,u,o[u])}else if(l){if(n!==o){const u=i[a2];u&&(o+=";"+u),i.cssText=o,a=u2.test(o)}}else n&&t.removeAttribute("style");Um in t&&(t[Um]=a?i.display:"",t[ZA]&&(i.display="none"))}const Hk=/\s*!important$/;function cm(t,n,o){if(tt(o))o.forEach(i=>cm(t,n,i));else if(o==null&&(o=""),n.startsWith("--"))t.setProperty(n,o);else{const i=d2(t,n);Hk.test(o)?t.setProperty(kl(i),o.replace(Hk,""),"important"):t[i]=o}}const Vk=["Webkit","Moz","ms"],Ab={};function d2(t,n){const o=Ab[n];if(o)return o;let i=Gs(n);if(i!=="filter"&&i in t)return Ab[n]=i;i=zh(i);for(let l=0;l<Vk.length;l++){const a=Vk[l]+i;if(a in t)return Ab[n]=a}return n}const Uk="http://www.w3.org/1999/xlink";function Gk(t,n,o,i,l,a=TB(n)){i&&n.startsWith("xlink:")?o==null?t.removeAttributeNS(Uk,n.slice(6,n.length)):t.setAttributeNS(Uk,n,o):o==null||a&&!zL(o)?t.removeAttribute(n):t.setAttribute(n,a?"":Hi(o)?String(o):o)}function h2(t,n,o,i,l,a,u){if(n==="innerHTML"||n==="textContent"){i&&u(i,l,a),t[n]=o??"";return}const h=t.tagName;if(n==="value"&&h!=="PROGRESS"&&!h.includes("-")){const f=h==="OPTION"?t.getAttribute("value")||"":t.value,g=o==null?"":String(o);(f!==g||!("_value"in t))&&(t.value=g),o==null&&t.removeAttribute(n),t._value=o;return}let p=!1;if(o===""||o==null){const f=typeof t[n];f==="boolean"?o=zL(o):o==null&&f==="string"?(o="",p=!0):f==="number"&&(o=0,p=!0)}try{t[n]=o}catch{}p&&t.removeAttribute(n)}function dl(t,n,o,i){t.addEventListener(n,o,i)}function p2(t,n,o,i){t.removeEventListener(n,o,i)}const Wk=Symbol("_vei");function f2(t,n,o,i,l=null){const a=t[Wk]||(t[Wk]={}),u=a[n];if(i&&u)u.value=i;else{const[h,p]=m2(n);if(i){const f=a[n]=v2(i,l);dl(t,h,f,p)}else u&&(p2(t,h,u,p),a[n]=void 0)}}const zk=/(?:Once|Passive|Capture)$/;function m2(t){let n;if(zk.test(t)){n={};let i;for(;i=t.match(zk);)t=t.slice(0,t.length-i[0].length),n[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):kl(t.slice(2)),n]}let Nb=0;const g2=Promise.resolve(),$2=()=>Nb||(g2.then(()=>Nb=0),Nb=Date.now());function v2(t,n){const o=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=o.attached)return;Hs(_2(i,o.value),n,5,[i])};return o.value=t,o.attached=$2(),o}function _2(t,n){if(tt(n)){const o=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{o.call(t),t._stopped=!0},n.map(i=>l=>!l._stopped&&i&&i(l))}else return n}const Kk=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,b2=(t,n,o,i,l,a,u,h,p)=>{const f=l==="svg";n==="class"?l2(t,i,f):n==="style"?c2(t,o,i):hg(n)?Dy(n)||f2(t,n,o,i,u):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):T2(t,n,i,f))?(h2(t,n,i,a,u,h,p),!t.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&Gk(t,n,i,f,u,n!=="value")):(n==="true-value"?t._trueValue=i:n==="false-value"&&(t._falseValue=i),Gk(t,n,i,f))};function T2(t,n,o,i){if(i)return!!(n==="innerHTML"||n==="textContent"||n in t&&Kk(n)&&vt(o));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const l=t.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return Kk(n)&&yt(o)?!1:n in t}const QA=new WeakMap,eN=new WeakMap,Gm=Symbol("_moveCb"),Xk=Symbol("_enterCb"),tN={name:"TransitionGroup",props:Yn({},s2,{tag:String,moveClass:String}),setup(t,{slots:n}){const o=Nt(),i=BA();let l,a;return Rr(()=>{if(!l.length)return;const u=t.moveClass||`${t.name||"v"}-move`;if(!I2(l[0].el,o.vnode.el,u))return;l.forEach(E2),l.forEach(S2);const h=l.filter(C2);JA(),h.forEach(p=>{const f=p.el,g=f.style;$r(f,u),g.transform=g.webkitTransform=g.transitionDuration="";const m=f[Gm]=_=>{_&&_.target!==f||(!_||/transform$/.test(_.propertyName))&&(f.removeEventListener("transitionend",m),f[Gm]=null,ol(f,u))};f.addEventListener("transitionend",m)})}),()=>{const u=rn(t),h=jA(u);let p=u.tag||dt;if(l=[],a)for(let f=0;f<a.length;f++){const g=a[f];g.el&&g.el instanceof Element&&(l.push(g),pc(g,yh(g,h,i,o)),QA.set(g,g.el.getBoundingClientRect()))}a=n.default?eE(n.default()):[];for(let f=0;f<a.length;f++){const g=a[f];g.key!=null&&pc(g,yh(g,h,i,o))}return ie(p,null,a)}}},y2=t=>delete t.mode;tN.props;const nN=tN;function E2(t){const n=t.el;n[Gm]&&n[Gm](),n[Xk]&&n[Xk]()}function S2(t){eN.set(t,t.el.getBoundingClientRect())}function C2(t){const n=QA.get(t),o=eN.get(t),i=n.left-o.left,l=n.top-o.top;if(i||l){const a=t.el.style;return a.transform=a.webkitTransform=`translate(${i}px,${l}px)`,a.transitionDuration="0s",t}}function I2(t,n,o){const i=t.cloneNode(),l=t[mc];l&&l.forEach(h=>{h.split(/\s+/).forEach(p=>p&&i.classList.remove(p))}),o.split(/\s+/).forEach(h=>h&&i.classList.add(h)),i.style.display="none";const a=n.nodeType===1?n:n.parentNode;a.appendChild(i);const{hasTransform:u}=qA(i);return a.removeChild(i),u}const gc=t=>{const n=t.props["onUpdate:modelValue"]||!1;return tt(n)?o=>am(n,o):n};function w2(t){t.target.composing=!0}function Yk(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Er=Symbol("_assign"),nE={created(t,{modifiers:{lazy:n,trim:o,number:i}},l){t[Er]=gc(l);const a=i||l.props&&l.props.type==="number";dl(t,n?"change":"input",u=>{if(u.target.composing)return;let h=t.value;o&&(h=h.trim()),a&&(h=dT(h)),t[Er](h)}),o&&dl(t,"change",()=>{t.value=t.value.trim()}),n||(dl(t,"compositionstart",w2),dl(t,"compositionend",Yk),dl(t,"change",Yk))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,oldValue:o,modifiers:{lazy:i,trim:l,number:a}},u){if(t[Er]=gc(u),t.composing)return;const h=(a||t.type==="number")&&!/^0\d/.test(t.value)?dT(t.value):t.value,p=n??"";h!==p&&(document.activeElement===t&&t.type!=="range"&&(i&&n===o||l&&t.value.trim()===p)||(t.value=p))}},Wm={deep:!0,created(t,n,o){t[Er]=gc(o),dl(t,"change",()=>{const i=t._modelValue,l=sN(t),a=t.checked,u=t[Er];if(tt(i)){const h=KL(i,l),p=h!==-1;if(a&&!p)u(i.concat(l));else if(!a&&p){const f=[...i];f.splice(h,1),u(f)}}else if(pg(i)){const h=new Set(i);a?h.add(l):h.delete(l),u(h)}else u(iN(t,a))})},mounted:jk,beforeUpdate(t,n,o){t[Er]=gc(o),jk(t,n,o)}};function jk(t,{value:n,oldValue:o},i){t._modelValue=n,tt(n)?t.checked=KL(n,i.props.value)>-1:pg(n)?t.checked=n.has(i.props.value):n!==o&&(t.checked=hc(n,iN(t,!0)))}const oN={created(t,{value:n},o){t.checked=hc(n,o.props.value),t[Er]=gc(o),dl(t,"change",()=>{t[Er](sN(t))})},beforeUpdate(t,{value:n,oldValue:o},i){t[Er]=gc(i),n!==o&&(t.checked=hc(n,i.props.value))}};function sN(t){return"_value"in t?t._value:t.value}function iN(t,n){const o=n?"_trueValue":"_falseValue";return o in t?t[o]:n}const k2=["ctrl","shift","alt","meta"],O2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>k2.some(o=>t[`${o}Key`]&&!n.includes(o))},_t=(t,n)=>{const o=t._withMods||(t._withMods={}),i=n.join(".");return o[i]||(o[i]=(l,...a)=>{for(let u=0;u<n.length;u++){const h=O2[n[u]];if(h&&h(l,n))return}return t(l,...a)})},R2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ln=(t,n)=>{const o=t._withKeys||(t._withKeys={}),i=n.join(".");return o[i]||(o[i]=l=>{if(!("key"in l))return;const a=kl(l.key);if(n.some(u=>u===a||R2[u]===a))return t(l)})},L2=Yn({patchProp:b2},o2);let qk;function rN(){return qk||(qk=OF(L2))}const bl=(...t)=>{rN().render(...t)},lN=(...t)=>{const n=rN().createApp(...t),{mount:o}=n;return n.mount=i=>{const l=N2(i);if(!l)return;const a=n._component;!vt(a)&&!a.render&&!a.template&&(a.template=l.innerHTML),l.innerHTML="";const u=o(l,!1,A2(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),u},n};function A2(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function N2(t){return yt(t)?document.querySelector(t):t}const M2='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',D2=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,Jk=t=>Array.from(t.querySelectorAll(M2)).filter(n=>P2(n)&&D2(n)),P2=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},dm=function(t,n,...o){let i;n.includes("mouse")||n.includes("click")?i="MouseEvents":n.includes("key")?i="KeyboardEvent":i="HTMLEvents";const l=document.createEvent(i);return l.initEvent(n,...o),t.dispatchEvent(l),t},aN=t=>!t.getAttribute("aria-owns"),uN=(t,n,o)=>{const{parentNode:i}=t;if(!i)return null;const l=i.querySelectorAll(o),a=Array.prototype.indexOf.call(l,t);return l[a+n]||null},hm=t=>{t&&(t.focus(),!aN(t)&&t.click())},Nn=(t,n,{checkForDefaultPrevented:o=!0}={})=>l=>{const a=t==null?void 0:t(l);if(o===!1||!a)return n==null?void 0:n(l)},Zk=t=>n=>n.pointerType==="mouse"?t(n):void 0;var x2=Object.defineProperty,B2=Object.defineProperties,F2=Object.getOwnPropertyDescriptors,Qk=Object.getOwnPropertySymbols,H2=Object.prototype.hasOwnProperty,V2=Object.prototype.propertyIsEnumerable,eO=(t,n,o)=>n in t?x2(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,U2=(t,n)=>{for(var o in n||(n={}))H2.call(n,o)&&eO(t,o,n[o]);if(Qk)for(var o of Qk(n))V2.call(n,o)&&eO(t,o,n[o]);return t},G2=(t,n)=>B2(t,F2(n));function tO(t,n){var o;const i=bn();return So(()=>{i.value=t()},G2(U2({},n),{flush:(o=void 0)!=null?o:"sync"})),Mc(i)}var nO;const Xt=typeof window<"u",W2=t=>typeof t<"u",ET=t=>typeof t=="function",z2=t=>typeof t=="string",$c=()=>{},ST=Xt&&((nO=window==null?void 0:window.navigator)==null?void 0:nO.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Tl(t){return typeof t=="function"?t():c(t)}function cN(t,n){function o(...i){return new Promise((l,a)=>{Promise.resolve(t(()=>n.apply(this,i),{fn:n,thisArg:this,args:i})).then(l).catch(a)})}return o}function K2(t,n={}){let o,i,l=$c;const a=h=>{clearTimeout(h),l(),l=$c};return h=>{const p=Tl(t),f=Tl(n.maxWait);return o&&a(o),p<=0||f!==void 0&&f<=0?(i&&(a(i),i=null),Promise.resolve(h())):new Promise((g,m)=>{l=n.rejectOnCancel?m:g,f&&!i&&(i=setTimeout(()=>{o&&a(o),i=null,g(h())},f)),o=setTimeout(()=>{i&&a(i),i=null,g(h())},p)})}}function X2(t,n=!0,o=!0,i=!1){let l=0,a,u=!0,h=$c,p;const f=()=>{a&&(clearTimeout(a),a=void 0,h(),h=$c)};return m=>{const _=Tl(t),b=Date.now()-l,T=()=>p=m();return f(),_<=0?(l=Date.now(),T()):(b>_&&(o||!u)?(l=Date.now(),T()):n&&(p=new Promise(($,E)=>{h=i?E:$,a=setTimeout(()=>{l=Date.now(),u=!0,$(T()),f()},Math.max(0,_-b))})),!o&&!a&&(a=setTimeout(()=>u=!0,_)),u=!1,p)}}function Y2(t){return t}function j2(t,n){let o,i,l;const a=V(!0),u=()=>{a.value=!0,l()};Me(t,u,{flush:"sync"});const h=ET(n)?n:n.get,p=ET(n)?void 0:n.set,f=jB((g,m)=>(i=g,l=m,{get(){return a.value&&(o=h(),a.value=!1),i(),o},set(_){p==null||p(_)}}));return Object.isExtensible(f)&&(f.trigger=u),f}function Xh(t){return jL()?(qL(t),!0):!1}function q2(t,n=200,o={}){return cN(K2(n,o),t)}function J2(t,n=200,o={}){const i=V(t.value),l=q2(()=>{i.value=t.value},n,o);return Me(t,()=>l()),i}function dN(t,n=200,o=!1,i=!0,l=!1){return cN(X2(n,o,i,l),t)}function oE(t,n=!0){Nt()?Rt(t):n?t():pt(t)}function Da(t,n,o={}){const{immediate:i=!0}=o,l=V(!1);let a=null;function u(){a&&(clearTimeout(a),a=null)}function h(){l.value=!1,u()}function p(...f){u(),l.value=!0,a=setTimeout(()=>{l.value=!1,a=null,t(...f)},Tl(n))}return i&&(l.value=!0,Xt&&p()),Xh(h),{isPending:Mc(l),start:p,stop:h}}function is(t){var n;const o=Tl(t);return(n=o==null?void 0:o.$el)!=null?n:o}const Ll=Xt?window:void 0,Z2=Xt?window.document:void 0;function $n(...t){let n,o,i,l;if(z2(t[0])||Array.isArray(t[0])?([o,i,l]=t,n=Ll):[n,o,i,l]=t,!n)return $c;Array.isArray(o)||(o=[o]),Array.isArray(i)||(i=[i]);const a=[],u=()=>{a.forEach(g=>g()),a.length=0},h=(g,m,_,b)=>(g.addEventListener(m,_,b),()=>g.removeEventListener(m,_,b)),p=Me(()=>[is(n),Tl(l)],([g,m])=>{u(),g&&a.push(...o.flatMap(_=>i.map(b=>h(g,_,b,m))))},{immediate:!0,flush:"post"}),f=()=>{p(),u()};return Xh(f),f}let oO=!1;function sE(t,n,o={}){const{window:i=Ll,ignore:l=[],capture:a=!0,detectIframe:u=!1}=o;if(!i)return;ST&&!oO&&(oO=!0,Array.from(i.document.body.children).forEach(_=>_.addEventListener("click",$c)));let h=!0;const p=_=>l.some(b=>{if(typeof b=="string")return Array.from(i.document.querySelectorAll(b)).some(T=>T===_.target||_.composedPath().includes(T));{const T=is(b);return T&&(_.target===T||_.composedPath().includes(T))}}),g=[$n(i,"click",_=>{const b=is(t);if(!(!b||b===_.target||_.composedPath().includes(b))){if(_.detail===0&&(h=!p(_)),!h){h=!0;return}n(_)}},{passive:!0,capture:a}),$n(i,"pointerdown",_=>{const b=is(t);b&&(h=!_.composedPath().includes(b)&&!p(_))},{passive:!0}),u&&$n(i,"blur",_=>{var b;const T=is(t);((b=i.document.activeElement)==null?void 0:b.tagName)==="IFRAME"&&!(T!=null&&T.contains(i.document.activeElement))&&n(_)})].filter(Boolean);return()=>g.forEach(_=>_())}function Q2(t={}){var n;const{window:o=Ll}=t,i=(n=t.document)!=null?n:o==null?void 0:o.document,l=j2(()=>null,()=>i==null?void 0:i.activeElement);return o&&($n(o,"blur",a=>{a.relatedTarget===null&&l.trigger()},!0),$n(o,"focus",l.trigger,!0)),l}function hN(t,n=!1){const o=V(),i=()=>o.value=!!t();return i(),oE(i,n),o}function eH(t){return JSON.parse(JSON.stringify(t))}const sO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iO="__vueuse_ssr_handlers__";sO[iO]=sO[iO]||{};function tH(t,n,{window:o=Ll,initialValue:i=""}={}){const l=V(i),a=w(()=>{var u;return is(n)||((u=o==null?void 0:o.document)==null?void 0:u.documentElement)});return Me([a,()=>Tl(t)],([u,h])=>{var p;if(u&&o){const f=(p=o.getComputedStyle(u).getPropertyValue(h))==null?void 0:p.trim();l.value=f||i}},{immediate:!0}),Me(l,u=>{var h;(h=a.value)!=null&&h.style&&a.value.style.setProperty(Tl(t),u)}),l}function nH({document:t=Z2}={}){if(!t)return V("visible");const n=V(t.visibilityState);return $n(t,"visibilitychange",()=>{n.value=t.visibilityState}),n}var rO=Object.getOwnPropertySymbols,oH=Object.prototype.hasOwnProperty,sH=Object.prototype.propertyIsEnumerable,iH=(t,n)=>{var o={};for(var i in t)oH.call(t,i)&&n.indexOf(i)<0&&(o[i]=t[i]);if(t!=null&&rO)for(var i of rO(t))n.indexOf(i)<0&&sH.call(t,i)&&(o[i]=t[i]);return o};function wn(t,n,o={}){const i=o,{window:l=Ll}=i,a=iH(i,["window"]);let u;const h=hN(()=>l&&"ResizeObserver"in l),p=()=>{u&&(u.disconnect(),u=void 0)},f=Me(()=>is(t),m=>{p(),h.value&&l&&m&&(u=new ResizeObserver(n),u.observe(m,a))},{immediate:!0,flush:"post"}),g=()=>{p(),f()};return Xh(g),{isSupported:h,stop:g}}function lO(t,n={}){const{reset:o=!0,windowResize:i=!0,windowScroll:l=!0,immediate:a=!0}=n,u=V(0),h=V(0),p=V(0),f=V(0),g=V(0),m=V(0),_=V(0),b=V(0);function T(){const $=is(t);if(!$){o&&(u.value=0,h.value=0,p.value=0,f.value=0,g.value=0,m.value=0,_.value=0,b.value=0);return}const E=$.getBoundingClientRect();u.value=E.height,h.value=E.bottom,p.value=E.left,f.value=E.right,g.value=E.top,m.value=E.width,_.value=E.x,b.value=E.y}return wn(t,T),Me(()=>is(t),$=>!$&&T()),l&&$n("scroll",T,{capture:!0,passive:!0}),i&&$n("resize",T,{passive:!0}),oE(()=>{a&&T()}),{height:u,bottom:h,left:p,right:f,top:g,width:m,x:_,y:b,update:T}}var aO=Object.getOwnPropertySymbols,rH=Object.prototype.hasOwnProperty,lH=Object.prototype.propertyIsEnumerable,aH=(t,n)=>{var o={};for(var i in t)rH.call(t,i)&&n.indexOf(i)<0&&(o[i]=t[i]);if(t!=null&&aO)for(var i of aO(t))n.indexOf(i)<0&&lH.call(t,i)&&(o[i]=t[i]);return o};function pN(t,n,o={}){const i=o,{window:l=Ll}=i,a=aH(i,["window"]);let u;const h=hN(()=>l&&"MutationObserver"in l),p=()=>{u&&(u.disconnect(),u=void 0)},f=Me(()=>is(t),m=>{p(),h.value&&l&&m&&(u=new MutationObserver(n),u.observe(m,a))},{immediate:!0}),g=()=>{p(),f()};return Xh(g),{isSupported:h,stop:g}}var uO;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(uO||(uO={}));var uH=Object.defineProperty,cO=Object.getOwnPropertySymbols,cH=Object.prototype.hasOwnProperty,dH=Object.prototype.propertyIsEnumerable,dO=(t,n,o)=>n in t?uH(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,hH=(t,n)=>{for(var o in n||(n={}))cH.call(n,o)&&dO(t,o,n[o]);if(cO)for(var o of cO(n))dH.call(n,o)&&dO(t,o,n[o]);return t};const pH={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};hH({linear:Y2},pH);function fN(t,n,o,i={}){var l,a,u;const{clone:h=!1,passive:p=!1,eventName:f,deep:g=!1,defaultValue:m}=i,_=Nt(),b=o||(_==null?void 0:_.emit)||((l=_==null?void 0:_.$emit)==null?void 0:l.bind(_))||((u=(a=_==null?void 0:_.proxy)==null?void 0:a.$emit)==null?void 0:u.bind(_==null?void 0:_.proxy));let T=f;n||(n="modelValue"),T=f||T||`update:${n.toString()}`;const $=y=>h?ET(h)?h(y):eH(y):y,E=()=>W2(t[n])?$(t[n]):m;if(p){const y=E(),I=V(y);return Me(()=>t[n],S=>I.value=$(S)),Me(I,S=>{(S!==t[n]||g)&&b(T,S)},{deep:g}),I}else return w({get(){return E()},set(y){b(T,y)}})}function fH({window:t=Ll}={}){if(!t)return V(!1);const n=V(t.document.hasFocus());return $n(t,"blur",()=>{n.value=!1}),$n(t,"focus",()=>{n.value=!0}),n}function mH(t={}){const{window:n=Ll,initialWidth:o=1/0,initialHeight:i=1/0,listenOrientation:l=!0,includeScrollbar:a=!0}=t,u=V(o),h=V(i),p=()=>{n&&(a?(u.value=n.innerWidth,h.value=n.innerHeight):(u.value=n.document.documentElement.clientWidth,h.value=n.document.documentElement.clientHeight))};return p(),oE(p),$n("resize",p,{passive:!0}),l&&$n("orientationchange",p,{passive:!0}),{width:u,height:h}}const mN=()=>Xt&&/firefox/i.test(window.navigator.userAgent),gH=(t,n)=>{if(!Xt||!t||!n)return!1;const o=t.getBoundingClientRect();let i;return n instanceof Element?i=n.getBoundingClientRect():i={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},o.top<i.bottom&&o.bottom>i.top&&o.right>i.left&&o.left<i.right},hO=t=>{let n=0,o=t;for(;o;)n+=o.offsetTop,o=o.offsetParent;return n},CT=(t,n)=>Math.abs(hO(t)-hO(n)),iE=t=>{let n,o;return t.type==="touchend"?(o=t.changedTouches[0].clientY,n=t.changedTouches[0].clientX):t.type.startsWith("touch")?(o=t.touches[0].clientY,n=t.touches[0].clientX):(o=t.clientY,n=t.clientX),{clientX:n,clientY:o}};function $H(t,n,o,i){const l=o-n;return t/=i/2,t<1?l/2*t*t*t+n:l/2*((t-=2)*t*t+2)+n}var gN=typeof global=="object"&&global&&global.Object===Object&&global,vH=typeof self=="object"&&self&&self.Object===Object&&self,fi=gN||vH||Function("return this")(),Ws=fi.Symbol,$N=Object.prototype,_H=$N.hasOwnProperty,bH=$N.toString,Wd=Ws?Ws.toStringTag:void 0;function TH(t){var n=_H.call(t,Wd),o=t[Wd];try{t[Wd]=void 0;var i=!0}catch{}var l=bH.call(t);return i&&(n?t[Wd]=o:delete t[Wd]),l}var yH=Object.prototype,EH=yH.toString;function SH(t){return EH.call(t)}var CH="[object Null]",IH="[object Undefined]",pO=Ws?Ws.toStringTag:void 0;function Wa(t){return t==null?t===void 0?IH:CH:pO&&pO in Object(t)?TH(t):SH(t)}function Vi(t){return t!=null&&typeof t=="object"}var wH="[object Symbol]";function Sg(t){return typeof t=="symbol"||Vi(t)&&Wa(t)==wH}function rE(t,n){for(var o=-1,i=t==null?0:t.length,l=Array(i);++o<i;)l[o]=n(t[o],o,t);return l}var Jo=Array.isArray,kH=1/0,fO=Ws?Ws.prototype:void 0,mO=fO?fO.toString:void 0;function vN(t){if(typeof t=="string")return t;if(Jo(t))return rE(t,vN)+"";if(Sg(t))return mO?mO.call(t):"";var n=t+"";return n=="0"&&1/t==-kH?"-0":n}var OH=/\s/;function RH(t){for(var n=t.length;n--&&OH.test(t.charAt(n)););return n}var LH=/^\s+/;function AH(t){return t&&t.slice(0,RH(t)+1).replace(LH,"")}function Zo(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var gO=NaN,NH=/^[-+]0x[0-9a-f]+$/i,MH=/^0b[01]+$/i,DH=/^0o[0-7]+$/i,PH=parseInt;function $O(t){if(typeof t=="number")return t;if(Sg(t))return gO;if(Zo(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=Zo(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=AH(t);var o=MH.test(t);return o||DH.test(t)?PH(t.slice(2),o?2:8):NH.test(t)?gO:+t}function lE(t){return t}var xH="[object AsyncFunction]",BH="[object Function]",FH="[object GeneratorFunction]",HH="[object Proxy]";function aE(t){if(!Zo(t))return!1;var n=Wa(t);return n==BH||n==FH||n==xH||n==HH}var Mb=fi["__core-js_shared__"],vO=function(){var t=/[^.]+$/.exec(Mb&&Mb.keys&&Mb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function VH(t){return!!vO&&vO in t}var UH=Function.prototype,GH=UH.toString;function za(t){if(t!=null){try{return GH.call(t)}catch{}try{return t+""}catch{}}return""}var WH=/[\\^$.*+?()[\]{}|]/g,zH=/^\[object .+?Constructor\]$/,KH=Function.prototype,XH=Object.prototype,YH=KH.toString,jH=XH.hasOwnProperty,qH=RegExp("^"+YH.call(jH).replace(WH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function JH(t){if(!Zo(t)||VH(t))return!1;var n=aE(t)?qH:zH;return n.test(za(t))}function ZH(t,n){return t==null?void 0:t[n]}function Ka(t,n){var o=ZH(t,n);return JH(o)?o:void 0}var IT=Ka(fi,"WeakMap"),_O=Object.create,QH=function(){function t(){}return function(n){if(!Zo(n))return{};if(_O)return _O(n);t.prototype=n;var o=new t;return t.prototype=void 0,o}}();function eV(t,n,o){switch(o.length){case 0:return t.call(n);case 1:return t.call(n,o[0]);case 2:return t.call(n,o[0],o[1]);case 3:return t.call(n,o[0],o[1],o[2])}return t.apply(n,o)}function tV(){}function _N(t,n){var o=-1,i=t.length;for(n||(n=Array(i));++o<i;)n[o]=t[o];return n}var nV=800,oV=16,sV=Date.now;function iV(t){var n=0,o=0;return function(){var i=sV(),l=oV-(i-o);if(o=i,l>0){if(++n>=nV)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function rV(t){return function(){return t}}var zm=function(){try{var t=Ka(Object,"defineProperty");return t({},"",{}),t}catch{}}(),lV=zm?function(t,n){return zm(t,"toString",{configurable:!0,enumerable:!1,value:rV(n),writable:!0})}:lE,bN=iV(lV);function aV(t,n){for(var o=-1,i=t==null?0:t.length;++o<i&&n(t[o],o,t)!==!1;);return t}function TN(t,n,o,i){for(var l=t.length,a=o+(i?1:-1);i?a--:++a<l;)if(n(t[a],a,t))return a;return-1}function uV(t){return t!==t}function cV(t,n,o){for(var i=o-1,l=t.length;++i<l;)if(t[i]===n)return i;return-1}function dV(t,n,o){return n===n?cV(t,n,o):TN(t,uV,o)}function hV(t,n){var o=t==null?0:t.length;return!!o&&dV(t,n,0)>-1}var pV=9007199254740991,fV=/^(?:0|[1-9]\d*)$/;function Cg(t,n){var o=typeof t;return n=n??pV,!!n&&(o=="number"||o!="symbol"&&fV.test(t))&&t>-1&&t%1==0&&t<n}function uE(t,n,o){n=="__proto__"&&zm?zm(t,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[n]=o}function Yh(t,n){return t===n||t!==t&&n!==n}var mV=Object.prototype,gV=mV.hasOwnProperty;function cE(t,n,o){var i=t[n];(!(gV.call(t,n)&&Yh(i,o))||o===void 0&&!(n in t))&&uE(t,n,o)}function xc(t,n,o,i){var l=!o;o||(o={});for(var a=-1,u=n.length;++a<u;){var h=n[a],p=void 0;p===void 0&&(p=t[h]),l?uE(o,h,p):cE(o,h,p)}return o}var bO=Math.max;function yN(t,n,o){return n=bO(n===void 0?t.length-1:n,0),function(){for(var i=arguments,l=-1,a=bO(i.length-n,0),u=Array(a);++l<a;)u[l]=i[n+l];l=-1;for(var h=Array(n+1);++l<n;)h[l]=i[l];return h[n]=o(u),eV(t,this,h)}}function EN(t,n){return bN(yN(t,n,lE),t+"")}var $V=9007199254740991;function dE(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=$V}function Bc(t){return t!=null&&dE(t.length)&&!aE(t)}function vV(t,n,o){if(!Zo(o))return!1;var i=typeof n;return(i=="number"?Bc(o)&&Cg(n,o.length):i=="string"&&n in o)?Yh(o[n],t):!1}function _V(t){return EN(function(n,o){var i=-1,l=o.length,a=l>1?o[l-1]:void 0,u=l>2?o[2]:void 0;for(a=t.length>3&&typeof a=="function"?(l--,a):void 0,u&&vV(o[0],o[1],u)&&(a=l<3?void 0:a,l=1),n=Object(n);++i<l;){var h=o[i];h&&t(n,h,i,a)}return n})}var bV=Object.prototype;function hE(t){var n=t&&t.constructor,o=typeof n=="function"&&n.prototype||bV;return t===o}function TV(t,n){for(var o=-1,i=Array(t);++o<t;)i[o]=n(o);return i}var yV="[object Arguments]";function TO(t){return Vi(t)&&Wa(t)==yV}var SN=Object.prototype,EV=SN.hasOwnProperty,SV=SN.propertyIsEnumerable,Sh=TO(function(){return arguments}())?TO:function(t){return Vi(t)&&EV.call(t,"callee")&&!SV.call(t,"callee")};function CV(){return!1}var CN=typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,yO=CN&&typeof ys=="object"&&ys&&!ys.nodeType&&ys,IV=yO&&yO.exports===CN,EO=IV?fi.Buffer:void 0,wV=EO?EO.isBuffer:void 0,Ch=wV||CV,kV="[object Arguments]",OV="[object Array]",RV="[object Boolean]",LV="[object Date]",AV="[object Error]",NV="[object Function]",MV="[object Map]",DV="[object Number]",PV="[object Object]",xV="[object RegExp]",BV="[object Set]",FV="[object String]",HV="[object WeakMap]",VV="[object ArrayBuffer]",UV="[object DataView]",GV="[object Float32Array]",WV="[object Float64Array]",zV="[object Int8Array]",KV="[object Int16Array]",XV="[object Int32Array]",YV="[object Uint8Array]",jV="[object Uint8ClampedArray]",qV="[object Uint16Array]",JV="[object Uint32Array]",Dn={};Dn[GV]=Dn[WV]=Dn[zV]=Dn[KV]=Dn[XV]=Dn[YV]=Dn[jV]=Dn[qV]=Dn[JV]=!0;Dn[kV]=Dn[OV]=Dn[VV]=Dn[RV]=Dn[UV]=Dn[LV]=Dn[AV]=Dn[NV]=Dn[MV]=Dn[DV]=Dn[PV]=Dn[xV]=Dn[BV]=Dn[FV]=Dn[HV]=!1;function ZV(t){return Vi(t)&&dE(t.length)&&!!Dn[Wa(t)]}function pE(t){return function(n){return t(n)}}var IN=typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,uh=IN&&typeof ys=="object"&&ys&&!ys.nodeType&&ys,QV=uh&&uh.exports===IN,Db=QV&&gN.process,vc=function(){try{var t=uh&&uh.require&&uh.require("util").types;return t||Db&&Db.binding&&Db.binding("util")}catch{}}(),SO=vc&&vc.isTypedArray,fE=SO?pE(SO):ZV,eU=Object.prototype,tU=eU.hasOwnProperty;function wN(t,n){var o=Jo(t),i=!o&&Sh(t),l=!o&&!i&&Ch(t),a=!o&&!i&&!l&&fE(t),u=o||i||l||a,h=u?TV(t.length,String):[],p=h.length;for(var f in t)(n||tU.call(t,f))&&!(u&&(f=="length"||l&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Cg(f,p)))&&h.push(f);return h}function kN(t,n){return function(o){return t(n(o))}}var nU=kN(Object.keys,Object),oU=Object.prototype,sU=oU.hasOwnProperty;function iU(t){if(!hE(t))return nU(t);var n=[];for(var o in Object(t))sU.call(t,o)&&o!="constructor"&&n.push(o);return n}function jh(t){return Bc(t)?wN(t):iU(t)}function rU(t){var n=[];if(t!=null)for(var o in Object(t))n.push(o);return n}var lU=Object.prototype,aU=lU.hasOwnProperty;function uU(t){if(!Zo(t))return rU(t);var n=hE(t),o=[];for(var i in t)i=="constructor"&&(n||!aU.call(t,i))||o.push(i);return o}function qh(t){return Bc(t)?wN(t,!0):uU(t)}var cU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dU=/^\w*$/;function mE(t,n){if(Jo(t))return!1;var o=typeof t;return o=="number"||o=="symbol"||o=="boolean"||t==null||Sg(t)?!0:dU.test(t)||!cU.test(t)||n!=null&&t in Object(n)}var Ih=Ka(Object,"create");function hU(){this.__data__=Ih?Ih(null):{},this.size=0}function pU(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var fU="__lodash_hash_undefined__",mU=Object.prototype,gU=mU.hasOwnProperty;function $U(t){var n=this.__data__;if(Ih){var o=n[t];return o===fU?void 0:o}return gU.call(n,t)?n[t]:void 0}var vU=Object.prototype,_U=vU.hasOwnProperty;function bU(t){var n=this.__data__;return Ih?n[t]!==void 0:_U.call(n,t)}var TU="__lodash_hash_undefined__";function yU(t,n){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Ih&&n===void 0?TU:n,this}function Pa(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var i=t[n];this.set(i[0],i[1])}}Pa.prototype.clear=hU;Pa.prototype.delete=pU;Pa.prototype.get=$U;Pa.prototype.has=bU;Pa.prototype.set=yU;function EU(){this.__data__=[],this.size=0}function Ig(t,n){for(var o=t.length;o--;)if(Yh(t[o][0],n))return o;return-1}var SU=Array.prototype,CU=SU.splice;function IU(t){var n=this.__data__,o=Ig(n,t);if(o<0)return!1;var i=n.length-1;return o==i?n.pop():CU.call(n,o,1),--this.size,!0}function wU(t){var n=this.__data__,o=Ig(n,t);return o<0?void 0:n[o][1]}function kU(t){return Ig(this.__data__,t)>-1}function OU(t,n){var o=this.__data__,i=Ig(o,t);return i<0?(++this.size,o.push([t,n])):o[i][1]=n,this}function Lr(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var i=t[n];this.set(i[0],i[1])}}Lr.prototype.clear=EU;Lr.prototype.delete=IU;Lr.prototype.get=wU;Lr.prototype.has=kU;Lr.prototype.set=OU;var wh=Ka(fi,"Map");function RU(){this.size=0,this.__data__={hash:new Pa,map:new(wh||Lr),string:new Pa}}function LU(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function wg(t,n){var o=t.__data__;return LU(n)?o[typeof n=="string"?"string":"hash"]:o.map}function AU(t){var n=wg(this,t).delete(t);return this.size-=n?1:0,n}function NU(t){return wg(this,t).get(t)}function MU(t){return wg(this,t).has(t)}function DU(t,n){var o=wg(this,t),i=o.size;return o.set(t,n),this.size+=o.size==i?0:1,this}function Ar(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var i=t[n];this.set(i[0],i[1])}}Ar.prototype.clear=RU;Ar.prototype.delete=AU;Ar.prototype.get=NU;Ar.prototype.has=MU;Ar.prototype.set=DU;var PU="Expected a function";function kg(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(PU);var o=function(){var i=arguments,l=n?n.apply(this,i):i[0],a=o.cache;if(a.has(l))return a.get(l);var u=t.apply(this,i);return o.cache=a.set(l,u)||a,u};return o.cache=new(kg.Cache||Ar),o}kg.Cache=Ar;var xU=500;function BU(t){var n=kg(t,function(i){return o.size===xU&&o.clear(),i}),o=n.cache;return n}var FU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,HU=/\\(\\)?/g,VU=BU(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(FU,function(o,i,l,a){n.push(l?a.replace(HU,"$1"):i||o)}),n});function UU(t){return t==null?"":vN(t)}function Fc(t,n){return Jo(t)?t:mE(t,n)?[t]:VU(UU(t))}var GU=1/0;function Hc(t){if(typeof t=="string"||Sg(t))return t;var n=t+"";return n=="0"&&1/t==-GU?"-0":n}function Og(t,n){n=Fc(n,t);for(var o=0,i=n.length;t!=null&&o<i;)t=t[Hc(n[o++])];return o&&o==i?t:void 0}function xn(t,n,o){var i=t==null?void 0:Og(t,n);return i===void 0?o:i}function gE(t,n){for(var o=-1,i=n.length,l=t.length;++o<i;)t[l+o]=n[o];return t}var CO=Ws?Ws.isConcatSpreadable:void 0;function WU(t){return Jo(t)||Sh(t)||!!(CO&&t&&t[CO])}function Jh(t,n,o,i,l){var a=-1,u=t.length;for(o||(o=WU),l||(l=[]);++a<u;){var h=t[a];n>0&&o(h)?n>1?Jh(h,n-1,o,i,l):gE(l,h):i||(l[l.length]=h)}return l}function ON(t){var n=t==null?0:t.length;return n?Jh(t,1):[]}function RN(t){return bN(yN(t,void 0,ON),t+"")}var $E=kN(Object.getPrototypeOf,Object),zU="[object Object]",KU=Function.prototype,XU=Object.prototype,LN=KU.toString,YU=XU.hasOwnProperty,jU=LN.call(Object);function AN(t){if(!Vi(t)||Wa(t)!=zU)return!1;var n=$E(t);if(n===null)return!0;var o=YU.call(n,"constructor")&&n.constructor;return typeof o=="function"&&o instanceof o&&LN.call(o)==jU}function qU(t,n,o){var i=-1,l=t.length;n<0&&(n=-n>l?0:l+n),o=o>l?l:o,o<0&&(o+=l),l=n>o?0:o-n>>>0,n>>>=0;for(var a=Array(l);++i<l;)a[i]=t[i+n];return a}function yl(){if(!arguments.length)return[];var t=arguments[0];return Jo(t)?t:[t]}function JU(){this.__data__=new Lr,this.size=0}function ZU(t){var n=this.__data__,o=n.delete(t);return this.size=n.size,o}function QU(t){return this.__data__.get(t)}function eG(t){return this.__data__.has(t)}var tG=200;function nG(t,n){var o=this.__data__;if(o instanceof Lr){var i=o.__data__;if(!wh||i.length<tG-1)return i.push([t,n]),this.size=++o.size,this;o=this.__data__=new Ar(i)}return o.set(t,n),this.size=o.size,this}function di(t){var n=this.__data__=new Lr(t);this.size=n.size}di.prototype.clear=JU;di.prototype.delete=ZU;di.prototype.get=QU;di.prototype.has=eG;di.prototype.set=nG;function oG(t,n){return t&&xc(n,jh(n),t)}function sG(t,n){return t&&xc(n,qh(n),t)}var NN=typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,IO=NN&&typeof ys=="object"&&ys&&!ys.nodeType&&ys,iG=IO&&IO.exports===NN,wO=iG?fi.Buffer:void 0,kO=wO?wO.allocUnsafe:void 0;function MN(t,n){if(n)return t.slice();var o=t.length,i=kO?kO(o):new t.constructor(o);return t.copy(i),i}function rG(t,n){for(var o=-1,i=t==null?0:t.length,l=0,a=[];++o<i;){var u=t[o];n(u,o,t)&&(a[l++]=u)}return a}function DN(){return[]}var lG=Object.prototype,aG=lG.propertyIsEnumerable,OO=Object.getOwnPropertySymbols,vE=OO?function(t){return t==null?[]:(t=Object(t),rG(OO(t),function(n){return aG.call(t,n)}))}:DN;function uG(t,n){return xc(t,vE(t),n)}var cG=Object.getOwnPropertySymbols,PN=cG?function(t){for(var n=[];t;)gE(n,vE(t)),t=$E(t);return n}:DN;function dG(t,n){return xc(t,PN(t),n)}function xN(t,n,o){var i=n(t);return Jo(t)?i:gE(i,o(t))}function wT(t){return xN(t,jh,vE)}function BN(t){return xN(t,qh,PN)}var kT=Ka(fi,"DataView"),OT=Ka(fi,"Promise"),rc=Ka(fi,"Set"),RO="[object Map]",hG="[object Object]",LO="[object Promise]",AO="[object Set]",NO="[object WeakMap]",MO="[object DataView]",pG=za(kT),fG=za(wh),mG=za(OT),gG=za(rc),$G=za(IT),ai=Wa;(kT&&ai(new kT(new ArrayBuffer(1)))!=MO||wh&&ai(new wh)!=RO||OT&&ai(OT.resolve())!=LO||rc&&ai(new rc)!=AO||IT&&ai(new IT)!=NO)&&(ai=function(t){var n=Wa(t),o=n==hG?t.constructor:void 0,i=o?za(o):"";if(i)switch(i){case pG:return MO;case fG:return RO;case mG:return LO;case gG:return AO;case $G:return NO}return n});var vG=Object.prototype,_G=vG.hasOwnProperty;function bG(t){var n=t.length,o=new t.constructor(n);return n&&typeof t[0]=="string"&&_G.call(t,"index")&&(o.index=t.index,o.input=t.input),o}var Km=fi.Uint8Array;function _E(t){var n=new t.constructor(t.byteLength);return new Km(n).set(new Km(t)),n}function TG(t,n){var o=n?_E(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}var yG=/\w*$/;function EG(t){var n=new t.constructor(t.source,yG.exec(t));return n.lastIndex=t.lastIndex,n}var DO=Ws?Ws.prototype:void 0,PO=DO?DO.valueOf:void 0;function SG(t){return PO?Object(PO.call(t)):{}}function FN(t,n){var o=n?_E(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}var CG="[object Boolean]",IG="[object Date]",wG="[object Map]",kG="[object Number]",OG="[object RegExp]",RG="[object Set]",LG="[object String]",AG="[object Symbol]",NG="[object ArrayBuffer]",MG="[object DataView]",DG="[object Float32Array]",PG="[object Float64Array]",xG="[object Int8Array]",BG="[object Int16Array]",FG="[object Int32Array]",HG="[object Uint8Array]",VG="[object Uint8ClampedArray]",UG="[object Uint16Array]",GG="[object Uint32Array]";function WG(t,n,o){var i=t.constructor;switch(n){case NG:return _E(t);case CG:case IG:return new i(+t);case MG:return TG(t,o);case DG:case PG:case xG:case BG:case FG:case HG:case VG:case UG:case GG:return FN(t,o);case wG:return new i;case kG:case LG:return new i(t);case OG:return EG(t);case RG:return new i;case AG:return SG(t)}}function HN(t){return typeof t.constructor=="function"&&!hE(t)?QH($E(t)):{}}var zG="[object Map]";function KG(t){return Vi(t)&&ai(t)==zG}var xO=vc&&vc.isMap,XG=xO?pE(xO):KG,YG="[object Set]";function jG(t){return Vi(t)&&ai(t)==YG}var BO=vc&&vc.isSet,qG=BO?pE(BO):jG,JG=1,ZG=2,QG=4,VN="[object Arguments]",e3="[object Array]",t3="[object Boolean]",n3="[object Date]",o3="[object Error]",UN="[object Function]",s3="[object GeneratorFunction]",i3="[object Map]",r3="[object Number]",GN="[object Object]",l3="[object RegExp]",a3="[object Set]",u3="[object String]",c3="[object Symbol]",d3="[object WeakMap]",h3="[object ArrayBuffer]",p3="[object DataView]",f3="[object Float32Array]",m3="[object Float64Array]",g3="[object Int8Array]",$3="[object Int16Array]",v3="[object Int32Array]",_3="[object Uint8Array]",b3="[object Uint8ClampedArray]",T3="[object Uint16Array]",y3="[object Uint32Array]",An={};An[VN]=An[e3]=An[h3]=An[p3]=An[t3]=An[n3]=An[f3]=An[m3]=An[g3]=An[$3]=An[v3]=An[i3]=An[r3]=An[GN]=An[l3]=An[a3]=An[u3]=An[c3]=An[_3]=An[b3]=An[T3]=An[y3]=!0;An[o3]=An[UN]=An[d3]=!1;function lc(t,n,o,i,l,a){var u,h=n&JG,p=n&ZG,f=n&QG;if(o&&(u=l?o(t,i,l,a):o(t)),u!==void 0)return u;if(!Zo(t))return t;var g=Jo(t);if(g){if(u=bG(t),!h)return _N(t,u)}else{var m=ai(t),_=m==UN||m==s3;if(Ch(t))return MN(t,h);if(m==GN||m==VN||_&&!l){if(u=p||_?{}:HN(t),!h)return p?dG(t,sG(u,t)):uG(t,oG(u,t))}else{if(!An[m])return l?t:{};u=WG(t,m,h)}}a||(a=new di);var b=a.get(t);if(b)return b;a.set(t,u),qG(t)?t.forEach(function(E){u.add(lc(E,n,o,E,t,a))}):XG(t)&&t.forEach(function(E,y){u.set(y,lc(E,n,o,y,t,a))});var T=f?p?BN:wT:p?qh:jh,$=g?void 0:T(t);return aV($||t,function(E,y){$&&(y=E,E=t[y]),cE(u,y,lc(E,n,o,y,t,a))}),u}var E3=4;function FO(t){return lc(t,E3)}var S3=1,C3=4;function Xm(t){return lc(t,S3|C3)}var I3="__lodash_hash_undefined__";function w3(t){return this.__data__.set(t,I3),this}function k3(t){return this.__data__.has(t)}function kh(t){var n=-1,o=t==null?0:t.length;for(this.__data__=new Ar;++n<o;)this.add(t[n])}kh.prototype.add=kh.prototype.push=w3;kh.prototype.has=k3;function O3(t,n){for(var o=-1,i=t==null?0:t.length;++o<i;)if(n(t[o],o,t))return!0;return!1}function WN(t,n){return t.has(n)}var R3=1,L3=2;function zN(t,n,o,i,l,a){var u=o&R3,h=t.length,p=n.length;if(h!=p&&!(u&&p>h))return!1;var f=a.get(t),g=a.get(n);if(f&&g)return f==n&&g==t;var m=-1,_=!0,b=o&L3?new kh:void 0;for(a.set(t,n),a.set(n,t);++m<h;){var T=t[m],$=n[m];if(i)var E=u?i($,T,m,n,t,a):i(T,$,m,t,n,a);if(E!==void 0){if(E)continue;_=!1;break}if(b){if(!O3(n,function(y,I){if(!WN(b,I)&&(T===y||l(T,y,o,i,a)))return b.push(I)})){_=!1;break}}else if(!(T===$||l(T,$,o,i,a))){_=!1;break}}return a.delete(t),a.delete(n),_}function A3(t){var n=-1,o=Array(t.size);return t.forEach(function(i,l){o[++n]=[l,i]}),o}function bE(t){var n=-1,o=Array(t.size);return t.forEach(function(i){o[++n]=i}),o}var N3=1,M3=2,D3="[object Boolean]",P3="[object Date]",x3="[object Error]",B3="[object Map]",F3="[object Number]",H3="[object RegExp]",V3="[object Set]",U3="[object String]",G3="[object Symbol]",W3="[object ArrayBuffer]",z3="[object DataView]",HO=Ws?Ws.prototype:void 0,Pb=HO?HO.valueOf:void 0;function K3(t,n,o,i,l,a,u){switch(o){case z3:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case W3:return!(t.byteLength!=n.byteLength||!a(new Km(t),new Km(n)));case D3:case P3:case F3:return Yh(+t,+n);case x3:return t.name==n.name&&t.message==n.message;case H3:case U3:return t==n+"";case B3:var h=A3;case V3:var p=i&N3;if(h||(h=bE),t.size!=n.size&&!p)return!1;var f=u.get(t);if(f)return f==n;i|=M3,u.set(t,n);var g=zN(h(t),h(n),i,l,a,u);return u.delete(t),g;case G3:if(Pb)return Pb.call(t)==Pb.call(n)}return!1}var X3=1,Y3=Object.prototype,j3=Y3.hasOwnProperty;function q3(t,n,o,i,l,a){var u=o&X3,h=wT(t),p=h.length,f=wT(n),g=f.length;if(p!=g&&!u)return!1;for(var m=p;m--;){var _=h[m];if(!(u?_ in n:j3.call(n,_)))return!1}var b=a.get(t),T=a.get(n);if(b&&T)return b==n&&T==t;var $=!0;a.set(t,n),a.set(n,t);for(var E=u;++m<p;){_=h[m];var y=t[_],I=n[_];if(i)var S=u?i(I,y,_,n,t,a):i(y,I,_,t,n,a);if(!(S===void 0?y===I||l(y,I,o,i,a):S)){$=!1;break}E||(E=_=="constructor")}if($&&!E){var C=t.constructor,R=n.constructor;C!=R&&"constructor"in t&&"constructor"in n&&!(typeof C=="function"&&C instanceof C&&typeof R=="function"&&R instanceof R)&&($=!1)}return a.delete(t),a.delete(n),$}var J3=1,VO="[object Arguments]",UO="[object Array]",Gf="[object Object]",Z3=Object.prototype,GO=Z3.hasOwnProperty;function Q3(t,n,o,i,l,a){var u=Jo(t),h=Jo(n),p=u?UO:ai(t),f=h?UO:ai(n);p=p==VO?Gf:p,f=f==VO?Gf:f;var g=p==Gf,m=f==Gf,_=p==f;if(_&&Ch(t)){if(!Ch(n))return!1;u=!0,g=!1}if(_&&!g)return a||(a=new di),u||fE(t)?zN(t,n,o,i,l,a):K3(t,n,p,o,i,l,a);if(!(o&J3)){var b=g&&GO.call(t,"__wrapped__"),T=m&&GO.call(n,"__wrapped__");if(b||T){var $=b?t.value():t,E=T?n.value():n;return a||(a=new di),l($,E,o,i,a)}}return _?(a||(a=new di),q3(t,n,o,i,l,a)):!1}function Rg(t,n,o,i,l){return t===n?!0:t==null||n==null||!Vi(t)&&!Vi(n)?t!==t&&n!==n:Q3(t,n,o,i,Rg,l)}var eW=1,tW=2;function nW(t,n,o,i){var l=o.length,a=l;if(t==null)return!a;for(t=Object(t);l--;){var u=o[l];if(u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++l<a;){u=o[l];var h=u[0],p=t[h],f=u[1];if(u[2]){if(p===void 0&&!(h in t))return!1}else{var g=new di,m;if(!(m===void 0?Rg(f,p,eW|tW,i,g):m))return!1}}return!0}function KN(t){return t===t&&!Zo(t)}function oW(t){for(var n=jh(t),o=n.length;o--;){var i=n[o],l=t[i];n[o]=[i,l,KN(l)]}return n}function XN(t,n){return function(o){return o==null?!1:o[t]===n&&(n!==void 0||t in Object(o))}}function sW(t){var n=oW(t);return n.length==1&&n[0][2]?XN(n[0][0],n[0][1]):function(o){return o===t||nW(o,t,n)}}function iW(t,n){return t!=null&&n in Object(t)}function rW(t,n,o){n=Fc(n,t);for(var i=-1,l=n.length,a=!1;++i<l;){var u=Hc(n[i]);if(!(a=t!=null&&o(t,u)))break;t=t[u]}return a||++i!=l?a:(l=t==null?0:t.length,!!l&&dE(l)&&Cg(u,l)&&(Jo(t)||Sh(t)))}function YN(t,n){return t!=null&&rW(t,n,iW)}var lW=1,aW=2;function uW(t,n){return mE(t)&&KN(n)?XN(Hc(t),n):function(o){var i=xn(o,t);return i===void 0&&i===n?YN(o,t):Rg(n,i,lW|aW)}}function cW(t){return function(n){return n==null?void 0:n[t]}}function dW(t){return function(n){return Og(n,t)}}function hW(t){return mE(t)?cW(Hc(t)):dW(t)}function jN(t){return typeof t=="function"?t:t==null?lE:typeof t=="object"?Jo(t)?uW(t[0],t[1]):sW(t):hW(t)}function pW(t){return function(n,o,i){for(var l=-1,a=Object(n),u=i(n),h=u.length;h--;){var p=u[++l];if(o(a[p],p,a)===!1)break}return n}}var qN=pW();function fW(t,n){return t&&qN(t,n,jh)}function mW(t,n){return function(o,i){if(o==null)return o;if(!Bc(o))return t(o,i);for(var l=o.length,a=-1,u=Object(o);++a<l&&i(u[a],a,u)!==!1;);return o}}var gW=mW(fW),xb=function(){return fi.Date.now()},$W="Expected a function",vW=Math.max,_W=Math.min;function us(t,n,o){var i,l,a,u,h,p,f=0,g=!1,m=!1,_=!0;if(typeof t!="function")throw new TypeError($W);n=$O(n)||0,Zo(o)&&(g=!!o.leading,m="maxWait"in o,a=m?vW($O(o.maxWait)||0,n):a,_="trailing"in o?!!o.trailing:_);function b(O){var P=i,M=l;return i=l=void 0,f=O,u=t.apply(M,P),u}function T(O){return f=O,h=setTimeout(y,n),g?b(O):u}function $(O){var P=O-p,M=O-f,H=n-P;return m?_W(H,a-M):H}function E(O){var P=O-p,M=O-f;return p===void 0||P>=n||P<0||m&&M>=a}function y(){var O=xb();if(E(O))return I(O);h=setTimeout(y,$(O))}function I(O){return h=void 0,_&&i?b(O):(i=l=void 0,u)}function S(){h!==void 0&&clearTimeout(h),f=0,i=p=l=h=void 0}function C(){return h===void 0?u:I(xb())}function R(){var O=xb(),P=E(O);if(i=arguments,l=this,p=O,P){if(h===void 0)return T(p);if(m)return clearTimeout(h),h=setTimeout(y,n),b(p)}return h===void 0&&(h=setTimeout(y,n)),u}return R.cancel=S,R.flush=C,R}function RT(t,n,o){(o!==void 0&&!Yh(t[n],o)||o===void 0&&!(n in t))&&uE(t,n,o)}function JN(t){return Vi(t)&&Bc(t)}function LT(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}function bW(t){return xc(t,qh(t))}function TW(t,n,o,i,l,a,u){var h=LT(t,o),p=LT(n,o),f=u.get(p);if(f){RT(t,o,f);return}var g=a?a(h,p,o+"",t,n,u):void 0,m=g===void 0;if(m){var _=Jo(p),b=!_&&Ch(p),T=!_&&!b&&fE(p);g=p,_||b||T?Jo(h)?g=h:JN(h)?g=_N(h):b?(m=!1,g=MN(p,!0)):T?(m=!1,g=FN(p,!0)):g=[]:AN(p)||Sh(p)?(g=h,Sh(h)?g=bW(h):(!Zo(h)||aE(h))&&(g=HN(p))):m=!1}m&&(u.set(p,g),l(g,p,i,a,u),u.delete(p)),RT(t,o,g)}function ZN(t,n,o,i,l){t!==n&&qN(n,function(a,u){if(l||(l=new di),Zo(a))TW(t,n,u,o,ZN,i,l);else{var h=i?i(LT(t,u),a,u+"",t,n,l):void 0;h===void 0&&(h=a),RT(t,u,h)}},qh)}function yW(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}function QN(t,n,o){var i=t==null?0:t.length;if(!i)return-1;var l=i-1;return TN(t,jN(n),l,!0)}function EW(t,n){var o=-1,i=Bc(t)?Array(t.length):[];return gW(t,function(l,a,u){i[++o]=n(l,a,u)}),i}function SW(t,n){var o=Jo(t)?rE:EW;return o(t,jN(n))}function CW(t,n){return Jh(SW(t,n),1)}var IW=1/0;function wW(t){var n=t==null?0:t.length;return n?Jh(t,IW):[]}function Ym(t){for(var n=-1,o=t==null?0:t.length,i={};++n<o;){var l=t[n];i[l[0]]=l[1]}return i}function kW(t,n){return n.length<2?t:Og(t,qU(n,0,-1))}function Po(t,n){return Rg(t,n)}function ro(t){return t==null}function e1(t){return t===void 0}var OW=_V(function(t,n,o){ZN(t,n,o)});function RW(t,n){return n=Fc(n,t),t=kW(t,n),t==null||delete t[Hc(yW(n))]}function LW(t){return AN(t)?void 0:t}var AW=1,NW=2,MW=4,DW=RN(function(t,n){var o={};if(t==null)return o;var i=!1;n=rE(n,function(a){return a=Fc(a,t),i||(i=a.length>1),a}),xc(t,BN(t),o),i&&(o=lc(o,AW|NW|MW,LW));for(var l=n.length;l--;)RW(o,n[l]);return o});function t1(t,n,o,i){if(!Zo(t))return t;n=Fc(n,t);for(var l=-1,a=n.length,u=a-1,h=t;h!=null&&++l<a;){var p=Hc(n[l]),f=o;if(p==="__proto__"||p==="constructor"||p==="prototype")return t;if(l!=u){var g=h[p];f=void 0,f===void 0&&(f=Zo(g)?g:Cg(n[l+1])?[]:{})}cE(h,p,f),h=h[p]}return t}function PW(t,n,o){for(var i=-1,l=n.length,a={};++i<l;){var u=n[i],h=Og(t,u);o(h,u)&&t1(a,Fc(u,t),h)}return a}function xW(t,n){return PW(t,n,function(o,i){return YN(t,i)})}var xi=RN(function(t,n){return t==null?{}:xW(t,n)});function BW(t,n,o){return t==null?t:t1(t,n,o)}var FW="Expected a function";function Ra(t,n,o){var i=!0,l=!0;if(typeof t!="function")throw new TypeError(FW);return Zo(o)&&(i="leading"in o?!!o.leading:i,l="trailing"in o?!!o.trailing:l),us(t,n,{leading:i,maxWait:n,trailing:l})}var HW=1/0,VW=rc&&1/bE(new rc([,-0]))[1]==HW?function(t){return new rc(t)}:tV,UW=200;function GW(t,n,o){var i=-1,l=hV,a=t.length,u=!0,h=[],p=h;if(a>=UW){var f=VW(t);if(f)return bE(f);u=!1,l=WN,p=new kh}else p=h;e:for(;++i<a;){var g=t[i],m=g;if(g=g!==0?g:0,u&&m===m){for(var _=p.length;_--;)if(p[_]===m)continue e;h.push(g)}else l(p,m,o)||(p!==h&&p.push(m),h.push(g))}return h}var Bb=EN(function(t){return GW(Jh(t,1,JN,!0))});const Hn=t=>t===void 0,Vn=t=>typeof t=="boolean",gt=t=>typeof t=="number",xs=t=>!t&&t!==0||tt(t)&&t.length===0||Pt(t)&&!Object.keys(t).length,zs=t=>typeof Element>"u"?!1:t instanceof Element,xa=t=>ro(t),WW=t=>yt(t)?!Number.isNaN(Number(t)):!1,Lg=t=>t===window,El=t=>Xt?window.requestAnimationFrame(t):setTimeout(t,16),Ba=t=>Xt?window.cancelAnimationFrame(t):clearTimeout(t),TE=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Pi=t=>zh(t),_c=t=>Object.keys(t),zW=t=>Object.entries(t),pm=(t,n,o)=>({get value(){return xn(t,n,o)},set value(i){BW(t,n,i)}});class KW extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function qn(t,n){throw new KW(`[${t}] ${n}`)}const n1=(t="")=>t.split(" ").filter(n=>!!n.trim()),Vs=(t,n)=>{if(!t||!n)return!1;if(n.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(n)},Bs=(t,n)=>{!t||!n.trim()||t.classList.add(...n1(n))},xo=(t,n)=>{!t||!n.trim()||t.classList.remove(...n1(n))},hl=(t,n)=>{var o;if(!Xt||!t||!n)return"";let i=Gs(n);i==="float"&&(i="cssFloat");try{const l=t.style[i];if(l)return l;const a=(o=document.defaultView)==null?void 0:o.getComputedStyle(t,"");return a?a[i]:""}catch{return t.style[i]}};function Mn(t,n="px"){if(!t)return"";if(gt(t)||WW(t))return`${t}${n}`;if(yt(t))return t}const XW=(t,n)=>{if(!Xt)return!1;const o={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(n)],i=hl(t,o);return["scroll","auto","overlay"].some(l=>i.includes(l))},yE=(t,n)=>{if(!Xt)return;let o=t;for(;o;){if([window,document,document.documentElement].includes(o))return window;if(XW(o,n))return o;o=o.parentNode}return o};let Wf;const o1=t=>{var n;if(!Xt)return 0;if(Wf!==void 0)return Wf;const o=document.createElement("div");o.className=`${t}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const i=o.offsetWidth;o.style.overflow="scroll";const l=document.createElement("div");l.style.width="100%",o.appendChild(l);const a=l.offsetWidth;return(n=o.parentNode)==null||n.removeChild(o),Wf=i-a,Wf};function s1(t,n){if(!Xt)return;if(!n){t.scrollTop=0;return}const o=[];let i=n.offsetParent;for(;i!==null&&t!==i&&t.contains(i);)o.push(i),i=i.offsetParent;const l=n.offsetTop+o.reduce((p,f)=>p+f.offsetTop,0),a=l+n.offsetHeight,u=t.scrollTop,h=u+t.clientHeight;l<u?t.scrollTop=l:a>h&&(t.scrollTop=a-t.clientHeight)}function YW(t,n,o,i,l){const a=Date.now();let u;const h=()=>{const f=Date.now()-a,g=$H(f>i?i:f,n,o,i);Lg(t)?t.scrollTo(window.pageXOffset,g):t.scrollTop=g,f<i?u=El(h):typeof l=="function"&&l()};return h(),()=>{u&&Ba(u)}}const WO=(t,n)=>Lg(n)?t.ownerDocument.documentElement:n,zO=t=>Lg(t)?window.scrollY:t.scrollTop,zf=t=>{if(!Xt||t==="")return null;if(yt(t))try{return document.querySelector(t)}catch{return null}return t};/*! Element Plus Icons Vue v2.3.1 */var jW=ne({name:"ArrowDown",__name:"arrow-down",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Nr=jW,qW=ne({name:"ArrowLeft",__name:"arrow-left",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Sl=qW,JW=ne({name:"ArrowRight",__name:"arrow-right",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Yo=JW,ZW=ne({name:"ArrowUp",__name:"arrow-up",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),EE=ZW,QW=ne({name:"Back",__name:"back",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Q("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),e4=QW,t4=ne({name:"Calendar",__name:"calendar",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),n4=t4,o4=ne({name:"CaretRight",__name:"caret-right",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),SE=o4,s4=ne({name:"CaretTop",__name:"caret-top",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),i4=s4,r4=ne({name:"Check",__name:"check",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),Zh=r4,l4=ne({name:"Checked",__name:"checked",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160.064v64H704zM311.616 537.28l-45.312 45.248L447.36 763.52l316.8-316.8-45.312-45.184L447.36 673.024zM384 192V96h256v96z"})]))}}),a4=l4,u4=ne({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),c4=u4,d4=ne({name:"CircleCheck",__name:"circle-check",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Q("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),CE=d4,h4=ne({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),IE=h4,p4=ne({name:"CircleClose",__name:"circle-close",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Q("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Al=p4,f4=ne({name:"Clock",__name:"clock",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Q("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Q("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),i1=f4,m4=ne({name:"Close",__name:"close",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),hi=m4,g4=ne({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),bc=g4,$4=ne({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Tc=$4,v4=ne({name:"Delete",__name:"delete",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),_4=v4,b4=ne({name:"Document",__name:"document",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),T4=b4,y4=ne({name:"FullScreen",__name:"full-screen",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),E4=y4,S4=ne({name:"Hide",__name:"hide",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Q("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),C4=S4,I4=ne({name:"InfoFilled",__name:"info-filled",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),wE=I4,w4=ne({name:"Loading",__name:"loading",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Nl=w4,k4=ne({name:"Minus",__name:"minus",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),O4=k4,R4=ne({name:"MoreFilled",__name:"more-filled",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),KO=R4,L4=ne({name:"More",__name:"more",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),A4=L4,N4=ne({name:"PictureFilled",__name:"picture-filled",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),M4=N4,D4=ne({name:"Plus",__name:"plus",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),r1=D4,P4=ne({name:"QuestionFilled",__name:"question-filled",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),x4=P4,B4=ne({name:"RefreshLeft",__name:"refresh-left",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),F4=B4,H4=ne({name:"RefreshRight",__name:"refresh-right",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),V4=H4,U4=ne({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),G4=U4,W4=ne({name:"Search",__name:"search",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),l1=W4,z4=ne({name:"SortDown",__name:"sort-down",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),K4=z4,X4=ne({name:"SortUp",__name:"sort-up",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),Y4=X4,j4=ne({name:"StarFilled",__name:"star-filled",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),Kf=j4,q4=ne({name:"Star",__name:"star",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),J4=q4,Z4=ne({name:"SuccessFilled",__name:"success-filled",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),a1=Z4,Q4=ne({name:"View",__name:"view",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),ez=Q4,tz=ne({name:"WarningFilled",__name:"warning-filled",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),Ag=tz,nz=ne({name:"ZoomIn",__name:"zoom-in",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),u1=nz,oz=ne({name:"ZoomOut",__name:"zoom-out",setup(t){return(n,o)=>(A(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Q("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),sz=oz;const c1="__epPropKey",fe=t=>t,iz=t=>Pt(t)&&!!t[c1],mi=(t,n)=>{if(!Pt(t)||iz(t))return t;const{values:o,required:i,default:l,type:a,validator:u}=t,p={type:a,required:!!i,validator:o||u?f=>{let g=!1,m=[];if(o&&(m=Array.from(o),Yt(t,"default")&&m.push(l),g||(g=m.includes(f))),u&&(g||(g=u(f))),!g&&m.length>0){const _=[...new Set(m)].map(b=>JSON.stringify(b)).join(", ");e2(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${_}], got value ${JSON.stringify(f)}.`)}return g}:void 0,[c1]:!0};return Yt(t,"default")&&(p.default=l),p},Ve=t=>Ym(Object.entries(t).map(([n,o])=>[n,mi(o,n)])),an=fe([String,Object,Function]),kE={Close:hi},OE={Close:hi,SuccessFilled:a1,InfoFilled:wE,WarningFilled:Ag,CircleCloseFilled:IE},Cl={success:a1,warning:Ag,error:IE,info:wE},RE={validating:Nl,success:CE,error:Al},Mt=(t,n)=>{if(t.install=o=>{for(const i of[t,...Object.values(n??{})])o.component(i.name,i)},n)for(const[o,i]of Object.entries(n))t[o]=i;return t},d1=(t,n)=>(t.install=o=>{t._context=o._context,o.config.globalProperties[n]=t},t),rz=(t,n)=>(t.install=o=>{o.directive(n,t)},t),On=t=>(t.install=on,t),Ng=(...t)=>n=>{t.forEach(o=>{vt(o)?o(n):o.value=n})},mt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},lz=["year","years","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Fb=["sun","mon","tue","wed","thu","fri","sat"],Bt="update:modelValue",vn="change",jo="input",XO=Symbol("INSTALLED_KEY"),Ki=["","default","small","large"],h1=t=>["",...Ki].includes(t);var Ds=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Ds||{});function AT(t){return Cn(t)&&t.type===dt}function az(t){return Cn(t)&&t.type===To}function uz(t){return Cn(t)&&!AT(t)&&!az(t)}const cz=t=>{if(!Cn(t))return{};const n=t.props||{},o=(Cn(t.type)?t.type.props:void 0)||{},i={};return Object.keys(o).forEach(l=>{Yt(o[l],"default")&&(i[l]=o[l].default)}),Object.keys(n).forEach(l=>{i[Gs(l)]=n[l]}),i},dz=t=>{if(!tt(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},$l=t=>{const n=tt(t)?t:[t],o=[];return n.forEach(i=>{var l;tt(i)?o.push(...$l(i)):Cn(i)&&tt(i.children)?o.push(...$l(i.children)):(o.push(i),Cn(i)&&((l=i.component)!=null&&l.subTree)&&o.push(...$l(i.component.subTree)))}),o},YO=t=>[...new Set(t)],_s=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],LE=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),kn=t=>t;function hz(t){let n=0;const o=(...i)=>{n&&Ba(n),n=El(()=>{t(...i),n=0})};return o.cancel=()=>{Ba(n),n=0},o}const pz=["class","style"],fz=/^on[A-Z]/,AE=(t={})=>{const{excludeListeners:n=!1,excludeKeys:o}=t,i=w(()=>((o==null?void 0:o.value)||[]).concat(pz)),l=Nt();return w(l?()=>{var a;return Ym(Object.entries((a=l.proxy)==null?void 0:a.$attrs).filter(([u])=>!i.value.includes(u)&&!(n&&fz.test(u))))}:()=>({}))},eo=({from:t,replacement:n,scope:o,version:i,ref:l,type:a="API"},u)=>{Me(()=>c(u),h=>{},{immediate:!0})},p1=(t,n,o,i)=>{let l={offsetX:0,offsetY:0};const a=p=>{const f=p.clientX,g=p.clientY,{offsetX:m,offsetY:_}=l,b=t.value.getBoundingClientRect(),T=b.left,$=b.top,E=b.width,y=b.height,I=document.documentElement.clientWidth,S=document.documentElement.clientHeight,C=-T+m,R=-$+_,O=I-T-E+m,P=S-$-y+_,M=F=>{let B=m+F.clientX-f,K=_+F.clientY-g;i!=null&&i.value||(B=Math.min(Math.max(B,C),O),K=Math.min(Math.max(K,R),P)),l={offsetX:B,offsetY:K},t.value&&(t.value.style.transform=`translate(${Mn(B)}, ${Mn(K)})`)},H=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",H)},u=()=>{n.value&&t.value&&n.value.addEventListener("mousedown",a)},h=()=>{n.value&&t.value&&n.value.removeEventListener("mousedown",a)};Rt(()=>{So(()=>{o.value?u():h()})}),mn(()=>{h()})};var mz={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const gz=t=>(n,o)=>$z(n,o,c(t)),$z=(t,n,o)=>xn(o,t,t).replace(/\{(\w+)\}/g,(i,l)=>{var a;return`${(a=n==null?void 0:n[l])!=null?a:`{${l}}`}`}),vz=t=>{const n=w(()=>c(t).name),o=Tn(t)?t:V(t);return{lang:n,locale:o,t:gz(t)}},f1=Symbol("localeContextKey"),jt=t=>{const n=t||it(f1,V());return vz(w(()=>n.value||mz))},ch="el",_z="is-",ga=(t,n,o,i,l)=>{let a=`${t}-${n}`;return o&&(a+=`-${o}`),i&&(a+=`__${i}`),l&&(a+=`--${l}`),a},m1=Symbol("namespaceContextKey"),NE=t=>{const n=t||(Nt()?it(m1,V(ch)):V(ch));return w(()=>c(n)||ch)},Pe=(t,n)=>{const o=NE(n);return{namespace:o,b:($="")=>ga(o.value,t,$,"",""),e:$=>$?ga(o.value,t,"",$,""):"",m:$=>$?ga(o.value,t,"","",$):"",be:($,E)=>$&&E?ga(o.value,t,$,E,""):"",em:($,E)=>$&&E?ga(o.value,t,"",$,E):"",bm:($,E)=>$&&E?ga(o.value,t,$,"",E):"",bem:($,E,y)=>$&&E&&y?ga(o.value,t,$,E,y):"",is:($,...E)=>{const y=E.length>=1?E[0]:!0;return $&&y?`${_z}${$}`:""},cssVar:$=>{const E={};for(const y in $)$[y]&&(E[`--${o.value}-${y}`]=$[y]);return E},cssVarName:$=>`--${o.value}-${$}`,cssVarBlock:$=>{const E={};for(const y in $)$[y]&&(E[`--${o.value}-${t}-${y}`]=$[y]);return E},cssVarBlockName:$=>`--${o.value}-${t}-${$}`}},ME=(t,n={})=>{Tn(t)||qn("[useLockscreen]","You need to pass a ref param to this function");const o=n.ns||Pe("popup"),i=w(()=>o.bm("parent","hidden"));if(!Xt||Vs(document.body,i.value))return;let l=0,a=!1,u="0";const h=()=>{setTimeout(()=>{xo(document==null?void 0:document.body,i.value),a&&document&&(document.body.style.width=u)},200)};Me(t,p=>{if(!p){h();return}a=!Vs(document.body,i.value),a&&(u=document.body.style.width),l=o1(o.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,g=hl(document.body,"overflowY");l>0&&(f||g==="scroll")&&a&&(document.body.style.width=`calc(100% - ${l}px)`),Bs(document.body,i.value)}),qL(()=>h())},bz=mi({type:fe(Boolean),default:null}),Tz=mi({type:fe(Function)}),g1=t=>{const n=`update:${t}`,o=`onUpdate:${t}`,i=[n],l={[t]:bz,[o]:Tz};return{useModelToggle:({indicator:u,toggleReason:h,shouldHideWhenRouteChanges:p,shouldProceed:f,onShow:g,onHide:m})=>{const _=Nt(),{emit:b}=_,T=_.props,$=w(()=>vt(T[o])),E=w(()=>T[t]===null),y=P=>{u.value!==!0&&(u.value=!0,h&&(h.value=P),vt(g)&&g(P))},I=P=>{u.value!==!1&&(u.value=!1,h&&(h.value=P),vt(m)&&m(P))},S=P=>{if(T.disabled===!0||vt(f)&&!f())return;const M=$.value&&Xt;M&&b(n,!0),(E.value||!M)&&y(P)},C=P=>{if(T.disabled===!0||!Xt)return;const M=$.value&&Xt;M&&b(n,!1),(E.value||!M)&&I(P)},R=P=>{Vn(P)&&(T.disabled&&P?$.value&&b(n,!1):u.value!==P&&(P?y():I()))},O=()=>{u.value?C():S()};return Me(()=>T[t],R),p&&_.appContext.config.globalProperties.$route!==void 0&&Me(()=>({..._.proxy.$route}),()=>{p.value&&u.value&&C()}),Rt(()=>{R(T[t])}),{hide:C,show:S,toggle:O,hasUpdateHandler:$}},useModelToggleProps:l,useModelToggleEmits:i}};g1("modelValue");const $1=t=>{const n=Nt();return w(()=>{var o,i;return(i=(o=n==null?void 0:n.proxy)==null?void 0:o.$props)==null?void 0:i[t]})};var rs="top",Ks="bottom",Xs="right",ls="left",DE="auto",Qh=[rs,Ks,Xs,ls],yc="start",Oh="end",yz="clippingParents",v1="viewport",zd="popper",Ez="reference",jO=Qh.reduce(function(t,n){return t.concat([n+"-"+yc,n+"-"+Oh])},[]),Xa=[].concat(Qh,[DE]).reduce(function(t,n){return t.concat([n,n+"-"+yc,n+"-"+Oh])},[]),Sz="beforeRead",Cz="read",Iz="afterRead",wz="beforeMain",kz="main",Oz="afterMain",Rz="beforeWrite",Lz="write",Az="afterWrite",Nz=[Sz,Cz,Iz,wz,kz,Oz,Rz,Lz,Az];function Ui(t){return t?(t.nodeName||"").toLowerCase():null}function gi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Ec(t){var n=gi(t).Element;return t instanceof n||t instanceof Element}function Us(t){var n=gi(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function PE(t){if(typeof ShadowRoot>"u")return!1;var n=gi(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function Mz(t){var n=t.state;Object.keys(n.elements).forEach(function(o){var i=n.styles[o]||{},l=n.attributes[o]||{},a=n.elements[o];!Us(a)||!Ui(a)||(Object.assign(a.style,i),Object.keys(l).forEach(function(u){var h=l[u];h===!1?a.removeAttribute(u):a.setAttribute(u,h===!0?"":h)}))})}function Dz(t){var n=t.state,o={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,o.popper),n.styles=o,n.elements.arrow&&Object.assign(n.elements.arrow.style,o.arrow),function(){Object.keys(n.elements).forEach(function(i){var l=n.elements[i],a=n.attributes[i]||{},u=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:o[i]),h=u.reduce(function(p,f){return p[f]="",p},{});!Us(l)||!Ui(l)||(Object.assign(l.style,h),Object.keys(a).forEach(function(p){l.removeAttribute(p)}))})}}var _1={name:"applyStyles",enabled:!0,phase:"write",fn:Mz,effect:Dz,requires:["computeStyles"]};function Fi(t){return t.split("-")[0]}var La=Math.max,jm=Math.min,Sc=Math.round;function Cc(t,n){n===void 0&&(n=!1);var o=t.getBoundingClientRect(),i=1,l=1;if(Us(t)&&n){var a=t.offsetHeight,u=t.offsetWidth;u>0&&(i=Sc(o.width)/u||1),a>0&&(l=Sc(o.height)/a||1)}return{width:o.width/i,height:o.height/l,top:o.top/l,right:o.right/i,bottom:o.bottom/l,left:o.left/i,x:o.left/i,y:o.top/l}}function xE(t){var n=Cc(t),o=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-o)<=1&&(o=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:o,height:i}}function b1(t,n){var o=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(o&&PE(o)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function wr(t){return gi(t).getComputedStyle(t)}function Pz(t){return["table","td","th"].indexOf(Ui(t))>=0}function Ml(t){return((Ec(t)?t.ownerDocument:t.document)||window.document).documentElement}function Mg(t){return Ui(t)==="html"?t:t.assignedSlot||t.parentNode||(PE(t)?t.host:null)||Ml(t)}function qO(t){return!Us(t)||wr(t).position==="fixed"?null:t.offsetParent}function xz(t){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,o=navigator.userAgent.indexOf("Trident")!==-1;if(o&&Us(t)){var i=wr(t);if(i.position==="fixed")return null}var l=Mg(t);for(PE(l)&&(l=l.host);Us(l)&&["html","body"].indexOf(Ui(l))<0;){var a=wr(l);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||n&&a.willChange==="filter"||n&&a.filter&&a.filter!=="none")return l;l=l.parentNode}return null}function ep(t){for(var n=gi(t),o=qO(t);o&&Pz(o)&&wr(o).position==="static";)o=qO(o);return o&&(Ui(o)==="html"||Ui(o)==="body"&&wr(o).position==="static")?n:o||xz(t)||n}function BE(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function dh(t,n,o){return La(t,jm(n,o))}function Bz(t,n,o){var i=dh(t,n,o);return i>o?o:i}function T1(){return{top:0,right:0,bottom:0,left:0}}function y1(t){return Object.assign({},T1(),t)}function E1(t,n){return n.reduce(function(o,i){return o[i]=t,o},{})}var Fz=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,y1(typeof t!="number"?t:E1(t,Qh))};function Hz(t){var n,o=t.state,i=t.name,l=t.options,a=o.elements.arrow,u=o.modifiersData.popperOffsets,h=Fi(o.placement),p=BE(h),f=[ls,Xs].indexOf(h)>=0,g=f?"height":"width";if(!(!a||!u)){var m=Fz(l.padding,o),_=xE(a),b=p==="y"?rs:ls,T=p==="y"?Ks:Xs,$=o.rects.reference[g]+o.rects.reference[p]-u[p]-o.rects.popper[g],E=u[p]-o.rects.reference[p],y=ep(a),I=y?p==="y"?y.clientHeight||0:y.clientWidth||0:0,S=$/2-E/2,C=m[b],R=I-_[g]-m[T],O=I/2-_[g]/2+S,P=dh(C,O,R),M=p;o.modifiersData[i]=(n={},n[M]=P,n.centerOffset=P-O,n)}}function Vz(t){var n=t.state,o=t.options,i=o.element,l=i===void 0?"[data-popper-arrow]":i;l!=null&&(typeof l=="string"&&(l=n.elements.popper.querySelector(l),!l)||!b1(n.elements.popper,l)||(n.elements.arrow=l))}var Uz={name:"arrow",enabled:!0,phase:"main",fn:Hz,effect:Vz,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ic(t){return t.split("-")[1]}var Gz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wz(t){var n=t.x,o=t.y,i=window,l=i.devicePixelRatio||1;return{x:Sc(n*l)/l||0,y:Sc(o*l)/l||0}}function JO(t){var n,o=t.popper,i=t.popperRect,l=t.placement,a=t.variation,u=t.offsets,h=t.position,p=t.gpuAcceleration,f=t.adaptive,g=t.roundOffsets,m=t.isFixed,_=u.x,b=_===void 0?0:_,T=u.y,$=T===void 0?0:T,E=typeof g=="function"?g({x:b,y:$}):{x:b,y:$};b=E.x,$=E.y;var y=u.hasOwnProperty("x"),I=u.hasOwnProperty("y"),S=ls,C=rs,R=window;if(f){var O=ep(o),P="clientHeight",M="clientWidth";if(O===gi(o)&&(O=Ml(o),wr(O).position!=="static"&&h==="absolute"&&(P="scrollHeight",M="scrollWidth")),O=O,l===rs||(l===ls||l===Xs)&&a===Oh){C=Ks;var H=m&&O===R&&R.visualViewport?R.visualViewport.height:O[P];$-=H-i.height,$*=p?1:-1}if(l===ls||(l===rs||l===Ks)&&a===Oh){S=Xs;var F=m&&O===R&&R.visualViewport?R.visualViewport.width:O[M];b-=F-i.width,b*=p?1:-1}}var B=Object.assign({position:h},f&&Gz),K=g===!0?Wz({x:b,y:$}):{x:b,y:$};if(b=K.x,$=K.y,p){var te;return Object.assign({},B,(te={},te[C]=I?"0":"",te[S]=y?"0":"",te.transform=(R.devicePixelRatio||1)<=1?"translate("+b+"px, "+$+"px)":"translate3d("+b+"px, "+$+"px, 0)",te))}return Object.assign({},B,(n={},n[C]=I?$+"px":"",n[S]=y?b+"px":"",n.transform="",n))}function zz(t){var n=t.state,o=t.options,i=o.gpuAcceleration,l=i===void 0?!0:i,a=o.adaptive,u=a===void 0?!0:a,h=o.roundOffsets,p=h===void 0?!0:h,f={placement:Fi(n.placement),variation:Ic(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:l,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,JO(Object.assign({},f,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:u,roundOffsets:p})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,JO(Object.assign({},f,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var S1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:zz,data:{}},Xf={passive:!0};function Kz(t){var n=t.state,o=t.instance,i=t.options,l=i.scroll,a=l===void 0?!0:l,u=i.resize,h=u===void 0?!0:u,p=gi(n.elements.popper),f=[].concat(n.scrollParents.reference,n.scrollParents.popper);return a&&f.forEach(function(g){g.addEventListener("scroll",o.update,Xf)}),h&&p.addEventListener("resize",o.update,Xf),function(){a&&f.forEach(function(g){g.removeEventListener("scroll",o.update,Xf)}),h&&p.removeEventListener("resize",o.update,Xf)}}var C1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Kz,data:{}},Xz={left:"right",right:"left",bottom:"top",top:"bottom"};function fm(t){return t.replace(/left|right|bottom|top/g,function(n){return Xz[n]})}var Yz={start:"end",end:"start"};function ZO(t){return t.replace(/start|end/g,function(n){return Yz[n]})}function FE(t){var n=gi(t),o=n.pageXOffset,i=n.pageYOffset;return{scrollLeft:o,scrollTop:i}}function HE(t){return Cc(Ml(t)).left+FE(t).scrollLeft}function jz(t){var n=gi(t),o=Ml(t),i=n.visualViewport,l=o.clientWidth,a=o.clientHeight,u=0,h=0;return i&&(l=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(u=i.offsetLeft,h=i.offsetTop)),{width:l,height:a,x:u+HE(t),y:h}}function qz(t){var n,o=Ml(t),i=FE(t),l=(n=t.ownerDocument)==null?void 0:n.body,a=La(o.scrollWidth,o.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),u=La(o.scrollHeight,o.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),h=-i.scrollLeft+HE(t),p=-i.scrollTop;return wr(l||o).direction==="rtl"&&(h+=La(o.clientWidth,l?l.clientWidth:0)-a),{width:a,height:u,x:h,y:p}}function VE(t){var n=wr(t),o=n.overflow,i=n.overflowX,l=n.overflowY;return/auto|scroll|overlay|hidden/.test(o+l+i)}function I1(t){return["html","body","#document"].indexOf(Ui(t))>=0?t.ownerDocument.body:Us(t)&&VE(t)?t:I1(Mg(t))}function hh(t,n){var o;n===void 0&&(n=[]);var i=I1(t),l=i===((o=t.ownerDocument)==null?void 0:o.body),a=gi(i),u=l?[a].concat(a.visualViewport||[],VE(i)?i:[]):i,h=n.concat(u);return l?h:h.concat(hh(Mg(u)))}function NT(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Jz(t){var n=Cc(t);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function QO(t,n){return n===v1?NT(jz(t)):Ec(n)?Jz(n):NT(qz(Ml(t)))}function Zz(t){var n=hh(Mg(t)),o=["absolute","fixed"].indexOf(wr(t).position)>=0,i=o&&Us(t)?ep(t):t;return Ec(i)?n.filter(function(l){return Ec(l)&&b1(l,i)&&Ui(l)!=="body"}):[]}function Qz(t,n,o){var i=n==="clippingParents"?Zz(t):[].concat(n),l=[].concat(i,[o]),a=l[0],u=l.reduce(function(h,p){var f=QO(t,p);return h.top=La(f.top,h.top),h.right=jm(f.right,h.right),h.bottom=jm(f.bottom,h.bottom),h.left=La(f.left,h.left),h},QO(t,a));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function w1(t){var n=t.reference,o=t.element,i=t.placement,l=i?Fi(i):null,a=i?Ic(i):null,u=n.x+n.width/2-o.width/2,h=n.y+n.height/2-o.height/2,p;switch(l){case rs:p={x:u,y:n.y-o.height};break;case Ks:p={x:u,y:n.y+n.height};break;case Xs:p={x:n.x+n.width,y:h};break;case ls:p={x:n.x-o.width,y:h};break;default:p={x:n.x,y:n.y}}var f=l?BE(l):null;if(f!=null){var g=f==="y"?"height":"width";switch(a){case yc:p[f]=p[f]-(n[g]/2-o[g]/2);break;case Oh:p[f]=p[f]+(n[g]/2-o[g]/2);break}}return p}function Rh(t,n){n===void 0&&(n={});var o=n,i=o.placement,l=i===void 0?t.placement:i,a=o.boundary,u=a===void 0?yz:a,h=o.rootBoundary,p=h===void 0?v1:h,f=o.elementContext,g=f===void 0?zd:f,m=o.altBoundary,_=m===void 0?!1:m,b=o.padding,T=b===void 0?0:b,$=y1(typeof T!="number"?T:E1(T,Qh)),E=g===zd?Ez:zd,y=t.rects.popper,I=t.elements[_?E:g],S=Qz(Ec(I)?I:I.contextElement||Ml(t.elements.popper),u,p),C=Cc(t.elements.reference),R=w1({reference:C,element:y,strategy:"absolute",placement:l}),O=NT(Object.assign({},y,R)),P=g===zd?O:C,M={top:S.top-P.top+$.top,bottom:P.bottom-S.bottom+$.bottom,left:S.left-P.left+$.left,right:P.right-S.right+$.right},H=t.modifiersData.offset;if(g===zd&&H){var F=H[l];Object.keys(M).forEach(function(B){var K=[Xs,Ks].indexOf(B)>=0?1:-1,te=[rs,Ks].indexOf(B)>=0?"y":"x";M[B]+=F[te]*K})}return M}function e8(t,n){n===void 0&&(n={});var o=n,i=o.placement,l=o.boundary,a=o.rootBoundary,u=o.padding,h=o.flipVariations,p=o.allowedAutoPlacements,f=p===void 0?Xa:p,g=Ic(i),m=g?h?jO:jO.filter(function(T){return Ic(T)===g}):Qh,_=m.filter(function(T){return f.indexOf(T)>=0});_.length===0&&(_=m);var b=_.reduce(function(T,$){return T[$]=Rh(t,{placement:$,boundary:l,rootBoundary:a,padding:u})[Fi($)],T},{});return Object.keys(b).sort(function(T,$){return b[T]-b[$]})}function t8(t){if(Fi(t)===DE)return[];var n=fm(t);return[ZO(t),n,ZO(n)]}function n8(t){var n=t.state,o=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var l=o.mainAxis,a=l===void 0?!0:l,u=o.altAxis,h=u===void 0?!0:u,p=o.fallbackPlacements,f=o.padding,g=o.boundary,m=o.rootBoundary,_=o.altBoundary,b=o.flipVariations,T=b===void 0?!0:b,$=o.allowedAutoPlacements,E=n.options.placement,y=Fi(E),I=y===E,S=p||(I||!T?[fm(E)]:t8(E)),C=[E].concat(S).reduce(function(Se,De){return Se.concat(Fi(De)===DE?e8(n,{placement:De,boundary:g,rootBoundary:m,padding:f,flipVariations:T,allowedAutoPlacements:$}):De)},[]),R=n.rects.reference,O=n.rects.popper,P=new Map,M=!0,H=C[0],F=0;F<C.length;F++){var B=C[F],K=Fi(B),te=Ic(B)===yc,J=[rs,Ks].indexOf(K)>=0,j=J?"width":"height",z=Rh(n,{placement:B,boundary:g,rootBoundary:m,altBoundary:_,padding:f}),G=J?te?Xs:ls:te?Ks:rs;R[j]>O[j]&&(G=fm(G));var W=fm(G),D=[];if(a&&D.push(z[K]<=0),h&&D.push(z[G]<=0,z[W]<=0),D.every(function(Se){return Se})){H=B,M=!1;break}P.set(B,D)}if(M)for(var X=T?3:1,oe=function(Se){var De=C.find(function(ce){var ye=P.get(ce);if(ye)return ye.slice(0,Se).every(function(_e){return _e})});if(De)return H=De,"break"},le=X;le>0;le--){var me=oe(le);if(me==="break")break}n.placement!==H&&(n.modifiersData[i]._skip=!0,n.placement=H,n.reset=!0)}}var o8={name:"flip",enabled:!0,phase:"main",fn:n8,requiresIfExists:["offset"],data:{_skip:!1}};function eR(t,n,o){return o===void 0&&(o={x:0,y:0}),{top:t.top-n.height-o.y,right:t.right-n.width+o.x,bottom:t.bottom-n.height+o.y,left:t.left-n.width-o.x}}function tR(t){return[rs,Xs,Ks,ls].some(function(n){return t[n]>=0})}function s8(t){var n=t.state,o=t.name,i=n.rects.reference,l=n.rects.popper,a=n.modifiersData.preventOverflow,u=Rh(n,{elementContext:"reference"}),h=Rh(n,{altBoundary:!0}),p=eR(u,i),f=eR(h,l,a),g=tR(p),m=tR(f);n.modifiersData[o]={referenceClippingOffsets:p,popperEscapeOffsets:f,isReferenceHidden:g,hasPopperEscaped:m},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":m})}var i8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:s8};function r8(t,n,o){var i=Fi(t),l=[ls,rs].indexOf(i)>=0?-1:1,a=typeof o=="function"?o(Object.assign({},n,{placement:t})):o,u=a[0],h=a[1];return u=u||0,h=(h||0)*l,[ls,Xs].indexOf(i)>=0?{x:h,y:u}:{x:u,y:h}}function l8(t){var n=t.state,o=t.options,i=t.name,l=o.offset,a=l===void 0?[0,0]:l,u=Xa.reduce(function(g,m){return g[m]=r8(m,n.rects,a),g},{}),h=u[n.placement],p=h.x,f=h.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=p,n.modifiersData.popperOffsets.y+=f),n.modifiersData[i]=u}var a8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:l8};function u8(t){var n=t.state,o=t.name;n.modifiersData[o]=w1({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var k1={name:"popperOffsets",enabled:!0,phase:"read",fn:u8,data:{}};function c8(t){return t==="x"?"y":"x"}function d8(t){var n=t.state,o=t.options,i=t.name,l=o.mainAxis,a=l===void 0?!0:l,u=o.altAxis,h=u===void 0?!1:u,p=o.boundary,f=o.rootBoundary,g=o.altBoundary,m=o.padding,_=o.tether,b=_===void 0?!0:_,T=o.tetherOffset,$=T===void 0?0:T,E=Rh(n,{boundary:p,rootBoundary:f,padding:m,altBoundary:g}),y=Fi(n.placement),I=Ic(n.placement),S=!I,C=BE(y),R=c8(C),O=n.modifiersData.popperOffsets,P=n.rects.reference,M=n.rects.popper,H=typeof $=="function"?$(Object.assign({},n.rects,{placement:n.placement})):$,F=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),B=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,K={x:0,y:0};if(O){if(a){var te,J=C==="y"?rs:ls,j=C==="y"?Ks:Xs,z=C==="y"?"height":"width",G=O[C],W=G+E[J],D=G-E[j],X=b?-M[z]/2:0,oe=I===yc?P[z]:M[z],le=I===yc?-M[z]:-P[z],me=n.elements.arrow,Se=b&&me?xE(me):{width:0,height:0},De=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:T1(),ce=De[J],ye=De[j],_e=dh(0,P[z],Se[z]),Ke=S?P[z]/2-X-_e-ce-F.mainAxis:oe-_e-ce-F.mainAxis,ve=S?-P[z]/2+X+_e+ye+F.mainAxis:le+_e+ye+F.mainAxis,Ae=n.elements.arrow&&ep(n.elements.arrow),Fe=Ae?C==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,ae=(te=B==null?void 0:B[C])!=null?te:0,de=G+Ke-ae-Fe,Re=G+ve-ae,Be=dh(b?jm(W,de):W,G,b?La(D,Re):D);O[C]=Be,K[C]=Be-G}if(h){var Ee,Ne=C==="x"?rs:ls,He=C==="x"?Ks:Xs,ue=O[R],Ie=R==="y"?"height":"width",ke=ue+E[Ne],Ue=ue-E[He],ot=[rs,ls].indexOf(y)!==-1,q=(Ee=B==null?void 0:B[R])!=null?Ee:0,Qe=ot?ke:ue-P[Ie]-M[Ie]-q+F.altAxis,lt=ot?ue+P[Ie]+M[Ie]-q-F.altAxis:Ue,bt=b&&ot?Bz(Qe,ue,lt):dh(b?Qe:ke,ue,b?lt:Ue);O[R]=bt,K[R]=bt-ue}n.modifiersData[i]=K}}var h8={name:"preventOverflow",enabled:!0,phase:"main",fn:d8,requiresIfExists:["offset"]};function p8(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function f8(t){return t===gi(t)||!Us(t)?FE(t):p8(t)}function m8(t){var n=t.getBoundingClientRect(),o=Sc(n.width)/t.offsetWidth||1,i=Sc(n.height)/t.offsetHeight||1;return o!==1||i!==1}function g8(t,n,o){o===void 0&&(o=!1);var i=Us(n),l=Us(n)&&m8(n),a=Ml(n),u=Cc(t,l),h={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!o)&&((Ui(n)!=="body"||VE(a))&&(h=f8(n)),Us(n)?(p=Cc(n,!0),p.x+=n.clientLeft,p.y+=n.clientTop):a&&(p.x=HE(a))),{x:u.left+h.scrollLeft-p.x,y:u.top+h.scrollTop-p.y,width:u.width,height:u.height}}function $8(t){var n=new Map,o=new Set,i=[];t.forEach(function(a){n.set(a.name,a)});function l(a){o.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(h){if(!o.has(h)){var p=n.get(h);p&&l(p)}}),i.push(a)}return t.forEach(function(a){o.has(a.name)||l(a)}),i}function v8(t){var n=$8(t);return Nz.reduce(function(o,i){return o.concat(n.filter(function(l){return l.phase===i}))},[])}function _8(t){var n;return function(){return n||(n=new Promise(function(o){Promise.resolve().then(function(){n=void 0,o(t())})})),n}}function b8(t){var n=t.reduce(function(o,i){var l=o[i.name];return o[i.name]=l?Object.assign({},l,i,{options:Object.assign({},l.options,i.options),data:Object.assign({},l.data,i.data)}):i,o},{});return Object.keys(n).map(function(o){return n[o]})}var nR={placement:"bottom",modifiers:[],strategy:"absolute"};function oR(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return!n.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function UE(t){t===void 0&&(t={});var n=t,o=n.defaultModifiers,i=o===void 0?[]:o,l=n.defaultOptions,a=l===void 0?nR:l;return function(u,h,p){p===void 0&&(p=a);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},nR,a),modifiersData:{},elements:{reference:u,popper:h},attributes:{},styles:{}},g=[],m=!1,_={state:f,setOptions:function($){var E=typeof $=="function"?$(f.options):$;T(),f.options=Object.assign({},a,f.options,E),f.scrollParents={reference:Ec(u)?hh(u):u.contextElement?hh(u.contextElement):[],popper:hh(h)};var y=v8(b8([].concat(i,f.options.modifiers)));return f.orderedModifiers=y.filter(function(I){return I.enabled}),b(),_.update()},forceUpdate:function(){if(!m){var $=f.elements,E=$.reference,y=$.popper;if(oR(E,y)){f.rects={reference:g8(E,ep(y),f.options.strategy==="fixed"),popper:xE(y)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(M){return f.modifiersData[M.name]=Object.assign({},M.data)});for(var I=0;I<f.orderedModifiers.length;I++){if(f.reset===!0){f.reset=!1,I=-1;continue}var S=f.orderedModifiers[I],C=S.fn,R=S.options,O=R===void 0?{}:R,P=S.name;typeof C=="function"&&(f=C({state:f,options:O,name:P,instance:_})||f)}}}},update:_8(function(){return new Promise(function($){_.forceUpdate(),$(f)})}),destroy:function(){T(),m=!0}};if(!oR(u,h))return _;_.setOptions(p).then(function($){!m&&p.onFirstUpdate&&p.onFirstUpdate($)});function b(){f.orderedModifiers.forEach(function($){var E=$.name,y=$.options,I=y===void 0?{}:y,S=$.effect;if(typeof S=="function"){var C=S({state:f,name:E,instance:_,options:I}),R=function(){};g.push(C||R)}})}function T(){g.forEach(function($){return $()}),g=[]}return _}}UE();var T8=[C1,k1,S1,_1];UE({defaultModifiers:T8});var y8=[C1,k1,S1,_1,a8,o8,h8,Uz,i8],E8=UE({defaultModifiers:y8});const S8=(t,n,o={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:p})=>{const f=C8(p);Object.assign(u.value,f)},requires:["computeStyles"]},l=w(()=>{const{onFirstUpdate:p,placement:f,strategy:g,modifiers:m}=c(o);return{onFirstUpdate:p,placement:f||"bottom",strategy:g||"absolute",modifiers:[...m||[],i,{name:"applyStyles",enabled:!1}]}}),a=bn(),u=V({styles:{popper:{position:c(l).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),h=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return Me(l,p=>{const f=c(a);f&&f.setOptions(p)},{deep:!0}),Me([t,n],([p,f])=>{h(),!(!p||!f)&&(a.value=E8(p,f,c(l)))}),mn(()=>{h()}),{state:w(()=>{var p;return{...((p=c(a))==null?void 0:p.state)||{}}}),styles:w(()=>c(u).styles),attributes:w(()=>c(u).attributes),update:()=>{var p;return(p=c(a))==null?void 0:p.update()},forceUpdate:()=>{var p;return(p=c(a))==null?void 0:p.forceUpdate()},instanceRef:w(()=>c(a))}};function C8(t){const n=Object.keys(t.elements),o=Ym(n.map(l=>[l,t.styles[l]||{}])),i=Ym(n.map(l=>[l,t.attributes[l]]));return{styles:o,attributes:i}}const GE=t=>{if(!t)return{onClick:on,onMousedown:on,onMouseup:on};let n=!1,o=!1;return{onClick:u=>{n&&o&&t(u),n=o=!1},onMousedown:u=>{n=u.target===u.currentTarget},onMouseup:u=>{o=u.target===u.currentTarget}}},I8=(t,n=0)=>{if(n===0)return t;const o=V(!1);let i=0;const l=()=>{i&&clearTimeout(i),i=window.setTimeout(()=>{o.value=t.value},n)};return Rt(l),Me(()=>t.value,a=>{a?l():o.value=a}),o};function sR(){let t;const n=(i,l)=>{o(),t=window.setTimeout(i,l)},o=()=>window.clearTimeout(t);return Xh(()=>o()),{registerTimeout:n,cancelTimeout:o}}const iR={prefix:Math.floor(Math.random()*1e4),current:0},w8=Symbol("elIdInjection"),WE=()=>Nt()?it(w8,iR):iR,Io=t=>{const n=WE(),o=NE();return w(()=>c(t)||`${o.value}-id-${n.prefix}-${n.current++}`)};let ju=[];const rR=t=>{const n=t;n.key===mt.esc&&ju.forEach(o=>o(n))},k8=t=>{Rt(()=>{ju.length===0&&document.addEventListener("keydown",rR),Xt&&ju.push(t)}),mn(()=>{ju=ju.filter(n=>n!==t),ju.length===0&&Xt&&document.removeEventListener("keydown",rR)})};let lR;const O1=()=>{const t=NE(),n=WE(),o=w(()=>`${t.value}-popper-container-${n.prefix}`),i=w(()=>`#${o.value}`);return{id:o,selector:i}},O8=t=>{const n=document.createElement("div");return n.id=t,document.body.appendChild(n),n},R8=()=>{const{id:t,selector:n}=O1();return bg(()=>{Xt&&!lR&&!document.body.querySelector(n.value)&&(lR=O8(t.value))}),{id:t,selector:n}},L8=Ve({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),A8=({showAfter:t,hideAfter:n,autoClose:o,open:i,close:l})=>{const{registerTimeout:a}=sR(),{registerTimeout:u,cancelTimeout:h}=sR();return{onOpen:g=>{a(()=>{i(g);const m=c(o);gt(m)&&m>0&&u(()=>{l(g)},m)},c(t))},onClose:g=>{h(),a(()=>{l(g)},c(n))}}},R1=Symbol("elForwardRef"),N8=t=>{Gt(R1,{setForwardRef:o=>{t.value=o}})},M8=t=>({mounted(n){t(n)},updated(n){t(n)},unmounted(){t(null)}}),aR={current:0},uR=V(0),L1=2e3,cR=Symbol("elZIndexContextKey"),A1=Symbol("zIndexContextKey"),Vc=t=>{const n=Nt()?it(cR,aR):aR,o=t||(Nt()?it(A1,void 0):void 0),i=w(()=>{const u=c(o);return gt(u)?u:L1}),l=w(()=>i.value+uR.value),a=()=>(n.current++,uR.value=n.current,l.value);return!Xt&&it(cR),{initialZIndex:i,currentZIndex:l,nextZIndex:a}},wc=Math.min,Aa=Math.max,qm=Math.round,Yf=Math.floor,Il=t=>({x:t,y:t}),D8={left:"right",right:"left",bottom:"top",top:"bottom"},P8={start:"end",end:"start"};function MT(t,n,o){return Aa(t,wc(n,o))}function tp(t,n){return typeof t=="function"?t(n):t}function Fa(t){return t.split("-")[0]}function np(t){return t.split("-")[1]}function N1(t){return t==="x"?"y":"x"}function zE(t){return t==="y"?"height":"width"}function kc(t){return["top","bottom"].includes(Fa(t))?"y":"x"}function KE(t){return N1(kc(t))}function x8(t,n,o){o===void 0&&(o=!1);const i=np(t),l=KE(t),a=zE(l);let u=l==="x"?i===(o?"end":"start")?"right":"left":i==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(u=Jm(u)),[u,Jm(u)]}function B8(t){const n=Jm(t);return[DT(t),n,DT(n)]}function DT(t){return t.replace(/start|end/g,n=>P8[n])}function F8(t,n,o){const i=["left","right"],l=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return o?n?l:i:n?i:l;case"left":case"right":return n?a:u;default:return[]}}function H8(t,n,o,i){const l=np(t);let a=F8(Fa(t),o==="start",i);return l&&(a=a.map(u=>u+"-"+l),n&&(a=a.concat(a.map(DT)))),a}function Jm(t){return t.replace(/left|right|bottom|top/g,n=>D8[n])}function V8(t){return{top:0,right:0,bottom:0,left:0,...t}}function M1(t){return typeof t!="number"?V8(t):{top:t,right:t,bottom:t,left:t}}function Zm(t){const{x:n,y:o,width:i,height:l}=t;return{width:i,height:l,top:o,left:n,right:n+i,bottom:o+l,x:n,y:o}}function dR(t,n,o){let{reference:i,floating:l}=t;const a=kc(n),u=KE(n),h=zE(u),p=Fa(n),f=a==="y",g=i.x+i.width/2-l.width/2,m=i.y+i.height/2-l.height/2,_=i[h]/2-l[h]/2;let b;switch(p){case"top":b={x:g,y:i.y-l.height};break;case"bottom":b={x:g,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:m};break;case"left":b={x:i.x-l.width,y:m};break;default:b={x:i.x,y:i.y}}switch(np(n)){case"start":b[u]-=_*(o&&f?-1:1);break;case"end":b[u]+=_*(o&&f?-1:1);break}return b}const U8=async(t,n,o)=>{const{placement:i="bottom",strategy:l="absolute",middleware:a=[],platform:u}=o,h=a.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(n));let f=await u.getElementRects({reference:t,floating:n,strategy:l}),{x:g,y:m}=dR(f,i,p),_=i,b={},T=0;for(let $=0;$<h.length;$++){const{name:E,fn:y}=h[$],{x:I,y:S,data:C,reset:R}=await y({x:g,y:m,initialPlacement:i,placement:_,strategy:l,middlewareData:b,rects:f,platform:u,elements:{reference:t,floating:n}});g=I??g,m=S??m,b={...b,[E]:{...b[E],...C}},R&&T<=50&&(T++,typeof R=="object"&&(R.placement&&(_=R.placement),R.rects&&(f=R.rects===!0?await u.getElementRects({reference:t,floating:n,strategy:l}):R.rects),{x:g,y:m}=dR(f,_,p)),$=-1)}return{x:g,y:m,placement:_,strategy:l,middlewareData:b}};async function XE(t,n){var o;n===void 0&&(n={});const{x:i,y:l,platform:a,rects:u,elements:h,strategy:p}=t,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:_=!1,padding:b=0}=tp(n,t),T=M1(b),E=h[_?m==="floating"?"reference":"floating":m],y=Zm(await a.getClippingRect({element:(o=await(a.isElement==null?void 0:a.isElement(E)))==null||o?E:E.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:f,rootBoundary:g,strategy:p})),I=m==="floating"?{x:i,y:l,width:u.floating.width,height:u.floating.height}:u.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),C=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},R=Zm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:I,offsetParent:S,strategy:p}):I);return{top:(y.top-R.top+T.top)/C.y,bottom:(R.bottom-y.bottom+T.bottom)/C.y,left:(y.left-R.left+T.left)/C.x,right:(R.right-y.right+T.right)/C.x}}const G8=t=>({name:"arrow",options:t,async fn(n){const{x:o,y:i,placement:l,rects:a,platform:u,elements:h,middlewareData:p}=n,{element:f,padding:g=0}=tp(t,n)||{};if(f==null)return{};const m=M1(g),_={x:o,y:i},b=KE(l),T=zE(b),$=await u.getDimensions(f),E=b==="y",y=E?"top":"left",I=E?"bottom":"right",S=E?"clientHeight":"clientWidth",C=a.reference[T]+a.reference[b]-_[b]-a.floating[T],R=_[b]-a.reference[b],O=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f));let P=O?O[S]:0;(!P||!await(u.isElement==null?void 0:u.isElement(O)))&&(P=h.floating[S]||a.floating[T]);const M=C/2-R/2,H=P/2-$[T]/2-1,F=wc(m[y],H),B=wc(m[I],H),K=F,te=P-$[T]-B,J=P/2-$[T]/2+M,j=MT(K,J,te),z=!p.arrow&&np(l)!=null&&J!==j&&a.reference[T]/2-(J<K?F:B)-$[T]/2<0,G=z?J<K?J-K:J-te:0;return{[b]:_[b]+G,data:{[b]:j,centerOffset:J-j-G,...z&&{alignmentOffset:G}},reset:z}}}),W8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var o,i;const{placement:l,middlewareData:a,rects:u,initialPlacement:h,platform:p,elements:f}=n,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:$=!0,...E}=tp(t,n);if((o=a.arrow)!=null&&o.alignmentOffset)return{};const y=Fa(l),I=kc(h),S=Fa(h)===h,C=await(p.isRTL==null?void 0:p.isRTL(f.floating)),R=_||(S||!$?[Jm(h)]:B8(h)),O=T!=="none";!_&&O&&R.push(...H8(h,$,T,C));const P=[h,...R],M=await XE(n,E),H=[];let F=((i=a.flip)==null?void 0:i.overflows)||[];if(g&&H.push(M[y]),m){const J=x8(l,u,C);H.push(M[J[0]],M[J[1]])}if(F=[...F,{placement:l,overflows:H}],!H.every(J=>J<=0)){var B,K;const J=(((B=a.flip)==null?void 0:B.index)||0)+1,j=P[J];if(j)return{data:{index:J,overflows:F},reset:{placement:j}};let z=(K=F.filter(G=>G.overflows[0]<=0).sort((G,W)=>G.overflows[1]-W.overflows[1])[0])==null?void 0:K.placement;if(!z)switch(b){case"bestFit":{var te;const G=(te=F.filter(W=>{if(O){const D=kc(W.placement);return D===I||D==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(D=>D>0).reduce((D,X)=>D+X,0)]).sort((W,D)=>W[1]-D[1])[0])==null?void 0:te[0];G&&(z=G);break}case"initialPlacement":z=h;break}if(l!==z)return{reset:{placement:z}}}return{}}}};async function z8(t,n){const{placement:o,platform:i,elements:l}=t,a=await(i.isRTL==null?void 0:i.isRTL(l.floating)),u=Fa(o),h=np(o),p=kc(o)==="y",f=["left","top"].includes(u)?-1:1,g=a&&p?-1:1,m=tp(n,t);let{mainAxis:_,crossAxis:b,alignmentAxis:T}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return h&&typeof T=="number"&&(b=h==="end"?T*-1:T),p?{x:b*g,y:_*f}:{x:_*f,y:b*g}}const K8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){var o,i;const{x:l,y:a,placement:u,middlewareData:h}=n,p=await z8(n,t);return u===((o=h.offset)==null?void 0:o.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:l+p.x,y:a+p.y,data:{...p,placement:u}}}}},X8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:o,y:i,placement:l}=n,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:E=>{let{x:y,y:I}=E;return{x:y,y:I}}},...p}=tp(t,n),f={x:o,y:i},g=await XE(n,p),m=kc(Fa(l)),_=N1(m);let b=f[_],T=f[m];if(a){const E=_==="y"?"top":"left",y=_==="y"?"bottom":"right",I=b+g[E],S=b-g[y];b=MT(I,b,S)}if(u){const E=m==="y"?"top":"left",y=m==="y"?"bottom":"right",I=T+g[E],S=T-g[y];T=MT(I,T,S)}const $=h.fn({...n,[_]:b,[m]:T});return{...$,data:{x:$.x-o,y:$.y-i}}}}};function Uc(t){return D1(t)?(t.nodeName||"").toLowerCase():"#document"}function Es(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function Mr(t){var n;return(n=(D1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function D1(t){return t instanceof Node||t instanceof Es(t).Node}function Gi(t){return t instanceof Element||t instanceof Es(t).Element}function Wi(t){return t instanceof HTMLElement||t instanceof Es(t).HTMLElement}function hR(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Es(t).ShadowRoot}function op(t){const{overflow:n,overflowX:o,overflowY:i,display:l}=pi(t);return/auto|scroll|overlay|hidden|clip/.test(n+i+o)&&!["inline","contents"].includes(l)}function Y8(t){return["table","td","th"].includes(Uc(t))}function Dg(t){return[":popover-open",":modal"].some(n=>{try{return t.matches(n)}catch{return!1}})}function YE(t){const n=jE(),o=pi(t);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!n&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!n&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(o.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(o.contain||"").includes(i))}function j8(t){let n=wl(t);for(;Wi(n)&&!Oc(n);){if(Dg(n))return null;if(YE(n))return n;n=wl(n)}return null}function jE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oc(t){return["html","body","#document"].includes(Uc(t))}function pi(t){return Es(t).getComputedStyle(t)}function Pg(t){return Gi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function wl(t){if(Uc(t)==="html")return t;const n=t.assignedSlot||t.parentNode||hR(t)&&t.host||Mr(t);return hR(n)?n.host:n}function P1(t){const n=wl(t);return Oc(n)?t.ownerDocument?t.ownerDocument.body:t.body:Wi(n)&&op(n)?n:P1(n)}function Lh(t,n,o){var i;n===void 0&&(n=[]),o===void 0&&(o=!0);const l=P1(t),a=l===((i=t.ownerDocument)==null?void 0:i.body),u=Es(l);return a?n.concat(u,u.visualViewport||[],op(l)?l:[],u.frameElement&&o?Lh(u.frameElement):[]):n.concat(l,Lh(l,[],o))}function x1(t){const n=pi(t);let o=parseFloat(n.width)||0,i=parseFloat(n.height)||0;const l=Wi(t),a=l?t.offsetWidth:o,u=l?t.offsetHeight:i,h=qm(o)!==a||qm(i)!==u;return h&&(o=a,i=u),{width:o,height:i,$:h}}function qE(t){return Gi(t)?t:t.contextElement}function ac(t){const n=qE(t);if(!Wi(n))return Il(1);const o=n.getBoundingClientRect(),{width:i,height:l,$:a}=x1(n);let u=(a?qm(o.width):o.width)/i,h=(a?qm(o.height):o.height)/l;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const q8=Il(0);function B1(t){const n=Es(t);return!jE()||!n.visualViewport?q8:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function J8(t,n,o){return n===void 0&&(n=!1),!o||n&&o!==Es(t)?!1:n}function Ha(t,n,o,i){n===void 0&&(n=!1),o===void 0&&(o=!1);const l=t.getBoundingClientRect(),a=qE(t);let u=Il(1);n&&(i?Gi(i)&&(u=ac(i)):u=ac(t));const h=J8(a,o,i)?B1(a):Il(0);let p=(l.left+h.x)/u.x,f=(l.top+h.y)/u.y,g=l.width/u.x,m=l.height/u.y;if(a){const _=Es(a),b=i&&Gi(i)?Es(i):i;let T=_,$=T.frameElement;for(;$&&i&&b!==T;){const E=ac($),y=$.getBoundingClientRect(),I=pi($),S=y.left+($.clientLeft+parseFloat(I.paddingLeft))*E.x,C=y.top+($.clientTop+parseFloat(I.paddingTop))*E.y;p*=E.x,f*=E.y,g*=E.x,m*=E.y,p+=S,f+=C,T=Es($),$=T.frameElement}}return Zm({width:g,height:m,x:p,y:f})}function Z8(t){let{elements:n,rect:o,offsetParent:i,strategy:l}=t;const a=l==="fixed",u=Mr(i),h=n?Dg(n.floating):!1;if(i===u||h&&a)return o;let p={scrollLeft:0,scrollTop:0},f=Il(1);const g=Il(0),m=Wi(i);if((m||!m&&!a)&&((Uc(i)!=="body"||op(u))&&(p=Pg(i)),Wi(i))){const _=Ha(i);f=ac(i),g.x=_.x+i.clientLeft,g.y=_.y+i.clientTop}return{width:o.width*f.x,height:o.height*f.y,x:o.x*f.x-p.scrollLeft*f.x+g.x,y:o.y*f.y-p.scrollTop*f.y+g.y}}function Q8(t){return Array.from(t.getClientRects())}function F1(t){return Ha(Mr(t)).left+Pg(t).scrollLeft}function e6(t){const n=Mr(t),o=Pg(t),i=t.ownerDocument.body,l=Aa(n.scrollWidth,n.clientWidth,i.scrollWidth,i.clientWidth),a=Aa(n.scrollHeight,n.clientHeight,i.scrollHeight,i.clientHeight);let u=-o.scrollLeft+F1(t);const h=-o.scrollTop;return pi(i).direction==="rtl"&&(u+=Aa(n.clientWidth,i.clientWidth)-l),{width:l,height:a,x:u,y:h}}function t6(t,n){const o=Es(t),i=Mr(t),l=o.visualViewport;let a=i.clientWidth,u=i.clientHeight,h=0,p=0;if(l){a=l.width,u=l.height;const f=jE();(!f||f&&n==="fixed")&&(h=l.offsetLeft,p=l.offsetTop)}return{width:a,height:u,x:h,y:p}}function n6(t,n){const o=Ha(t,!0,n==="fixed"),i=o.top+t.clientTop,l=o.left+t.clientLeft,a=Wi(t)?ac(t):Il(1),u=t.clientWidth*a.x,h=t.clientHeight*a.y,p=l*a.x,f=i*a.y;return{width:u,height:h,x:p,y:f}}function pR(t,n,o){let i;if(n==="viewport")i=t6(t,o);else if(n==="document")i=e6(Mr(t));else if(Gi(n))i=n6(n,o);else{const l=B1(t);i={...n,x:n.x-l.x,y:n.y-l.y}}return Zm(i)}function H1(t,n){const o=wl(t);return o===n||!Gi(o)||Oc(o)?!1:pi(o).position==="fixed"||H1(o,n)}function o6(t,n){const o=n.get(t);if(o)return o;let i=Lh(t,[],!1).filter(h=>Gi(h)&&Uc(h)!=="body"),l=null;const a=pi(t).position==="fixed";let u=a?wl(t):t;for(;Gi(u)&&!Oc(u);){const h=pi(u),p=YE(u);!p&&h.position==="fixed"&&(l=null),(a?!p&&!l:!p&&h.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||op(u)&&!p&&H1(t,u))?i=i.filter(g=>g!==u):l=h,u=wl(u)}return n.set(t,i),i}function s6(t){let{element:n,boundary:o,rootBoundary:i,strategy:l}=t;const u=[...o==="clippingAncestors"?Dg(n)?[]:o6(n,this._c):[].concat(o),i],h=u[0],p=u.reduce((f,g)=>{const m=pR(n,g,l);return f.top=Aa(m.top,f.top),f.right=wc(m.right,f.right),f.bottom=wc(m.bottom,f.bottom),f.left=Aa(m.left,f.left),f},pR(n,h,l));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function i6(t){const{width:n,height:o}=x1(t);return{width:n,height:o}}function r6(t,n,o){const i=Wi(n),l=Mr(n),a=o==="fixed",u=Ha(t,!0,a,n);let h={scrollLeft:0,scrollTop:0};const p=Il(0);if(i||!i&&!a)if((Uc(n)!=="body"||op(l))&&(h=Pg(n)),i){const m=Ha(n,!0,a,n);p.x=m.x+n.clientLeft,p.y=m.y+n.clientTop}else l&&(p.x=F1(l));const f=u.left+h.scrollLeft-p.x,g=u.top+h.scrollTop-p.y;return{x:f,y:g,width:u.width,height:u.height}}function Hb(t){return pi(t).position==="static"}function fR(t,n){return!Wi(t)||pi(t).position==="fixed"?null:n?n(t):t.offsetParent}function V1(t,n){const o=Es(t);if(Dg(t))return o;if(!Wi(t)){let l=wl(t);for(;l&&!Oc(l);){if(Gi(l)&&!Hb(l))return l;l=wl(l)}return o}let i=fR(t,n);for(;i&&Y8(i)&&Hb(i);)i=fR(i,n);return i&&Oc(i)&&Hb(i)&&!YE(i)?o:i||j8(t)||o}const l6=async function(t){const n=this.getOffsetParent||V1,o=this.getDimensions,i=await o(t.floating);return{reference:r6(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function a6(t){return pi(t).direction==="rtl"}const u6={convertOffsetParentRelativeRectToViewportRelativeRect:Z8,getDocumentElement:Mr,getClippingRect:s6,getOffsetParent:V1,getElementRects:l6,getClientRects:Q8,getDimensions:i6,getScale:ac,isElement:Gi,isRTL:a6};function c6(t,n){let o=null,i;const l=Mr(t);function a(){var h;clearTimeout(i),(h=o)==null||h.disconnect(),o=null}function u(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),a();const{left:f,top:g,width:m,height:_}=t.getBoundingClientRect();if(h||n(),!m||!_)return;const b=Yf(g),T=Yf(l.clientWidth-(f+m)),$=Yf(l.clientHeight-(g+_)),E=Yf(f),I={rootMargin:-b+"px "+-T+"px "+-$+"px "+-E+"px",threshold:Aa(0,wc(1,p))||1};let S=!0;function C(R){const O=R[0].intersectionRatio;if(O!==p){if(!S)return u();O?u(!1,O):i=setTimeout(()=>{u(!1,1e-7)},1e3)}S=!1}try{o=new IntersectionObserver(C,{...I,root:l.ownerDocument})}catch{o=new IntersectionObserver(C,I)}o.observe(t)}return u(!0),a}function d6(t,n,o,i){i===void 0&&(i={});const{ancestorScroll:l=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,f=qE(t),g=l||a?[...f?Lh(f):[],...Lh(n)]:[];g.forEach(y=>{l&&y.addEventListener("scroll",o,{passive:!0}),a&&y.addEventListener("resize",o)});const m=f&&h?c6(f,o):null;let _=-1,b=null;u&&(b=new ResizeObserver(y=>{let[I]=y;I&&I.target===f&&b&&(b.unobserve(n),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var S;(S=b)==null||S.observe(n)})),o()}),f&&!p&&b.observe(f),b.observe(n));let T,$=p?Ha(t):null;p&&E();function E(){const y=Ha(t);$&&(y.x!==$.x||y.y!==$.y||y.width!==$.width||y.height!==$.height)&&o(),$=y,T=requestAnimationFrame(E)}return o(),()=>{var y;g.forEach(I=>{l&&I.removeEventListener("scroll",o),a&&I.removeEventListener("resize",o)}),m==null||m(),(y=b)==null||y.disconnect(),b=null,p&&cancelAnimationFrame(T)}}const h6=XE,U1=K8,p6=X8,f6=W8,G1=G8,W1=(t,n,o)=>{const i=new Map,l={platform:u6,...o},a={...l.platform,_c:i};return U8(t,n,{...l,platform:a})};Ve({});const m6=t=>{if(!Xt)return;if(!t)return t;const n=is(t);return n||(Tn(t)?n:t)},g6=({middleware:t,placement:n,strategy:o})=>{const i=V(),l=V(),a=V(),u=V(),h=V({}),p={x:a,y:u,placement:n,strategy:o,middlewareData:h},f=async()=>{if(!Xt)return;const g=m6(i),m=is(l);if(!g||!m)return;const _=await W1(g,m,{placement:c(n),strategy:c(o),middleware:c(t)});_c(p).forEach(b=>{p[b].value=_[b]})};return Rt(()=>{So(()=>{f()})}),{...p,update:f,referenceRef:i,contentRef:l}},$6=({arrowRef:t,padding:n})=>({name:"arrow",options:{element:t,padding:n},fn(o){const i=c(t);return i?G1({element:i,padding:n}).fn(o):{}}});function v6(t){const n=V();function o(){if(t.value==null)return;const{selectionStart:l,selectionEnd:a,value:u}=t.value;if(l==null||a==null)return;const h=u.slice(0,Math.max(0,l)),p=u.slice(Math.max(0,a));n.value={selectionStart:l,selectionEnd:a,value:u,beforeTxt:h,afterTxt:p}}function i(){if(t.value==null||n.value==null)return;const{value:l}=t.value,{beforeTxt:a,afterTxt:u,selectionStart:h}=n.value;if(a==null||u==null||h==null)return;let p=l.length;if(l.endsWith(u))p=l.length-u.length;else if(l.startsWith(a))p=a.length;else{const f=a[h-1],g=l.indexOf(f,h-1);g!==-1&&(p=g+1)}t.value.setSelectionRange(p,p)}return[o,i]}const _6=(t,n,o)=>$l(t.subTree).filter(a=>{var u;return Cn(a)&&((u=a.type)==null?void 0:u.name)===n&&!!a.component}).map(a=>a.component.uid).map(a=>o[a]).filter(a=>!!a),JE=(t,n)=>{const o={},i=bn([]);return{children:i,addChild:u=>{o[u.uid]=u,i.value=_6(t,n,o)},removeChild:u=>{delete o[u],i.value=i.value.filter(h=>h.uid!==u)}}},Jn=mi({type:String,values:Ki,required:!1}),z1=Symbol("size"),b6=()=>{const t=it(z1,{});return w(()=>c(t.size)||"")};function xg(t,{afterFocus:n,beforeBlur:o,afterBlur:i}={}){const l=Nt(),{emit:a}=l,u=bn(),h=V(!1),p=m=>{h.value||(h.value=!0,a("focus",m),n==null||n())},f=m=>{var _;vt(o)&&o(m)||m.relatedTarget&&((_=u.value)!=null&&_.contains(m.relatedTarget))||(h.value=!1,a("blur",m),i==null||i())},g=()=>{var m;(m=t.value)==null||m.focus()};return Me(u,m=>{m&&m.setAttribute("tabindex","-1")}),$n(u,"click",g),{wrapperRef:u,isFocused:h,handleFocus:p,handleBlur:f}}const T6=["",void 0,null],y6=void 0,Gc=Ve({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>vt(t)?!t():!t}}),Bg=(t,n)=>{let o=sp();o.value||(o=V({}));const i=w(()=>t.emptyValues||o.value.emptyValues||T6),l=w(()=>vt(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:vt(o.value.valueOnClear)?o.value.valueOnClear():o.value.valueOnClear!==void 0?o.value.valueOnClear:n!==void 0?n:y6),a=u=>i.value.includes(u);return i.value.includes(l.value),{emptyValues:i,valueOnClear:l,isEmptyValue:a}},E6=Ve({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),go=t=>xi(E6,t),K1=Symbol(),Qm=V();function sp(t,n=void 0){const o=Nt()?it(K1,Qm):Qm;return t?w(()=>{var i,l;return(l=(i=o.value)==null?void 0:i[t])!=null?l:n}):o}function Fg(t,n){const o=sp(),i=Pe(t,w(()=>{var h;return((h=o.value)==null?void 0:h.namespace)||ch})),l=jt(w(()=>{var h;return(h=o.value)==null?void 0:h.locale})),a=Vc(w(()=>{var h;return((h=o.value)==null?void 0:h.zIndex)||L1})),u=w(()=>{var h;return c(n)||((h=o.value)==null?void 0:h.size)||""});return ZE(w(()=>c(o)||{})),{ns:i,locale:l,zIndex:a,size:u}}const ZE=(t,n,o=!1)=>{var i;const l=!!Nt(),a=l?sp():void 0,u=(i=n==null?void 0:n.provide)!=null?i:l?Gt:void 0;if(!u)return;const h=w(()=>{const p=c(t);return a!=null&&a.value?S6(a.value,p):p});return u(K1,h),u(f1,w(()=>h.value.locale)),u(m1,w(()=>h.value.namespace)),u(A1,w(()=>h.value.zIndex)),u(z1,{size:w(()=>h.value.size||"")}),(o||!Qm.value)&&(Qm.value=h.value),h},S6=(t,n)=>{const o=[...new Set([..._c(t),..._c(n)])],i={};for(const l of o)i[l]=n[l]!==void 0?n[l]:t[l];return i},C6=Ve({a11y:{type:Boolean,default:!0},locale:{type:fe(Object)},size:Jn,button:{type:fe(Object)},experimentalFeatures:{type:fe(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:fe(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Gc}),PT={},I6=ne({name:"ElConfigProvider",props:C6,setup(t,{slots:n}){Me(()=>t.message,i=>{Object.assign(PT,i??{})},{immediate:!0,deep:!0});const o=ZE(t);return()=>Te(n,"default",{config:o==null?void 0:o.value})}}),w6=Mt(I6),k6="2.7.6",O6=(t=[])=>({version:k6,install:(o,i)=>{o[XO]||(o[XO]=!0,t.forEach(l=>o.use(l)),i&&ZE(i,o,!0))}}),R6=Ve({zIndex:{type:fe([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),L6={scroll:({scrollTop:t,fixed:n})=>gt(t)&&Vn(n),[vn]:t=>Vn(t)};var Ge=(t,n)=>{const o=t.__vccOpts||t;for(const[i,l]of n)o[i]=l;return o};const X1="ElAffix",A6=ne({name:X1}),N6=ne({...A6,props:R6,emits:L6,setup(t,{expose:n,emit:o}){const i=t,l=Pe("affix"),a=bn(),u=bn(),h=bn(),{height:p}=mH(),{height:f,width:g,top:m,bottom:_,update:b}=lO(u,{windowScroll:!1}),T=lO(a),$=V(!1),E=V(0),y=V(0),I=w(()=>({height:$.value?`${f.value}px`:"",width:$.value?`${g.value}px`:""})),S=w(()=>{if(!$.value)return{};const O=i.offset?Mn(i.offset):0;return{height:`${f.value}px`,width:`${g.value}px`,top:i.position==="top"?O:"",bottom:i.position==="bottom"?O:"",transform:y.value?`translateY(${y.value}px)`:"",zIndex:i.zIndex}}),C=()=>{if(h.value)if(E.value=h.value instanceof Window?document.documentElement.scrollTop:h.value.scrollTop||0,i.position==="top")if(i.target){const O=T.bottom.value-i.offset-f.value;$.value=i.offset>m.value&&T.bottom.value>0,y.value=O<0?O:0}else $.value=i.offset>m.value;else if(i.target){const O=p.value-T.top.value-i.offset-f.value;$.value=p.value-i.offset<_.value&&p.value>T.top.value,y.value=O<0?-O:0}else $.value=p.value-i.offset<_.value},R=()=>{b(),o("scroll",{scrollTop:E.value,fixed:$.value})};return Me($,O=>o("change",O)),Rt(()=>{var O;i.target?(a.value=(O=document.querySelector(i.target))!=null?O:void 0,a.value||qn(X1,`Target does not exist: ${i.target}`)):a.value=document.documentElement,h.value=yE(u.value,!0),b()}),$n(h,"scroll",R),So(C),n({update:C,updateRoot:b}),(O,P)=>(A(),Y("div",{ref_key:"root",ref:u,class:N(c(l).b()),style:ct(c(I))},[Q("div",{class:N({[c(l).m("fixed")]:$.value}),style:ct(c(S))},[Te(O.$slots,"default")],6)],6))}});var M6=Ge(N6,[["__file","affix.vue"]]);const D6=Mt(M6),P6=Ve({size:{type:fe([Number,String])},color:{type:String}}),x6=ne({name:"ElIcon",inheritAttrs:!1}),B6=ne({...x6,props:P6,setup(t){const n=t,o=Pe("icon"),i=w(()=>{const{size:l,color:a}=n;return!l&&!a?{}:{fontSize:Hn(l)?void 0:Mn(l),"--color":a}});return(l,a)=>(A(),Y("i",Vt({class:c(o).b(),style:c(i)},l.$attrs),[Te(l.$slots,"default")],16))}});var F6=Ge(B6,[["__file","icon.vue"]]);const at=Mt(F6),H6=["light","dark"],V6=Ve({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:_c(Cl),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:H6,default:"light"}}),U6={close:t=>t instanceof MouseEvent},G6=ne({name:"ElAlert"}),W6=ne({...G6,props:V6,emits:U6,setup(t,{emit:n}){const o=t,{Close:i}=OE,l=uo(),a=Pe("alert"),u=V(!0),h=w(()=>Cl[o.type]),p=w(()=>[a.e("icon"),{[a.is("big")]:!!o.description||!!l.default}]),f=w(()=>({"with-description":o.description||l.default})),g=m=>{u.value=!1,n("close",m)};return(m,_)=>(A(),be(jn,{name:c(a).b("fade"),persisted:""},{default:he(()=>[Ot(Q("div",{class:N([c(a).b(),c(a).m(m.type),c(a).is("center",m.center),c(a).is(m.effect)]),role:"alert"},[m.showIcon&&c(h)?(A(),be(c(at),{key:0,class:N(c(p))},{default:he(()=>[(A(),be(Ft(c(h))))]),_:1},8,["class"])):$e("v-if",!0),Q("div",{class:N(c(a).e("content"))},[m.title||m.$slots.title?(A(),Y("span",{key:0,class:N([c(a).e("title"),c(f)])},[Te(m.$slots,"title",{},()=>[zt(We(m.title),1)])],2)):$e("v-if",!0),m.$slots.default||m.description?(A(),Y("p",{key:1,class:N(c(a).e("description"))},[Te(m.$slots,"default",{},()=>[zt(We(m.description),1)])],2)):$e("v-if",!0),m.closable?(A(),Y(dt,{key:2},[m.closeText?(A(),Y("div",{key:0,class:N([c(a).e("close-btn"),c(a).is("customed")]),onClick:g},We(m.closeText),3)):(A(),be(c(at),{key:1,class:N(c(a).e("close-btn")),onClick:g},{default:he(()=>[ie(c(i))]),_:1},8,["class"]))],64)):$e("v-if",!0)],2)],2),[[qt,u.value]])]),_:3},8,["name"]))}});var z6=Ge(W6,[["__file","alert.vue"]]);const K6=Mt(z6),Ya=Symbol("formContextKey"),zi=Symbol("formItemContextKey"),Xn=(t,n={})=>{const o=V(void 0),i=n.prop?o:$1("size"),l=n.global?o:b6(),a=n.form?{size:void 0}:it(Ya,void 0),u=n.formItem?{size:void 0}:it(zi,void 0);return w(()=>i.value||c(t)||(u==null?void 0:u.size)||(a==null?void 0:a.size)||l.value||"")},Qo=t=>{const n=$1("disabled"),o=it(Ya,void 0);return w(()=>n.value||c(t)||(o==null?void 0:o.disabled)||!1)},Fo=()=>{const t=it(Ya,void 0),n=it(zi,void 0);return{form:t,formItem:n}},$i=(t,{formItemContext:n,disableIdGeneration:o,disableIdManagement:i})=>{o||(o=V(!1)),i||(i=V(!1));const l=V();let a;const u=w(()=>{var h;return!!(!(t.label||t.ariaLabel)&&n&&n.inputIds&&((h=n.inputIds)==null?void 0:h.length)<=1)});return Rt(()=>{a=Me([sn(t,"id"),o],([h,p])=>{const f=h??(p?void 0:Io().value);f!==l.value&&(n!=null&&n.removeInputId&&(l.value&&n.removeInputId(l.value),!(i!=null&&i.value)&&!p&&f&&n.addInputId(f)),l.value=f)},{immediate:!0})}),Rl(()=>{a&&a(),n!=null&&n.removeInputId&&l.value&&n.removeInputId(l.value)}),{isLabeledByFormItem:u,inputId:l}},X6=Ve({size:{type:String,values:Ki},disabled:Boolean}),Y6=Ve({...X6,model:Object,rules:{type:fe(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),j6={validate:(t,n,o)=>(tt(t)||yt(t))&&Vn(n)&&yt(o)};function q6(){const t=V([]),n=w(()=>{if(!t.value.length)return"0";const a=Math.max(...t.value);return a?`${a}px`:""});function o(a){const u=t.value.indexOf(a);return u===-1&&n.value,u}function i(a,u){if(a&&u){const h=o(u);t.value.splice(h,1,a)}else a&&t.value.push(a)}function l(a){const u=o(a);u>-1&&t.value.splice(u,1)}return{autoLabelWidth:n,registerLabelWidth:i,deregisterLabelWidth:l}}const jf=(t,n)=>{const o=yl(n);return o.length>0?t.filter(i=>i.prop&&o.includes(i.prop)):t},J6="ElForm",Z6=ne({name:J6}),Q6=ne({...Z6,props:Y6,emits:j6,setup(t,{expose:n,emit:o}){const i=t,l=[],a=Xn(),u=Pe("form"),h=w(()=>{const{labelPosition:S,inline:C}=i;return[u.b(),u.m(a.value||"default"),{[u.m(`label-${S}`)]:S,[u.m("inline")]:C}]}),p=S=>l.find(C=>C.prop===S),f=S=>{l.push(S)},g=S=>{S.prop&&l.splice(l.indexOf(S),1)},m=(S=[])=>{i.model&&jf(l,S).forEach(C=>C.resetField())},_=(S=[])=>{jf(l,S).forEach(C=>C.clearValidate())},b=w(()=>!!i.model),T=S=>{if(l.length===0)return[];const C=jf(l,S);return C.length?C:[]},$=async S=>y(void 0,S),E=async(S=[])=>{if(!b.value)return!1;const C=T(S);if(C.length===0)return!0;let R={};for(const O of C)try{await O.validate("")}catch(P){R={...R,...P}}return Object.keys(R).length===0?!0:Promise.reject(R)},y=async(S=[],C)=>{const R=!vt(C);try{const O=await E(S);return O===!0&&await(C==null?void 0:C(O)),O}catch(O){if(O instanceof Error)throw O;const P=O;return i.scrollToError&&I(Object.keys(P)[0]),await(C==null?void 0:C(!1,P)),R&&Promise.reject(P)}},I=S=>{var C;const R=jf(l,S)[0];R&&((C=R.$el)==null||C.scrollIntoView(i.scrollIntoViewOptions))};return Me(()=>i.rules,()=>{i.validateOnRuleChange&&$().catch(S=>void 0)},{deep:!0}),Gt(Ya,en({...mo(i),emit:o,resetFields:m,clearValidate:_,validateField:y,getField:p,addField:f,removeField:g,...q6()})),n({validate:$,validateField:y,resetFields:m,clearValidate:_,scrollToField:I,fields:l}),(S,C)=>(A(),Y("form",{class:N(c(h))},[Te(S.$slots,"default")],2))}});var eK=Ge(Q6,[["__file","form.vue"]]);function ya(){return ya=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},ya.apply(this,arguments)}function tK(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,Ah(t,n)}function xT(t){return xT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},xT(t)}function Ah(t,n){return Ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},Ah(t,n)}function nK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mm(t,n,o){return nK()?mm=Reflect.construct.bind():mm=function(l,a,u){var h=[null];h.push.apply(h,a);var p=Function.bind.apply(l,h),f=new p;return u&&Ah(f,u.prototype),f},mm.apply(null,arguments)}function oK(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function BT(t){var n=typeof Map=="function"?new Map:void 0;return BT=function(i){if(i===null||!oK(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(i))return n.get(i);n.set(i,l)}function l(){return mm(i,arguments,xT(this).constructor)}return l.prototype=Object.create(i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),Ah(l,i)},BT(t)}var sK=/%[sdj%]/g,iK=function(){};function FT(t){if(!t||!t.length)return null;var n={};return t.forEach(function(o){var i=o.field;n[i]=n[i]||[],n[i].push(o)}),n}function bs(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var l=0,a=o.length;if(typeof t=="function")return t.apply(null,o);if(typeof t=="string"){var u=t.replace(sK,function(h){if(h==="%%")return"%";if(l>=a)return h;switch(h){case"%s":return String(o[l++]);case"%d":return Number(o[l++]);case"%j":try{return JSON.stringify(o[l++])}catch{return"[Circular]"}break;default:return h}});return u}return t}function rK(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function ao(t,n){return!!(t==null||n==="array"&&Array.isArray(t)&&!t.length||rK(n)&&typeof t=="string"&&!t)}function lK(t,n,o){var i=[],l=0,a=t.length;function u(h){i.push.apply(i,h||[]),l++,l===a&&o(i)}t.forEach(function(h){n(h,u)})}function mR(t,n,o){var i=0,l=t.length;function a(u){if(u&&u.length){o(u);return}var h=i;i=i+1,h<l?n(t[h],a):o([])}a([])}function aK(t){var n=[];return Object.keys(t).forEach(function(o){n.push.apply(n,t[o]||[])}),n}var gR=function(t){tK(n,t);function n(o,i){var l;return l=t.call(this,"Async Validation Error")||this,l.errors=o,l.fields=i,l}return n}(BT(Error));function uK(t,n,o,i,l){if(n.first){var a=new Promise(function(_,b){var T=function(y){return i(y),y.length?b(new gR(y,FT(y))):_(l)},$=aK(t);mR($,o,T)});return a.catch(function(_){return _}),a}var u=n.firstFields===!0?Object.keys(t):n.firstFields||[],h=Object.keys(t),p=h.length,f=0,g=[],m=new Promise(function(_,b){var T=function(E){if(g.push.apply(g,E),f++,f===p)return i(g),g.length?b(new gR(g,FT(g))):_(l)};h.length||(i(g),_(l)),h.forEach(function($){var E=t[$];u.indexOf($)!==-1?mR(E,o,T):lK(E,o,T)})});return m.catch(function(_){return _}),m}function cK(t){return!!(t&&t.message!==void 0)}function dK(t,n){for(var o=t,i=0;i<n.length;i++){if(o==null)return o;o=o[n[i]]}return o}function $R(t,n){return function(o){var i;return t.fullFields?i=dK(n,t.fullFields):i=n[o.field||t.fullField],cK(o)?(o.field=o.field||t.fullField,o.fieldValue=i,o):{message:typeof o=="function"?o():o,fieldValue:i,field:o.field||t.fullField}}}function vR(t,n){if(n){for(var o in n)if(n.hasOwnProperty(o)){var i=n[o];typeof i=="object"&&typeof t[o]=="object"?t[o]=ya({},t[o],i):t[o]=i}}return t}var Y1=function(n,o,i,l,a,u){n.required&&(!i.hasOwnProperty(n.field)||ao(o,u||n.type))&&l.push(bs(a.messages.required,n.fullField))},hK=function(n,o,i,l,a){(/^\s+$/.test(o)||o==="")&&l.push(bs(a.messages.whitespace,n.fullField))},qf,pK=function(){if(qf)return qf;var t="[a-fA-F\\d:]",n=function(C){return C&&C.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},o="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",l=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+o+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+o+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+o+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+o+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+o+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+o+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+o+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+o+"$)|(?:^"+l+"$)"),u=new RegExp("^"+o+"$"),h=new RegExp("^"+l+"$"),p=function(C){return C&&C.exact?a:new RegExp("(?:"+n(C)+o+n(C)+")|(?:"+n(C)+l+n(C)+")","g")};p.v4=function(S){return S&&S.exact?u:new RegExp(""+n(S)+o+n(S),"g")},p.v6=function(S){return S&&S.exact?h:new RegExp(""+n(S)+l+n(S),"g")};var f="(?:(?:[a-z]+:)?//)",g="(?:\\S+(?::\\S*)?@)?",m=p.v4().source,_=p.v6().source,b="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",T="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",$="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",E="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',I="(?:"+f+"|www\\.)"+g+"(?:localhost|"+m+"|"+_+"|"+b+T+$+")"+E+y;return qf=new RegExp("(?:^"+I+"$)","i"),qf},_R={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Jd={integer:function(n){return Jd.number(n)&&parseInt(n,10)===n},float:function(n){return Jd.number(n)&&!Jd.integer(n)},array:function(n){return Array.isArray(n)},regexp:function(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch{return!1}},date:function(n){return typeof n.getTime=="function"&&typeof n.getMonth=="function"&&typeof n.getYear=="function"&&!isNaN(n.getTime())},number:function(n){return isNaN(n)?!1:typeof n=="number"},object:function(n){return typeof n=="object"&&!Jd.array(n)},method:function(n){return typeof n=="function"},email:function(n){return typeof n=="string"&&n.length<=320&&!!n.match(_R.email)},url:function(n){return typeof n=="string"&&n.length<=2048&&!!n.match(pK())},hex:function(n){return typeof n=="string"&&!!n.match(_R.hex)}},fK=function(n,o,i,l,a){if(n.required&&o===void 0){Y1(n,o,i,l,a);return}var u=["integer","float","array","regexp","object","method","email","number","date","url","hex"],h=n.type;u.indexOf(h)>-1?Jd[h](o)||l.push(bs(a.messages.types[h],n.fullField,n.type)):h&&typeof o!==n.type&&l.push(bs(a.messages.types[h],n.fullField,n.type))},mK=function(n,o,i,l,a){var u=typeof n.len=="number",h=typeof n.min=="number",p=typeof n.max=="number",f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=o,m=null,_=typeof o=="number",b=typeof o=="string",T=Array.isArray(o);if(_?m="number":b?m="string":T&&(m="array"),!m)return!1;T&&(g=o.length),b&&(g=o.replace(f,"_").length),u?g!==n.len&&l.push(bs(a.messages[m].len,n.fullField,n.len)):h&&!p&&g<n.min?l.push(bs(a.messages[m].min,n.fullField,n.min)):p&&!h&&g>n.max?l.push(bs(a.messages[m].max,n.fullField,n.max)):h&&p&&(g<n.min||g>n.max)&&l.push(bs(a.messages[m].range,n.fullField,n.min,n.max))},Gu="enum",gK=function(n,o,i,l,a){n[Gu]=Array.isArray(n[Gu])?n[Gu]:[],n[Gu].indexOf(o)===-1&&l.push(bs(a.messages[Gu],n.fullField,n[Gu].join(", ")))},$K=function(n,o,i,l,a){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(o)||l.push(bs(a.messages.pattern.mismatch,n.fullField,o,n.pattern));else if(typeof n.pattern=="string"){var u=new RegExp(n.pattern);u.test(o)||l.push(bs(a.messages.pattern.mismatch,n.fullField,o,n.pattern))}}},un={required:Y1,whitespace:hK,type:fK,range:mK,enum:gK,pattern:$K},vK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(ao(o,"string")&&!n.required)return i();un.required(n,o,l,u,a,"string"),ao(o,"string")||(un.type(n,o,l,u,a),un.range(n,o,l,u,a),un.pattern(n,o,l,u,a),n.whitespace===!0&&un.whitespace(n,o,l,u,a))}i(u)},_K=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(ao(o)&&!n.required)return i();un.required(n,o,l,u,a),o!==void 0&&un.type(n,o,l,u,a)}i(u)},bK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(o===""&&(o=void 0),ao(o)&&!n.required)return i();un.required(n,o,l,u,a),o!==void 0&&(un.type(n,o,l,u,a),un.range(n,o,l,u,a))}i(u)},TK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(ao(o)&&!n.required)return i();un.required(n,o,l,u,a),o!==void 0&&un.type(n,o,l,u,a)}i(u)},yK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(ao(o)&&!n.required)return i();un.required(n,o,l,u,a),ao(o)||un.type(n,o,l,u,a)}i(u)},EK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(ao(o)&&!n.required)return i();un.required(n,o,l,u,a),o!==void 0&&(un.type(n,o,l,u,a),un.range(n,o,l,u,a))}i(u)},SK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(ao(o)&&!n.required)return i();un.required(n,o,l,u,a),o!==void 0&&(un.type(n,o,l,u,a),un.range(n,o,l,u,a))}i(u)},CK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(o==null&&!n.required)return i();un.required(n,o,l,u,a,"array"),o!=null&&(un.type(n,o,l,u,a),un.range(n,o,l,u,a))}i(u)},IK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(ao(o)&&!n.required)return i();un.required(n,o,l,u,a),o!==void 0&&un.type(n,o,l,u,a)}i(u)},wK="enum",kK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(ao(o)&&!n.required)return i();un.required(n,o,l,u,a),o!==void 0&&un[wK](n,o,l,u,a)}i(u)},OK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(ao(o,"string")&&!n.required)return i();un.required(n,o,l,u,a),ao(o,"string")||un.pattern(n,o,l,u,a)}i(u)},RK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(ao(o,"date")&&!n.required)return i();if(un.required(n,o,l,u,a),!ao(o,"date")){var p;o instanceof Date?p=o:p=new Date(o),un.type(n,p,l,u,a),p&&un.range(n,p.getTime(),l,u,a)}}i(u)},LK=function(n,o,i,l,a){var u=[],h=Array.isArray(o)?"array":typeof o;un.required(n,o,l,u,a,h),i(u)},Vb=function(n,o,i,l,a){var u=n.type,h=[],p=n.required||!n.required&&l.hasOwnProperty(n.field);if(p){if(ao(o,u)&&!n.required)return i();un.required(n,o,l,h,a,u),ao(o,u)||un.type(n,o,l,h,a)}i(h)},AK=function(n,o,i,l,a){var u=[],h=n.required||!n.required&&l.hasOwnProperty(n.field);if(h){if(ao(o)&&!n.required)return i();un.required(n,o,l,u,a)}i(u)},ph={string:vK,method:_K,number:bK,boolean:TK,regexp:yK,integer:EK,float:SK,array:CK,object:IK,enum:kK,pattern:OK,date:RK,url:Vb,hex:Vb,email:Vb,required:LK,any:AK};function HT(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var VT=HT(),ip=function(){function t(o){this.rules=null,this._messages=VT,this.define(o)}var n=t.prototype;return n.define=function(i){var l=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(a){var u=i[a];l.rules[a]=Array.isArray(u)?u:[u]})},n.messages=function(i){return i&&(this._messages=vR(HT(),i)),this._messages},n.validate=function(i,l,a){var u=this;l===void 0&&(l={}),a===void 0&&(a=function(){});var h=i,p=l,f=a;if(typeof p=="function"&&(f=p,p={}),!this.rules||Object.keys(this.rules).length===0)return f&&f(null,h),Promise.resolve(h);function g($){var E=[],y={};function I(C){if(Array.isArray(C)){var R;E=(R=E).concat.apply(R,C)}else E.push(C)}for(var S=0;S<$.length;S++)I($[S]);E.length?(y=FT(E),f(E,y)):f(null,h)}if(p.messages){var m=this.messages();m===VT&&(m=HT()),vR(m,p.messages),p.messages=m}else p.messages=this.messages();var _={},b=p.keys||Object.keys(this.rules);b.forEach(function($){var E=u.rules[$],y=h[$];E.forEach(function(I){var S=I;typeof S.transform=="function"&&(h===i&&(h=ya({},h)),y=h[$]=S.transform(y)),typeof S=="function"?S={validator:S}:S=ya({},S),S.validator=u.getValidationMethod(S),S.validator&&(S.field=$,S.fullField=S.fullField||$,S.type=u.getType(S),_[$]=_[$]||[],_[$].push({rule:S,value:y,source:h,field:$}))})});var T={};return uK(_,p,function($,E){var y=$.rule,I=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");I=I&&(y.required||!y.required&&$.value),y.field=$.field;function S(O,P){return ya({},P,{fullField:y.fullField+"."+O,fullFields:y.fullFields?[].concat(y.fullFields,[O]):[O]})}function C(O){O===void 0&&(O=[]);var P=Array.isArray(O)?O:[O];!p.suppressWarning&&P.length&&t.warning("async-validator:",P),P.length&&y.message!==void 0&&(P=[].concat(y.message));var M=P.map($R(y,h));if(p.first&&M.length)return T[y.field]=1,E(M);if(!I)E(M);else{if(y.required&&!$.value)return y.message!==void 0?M=[].concat(y.message).map($R(y,h)):p.error&&(M=[p.error(y,bs(p.messages.required,y.field))]),E(M);var H={};y.defaultField&&Object.keys($.value).map(function(K){H[K]=y.defaultField}),H=ya({},H,$.rule.fields);var F={};Object.keys(H).forEach(function(K){var te=H[K],J=Array.isArray(te)?te:[te];F[K]=J.map(S.bind(null,K))});var B=new t(F);B.messages(p.messages),$.rule.options&&($.rule.options.messages=p.messages,$.rule.options.error=p.error),B.validate($.value,$.rule.options||p,function(K){var te=[];M&&M.length&&te.push.apply(te,M),K&&K.length&&te.push.apply(te,K),E(te.length?te:null)})}}var R;if(y.asyncValidator)R=y.asyncValidator(y,$.value,C,$.source,p);else if(y.validator){try{R=y.validator(y,$.value,C,$.source,p)}catch(O){console.error==null||console.error(O),p.suppressValidatorError||setTimeout(function(){throw O},0),C(O.message)}R===!0?C():R===!1?C(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):R instanceof Array?C(R):R instanceof Error&&C(R.message)}R&&R.then&&R.then(function(){return C()},function(O){return C(O)})},function($){g($)},h)},n.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!ph.hasOwnProperty(i.type))throw new Error(bs("Unknown rule type %s",i.type));return i.type||"string"},n.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var l=Object.keys(i),a=l.indexOf("message");return a!==-1&&l.splice(a,1),l.length===1&&l[0]==="required"?ph.required:ph[this.getType(i)]||void 0},t}();ip.register=function(n,o){if(typeof o!="function")throw new Error("Cannot register a validator by type, validator is not a function");ph[n]=o};ip.warning=iK;ip.messages=VT;ip.validators=ph;const NK=["","error","validating","success"],MK=Ve({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:fe([String,Array])},required:{type:Boolean,default:void 0},rules:{type:fe([Object,Array])},error:String,validateStatus:{type:String,values:NK},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Ki}}),bR="ElLabelWrap";var DK=ne({name:bR,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:n}){const o=it(Ya,void 0),i=it(zi);i||qn(bR,"usage: <el-form-item><label-wrap /></el-form-item>");const l=Pe("form"),a=V(),u=V(0),h=()=>{var g;if((g=a.value)!=null&&g.firstElementChild){const m=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(m))}else return 0},p=(g="update")=>{pt(()=>{n.default&&t.isAutoWidth&&(g==="update"?u.value=h():g==="remove"&&(o==null||o.deregisterLabelWidth(u.value)))})},f=()=>p("update");return Rt(()=>{f()}),mn(()=>{p("remove")}),Rr(()=>f()),Me(u,(g,m)=>{t.updateAll&&(o==null||o.registerLabelWidth(g,m))}),wn(w(()=>{var g,m;return(m=(g=a.value)==null?void 0:g.firstElementChild)!=null?m:null}),f),()=>{var g,m;if(!n)return null;const{isAutoWidth:_}=t;if(_){const b=o==null?void 0:o.autoLabelWidth,T=i==null?void 0:i.hasLabel,$={};if(T&&b&&b!=="auto"){const E=Math.max(0,Number.parseInt(b,10)-u.value),y=o.labelPosition==="left"?"marginRight":"marginLeft";E&&($[y]=`${E}px`)}return ie("div",{ref:a,class:[l.be("item","label-wrap")],style:$},[(g=n.default)==null?void 0:g.call(n)])}else return ie(dt,{ref:a},[(m=n.default)==null?void 0:m.call(n)])}}});const PK=["role","aria-labelledby"],xK=ne({name:"ElFormItem"}),BK=ne({...xK,props:MK,setup(t,{expose:n}){const o=t,i=uo(),l=it(Ya,void 0),a=it(zi,void 0),u=Xn(void 0,{formItem:!1}),h=Pe("form-item"),p=Io().value,f=V([]),g=V(""),m=J2(g,100),_=V(""),b=V();let T,$=!1;const E=w(()=>{if((l==null?void 0:l.labelPosition)==="top")return{};const ye=Mn(o.labelWidth||(l==null?void 0:l.labelWidth)||"");return ye?{width:ye}:{}}),y=w(()=>{if((l==null?void 0:l.labelPosition)==="top"||l!=null&&l.inline)return{};if(!o.label&&!o.labelWidth&&H)return{};const ye=Mn(o.labelWidth||(l==null?void 0:l.labelWidth)||"");return!o.label&&!i.label?{marginLeft:ye}:{}}),I=w(()=>[h.b(),h.m(u.value),h.is("error",g.value==="error"),h.is("validating",g.value==="validating"),h.is("success",g.value==="success"),h.is("required",J.value||o.required),h.is("no-asterisk",l==null?void 0:l.hideRequiredAsterisk),(l==null?void 0:l.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[h.m("feedback")]:l==null?void 0:l.statusIcon}]),S=w(()=>Vn(o.inlineMessage)?o.inlineMessage:(l==null?void 0:l.inlineMessage)||!1),C=w(()=>[h.e("error"),{[h.em("error","inline")]:S.value}]),R=w(()=>o.prop?yt(o.prop)?o.prop:o.prop.join("."):""),O=w(()=>!!(o.label||i.label)),P=w(()=>o.for||(f.value.length===1?f.value[0]:void 0)),M=w(()=>!P.value&&O.value),H=!!a,F=w(()=>{const ye=l==null?void 0:l.model;if(!(!ye||!o.prop))return pm(ye,o.prop).value}),B=w(()=>{const{required:ye}=o,_e=[];o.rules&&_e.push(...yl(o.rules));const Ke=l==null?void 0:l.rules;if(Ke&&o.prop){const ve=pm(Ke,o.prop).value;ve&&_e.push(...yl(ve))}if(ye!==void 0){const ve=_e.map((Ae,Fe)=>[Ae,Fe]).filter(([Ae])=>Object.keys(Ae).includes("required"));if(ve.length>0)for(const[Ae,Fe]of ve)Ae.required!==ye&&(_e[Fe]={...Ae,required:ye});else _e.push({required:ye})}return _e}),K=w(()=>B.value.length>0),te=ye=>B.value.filter(Ke=>!Ke.trigger||!ye?!0:Array.isArray(Ke.trigger)?Ke.trigger.includes(ye):Ke.trigger===ye).map(({trigger:Ke,...ve})=>ve),J=w(()=>B.value.some(ye=>ye.required)),j=w(()=>{var ye;return m.value==="error"&&o.showMessage&&((ye=l==null?void 0:l.showMessage)!=null?ye:!0)}),z=w(()=>`${o.label||""}${(l==null?void 0:l.labelSuffix)||""}`),G=ye=>{g.value=ye},W=ye=>{var _e,Ke;const{errors:ve,fields:Ae}=ye;(!ve||!Ae)&&console.error(ye),G("error"),_.value=ve?(Ke=(_e=ve==null?void 0:ve[0])==null?void 0:_e.message)!=null?Ke:`${o.prop} is required`:"",l==null||l.emit("validate",o.prop,!1,_.value)},D=()=>{G("success"),l==null||l.emit("validate",o.prop,!0,"")},X=async ye=>{const _e=R.value;return new ip({[_e]:ye}).validate({[_e]:F.value},{firstFields:!0}).then(()=>(D(),!0)).catch(ve=>(W(ve),Promise.reject(ve)))},oe=async(ye,_e)=>{if($||!o.prop)return!1;const Ke=vt(_e);if(!K.value)return _e==null||_e(!1),!1;const ve=te(ye);return ve.length===0?(_e==null||_e(!0),!0):(G("validating"),X(ve).then(()=>(_e==null||_e(!0),!0)).catch(Ae=>{const{fields:Fe}=Ae;return _e==null||_e(!1,Fe),Ke?!1:Promise.reject(Fe)}))},le=()=>{G(""),_.value="",$=!1},me=async()=>{const ye=l==null?void 0:l.model;if(!ye||!o.prop)return;const _e=pm(ye,o.prop);$=!0,_e.value=FO(T),await pt(),le(),$=!1},Se=ye=>{f.value.includes(ye)||f.value.push(ye)},De=ye=>{f.value=f.value.filter(_e=>_e!==ye)};Me(()=>o.error,ye=>{_.value=ye||"",G(ye?"error":"")},{immediate:!0}),Me(()=>o.validateStatus,ye=>G(ye||""));const ce=en({...mo(o),$el:b,size:u,validateState:g,labelId:p,inputIds:f,isGroup:M,hasLabel:O,fieldValue:F,addInputId:Se,removeInputId:De,resetField:me,clearValidate:le,validate:oe});return Gt(zi,ce),Rt(()=>{o.prop&&(l==null||l.addField(ce),T=FO(F.value))}),mn(()=>{l==null||l.removeField(ce)}),n({size:u,validateMessage:_,validateState:g,validate:oe,clearValidate:le,resetField:me}),(ye,_e)=>{var Ke;return A(),Y("div",{ref_key:"formItemRef",ref:b,class:N(c(I)),role:c(M)?"group":void 0,"aria-labelledby":c(M)?c(p):void 0},[ie(c(DK),{"is-auto-width":c(E).width==="auto","update-all":((Ke=c(l))==null?void 0:Ke.labelWidth)==="auto"},{default:he(()=>[c(O)?(A(),be(Ft(c(P)?"label":"div"),{key:0,id:c(p),for:c(P),class:N(c(h).e("label")),style:ct(c(E))},{default:he(()=>[Te(ye.$slots,"label",{label:c(z)},()=>[zt(We(c(z)),1)])]),_:3},8,["id","for","class","style"])):$e("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Q("div",{class:N(c(h).e("content")),style:ct(c(y))},[Te(ye.$slots,"default"),ie(nN,{name:`${c(h).namespace.value}-zoom-in-top`},{default:he(()=>[c(j)?Te(ye.$slots,"error",{key:0,error:_.value},()=>[Q("div",{class:N(c(C))},We(_.value),3)]):$e("v-if",!0)]),_:3},8,["name"])],6)],10,PK)}}});var j1=Ge(BK,[["__file","form-item.vue"]]);const FK=Mt(eK,{FormItem:j1}),HK=On(j1);let ri;const VK=`
  height:0 !important;
  visibility:hidden !important;
  ${mN()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,UK=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function GK(t){const n=window.getComputedStyle(t),o=n.getPropertyValue("box-sizing"),i=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),l=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:UK.map(u=>`${u}:${n.getPropertyValue(u)}`).join(";"),paddingSize:i,borderSize:l,boxSizing:o}}function TR(t,n=1,o){var i;ri||(ri=document.createElement("textarea"),document.body.appendChild(ri));const{paddingSize:l,borderSize:a,boxSizing:u,contextStyle:h}=GK(t);ri.setAttribute("style",`${h};${VK}`),ri.value=t.value||t.placeholder||"";let p=ri.scrollHeight;const f={};u==="border-box"?p=p+a:u==="content-box"&&(p=p-l),ri.value="";const g=ri.scrollHeight-l;if(gt(n)){let m=g*n;u==="border-box"&&(m=m+l+a),p=Math.max(m,p),f.minHeight=`${m}px`}if(gt(o)){let m=g*o;u==="border-box"&&(m=m+l+a),p=Math.min(m,p)}return f.height=`${p}px`,(i=ri.parentNode)==null||i.removeChild(ri),ri=void 0,f}const WK=Ve({id:{type:String,default:void 0},size:Jn,disabled:Boolean,modelValue:{type:fe([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:fe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:an},prefixIcon:{type:an},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:fe([Object,Array,String]),default:()=>kn({})},autofocus:{type:Boolean,default:!1},...go(["ariaLabel"])}),zK={[Bt]:t=>yt(t),input:t=>yt(t),change:t=>yt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},KK=["role"],XK=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],YK=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],jK=ne({name:"ElInput",inheritAttrs:!1}),qK=ne({...jK,props:WK,emits:zK,setup(t,{expose:n,emit:o}){const i=t,l=Ga(),a=uo(),u=w(()=>{const q={};return i.containerRole==="combobox"&&(q["aria-haspopup"]=l["aria-haspopup"],q["aria-owns"]=l["aria-owns"],q["aria-expanded"]=l["aria-expanded"]),q}),h=w(()=>[i.type==="textarea"?E.b():$.b(),$.m(b.value),$.is("disabled",T.value),$.is("exceed",Se.value),{[$.b("group")]:a.prepend||a.append,[$.m("prefix")]:a.prefix||i.prefixIcon,[$.m("suffix")]:a.suffix||i.suffixIcon||i.clearable||i.showPassword,[$.bm("suffix","password-clear")]:X.value&&oe.value,[$.b("hidden")]:i.type==="hidden"},l.class]),p=w(()=>[$.e("wrapper"),$.is("focus",F.value)]),f=AE({excludeKeys:w(()=>Object.keys(u.value))}),{form:g,formItem:m}=Fo(),{inputId:_}=$i(i,{formItemContext:m}),b=Xn(),T=Qo(),$=Pe("input"),E=Pe("textarea"),y=bn(),I=bn(),S=V(!1),C=V(!1),R=V(!1),O=V(),P=bn(i.inputStyle),M=w(()=>y.value||I.value),{wrapperRef:H,isFocused:F,handleFocus:B,handleBlur:K}=xg(M,{afterBlur(){var q;i.validateEvent&&((q=m==null?void 0:m.validate)==null||q.call(m,"blur").catch(Qe=>void 0))}}),te=w(()=>{var q;return(q=g==null?void 0:g.statusIcon)!=null?q:!1}),J=w(()=>(m==null?void 0:m.validateState)||""),j=w(()=>J.value&&RE[J.value]),z=w(()=>R.value?ez:C4),G=w(()=>[l.style]),W=w(()=>[i.inputStyle,P.value,{resize:i.resize}]),D=w(()=>ro(i.modelValue)?"":String(i.modelValue)),X=w(()=>i.clearable&&!T.value&&!i.readonly&&!!D.value&&(F.value||S.value)),oe=w(()=>i.showPassword&&!T.value&&!i.readonly&&!!D.value&&(!!D.value||F.value)),le=w(()=>i.showWordLimit&&!!i.maxlength&&(i.type==="text"||i.type==="textarea")&&!T.value&&!i.readonly&&!i.showPassword),me=w(()=>D.value.length),Se=w(()=>!!le.value&&me.value>Number(i.maxlength)),De=w(()=>!!a.suffix||!!i.suffixIcon||X.value||i.showPassword||le.value||!!J.value&&te.value),[ce,ye]=v6(y);wn(I,q=>{if(ve(),!le.value||i.resize!=="both")return;const Qe=q[0],{width:lt}=Qe.contentRect;O.value={right:`calc(100% - ${lt+15+6}px)`}});const _e=()=>{const{type:q,autosize:Qe}=i;if(!(!Xt||q!=="textarea"||!I.value))if(Qe){const lt=Pt(Qe)?Qe.minRows:void 0,bt=Pt(Qe)?Qe.maxRows:void 0,Tt=TR(I.value,lt,bt);P.value={overflowY:"hidden",...Tt},pt(()=>{I.value.offsetHeight,P.value=Tt})}else P.value={minHeight:TR(I.value).minHeight}},ve=(q=>{let Qe=!1;return()=>{var lt;if(Qe||!i.autosize)return;((lt=I.value)==null?void 0:lt.offsetParent)===null||(q(),Qe=!0)}})(_e),Ae=()=>{const q=M.value,Qe=i.formatter?i.formatter(D.value):D.value;!q||q.value===Qe||(q.value=Qe)},Fe=async q=>{ce();let{value:Qe}=q.target;if(i.formatter&&(Qe=i.parser?i.parser(Qe):Qe),!C.value){if(Qe===D.value){Ae();return}o(Bt,Qe),o("input",Qe),await pt(),Ae(),ye()}},ae=q=>{o("change",q.target.value)},de=q=>{o("compositionstart",q),C.value=!0},Re=q=>{var Qe;o("compositionupdate",q);const lt=(Qe=q.target)==null?void 0:Qe.value,bt=lt[lt.length-1]||"";C.value=!LE(bt)},Be=q=>{o("compositionend",q),C.value&&(C.value=!1,Fe(q))},Ee=()=>{R.value=!R.value,Ne()},Ne=async()=>{var q;await pt(),(q=M.value)==null||q.focus()},He=()=>{var q;return(q=M.value)==null?void 0:q.blur()},ue=q=>{S.value=!1,o("mouseleave",q)},Ie=q=>{S.value=!0,o("mouseenter",q)},ke=q=>{o("keydown",q)},Ue=()=>{var q;(q=M.value)==null||q.select()},ot=()=>{o(Bt,""),o("change",""),o("clear"),o("input","")};return Me(()=>i.modelValue,()=>{var q;pt(()=>_e()),i.validateEvent&&((q=m==null?void 0:m.validate)==null||q.call(m,"change").catch(Qe=>void 0))}),Me(D,()=>Ae()),Me(()=>i.type,async()=>{await pt(),Ae(),_e()}),Rt(()=>{!i.formatter&&i.parser,Ae(),pt(_e)}),eo({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},w(()=>!!i.label)),n({input:y,textarea:I,ref:M,textareaStyle:W,autosize:sn(i,"autosize"),focus:Ne,blur:He,select:Ue,clear:ot,resizeTextarea:_e}),(q,Qe)=>(A(),Y("div",Vt(c(u),{class:[c(h),{[c($).bm("group","append")]:q.$slots.append,[c($).bm("group","prepend")]:q.$slots.prepend}],style:c(G),role:q.containerRole,onMouseenter:Ie,onMouseleave:ue}),[$e(" input "),q.type!=="textarea"?(A(),Y(dt,{key:0},[$e(" prepend slot "),q.$slots.prepend?(A(),Y("div",{key:0,class:N(c($).be("group","prepend"))},[Te(q.$slots,"prepend")],2)):$e("v-if",!0),Q("div",{ref_key:"wrapperRef",ref:H,class:N(c(p))},[$e(" prefix slot "),q.$slots.prefix||q.prefixIcon?(A(),Y("span",{key:0,class:N(c($).e("prefix"))},[Q("span",{class:N(c($).e("prefix-inner"))},[Te(q.$slots,"prefix"),q.prefixIcon?(A(),be(c(at),{key:0,class:N(c($).e("icon"))},{default:he(()=>[(A(),be(Ft(q.prefixIcon)))]),_:1},8,["class"])):$e("v-if",!0)],2)],2)):$e("v-if",!0),Q("input",Vt({id:c(_),ref_key:"input",ref:y,class:c($).e("inner")},c(f),{minlength:q.minlength,maxlength:q.maxlength,type:q.showPassword?R.value?"text":"password":q.type,disabled:c(T),readonly:q.readonly,autocomplete:q.autocomplete,tabindex:q.tabindex,"aria-label":q.label||q.ariaLabel,placeholder:q.placeholder,style:q.inputStyle,form:q.form,autofocus:q.autofocus,onCompositionstart:de,onCompositionupdate:Re,onCompositionend:Be,onInput:Fe,onFocus:Qe[0]||(Qe[0]=(...lt)=>c(B)&&c(B)(...lt)),onBlur:Qe[1]||(Qe[1]=(...lt)=>c(K)&&c(K)(...lt)),onChange:ae,onKeydown:ke}),null,16,XK),$e(" suffix slot "),c(De)?(A(),Y("span",{key:1,class:N(c($).e("suffix"))},[Q("span",{class:N(c($).e("suffix-inner"))},[!c(X)||!c(oe)||!c(le)?(A(),Y(dt,{key:0},[Te(q.$slots,"suffix"),q.suffixIcon?(A(),be(c(at),{key:0,class:N(c($).e("icon"))},{default:he(()=>[(A(),be(Ft(q.suffixIcon)))]),_:1},8,["class"])):$e("v-if",!0)],64)):$e("v-if",!0),c(X)?(A(),be(c(at),{key:1,class:N([c($).e("icon"),c($).e("clear")]),onMousedown:_t(c(on),["prevent"]),onClick:ot},{default:he(()=>[ie(c(Al))]),_:1},8,["class","onMousedown"])):$e("v-if",!0),c(oe)?(A(),be(c(at),{key:2,class:N([c($).e("icon"),c($).e("password")]),onClick:Ee},{default:he(()=>[(A(),be(Ft(c(z))))]),_:1},8,["class"])):$e("v-if",!0),c(le)?(A(),Y("span",{key:3,class:N(c($).e("count"))},[Q("span",{class:N(c($).e("count-inner"))},We(c(me))+" / "+We(q.maxlength),3)],2)):$e("v-if",!0),c(J)&&c(j)&&c(te)?(A(),be(c(at),{key:4,class:N([c($).e("icon"),c($).e("validateIcon"),c($).is("loading",c(J)==="validating")])},{default:he(()=>[(A(),be(Ft(c(j))))]),_:1},8,["class"])):$e("v-if",!0)],2)],2)):$e("v-if",!0)],2),$e(" append slot "),q.$slots.append?(A(),Y("div",{key:1,class:N(c($).be("group","append"))},[Te(q.$slots,"append")],2)):$e("v-if",!0)],64)):(A(),Y(dt,{key:1},[$e(" textarea "),Q("textarea",Vt({id:c(_),ref_key:"textarea",ref:I,class:[c(E).e("inner"),c($).is("focus",c(F))]},c(f),{minlength:q.minlength,maxlength:q.maxlength,tabindex:q.tabindex,disabled:c(T),readonly:q.readonly,autocomplete:q.autocomplete,style:c(W),"aria-label":q.label||q.ariaLabel,placeholder:q.placeholder,form:q.form,autofocus:q.autofocus,onCompositionstart:de,onCompositionupdate:Re,onCompositionend:Be,onInput:Fe,onFocus:Qe[2]||(Qe[2]=(...lt)=>c(B)&&c(B)(...lt)),onBlur:Qe[3]||(Qe[3]=(...lt)=>c(K)&&c(K)(...lt)),onChange:ae,onKeydown:ke}),null,16,YK),c(le)?(A(),Y("span",{key:0,style:ct(O.value),class:N(c($).e("count"))},We(c(me))+" / "+We(q.maxlength),7)):$e("v-if",!0)],64))],16,KK))}});var JK=Ge(qK,[["__file","input.vue"]]);const Do=Mt(JK),Wu=4,q1={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},ZK=({move:t,size:n,bar:o})=>({[o.size]:n,transform:`translate${o.axis}(${t}%)`}),QE=Symbol("scrollbarContextKey"),QK=Ve({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),e5="Thumb",t5=ne({__name:"thumb",props:QK,setup(t){const n=t,o=it(QE),i=Pe("scrollbar");o||qn(e5,"can not inject scrollbar context");const l=V(),a=V(),u=V({}),h=V(!1);let p=!1,f=!1,g=Xt?document.onselectstart:null;const m=w(()=>q1[n.vertical?"vertical":"horizontal"]),_=w(()=>ZK({size:n.size,move:n.move,bar:m.value})),b=w(()=>l.value[m.value.offset]**2/o.wrapElement[m.value.scrollSize]/n.ratio/a.value[m.value.offset]),T=O=>{var P;if(O.stopPropagation(),O.ctrlKey||[1,2].includes(O.button))return;(P=window.getSelection())==null||P.removeAllRanges(),E(O);const M=O.currentTarget;M&&(u.value[m.value.axis]=M[m.value.offset]-(O[m.value.client]-M.getBoundingClientRect()[m.value.direction]))},$=O=>{if(!a.value||!l.value||!o.wrapElement)return;const P=Math.abs(O.target.getBoundingClientRect()[m.value.direction]-O[m.value.client]),M=a.value[m.value.offset]/2,H=(P-M)*100*b.value/l.value[m.value.offset];o.wrapElement[m.value.scroll]=H*o.wrapElement[m.value.scrollSize]/100},E=O=>{O.stopImmediatePropagation(),p=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",I),g=document.onselectstart,document.onselectstart=()=>!1},y=O=>{if(!l.value||!a.value||p===!1)return;const P=u.value[m.value.axis];if(!P)return;const M=(l.value.getBoundingClientRect()[m.value.direction]-O[m.value.client])*-1,H=a.value[m.value.offset]-P,F=(M-H)*100*b.value/l.value[m.value.offset];o.wrapElement[m.value.scroll]=F*o.wrapElement[m.value.scrollSize]/100},I=()=>{p=!1,u.value[m.value.axis]=0,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",I),R(),f&&(h.value=!1)},S=()=>{f=!1,h.value=!!n.size},C=()=>{f=!0,h.value=p};mn(()=>{R(),document.removeEventListener("mouseup",I)});const R=()=>{document.onselectstart!==g&&(document.onselectstart=g)};return $n(sn(o,"scrollbarElement"),"mousemove",S),$n(sn(o,"scrollbarElement"),"mouseleave",C),(O,P)=>(A(),be(jn,{name:c(i).b("fade"),persisted:""},{default:he(()=>[Ot(Q("div",{ref_key:"instance",ref:l,class:N([c(i).e("bar"),c(i).is(c(m).key)]),onMousedown:$},[Q("div",{ref_key:"thumb",ref:a,class:N(c(i).e("thumb")),style:ct(c(_)),onMousedown:T},null,38)],34),[[qt,O.always||h.value]])]),_:1},8,["name"]))}});var yR=Ge(t5,[["__file","thumb.vue"]]);const n5=Ve({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),o5=ne({__name:"bar",props:n5,setup(t,{expose:n}){const o=t,i=it(QE),l=V(0),a=V(0),u=V(""),h=V(""),p=V(1),f=V(1);return n({handleScroll:_=>{if(_){const b=_.offsetHeight-Wu,T=_.offsetWidth-Wu;a.value=_.scrollTop*100/b*p.value,l.value=_.scrollLeft*100/T*f.value}},update:()=>{const _=i==null?void 0:i.wrapElement;if(!_)return;const b=_.offsetHeight-Wu,T=_.offsetWidth-Wu,$=b**2/_.scrollHeight,E=T**2/_.scrollWidth,y=Math.max($,o.minSize),I=Math.max(E,o.minSize);p.value=$/(b-$)/(y/(b-y)),f.value=E/(T-E)/(I/(T-I)),h.value=y+Wu<b?`${y}px`:"",u.value=I+Wu<T?`${I}px`:""}}),(_,b)=>(A(),Y(dt,null,[ie(yR,{move:l.value,ratio:f.value,size:u.value,always:_.always},null,8,["move","ratio","size","always"]),ie(yR,{move:a.value,ratio:p.value,size:h.value,vertical:"",always:_.always},null,8,["move","ratio","size","always"])],64))}});var s5=Ge(o5,[["__file","bar.vue"]]);const i5=Ve({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:fe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...go(["ariaLabel","ariaOrientation"])}),r5={scroll:({scrollTop:t,scrollLeft:n})=>[t,n].every(gt)},l5="ElScrollbar",a5=ne({name:l5}),u5=ne({...a5,props:i5,emits:r5,setup(t,{expose:n,emit:o}){const i=t,l=Pe("scrollbar");let a,u;const h=V(),p=V(),f=V(),g=V(),m=w(()=>{const S={};return i.height&&(S.height=Mn(i.height)),i.maxHeight&&(S.maxHeight=Mn(i.maxHeight)),[i.wrapStyle,S]}),_=w(()=>[i.wrapClass,l.e("wrap"),{[l.em("wrap","hidden-default")]:!i.native}]),b=w(()=>[l.e("view"),i.viewClass]),T=()=>{var S;p.value&&((S=g.value)==null||S.handleScroll(p.value),o("scroll",{scrollTop:p.value.scrollTop,scrollLeft:p.value.scrollLeft}))};function $(S,C){Pt(S)?p.value.scrollTo(S):gt(S)&&gt(C)&&p.value.scrollTo(S,C)}const E=S=>{gt(S)&&(p.value.scrollTop=S)},y=S=>{gt(S)&&(p.value.scrollLeft=S)},I=()=>{var S;(S=g.value)==null||S.update()};return Me(()=>i.noresize,S=>{S?(a==null||a(),u==null||u()):({stop:a}=wn(f,I),u=$n("resize",I))},{immediate:!0}),Me(()=>[i.maxHeight,i.height],()=>{i.native||pt(()=>{var S;I(),p.value&&((S=g.value)==null||S.handleScroll(p.value))})}),Gt(QE,en({scrollbarElement:h,wrapElement:p})),Rt(()=>{i.native||pt(()=>{I()})}),Rr(()=>I()),n({wrapRef:p,update:I,scrollTo:$,setScrollTop:E,setScrollLeft:y,handleScroll:T}),(S,C)=>(A(),Y("div",{ref_key:"scrollbarRef",ref:h,class:N(c(l).b())},[Q("div",{ref_key:"wrapRef",ref:p,class:N(c(_)),style:ct(c(m)),onScroll:T},[(A(),be(Ft(S.tag),{id:S.id,ref_key:"resizeRef",ref:f,class:N(c(b)),style:ct(S.viewStyle),role:S.role,"aria-label":S.ariaLabel,"aria-orientation":S.ariaOrientation},{default:he(()=>[Te(S.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),S.native?$e("v-if",!0):(A(),be(s5,{key:0,ref_key:"barRef",ref:g,always:S.always,"min-size":S.minSize},null,8,["always","min-size"]))],2))}});var c5=Ge(u5,[["__file","scrollbar.vue"]]);const Dr=Mt(c5),e0=Symbol("popper"),J1=Symbol("popperContent"),d5=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],Z1=Ve({role:{type:String,values:d5,default:"tooltip"}}),h5=ne({name:"ElPopper",inheritAttrs:!1}),p5=ne({...h5,props:Z1,setup(t,{expose:n}){const o=t,i=V(),l=V(),a=V(),u=V(),h=w(()=>o.role),p={triggerRef:i,popperInstanceRef:l,contentRef:a,referenceRef:u,role:h};return n(p),Gt(e0,p),(f,g)=>Te(f.$slots,"default")}});var f5=Ge(p5,[["__file","popper.vue"]]);const Q1=Ve({arrowOffset:{type:Number,default:5}}),m5=ne({name:"ElPopperArrow",inheritAttrs:!1}),g5=ne({...m5,props:Q1,setup(t,{expose:n}){const o=t,i=Pe("popper"),{arrowOffset:l,arrowRef:a,arrowStyle:u}=it(J1,void 0);return Me(()=>o.arrowOffset,h=>{l.value=h}),mn(()=>{a.value=void 0}),n({arrowRef:a}),(h,p)=>(A(),Y("span",{ref_key:"arrowRef",ref:a,class:N(c(i).e("arrow")),style:ct(c(u)),"data-popper-arrow":""},null,6))}});var $5=Ge(g5,[["__file","arrow.vue"]]);const v5="ElOnlyChild",eM=ne({name:v5,setup(t,{slots:n,attrs:o}){var i;const l=it(R1),a=M8((i=l==null?void 0:l.setForwardRef)!=null?i:on);return()=>{var u;const h=(u=n.default)==null?void 0:u.call(n,o);if(!h||h.length>1)return null;const p=tM(h);return p?Ot(Ir(p,o),[[a]]):null}}});function tM(t){if(!t)return null;const n=t;for(const o of n){if(Pt(o))switch(o.type){case To:continue;case Pc:case"svg":return ER(o);case dt:return tM(o.children);default:return o}return ER(o)}return null}function ER(t){const n=Pe("only-child");return ie("span",{class:n.e("content")},[t])}const nM=Ve({virtualRef:{type:fe(Object)},virtualTriggering:Boolean,onMouseenter:{type:fe(Function)},onMouseleave:{type:fe(Function)},onClick:{type:fe(Function)},onKeydown:{type:fe(Function)},onFocus:{type:fe(Function)},onBlur:{type:fe(Function)},onContextmenu:{type:fe(Function)},id:String,open:Boolean}),_5=ne({name:"ElPopperTrigger",inheritAttrs:!1}),b5=ne({..._5,props:nM,setup(t,{expose:n}){const o=t,{role:i,triggerRef:l}=it(e0,void 0);N8(l);const a=w(()=>h.value?o.id:void 0),u=w(()=>{if(i&&i.value==="tooltip")return o.open&&o.id?o.id:void 0}),h=w(()=>{if(i&&i.value!=="tooltip")return i.value}),p=w(()=>h.value?`${o.open}`:void 0);let f;return Rt(()=>{Me(()=>o.virtualRef,g=>{g&&(l.value=is(g))},{immediate:!0}),Me(l,(g,m)=>{f==null||f(),f=void 0,zs(g)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(_=>{var b;const T=o[_];T&&(g.addEventListener(_.slice(2).toLowerCase(),T),(b=m==null?void 0:m.removeEventListener)==null||b.call(m,_.slice(2).toLowerCase(),T))}),f=Me([a,u,h,p],_=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((b,T)=>{ro(_[T])?g.removeAttribute(b):g.setAttribute(b,_[T])})},{immediate:!0})),zs(m)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(_=>m.removeAttribute(_))},{immediate:!0})}),mn(()=>{f==null||f(),f=void 0}),n({triggerRef:l}),(g,m)=>g.virtualTriggering?$e("v-if",!0):(A(),be(c(eM),Vt({key:0},g.$attrs,{"aria-controls":c(a),"aria-describedby":c(u),"aria-expanded":c(p),"aria-haspopup":c(h)}),{default:he(()=>[Te(g.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var T5=Ge(b5,[["__file","trigger.vue"]]);const Ub="focus-trap.focus-after-trapped",Gb="focus-trap.focus-after-released",y5="focus-trap.focusout-prevented",SR={cancelable:!0,bubbles:!1},E5={cancelable:!0,bubbles:!1},CR="focusAfterTrapped",IR="focusAfterReleased",t0=Symbol("elFocusTrap"),n0=V(),Hg=V(0),o0=V(0);let Jf=0;const oM=t=>{const n=[],o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const l=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||l?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)n.push(o.currentNode);return n},wR=(t,n)=>{for(const o of t)if(!S5(o,n))return o},S5=(t,n)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},C5=t=>{const n=oM(t),o=wR(n,t),i=wR(n.reverse(),t);return[o,i]},I5=t=>t instanceof HTMLInputElement&&"select"in t,sl=(t,n)=>{if(t&&t.focus){const o=document.activeElement;t.focus({preventScroll:!0}),o0.value=window.performance.now(),t!==o&&I5(t)&&n&&t.select()}};function kR(t,n){const o=[...t],i=t.indexOf(n);return i!==-1&&o.splice(i,1),o}const w5=()=>{let t=[];return{push:i=>{const l=t[0];l&&i!==l&&l.pause(),t=kR(t,i),t.unshift(i)},remove:i=>{var l,a;t=kR(t,i),(a=(l=t[0])==null?void 0:l.resume)==null||a.call(l)}}},k5=(t,n=!1)=>{const o=document.activeElement;for(const i of t)if(sl(i,n),document.activeElement!==o)return},OR=w5(),O5=()=>Hg.value>o0.value,Zf=()=>{n0.value="pointer",Hg.value=window.performance.now()},RR=()=>{n0.value="keyboard",Hg.value=window.performance.now()},R5=()=>(Rt(()=>{Jf===0&&(document.addEventListener("mousedown",Zf),document.addEventListener("touchstart",Zf),document.addEventListener("keydown",RR)),Jf++}),mn(()=>{Jf--,Jf<=0&&(document.removeEventListener("mousedown",Zf),document.removeEventListener("touchstart",Zf),document.removeEventListener("keydown",RR))}),{focusReason:n0,lastUserFocusTimestamp:Hg,lastAutomatedFocusTimestamp:o0}),Qf=t=>new CustomEvent(y5,{...E5,detail:t}),L5=ne({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[CR,IR,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:n}){const o=V();let i,l;const{focusReason:a}=R5();k8(T=>{t.trapped&&!u.paused&&n("release-requested",T)});const u={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},h=T=>{if(!t.loop&&!t.trapped||u.paused)return;const{key:$,altKey:E,ctrlKey:y,metaKey:I,currentTarget:S,shiftKey:C}=T,{loop:R}=t,O=$===mt.tab&&!E&&!y&&!I,P=document.activeElement;if(O&&P){const M=S,[H,F]=C5(M);if(H&&F){if(!C&&P===F){const K=Qf({focusReason:a.value});n("focusout-prevented",K),K.defaultPrevented||(T.preventDefault(),R&&sl(H,!0))}else if(C&&[H,M].includes(P)){const K=Qf({focusReason:a.value});n("focusout-prevented",K),K.defaultPrevented||(T.preventDefault(),R&&sl(F,!0))}}else if(P===M){const K=Qf({focusReason:a.value});n("focusout-prevented",K),K.defaultPrevented||T.preventDefault()}}};Gt(t0,{focusTrapRef:o,onKeydown:h}),Me(()=>t.focusTrapEl,T=>{T&&(o.value=T)},{immediate:!0}),Me([o],([T],[$])=>{T&&(T.addEventListener("keydown",h),T.addEventListener("focusin",g),T.addEventListener("focusout",m)),$&&($.removeEventListener("keydown",h),$.removeEventListener("focusin",g),$.removeEventListener("focusout",m))});const p=T=>{n(CR,T)},f=T=>n(IR,T),g=T=>{const $=c(o);if(!$)return;const E=T.target,y=T.relatedTarget,I=E&&$.contains(E);t.trapped||y&&$.contains(y)||(i=y),I&&n("focusin",T),!u.paused&&t.trapped&&(I?l=E:sl(l,!0))},m=T=>{const $=c(o);if(!(u.paused||!$))if(t.trapped){const E=T.relatedTarget;!ro(E)&&!$.contains(E)&&setTimeout(()=>{if(!u.paused&&t.trapped){const y=Qf({focusReason:a.value});n("focusout-prevented",y),y.defaultPrevented||sl(l,!0)}},0)}else{const E=T.target;E&&$.contains(E)||n("focusout",T)}};async function _(){await pt();const T=c(o);if(T){OR.push(u);const $=T.contains(document.activeElement)?i:document.activeElement;if(i=$,!T.contains($)){const y=new Event(Ub,SR);T.addEventListener(Ub,p),T.dispatchEvent(y),y.defaultPrevented||pt(()=>{let I=t.focusStartEl;yt(I)||(sl(I),document.activeElement!==I&&(I="first")),I==="first"&&k5(oM(T),!0),(document.activeElement===$||I==="container")&&sl(T)})}}}function b(){const T=c(o);if(T){T.removeEventListener(Ub,p);const $=new CustomEvent(Gb,{...SR,detail:{focusReason:a.value}});T.addEventListener(Gb,f),T.dispatchEvent($),!$.defaultPrevented&&(a.value=="keyboard"||!O5()||T.contains(document.activeElement))&&sl(i??document.body),T.removeEventListener(Gb,f),OR.remove(u)}}return Rt(()=>{t.trapped&&_(),Me(()=>t.trapped,T=>{T?_():b()})}),mn(()=>{t.trapped&&b()}),{onKeydown:h}}});function A5(t,n,o,i,l,a){return Te(t.$slots,"default",{handleKeydown:t.onKeydown})}var rp=Ge(L5,[["render",A5],["__file","focus-trap.vue"]]);const N5=["fixed","absolute"],M5=Ve({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:fe(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Xa,default:"bottom"},popperOptions:{type:fe(Object),default:()=>({})},strategy:{type:String,values:N5,default:"absolute"}}),sM=Ve({...M5,id:String,style:{type:fe([String,Array,Object])},className:{type:fe([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:fe([String,Array,Object])},popperStyle:{type:fe([String,Array,Object])},referenceEl:{type:fe(Object)},triggerTargetEl:{type:fe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...go(["ariaLabel"])}),D5={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},P5=(t,n=[])=>{const{placement:o,strategy:i,popperOptions:l}=t,a={placement:o,strategy:i,...l,modifiers:[...B5(t),...n]};return F5(a,l==null?void 0:l.modifiers),a},x5=t=>{if(Xt)return is(t)};function B5(t){const{offset:n,gpuAcceleration:o,fallbackPlacements:i}=t;return[{name:"offset",options:{offset:[0,n??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:o}}]}function F5(t,n){n&&(t.modifiers=[...t.modifiers,...n??[]])}const H5=0,V5=t=>{const{popperInstanceRef:n,contentRef:o,triggerRef:i,role:l}=it(e0,void 0),a=V(),u=V(),h=w(()=>({name:"eventListeners",enabled:!!t.visible})),p=w(()=>{var y;const I=c(a),S=(y=c(u))!=null?y:H5;return{name:"arrow",enabled:!e1(I),options:{element:I,padding:S}}}),f=w(()=>({onFirstUpdate:()=>{T()},...P5(t,[c(p),c(h)])})),g=w(()=>x5(t.referenceEl)||c(i)),{attributes:m,state:_,styles:b,update:T,forceUpdate:$,instanceRef:E}=S8(g,o,f);return Me(E,y=>n.value=y),Rt(()=>{Me(()=>{var y;return(y=c(g))==null?void 0:y.getBoundingClientRect()},()=>{T()})}),{attributes:m,arrowRef:a,contentRef:o,instanceRef:E,state:_,styles:b,role:l,forceUpdate:$,update:T}},U5=(t,{attributes:n,styles:o,role:i})=>{const{nextZIndex:l}=Vc(),a=Pe("popper"),u=w(()=>c(n).popper),h=V(gt(t.zIndex)?t.zIndex:l()),p=w(()=>[a.b(),a.is("pure",t.pure),a.is(t.effect),t.popperClass]),f=w(()=>[{zIndex:c(h)},c(o).popper,t.popperStyle||{}]),g=w(()=>i.value==="dialog"?"false":void 0),m=w(()=>c(o).arrow||{});return{ariaModal:g,arrowStyle:m,contentAttrs:u,contentClass:p,contentStyle:f,contentZIndex:h,updateZIndex:()=>{h.value=gt(t.zIndex)?t.zIndex:l()}}},G5=(t,n)=>{const o=V(!1),i=V();return{focusStartRef:i,trapped:o,onFocusAfterReleased:f=>{var g;((g=f.detail)==null?void 0:g.focusReason)!=="pointer"&&(i.value="first",n("blur"))},onFocusAfterTrapped:()=>{n("focus")},onFocusInTrap:f=>{t.visible&&!o.value&&(f.target&&(i.value=f.target),o.value=!0)},onFocusoutPrevented:f=>{t.trapping||(f.detail.focusReason==="pointer"&&f.preventDefault(),o.value=!1)},onReleaseRequested:()=>{o.value=!1,n("close")}}},W5=ne({name:"ElPopperContent"}),z5=ne({...W5,props:sM,emits:D5,setup(t,{expose:n,emit:o}){const i=t,{focusStartRef:l,trapped:a,onFocusAfterReleased:u,onFocusAfterTrapped:h,onFocusInTrap:p,onFocusoutPrevented:f,onReleaseRequested:g}=G5(i,o),{attributes:m,arrowRef:_,contentRef:b,styles:T,instanceRef:$,role:E,update:y}=V5(i),{ariaModal:I,arrowStyle:S,contentAttrs:C,contentClass:R,contentStyle:O,updateZIndex:P}=U5(i,{styles:T,attributes:m,role:E}),M=it(zi,void 0),H=V();Gt(J1,{arrowStyle:S,arrowRef:_,arrowOffset:H}),M&&Gt(zi,{...M,addInputId:on,removeInputId:on});let F;const B=(te=!0)=>{y(),te&&P()},K=()=>{B(!1),i.visible&&i.focusOnShow?a.value=!0:i.visible===!1&&(a.value=!1)};return Rt(()=>{Me(()=>i.triggerTargetEl,(te,J)=>{F==null||F(),F=void 0;const j=c(te||b.value),z=c(J||b.value);zs(j)&&(F=Me([E,()=>i.ariaLabel,I,()=>i.id],G=>{["role","aria-label","aria-modal","id"].forEach((W,D)=>{ro(G[D])?j.removeAttribute(W):j.setAttribute(W,G[D])})},{immediate:!0})),z!==j&&zs(z)&&["role","aria-label","aria-modal","id"].forEach(G=>{z.removeAttribute(G)})},{immediate:!0}),Me(()=>i.visible,K,{immediate:!0})}),mn(()=>{F==null||F(),F=void 0}),n({popperContentRef:b,popperInstanceRef:$,updatePopper:B,contentStyle:O}),(te,J)=>(A(),Y("div",Vt({ref_key:"contentRef",ref:b},c(C),{style:c(O),class:c(R),tabindex:"-1",onMouseenter:J[0]||(J[0]=j=>te.$emit("mouseenter",j)),onMouseleave:J[1]||(J[1]=j=>te.$emit("mouseleave",j))}),[ie(c(rp),{trapped:c(a),"trap-on-focus-in":!0,"focus-trap-el":c(b),"focus-start-el":c(l),onFocusAfterTrapped:c(h),onFocusAfterReleased:c(u),onFocusin:c(p),onFocusoutPrevented:c(f),onReleaseRequested:c(g)},{default:he(()=>[Te(te.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var K5=Ge(z5,[["__file","content.vue"]]);const iM=Mt(f5),Vg=Symbol("elTooltip"),io=Ve({...L8,...sM,appendTo:{type:fe([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,visible:{type:fe(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...go(["ariaLabel"])}),Nh=Ve({...nM,disabled:Boolean,trigger:{type:fe([String,Array]),default:"hover"},triggerKeys:{type:fe(Array),default:()=>[mt.enter,mt.space]}}),{useModelToggleProps:X5,useModelToggleEmits:Y5,useModelToggle:j5}=g1("visible"),q5=Ve({...Z1,...X5,...io,...Nh,...Q1,showArrow:{type:Boolean,default:!0}}),J5=[...Y5,"before-show","before-hide","show","hide","open","close"],Z5=(t,n)=>tt(t)?t.includes(n):t===n,zu=(t,n,o)=>i=>{Z5(c(t),n)&&o(i)},Q5=ne({name:"ElTooltipTrigger"}),eX=ne({...Q5,props:Nh,setup(t,{expose:n}){const o=t,i=Pe("tooltip"),{controlled:l,id:a,open:u,onOpen:h,onClose:p,onToggle:f}=it(Vg,void 0),g=V(null),m=()=>{if(c(l)||o.disabled)return!0},_=sn(o,"trigger"),b=Nn(m,zu(_,"hover",h)),T=Nn(m,zu(_,"hover",p)),$=Nn(m,zu(_,"click",C=>{C.button===0&&f(C)})),E=Nn(m,zu(_,"focus",h)),y=Nn(m,zu(_,"focus",p)),I=Nn(m,zu(_,"contextmenu",C=>{C.preventDefault(),f(C)})),S=Nn(m,C=>{const{code:R}=C;o.triggerKeys.includes(R)&&(C.preventDefault(),f(C))});return n({triggerRef:g}),(C,R)=>(A(),be(c(T5),{id:c(a),"virtual-ref":C.virtualRef,open:c(u),"virtual-triggering":C.virtualTriggering,class:N(c(i).e("trigger")),onBlur:c(y),onClick:c($),onContextmenu:c(I),onFocus:c(E),onMouseenter:c(b),onMouseleave:c(T),onKeydown:c(S)},{default:he(()=>[Te(C.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var tX=Ge(eX,[["__file","trigger.vue"]]);const nX=ne({name:"ElTooltipContent",inheritAttrs:!1}),oX=ne({...nX,props:io,setup(t,{expose:n}){const o=t,{selector:i}=O1(),l=Pe("tooltip"),a=V(null),u=V(!1),{controlled:h,id:p,open:f,trigger:g,onClose:m,onOpen:_,onShow:b,onHide:T,onBeforeShow:$,onBeforeHide:E}=it(Vg,void 0),y=w(()=>o.transition||`${l.namespace.value}-fade-in-linear`),I=w(()=>o.persistent);mn(()=>{u.value=!0});const S=w(()=>c(I)?!0:c(f)),C=w(()=>o.disabled?!1:c(f)),R=w(()=>o.appendTo||i.value),O=w(()=>{var G;return(G=o.style)!=null?G:{}}),P=w(()=>!c(f)),M=()=>{T()},H=()=>{if(c(h))return!0},F=Nn(H,()=>{o.enterable&&c(g)==="hover"&&_()}),B=Nn(H,()=>{c(g)==="hover"&&m()}),K=()=>{var G,W;(W=(G=a.value)==null?void 0:G.updatePopper)==null||W.call(G),$==null||$()},te=()=>{E==null||E()},J=()=>{b(),z=sE(w(()=>{var G;return(G=a.value)==null?void 0:G.popperContentRef}),()=>{if(c(h))return;c(g)!=="hover"&&m()})},j=()=>{o.virtualTriggering||m()};let z;return Me(()=>c(f),G=>{G||z==null||z()},{flush:"post"}),Me(()=>o.content,()=>{var G,W;(W=(G=a.value)==null?void 0:G.updatePopper)==null||W.call(G)}),n({contentRef:a}),(G,W)=>(A(),be(Dc,{disabled:!G.teleported,to:c(R)},[ie(jn,{name:c(y),onAfterLeave:M,onBeforeEnter:K,onAfterEnter:J,onBeforeLeave:te},{default:he(()=>[c(S)?Ot((A(),be(c(K5),Vt({key:0,id:c(p),ref_key:"contentRef",ref:a},G.$attrs,{"aria-label":G.ariaLabel,"aria-hidden":c(P),"boundaries-padding":G.boundariesPadding,"fallback-placements":G.fallbackPlacements,"gpu-acceleration":G.gpuAcceleration,offset:G.offset,placement:G.placement,"popper-options":G.popperOptions,strategy:G.strategy,effect:G.effect,enterable:G.enterable,pure:G.pure,"popper-class":G.popperClass,"popper-style":[G.popperStyle,c(O)],"reference-el":G.referenceEl,"trigger-target-el":G.triggerTargetEl,visible:c(C),"z-index":G.zIndex,onMouseenter:c(F),onMouseleave:c(B),onBlur:j,onClose:c(m)}),{default:he(()=>[u.value?$e("v-if",!0):Te(G.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[qt,c(C)]]):$e("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var sX=Ge(oX,[["__file","content.vue"]]);const iX=["innerHTML"],rX={key:1},lX=ne({name:"ElTooltip"}),aX=ne({...lX,props:q5,emits:J5,setup(t,{expose:n,emit:o}){const i=t;R8();const l=Io(),a=V(),u=V(),h=()=>{var y;const I=c(a);I&&((y=I.popperInstanceRef)==null||y.update())},p=V(!1),f=V(),{show:g,hide:m,hasUpdateHandler:_}=j5({indicator:p,toggleReason:f}),{onOpen:b,onClose:T}=A8({showAfter:sn(i,"showAfter"),hideAfter:sn(i,"hideAfter"),autoClose:sn(i,"autoClose"),open:g,close:m}),$=w(()=>Vn(i.visible)&&!_.value);Gt(Vg,{controlled:$,id:l,open:Mc(p),trigger:sn(i,"trigger"),onOpen:y=>{b(y)},onClose:y=>{T(y)},onToggle:y=>{c(p)?T(y):b(y)},onShow:()=>{o("show",f.value)},onHide:()=>{o("hide",f.value)},onBeforeShow:()=>{o("before-show",f.value)},onBeforeHide:()=>{o("before-hide",f.value)},updatePopper:h}),Me(()=>i.disabled,y=>{y&&p.value&&(p.value=!1)});const E=y=>{var I,S;const C=(S=(I=u.value)==null?void 0:I.contentRef)==null?void 0:S.popperContentRef,R=(y==null?void 0:y.relatedTarget)||document.activeElement;return C&&C.contains(R)};return PA(()=>p.value&&m()),n({popperRef:a,contentRef:u,isFocusInsideContent:E,updatePopper:h,onOpen:b,onClose:T,hide:m}),(y,I)=>(A(),be(c(iM),{ref_key:"popperRef",ref:a,role:y.role},{default:he(()=>[ie(tX,{disabled:y.disabled,trigger:y.trigger,"trigger-keys":y.triggerKeys,"virtual-ref":y.virtualRef,"virtual-triggering":y.virtualTriggering},{default:he(()=>[y.$slots.default?Te(y.$slots,"default",{key:0}):$e("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ie(sX,{ref_key:"contentRef",ref:u,"aria-label":y.ariaLabel,"boundaries-padding":y.boundariesPadding,content:y.content,disabled:y.disabled,effect:y.effect,enterable:y.enterable,"fallback-placements":y.fallbackPlacements,"hide-after":y.hideAfter,"gpu-acceleration":y.gpuAcceleration,offset:y.offset,persistent:y.persistent,"popper-class":y.popperClass,"popper-style":y.popperStyle,placement:y.placement,"popper-options":y.popperOptions,pure:y.pure,"raw-content":y.rawContent,"reference-el":y.referenceEl,"trigger-target-el":y.triggerTargetEl,"show-after":y.showAfter,strategy:y.strategy,teleported:y.teleported,transition:y.transition,"virtual-triggering":y.virtualTriggering,"z-index":y.zIndex,"append-to":y.appendTo},{default:he(()=>[Te(y.$slots,"content",{},()=>[y.rawContent?(A(),Y("span",{key:0,innerHTML:y.content},null,8,iX)):(A(),Y("span",rX,We(y.content),1))]),y.showArrow?(A(),be(c($5),{key:0,"arrow-offset":y.arrowOffset},null,8,["arrow-offset"])):$e("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var uX=Ge(aX,[["__file","tooltip.vue"]]);const Bo=Mt(uX),cX=Ve({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:fe(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:fe([Function,Array]),default:on},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:io.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...go(["ariaLabel"])}),dX={[Bt]:t=>yt(t),[jo]:t=>yt(t),[vn]:t=>yt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>Pt(t)},hX=["aria-expanded","aria-owns"],pX={key:0},fX=["id","aria-selected","onClick"],rM="ElAutocomplete",mX=ne({name:rM,inheritAttrs:!1}),gX=ne({...mX,props:cX,emits:dX,setup(t,{expose:n,emit:o}){const i=t,l=AE(),a=Ga(),u=Qo(),h=Pe("autocomplete"),p=V(),f=V(),g=V(),m=V();let _=!1,b=!1;const T=V([]),$=V(-1),E=V(""),y=V(!1),I=V(!1),S=V(!1),C=Io(),R=w(()=>a.style),O=w(()=>(T.value.length>0||S.value)&&y.value),P=w(()=>!i.hideLoading&&S.value),M=w(()=>p.value?Array.from(p.value.$el.querySelectorAll("input")):[]),H=()=>{O.value&&(E.value=`${p.value.$el.offsetWidth}px`)},F=()=>{$.value=-1},K=us(async ce=>{if(I.value)return;const ye=_e=>{S.value=!1,!I.value&&(tt(_e)?(T.value=_e,$.value=i.highlightFirstItem?0:-1):qn(rM,"autocomplete suggestions must be an array"))};if(S.value=!0,tt(i.fetchSuggestions))ye(i.fetchSuggestions);else{const _e=await i.fetchSuggestions(ce,ye);tt(_e)&&ye(_e)}},i.debounce),te=ce=>{const ye=!!ce;if(o(jo,ce),o(Bt,ce),I.value=!1,y.value||(y.value=ye),!i.triggerOnFocus&&!ce){I.value=!0,T.value=[];return}K(ce)},J=ce=>{var ye;u.value||(((ye=ce.target)==null?void 0:ye.tagName)!=="INPUT"||M.value.includes(document.activeElement))&&(y.value=!0)},j=ce=>{o(vn,ce)},z=ce=>{b?b=!1:(y.value=!0,o("focus",ce),i.triggerOnFocus&&!_&&K(String(i.modelValue)))},G=ce=>{setTimeout(()=>{var ye;if((ye=g.value)!=null&&ye.isFocusInsideContent()){b=!0;return}y.value&&oe(),o("blur",ce)})},W=()=>{y.value=!1,o(Bt,""),o("clear")},D=async()=>{O.value&&$.value>=0&&$.value<T.value.length?Se(T.value[$.value]):i.selectWhenUnmatched&&(o("select",{value:i.modelValue}),T.value=[],$.value=-1)},X=ce=>{O.value&&(ce.preventDefault(),ce.stopPropagation(),oe())},oe=()=>{y.value=!1},le=()=>{var ce;(ce=p.value)==null||ce.focus()},me=()=>{var ce;(ce=p.value)==null||ce.blur()},Se=async ce=>{o(jo,ce[i.valueKey]),o(Bt,ce[i.valueKey]),o("select",ce),T.value=[],$.value=-1},De=ce=>{if(!O.value||S.value)return;if(ce<0){$.value=-1;return}ce>=T.value.length&&(ce=T.value.length-1);const ye=f.value.querySelector(`.${h.be("suggestion","wrap")}`),Ke=ye.querySelectorAll(`.${h.be("suggestion","list")} li`)[ce],ve=ye.scrollTop,{offsetTop:Ae,scrollHeight:Fe}=Ke;Ae+Fe>ve+ye.clientHeight&&(ye.scrollTop+=Fe),Ae<ve&&(ye.scrollTop-=Fe),$.value=ce,p.value.ref.setAttribute("aria-activedescendant",`${C.value}-item-${$.value}`)};return sE(m,()=>{O.value&&oe()}),Rt(()=>{p.value.ref.setAttribute("role","textbox"),p.value.ref.setAttribute("aria-autocomplete","list"),p.value.ref.setAttribute("aria-controls","id"),p.value.ref.setAttribute("aria-activedescendant",`${C.value}-item-${$.value}`),_=p.value.ref.hasAttribute("readonly")}),n({highlightedIndex:$,activated:y,loading:S,inputRef:p,popperRef:g,suggestions:T,handleSelect:Se,handleKeyEnter:D,focus:le,blur:me,close:oe,highlight:De}),(ce,ye)=>(A(),be(c(Bo),{ref_key:"popperRef",ref:g,visible:c(O),placement:ce.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[c(h).e("popper"),ce.popperClass],teleported:ce.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${c(h).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:H,onHide:F},{content:he(()=>[Q("div",{ref_key:"regionRef",ref:f,class:N([c(h).b("suggestion"),c(h).is("loading",c(P))]),style:ct({[ce.fitInputWidth?"width":"minWidth"]:E.value,outline:"none"}),role:"region"},[ie(c(Dr),{id:c(C),tag:"ul","wrap-class":c(h).be("suggestion","wrap"),"view-class":c(h).be("suggestion","list"),role:"listbox"},{default:he(()=>[c(P)?(A(),Y("li",pX,[Te(ce.$slots,"loading",{},()=>[ie(c(at),{class:N(c(h).is("loading"))},{default:he(()=>[ie(c(Nl))]),_:1},8,["class"])])])):(A(!0),Y(dt,{key:1},Kt(T.value,(_e,Ke)=>(A(),Y("li",{id:`${c(C)}-item-${Ke}`,key:Ke,class:N({highlighted:$.value===Ke}),role:"option","aria-selected":$.value===Ke,onClick:ve=>Se(_e)},[Te(ce.$slots,"default",{item:_e},()=>[zt(We(_e[ce.valueKey]),1)])],10,fX))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:he(()=>[Q("div",{ref_key:"listboxRef",ref:m,class:N([c(h).b(),ce.$attrs.class]),style:ct(c(R)),role:"combobox","aria-haspopup":"listbox","aria-expanded":c(O),"aria-owns":c(C)},[ie(c(Do),Vt({ref_key:"inputRef",ref:p},c(l),{clearable:ce.clearable,disabled:c(u),name:ce.name,"model-value":ce.modelValue,"aria-label":ce.ariaLabel,onInput:te,onChange:j,onFocus:z,onBlur:G,onClear:W,onKeydown:[ye[0]||(ye[0]=ln(_t(_e=>De($.value-1),["prevent"]),["up"])),ye[1]||(ye[1]=ln(_t(_e=>De($.value+1),["prevent"]),["down"])),ln(D,["enter"]),ln(oe,["tab"]),ln(X,["esc"])],onMousedown:J}),Cr({_:2},[ce.$slots.prepend?{name:"prepend",fn:he(()=>[Te(ce.$slots,"prepend")])}:void 0,ce.$slots.append?{name:"append",fn:he(()=>[Te(ce.$slots,"append")])}:void 0,ce.$slots.prefix?{name:"prefix",fn:he(()=>[Te(ce.$slots,"prefix")])}:void 0,ce.$slots.suffix?{name:"suffix",fn:he(()=>[Te(ce.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,hX)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var $X=Ge(gX,[["__file","autocomplete.vue"]]);const vX=Mt($X),_X=Ve({size:{type:[Number,String],values:Ki,default:"",validator:t=>gt(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:an},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:fe(String),default:"cover"}}),bX={error:t=>t instanceof Event},TX=["src","alt","srcset"],yX=ne({name:"ElAvatar"}),EX=ne({...yX,props:_X,emits:bX,setup(t,{emit:n}){const o=t,i=Pe("avatar"),l=V(!1),a=w(()=>{const{size:f,icon:g,shape:m}=o,_=[i.b()];return yt(f)&&_.push(i.m(f)),g&&_.push(i.m("icon")),m&&_.push(i.m(m)),_}),u=w(()=>{const{size:f}=o;return gt(f)?i.cssVarBlock({size:Mn(f)||""}):void 0}),h=w(()=>({objectFit:o.fit}));Me(()=>o.src,()=>l.value=!1);function p(f){l.value=!0,n("error",f)}return(f,g)=>(A(),Y("span",{class:N(c(a)),style:ct(c(u))},[(f.src||f.srcSet)&&!l.value?(A(),Y("img",{key:0,src:f.src,alt:f.alt,srcset:f.srcSet,style:ct(c(h)),onError:p},null,44,TX)):f.icon?(A(),be(c(at),{key:1},{default:he(()=>[(A(),be(Ft(f.icon)))]),_:1})):Te(f.$slots,"default",{key:2})],6))}});var SX=Ge(EX,[["__file","avatar.vue"]]);const CX=Mt(SX),IX={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},wX={click:t=>t instanceof MouseEvent},kX=(t,n,o)=>{const i=bn(),l=bn(),a=V(!1),u=()=>{i.value&&(a.value=i.value.scrollTop>=t.visibilityHeight)},h=f=>{var g;(g=i.value)==null||g.scrollTo({top:0,behavior:"smooth"}),n("click",f)},p=dN(u,300,!0);return $n(l,"scroll",p),Rt(()=>{var f;l.value=document,i.value=document.documentElement,t.target&&(i.value=(f=document.querySelector(t.target))!=null?f:void 0,i.value||qn(o,`target does not exist: ${t.target}`),l.value=i.value),u()}),{visible:a,handleClick:h}},lM="ElBacktop",OX=ne({name:lM}),RX=ne({...OX,props:IX,emits:wX,setup(t,{emit:n}){const o=t,i=Pe("backtop"),{handleClick:l,visible:a}=kX(o,n,lM),u=w(()=>({right:`${o.right}px`,bottom:`${o.bottom}px`}));return(h,p)=>(A(),be(jn,{name:`${c(i).namespace.value}-fade-in`},{default:he(()=>[c(a)?(A(),Y("div",{key:0,style:ct(c(u)),class:N(c(i).b()),onClick:p[0]||(p[0]=_t((...f)=>c(l)&&c(l)(...f),["stop"]))},[Te(h.$slots,"default",{},()=>[ie(c(at),{class:N(c(i).e("icon"))},{default:he(()=>[ie(c(i4))]),_:1},8,["class"])])],6)):$e("v-if",!0)]),_:3},8,["name"]))}});var LX=Ge(RX,[["__file","backtop.vue"]]);const AX=Mt(LX),NX=Ve({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:fe([String,Object,Array])},badgeStyle:{type:fe([String,Object,Array])},offset:{type:fe(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),MX=["textContent"],DX=ne({name:"ElBadge"}),PX=ne({...DX,props:NX,setup(t,{expose:n}){const o=t,i=Pe("badge"),l=w(()=>o.isDot?"":gt(o.value)&&gt(o.max)?o.max<o.value?`${o.max}+`:o.value===0&&!o.showZero?"":`${o.value}`:`${o.value}`),a=w(()=>{var u,h,p,f,g,m;return[{backgroundColor:o.color,marginRight:Mn(-((h=(u=o.offset)==null?void 0:u[0])!=null?h:0)),marginTop:Mn((f=(p=o.offset)==null?void 0:p[1])!=null?f:0)},(g=o.dotStyle)!=null?g:{},(m=o.badgeStyle)!=null?m:{}]});return eo({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},w(()=>!!o.dotStyle)),eo({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},w(()=>!!o.dotClass)),n({content:l}),(u,h)=>(A(),Y("div",{class:N(c(i).b())},[Te(u.$slots,"default"),ie(jn,{name:`${c(i).namespace.value}-zoom-in-center`,persisted:""},{default:he(()=>[Ot(Q("sup",{class:N([c(i).e("content"),c(i).em("content",u.type),c(i).is("fixed",!!u.$slots.default),c(i).is("dot",u.isDot),u.dotClass,u.badgeClass]),style:ct(c(a)),textContent:We(c(l))},null,14,MX),[[qt,!u.hidden&&(c(l)||u.isDot)]])]),_:1},8,["name"])],2))}});var xX=Ge(PX,[["__file","badge.vue"]]);const aM=Mt(xX),uM=Symbol("breadcrumbKey"),BX=Ve({separator:{type:String,default:"/"},separatorIcon:{type:an}}),FX=["aria-label"],HX=ne({name:"ElBreadcrumb"}),VX=ne({...HX,props:BX,setup(t){const n=t,{t:o}=jt(),i=Pe("breadcrumb"),l=V();return Gt(uM,n),Rt(()=>{const a=l.value.querySelectorAll(`.${i.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,u)=>(A(),Y("div",{ref_key:"breadcrumb",ref:l,class:N(c(i).b()),"aria-label":c(o)("el.breadcrumb.label"),role:"navigation"},[Te(a.$slots,"default")],10,FX))}});var UX=Ge(VX,[["__file","breadcrumb.vue"]]);const GX=Ve({to:{type:fe([String,Object]),default:""},replace:{type:Boolean,default:!1}}),WX=ne({name:"ElBreadcrumbItem"}),zX=ne({...WX,props:GX,setup(t){const n=t,o=Nt(),i=it(uM,void 0),l=Pe("breadcrumb"),a=o.appContext.config.globalProperties.$router,u=V(),h=()=>{!n.to||!a||(n.replace?a.replace(n.to):a.push(n.to))};return(p,f)=>{var g,m;return A(),Y("span",{class:N(c(l).e("item"))},[Q("span",{ref_key:"link",ref:u,class:N([c(l).e("inner"),c(l).is("link",!!p.to)]),role:"link",onClick:h},[Te(p.$slots,"default")],2),(g=c(i))!=null&&g.separatorIcon?(A(),be(c(at),{key:0,class:N(c(l).e("separator"))},{default:he(()=>[(A(),be(Ft(c(i).separatorIcon)))]),_:1},8,["class"])):(A(),Y("span",{key:1,class:N(c(l).e("separator")),role:"presentation"},We((m=c(i))==null?void 0:m.separator),3))],2)}}});var cM=Ge(zX,[["__file","breadcrumb-item.vue"]]);const KX=Mt(UX,{BreadcrumbItem:cM}),XX=On(cM),dM=Symbol("buttonGroupContextKey"),YX=(t,n)=>{eo({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},w(()=>t.type==="text"));const o=it(dM,void 0),i=sp("button"),{form:l}=Fo(),a=Xn(w(()=>o==null?void 0:o.size)),u=Qo(),h=V(),p=uo(),f=w(()=>t.type||(o==null?void 0:o.type)||""),g=w(()=>{var T,$,E;return(E=($=t.autoInsertSpace)!=null?$:(T=i.value)==null?void 0:T.autoInsertSpace)!=null?E:!1}),m=w(()=>t.tag==="button"?{ariaDisabled:u.value||t.loading,disabled:u.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),_=w(()=>{var T;const $=(T=p.default)==null?void 0:T.call(p);if(g.value&&($==null?void 0:$.length)===1){const E=$[0];if((E==null?void 0:E.type)===Pc){const y=E.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(y.trim())}}return!1});return{_disabled:u,_size:a,_type:f,_ref:h,_props:m,shouldAddSpace:_,handleClick:T=>{t.nativeType==="reset"&&(l==null||l.resetFields()),n("click",T)}}},UT=["default","primary","success","warning","info","danger","text",""],jX=["button","submit","reset"],GT=Ve({size:Jn,disabled:Boolean,type:{type:String,values:UT,default:""},icon:{type:an},nativeType:{type:String,values:jX,default:"button"},loading:Boolean,loadingIcon:{type:an,default:()=>Nl},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:fe([String,Object]),default:"button"}}),qX={click:t=>t instanceof MouseEvent};function Co(t,n){JX(t)&&(t="100%");var o=ZX(t);return t=n===360?t:Math.min(n,Math.max(0,parseFloat(t))),o&&(t=parseInt(String(t*n),10)/100),Math.abs(t-n)<1e-6?1:(n===360?t=(t<0?t%n+n:t%n)/parseFloat(String(n)):t=t%n/parseFloat(String(n)),t)}function em(t){return Math.min(1,Math.max(0,t))}function JX(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function ZX(t){return typeof t=="string"&&t.indexOf("%")!==-1}function hM(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function tm(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Ea(t){return t.length===1?"0"+t:String(t)}function QX(t,n,o){return{r:Co(t,255)*255,g:Co(n,255)*255,b:Co(o,255)*255}}function LR(t,n,o){t=Co(t,255),n=Co(n,255),o=Co(o,255);var i=Math.max(t,n,o),l=Math.min(t,n,o),a=0,u=0,h=(i+l)/2;if(i===l)u=0,a=0;else{var p=i-l;switch(u=h>.5?p/(2-i-l):p/(i+l),i){case t:a=(n-o)/p+(n<o?6:0);break;case n:a=(o-t)/p+2;break;case o:a=(t-n)/p+4;break}a/=6}return{h:a,s:u,l:h}}function Wb(t,n,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?t+(n-t)*(6*o):o<1/2?n:o<2/3?t+(n-t)*(2/3-o)*6:t}function eY(t,n,o){var i,l,a;if(t=Co(t,360),n=Co(n,100),o=Co(o,100),n===0)l=o,a=o,i=o;else{var u=o<.5?o*(1+n):o+n-o*n,h=2*o-u;i=Wb(h,u,t+1/3),l=Wb(h,u,t),a=Wb(h,u,t-1/3)}return{r:i*255,g:l*255,b:a*255}}function AR(t,n,o){t=Co(t,255),n=Co(n,255),o=Co(o,255);var i=Math.max(t,n,o),l=Math.min(t,n,o),a=0,u=i,h=i-l,p=i===0?0:h/i;if(i===l)a=0;else{switch(i){case t:a=(n-o)/h+(n<o?6:0);break;case n:a=(o-t)/h+2;break;case o:a=(t-n)/h+4;break}a/=6}return{h:a,s:p,v:u}}function tY(t,n,o){t=Co(t,360)*6,n=Co(n,100),o=Co(o,100);var i=Math.floor(t),l=t-i,a=o*(1-n),u=o*(1-l*n),h=o*(1-(1-l)*n),p=i%6,f=[o,u,a,a,h,o][p],g=[h,o,o,u,a,a][p],m=[a,a,h,o,o,u][p];return{r:f*255,g:g*255,b:m*255}}function NR(t,n,o,i){var l=[Ea(Math.round(t).toString(16)),Ea(Math.round(n).toString(16)),Ea(Math.round(o).toString(16))];return i&&l[0].startsWith(l[0].charAt(1))&&l[1].startsWith(l[1].charAt(1))&&l[2].startsWith(l[2].charAt(1))?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0):l.join("")}function nY(t,n,o,i,l){var a=[Ea(Math.round(t).toString(16)),Ea(Math.round(n).toString(16)),Ea(Math.round(o).toString(16)),Ea(oY(i))];return l&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function oY(t){return Math.round(parseFloat(t)*255).toString(16)}function MR(t){return $s(t)/255}function $s(t){return parseInt(t,16)}function sY(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var WT={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function iY(t){var n={r:0,g:0,b:0},o=1,i=null,l=null,a=null,u=!1,h=!1;return typeof t=="string"&&(t=aY(t)),typeof t=="object"&&(gr(t.r)&&gr(t.g)&&gr(t.b)?(n=QX(t.r,t.g,t.b),u=!0,h=String(t.r).substr(-1)==="%"?"prgb":"rgb"):gr(t.h)&&gr(t.s)&&gr(t.v)?(i=tm(t.s),l=tm(t.v),n=tY(t.h,i,l),u=!0,h="hsv"):gr(t.h)&&gr(t.s)&&gr(t.l)&&(i=tm(t.s),a=tm(t.l),n=eY(t.h,i,a),u=!0,h="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(o=t.a)),o=hM(o),{ok:u,format:t.format||h,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:o}}var rY="[-\\+]?\\d+%?",lY="[-\\+]?\\d*\\.\\d+%?",pl="(?:".concat(lY,")|(?:").concat(rY,")"),zb="[\\s|\\(]+(".concat(pl,")[,|\\s]+(").concat(pl,")[,|\\s]+(").concat(pl,")\\s*\\)?"),Kb="[\\s|\\(]+(".concat(pl,")[,|\\s]+(").concat(pl,")[,|\\s]+(").concat(pl,")[,|\\s]+(").concat(pl,")\\s*\\)?"),li={CSS_UNIT:new RegExp(pl),rgb:new RegExp("rgb"+zb),rgba:new RegExp("rgba"+Kb),hsl:new RegExp("hsl"+zb),hsla:new RegExp("hsla"+Kb),hsv:new RegExp("hsv"+zb),hsva:new RegExp("hsva"+Kb),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function aY(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var n=!1;if(WT[t])t=WT[t],n=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var o=li.rgb.exec(t);return o?{r:o[1],g:o[2],b:o[3]}:(o=li.rgba.exec(t),o?{r:o[1],g:o[2],b:o[3],a:o[4]}:(o=li.hsl.exec(t),o?{h:o[1],s:o[2],l:o[3]}:(o=li.hsla.exec(t),o?{h:o[1],s:o[2],l:o[3],a:o[4]}:(o=li.hsv.exec(t),o?{h:o[1],s:o[2],v:o[3]}:(o=li.hsva.exec(t),o?{h:o[1],s:o[2],v:o[3],a:o[4]}:(o=li.hex8.exec(t),o?{r:$s(o[1]),g:$s(o[2]),b:$s(o[3]),a:MR(o[4]),format:n?"name":"hex8"}:(o=li.hex6.exec(t),o?{r:$s(o[1]),g:$s(o[2]),b:$s(o[3]),format:n?"name":"hex"}:(o=li.hex4.exec(t),o?{r:$s(o[1]+o[1]),g:$s(o[2]+o[2]),b:$s(o[3]+o[3]),a:MR(o[4]+o[4]),format:n?"name":"hex8"}:(o=li.hex3.exec(t),o?{r:$s(o[1]+o[1]),g:$s(o[2]+o[2]),b:$s(o[3]+o[3]),format:n?"name":"hex"}:!1)))))))))}function gr(t){return!!li.CSS_UNIT.exec(String(t))}var pM=function(){function t(n,o){n===void 0&&(n=""),o===void 0&&(o={});var i;if(n instanceof t)return n;typeof n=="number"&&(n=sY(n)),this.originalInput=n;var l=iY(n);this.originalInput=n,this.r=l.r,this.g=l.g,this.b=l.b,this.a=l.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=o.format)!==null&&i!==void 0?i:l.format,this.gradientType=o.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=l.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},t.prototype.getLuminance=function(){var n=this.toRgb(),o,i,l,a=n.r/255,u=n.g/255,h=n.b/255;return a<=.03928?o=a/12.92:o=Math.pow((a+.055)/1.055,2.4),u<=.03928?i=u/12.92:i=Math.pow((u+.055)/1.055,2.4),h<=.03928?l=h/12.92:l=Math.pow((h+.055)/1.055,2.4),.2126*o+.7152*i+.0722*l},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(n){return this.a=hM(n),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var n=this.toHsl().s;return n===0},t.prototype.toHsv=function(){var n=AR(this.r,this.g,this.b);return{h:n.h*360,s:n.s,v:n.v,a:this.a}},t.prototype.toHsvString=function(){var n=AR(this.r,this.g,this.b),o=Math.round(n.h*360),i=Math.round(n.s*100),l=Math.round(n.v*100);return this.a===1?"hsv(".concat(o,", ").concat(i,"%, ").concat(l,"%)"):"hsva(".concat(o,", ").concat(i,"%, ").concat(l,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var n=LR(this.r,this.g,this.b);return{h:n.h*360,s:n.s,l:n.l,a:this.a}},t.prototype.toHslString=function(){var n=LR(this.r,this.g,this.b),o=Math.round(n.h*360),i=Math.round(n.s*100),l=Math.round(n.l*100);return this.a===1?"hsl(".concat(o,", ").concat(i,"%, ").concat(l,"%)"):"hsla(".concat(o,", ").concat(i,"%, ").concat(l,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(n){return n===void 0&&(n=!1),NR(this.r,this.g,this.b,n)},t.prototype.toHexString=function(n){return n===void 0&&(n=!1),"#"+this.toHex(n)},t.prototype.toHex8=function(n){return n===void 0&&(n=!1),nY(this.r,this.g,this.b,this.a,n)},t.prototype.toHex8String=function(n){return n===void 0&&(n=!1),"#"+this.toHex8(n)},t.prototype.toHexShortString=function(n){return n===void 0&&(n=!1),this.a===1?this.toHexString(n):this.toHex8String(n)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var n=Math.round(this.r),o=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(n,", ").concat(o,", ").concat(i,")"):"rgba(".concat(n,", ").concat(o,", ").concat(i,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var n=function(o){return"".concat(Math.round(Co(o,255)*100),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var n=function(o){return Math.round(Co(o,255)*100)};return this.a===1?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var n="#"+NR(this.r,this.g,this.b,!1),o=0,i=Object.entries(WT);o<i.length;o++){var l=i[o],a=l[0],u=l[1];if(n===u)return a}return!1},t.prototype.toString=function(n){var o=!!n;n=n??this.format;var i=!1,l=this.a<1&&this.a>=0,a=!o&&l&&(n.startsWith("hex")||n==="name");return a?n==="name"&&this.a===0?this.toName():this.toRgbString():(n==="rgb"&&(i=this.toRgbString()),n==="prgb"&&(i=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(i=this.toHexString()),n==="hex3"&&(i=this.toHexString(!0)),n==="hex4"&&(i=this.toHex8String(!0)),n==="hex8"&&(i=this.toHex8String()),n==="name"&&(i=this.toName()),n==="hsl"&&(i=this.toHslString()),n==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(n){n===void 0&&(n=10);var o=this.toHsl();return o.l+=n/100,o.l=em(o.l),new t(o)},t.prototype.brighten=function(n){n===void 0&&(n=10);var o=this.toRgb();return o.r=Math.max(0,Math.min(255,o.r-Math.round(255*-(n/100)))),o.g=Math.max(0,Math.min(255,o.g-Math.round(255*-(n/100)))),o.b=Math.max(0,Math.min(255,o.b-Math.round(255*-(n/100)))),new t(o)},t.prototype.darken=function(n){n===void 0&&(n=10);var o=this.toHsl();return o.l-=n/100,o.l=em(o.l),new t(o)},t.prototype.tint=function(n){return n===void 0&&(n=10),this.mix("white",n)},t.prototype.shade=function(n){return n===void 0&&(n=10),this.mix("black",n)},t.prototype.desaturate=function(n){n===void 0&&(n=10);var o=this.toHsl();return o.s-=n/100,o.s=em(o.s),new t(o)},t.prototype.saturate=function(n){n===void 0&&(n=10);var o=this.toHsl();return o.s+=n/100,o.s=em(o.s),new t(o)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(n){var o=this.toHsl(),i=(o.h+n)%360;return o.h=i<0?360+i:i,new t(o)},t.prototype.mix=function(n,o){o===void 0&&(o=50);var i=this.toRgb(),l=new t(n).toRgb(),a=o/100,u={r:(l.r-i.r)*a+i.r,g:(l.g-i.g)*a+i.g,b:(l.b-i.b)*a+i.b,a:(l.a-i.a)*a+i.a};return new t(u)},t.prototype.analogous=function(n,o){n===void 0&&(n=6),o===void 0&&(o=30);var i=this.toHsl(),l=360/o,a=[this];for(i.h=(i.h-(l*n>>1)+720)%360;--n;)i.h=(i.h+l)%360,a.push(new t(i));return a},t.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new t(n)},t.prototype.monochromatic=function(n){n===void 0&&(n=6);for(var o=this.toHsv(),i=o.h,l=o.s,a=o.v,u=[],h=1/n;n--;)u.push(new t({h:i,s:l,v:a})),a=(a+h)%1;return u},t.prototype.splitcomplement=function(){var n=this.toHsl(),o=n.h;return[this,new t({h:(o+72)%360,s:n.s,l:n.l}),new t({h:(o+216)%360,s:n.s,l:n.l})]},t.prototype.onBackground=function(n){var o=this.toRgb(),i=new t(n).toRgb(),l=o.a+i.a*(1-o.a);return new t({r:(o.r*o.a+i.r*i.a*(1-o.a))/l,g:(o.g*o.a+i.g*i.a*(1-o.a))/l,b:(o.b*o.a+i.b*i.a*(1-o.a))/l,a:l})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(n){for(var o=this.toHsl(),i=o.h,l=[this],a=360/n,u=1;u<n;u++)l.push(new t({h:(i+u*a)%360,s:o.s,l:o.l}));return l},t.prototype.equals=function(n){return this.toRgbString()===new t(n).toRgbString()},t}();function nl(t,n=20){return t.mix("#141414",n).toString()}function uY(t){const n=Qo(),o=Pe("button");return w(()=>{let i={};const l=t.color;if(l){const a=new pM(l),u=t.dark?a.tint(20).toString():nl(a,20);if(t.plain)i=o.cssVarBlock({"bg-color":t.dark?nl(a,90):a.tint(90).toString(),"text-color":l,"border-color":t.dark?nl(a,50):a.tint(50).toString(),"hover-text-color":`var(${o.cssVarName("color-white")})`,"hover-bg-color":l,"hover-border-color":l,"active-bg-color":u,"active-text-color":`var(${o.cssVarName("color-white")})`,"active-border-color":u}),n.value&&(i[o.cssVarBlockName("disabled-bg-color")]=t.dark?nl(a,90):a.tint(90).toString(),i[o.cssVarBlockName("disabled-text-color")]=t.dark?nl(a,50):a.tint(50).toString(),i[o.cssVarBlockName("disabled-border-color")]=t.dark?nl(a,80):a.tint(80).toString());else{const h=t.dark?nl(a,30):a.tint(30).toString(),p=a.isDark()?`var(${o.cssVarName("color-white")})`:`var(${o.cssVarName("color-black")})`;if(i=o.cssVarBlock({"bg-color":l,"text-color":p,"border-color":l,"hover-bg-color":h,"hover-text-color":p,"hover-border-color":h,"active-bg-color":u,"active-border-color":u}),n.value){const f=t.dark?nl(a,50):a.tint(50).toString();i[o.cssVarBlockName("disabled-bg-color")]=f,i[o.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${o.cssVarName("color-white")})`,i[o.cssVarBlockName("disabled-border-color")]=f}}}return i})}const cY=ne({name:"ElButton"}),dY=ne({...cY,props:GT,emits:qX,setup(t,{expose:n,emit:o}){const i=t,l=uY(i),a=Pe("button"),{_ref:u,_size:h,_type:p,_disabled:f,_props:g,shouldAddSpace:m,handleClick:_}=YX(i,o),b=w(()=>[a.b(),a.m(p.value),a.m(h.value),a.is("disabled",f.value),a.is("loading",i.loading),a.is("plain",i.plain),a.is("round",i.round),a.is("circle",i.circle),a.is("text",i.text),a.is("link",i.link),a.is("has-bg",i.bg)]);return n({ref:u,size:h,type:p,disabled:f,shouldAddSpace:m}),(T,$)=>(A(),be(Ft(T.tag),Vt({ref_key:"_ref",ref:u},c(g),{class:c(b),style:c(l),onClick:c(_)}),{default:he(()=>[T.loading?(A(),Y(dt,{key:0},[T.$slots.loading?Te(T.$slots,"loading",{key:0}):(A(),be(c(at),{key:1,class:N(c(a).is("loading"))},{default:he(()=>[(A(),be(Ft(T.loadingIcon)))]),_:1},8,["class"]))],64)):T.icon||T.$slots.icon?(A(),be(c(at),{key:1},{default:he(()=>[T.icon?(A(),be(Ft(T.icon),{key:0})):Te(T.$slots,"icon",{key:1})]),_:3})):$e("v-if",!0),T.$slots.default?(A(),Y("span",{key:2,class:N({[c(a).em("text","expand")]:c(m)})},[Te(T.$slots,"default")],2)):$e("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var hY=Ge(dY,[["__file","button.vue"]]);const pY={size:GT.size,type:GT.type},fY=ne({name:"ElButtonGroup"}),mY=ne({...fY,props:pY,setup(t){const n=t;Gt(dM,en({size:sn(n,"size"),type:sn(n,"type")}));const o=Pe("button");return(i,l)=>(A(),Y("div",{class:N(`${c(o).b("group")}`)},[Te(i.$slots,"default")],2))}});var fM=Ge(mY,[["__file","button-group.vue"]]);const lo=Mt(hY,{ButtonGroup:fM}),mM=On(fM);var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function js(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gM={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(qo,function(){var o=1e3,i=6e4,l=36e5,a="millisecond",u="second",h="minute",p="hour",f="day",g="week",m="month",_="quarter",b="year",T="date",$="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(J){var j=["th","st","nd","rd"],z=J%100;return"["+J+(j[(z-20)%10]||j[z]||j[0])+"]"}},S=function(J,j,z){var G=String(J);return!G||G.length>=j?J:""+Array(j+1-G.length).join(z)+J},C={s:S,z:function(J){var j=-J.utcOffset(),z=Math.abs(j),G=Math.floor(z/60),W=z%60;return(j<=0?"+":"-")+S(G,2,"0")+":"+S(W,2,"0")},m:function J(j,z){if(j.date()<z.date())return-J(z,j);var G=12*(z.year()-j.year())+(z.month()-j.month()),W=j.clone().add(G,m),D=z-W<0,X=j.clone().add(G+(D?-1:1),m);return+(-(G+(z-W)/(D?W-X:X-W))||0)},a:function(J){return J<0?Math.ceil(J)||0:Math.floor(J)},p:function(J){return{M:m,y:b,w:g,d:f,D:T,h:p,m:h,s:u,ms:a,Q:_}[J]||String(J||"").toLowerCase().replace(/s$/,"")},u:function(J){return J===void 0}},R="en",O={};O[R]=I;var P="$isDayjsObject",M=function(J){return J instanceof K||!(!J||!J[P])},H=function J(j,z,G){var W;if(!j)return R;if(typeof j=="string"){var D=j.toLowerCase();O[D]&&(W=D),z&&(O[D]=z,W=D);var X=j.split("-");if(!W&&X.length>1)return J(X[0])}else{var oe=j.name;O[oe]=j,W=oe}return!G&&W&&(R=W),W||!G&&R},F=function(J,j){if(M(J))return J.clone();var z=typeof j=="object"?j:{};return z.date=J,z.args=arguments,new K(z)},B=C;B.l=H,B.i=M,B.w=function(J,j){return F(J,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var K=function(){function J(z){this.$L=H(z.locale,null,!0),this.parse(z),this.$x=this.$x||z.x||{},this[P]=!0}var j=J.prototype;return j.parse=function(z){this.$d=function(G){var W=G.date,D=G.utc;if(W===null)return new Date(NaN);if(B.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var X=W.match(E);if(X){var oe=X[2]-1||0,le=(X[7]||"0").substring(0,3);return D?new Date(Date.UTC(X[1],oe,X[3]||1,X[4]||0,X[5]||0,X[6]||0,le)):new Date(X[1],oe,X[3]||1,X[4]||0,X[5]||0,X[6]||0,le)}}return new Date(W)}(z),this.init()},j.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},j.$utils=function(){return B},j.isValid=function(){return this.$d.toString()!==$},j.isSame=function(z,G){var W=F(z);return this.startOf(G)<=W&&W<=this.endOf(G)},j.isAfter=function(z,G){return F(z)<this.startOf(G)},j.isBefore=function(z,G){return this.endOf(G)<F(z)},j.$g=function(z,G,W){return B.u(z)?this[G]:this.set(W,z)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(z,G){var W=this,D=!!B.u(G)||G,X=B.p(z),oe=function(Ke,ve){var Ae=B.w(W.$u?Date.UTC(W.$y,ve,Ke):new Date(W.$y,ve,Ke),W);return D?Ae:Ae.endOf(f)},le=function(Ke,ve){return B.w(W.toDate()[Ke].apply(W.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(ve)),W)},me=this.$W,Se=this.$M,De=this.$D,ce="set"+(this.$u?"UTC":"");switch(X){case b:return D?oe(1,0):oe(31,11);case m:return D?oe(1,Se):oe(0,Se+1);case g:var ye=this.$locale().weekStart||0,_e=(me<ye?me+7:me)-ye;return oe(D?De-_e:De+(6-_e),Se);case f:case T:return le(ce+"Hours",0);case p:return le(ce+"Minutes",1);case h:return le(ce+"Seconds",2);case u:return le(ce+"Milliseconds",3);default:return this.clone()}},j.endOf=function(z){return this.startOf(z,!1)},j.$set=function(z,G){var W,D=B.p(z),X="set"+(this.$u?"UTC":""),oe=(W={},W[f]=X+"Date",W[T]=X+"Date",W[m]=X+"Month",W[b]=X+"FullYear",W[p]=X+"Hours",W[h]=X+"Minutes",W[u]=X+"Seconds",W[a]=X+"Milliseconds",W)[D],le=D===f?this.$D+(G-this.$W):G;if(D===m||D===b){var me=this.clone().set(T,1);me.$d[oe](le),me.init(),this.$d=me.set(T,Math.min(this.$D,me.daysInMonth())).$d}else oe&&this.$d[oe](le);return this.init(),this},j.set=function(z,G){return this.clone().$set(z,G)},j.get=function(z){return this[B.p(z)]()},j.add=function(z,G){var W,D=this;z=Number(z);var X=B.p(G),oe=function(Se){var De=F(D);return B.w(De.date(De.date()+Math.round(Se*z)),D)};if(X===m)return this.set(m,this.$M+z);if(X===b)return this.set(b,this.$y+z);if(X===f)return oe(1);if(X===g)return oe(7);var le=(W={},W[h]=i,W[p]=l,W[u]=o,W)[X]||1,me=this.$d.getTime()+z*le;return B.w(me,this)},j.subtract=function(z,G){return this.add(-1*z,G)},j.format=function(z){var G=this,W=this.$locale();if(!this.isValid())return W.invalidDate||$;var D=z||"YYYY-MM-DDTHH:mm:ssZ",X=B.z(this),oe=this.$H,le=this.$m,me=this.$M,Se=W.weekdays,De=W.months,ce=W.meridiem,ye=function(ve,Ae,Fe,ae){return ve&&(ve[Ae]||ve(G,D))||Fe[Ae].slice(0,ae)},_e=function(ve){return B.s(oe%12||12,ve,"0")},Ke=ce||function(ve,Ae,Fe){var ae=ve<12?"AM":"PM";return Fe?ae.toLowerCase():ae};return D.replace(y,function(ve,Ae){return Ae||function(Fe){switch(Fe){case"YY":return String(G.$y).slice(-2);case"YYYY":return B.s(G.$y,4,"0");case"M":return me+1;case"MM":return B.s(me+1,2,"0");case"MMM":return ye(W.monthsShort,me,De,3);case"MMMM":return ye(De,me);case"D":return G.$D;case"DD":return B.s(G.$D,2,"0");case"d":return String(G.$W);case"dd":return ye(W.weekdaysMin,G.$W,Se,2);case"ddd":return ye(W.weekdaysShort,G.$W,Se,3);case"dddd":return Se[G.$W];case"H":return String(oe);case"HH":return B.s(oe,2,"0");case"h":return _e(1);case"hh":return _e(2);case"a":return Ke(oe,le,!0);case"A":return Ke(oe,le,!1);case"m":return String(le);case"mm":return B.s(le,2,"0");case"s":return String(G.$s);case"ss":return B.s(G.$s,2,"0");case"SSS":return B.s(G.$ms,3,"0");case"Z":return X}return null}(ve)||X.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(z,G,W){var D,X=this,oe=B.p(G),le=F(z),me=(le.utcOffset()-this.utcOffset())*i,Se=this-le,De=function(){return B.m(X,le)};switch(oe){case b:D=De()/12;break;case m:D=De();break;case _:D=De()/3;break;case g:D=(Se-me)/6048e5;break;case f:D=(Se-me)/864e5;break;case p:D=Se/l;break;case h:D=Se/i;break;case u:D=Se/o;break;default:D=Se}return W?D:B.a(D)},j.daysInMonth=function(){return this.endOf(m).$D},j.$locale=function(){return O[this.$L]},j.locale=function(z,G){if(!z)return this.$L;var W=this.clone(),D=H(z,G,!0);return D&&(W.$L=D),W},j.clone=function(){return B.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},J}(),te=K.prototype;return F.prototype=te,[["$ms",a],["$s",u],["$m",h],["$H",p],["$W",f],["$M",m],["$y",b],["$D",T]].forEach(function(J){te[J[1]]=function(j){return this.$g(j,J[0],J[1])}}),F.extend=function(J,j){return J.$i||(J(j,K,F),J.$i=!0),F},F.locale=H,F.isDayjs=M,F.unix=function(J){return F(1e3*J)},F.en=O[R],F.Ls=O,F.p={},F})})(gM);var gY=gM.exports;const Dt=js(gY);var $M={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(qo,function(){var o={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,a=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,h={},p=function($){return($=+$)+($>68?1900:2e3)},f=function($){return function(E){this[$]=+E}},g=[/[+-]\d\d:?(\d\d)?|Z/,function($){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var y=E.match(/([+-]|\d\d)/g),I=60*y[1]+(+y[2]||0);return I===0?0:y[0]==="+"?-I:I}($)}],m=function($){var E=h[$];return E&&(E.indexOf?E:E.s.concat(E.f))},_=function($,E){var y,I=h.meridiem;if(I){for(var S=1;S<=24;S+=1)if($.indexOf(I(S,0,E))>-1){y=S>12;break}}else y=$===(E?"pm":"PM");return y},b={A:[u,function($){this.afternoon=_($,!1)}],a:[u,function($){this.afternoon=_($,!0)}],S:[/\d/,function($){this.milliseconds=100*+$}],SS:[l,function($){this.milliseconds=10*+$}],SSS:[/\d{3}/,function($){this.milliseconds=+$}],s:[a,f("seconds")],ss:[a,f("seconds")],m:[a,f("minutes")],mm:[a,f("minutes")],H:[a,f("hours")],h:[a,f("hours")],HH:[a,f("hours")],hh:[a,f("hours")],D:[a,f("day")],DD:[l,f("day")],Do:[u,function($){var E=h.ordinal,y=$.match(/\d+/);if(this.day=y[0],E)for(var I=1;I<=31;I+=1)E(I).replace(/\[|\]/g,"")===$&&(this.day=I)}],M:[a,f("month")],MM:[l,f("month")],MMM:[u,function($){var E=m("months"),y=(m("monthsShort")||E.map(function(I){return I.slice(0,3)})).indexOf($)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[u,function($){var E=m("months").indexOf($)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,f("year")],YY:[l,function($){this.year=p($)}],YYYY:[/\d{4}/,f("year")],Z:g,ZZ:g};function T($){var E,y;E=$,y=h&&h.formats;for(var I=($=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,F,B){var K=B&&B.toUpperCase();return F||y[B]||o[B]||y[K].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(te,J,j){return J||j.slice(1)})})).match(i),S=I.length,C=0;C<S;C+=1){var R=I[C],O=b[R],P=O&&O[0],M=O&&O[1];I[C]=M?{regex:P,parser:M}:R.replace(/^\[|\]$/g,"")}return function(H){for(var F={},B=0,K=0;B<S;B+=1){var te=I[B];if(typeof te=="string")K+=te.length;else{var J=te.regex,j=te.parser,z=H.slice(K),G=J.exec(z)[0];j.call(F,G),H=H.replace(G,"")}}return function(W){var D=W.afternoon;if(D!==void 0){var X=W.hours;D?X<12&&(W.hours+=12):X===12&&(W.hours=0),delete W.afternoon}}(F),F}}return function($,E,y){y.p.customParseFormat=!0,$&&$.parseTwoDigitYear&&(p=$.parseTwoDigitYear);var I=E.prototype,S=I.parse;I.parse=function(C){var R=C.date,O=C.utc,P=C.args;this.$u=O;var M=P[1];if(typeof M=="string"){var H=P[2]===!0,F=P[3]===!0,B=H||F,K=P[2];F&&(K=P[2]),h=this.$locale(),!H&&K&&(h=y.Ls[K]),this.$d=function(z,G,W){try{if(["x","X"].indexOf(G)>-1)return new Date((G==="X"?1e3:1)*z);var D=T(G)(z),X=D.year,oe=D.month,le=D.day,me=D.hours,Se=D.minutes,De=D.seconds,ce=D.milliseconds,ye=D.zone,_e=new Date,Ke=le||(X||oe?1:_e.getDate()),ve=X||_e.getFullYear(),Ae=0;X&&!oe||(Ae=oe>0?oe-1:_e.getMonth());var Fe=me||0,ae=Se||0,de=De||0,Re=ce||0;return ye?new Date(Date.UTC(ve,Ae,Ke,Fe,ae,de,Re+60*ye.offset*1e3)):W?new Date(Date.UTC(ve,Ae,Ke,Fe,ae,de,Re)):new Date(ve,Ae,Ke,Fe,ae,de,Re)}catch{return new Date("")}}(R,M,O),this.init(),K&&K!==!0&&(this.$L=this.locale(K).$L),B&&R!=this.format(M)&&(this.$d=new Date("")),h={}}else if(M instanceof Array)for(var te=M.length,J=1;J<=te;J+=1){P[1]=M[J-1];var j=y.apply(this,P);if(j.isValid()){this.$d=j.$d,this.$L=j.$L,this.init();break}J===te&&(this.$d=new Date(""))}else S.call(this,C)}}})})($M);var $Y=$M.exports;const s0=js($Y),DR=["hours","minutes","seconds"],zT="HH:mm:ss",qu="YYYY-MM-DD",vY={date:qu,dates:qu,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",datetime:`${qu} ${zT}`,monthrange:"YYYY-MM",daterange:qu,datetimerange:`${qu} ${zT}`},Xb=(t,n)=>[t>0?t-1:void 0,t,t<n?t+1:void 0],vl=t=>Array.from(Array.from({length:t}).keys()),vM=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),_M=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),PR=function(t,n){const o=Ma(t),i=Ma(n);return o&&i?t.getTime()===n.getTime():!o&&!i?t===n:!1},xR=function(t,n){const o=tt(t),i=tt(n);return o&&i?t.length!==n.length?!1:t.every((l,a)=>PR(l,n[a])):!o&&!i?PR(t,n):!1},BR=function(t,n,o){const i=xs(n)||n==="x"?Dt(t).locale(o):Dt(t,n).locale(o);return i.isValid()?i:void 0},FR=function(t,n,o){return xs(n)?t:n==="x"?+t:Dt(t).locale(o).format(n)},Yb=(t,n)=>{var o;const i=[],l=n==null?void 0:n();for(let a=0;a<t;a++)i.push((o=l==null?void 0:l.includes(a))!=null?o:!1);return i},bM=Ve({disabledHours:{type:fe(Function)},disabledMinutes:{type:fe(Function)},disabledSeconds:{type:fe(Function)}}),TM=Ve({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),i0=Ve({id:{type:fe([Array,String])},name:{type:fe([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:fe([String,Object]),default:Al},editable:{type:Boolean,default:!0},prefixIcon:{type:fe([String,Object]),default:""},size:Jn,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:fe(Object),default:()=>({})},modelValue:{type:fe([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:fe([Date,Array])},defaultTime:{type:fe([Date,Array])},isRange:Boolean,...bM,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:fe([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,...Gc,...go(["ariaLabel"])}),_Y=["id","name","placeholder","value","disabled","readonly"],bY=["id","name","placeholder","value","disabled","readonly"],TY=ne({name:"Picker"}),yY=ne({...TY,props:i0,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:n,emit:o}){const i=t,l=Ga(),{lang:a}=jt(),u=Pe("date"),h=Pe("input"),p=Pe("range"),{form:f,formItem:g}=Fo(),m=it("ElPopperOptions",{}),{valueOnClear:_}=Bg(i,null),b=V(),T=V(),$=V(!1),E=V(!1),y=V(null);let I=!1,S=!1;const C=w(()=>[u.b("editor"),u.bm("editor",i.type),h.e("wrapper"),u.is("disabled",me.value),u.is("active",$.value),p.b("editor"),He?p.bm("editor",He.value):"",l.class]),R=w(()=>[h.e("icon"),p.e("close-icon"),Ae.value?"":p.e("close-icon--hidden")]);Me($,re=>{re?pt(()=>{re&&(y.value=i.modelValue)}):(ke.value=null,pt(()=>{O(i.modelValue)}))});const O=(re,je)=>{(je||!xR(re,y.value))&&(o("change",re),i.validateEvent&&(g==null||g.validate("change").catch(Et=>void 0)))},P=re=>{if(!xR(i.modelValue,re)){let je;tt(re)?je=re.map(Et=>FR(Et,i.valueFormat,a.value)):re&&(je=FR(re,i.valueFormat,a.value)),o("update:modelValue",re&&je,a.value)}},M=re=>{o("keydown",re)},H=w(()=>{if(T.value){const re=Ne.value?T.value:T.value.$el;return Array.from(re.querySelectorAll("input"))}return[]}),F=(re,je,Et)=>{const U=H.value;U.length&&(!Et||Et==="min"?(U[0].setSelectionRange(re,je),U[0].focus()):Et==="max"&&(U[1].setSelectionRange(re,je),U[1].focus()))},B=()=>{D(!0,!0),pt(()=>{S=!1})},K=(re="",je=!1)=>{je||(S=!0),$.value=je;let Et;tt(re)?Et=re.map(U=>U.toDate()):Et=re&&re.toDate(),ke.value=null,P(Et)},te=()=>{E.value=!0},J=()=>{o("visible-change",!0)},j=re=>{(re==null?void 0:re.key)===mt.esc&&D(!0,!0)},z=()=>{E.value=!1,$.value=!1,S=!1,o("visible-change",!1)},G=()=>{$.value=!0},W=()=>{$.value=!1},D=(re=!0,je=!1)=>{S=je;const[Et,U]=c(H);let se=Et;!re&&Ne.value&&(se=U),se&&se.focus()},X=re=>{i.readonly||me.value||$.value||S||($.value=!0,o("focus",re))};let oe;const le=re=>{const je=async()=>{setTimeout(()=>{var Et;oe===je&&(!((Et=b.value)!=null&&Et.isFocusInsideContent()&&!I)&&H.value.filter(U=>U.contains(document.activeElement)).length===0&&(Ue(),$.value=!1,o("blur",re),i.validateEvent&&(g==null||g.validate("blur").catch(U=>void 0))),I=!1)},0)};oe=je,je()},me=w(()=>i.disabled||(f==null?void 0:f.disabled)),Se=w(()=>{let re;if(ae.value?L.value.getDefaultValue&&(re=L.value.getDefaultValue()):tt(i.modelValue)?re=i.modelValue.map(je=>BR(je,i.valueFormat,a.value)):re=BR(i.modelValue,i.valueFormat,a.value),L.value.getRangeAvailableTime){const je=L.value.getRangeAvailableTime(re);Po(je,re)||(re=je,P(tt(re)?re.map(Et=>Et.toDate()):re.toDate()))}return tt(re)&&re.some(je=>!je)&&(re=[]),re}),De=w(()=>{if(!L.value.panelReady)return"";const re=q(Se.value);return tt(ke.value)?[ke.value[0]||re&&re[0]||"",ke.value[1]||re&&re[1]||""]:ke.value!==null?ke.value:!ye.value&&ae.value||!$.value&&ae.value?"":re?_e.value||Ke.value?re.join(", "):re:""}),ce=w(()=>i.type.includes("time")),ye=w(()=>i.type.startsWith("time")),_e=w(()=>i.type==="dates"),Ke=w(()=>i.type==="years"),ve=w(()=>i.prefixIcon||(ce.value?i1:n4)),Ae=V(!1),Fe=re=>{i.readonly||me.value||Ae.value&&(re.stopPropagation(),B(),P(_.value),O(_.value,!0),Ae.value=!1,$.value=!1,L.value.handleClear&&L.value.handleClear())},ae=w(()=>{const{modelValue:re}=i;return!re||tt(re)&&!re.filter(Boolean).length}),de=async re=>{var je;i.readonly||me.value||(((je=re.target)==null?void 0:je.tagName)!=="INPUT"||H.value.includes(document.activeElement))&&($.value=!0)},Re=()=>{i.readonly||me.value||!ae.value&&i.clearable&&(Ae.value=!0)},Be=()=>{Ae.value=!1},Ee=re=>{var je;i.readonly||me.value||(((je=re.touches[0].target)==null?void 0:je.tagName)!=="INPUT"||H.value.includes(document.activeElement))&&($.value=!0)},Ne=w(()=>i.type.includes("range")),He=Xn(),ue=w(()=>{var re,je;return(je=(re=c(b))==null?void 0:re.popperRef)==null?void 0:je.contentRef}),Ie=w(()=>{var re;return c(Ne)?c(T):(re=c(T))==null?void 0:re.$el});sE(Ie,re=>{const je=c(ue),Et=c(Ie);je&&(re.target===je||re.composedPath().includes(je))||re.target===Et||re.composedPath().includes(Et)||($.value=!1)});const ke=V(null),Ue=()=>{if(ke.value){const re=ot(De.value);re&&Qe(re)&&(P(tt(re)?re.map(je=>je.toDate()):re.toDate()),ke.value=null)}ke.value===""&&(P(_.value),O(_.value),ke.value=null)},ot=re=>re?L.value.parseUserInput(re):null,q=re=>re?L.value.formatToString(re):null,Qe=re=>L.value.isValidValue(re),lt=async re=>{if(i.readonly||me.value)return;const{code:je}=re;if(M(re),je===mt.esc){$.value===!0&&($.value=!1,re.preventDefault(),re.stopPropagation());return}if(je===mt.down&&(L.value.handleFocusPicker&&(re.preventDefault(),re.stopPropagation()),$.value===!1&&($.value=!0,await pt()),L.value.handleFocusPicker)){L.value.handleFocusPicker();return}if(je===mt.tab){I=!0;return}if(je===mt.enter||je===mt.numpadEnter){(ke.value===null||ke.value===""||Qe(ot(De.value)))&&(Ue(),$.value=!1),re.stopPropagation();return}if(ke.value){re.stopPropagation();return}L.value.handleKeydownInput&&L.value.handleKeydownInput(re)},bt=re=>{ke.value=re,$.value||($.value=!0)},Tt=re=>{const je=re.target;ke.value?ke.value=[je.value,ke.value[1]]:ke.value=[je.value,null]},st=re=>{const je=re.target;ke.value?ke.value=[ke.value[0],je.value]:ke.value=[null,je.value]},Le=()=>{var re;const je=ke.value,Et=ot(je&&je[0]),U=c(Se);if(Et&&Et.isValid()){ke.value=[q(Et),((re=De.value)==null?void 0:re[1])||null];const se=[Et,U&&(U[1]||null)];Qe(se)&&(P(se),ke.value=null)}},Ye=()=>{var re;const je=c(ke),Et=ot(je&&je[1]),U=c(Se);if(Et&&Et.isValid()){ke.value=[((re=c(De))==null?void 0:re[0])||null,q(Et)];const se=[U&&U[0],Et];Qe(se)&&(P(se),ke.value=null)}},L=V({}),x=re=>{L.value[re[0]]=re[1],L.value.panelReady=!0},ee=re=>{o("calendar-change",re)},pe=(re,je,Et)=>{o("panel-change",re,je,Et)};return Gt("EP_PICKER_BASE",{props:i}),eo({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-time-picker",ref:"https://element-plus.org/en-US/component/time-picker.html"},w(()=>!!i.label)),n({focus:D,handleFocusInput:X,handleBlurInput:le,handleOpen:G,handleClose:W,onPick:K}),(re,je)=>(A(),be(c(Bo),Vt({ref_key:"refPopper",ref:b,visible:$.value,effect:"light",pure:"",trigger:"click"},re.$attrs,{role:"dialog",teleported:"",transition:`${c(u).namespace.value}-zoom-in-top`,"popper-class":[`${c(u).namespace.value}-picker__popper`,re.popperClass],"popper-options":c(m),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:te,onShow:J,onHide:z}),{default:he(()=>[c(Ne)?(A(),Y("div",{key:1,ref_key:"inputRef",ref:T,class:N(c(C)),style:ct(re.$attrs.style),onClick:X,onMouseenter:Re,onMouseleave:Be,onTouchstartPassive:Ee,onKeydown:lt},[c(ve)?(A(),be(c(at),{key:0,class:N([c(h).e("icon"),c(p).e("icon")]),onMousedown:_t(de,["prevent"]),onTouchstartPassive:Ee},{default:he(()=>[(A(),be(Ft(c(ve))))]),_:1},8,["class","onMousedown"])):$e("v-if",!0),Q("input",{id:re.id&&re.id[0],autocomplete:"off",name:re.name&&re.name[0],placeholder:re.startPlaceholder,value:c(De)&&c(De)[0],disabled:c(me),readonly:!re.editable||re.readonly,class:N(c(p).b("input")),onMousedown:de,onInput:Tt,onChange:Le,onFocus:X,onBlur:le},null,42,_Y),Te(re.$slots,"range-separator",{},()=>[Q("span",{class:N(c(p).b("separator"))},We(re.rangeSeparator),3)]),Q("input",{id:re.id&&re.id[1],autocomplete:"off",name:re.name&&re.name[1],placeholder:re.endPlaceholder,value:c(De)&&c(De)[1],disabled:c(me),readonly:!re.editable||re.readonly,class:N(c(p).b("input")),onMousedown:de,onFocus:X,onBlur:le,onInput:st,onChange:Ye},null,42,bY),re.clearIcon?(A(),be(c(at),{key:1,class:N(c(R)),onClick:Fe},{default:he(()=>[(A(),be(Ft(re.clearIcon)))]),_:1},8,["class"])):$e("v-if",!0)],38)):(A(),be(c(Do),{key:0,id:re.id,ref_key:"inputRef",ref:T,"container-role":"combobox","model-value":c(De),name:re.name,size:c(He),disabled:c(me),placeholder:re.placeholder,class:N([c(u).b("editor"),c(u).bm("editor",re.type),re.$attrs.class]),style:ct(re.$attrs.style),readonly:!re.editable||re.readonly||c(_e)||c(Ke)||re.type==="week","aria-label":re.label||re.ariaLabel,tabindex:re.tabindex,"validate-event":!1,onInput:bt,onFocus:X,onBlur:le,onKeydown:lt,onChange:Ue,onMousedown:de,onMouseenter:Re,onMouseleave:Be,onTouchstartPassive:Ee,onClick:je[0]||(je[0]=_t(()=>{},["stop"]))},{prefix:he(()=>[c(ve)?(A(),be(c(at),{key:0,class:N(c(h).e("icon")),onMousedown:_t(de,["prevent"]),onTouchstartPassive:Ee},{default:he(()=>[(A(),be(Ft(c(ve))))]),_:1},8,["class","onMousedown"])):$e("v-if",!0)]),suffix:he(()=>[Ae.value&&re.clearIcon?(A(),be(c(at),{key:0,class:N(`${c(h).e("icon")} clear-icon`),onClick:_t(Fe,["stop"])},{default:he(()=>[(A(),be(Ft(re.clearIcon)))]),_:1},8,["class","onClick"])):$e("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown"]))]),content:he(()=>[Te(re.$slots,"default",{visible:$.value,actualVisible:E.value,parsedValue:c(Se),format:re.format,dateFormat:re.dateFormat,timeFormat:re.timeFormat,unlinkPanels:re.unlinkPanels,type:re.type,defaultValue:re.defaultValue,onPick:K,onSelectRange:F,onSetPickerOption:x,onCalendarChange:ee,onPanelChange:pe,onKeydown:j,onMousedown:je[1]||(je[1]=_t(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var yM=Ge(yY,[["__file","picker.vue"]]);const EY=Ve({...TM,datetimeRole:String,parsedValue:{type:fe(Object)}}),EM=({getAvailableHours:t,getAvailableMinutes:n,getAvailableSeconds:o})=>{const i=(u,h,p,f)=>{const g={hour:t,minute:n,second:o};let m=u;return["hour","minute","second"].forEach(_=>{if(g[_]){let b;const T=g[_];switch(_){case"minute":{b=T(m.hour(),h,f);break}case"second":{b=T(m.hour(),m.minute(),h,f);break}default:{b=T(h,f);break}}if(b!=null&&b.length&&!b.includes(m[_]())){const $=p?0:b.length-1;m=m[_](b[$])}}}),m},l={};return{timePickerOptions:l,getAvailableTime:i,onSetOption:([u,h])=>{l[u]=h}}},jb=t=>{const n=(i,l)=>i||l,o=i=>i!==!0;return t.map(n).filter(o)},SM=(t,n,o)=>({getHoursList:(u,h)=>Yb(24,t&&(()=>t==null?void 0:t(u,h))),getMinutesList:(u,h,p)=>Yb(60,n&&(()=>n==null?void 0:n(u,h,p))),getSecondsList:(u,h,p,f)=>Yb(60,o&&(()=>o==null?void 0:o(u,h,p,f)))}),CM=(t,n,o)=>{const{getHoursList:i,getMinutesList:l,getSecondsList:a}=SM(t,n,o);return{getAvailableHours:(f,g)=>jb(i(f,g)),getAvailableMinutes:(f,g,m)=>jb(l(f,g,m)),getAvailableSeconds:(f,g,m,_)=>jb(a(f,g,m,_))}},IM=t=>{const n=V(t.parsedValue);return Me(()=>t.visible,o=>{o||(n.value=t.parsedValue)}),n},il=new Map;let HR;Xt&&(document.addEventListener("mousedown",t=>HR=t),document.addEventListener("mouseup",t=>{for(const n of il.values())for(const{documentHandler:o}of n)o(t,HR)}));function VR(t,n){let o=[];return Array.isArray(n.arg)?o=n.arg:zs(n.arg)&&o.push(n.arg),function(i,l){const a=n.instance.popperRef,u=i.target,h=l==null?void 0:l.target,p=!n||!n.instance,f=!u||!h,g=t.contains(u)||t.contains(h),m=t===u,_=o.length&&o.some(T=>T==null?void 0:T.contains(u))||o.length&&o.includes(h),b=a&&(a.contains(u)||a.contains(h));p||f||g||m||_||b||n.value(i,l)}}const kr={beforeMount(t,n){il.has(t)||il.set(t,[]),il.get(t).push({documentHandler:VR(t,n),bindingFn:n.value})},updated(t,n){il.has(t)||il.set(t,[]);const o=il.get(t),i=o.findIndex(a=>a.bindingFn===n.oldValue),l={documentHandler:VR(t,n),bindingFn:n.value};i>=0?o.splice(i,1,l):o.push(l)},unmounted(t){il.delete(t)}},SY=100,CY=600,eg={beforeMount(t,n){const o=n.value,{interval:i=SY,delay:l=CY}=vt(o)?{}:o;let a,u;const h=()=>vt(o)?o():o.handler(),p=()=>{u&&(clearTimeout(u),u=void 0),a&&(clearInterval(a),a=void 0)};t.addEventListener("mousedown",f=>{f.button===0&&(p(),h(),document.addEventListener("mouseup",()=>p(),{once:!0}),u=setTimeout(()=>{a=setInterval(()=>{h()},i)},l))})}},KT="_trap-focus-children",Sa=[],UR=t=>{if(Sa.length===0)return;const n=Sa[Sa.length-1][KT];if(n.length>0&&t.code===mt.tab){if(n.length===1){t.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const o=t.shiftKey,i=t.target===n[0],l=t.target===n[n.length-1];i&&o&&(t.preventDefault(),n[n.length-1].focus()),l&&!o&&(t.preventDefault(),n[0].focus())}},IY={beforeMount(t){t[KT]=Jk(t),Sa.push(t),Sa.length<=1&&document.addEventListener("keydown",UR)},updated(t){pt(()=>{t[KT]=Jk(t)})},unmounted(){Sa.shift(),Sa.length===0&&document.removeEventListener("keydown",UR)}};var GR=!1,ba,XT,YT,gm,$m,wM,vm,jT,qT,JT,kM,ZT,QT,OM,RM;function os(){if(!GR){GR=!0;var t=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),o=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(ZT=/\b(iPhone|iP[ao]d)/.exec(t),QT=/\b(iP[ao]d)/.exec(t),JT=/Android/i.exec(t),OM=/FBAN\/\w+;/i.exec(t),RM=/Mobile/i.exec(t),kM=!!/Win64/.exec(t),n){ba=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,ba&&document&&document.documentMode&&(ba=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(t);wM=i?parseFloat(i[1])+4:ba,XT=n[2]?parseFloat(n[2]):NaN,YT=n[3]?parseFloat(n[3]):NaN,gm=n[4]?parseFloat(n[4]):NaN,gm?(n=/(?:Chrome\/(\d+\.\d+))/.exec(t),$m=n&&n[1]?parseFloat(n[1]):NaN):$m=NaN}else ba=XT=YT=$m=gm=NaN;if(o){if(o[1]){var l=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);vm=l?parseFloat(l[1].replace("_",".")):!0}else vm=!1;jT=!!o[2],qT=!!o[3]}else vm=jT=qT=!1}}var ey={ie:function(){return os()||ba},ieCompatibilityMode:function(){return os()||wM>ba},ie64:function(){return ey.ie()&&kM},firefox:function(){return os()||XT},opera:function(){return os()||YT},webkit:function(){return os()||gm},safari:function(){return ey.webkit()},chrome:function(){return os()||$m},windows:function(){return os()||jT},osx:function(){return os()||vm},linux:function(){return os()||qT},iphone:function(){return os()||ZT},mobile:function(){return os()||ZT||QT||JT||RM},nativeApp:function(){return os()||OM},android:function(){return os()||JT},ipad:function(){return os()||QT}},wY=ey,nm=!!(typeof window<"u"&&window.document&&window.document.createElement),kY={canUseDOM:nm,canUseWorkers:typeof Worker<"u",canUseEventListeners:nm&&!!(window.addEventListener||window.attachEvent),canUseViewport:nm&&!!window.screen,isInWorker:!nm},LM=kY,AM;LM.canUseDOM&&(AM=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function OY(t,n){if(!LM.canUseDOM||n&&!("addEventListener"in document))return!1;var o="on"+t,i=o in document;if(!i){var l=document.createElement("div");l.setAttribute(o,"return;"),i=typeof l[o]=="function"}return!i&&AM&&t==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var RY=OY,WR=10,zR=40,KR=800;function NM(t){var n=0,o=0,i=0,l=0;return"detail"in t&&(o=t.detail),"wheelDelta"in t&&(o=-t.wheelDelta/120),"wheelDeltaY"in t&&(o=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(n=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=o,o=0),i=n*WR,l=o*WR,"deltaY"in t&&(l=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||l)&&t.deltaMode&&(t.deltaMode==1?(i*=zR,l*=zR):(i*=KR,l*=KR)),i&&!n&&(n=i<1?-1:1),l&&!o&&(o=l<1?-1:1),{spinX:n,spinY:o,pixelX:i,pixelY:l}}NM.getEventType=function(){return wY.firefox()?"DOMMouseScroll":RY("wheel")?"wheel":"mousewheel"};var LY=NM;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const AY=function(t,n){if(t&&t.addEventListener){const o=function(i){const l=LY(i);n&&Reflect.apply(n,this,[i,l])};t.addEventListener("wheel",o,{passive:!0})}},NY={beforeMount(t,n){AY(t,n.value)}},MY=Ve({role:{type:String,required:!0},spinnerDate:{type:fe(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:fe(String),default:""},...bM}),DY=["onClick"],PY=["onMouseenter"],xY=ne({__name:"basic-time-spinner",props:MY,emits:["change","select-range","set-option"],setup(t,{emit:n}){const o=t,i=Pe("time"),{getHoursList:l,getMinutesList:a,getSecondsList:u}=SM(o.disabledHours,o.disabledMinutes,o.disabledSeconds);let h=!1;const p=V(),f=V(),g=V(),m=V(),_={hours:f,minutes:g,seconds:m},b=w(()=>o.showSeconds?DR:DR.slice(0,2)),T=w(()=>{const{spinnerDate:D}=o,X=D.hour(),oe=D.minute(),le=D.second();return{hours:X,minutes:oe,seconds:le}}),$=w(()=>{const{hours:D,minutes:X}=c(T);return{hours:l(o.role),minutes:a(D,o.role),seconds:u(D,X,o.role)}}),E=w(()=>{const{hours:D,minutes:X,seconds:oe}=c(T);return{hours:Xb(D,23),minutes:Xb(X,59),seconds:Xb(oe,59)}}),y=us(D=>{h=!1,C(D)},200),I=D=>{if(!!!o.amPmMode)return"";const oe=o.amPmMode==="A";let le=D<12?" am":" pm";return oe&&(le=le.toUpperCase()),le},S=D=>{let X;switch(D){case"hours":X=[0,2];break;case"minutes":X=[3,5];break;case"seconds":X=[6,8];break}const[oe,le]=X;n("select-range",oe,le),p.value=D},C=D=>{P(D,c(T)[D])},R=()=>{C("hours"),C("minutes"),C("seconds")},O=D=>D.querySelector(`.${i.namespace.value}-scrollbar__wrap`),P=(D,X)=>{if(o.arrowControl)return;const oe=c(_[D]);oe&&oe.$el&&(O(oe.$el).scrollTop=Math.max(0,X*M(D)))},M=D=>{const X=c(_[D]),oe=X==null?void 0:X.$el.querySelector("li");return oe&&Number.parseFloat(hl(oe,"height"))||0},H=()=>{B(1)},F=()=>{B(-1)},B=D=>{p.value||S("hours");const X=p.value,oe=c(T)[X],le=p.value==="hours"?24:60,me=K(X,oe,D,le);te(X,me),P(X,me),pt(()=>S(X))},K=(D,X,oe,le)=>{let me=(X+oe+le)%le;const Se=c($)[D];for(;Se[me]&&me!==X;)me=(me+oe+le)%le;return me},te=(D,X)=>{if(c($)[D][X])return;const{hours:me,minutes:Se,seconds:De}=c(T);let ce;switch(D){case"hours":ce=o.spinnerDate.hour(X).minute(Se).second(De);break;case"minutes":ce=o.spinnerDate.hour(me).minute(X).second(De);break;case"seconds":ce=o.spinnerDate.hour(me).minute(Se).second(X);break}n("change",ce)},J=(D,{value:X,disabled:oe})=>{oe||(te(D,X),S(D),P(D,X))},j=D=>{h=!0,y(D);const X=Math.min(Math.round((O(c(_[D]).$el).scrollTop-(z(D)*.5-10)/M(D)+3)/M(D)),D==="hours"?23:59);te(D,X)},z=D=>c(_[D]).$el.offsetHeight,G=()=>{const D=X=>{const oe=c(_[X]);oe&&oe.$el&&(O(oe.$el).onscroll=()=>{j(X)})};D("hours"),D("minutes"),D("seconds")};Rt(()=>{pt(()=>{!o.arrowControl&&G(),R(),o.role==="start"&&S("hours")})});const W=(D,X)=>{_[X].value=D};return n("set-option",[`${o.role}_scrollDown`,B]),n("set-option",[`${o.role}_emitSelectRange`,S]),Me(()=>o.spinnerDate,()=>{h||R()}),(D,X)=>(A(),Y("div",{class:N([c(i).b("spinner"),{"has-seconds":D.showSeconds}])},[D.arrowControl?$e("v-if",!0):(A(!0),Y(dt,{key:0},Kt(c(b),oe=>(A(),be(c(Dr),{key:oe,ref_for:!0,ref:le=>W(le,oe),class:N(c(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":c(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:le=>S(oe),onMousemove:le=>C(oe)},{default:he(()=>[(A(!0),Y(dt,null,Kt(c($)[oe],(le,me)=>(A(),Y("li",{key:me,class:N([c(i).be("spinner","item"),c(i).is("active",me===c(T)[oe]),c(i).is("disabled",le)]),onClick:Se=>J(oe,{value:me,disabled:le})},[oe==="hours"?(A(),Y(dt,{key:0},[zt(We(("0"+(D.amPmMode?me%12||12:me)).slice(-2))+We(I(me)),1)],64)):(A(),Y(dt,{key:1},[zt(We(("0"+me).slice(-2)),1)],64))],10,DY))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),D.arrowControl?(A(!0),Y(dt,{key:1},Kt(c(b),oe=>(A(),Y("div",{key:oe,class:N([c(i).be("spinner","wrapper"),c(i).is("arrow")]),onMouseenter:le=>S(oe)},[Ot((A(),be(c(at),{class:N(["arrow-up",c(i).be("spinner","arrow")])},{default:he(()=>[ie(c(EE))]),_:1},8,["class"])),[[c(eg),F]]),Ot((A(),be(c(at),{class:N(["arrow-down",c(i).be("spinner","arrow")])},{default:he(()=>[ie(c(Nr))]),_:1},8,["class"])),[[c(eg),H]]),Q("ul",{class:N(c(i).be("spinner","list"))},[(A(!0),Y(dt,null,Kt(c(E)[oe],(le,me)=>(A(),Y("li",{key:me,class:N([c(i).be("spinner","item"),c(i).is("active",le===c(T)[oe]),c(i).is("disabled",c($)[oe][le])])},[typeof le=="number"?(A(),Y(dt,{key:0},[oe==="hours"?(A(),Y(dt,{key:0},[zt(We(("0"+(D.amPmMode?le%12||12:le)).slice(-2))+We(I(le)),1)],64)):(A(),Y(dt,{key:1},[zt(We(("0"+le).slice(-2)),1)],64))],64)):$e("v-if",!0)],2))),128))],2)],42,PY))),128)):$e("v-if",!0)],2))}});var ty=Ge(xY,[["__file","basic-time-spinner.vue"]]);const BY=ne({__name:"panel-time-pick",props:EY,emits:["pick","select-range","set-picker-option"],setup(t,{emit:n}){const o=t,i=it("EP_PICKER_BASE"),{arrowControl:l,disabledHours:a,disabledMinutes:u,disabledSeconds:h,defaultValue:p}=i.props,{getAvailableHours:f,getAvailableMinutes:g,getAvailableSeconds:m}=CM(a,u,h),_=Pe("time"),{t:b,lang:T}=jt(),$=V([0,2]),E=IM(o),y=w(()=>Hn(o.actualVisible)?`${_.namespace.value}-zoom-in-top`:""),I=w(()=>o.format.includes("ss")),S=w(()=>o.format.includes("A")?"A":o.format.includes("a")?"a":""),C=W=>{const D=Dt(W).locale(T.value),X=J(D);return D.isSame(X)},R=()=>{n("pick",E.value,!1)},O=(W=!1,D=!1)=>{D||n("pick",o.parsedValue,W)},P=W=>{if(!o.visible)return;const D=J(W).millisecond(0);n("pick",D,!0)},M=(W,D)=>{n("select-range",W,D),$.value=[W,D]},H=W=>{const D=[0,3].concat(I.value?[6]:[]),X=["hours","minutes"].concat(I.value?["seconds"]:[]),le=(D.indexOf($.value[0])+W+D.length)%D.length;B.start_emitSelectRange(X[le])},F=W=>{const D=W.code,{left:X,right:oe,up:le,down:me}=mt;if([X,oe].includes(D)){H(D===X?-1:1),W.preventDefault();return}if([le,me].includes(D)){const Se=D===le?-1:1;B.start_scrollDown(Se),W.preventDefault();return}},{timePickerOptions:B,onSetOption:K,getAvailableTime:te}=EM({getAvailableHours:f,getAvailableMinutes:g,getAvailableSeconds:m}),J=W=>te(W,o.datetimeRole||"",!0),j=W=>W?Dt(W,o.format).locale(T.value):null,z=W=>W?W.format(o.format):null,G=()=>Dt(p).locale(T.value);return n("set-picker-option",["isValidValue",C]),n("set-picker-option",["formatToString",z]),n("set-picker-option",["parseUserInput",j]),n("set-picker-option",["handleKeydownInput",F]),n("set-picker-option",["getRangeAvailableTime",J]),n("set-picker-option",["getDefaultValue",G]),(W,D)=>(A(),be(jn,{name:c(y)},{default:he(()=>[W.actualVisible||W.visible?(A(),Y("div",{key:0,class:N(c(_).b("panel"))},[Q("div",{class:N([c(_).be("panel","content"),{"has-seconds":c(I)}])},[ie(ty,{ref:"spinner",role:W.datetimeRole||"start","arrow-control":c(l),"show-seconds":c(I),"am-pm-mode":c(S),"spinner-date":W.parsedValue,"disabled-hours":c(a),"disabled-minutes":c(u),"disabled-seconds":c(h),onChange:P,onSetOption:c(K),onSelectRange:M},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Q("div",{class:N(c(_).be("panel","footer"))},[Q("button",{type:"button",class:N([c(_).be("panel","btn"),"cancel"]),onClick:R},We(c(b)("el.datepicker.cancel")),3),Q("button",{type:"button",class:N([c(_).be("panel","btn"),"confirm"]),onClick:D[0]||(D[0]=X=>O())},We(c(b)("el.datepicker.confirm")),3)],2)],2)):$e("v-if",!0)]),_:1},8,["name"]))}});var tg=Ge(BY,[["__file","panel-time-pick.vue"]]);const FY=Ve({...TM,parsedValue:{type:fe(Array)}}),HY=["disabled"],VY=ne({__name:"panel-time-range",props:FY,emits:["pick","select-range","set-picker-option"],setup(t,{emit:n}){const o=t,i=(Ae,Fe)=>{const ae=[];for(let de=Ae;de<=Fe;de++)ae.push(de);return ae},{t:l,lang:a}=jt(),u=Pe("time"),h=Pe("picker"),p=it("EP_PICKER_BASE"),{arrowControl:f,disabledHours:g,disabledMinutes:m,disabledSeconds:_,defaultValue:b}=p.props,T=w(()=>[u.be("range-picker","body"),u.be("panel","content"),u.is("arrow",f),C.value?"has-seconds":""]),$=w(()=>[u.be("range-picker","body"),u.be("panel","content"),u.is("arrow",f),C.value?"has-seconds":""]),E=w(()=>o.parsedValue[0]),y=w(()=>o.parsedValue[1]),I=IM(o),S=()=>{n("pick",I.value,!1)},C=w(()=>o.format.includes("ss")),R=w(()=>o.format.includes("A")?"A":o.format.includes("a")?"a":""),O=(Ae=!1)=>{n("pick",[E.value,y.value],Ae)},P=Ae=>{F(Ae.millisecond(0),y.value)},M=Ae=>{F(E.value,Ae.millisecond(0))},H=Ae=>{const Fe=Ae.map(de=>Dt(de).locale(a.value)),ae=oe(Fe);return Fe[0].isSame(ae[0])&&Fe[1].isSame(ae[1])},F=(Ae,Fe)=>{n("pick",[Ae,Fe],!0)},B=w(()=>E.value>y.value),K=V([0,2]),te=(Ae,Fe)=>{n("select-range",Ae,Fe,"min"),K.value=[Ae,Fe]},J=w(()=>C.value?11:8),j=(Ae,Fe)=>{n("select-range",Ae,Fe,"max");const ae=c(J);K.value=[Ae+ae,Fe+ae]},z=Ae=>{const Fe=C.value?[0,3,6,11,14,17]:[0,3,8,11],ae=["hours","minutes"].concat(C.value?["seconds"]:[]),Re=(Fe.indexOf(K.value[0])+Ae+Fe.length)%Fe.length,Be=Fe.length/2;Re<Be?De.start_emitSelectRange(ae[Re]):De.end_emitSelectRange(ae[Re-Be])},G=Ae=>{const Fe=Ae.code,{left:ae,right:de,up:Re,down:Be}=mt;if([ae,de].includes(Fe)){z(Fe===ae?-1:1),Ae.preventDefault();return}if([Re,Be].includes(Fe)){const Ee=Fe===Re?-1:1,Ne=K.value[0]<J.value?"start":"end";De[`${Ne}_scrollDown`](Ee),Ae.preventDefault();return}},W=(Ae,Fe)=>{const ae=g?g(Ae):[],de=Ae==="start",Be=(Fe||(de?y.value:E.value)).hour(),Ee=de?i(Be+1,23):i(0,Be-1);return Bb(ae,Ee)},D=(Ae,Fe,ae)=>{const de=m?m(Ae,Fe):[],Re=Fe==="start",Be=ae||(Re?y.value:E.value),Ee=Be.hour();if(Ae!==Ee)return de;const Ne=Be.minute(),He=Re?i(Ne+1,59):i(0,Ne-1);return Bb(de,He)},X=(Ae,Fe,ae,de)=>{const Re=_?_(Ae,Fe,ae):[],Be=ae==="start",Ee=de||(Be?y.value:E.value),Ne=Ee.hour(),He=Ee.minute();if(Ae!==Ne||Fe!==He)return Re;const ue=Ee.second(),Ie=Be?i(ue+1,59):i(0,ue-1);return Bb(Re,Ie)},oe=([Ae,Fe])=>[ce(Ae,"start",!0,Fe),ce(Fe,"end",!1,Ae)],{getAvailableHours:le,getAvailableMinutes:me,getAvailableSeconds:Se}=CM(W,D,X),{timePickerOptions:De,getAvailableTime:ce,onSetOption:ye}=EM({getAvailableHours:le,getAvailableMinutes:me,getAvailableSeconds:Se}),_e=Ae=>Ae?tt(Ae)?Ae.map(Fe=>Dt(Fe,o.format).locale(a.value)):Dt(Ae,o.format).locale(a.value):null,Ke=Ae=>Ae?tt(Ae)?Ae.map(Fe=>Fe.format(o.format)):Ae.format(o.format):null,ve=()=>{if(tt(b))return b.map(Fe=>Dt(Fe).locale(a.value));const Ae=Dt(b).locale(a.value);return[Ae,Ae.add(60,"m")]};return n("set-picker-option",["formatToString",Ke]),n("set-picker-option",["parseUserInput",_e]),n("set-picker-option",["isValidValue",H]),n("set-picker-option",["handleKeydownInput",G]),n("set-picker-option",["getDefaultValue",ve]),n("set-picker-option",["getRangeAvailableTime",oe]),(Ae,Fe)=>Ae.actualVisible?(A(),Y("div",{key:0,class:N([c(u).b("range-picker"),c(h).b("panel")])},[Q("div",{class:N(c(u).be("range-picker","content"))},[Q("div",{class:N(c(u).be("range-picker","cell"))},[Q("div",{class:N(c(u).be("range-picker","header"))},We(c(l)("el.datepicker.startTime")),3),Q("div",{class:N(c(T))},[ie(ty,{ref:"minSpinner",role:"start","show-seconds":c(C),"am-pm-mode":c(R),"arrow-control":c(f),"spinner-date":c(E),"disabled-hours":W,"disabled-minutes":D,"disabled-seconds":X,onChange:P,onSetOption:c(ye),onSelectRange:te},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Q("div",{class:N(c(u).be("range-picker","cell"))},[Q("div",{class:N(c(u).be("range-picker","header"))},We(c(l)("el.datepicker.endTime")),3),Q("div",{class:N(c($))},[ie(ty,{ref:"maxSpinner",role:"end","show-seconds":c(C),"am-pm-mode":c(R),"arrow-control":c(f),"spinner-date":c(y),"disabled-hours":W,"disabled-minutes":D,"disabled-seconds":X,onChange:M,onSetOption:c(ye),onSelectRange:j},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Q("div",{class:N(c(u).be("panel","footer"))},[Q("button",{type:"button",class:N([c(u).be("panel","btn"),"cancel"]),onClick:Fe[0]||(Fe[0]=ae=>S())},We(c(l)("el.datepicker.cancel")),3),Q("button",{type:"button",class:N([c(u).be("panel","btn"),"confirm"]),disabled:c(B),onClick:Fe[1]||(Fe[1]=ae=>O())},We(c(l)("el.datepicker.confirm")),11,HY)],2)],2)):$e("v-if",!0)}});var UY=Ge(VY,[["__file","panel-time-range.vue"]]);Dt.extend(s0);var GY=ne({name:"ElTimePicker",install:null,props:{...i0,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,n){const o=V(),[i,l]=t.isRange?["timerange",UY]:["time",tg],a=u=>n.emit("update:modelValue",u);return Gt("ElPopperOptions",t.popperOptions),n.expose({focus:u=>{var h;(h=o.value)==null||h.handleFocusInput(u)},blur:u=>{var h;(h=o.value)==null||h.handleBlurInput(u)},handleOpen:()=>{var u;(u=o.value)==null||u.handleOpen()},handleClose:()=>{var u;(u=o.value)==null||u.handleClose()}}),()=>{var u;const h=(u=t.format)!=null?u:zT;return ie(yM,Vt(t,{ref:o,type:i,format:h,"onUpdate:modelValue":a}),{default:p=>ie(l,p,null)})}}});const _m=GY;_m.install=t=>{t.component(_m.name,_m)};const WY=_m,zY=(t,n)=>{const o=t.subtract(1,"month").endOf("month").date();return vl(n).map((i,l)=>o-(n-l-1))},KY=t=>{const n=t.daysInMonth();return vl(n).map((o,i)=>i+1)},XY=t=>vl(t.length/7).map(n=>{const o=n*7;return t.slice(o,o+7)}),YY=Ve({selectedDay:{type:fe(Object)},range:{type:fe(Array)},date:{type:fe(Object),required:!0},hideHeader:{type:Boolean}}),jY={pick:t=>Pt(t)};var MM={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(qo,function(){return function(o,i,l){var a=i.prototype,u=function(m){return m&&(m.indexOf?m:m.s)},h=function(m,_,b,T,$){var E=m.name?m:m.$locale(),y=u(E[_]),I=u(E[b]),S=y||I.map(function(R){return R.slice(0,T)});if(!$)return S;var C=E.weekStart;return S.map(function(R,O){return S[(O+(C||0))%7]})},p=function(){return l.Ls[l.locale()]},f=function(m,_){return m.formats[_]||function(b){return b.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,$,E){return $||E.slice(1)})}(m.formats[_.toUpperCase()])},g=function(){var m=this;return{months:function(_){return _?_.format("MMMM"):h(m,"months")},monthsShort:function(_){return _?_.format("MMM"):h(m,"monthsShort","months",3)},firstDayOfWeek:function(){return m.$locale().weekStart||0},weekdays:function(_){return _?_.format("dddd"):h(m,"weekdays")},weekdaysMin:function(_){return _?_.format("dd"):h(m,"weekdaysMin","weekdays",2)},weekdaysShort:function(_){return _?_.format("ddd"):h(m,"weekdaysShort","weekdays",3)},longDateFormat:function(_){return f(m.$locale(),_)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return g.bind(this)()},l.localeData=function(){var m=p();return{firstDayOfWeek:function(){return m.weekStart||0},weekdays:function(){return l.weekdays()},weekdaysShort:function(){return l.weekdaysShort()},weekdaysMin:function(){return l.weekdaysMin()},months:function(){return l.months()},monthsShort:function(){return l.monthsShort()},longDateFormat:function(_){return f(m,_)},meridiem:m.meridiem,ordinal:m.ordinal}},l.months=function(){return h(p(),"months")},l.monthsShort=function(){return h(p(),"monthsShort","months",3)},l.weekdays=function(m){return h(p(),"weekdays",null,null,m)},l.weekdaysShort=function(m){return h(p(),"weekdaysShort","weekdays",3,m)},l.weekdaysMin=function(m){return h(p(),"weekdaysMin","weekdays",2,m)}}})})(MM);var qY=MM.exports;const DM=js(qY),JY=(t,n)=>{Dt.extend(DM);const o=Dt.localeData().firstDayOfWeek(),{t:i,lang:l}=jt(),a=Dt().locale(l.value),u=w(()=>!!t.range&&!!t.range.length),h=w(()=>{let _=[];if(u.value){const[b,T]=t.range,$=vl(T.date()-b.date()+1).map(I=>({text:b.date()+I,type:"current"}));let E=$.length%7;E=E===0?0:7-E;const y=vl(E).map((I,S)=>({text:S+1,type:"next"}));_=$.concat(y)}else{const b=t.date.startOf("month").day(),T=zY(t.date,(b-o+7)%7).map(I=>({text:I,type:"prev"})),$=KY(t.date).map(I=>({text:I,type:"current"}));_=[...T,...$];const E=7-(_.length%7||7),y=vl(E).map((I,S)=>({text:S+1,type:"next"}));_=_.concat(y)}return XY(_)}),p=w(()=>{const _=o;return _===0?Fb.map(b=>i(`el.datepicker.weeks.${b}`)):Fb.slice(_).concat(Fb.slice(0,_)).map(b=>i(`el.datepicker.weeks.${b}`))}),f=(_,b)=>{switch(b){case"prev":return t.date.startOf("month").subtract(1,"month").date(_);case"next":return t.date.startOf("month").add(1,"month").date(_);case"current":return t.date.date(_)}};return{now:a,isInRange:u,rows:h,weekDays:p,getFormattedDate:f,handlePickDay:({text:_,type:b})=>{const T=f(_,b);n("pick",T)},getSlotData:({text:_,type:b})=>{const T=f(_,b);return{isSelected:T.isSame(t.selectedDay),type:`${b}-month`,day:T.format("YYYY-MM-DD"),date:T.toDate()}}}},ZY={key:0},QY=["onClick"],ej=ne({name:"DateTable"}),tj=ne({...ej,props:YY,emits:jY,setup(t,{expose:n,emit:o}){const i=t,{isInRange:l,now:a,rows:u,weekDays:h,getFormattedDate:p,handlePickDay:f,getSlotData:g}=JY(i,o),m=Pe("calendar-table"),_=Pe("calendar-day"),b=({text:T,type:$})=>{const E=[$];if($==="current"){const y=p(T,$);y.isSame(i.selectedDay,"day")&&E.push(_.is("selected")),y.isSame(a,"day")&&E.push(_.is("today"))}return E};return n({getFormattedDate:p}),(T,$)=>(A(),Y("table",{class:N([c(m).b(),c(m).is("range",c(l))]),cellspacing:"0",cellpadding:"0"},[T.hideHeader?$e("v-if",!0):(A(),Y("thead",ZY,[(A(!0),Y(dt,null,Kt(c(h),E=>(A(),Y("th",{key:E},We(E),1))),128))])),Q("tbody",null,[(A(!0),Y(dt,null,Kt(c(u),(E,y)=>(A(),Y("tr",{key:y,class:N({[c(m).e("row")]:!0,[c(m).em("row","hide-border")]:y===0&&T.hideHeader})},[(A(!0),Y(dt,null,Kt(E,(I,S)=>(A(),Y("td",{key:S,class:N(b(I)),onClick:C=>c(f)(I)},[Q("div",{class:N(c(_).b())},[Te(T.$slots,"date-cell",{data:c(g)(I)},()=>[Q("span",null,We(I.text),1)])],2)],10,QY))),128))],2))),128))])],2))}});var XR=Ge(tj,[["__file","date-table.vue"]]);const nj=(t,n)=>{const o=t.endOf("month"),i=n.startOf("month"),a=o.isSame(i,"week")?i.add(1,"week"):i;return[[t,o],[a.startOf("week"),n]]},oj=(t,n)=>{const o=t.endOf("month"),i=t.add(1,"month").startOf("month"),l=o.isSame(i,"week")?i.add(1,"week"):i,a=l.endOf("month"),u=n.startOf("month"),h=a.isSame(u,"week")?u.add(1,"week"):u;return[[t,o],[l.startOf("week"),a],[h.startOf("week"),n]]},sj=(t,n,o)=>{const{lang:i}=jt(),l=V(),a=Dt().locale(i.value),u=w({get(){return t.modelValue?p.value:l.value},set(E){if(!E)return;l.value=E;const y=E.toDate();n(jo,y),n(Bt,y)}}),h=w(()=>{if(!t.range)return[];const E=t.range.map(S=>Dt(S).locale(i.value)),[y,I]=E;return y.isAfter(I)?[]:y.isSame(I,"month")?b(y,I):y.add(1,"month").month()!==I.month()?[]:b(y,I)}),p=w(()=>t.modelValue?Dt(t.modelValue).locale(i.value):u.value||(h.value.length?h.value[0][0]:a)),f=w(()=>p.value.subtract(1,"month").date(1)),g=w(()=>p.value.add(1,"month").date(1)),m=w(()=>p.value.subtract(1,"year").date(1)),_=w(()=>p.value.add(1,"year").date(1)),b=(E,y)=>{const I=E.startOf("week"),S=y.endOf("week"),C=I.get("month"),R=S.get("month");return C===R?[[I,S]]:(C+1)%12===R?nj(I,S):C+2===R||(C+1)%11===R?oj(I,S):[]},T=E=>{u.value=E};return{calculateValidatedDateRange:b,date:p,realSelectedDay:u,pickDay:T,selectDate:E=>{const I={"prev-month":f.value,"next-month":g.value,"prev-year":m.value,"next-year":_.value,today:a}[E];I.isSame(p.value,"day")||T(I)},validatedRange:h}},ij=t=>tt(t)&&t.length===2&&t.every(n=>Ma(n)),rj=Ve({modelValue:{type:Date},range:{type:fe(Array),validator:ij}}),lj={[Bt]:t=>Ma(t),[jo]:t=>Ma(t)},aj="ElCalendar",uj=ne({name:aj}),cj=ne({...uj,props:rj,emits:lj,setup(t,{expose:n,emit:o}){const i=t,l=Pe("calendar"),{calculateValidatedDateRange:a,date:u,pickDay:h,realSelectedDay:p,selectDate:f,validatedRange:g}=sj(i,o),{t:m}=jt(),_=w(()=>{const b=`el.datepicker.month${u.value.format("M")}`;return`${u.value.year()} ${m("el.datepicker.year")} ${m(b)}`});return n({selectedDay:p,pickDay:h,selectDate:f,calculateValidatedDateRange:a}),(b,T)=>(A(),Y("div",{class:N(c(l).b())},[Q("div",{class:N(c(l).e("header"))},[Te(b.$slots,"header",{date:c(_)},()=>[Q("div",{class:N(c(l).e("title"))},We(c(_)),3),c(g).length===0?(A(),Y("div",{key:0,class:N(c(l).e("button-group"))},[ie(c(mM),null,{default:he(()=>[ie(c(lo),{size:"small",onClick:T[0]||(T[0]=$=>c(f)("prev-month"))},{default:he(()=>[zt(We(c(m)("el.datepicker.prevMonth")),1)]),_:1}),ie(c(lo),{size:"small",onClick:T[1]||(T[1]=$=>c(f)("today"))},{default:he(()=>[zt(We(c(m)("el.datepicker.today")),1)]),_:1}),ie(c(lo),{size:"small",onClick:T[2]||(T[2]=$=>c(f)("next-month"))},{default:he(()=>[zt(We(c(m)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):$e("v-if",!0)])],2),c(g).length===0?(A(),Y("div",{key:0,class:N(c(l).e("body"))},[ie(XR,{date:c(u),"selected-day":c(p),onPick:c(h)},Cr({_:2},[b.$slots["date-cell"]?{name:"date-cell",fn:he($=>[Te(b.$slots,"date-cell",Tr(fc($)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(A(),Y("div",{key:1,class:N(c(l).e("body"))},[(A(!0),Y(dt,null,Kt(c(g),($,E)=>(A(),be(XR,{key:E,date:$[0],"selected-day":c(p),range:$,"hide-header":E!==0,onPick:c(h)},Cr({_:2},[b.$slots["date-cell"]?{name:"date-cell",fn:he(y=>[Te(b.$slots,"date-cell",Tr(fc(y)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var dj=Ge(cj,[["__file","calendar.vue"]]);const hj=Mt(dj),pj=Ve({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:fe([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),fj=ne({name:"ElCard"}),mj=ne({...fj,props:pj,setup(t){const n=Pe("card");return(o,i)=>(A(),Y("div",{class:N([c(n).b(),c(n).is(`${o.shadow}-shadow`)])},[o.$slots.header||o.header?(A(),Y("div",{key:0,class:N(c(n).e("header"))},[Te(o.$slots,"header",{},()=>[zt(We(o.header),1)])],2)):$e("v-if",!0),Q("div",{class:N([c(n).e("body"),o.bodyClass]),style:ct(o.bodyStyle)},[Te(o.$slots,"default")],6),o.$slots.footer||o.footer?(A(),Y("div",{key:1,class:N(c(n).e("footer"))},[Te(o.$slots,"footer",{},()=>[zt(We(o.footer),1)])],2)):$e("v-if",!0)],2))}});var gj=Ge(mj,[["__file","card.vue"]]);const $j=Mt(gj),vj=Ve({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),_j={change:(t,n)=>[t,n].every(gt)},PM=Symbol("carouselContextKey"),YR=300,bj=(t,n,o)=>{const{children:i,addChild:l,removeChild:a}=JE(Nt(),"ElCarouselItem"),u=uo(),h=V(-1),p=V(null),f=V(!1),g=V(),m=V(0),_=V(!0),b=V(!0),T=V(!1),$=w(()=>t.arrow!=="never"&&!c(I)),E=w(()=>i.value.some(ce=>ce.props.label.toString().length>0)),y=w(()=>t.type==="card"),I=w(()=>t.direction==="vertical"),S=w(()=>t.height!=="auto"?{height:t.height}:{height:`${m.value}px`,overflow:"hidden"}),C=Ra(ce=>{F(ce)},YR,{trailing:!0}),R=Ra(ce=>{D(ce)},YR),O=ce=>_.value?h.value<=1?ce<=1:ce>1:!0;function P(){p.value&&(clearInterval(p.value),p.value=null)}function M(){t.interval<=0||!t.autoplay||p.value||(p.value=setInterval(()=>H(),t.interval))}const H=()=>{b.value||(T.value=!0),b.value=!1,h.value<i.value.length-1?h.value=h.value+1:t.loop&&(h.value=0)};function F(ce){if(b.value||(T.value=!0),b.value=!1,yt(ce)){const Ke=i.value.filter(ve=>ve.props.name===ce);Ke.length>0&&(ce=i.value.indexOf(Ke[0]))}if(ce=Number(ce),Number.isNaN(ce)||ce!==Math.floor(ce))return;const ye=i.value.length,_e=h.value;ce<0?h.value=t.loop?ye-1:0:ce>=ye?h.value=t.loop?0:ye-1:h.value=ce,_e===h.value&&B(_e),le()}function B(ce){i.value.forEach((ye,_e)=>{ye.translateItem(_e,h.value,ce)})}function K(ce,ye){var _e,Ke,ve,Ae;const Fe=c(i),ae=Fe.length;if(ae===0||!ce.states.inStage)return!1;const de=ye+1,Re=ye-1,Be=ae-1,Ee=Fe[Be].states.active,Ne=Fe[0].states.active,He=(Ke=(_e=Fe[de])==null?void 0:_e.states)==null?void 0:Ke.active,ue=(Ae=(ve=Fe[Re])==null?void 0:ve.states)==null?void 0:Ae.active;return ye===Be&&Ne||He?"left":ye===0&&Ee||ue?"right":!1}function te(){f.value=!0,t.pauseOnHover&&P()}function J(){f.value=!1,M()}function j(){T.value=!1}function z(ce){c(I)||i.value.forEach((ye,_e)=>{ce===K(ye,_e)&&(ye.states.hover=!0)})}function G(){c(I)||i.value.forEach(ce=>{ce.states.hover=!1})}function W(ce){ce!==h.value&&(b.value||(T.value=!0)),h.value=ce}function D(ce){t.trigger==="hover"&&ce!==h.value&&(h.value=ce,b.value||(T.value=!0))}function X(){F(h.value-1)}function oe(){F(h.value+1)}function le(){P(),t.pauseOnHover||M()}function me(ce){t.height==="auto"&&(m.value=ce)}function Se(){var ce;const ye=(ce=u.default)==null?void 0:ce.call(u);if(!ye)return null;const _e=$l(ye),Ke="ElCarouselItem",ve=_e.filter(Ae=>Cn(Ae)&&Ae.type.name===Ke);return(ve==null?void 0:ve.length)===2&&t.loop&&!y.value?(_.value=!0,ve):(_.value=!1,null)}Me(()=>h.value,(ce,ye)=>{B(ye),_.value&&(ce=ce%2,ye=ye%2),ye>-1&&n("change",ce,ye)}),Me(()=>t.autoplay,ce=>{ce?M():P()}),Me(()=>t.loop,()=>{F(h.value)}),Me(()=>t.interval,()=>{le()});const De=bn();return Rt(()=>{Me(()=>i.value,()=>{i.value.length>0&&F(t.initialIndex)},{immediate:!0}),De.value=wn(g.value,()=>{B()}),M()}),mn(()=>{P(),g.value&&De.value&&De.value.stop()}),Gt(PM,{root:g,isCardType:y,isVertical:I,items:i,loop:t.loop,addItem:l,removeItem:a,setActiveItem:F,setContainerHeight:me}),{root:g,activeIndex:h,arrowDisplay:$,hasLabel:E,hover:f,isCardType:y,isTransitioning:T,items:i,isVertical:I,containerStyle:S,isItemsTwoLength:_,handleButtonEnter:z,handleTransitionEnd:j,handleButtonLeave:G,handleIndicatorClick:W,handleMouseEnter:te,handleMouseLeave:J,setActiveItem:F,prev:X,next:oe,PlaceholderItem:Se,isTwoLengthShow:O,throttledArrowClick:C,throttledIndicatorHover:R}},Tj=["aria-label"],yj=["aria-label"],Ej=["onMouseenter","onClick"],Sj=["aria-label"],Cj={key:0},Ij={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},wj=Q("defs",null,[Q("filter",{id:"elCarouselHorizontal"},[Q("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Q("filter",{id:"elCarouselVertical"},[Q("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),kj=[wj],Oj="ElCarousel",Rj=ne({name:Oj}),Lj=ne({...Rj,props:vj,emits:_j,setup(t,{expose:n,emit:o}){const i=t,{root:l,activeIndex:a,arrowDisplay:u,hasLabel:h,hover:p,isCardType:f,items:g,isVertical:m,containerStyle:_,handleButtonEnter:b,handleButtonLeave:T,isTransitioning:$,handleIndicatorClick:E,handleMouseEnter:y,handleMouseLeave:I,handleTransitionEnd:S,setActiveItem:C,prev:R,next:O,PlaceholderItem:P,isTwoLengthShow:M,throttledArrowClick:H,throttledIndicatorHover:F}=bj(i,o),B=Pe("carousel"),{t:K}=jt(),te=w(()=>{const z=[B.b(),B.m(i.direction)];return c(f)&&z.push(B.m("card")),z}),J=w(()=>{const z=[B.e("container")];return i.motionBlur&&c($)&&z.push(c(m)?`${B.namespace.value}-transitioning-vertical`:`${B.namespace.value}-transitioning`),z}),j=w(()=>{const z=[B.e("indicators"),B.em("indicators",i.direction)];return c(h)&&z.push(B.em("indicators","labels")),i.indicatorPosition==="outside"&&z.push(B.em("indicators","outside")),c(m)&&z.push(B.em("indicators","right")),z});return n({setActiveItem:C,prev:R,next:O}),(z,G)=>(A(),Y("div",{ref_key:"root",ref:l,class:N(c(te)),onMouseenter:G[7]||(G[7]=_t((...W)=>c(y)&&c(y)(...W),["stop"])),onMouseleave:G[8]||(G[8]=_t((...W)=>c(I)&&c(I)(...W),["stop"]))},[c(u)?(A(),be(jn,{key:0,name:"carousel-arrow-left",persisted:""},{default:he(()=>[Ot(Q("button",{type:"button",class:N([c(B).e("arrow"),c(B).em("arrow","left")]),"aria-label":c(K)("el.carousel.leftArrow"),onMouseenter:G[0]||(G[0]=W=>c(b)("left")),onMouseleave:G[1]||(G[1]=(...W)=>c(T)&&c(T)(...W)),onClick:G[2]||(G[2]=_t(W=>c(H)(c(a)-1),["stop"]))},[ie(c(at),null,{default:he(()=>[ie(c(Sl))]),_:1})],42,Tj),[[qt,(z.arrow==="always"||c(p))&&(i.loop||c(a)>0)]])]),_:1})):$e("v-if",!0),c(u)?(A(),be(jn,{key:1,name:"carousel-arrow-right",persisted:""},{default:he(()=>[Ot(Q("button",{type:"button",class:N([c(B).e("arrow"),c(B).em("arrow","right")]),"aria-label":c(K)("el.carousel.rightArrow"),onMouseenter:G[3]||(G[3]=W=>c(b)("right")),onMouseleave:G[4]||(G[4]=(...W)=>c(T)&&c(T)(...W)),onClick:G[5]||(G[5]=_t(W=>c(H)(c(a)+1),["stop"]))},[ie(c(at),null,{default:he(()=>[ie(c(Yo))]),_:1})],42,yj),[[qt,(z.arrow==="always"||c(p))&&(i.loop||c(a)<c(g).length-1)]])]),_:1})):$e("v-if",!0),Q("div",{class:N(c(J)),style:ct(c(_)),onTransitionend:G[6]||(G[6]=(...W)=>c(S)&&c(S)(...W))},[ie(c(P)),Te(z.$slots,"default")],38),z.indicatorPosition!=="none"?(A(),Y("ul",{key:2,class:N(c(j))},[(A(!0),Y(dt,null,Kt(c(g),(W,D)=>Ot((A(),Y("li",{key:D,class:N([c(B).e("indicator"),c(B).em("indicator",z.direction),c(B).is("active",D===c(a))]),onMouseenter:X=>c(F)(D),onClick:_t(X=>c(E)(D),["stop"])},[Q("button",{class:N(c(B).e("button")),"aria-label":c(K)("el.carousel.indicator",{index:D+1})},[c(h)?(A(),Y("span",Cj,We(W.props.label),1)):$e("v-if",!0)],10,Sj)],42,Ej)),[[qt,c(M)(D)]])),128))],2)):$e("v-if",!0),i.motionBlur?(A(),Y("svg",Ij,kj)):$e("v-if",!0)],34))}});var Aj=Ge(Lj,[["__file","carousel.vue"]]);const Nj=Ve({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Mj=(t,n)=>{const o=it(PM),i=Nt(),l=.83,a=V(),u=V(!1),h=V(0),p=V(1),f=V(!1),g=V(!1),m=V(!1),_=V(!1),{isCardType:b,isVertical:T}=o;function $(C,R,O){const P=O-1,M=R-1,H=R+1,F=O/2;return R===0&&C===P?-1:R===P&&C===0?O:C<M&&R-C>=F?O+1:C>H&&C-R>=F?-2:C}function E(C,R){var O,P;const M=c(T)?((O=o.root.value)==null?void 0:O.offsetHeight)||0:((P=o.root.value)==null?void 0:P.offsetWidth)||0;return m.value?M*((2-l)*(C-R)+1)/4:C<R?-(1+l)*M/4:(3+l)*M/4}function y(C,R,O){const P=o.root.value;return P?((O?P.offsetHeight:P.offsetWidth)||0)*(C-R):0}const I=(C,R,O)=>{var P;const M=c(b),H=(P=o.items.value.length)!=null?P:Number.NaN,F=C===R;!M&&!Hn(O)&&(_.value=F||C===O),!F&&H>2&&o.loop&&(C=$(C,R,H));const B=c(T);f.value=F,M?(m.value=Math.round(Math.abs(C-R))<=1,h.value=E(C,R),p.value=c(f)?1:l):h.value=y(C,R,B),g.value=!0,F&&a.value&&o.setContainerHeight(a.value.offsetHeight)};function S(){if(o&&c(b)){const C=o.items.value.findIndex(({uid:R})=>R===i.uid);o.setActiveItem(C)}}return Rt(()=>{o.addItem({props:t,states:en({hover:u,translate:h,scale:p,active:f,ready:g,inStage:m,animating:_}),uid:i.uid,translateItem:I})}),Rl(()=>{o.removeItem(i.uid)}),{carouselItemRef:a,active:f,animating:_,hover:u,inStage:m,isVertical:T,translate:h,isCardType:b,scale:p,ready:g,handleItemClick:S}},Dj=ne({name:"ElCarouselItem"}),Pj=ne({...Dj,props:Nj,setup(t){const n=t,o=Pe("carousel"),{carouselItemRef:i,active:l,animating:a,hover:u,inStage:h,isVertical:p,translate:f,isCardType:g,scale:m,ready:_,handleItemClick:b}=Mj(n),T=w(()=>[o.e("item"),o.is("active",l.value),o.is("in-stage",h.value),o.is("hover",u.value),o.is("animating",a.value),{[o.em("item","card")]:g.value,[o.em("item","card-vertical")]:g.value&&p.value}]),$=w(()=>{const y=`${`translate${c(p)?"Y":"X"}`}(${c(f)}px)`,I=`scale(${c(m)})`;return{transform:[y,I].join(" ")}});return(E,y)=>Ot((A(),Y("div",{ref_key:"carouselItemRef",ref:i,class:N(c(T)),style:ct(c($)),onClick:y[0]||(y[0]=(...I)=>c(b)&&c(b)(...I))},[c(g)?Ot((A(),Y("div",{key:0,class:N(c(o).e("mask"))},null,2)),[[qt,!c(l)]]):$e("v-if",!0),Te(E.$slots,"default")],6)),[[qt,c(_)]])}});var xM=Ge(Pj,[["__file","carousel-item.vue"]]);const xj=Mt(Aj,{CarouselItem:xM}),Bj=On(xM),BM={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Jn,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...go(["ariaControls"])},FM={[Bt]:t=>yt(t)||gt(t)||Vn(t),change:t=>yt(t)||gt(t)||Vn(t)},Wc=Symbol("checkboxGroupContextKey"),Fj=({model:t,isChecked:n})=>{const o=it(Wc,void 0),i=w(()=>{var a,u;const h=(a=o==null?void 0:o.max)==null?void 0:a.value,p=(u=o==null?void 0:o.min)==null?void 0:u.value;return!Hn(h)&&t.value.length>=h&&!n.value||!Hn(p)&&t.value.length<=p&&n.value});return{isDisabled:Qo(w(()=>(o==null?void 0:o.disabled.value)||i.value)),isLimitDisabled:i}},Hj=(t,{model:n,isLimitExceeded:o,hasOwnLabel:i,isDisabled:l,isLabeledByFormItem:a})=>{const u=it(Wc,void 0),{formItem:h}=Fo(),{emit:p}=Nt();function f(T){var $,E,y,I;return[!0,t.trueValue,t.trueLabel].includes(T)?(E=($=t.trueValue)!=null?$:t.trueLabel)!=null?E:!0:(I=(y=t.falseValue)!=null?y:t.falseLabel)!=null?I:!1}function g(T,$){p("change",f(T),$)}function m(T){if(o.value)return;const $=T.target;p("change",f($.checked),T)}async function _(T){o.value||!i.value&&!l.value&&a.value&&(T.composedPath().some(y=>y.tagName==="LABEL")||(n.value=f([!1,t.falseValue,t.falseLabel].includes(n.value)),await pt(),g(n.value,T)))}const b=w(()=>(u==null?void 0:u.validateEvent)||t.validateEvent);return Me(()=>t.modelValue,()=>{b.value&&(h==null||h.validate("change").catch(T=>void 0))}),{handleChange:m,onClickRoot:_}},Vj=t=>{const n=V(!1),{emit:o}=Nt(),i=it(Wc,void 0),l=w(()=>Hn(i)===!1),a=V(!1),u=w({get(){var h,p;return l.value?(h=i==null?void 0:i.modelValue)==null?void 0:h.value:(p=t.modelValue)!=null?p:n.value},set(h){var p,f;l.value&&tt(h)?(a.value=((p=i==null?void 0:i.max)==null?void 0:p.value)!==void 0&&h.length>(i==null?void 0:i.max.value)&&h.length>u.value.length,a.value===!1&&((f=i==null?void 0:i.changeEvent)==null||f.call(i,h))):(o(Bt,h),n.value=h)}});return{model:u,isGroup:l,isLimitExceeded:a}},Uj=(t,n,{model:o})=>{const i=it(Wc,void 0),l=V(!1),a=w(()=>xa(t.value)?t.label:t.value),u=w(()=>{const g=o.value;return Vn(g)?g:tt(g)?Pt(a.value)?g.map(rn).some(m=>Po(m,a.value)):g.map(rn).includes(a.value):g!=null?g===t.trueValue||g===t.trueLabel:!!g}),h=Xn(w(()=>{var g;return(g=i==null?void 0:i.size)==null?void 0:g.value}),{prop:!0}),p=Xn(w(()=>{var g;return(g=i==null?void 0:i.size)==null?void 0:g.value})),f=w(()=>!!n.default||!xa(a.value));return{checkboxButtonSize:h,isChecked:u,isFocused:l,checkboxSize:p,hasOwnLabel:f,actualValue:a}},HM=(t,n)=>{const{formItem:o}=Fo(),{model:i,isGroup:l,isLimitExceeded:a}=Vj(t),{isFocused:u,isChecked:h,checkboxButtonSize:p,checkboxSize:f,hasOwnLabel:g,actualValue:m}=Uj(t,n,{model:i}),{isDisabled:_}=Fj({model:i,isChecked:h}),{inputId:b,isLabeledByFormItem:T}=$i(t,{formItemContext:o,disableIdGeneration:g,disableIdManagement:l}),{handleChange:$,onClickRoot:E}=Hj(t,{model:i,isLimitExceeded:a,hasOwnLabel:g,isDisabled:_,isLabeledByFormItem:T});return(()=>{function I(){var S,C;tt(i.value)&&!i.value.includes(m.value)?i.value.push(m.value):i.value=(C=(S=t.trueValue)!=null?S:t.trueLabel)!=null?C:!0}t.checked&&I()})(),eo({from:"controls",replacement:"aria-controls",version:"2.8.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},w(()=>!!t.controls)),eo({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},w(()=>l.value&&xa(t.value))),eo({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},w(()=>!!t.trueLabel)),eo({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},w(()=>!!t.falseLabel)),{inputId:b,isLabeledByFormItem:T,isChecked:h,isDisabled:_,isFocused:u,checkboxButtonSize:p,checkboxSize:f,hasOwnLabel:g,model:i,actualValue:m,handleChange:$,onClickRoot:E}},Gj=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],Wj=["id","indeterminate","disabled","value","name","tabindex"],zj=ne({name:"ElCheckbox"}),Kj=ne({...zj,props:BM,emits:FM,setup(t){const n=t,o=uo(),{inputId:i,isLabeledByFormItem:l,isChecked:a,isDisabled:u,isFocused:h,checkboxSize:p,hasOwnLabel:f,model:g,actualValue:m,handleChange:_,onClickRoot:b}=HM(n,o),T=Pe("checkbox"),$=w(()=>[T.b(),T.m(p.value),T.is("disabled",u.value),T.is("bordered",n.border),T.is("checked",a.value)]),E=w(()=>[T.e("input"),T.is("disabled",u.value),T.is("checked",a.value),T.is("indeterminate",n.indeterminate),T.is("focus",h.value)]);return(y,I)=>(A(),be(Ft(!c(f)&&c(l)?"span":"label"),{class:N(c($)),"aria-controls":y.indeterminate?y.controls||y.ariaControls:null,onClick:c(b)},{default:he(()=>{var S,C;return[Q("span",{class:N(c(E))},[y.trueValue||y.falseValue||y.trueLabel||y.falseLabel?Ot((A(),Y("input",{key:0,id:c(i),"onUpdate:modelValue":I[0]||(I[0]=R=>Tn(g)?g.value=R:null),class:N(c(T).e("original")),type:"checkbox",indeterminate:y.indeterminate,name:y.name,tabindex:y.tabindex,disabled:c(u),"true-value":(S=y.trueValue)!=null?S:y.trueLabel,"false-value":(C=y.falseValue)!=null?C:y.falseLabel,onChange:I[1]||(I[1]=(...R)=>c(_)&&c(_)(...R)),onFocus:I[2]||(I[2]=R=>h.value=!0),onBlur:I[3]||(I[3]=R=>h.value=!1),onClick:I[4]||(I[4]=_t(()=>{},["stop"]))},null,42,Gj)),[[Wm,c(g)]]):Ot((A(),Y("input",{key:1,id:c(i),"onUpdate:modelValue":I[5]||(I[5]=R=>Tn(g)?g.value=R:null),class:N(c(T).e("original")),type:"checkbox",indeterminate:y.indeterminate,disabled:c(u),value:c(m),name:y.name,tabindex:y.tabindex,onChange:I[6]||(I[6]=(...R)=>c(_)&&c(_)(...R)),onFocus:I[7]||(I[7]=R=>h.value=!0),onBlur:I[8]||(I[8]=R=>h.value=!1),onClick:I[9]||(I[9]=_t(()=>{},["stop"]))},null,42,Wj)),[[Wm,c(g)]]),Q("span",{class:N(c(T).e("inner"))},null,2)],2),c(f)?(A(),Y("span",{key:0,class:N(c(T).e("label"))},[Te(y.$slots,"default"),y.$slots.default?$e("v-if",!0):(A(),Y(dt,{key:0},[zt(We(y.label),1)],64))],2)):$e("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var Xj=Ge(Kj,[["__file","checkbox.vue"]]);const Yj=["name","tabindex","disabled","true-value","false-value"],jj=["name","tabindex","disabled","value"],qj=ne({name:"ElCheckboxButton"}),Jj=ne({...qj,props:BM,emits:FM,setup(t){const n=t,o=uo(),{isFocused:i,isChecked:l,isDisabled:a,checkboxButtonSize:u,model:h,actualValue:p,handleChange:f}=HM(n,o),g=it(Wc,void 0),m=Pe("checkbox"),_=w(()=>{var T,$,E,y;const I=($=(T=g==null?void 0:g.fill)==null?void 0:T.value)!=null?$:"";return{backgroundColor:I,borderColor:I,color:(y=(E=g==null?void 0:g.textColor)==null?void 0:E.value)!=null?y:"",boxShadow:I?`-1px 0 0 0 ${I}`:void 0}}),b=w(()=>[m.b("button"),m.bm("button",u.value),m.is("disabled",a.value),m.is("checked",l.value),m.is("focus",i.value)]);return(T,$)=>{var E,y;return A(),Y("label",{class:N(c(b))},[T.trueValue||T.falseValue||T.trueLabel||T.falseLabel?Ot((A(),Y("input",{key:0,"onUpdate:modelValue":$[0]||($[0]=I=>Tn(h)?h.value=I:null),class:N(c(m).be("button","original")),type:"checkbox",name:T.name,tabindex:T.tabindex,disabled:c(a),"true-value":(E=T.trueValue)!=null?E:T.trueLabel,"false-value":(y=T.falseValue)!=null?y:T.falseLabel,onChange:$[1]||($[1]=(...I)=>c(f)&&c(f)(...I)),onFocus:$[2]||($[2]=I=>i.value=!0),onBlur:$[3]||($[3]=I=>i.value=!1),onClick:$[4]||($[4]=_t(()=>{},["stop"]))},null,42,Yj)),[[Wm,c(h)]]):Ot((A(),Y("input",{key:1,"onUpdate:modelValue":$[5]||($[5]=I=>Tn(h)?h.value=I:null),class:N(c(m).be("button","original")),type:"checkbox",name:T.name,tabindex:T.tabindex,disabled:c(a),value:c(p),onChange:$[6]||($[6]=(...I)=>c(f)&&c(f)(...I)),onFocus:$[7]||($[7]=I=>i.value=!0),onBlur:$[8]||($[8]=I=>i.value=!1),onClick:$[9]||($[9]=_t(()=>{},["stop"]))},null,42,jj)),[[Wm,c(h)]]),T.$slots.default||T.label?(A(),Y("span",{key:2,class:N(c(m).be("button","inner")),style:ct(c(l)?c(_):void 0)},[Te(T.$slots,"default",{},()=>[zt(We(T.label),1)])],6)):$e("v-if",!0)],2)}}});var VM=Ge(Jj,[["__file","checkbox-button.vue"]]);const Zj=Ve({modelValue:{type:fe(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Jn,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...go(["ariaLabel"])}),Qj={[Bt]:t=>tt(t),change:t=>tt(t)},e9=ne({name:"ElCheckboxGroup"}),t9=ne({...e9,props:Zj,emits:Qj,setup(t,{emit:n}){const o=t,i=Pe("checkbox"),{formItem:l}=Fo(),{inputId:a,isLabeledByFormItem:u}=$i(o,{formItemContext:l}),h=async f=>{n(Bt,f),await pt(),n("change",f)},p=w({get(){return o.modelValue},set(f){h(f)}});return Gt(Wc,{...xi(mo(o),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:p,changeEvent:h}),eo({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-checkbox-group",ref:"https://element-plus.org/en-US/component/checkbox.html"},w(()=>!!o.label)),Me(()=>o.modelValue,()=>{o.validateEvent&&(l==null||l.validate("change").catch(f=>void 0))}),(f,g)=>{var m;return A(),be(Ft(f.tag),{id:c(a),class:N(c(i).b("group")),role:"group","aria-label":c(u)?void 0:f.label||f.ariaLabel||"checkbox-group","aria-labelledby":c(u)?(m=c(l))==null?void 0:m.labelId:void 0},{default:he(()=>[Te(f.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var UM=Ge(t9,[["__file","checkbox-group.vue"]]);const Ys=Mt(Xj,{CheckboxButton:VM,CheckboxGroup:UM}),n9=On(VM),GM=On(UM),WM=Ve({modelValue:{type:[String,Number,Boolean],default:void 0},size:Jn,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),o9=Ve({...WM,border:Boolean}),zM={[Bt]:t=>yt(t)||gt(t)||Vn(t),[vn]:t=>yt(t)||gt(t)||Vn(t)},KM=Symbol("radioGroupKey"),XM=(t,n)=>{const o=V(),i=it(KM,void 0),l=w(()=>!!i),a=w(()=>xa(t.value)?t.label:t.value),u=w({get(){return l.value?i.modelValue:t.modelValue},set(m){l.value?i.changeEvent(m):n&&n(Bt,m),o.value.checked=t.modelValue===a.value}}),h=Xn(w(()=>i==null?void 0:i.size)),p=Qo(w(()=>i==null?void 0:i.disabled)),f=V(!1),g=w(()=>p.value||l.value&&u.value!==a.value?-1:0);return eo({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},w(()=>l.value&&xa(t.value))),{radioRef:o,isGroup:l,radioGroup:i,focus:f,size:h,disabled:p,tabIndex:g,modelValue:u,actualValue:a}},s9=["value","name","disabled"],i9=ne({name:"ElRadio"}),r9=ne({...i9,props:o9,emits:zM,setup(t,{emit:n}){const o=t,i=Pe("radio"),{radioRef:l,radioGroup:a,focus:u,size:h,disabled:p,modelValue:f,actualValue:g}=XM(o,n);function m(){pt(()=>n("change",f.value))}return(_,b)=>{var T;return A(),Y("label",{class:N([c(i).b(),c(i).is("disabled",c(p)),c(i).is("focus",c(u)),c(i).is("bordered",_.border),c(i).is("checked",c(f)===c(g)),c(i).m(c(h))])},[Q("span",{class:N([c(i).e("input"),c(i).is("disabled",c(p)),c(i).is("checked",c(f)===c(g))])},[Ot(Q("input",{ref_key:"radioRef",ref:l,"onUpdate:modelValue":b[0]||(b[0]=$=>Tn(f)?f.value=$:null),class:N(c(i).e("original")),value:c(g),name:_.name||((T=c(a))==null?void 0:T.name),disabled:c(p),type:"radio",onFocus:b[1]||(b[1]=$=>u.value=!0),onBlur:b[2]||(b[2]=$=>u.value=!1),onChange:m,onClick:b[3]||(b[3]=_t(()=>{},["stop"]))},null,42,s9),[[oN,c(f)]]),Q("span",{class:N(c(i).e("inner"))},null,2)],2),Q("span",{class:N(c(i).e("label")),onKeydown:b[4]||(b[4]=_t(()=>{},["stop"]))},[Te(_.$slots,"default",{},()=>[zt(We(_.label),1)])],34)],2)}}});var l9=Ge(r9,[["__file","radio.vue"]]);const a9=Ve({...WM}),u9=["value","name","disabled"],c9=ne({name:"ElRadioButton"}),d9=ne({...c9,props:a9,setup(t){const n=t,o=Pe("radio"),{radioRef:i,focus:l,size:a,disabled:u,modelValue:h,radioGroup:p,actualValue:f}=XM(n),g=w(()=>({backgroundColor:(p==null?void 0:p.fill)||"",borderColor:(p==null?void 0:p.fill)||"",boxShadow:p!=null&&p.fill?`-1px 0 0 0 ${p.fill}`:"",color:(p==null?void 0:p.textColor)||""}));return(m,_)=>{var b;return A(),Y("label",{class:N([c(o).b("button"),c(o).is("active",c(h)===c(f)),c(o).is("disabled",c(u)),c(o).is("focus",c(l)),c(o).bm("button",c(a))])},[Ot(Q("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":_[0]||(_[0]=T=>Tn(h)?h.value=T:null),class:N(c(o).be("button","original-radio")),value:c(f),type:"radio",name:m.name||((b=c(p))==null?void 0:b.name),disabled:c(u),onFocus:_[1]||(_[1]=T=>l.value=!0),onBlur:_[2]||(_[2]=T=>l.value=!1),onClick:_[3]||(_[3]=_t(()=>{},["stop"]))},null,42,u9),[[oN,c(h)]]),Q("span",{class:N(c(o).be("button","inner")),style:ct(c(h)===c(f)?c(g):{}),onKeydown:_[4]||(_[4]=_t(()=>{},["stop"]))},[Te(m.$slots,"default",{},()=>[zt(We(m.label),1)])],38)],2)}}});var YM=Ge(d9,[["__file","radio-button.vue"]]);const h9=Ve({id:{type:String,default:void 0},size:Jn,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...go(["ariaLabel"])}),p9=zM,f9=["id","aria-label","aria-labelledby"],m9=ne({name:"ElRadioGroup"}),g9=ne({...m9,props:h9,emits:p9,setup(t,{emit:n}){const o=t,i=Pe("radio"),l=Io(),a=V(),{formItem:u}=Fo(),{inputId:h,isLabeledByFormItem:p}=$i(o,{formItemContext:u}),f=m=>{n(Bt,m),pt(()=>n("change",m))};Rt(()=>{const m=a.value.querySelectorAll("[type=radio]"),_=m[0];!Array.from(m).some(b=>b.checked)&&_&&(_.tabIndex=0)});const g=w(()=>o.name||l.value);return Gt(KM,en({...mo(o),changeEvent:f,name:g})),Me(()=>o.modelValue,()=>{o.validateEvent&&(u==null||u.validate("change").catch(m=>void 0))}),eo({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-radio-group",ref:"https://element-plus.org/en-US/component/radio.html"},w(()=>!!o.label)),(m,_)=>(A(),Y("div",{id:c(h),ref_key:"radioGroupRef",ref:a,class:N(c(i).b("group")),role:"radiogroup","aria-label":c(p)?void 0:m.label||m.ariaLabel||"radio-group","aria-labelledby":c(p)?c(u).labelId:void 0},[Te(m.$slots,"default")],10,f9))}});var jM=Ge(g9,[["__file","radio-group.vue"]]);const qM=Mt(l9,{RadioButton:YM,RadioGroup:jM}),$9=On(jM),v9=On(YM);var _9=ne({name:"NodeContent",setup(){return{ns:Pe("cascader-node")}},render(){const{ns:t}=this,{node:n,panel:o}=this.$parent,{data:i,label:l}=n,{renderLabelFn:a}=o;return ft("span",{class:t.e("label")},a?a({node:n,data:i}):l)}});const r0=Symbol(),b9=ne({name:"ElCascaderNode",components:{ElCheckbox:Ys,ElRadio:qM,NodeContent:_9,ElIcon:at,Check:Zh,Loading:Nl,ArrowRight:Yo},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:n}){const o=it(r0),i=Pe("cascader-node"),l=w(()=>o.isHoverMenu),a=w(()=>o.config.multiple),u=w(()=>o.config.checkStrictly),h=w(()=>{var O;return(O=o.checkedNodes[0])==null?void 0:O.uid}),p=w(()=>t.node.isDisabled),f=w(()=>t.node.isLeaf),g=w(()=>u.value&&!f.value||!p.value),m=w(()=>b(o.expandingNode)),_=w(()=>u.value&&o.checkedNodes.some(b)),b=O=>{var P;const{level:M,uid:H}=t.node;return((P=O==null?void 0:O.pathNodes[M-1])==null?void 0:P.uid)===H},T=()=>{m.value||o.expandNode(t.node)},$=O=>{const{node:P}=t;O!==P.checked&&o.handleCheckChange(P,O)},E=()=>{o.lazyLoad(t.node,()=>{f.value||T()})},y=O=>{l.value&&(I(),!f.value&&n("expand",O))},I=()=>{const{node:O}=t;!g.value||O.loading||(O.loaded?T():E())},S=()=>{l.value&&!f.value||(f.value&&!p.value&&!u.value&&!a.value?R(!0):I())},C=O=>{u.value?($(O),t.node.loaded&&T()):R(O)},R=O=>{t.node.loaded?($(O),!u.value&&T()):E()};return{panel:o,isHoverMenu:l,multiple:a,checkStrictly:u,checkedNodeId:h,isDisabled:p,isLeaf:f,expandable:g,inExpandingPath:m,inCheckedPath:_,ns:i,handleHoverExpand:y,handleExpand:I,handleClick:S,handleCheck:R,handleSelectCheck:C}}}),T9=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],y9=Q("span",null,null,-1);function E9(t,n,o,i,l,a){const u=Lt("el-checkbox"),h=Lt("el-radio"),p=Lt("check"),f=Lt("el-icon"),g=Lt("node-content"),m=Lt("loading"),_=Lt("arrow-right");return A(),Y("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:N([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:n[2]||(n[2]=(...b)=>t.handleHoverExpand&&t.handleHoverExpand(...b)),onFocus:n[3]||(n[3]=(...b)=>t.handleHoverExpand&&t.handleHoverExpand(...b)),onClick:n[4]||(n[4]=(...b)=>t.handleClick&&t.handleClick(...b))},[$e(" prefix "),t.multiple?(A(),be(u,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:n[0]||(n[0]=_t(()=>{},["stop"])),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):t.checkStrictly?(A(),be(h,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:n[1]||(n[1]=_t(()=>{},["stop"]))},{default:he(()=>[$e(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),y9]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):t.isLeaf&&t.node.checked?(A(),be(f,{key:2,class:N(t.ns.e("prefix"))},{default:he(()=>[ie(p)]),_:1},8,["class"])):$e("v-if",!0),$e(" content "),ie(g),$e(" postfix "),t.isLeaf?$e("v-if",!0):(A(),Y(dt,{key:3},[t.node.loading?(A(),be(f,{key:0,class:N([t.ns.is("loading"),t.ns.e("postfix")])},{default:he(()=>[ie(m)]),_:1},8,["class"])):(A(),be(f,{key:1,class:N(["arrow-right",t.ns.e("postfix")])},{default:he(()=>[ie(_)]),_:1},8,["class"]))],64))],42,T9)}var S9=Ge(b9,[["render",E9],["__file","node.vue"]]);const C9=ne({name:"ElCascaderMenu",components:{Loading:Nl,ElIcon:at,ElScrollbar:Dr,ElCascaderNode:S9},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const n=Nt(),o=Pe("cascader-menu"),{t:i}=jt(),l=Io();let a=null,u=null;const h=it(r0),p=V(null),f=w(()=>!t.nodes.length),g=w(()=>!h.initialLoaded),m=w(()=>`${l.value}-${t.index}`),_=E=>{a=E.target},b=E=>{if(!(!h.isHoverMenu||!a||!p.value))if(a.contains(E.target)){T();const y=n.vnode.el,{left:I}=y.getBoundingClientRect(),{offsetWidth:S,offsetHeight:C}=y,R=E.clientX-I,O=a.offsetTop,P=O+a.offsetHeight;p.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${R} ${O} L${S} 0 V${O} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${R} ${P} L${S} ${C} V${P} Z" />
        `}else u||(u=window.setTimeout($,h.config.hoverThreshold))},T=()=>{u&&(clearTimeout(u),u=null)},$=()=>{p.value&&(p.value.innerHTML="",T())};return{ns:o,panel:h,hoverZone:p,isEmpty:f,isLoading:g,menuId:m,t:i,handleExpand:_,handleMouseMove:b,clearHoverZone:$}}});function I9(t,n,o,i,l,a){const u=Lt("el-cascader-node"),h=Lt("loading"),p=Lt("el-icon"),f=Lt("el-scrollbar");return A(),be(f,{key:t.menuId,tag:"ul",role:"menu",class:N(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:he(()=>{var g;return[(A(!0),Y(dt,null,Kt(t.nodes,m=>(A(),be(u,{key:m.uid,node:m,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(A(),Y("div",{key:0,class:N(t.ns.e("empty-text"))},[ie(p,{size:"14",class:N(t.ns.is("loading"))},{default:he(()=>[ie(h)]),_:1},8,["class"]),zt(" "+We(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(A(),Y("div",{key:1,class:N(t.ns.e("empty-text"))},We(t.t("el.cascader.noData")),3)):(g=t.panel)!=null&&g.isHoverMenu?(A(),Y("svg",{key:2,ref:"hoverZone",class:N(t.ns.e("hover-zone"))},null,2)):$e("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var w9=Ge(C9,[["render",I9],["__file","menu.vue"]]);let k9=0;const O9=t=>{const n=[t];let{parent:o}=t;for(;o;)n.unshift(o),o=o.parent;return n};let ny=class oy{constructor(n,o,i,l=!1){this.data=n,this.config=o,this.parent=i,this.root=l,this.uid=k9++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:a,label:u,children:h}=o,p=n[h],f=O9(this);this.level=l?0:i?i.level+1:1,this.value=n[a],this.label=n[u],this.pathNodes=f,this.pathValues=f.map(g=>g.value),this.pathLabels=f.map(g=>g.label),this.childrenData=p,this.children=(p||[]).map(g=>new oy(g,o,this)),this.loaded=!o.lazy||this.isLeaf||!xs(p)}get isDisabled(){const{data:n,parent:o,config:i}=this,{disabled:l,checkStrictly:a}=i;return(vt(l)?l(n,this):!!n[l])||!a&&(o==null?void 0:o.isDisabled)}get isLeaf(){const{data:n,config:o,childrenData:i,loaded:l}=this,{lazy:a,leaf:u}=o,h=vt(u)?u(n,this):n[u];return Hn(h)?a&&!l?!1:!(Array.isArray(i)&&i.length):!!h}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(n){const{childrenData:o,children:i}=this,l=new oy(n,this.config,this);return Array.isArray(o)?o.push(n):this.childrenData=[n],i.push(l),l}calcText(n,o){const i=n?this.pathLabels.join(o):this.label;return this.text=i,i}broadcast(n,...o){const i=`onParent${Pi(n)}`;this.children.forEach(l=>{l&&(l.broadcast(n,...o),l[i]&&l[i](...o))})}emit(n,...o){const{parent:i}=this,l=`onChild${Pi(n)}`;i&&(i[l]&&i[l](...o),i.emit(n,...o))}onParentCheck(n){this.isDisabled||this.setCheckState(n)}onChildCheck(){const{children:n}=this,o=n.filter(l=>!l.isDisabled),i=o.length?o.every(l=>l.checked):!1;this.setCheckState(i)}setCheckState(n){const o=this.children.length,i=this.children.reduce((l,a)=>{const u=a.checked?1:a.indeterminate?.5:0;return l+u},0);this.checked=this.loaded&&this.children.filter(l=>!l.isDisabled).every(l=>l.loaded&&l.checked)&&n,this.indeterminate=this.loaded&&i!==o&&i>0}doCheck(n){if(this.checked===n)return;const{checkStrictly:o,multiple:i}=this.config;o||!i?this.checked=n:(this.broadcast("check",n),this.setCheckState(n),this.emit("check"))}};const sy=(t,n)=>t.reduce((o,i)=>(i.isLeaf?o.push(i):(!n&&o.push(i),o=o.concat(sy(i.children,n))),o),[]);class jR{constructor(n,o){this.config=o;const i=(n||[]).map(l=>new ny(l,this.config));this.nodes=i,this.allNodes=sy(i,!1),this.leafNodes=sy(i,!0)}getNodes(){return this.nodes}getFlattedNodes(n){return n?this.leafNodes:this.allNodes}appendNode(n,o){const i=o?o.appendChild(n):new ny(n,this.config);o||this.nodes.push(i),this.allNodes.push(i),i.isLeaf&&this.leafNodes.push(i)}appendNodes(n,o){n.forEach(i=>this.appendNode(i,o))}getNodeByValue(n,o=!1){return!n&&n!==0?null:this.getFlattedNodes(o).find(l=>Po(l.value,n)||Po(l.pathValues,n))||null}getSameNode(n){return n&&this.getFlattedNodes(!1).find(({value:i,level:l})=>Po(n.value,i)&&n.level===l)||null}}const JM=Ve({modelValue:{type:fe([Number,String,Array])},options:{type:fe(Array),default:()=>[]},props:{type:fe(Object),default:()=>({})}}),R9={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:on,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},L9=t=>w(()=>({...R9,...t.props})),qR=t=>{if(!t)return 0;const n=t.id.split("-");return Number(n[n.length-2])},A9=t=>{if(!t)return;const n=t.querySelector("input");n?n.click():aN(t)&&t.click()},N9=(t,n)=>{const o=n.slice(0),i=o.map(a=>a.uid),l=t.reduce((a,u)=>{const h=i.indexOf(u.uid);return h>-1&&(a.push(u),o.splice(h,1),i.splice(h,1)),a},[]);return l.push(...o),l},M9=ne({name:"ElCascaderPanel",components:{ElCascaderMenu:w9},props:{...JM,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Bt,vn,"close","expand-change"],setup(t,{emit:n,slots:o}){let i=!1;const l=Pe("cascader"),a=L9(t);let u=null;const h=V(!0),p=V([]),f=V(null),g=V([]),m=V(null),_=V([]),b=w(()=>a.value.expandTrigger==="hover"),T=w(()=>t.renderLabel||o.default),$=()=>{const{options:K}=t,te=a.value;i=!1,u=new jR(K,te),g.value=[u.getNodes()],te.lazy&&xs(t.options)?(h.value=!1,E(void 0,J=>{J&&(u=new jR(J,te),g.value=[u.getNodes()]),h.value=!0,M(!1,!0)})):M(!1,!0)},E=(K,te)=>{const J=a.value;K=K||new ny({},J,void 0,!0),K.loading=!0;const j=z=>{const G=K,W=G.root?null:G;z&&(u==null||u.appendNodes(z,W)),G.loading=!1,G.loaded=!0,G.childrenData=G.childrenData||[],te&&te(z)};J.lazyLoad(K,j)},y=(K,te)=>{var J;const{level:j}=K,z=g.value.slice(0,j);let G;K.isLeaf?G=K.pathNodes[j-2]:(G=K,z.push(K.children)),((J=m.value)==null?void 0:J.uid)!==(G==null?void 0:G.uid)&&(m.value=K,g.value=z,!te&&n("expand-change",(K==null?void 0:K.pathValues)||[]))},I=(K,te,J=!0)=>{const{checkStrictly:j,multiple:z}=a.value,G=_.value[0];i=!0,!z&&(G==null||G.doCheck(!1)),K.doCheck(te),P(),J&&!z&&!j&&n("close"),!J&&!z&&!j&&S(K)},S=K=>{K&&(K=K.parent,S(K),K&&y(K))},C=K=>u==null?void 0:u.getFlattedNodes(K),R=K=>{var te;return(te=C(K))==null?void 0:te.filter(J=>J.checked!==!1)},O=()=>{_.value.forEach(K=>K.doCheck(!1)),P(),g.value=g.value.slice(0,1),m.value=null,n("expand-change",[])},P=()=>{var K;const{checkStrictly:te,multiple:J}=a.value,j=_.value,z=R(!te),G=N9(j,z),W=G.map(D=>D.valueByOption);_.value=G,f.value=J?W:(K=W[0])!=null?K:null},M=(K=!1,te=!1)=>{const{modelValue:J}=t,{lazy:j,multiple:z,checkStrictly:G}=a.value,W=!G;if(!(!h.value||i||!te&&Po(J,f.value)))if(j&&!K){const X=YO(wW(_s(J))).map(oe=>u==null?void 0:u.getNodeByValue(oe)).filter(oe=>!!oe&&!oe.loaded&&!oe.loading);X.length?X.forEach(oe=>{E(oe,()=>M(!1,te))}):M(!0,te)}else{const D=z?_s(J):[J],X=YO(D.map(oe=>u==null?void 0:u.getNodeByValue(oe,W)));H(X,te),f.value=Xm(J)}},H=(K,te=!0)=>{const{checkStrictly:J}=a.value,j=_.value,z=K.filter(D=>!!D&&(J||D.isLeaf)),G=u==null?void 0:u.getSameNode(m.value),W=te&&G||z[0];W?W.pathNodes.forEach(D=>y(D,!0)):m.value=null,j.forEach(D=>D.doCheck(!1)),en(z).forEach(D=>D.doCheck(!0)),_.value=z,pt(F)},F=()=>{Xt&&p.value.forEach(K=>{const te=K==null?void 0:K.$el;if(te){const J=te.querySelector(`.${l.namespace.value}-scrollbar__wrap`),j=te.querySelector(`.${l.b("node")}.${l.is("active")}`)||te.querySelector(`.${l.b("node")}.in-active-path`);s1(J,j)}})},B=K=>{const te=K.target,{code:J}=K;switch(J){case mt.up:case mt.down:{K.preventDefault();const j=J===mt.up?-1:1;hm(uN(te,j,`.${l.b("node")}[tabindex="-1"]`));break}case mt.left:{K.preventDefault();const j=p.value[qR(te)-1],z=j==null?void 0:j.$el.querySelector(`.${l.b("node")}[aria-expanded="true"]`);hm(z);break}case mt.right:{K.preventDefault();const j=p.value[qR(te)+1],z=j==null?void 0:j.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`);hm(z);break}case mt.enter:A9(te);break}};return Gt(r0,en({config:a,expandingNode:m,checkedNodes:_,isHoverMenu:b,initialLoaded:h,renderLabelFn:T,lazyLoad:E,expandNode:y,handleCheckChange:I})),Me([a,()=>t.options],$,{deep:!0,immediate:!0}),Me(()=>t.modelValue,()=>{i=!1,M()},{deep:!0}),Me(()=>f.value,K=>{Po(K,t.modelValue)||(n(Bt,K),n(vn,K))}),TA(()=>p.value=[]),Rt(()=>!xs(t.modelValue)&&M()),{ns:l,menuList:p,menus:g,checkedNodes:_,handleKeyDown:B,handleCheckChange:I,getFlattedNodes:C,getCheckedNodes:R,clearCheckedNodes:O,calculateCheckedValue:P,scrollToExpandingNode:F}}});function D9(t,n,o,i,l,a){const u=Lt("el-cascader-menu");return A(),Y("div",{class:N([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:n[0]||(n[0]=(...h)=>t.handleKeyDown&&t.handleKeyDown(...h))},[(A(!0),Y(dt,null,Kt(t.menus,(h,p)=>(A(),be(u,{key:p,ref_for:!0,ref:f=>t.menuList[p]=f,index:p,nodes:[...h]},null,8,["index","nodes"]))),128))],34)}var bm=Ge(M9,[["render",D9],["__file","index.vue"]]);bm.install=t=>{t.component(bm.name,bm)};const ZM=bm,P9=ZM,Ug=Ve({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Ki},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),x9={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},B9=ne({name:"ElTag"}),F9=ne({...B9,props:Ug,emits:x9,setup(t,{emit:n}){const o=t,i=Xn(),l=Pe("tag"),a=w(()=>{const{type:p,hit:f,effect:g,closable:m,round:_}=o;return[l.b(),l.is("closable",m),l.m(p||"primary"),l.m(i.value),l.m(g),l.is("hit",f),l.is("round",_)]}),u=p=>{n("close",p)},h=p=>{n("click",p)};return(p,f)=>p.disableTransitions?(A(),Y("span",{key:0,class:N(c(a)),style:ct({backgroundColor:p.color}),onClick:h},[Q("span",{class:N(c(l).e("content"))},[Te(p.$slots,"default")],2),p.closable?(A(),be(c(at),{key:0,class:N(c(l).e("close")),onClick:_t(u,["stop"])},{default:he(()=>[ie(c(hi))]),_:1},8,["class","onClick"])):$e("v-if",!0)],6)):(A(),be(jn,{key:1,name:`${c(l).namespace.value}-zoom-in-center`,appear:""},{default:he(()=>[Q("span",{class:N(c(a)),style:ct({backgroundColor:p.color}),onClick:h},[Q("span",{class:N(c(l).e("content"))},[Te(p.$slots,"default")],2),p.closable?(A(),be(c(at),{key:0,class:N(c(l).e("close")),onClick:_t(u,["stop"])},{default:he(()=>[ie(c(hi))]),_:1},8,["class","onClick"])):$e("v-if",!0)],6)]),_:3},8,["name"]))}});var H9=Ge(F9,[["__file","tag.vue"]]);const Mh=Mt(H9),V9=Ve({...JM,size:Jn,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:fe(Function),default:(t,n)=>t.text.includes(n)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:fe(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:io.teleported,tagType:{...Ug.type,default:"info"},validateEvent:{type:Boolean,default:!0},...Gc}),U9={[Bt]:t=>!0,[vn]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,visibleChange:t=>Vn(t),expandChange:t=>!!t,removeTag:t=>!!t},G9={key:0},W9=["placeholder","onKeydown"],z9=["onClick"],K9="ElCascader",X9=ne({name:K9}),Y9=ne({...X9,props:V9,emits:U9,setup(t,{expose:n,emit:o}){const i=t,l={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:x})=>{const{modifiersData:ee,placement:pe}=x;["right","left","bottom","top"].includes(pe)||(ee.arrow.x=35)},requires:["arrow"]}]},a=Ga();let u=0,h=0;const p=Pe("cascader"),f=Pe("input"),{t:g}=jt(),{form:m,formItem:_}=Fo(),{valueOnClear:b}=Bg(i),T=V(null),$=V(null),E=V(null),y=V(null),I=V(null),S=V(!1),C=V(!1),R=V(!1),O=V(!1),P=V(""),M=V(""),H=V([]),F=V([]),B=V([]),K=V(!1),te=w(()=>a.style),J=w(()=>i.disabled||(m==null?void 0:m.disabled)),j=w(()=>i.placeholder||g("el.cascader.placeholder")),z=w(()=>M.value||H.value.length>0||K.value?"":j.value),G=Xn(),W=w(()=>["small"].includes(G.value)?"small":"default"),D=w(()=>!!i.props.multiple),X=w(()=>!i.filterable||D.value),oe=w(()=>D.value?M.value:P.value),le=w(()=>{var x;return((x=y.value)==null?void 0:x.checkedNodes)||[]}),me=w(()=>!i.clearable||J.value||R.value||!C.value?!1:!!le.value.length),Se=w(()=>{const{showAllLevels:x,separator:ee}=i,pe=le.value;return pe.length?D.value?"":pe[0].calcText(x,ee):""}),De=w(()=>(_==null?void 0:_.validateState)||""),ce=w({get(){return Xm(i.modelValue)},set(x){const ee=x||b.value;o(Bt,ee),o(vn,ee),i.validateEvent&&(_==null||_.validate("change").catch(pe=>void 0))}}),ye=w(()=>[p.b(),p.m(G.value),p.is("disabled",J.value),a.class]),_e=w(()=>[f.e("icon"),"icon-arrow-down",p.is("reverse",S.value)]),Ke=w(()=>p.is("focus",S.value||O.value)),ve=w(()=>{var x,ee;return(ee=(x=T.value)==null?void 0:x.popperRef)==null?void 0:ee.contentRef}),Ae=x=>{var ee,pe,re;J.value||(x=x??!S.value,x!==S.value&&(S.value=x,(pe=(ee=$.value)==null?void 0:ee.input)==null||pe.setAttribute("aria-expanded",`${x}`),x?(Fe(),pt((re=y.value)==null?void 0:re.scrollToExpandingNode)):i.filterable&&q(),o("visibleChange",x)))},Fe=()=>{pt(()=>{var x;(x=T.value)==null||x.updatePopper()})},ae=()=>{R.value=!1},de=x=>{const{showAllLevels:ee,separator:pe}=i;return{node:x,key:x.uid,text:x.calcText(ee,pe),hitState:!1,closable:!J.value&&!x.isDisabled,isCollapseTag:!1}},Re=x=>{var ee;const pe=x.node;pe.doCheck(!1),(ee=y.value)==null||ee.calculateCheckedValue(),o("removeTag",pe.valueByOption)},Be=()=>{if(!D.value)return;const x=le.value,ee=[],pe=[];if(x.forEach(re=>pe.push(de(re))),F.value=pe,x.length){x.slice(0,i.maxCollapseTags).forEach(Et=>ee.push(de(Et)));const re=x.slice(i.maxCollapseTags),je=re.length;je&&(i.collapseTags?ee.push({key:-1,text:`+ ${je}`,closable:!1,isCollapseTag:!0}):re.forEach(Et=>ee.push(de(Et))))}H.value=ee},Ee=()=>{var x,ee;const{filterMethod:pe,showAllLevels:re,separator:je}=i,Et=(ee=(x=y.value)==null?void 0:x.getFlattedNodes(!i.props.checkStrictly))==null?void 0:ee.filter(U=>U.isDisabled?!1:(U.calcText(re,je),pe(U,oe.value)));D.value&&(H.value.forEach(U=>{U.hitState=!1}),F.value.forEach(U=>{U.hitState=!1})),R.value=!0,B.value=Et,Fe()},Ne=()=>{var x;let ee;R.value&&I.value?ee=I.value.$el.querySelector(`.${p.e("suggestion-item")}`):ee=(x=y.value)==null?void 0:x.$el.querySelector(`.${p.b("node")}[tabindex="-1"]`),ee&&(ee.focus(),!R.value&&ee.click())},He=()=>{var x,ee;const pe=(x=$.value)==null?void 0:x.input,re=E.value,je=(ee=I.value)==null?void 0:ee.$el;if(!(!Xt||!pe)){if(je){const Et=je.querySelector(`.${p.e("suggestion-list")}`);Et.style.minWidth=`${pe.offsetWidth}px`}if(re){const{offsetHeight:Et}=re,U=H.value.length>0?`${Math.max(Et+6,u)}px`:`${u}px`;pe.style.height=U,Fe()}}},ue=x=>{var ee;return(ee=y.value)==null?void 0:ee.getCheckedNodes(x)},Ie=x=>{Fe(),o("expandChange",x)},ke=x=>{var ee;const pe=(ee=x.target)==null?void 0:ee.value;if(x.type==="compositionend")K.value=!1,pt(()=>Ye(pe));else{const re=pe[pe.length-1]||"";K.value=!LE(re)}},Ue=x=>{if(!K.value)switch(x.code){case mt.enter:Ae();break;case mt.down:Ae(!0),pt(Ne),x.preventDefault();break;case mt.esc:S.value===!0&&(x.preventDefault(),x.stopPropagation(),Ae(!1));break;case mt.tab:Ae(!1);break}},ot=()=>{var x;(x=y.value)==null||x.clearCheckedNodes(),!S.value&&i.filterable&&q(),Ae(!1)},q=()=>{const{value:x}=Se;P.value=x,M.value=x},Qe=x=>{var ee,pe;const{checked:re}=x;D.value?(ee=y.value)==null||ee.handleCheckChange(x,!re,!1):(!re&&((pe=y.value)==null||pe.handleCheckChange(x,!0,!1)),Ae(!1))},lt=x=>{const ee=x.target,{code:pe}=x;switch(pe){case mt.up:case mt.down:{const re=pe===mt.up?-1:1;hm(uN(ee,re,`.${p.e("suggestion-item")}[tabindex="-1"]`));break}case mt.enter:ee.click();break}},bt=()=>{const x=H.value,ee=x[x.length-1];h=M.value?0:h+1,!(!ee||!h||i.collapseTags&&x.length>1)&&(ee.hitState?Re(ee):ee.hitState=!0)},Tt=x=>{const ee=x.target,pe=p.e("search-input");ee.className===pe&&(O.value=!0),o("focus",x)},st=x=>{O.value=!1,o("blur",x)},Le=us(()=>{const{value:x}=oe;if(!x)return;const ee=i.beforeFilter(x);$h(ee)?ee.then(Ee).catch(()=>{}):ee!==!1?Ee():ae()},i.debounce),Ye=(x,ee)=>{!S.value&&Ae(!0),!(ee!=null&&ee.isComposing)&&(x?Le():ae())},L=x=>Number.parseFloat(tH(f.cssVarName("input-height"),x).value)-2;return Me(R,Fe),Me([le,J],Be),Me(H,()=>{pt(()=>He())}),Me(G,async()=>{await pt();const x=$.value.input;u=L(x)||u,He()}),Me(Se,q,{immediate:!0}),Rt(()=>{const x=$.value.input,ee=L(x);u=x.offsetHeight||ee,wn(x,He)}),n({getCheckedNodes:ue,cascaderPanelRef:y,togglePopperVisible:Ae,contentRef:ve}),(x,ee)=>(A(),be(c(Bo),{ref_key:"tooltipRef",ref:T,visible:S.value,teleported:x.teleported,"popper-class":[c(p).e("dropdown"),x.popperClass],"popper-options":l,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${c(p).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:ae},{default:he(()=>[Ot((A(),Y("div",{class:N(c(ye)),style:ct(c(te)),onClick:ee[5]||(ee[5]=()=>Ae(c(X)?void 0:!0)),onKeydown:Ue,onMouseenter:ee[6]||(ee[6]=pe=>C.value=!0),onMouseleave:ee[7]||(ee[7]=pe=>C.value=!1)},[ie(c(Do),{ref_key:"input",ref:$,modelValue:P.value,"onUpdate:modelValue":ee[1]||(ee[1]=pe=>P.value=pe),placeholder:c(z),readonly:c(X),disabled:c(J),"validate-event":!1,size:c(G),class:N(c(Ke)),tabindex:c(D)&&x.filterable&&!c(J)?-1:void 0,onCompositionstart:ke,onCompositionupdate:ke,onCompositionend:ke,onFocus:Tt,onBlur:st,onInput:Ye},{suffix:he(()=>[c(me)?(A(),be(c(at),{key:"clear",class:N([c(f).e("icon"),"icon-circle-close"]),onClick:_t(ot,["stop"])},{default:he(()=>[ie(c(Al))]),_:1},8,["class","onClick"])):(A(),be(c(at),{key:"arrow-down",class:N(c(_e)),onClick:ee[0]||(ee[0]=_t(pe=>Ae(),["stop"]))},{default:he(()=>[ie(c(Nr))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),c(D)?(A(),Y("div",{key:0,ref_key:"tagWrapper",ref:E,class:N([c(p).e("tags"),c(p).is("validate",!!c(De))])},[(A(!0),Y(dt,null,Kt(H.value,pe=>(A(),be(c(Mh),{key:pe.key,type:x.tagType,size:c(W),hit:pe.hitState,closable:pe.closable,"disable-transitions":"",onClose:re=>Re(pe)},{default:he(()=>[pe.isCollapseTag===!1?(A(),Y("span",G9,We(pe.text),1)):(A(),be(c(Bo),{key:1,disabled:S.value||!x.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:he(()=>[Q("span",null,We(pe.text),1)]),content:he(()=>[Q("div",{class:N(c(p).e("collapse-tags"))},[(A(!0),Y(dt,null,Kt(F.value.slice(x.maxCollapseTags),(re,je)=>(A(),Y("div",{key:je,class:N(c(p).e("collapse-tag"))},[(A(),be(c(Mh),{key:re.key,class:"in-tooltip",type:x.tagType,size:c(W),hit:re.hitState,closable:re.closable,"disable-transitions":"",onClose:Et=>Re(re)},{default:he(()=>[Q("span",null,We(re.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),x.filterable&&!c(J)?Ot((A(),Y("input",{key:0,"onUpdate:modelValue":ee[2]||(ee[2]=pe=>M.value=pe),type:"text",class:N(c(p).e("search-input")),placeholder:c(Se)?"":c(j),onInput:ee[3]||(ee[3]=pe=>Ye(M.value,pe)),onClick:ee[4]||(ee[4]=_t(pe=>Ae(!0),["stop"])),onKeydown:ln(bt,["delete"]),onCompositionstart:ke,onCompositionupdate:ke,onCompositionend:ke,onFocus:Tt,onBlur:st},null,42,W9)),[[nE,M.value]]):$e("v-if",!0)],2)):$e("v-if",!0)],38)),[[c(kr),()=>Ae(!1),c(ve)]])]),content:he(()=>[Ot(ie(c(ZM),{ref_key:"cascaderPanelRef",ref:y,modelValue:c(ce),"onUpdate:modelValue":ee[8]||(ee[8]=pe=>Tn(ce)?ce.value=pe:null),options:x.options,props:i.props,border:!1,"render-label":x.$slots.default,onExpandChange:Ie,onClose:ee[9]||(ee[9]=pe=>x.$nextTick(()=>Ae(!1)))},null,8,["modelValue","options","props","render-label"]),[[qt,!R.value]]),x.filterable?Ot((A(),be(c(Dr),{key:0,ref_key:"suggestionPanel",ref:I,tag:"ul",class:N(c(p).e("suggestion-panel")),"view-class":c(p).e("suggestion-list"),onKeydown:lt},{default:he(()=>[B.value.length?(A(!0),Y(dt,{key:0},Kt(B.value,pe=>(A(),Y("li",{key:pe.uid,class:N([c(p).e("suggestion-item"),c(p).is("checked",pe.checked)]),tabindex:-1,onClick:re=>Qe(pe)},[Q("span",null,We(pe.text),1),pe.checked?(A(),be(c(at),{key:0},{default:he(()=>[ie(c(Zh))]),_:1})):$e("v-if",!0)],10,z9))),128)):Te(x.$slots,"empty",{key:1},()=>[Q("li",{class:N(c(p).e("empty-text"))},We(c(g)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[qt,R.value]]):$e("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var Tm=Ge(Y9,[["__file","cascader.vue"]]);Tm.install=t=>{t.component(Tm.name,Tm)};const j9=Tm,q9=j9,J9=Ve({checked:{type:Boolean,default:!1},type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),Z9={"update:checked":t=>Vn(t),[vn]:t=>Vn(t)},Q9=ne({name:"ElCheckTag"}),e7=ne({...Q9,props:J9,emits:Z9,setup(t,{emit:n}){const o=t,i=Pe("check-tag"),l=w(()=>[i.b(),i.is("checked",o.checked),i.m(o.type||"primary")]),a=()=>{const u=!o.checked;n(vn,u),n("update:checked",u)};return(u,h)=>(A(),Y("span",{class:N(c(l)),onClick:a},[Te(u.$slots,"default")],2))}});var t7=Ge(e7,[["__file","check-tag.vue"]]);const n7=Mt(t7),QM=Symbol("rowContextKey"),o7=["start","center","end","space-around","space-between","space-evenly"],s7=["top","middle","bottom"],i7=Ve({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:o7,default:"start"},align:{type:String,values:s7}}),r7=ne({name:"ElRow"}),l7=ne({...r7,props:i7,setup(t){const n=t,o=Pe("row"),i=w(()=>n.gutter);Gt(QM,{gutter:i});const l=w(()=>{const u={};return n.gutter&&(u.marginRight=u.marginLeft=`-${n.gutter/2}px`),u}),a=w(()=>[o.b(),o.is(`justify-${n.justify}`,n.justify!=="start"),o.is(`align-${n.align}`,!!n.align)]);return(u,h)=>(A(),be(Ft(u.tag),{class:N(c(a)),style:ct(c(l))},{default:he(()=>[Te(u.$slots,"default")]),_:3},8,["class","style"]))}});var a7=Ge(l7,[["__file","row.vue"]]);const u7=Mt(a7),c7=Ve({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:fe([Number,Object]),default:()=>kn({})},sm:{type:fe([Number,Object]),default:()=>kn({})},md:{type:fe([Number,Object]),default:()=>kn({})},lg:{type:fe([Number,Object]),default:()=>kn({})},xl:{type:fe([Number,Object]),default:()=>kn({})}}),d7=ne({name:"ElCol"}),h7=ne({...d7,props:c7,setup(t){const n=t,{gutter:o}=it(QM,{gutter:w(()=>0)}),i=Pe("col"),l=w(()=>{const u={};return o.value&&(u.paddingLeft=u.paddingRight=`${o.value/2}px`),u}),a=w(()=>{const u=[];return["span","offset","pull","push"].forEach(f=>{const g=n[f];gt(g)&&(f==="span"?u.push(i.b(`${n[f]}`)):g>0&&u.push(i.b(`${f}-${n[f]}`)))}),["xs","sm","md","lg","xl"].forEach(f=>{gt(n[f])?u.push(i.b(`${f}-${n[f]}`)):Pt(n[f])&&Object.entries(n[f]).forEach(([g,m])=>{u.push(g!=="span"?i.b(`${f}-${g}-${m}`):i.b(`${f}-${m}`))})}),o.value&&u.push(i.is("guttered")),[i.b(),u]});return(u,h)=>(A(),be(Ft(u.tag),{class:N(c(a)),style:ct(c(l))},{default:he(()=>[Te(u.$slots,"default")]),_:3},8,["class","style"]))}});var p7=Ge(h7,[["__file","col.vue"]]);const f7=Mt(p7),JR=t=>gt(t)||yt(t)||tt(t),m7=Ve({accordion:Boolean,modelValue:{type:fe([Array,String,Number]),default:()=>kn([])}}),g7={[Bt]:JR,[vn]:JR},eD=Symbol("collapseContextKey"),$7=(t,n)=>{const o=V(yl(t.modelValue)),i=a=>{o.value=a;const u=t.accordion?o.value[0]:o.value;n(Bt,u),n(vn,u)},l=a=>{if(t.accordion)i([o.value[0]===a?"":a]);else{const u=[...o.value],h=u.indexOf(a);h>-1?u.splice(h,1):u.push(a),i(u)}};return Me(()=>t.modelValue,()=>o.value=yl(t.modelValue),{deep:!0}),Gt(eD,{activeNames:o,handleItemClick:l}),{activeNames:o,setActiveNames:i}},v7=()=>{const t=Pe("collapse");return{rootKls:w(()=>t.b())}},_7=ne({name:"ElCollapse"}),b7=ne({..._7,props:m7,emits:g7,setup(t,{expose:n,emit:o}){const i=t,{activeNames:l,setActiveNames:a}=$7(i,o),{rootKls:u}=v7();return n({activeNames:l,setActiveNames:a}),(h,p)=>(A(),Y("div",{class:N(c(u))},[Te(h.$slots,"default")],2))}});var T7=Ge(b7,[["__file","collapse.vue"]]);const y7=ne({name:"ElCollapseTransition"}),E7=ne({...y7,setup(t){const n=Pe("collapse-transition"),o=l=>{l.style.maxHeight="",l.style.overflow=l.dataset.oldOverflow,l.style.paddingTop=l.dataset.oldPaddingTop,l.style.paddingBottom=l.dataset.oldPaddingBottom},i={beforeEnter(l){l.dataset||(l.dataset={}),l.dataset.oldPaddingTop=l.style.paddingTop,l.dataset.oldPaddingBottom=l.style.paddingBottom,l.style.height&&(l.dataset.elExistsHeight=l.style.height),l.style.maxHeight=0,l.style.paddingTop=0,l.style.paddingBottom=0},enter(l){requestAnimationFrame(()=>{l.dataset.oldOverflow=l.style.overflow,l.dataset.elExistsHeight?l.style.maxHeight=l.dataset.elExistsHeight:l.scrollHeight!==0?l.style.maxHeight=`${l.scrollHeight}px`:l.style.maxHeight=0,l.style.paddingTop=l.dataset.oldPaddingTop,l.style.paddingBottom=l.dataset.oldPaddingBottom,l.style.overflow="hidden"})},afterEnter(l){l.style.maxHeight="",l.style.overflow=l.dataset.oldOverflow},enterCancelled(l){o(l)},beforeLeave(l){l.dataset||(l.dataset={}),l.dataset.oldPaddingTop=l.style.paddingTop,l.dataset.oldPaddingBottom=l.style.paddingBottom,l.dataset.oldOverflow=l.style.overflow,l.style.maxHeight=`${l.scrollHeight}px`,l.style.overflow="hidden"},leave(l){l.scrollHeight!==0&&(l.style.maxHeight=0,l.style.paddingTop=0,l.style.paddingBottom=0)},afterLeave(l){o(l)},leaveCancelled(l){o(l)}};return(l,a)=>(A(),be(jn,Vt({name:c(n).b()},mF(i)),{default:he(()=>[Te(l.$slots,"default")]),_:3},16,["name"]))}});var ym=Ge(E7,[["__file","collapse-transition.vue"]]);ym.install=t=>{t.component(ym.name,ym)};const Gg=ym,S7=Gg,C7=Ve({title:{type:String,default:""},name:{type:fe([String,Number]),default:void 0},disabled:Boolean}),I7=t=>{const n=it(eD),{namespace:o}=Pe("collapse"),i=V(!1),l=V(!1),a=WE(),u=w(()=>a.current++),h=w(()=>{var _;return(_=t.name)!=null?_:`${o.value}-id-${a.prefix}-${c(u)}`}),p=w(()=>n==null?void 0:n.activeNames.value.includes(c(h)));return{focusing:i,id:u,isActive:p,handleFocus:()=>{setTimeout(()=>{l.value?l.value=!1:i.value=!0},50)},handleHeaderClick:()=>{t.disabled||(n==null||n.handleItemClick(c(h)),i.value=!1,l.value=!0)},handleEnterClick:()=>{n==null||n.handleItemClick(c(h))}}},w7=(t,{focusing:n,isActive:o,id:i})=>{const l=Pe("collapse"),a=w(()=>[l.b("item"),l.is("active",c(o)),l.is("disabled",t.disabled)]),u=w(()=>[l.be("item","header"),l.is("active",c(o)),{focusing:c(n)&&!t.disabled}]),h=w(()=>[l.be("item","arrow"),l.is("active",c(o))]),p=w(()=>l.be("item","wrap")),f=w(()=>l.be("item","content")),g=w(()=>l.b(`content-${c(i)}`)),m=w(()=>l.b(`head-${c(i)}`));return{arrowKls:h,headKls:u,rootKls:a,itemWrapperKls:p,itemContentKls:f,scopedContentId:g,scopedHeadId:m}},k7=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],O7=["id","aria-hidden","aria-labelledby"],R7=ne({name:"ElCollapseItem"}),L7=ne({...R7,props:C7,setup(t,{expose:n}){const o=t,{focusing:i,id:l,isActive:a,handleFocus:u,handleHeaderClick:h,handleEnterClick:p}=I7(o),{arrowKls:f,headKls:g,rootKls:m,itemWrapperKls:_,itemContentKls:b,scopedContentId:T,scopedHeadId:$}=w7(o,{focusing:i,isActive:a,id:l});return n({isActive:a}),(E,y)=>(A(),Y("div",{class:N(c(m))},[Q("button",{id:c($),class:N(c(g)),"aria-expanded":c(a),"aria-controls":c(T),"aria-describedby":c(T),tabindex:E.disabled?-1:0,type:"button",onClick:y[0]||(y[0]=(...I)=>c(h)&&c(h)(...I)),onKeydown:y[1]||(y[1]=ln(_t((...I)=>c(p)&&c(p)(...I),["stop","prevent"]),["space","enter"])),onFocus:y[2]||(y[2]=(...I)=>c(u)&&c(u)(...I)),onBlur:y[3]||(y[3]=I=>i.value=!1)},[Te(E.$slots,"title",{},()=>[zt(We(E.title),1)]),ie(c(at),{class:N(c(f))},{default:he(()=>[ie(c(Yo))]),_:1},8,["class"])],42,k7),ie(c(Gg),null,{default:he(()=>[Ot(Q("div",{id:c(T),role:"region",class:N(c(_)),"aria-hidden":!c(a),"aria-labelledby":c($)},[Q("div",{class:N(c(b))},[Te(E.$slots,"default")],2)],10,O7),[[qt,c(a)]])]),_:3})],2))}});var tD=Ge(L7,[["__file","collapse-item.vue"]]);const A7=Mt(T7,{CollapseItem:tD}),N7=On(tD),M7=Ve({color:{type:fe(Object),required:!0},vertical:{type:Boolean,default:!1}});let qb=!1;function Dh(t,n){if(!Xt)return;const o=function(a){var u;(u=n.drag)==null||u.call(n,a)},i=function(a){var u;document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i),document.removeEventListener("touchmove",o),document.removeEventListener("touchend",i),document.onselectstart=null,document.ondragstart=null,qb=!1,(u=n.end)==null||u.call(n,a)},l=function(a){var u;qb||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",o),document.addEventListener("mouseup",i),document.addEventListener("touchmove",o),document.addEventListener("touchend",i),qb=!0,(u=n.start)==null||u.call(n,a))};t.addEventListener("mousedown",l),t.addEventListener("touchstart",l)}const D7=t=>{const n=Nt(),o=bn(),i=bn();function l(u){u.target!==o.value&&a(u)}function a(u){if(!i.value||!o.value)return;const p=n.vnode.el.getBoundingClientRect(),{clientX:f,clientY:g}=iE(u);if(t.vertical){let m=g-p.top;m=Math.max(o.value.offsetHeight/2,m),m=Math.min(m,p.height-o.value.offsetHeight/2),t.color.set("alpha",Math.round((m-o.value.offsetHeight/2)/(p.height-o.value.offsetHeight)*100))}else{let m=f-p.left;m=Math.max(o.value.offsetWidth/2,m),m=Math.min(m,p.width-o.value.offsetWidth/2),t.color.set("alpha",Math.round((m-o.value.offsetWidth/2)/(p.width-o.value.offsetWidth)*100))}}return{thumb:o,bar:i,handleDrag:a,handleClick:l}},P7=(t,{bar:n,thumb:o,handleDrag:i})=>{const l=Nt(),a=Pe("color-alpha-slider"),u=V(0),h=V(0),p=V();function f(){if(!o.value||t.vertical)return 0;const I=l.vnode.el,S=t.color.get("alpha");return I?Math.round(S*(I.offsetWidth-o.value.offsetWidth/2)/100):0}function g(){if(!o.value)return 0;const I=l.vnode.el;if(!t.vertical)return 0;const S=t.color.get("alpha");return I?Math.round(S*(I.offsetHeight-o.value.offsetHeight/2)/100):0}function m(){if(t.color&&t.color.value){const{r:I,g:S,b:C}=t.color.toRgb();return`linear-gradient(to right, rgba(${I}, ${S}, ${C}, 0) 0%, rgba(${I}, ${S}, ${C}, 1) 100%)`}return""}function _(){u.value=f(),h.value=g(),p.value=m()}Rt(()=>{if(!n.value||!o.value)return;const I={drag:S=>{i(S)},end:S=>{i(S)}};Dh(n.value,I),Dh(o.value,I),_()}),Me(()=>t.color.get("alpha"),()=>_()),Me(()=>t.color.value,()=>_());const b=w(()=>[a.b(),a.is("vertical",t.vertical)]),T=w(()=>a.e("bar")),$=w(()=>a.e("thumb")),E=w(()=>({background:p.value})),y=w(()=>({left:Mn(u.value),top:Mn(h.value)}));return{rootKls:b,barKls:T,barStyle:E,thumbKls:$,thumbStyle:y,update:_}},x7="ElColorAlphaSlider",B7=ne({name:x7}),F7=ne({...B7,props:M7,setup(t,{expose:n}){const o=t,{bar:i,thumb:l,handleDrag:a,handleClick:u}=D7(o),{rootKls:h,barKls:p,barStyle:f,thumbKls:g,thumbStyle:m,update:_}=P7(o,{bar:i,thumb:l,handleDrag:a});return n({update:_,bar:i,thumb:l}),(b,T)=>(A(),Y("div",{class:N(c(h))},[Q("div",{ref_key:"bar",ref:i,class:N(c(p)),style:ct(c(f)),onClick:T[0]||(T[0]=(...$)=>c(u)&&c(u)(...$))},null,6),Q("div",{ref_key:"thumb",ref:l,class:N(c(g)),style:ct(c(m))},null,6)],2))}});var H7=Ge(F7,[["__file","alpha-slider.vue"]]);const V7=ne({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const n=Pe("color-hue-slider"),o=Nt(),i=V(),l=V(),a=V(0),u=V(0),h=w(()=>t.color.get("hue"));Me(()=>h.value,()=>{_()});function p(b){b.target!==i.value&&f(b)}function f(b){if(!l.value||!i.value)return;const $=o.vnode.el.getBoundingClientRect(),{clientX:E,clientY:y}=iE(b);let I;if(t.vertical){let S=y-$.top;S=Math.min(S,$.height-i.value.offsetHeight/2),S=Math.max(i.value.offsetHeight/2,S),I=Math.round((S-i.value.offsetHeight/2)/($.height-i.value.offsetHeight)*360)}else{let S=E-$.left;S=Math.min(S,$.width-i.value.offsetWidth/2),S=Math.max(i.value.offsetWidth/2,S),I=Math.round((S-i.value.offsetWidth/2)/($.width-i.value.offsetWidth)*360)}t.color.set("hue",I)}function g(){if(!i.value)return 0;const b=o.vnode.el;if(t.vertical)return 0;const T=t.color.get("hue");return b?Math.round(T*(b.offsetWidth-i.value.offsetWidth/2)/360):0}function m(){if(!i.value)return 0;const b=o.vnode.el;if(!t.vertical)return 0;const T=t.color.get("hue");return b?Math.round(T*(b.offsetHeight-i.value.offsetHeight/2)/360):0}function _(){a.value=g(),u.value=m()}return Rt(()=>{if(!l.value||!i.value)return;const b={drag:T=>{f(T)},end:T=>{f(T)}};Dh(l.value,b),Dh(i.value,b),_()}),{bar:l,thumb:i,thumbLeft:a,thumbTop:u,hueValue:h,handleClick:p,update:_,ns:n}}});function U7(t,n,o,i,l,a){return A(),Y("div",{class:N([t.ns.b(),t.ns.is("vertical",t.vertical)])},[Q("div",{ref:"bar",class:N(t.ns.e("bar")),onClick:n[0]||(n[0]=(...u)=>t.handleClick&&t.handleClick(...u))},null,2),Q("div",{ref:"thumb",class:N(t.ns.e("thumb")),style:ct({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var G7=Ge(V7,[["render",U7],["__file","hue-slider.vue"]]);const W7=Ve({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Jn,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},teleported:io.teleported,predefine:{type:fe(Array)},validateEvent:{type:Boolean,default:!0},...go(["ariaLabel"])}),z7={[Bt]:t=>yt(t)||ro(t),[vn]:t=>yt(t)||ro(t),activeChange:t=>yt(t)||ro(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},nD=Symbol("colorPickerContextKey"),ZR=function(t,n,o){return[t,n*o/((t=(2-n)*o)<1?t:2-t)||0,t/2]},K7=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},X7=function(t){return typeof t=="string"&&t.includes("%")},uc=function(t,n){K7(t)&&(t="100%");const o=X7(t);return t=Math.min(n,Math.max(0,Number.parseFloat(`${t}`))),o&&(t=Number.parseInt(`${t*n}`,10)/100),Math.abs(t-n)<1e-6?1:t%n/Number.parseFloat(n)},QR={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Em=t=>{t=Math.min(Math.round(t),255);const n=Math.floor(t/16),o=t%16;return`${QR[n]||n}${QR[o]||o}`},eL=function({r:t,g:n,b:o}){return Number.isNaN(+t)||Number.isNaN(+n)||Number.isNaN(+o)?"":`#${Em(t)}${Em(n)}${Em(o)}`},Jb={A:10,B:11,C:12,D:13,E:14,F:15},$a=function(t){return t.length===2?(Jb[t[0].toUpperCase()]||+t[0])*16+(Jb[t[1].toUpperCase()]||+t[1]):Jb[t[1].toUpperCase()]||+t[1]},Y7=function(t,n,o){n=n/100,o=o/100;let i=n;const l=Math.max(o,.01);o*=2,n*=o<=1?o:2-o,i*=l<=1?l:2-l;const a=(o+n)/2,u=o===0?2*i/(l+i):2*n/(o+n);return{h:t,s:u*100,v:a*100}},tL=(t,n,o)=>{t=uc(t,255),n=uc(n,255),o=uc(o,255);const i=Math.max(t,n,o),l=Math.min(t,n,o);let a;const u=i,h=i-l,p=i===0?0:h/i;if(i===l)a=0;else{switch(i){case t:{a=(n-o)/h+(n<o?6:0);break}case n:{a=(o-t)/h+2;break}case o:{a=(t-n)/h+4;break}}a/=6}return{h:a*360,s:p*100,v:u*100}},Kd=function(t,n,o){t=uc(t,360)*6,n=uc(n,100),o=uc(o,100);const i=Math.floor(t),l=t-i,a=o*(1-n),u=o*(1-l*n),h=o*(1-(1-l)*n),p=i%6,f=[o,u,a,a,h,o][p],g=[h,o,o,u,a,a][p],m=[a,a,h,o,o,u][p];return{r:Math.round(f*255),g:Math.round(g*255),b:Math.round(m*255)}};class fh{constructor(n={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const o in n)Yt(n,o)&&(this[o]=n[o]);n.value?this.fromString(n.value):this.doOnChange()}set(n,o){if(arguments.length===1&&typeof n=="object"){for(const i in n)Yt(n,i)&&this.set(i,n[i]);return}this[`_${n}`]=o,this.doOnChange()}get(n){return n==="alpha"?Math.floor(this[`_${n}`]):this[`_${n}`]}toRgb(){return Kd(this._hue,this._saturation,this._value)}fromString(n){if(!n){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const o=(i,l,a)=>{this._hue=Math.max(0,Math.min(360,i)),this._saturation=Math.max(0,Math.min(100,l)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(n.includes("hsl")){const i=n.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,a)=>a>2?Number.parseFloat(l):Number.parseInt(l,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:l,s:a,v:u}=Y7(i[0],i[1],i[2]);o(l,a,u)}}else if(n.includes("hsv")){const i=n.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,a)=>a>2?Number.parseFloat(l):Number.parseInt(l,10));i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3&&o(i[0],i[1],i[2])}else if(n.includes("rgb")){const i=n.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,a)=>a>2?Number.parseFloat(l):Number.parseInt(l,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:l,s:a,v:u}=tL(i[0],i[1],i[2]);o(l,a,u)}}else if(n.includes("#")){const i=n.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(i))return;let l,a,u;i.length===3?(l=$a(i[0]+i[0]),a=$a(i[1]+i[1]),u=$a(i[2]+i[2])):(i.length===6||i.length===8)&&(l=$a(i.slice(0,2)),a=$a(i.slice(2,4)),u=$a(i.slice(4,6))),i.length===8?this._alpha=$a(i.slice(6))/255*100:(i.length===3||i.length===6)&&(this._alpha=100);const{h,s:p,v:f}=tL(l,a,u);o(h,p,f)}}compare(n){return Math.abs(n._hue-this._hue)<2&&Math.abs(n._saturation-this._saturation)<1&&Math.abs(n._value-this._value)<1&&Math.abs(n._alpha-this._alpha)<1}doOnChange(){const{_hue:n,_saturation:o,_value:i,_alpha:l,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const u=ZR(n,o/100,i/100);this.value=`hsla(${n}, ${Math.round(u[1]*100)}%, ${Math.round(u[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${n}, ${Math.round(o)}%, ${Math.round(i)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${eL(Kd(n,o,i))}${Em(l*255/100)}`;break}default:{const{r:u,g:h,b:p}=Kd(n,o,i);this.value=`rgba(${u}, ${h}, ${p}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const u=ZR(n,o/100,i/100);this.value=`hsl(${n}, ${Math.round(u[1]*100)}%, ${Math.round(u[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${n}, ${Math.round(o)}%, ${Math.round(i)}%)`;break}case"rgb":{const{r:u,g:h,b:p}=Kd(n,o,i);this.value=`rgb(${u}, ${h}, ${p})`;break}default:this.value=eL(Kd(n,o,i))}}}const j7=ne({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const n=Pe("color-predefine"),{currentColor:o}=it(nD),i=V(a(t.colors,t.color));Me(()=>o.value,u=>{const h=new fh;h.fromString(u),i.value.forEach(p=>{p.selected=h.compare(p)})}),So(()=>{i.value=a(t.colors,t.color)});function l(u){t.color.fromString(t.colors[u])}function a(u,h){return u.map(p=>{const f=new fh;return f.enableAlpha=t.enableAlpha,f.format="rgba",f.fromString(p),f.selected=f.value===h.value,f})}return{rgbaColors:i,handleSelect:l,ns:n}}}),q7=["onClick"];function J7(t,n,o,i,l,a){return A(),Y("div",{class:N(t.ns.b())},[Q("div",{class:N(t.ns.e("colors"))},[(A(!0),Y(dt,null,Kt(t.rgbaColors,(u,h)=>(A(),Y("div",{key:t.colors[h],class:N([t.ns.e("color-selector"),t.ns.is("alpha",u._alpha<100),{selected:u.selected}]),onClick:p=>t.handleSelect(h)},[Q("div",{style:ct({backgroundColor:u.value})},null,4)],10,q7))),128))],2)],2)}var Z7=Ge(j7,[["render",J7],["__file","predefine.vue"]]);const Q7=ne({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const n=Pe("color-svpanel"),o=Nt(),i=V(0),l=V(0),a=V("hsl(0, 100%, 50%)"),u=w(()=>{const f=t.color.get("hue"),g=t.color.get("value");return{hue:f,value:g}});function h(){const f=t.color.get("saturation"),g=t.color.get("value"),m=o.vnode.el,{clientWidth:_,clientHeight:b}=m;l.value=f*_/100,i.value=(100-g)*b/100,a.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function p(f){const m=o.vnode.el.getBoundingClientRect(),{clientX:_,clientY:b}=iE(f);let T=_-m.left,$=b-m.top;T=Math.max(0,T),T=Math.min(T,m.width),$=Math.max(0,$),$=Math.min($,m.height),l.value=T,i.value=$,t.color.set({saturation:T/m.width*100,value:100-$/m.height*100})}return Me(()=>u.value,()=>{h()}),Rt(()=>{Dh(o.vnode.el,{drag:f=>{p(f)},end:f=>{p(f)}}),h()}),{cursorTop:i,cursorLeft:l,background:a,colorValue:u,handleDrag:p,update:h,ns:n}}}),eq=Q("div",null,null,-1),tq=[eq];function nq(t,n,o,i,l,a){return A(),Y("div",{class:N(t.ns.b()),style:ct({backgroundColor:t.background})},[Q("div",{class:N(t.ns.e("white"))},null,2),Q("div",{class:N(t.ns.e("black"))},null,2),Q("div",{class:N(t.ns.e("cursor")),style:ct({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},tq,6)],6)}var oq=Ge(Q7,[["render",nq],["__file","sv-panel.vue"]]);const sq=["onKeydown"],iq=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],rq=ne({name:"ElColorPicker"}),lq=ne({...rq,props:W7,emits:z7,setup(t,{expose:n,emit:o}){const i=t,{t:l}=jt(),a=Pe("color"),{formItem:u}=Fo(),h=Xn(),p=Qo(),{inputId:f,isLabeledByFormItem:g}=$i(i,{formItemContext:u}),m=V(),_=V(),b=V(),T=V(),$=V(),E=V(),{isFocused:y,handleFocus:I,handleBlur:S}=xg($,{beforeBlur(ve){var Ae;return(Ae=T.value)==null?void 0:Ae.isFocusInsideContent(ve)},afterBlur(){z(!1),X()}}),C=ve=>{if(p.value)return Ke();I(ve)};let R=!0;const O=en(new fh({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue})),P=V(!1),M=V(!1),H=V(""),F=w(()=>!i.modelValue&&!M.value?"transparent":j(O,i.showAlpha)),B=w(()=>!i.modelValue&&!M.value?"":O.value),K=w(()=>g.value?void 0:i.label||i.ariaLabel||l("el.colorpicker.defaultLabel"));eo({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-color-picker",ref:"https://element-plus.org/en-US/component/color-picker.html"},w(()=>!!i.label));const te=w(()=>g.value?u==null?void 0:u.labelId:void 0),J=w(()=>[a.b("picker"),a.is("disabled",p.value),a.bm("picker",h.value),a.is("focused",y.value)]);function j(ve,Ae){if(!(ve instanceof fh))throw new TypeError("color should be instance of _color Class");const{r:Fe,g:ae,b:de}=ve.toRgb();return Ae?`rgba(${Fe}, ${ae}, ${de}, ${ve.get("alpha")/100})`:`rgb(${Fe}, ${ae}, ${de})`}function z(ve){P.value=ve}const G=us(z,100,{leading:!0});function W(){p.value||z(!0)}function D(){G(!1),X()}function X(){pt(()=>{i.modelValue?O.fromString(i.modelValue):(O.value="",pt(()=>{M.value=!1}))})}function oe(){p.value||G(!P.value)}function le(){O.fromString(H.value)}function me(){const ve=O.value;o(Bt,ve),o("change",ve),i.validateEvent&&(u==null||u.validate("change").catch(Ae=>void 0)),G(!1),pt(()=>{const Ae=new fh({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue});O.compare(Ae)||X()})}function Se(){G(!1),o(Bt,null),o("change",null),i.modelValue!==null&&i.validateEvent&&(u==null||u.validate("change").catch(ve=>void 0)),X()}function De(ve){if(P.value&&(D(),y.value)){const Ae=new FocusEvent("focus",ve);S(Ae)}}function ce(ve){ve.preventDefault(),ve.stopPropagation(),z(!1),X()}function ye(ve){switch(ve.code){case mt.enter:case mt.space:ve.preventDefault(),ve.stopPropagation(),W(),E.value.focus();break;case mt.esc:ce(ve);break}}function _e(){$.value.focus()}function Ke(){$.value.blur()}return Rt(()=>{i.modelValue&&(H.value=B.value)}),Me(()=>i.modelValue,ve=>{ve?ve&&ve!==O.value&&(R=!1,O.fromString(ve)):M.value=!1}),Me(()=>B.value,ve=>{H.value=ve,R&&o("activeChange",ve),R=!0}),Me(()=>O.value,()=>{!i.modelValue&&!M.value&&(M.value=!0)}),Me(()=>P.value,()=>{pt(()=>{var ve,Ae,Fe;(ve=m.value)==null||ve.update(),(Ae=_.value)==null||Ae.update(),(Fe=b.value)==null||Fe.update()})}),Gt(nD,{currentColor:B}),n({color:O,show:W,hide:D,focus:_e,blur:Ke}),(ve,Ae)=>(A(),be(c(Bo),{ref_key:"popper",ref:T,visible:P.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[c(a).be("picker","panel"),c(a).b("dropdown"),ve.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:ve.teleported,transition:`${c(a).namespace.value}-zoom-in-top`,persistent:"",onHide:Ae[2]||(Ae[2]=Fe=>z(!1))},{content:he(()=>[Ot((A(),Y("div",{onKeydown:ln(ce,["esc"])},[Q("div",{class:N(c(a).be("dropdown","main-wrapper"))},[ie(G7,{ref_key:"hue",ref:m,class:"hue-slider",color:c(O),vertical:""},null,8,["color"]),ie(oq,{ref_key:"sv",ref:_,color:c(O)},null,8,["color"])],2),ve.showAlpha?(A(),be(H7,{key:0,ref_key:"alpha",ref:b,color:c(O)},null,8,["color"])):$e("v-if",!0),ve.predefine?(A(),be(Z7,{key:1,ref:"predefine","enable-alpha":ve.showAlpha,color:c(O),colors:ve.predefine},null,8,["enable-alpha","color","colors"])):$e("v-if",!0),Q("div",{class:N(c(a).be("dropdown","btns"))},[Q("span",{class:N(c(a).be("dropdown","value"))},[ie(c(Do),{ref_key:"inputRef",ref:E,modelValue:H.value,"onUpdate:modelValue":Ae[0]||(Ae[0]=Fe=>H.value=Fe),"validate-event":!1,size:"small",onKeyup:ln(le,["enter"]),onBlur:le},null,8,["modelValue","onKeyup"])],2),ie(c(lo),{class:N(c(a).be("dropdown","link-btn")),text:"",size:"small",onClick:Se},{default:he(()=>[zt(We(c(l)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ie(c(lo),{plain:"",size:"small",class:N(c(a).be("dropdown","btn")),onClick:me},{default:he(()=>[zt(We(c(l)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,sq)),[[c(kr),De]])]),default:he(()=>[Q("div",Vt({id:c(f),ref_key:"triggerRef",ref:$},ve.$attrs,{class:c(J),role:"button","aria-label":c(K),"aria-labelledby":c(te),"aria-description":c(l)("el.colorpicker.description",{color:ve.modelValue||""}),"aria-disabled":c(p),tabindex:c(p)?-1:ve.tabindex,onKeydown:ye,onFocus:C,onBlur:Ae[1]||(Ae[1]=(...Fe)=>c(S)&&c(S)(...Fe))}),[c(p)?(A(),Y("div",{key:0,class:N(c(a).be("picker","mask"))},null,2)):$e("v-if",!0),Q("div",{class:N(c(a).be("picker","trigger")),onClick:oe},[Q("span",{class:N([c(a).be("picker","color"),c(a).is("alpha",ve.showAlpha)])},[Q("span",{class:N(c(a).be("picker","color-inner")),style:ct({backgroundColor:c(F)})},[Ot(ie(c(at),{class:N([c(a).be("picker","icon"),c(a).is("icon-arrow-down")])},{default:he(()=>[ie(c(Nr))]),_:1},8,["class"]),[[qt,ve.modelValue||M.value]]),Ot(ie(c(at),{class:N([c(a).be("picker","empty"),c(a).is("icon-close")])},{default:he(()=>[ie(c(hi))]),_:1},8,["class"]),[[qt,!ve.modelValue&&!M.value]])],6)],2)],2)],16,iq)]),_:1},8,["visible","popper-class","teleported","transition"]))}});var aq=Ge(lq,[["__file","color-picker.vue"]]);const uq=Mt(aq),cq=ne({name:"ElContainer"}),dq=ne({...cq,props:{direction:{type:String}},setup(t){const n=t,o=uo(),i=Pe("container"),l=w(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:o&&o.default?o.default().some(u=>{const h=u.type.name;return h==="ElHeader"||h==="ElFooter"}):!1);return(a,u)=>(A(),Y("section",{class:N([c(i).b(),c(i).is("vertical",c(l))])},[Te(a.$slots,"default")],2))}});var hq=Ge(dq,[["__file","container.vue"]]);const pq=ne({name:"ElAside"}),fq=ne({...pq,props:{width:{type:String,default:null}},setup(t){const n=t,o=Pe("aside"),i=w(()=>n.width?o.cssVarBlock({width:n.width}):{});return(l,a)=>(A(),Y("aside",{class:N(c(o).b()),style:ct(c(i))},[Te(l.$slots,"default")],6))}});var oD=Ge(fq,[["__file","aside.vue"]]);const mq=ne({name:"ElFooter"}),gq=ne({...mq,props:{height:{type:String,default:null}},setup(t){const n=t,o=Pe("footer"),i=w(()=>n.height?o.cssVarBlock({height:n.height}):{});return(l,a)=>(A(),Y("footer",{class:N(c(o).b()),style:ct(c(i))},[Te(l.$slots,"default")],6))}});var sD=Ge(gq,[["__file","footer.vue"]]);const $q=ne({name:"ElHeader"}),vq=ne({...$q,props:{height:{type:String,default:null}},setup(t){const n=t,o=Pe("header"),i=w(()=>n.height?o.cssVarBlock({height:n.height}):{});return(l,a)=>(A(),Y("header",{class:N(c(o).b()),style:ct(c(i))},[Te(l.$slots,"default")],6))}});var iD=Ge(vq,[["__file","header.vue"]]);const _q=ne({name:"ElMain"}),bq=ne({..._q,setup(t){const n=Pe("main");return(o,i)=>(A(),Y("main",{class:N(c(n).b())},[Te(o.$slots,"default")],2))}});var rD=Ge(bq,[["__file","main.vue"]]);const Tq=Mt(hq,{Aside:oD,Footer:sD,Header:iD,Main:rD}),yq=On(oD),Eq=On(sD),Sq=On(iD),Cq=On(rD);var lD={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(qo,function(){return function(o,i){var l=i.prototype,a=l.format;l.format=function(u){var h=this,p=this.$locale();if(!this.isValid())return a.bind(this)(u);var f=this.$utils(),g=(u||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(m){switch(m){case"Q":return Math.ceil((h.$M+1)/3);case"Do":return p.ordinal(h.$D);case"gggg":return h.weekYear();case"GGGG":return h.isoWeekYear();case"wo":return p.ordinal(h.week(),"W");case"w":case"ww":return f.s(h.week(),m==="w"?1:2,"0");case"W":case"WW":return f.s(h.isoWeek(),m==="W"?1:2,"0");case"k":case"kk":return f.s(String(h.$H===0?24:h.$H),m==="k"?1:2,"0");case"X":return Math.floor(h.$d.getTime()/1e3);case"x":return h.$d.getTime();case"z":return"["+h.offsetName()+"]";case"zzz":return"["+h.offsetName("long")+"]";default:return m}});return a.bind(this)(g)}}})})(lD);var Iq=lD.exports;const wq=js(Iq);var aD={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(qo,function(){var o="week",i="year";return function(l,a,u){var h=a.prototype;h.week=function(p){if(p===void 0&&(p=null),p!==null)return this.add(7*(p-this.week()),"day");var f=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var g=u(this).startOf(i).add(1,i).date(f),m=u(this).endOf(o);if(g.isBefore(m))return 1}var _=u(this).startOf(i).date(f).startOf(o).subtract(1,"millisecond"),b=this.diff(_,o,!0);return b<0?u(this).startOf("week").week():Math.ceil(b)},h.weeks=function(p){return p===void 0&&(p=null),this.week(p)}}})})(aD);var kq=aD.exports;const Oq=js(kq);var uD={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(qo,function(){return function(o,i){i.prototype.weekYear=function(){var l=this.month(),a=this.week(),u=this.year();return a===1&&l===11?u+1:l===0&&a>=52?u-1:u}}})})(uD);var Rq=uD.exports;const Lq=js(Rq);var cD={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(qo,function(){return function(o,i,l){i.prototype.dayOfYear=function(a){var u=Math.round((l(this).startOf("day")-l(this).startOf("year"))/864e5)+1;return a==null?u:this.add(a-u,"day")}}})})(cD);var Aq=cD.exports;const Nq=js(Aq);var dD={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(qo,function(){return function(o,i){i.prototype.isSameOrAfter=function(l,a){return this.isSame(l,a)||this.isAfter(l,a)}}})})(dD);var Mq=dD.exports;const Dq=js(Mq);var hD={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(qo,function(){return function(o,i){i.prototype.isSameOrBefore=function(l,a){return this.isSame(l,a)||this.isBefore(l,a)}}})})(hD);var Pq=hD.exports;const xq=js(Pq),l0=Symbol(),Bq=Ve({...i0,type:{type:fe(String),default:"date"}}),Fq=["date","dates","year","years","month","week","range"],a0=Ve({disabledDate:{type:fe(Function)},date:{type:fe(Object),required:!0},minDate:{type:fe(Object)},maxDate:{type:fe(Object)},parsedValue:{type:fe([Object,Array])},rangeState:{type:fe(Object),default:()=>({endDate:null,selecting:!1})}}),pD=Ve({type:{type:fe(String),required:!0,values:lz},dateFormat:String,timeFormat:String}),fD=Ve({unlinkPanels:Boolean,parsedValue:{type:fe(Array)}}),u0=t=>({type:String,values:Fq,default:t}),Hq=Ve({...pD,parsedValue:{type:fe([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Vq=Ve({...a0,cellClassName:{type:fe(Function)},showWeekNumber:Boolean,selectionMode:u0("date")}),Uq=["changerange","pick","select"],iy=t=>{if(!tt(t))return!1;const[n,o]=t;return Dt.isDayjs(n)&&Dt.isDayjs(o)&&n.isSameOrBefore(o)},mD=(t,{lang:n,unit:o,unlinkPanels:i})=>{let l;if(tt(t)){let[a,u]=t.map(h=>Dt(h).locale(n));return i||(u=a.add(1,o)),[a,u]}else t?l=Dt(t):l=Dt();return l=l.locale(n),[l,l.add(1,o)]},Gq=(t,n,{columnIndexOffset:o,startDate:i,nextEndDate:l,now:a,unit:u,relativeDateGetter:h,setCellMetadata:p,setRowMetadata:f})=>{for(let g=0;g<t.row;g++){const m=n[g];for(let _=0;_<t.column;_++){let b=m[_+o];b||(b={row:g,column:_,type:"normal",inRange:!1,start:!1,end:!1});const T=g*t.column+_,$=h(T);b.dayjs=$,b.date=$.toDate(),b.timestamp=$.valueOf(),b.type="normal",b.inRange=!!(i&&$.isSameOrAfter(i,u)&&l&&$.isSameOrBefore(l,u))||!!(i&&$.isSameOrBefore(i,u)&&l&&$.isSameOrAfter(l,u)),i!=null&&i.isSameOrAfter(l)?(b.start=!!l&&$.isSame(l,u),b.end=i&&$.isSame(i,u)):(b.start=!!i&&$.isSame(i,u),b.end=!!l&&$.isSame(l,u)),$.isSame(a,u)&&(b.type="today"),p==null||p(b,{rowIndex:g,columnIndex:_}),m[_+o]=b}f==null||f(m)}},ry=(t="")=>["normal","today"].includes(t),Wq=(t,n)=>{const{lang:o}=jt(),i=V(),l=V(),a=V(),u=V(),h=V([[],[],[],[],[],[]]);let p=!1;const f=t.date.$locale().weekStart||7,g=t.date.locale("en").localeData().weekdaysShort().map(D=>D.toLowerCase()),m=w(()=>f>3?7-f:-f),_=w(()=>{const D=t.date.startOf("month");return D.subtract(D.day()||7,"day")}),b=w(()=>g.concat(g).slice(f,f+7)),T=w(()=>ON(c(C)).some(D=>D.isCurrent)),$=w(()=>{const D=t.date.startOf("month"),X=D.day()||7,oe=D.daysInMonth(),le=D.subtract(1,"month").daysInMonth();return{startOfMonthDay:X,dateCountOfMonth:oe,dateCountOfLastMonth:le}}),E=w(()=>t.selectionMode==="dates"?_s(t.parsedValue):[]),y=(D,{count:X,rowIndex:oe,columnIndex:le})=>{const{startOfMonthDay:me,dateCountOfMonth:Se,dateCountOfLastMonth:De}=c($),ce=c(m);if(oe>=0&&oe<=1){const ye=me+ce<0?7+me+ce:me+ce;if(le+oe*7>=ye)return D.text=X,!0;D.text=De-(ye-le%7)+1+oe*7,D.type="prev-month"}else return X<=Se?D.text=X:(D.text=X-Se,D.type="next-month"),!0;return!1},I=(D,{columnIndex:X,rowIndex:oe},le)=>{const{disabledDate:me,cellClassName:Se}=t,De=c(E),ce=y(D,{count:le,rowIndex:oe,columnIndex:X}),ye=D.dayjs.toDate();return D.selected=De.find(_e=>_e.isSame(D.dayjs,"day")),D.isSelected=!!D.selected,D.isCurrent=O(D),D.disabled=me==null?void 0:me(ye),D.customClass=Se==null?void 0:Se(ye),ce},S=D=>{if(t.selectionMode==="week"){const[X,oe]=t.showWeekNumber?[1,7]:[0,6],le=W(D[X+1]);D[X].inRange=le,D[X].start=le,D[oe].inRange=le,D[oe].end=le}},C=w(()=>{const{minDate:D,maxDate:X,rangeState:oe,showWeekNumber:le}=t,me=c(m),Se=c(h),De="day";let ce=1;if(le)for(let ye=0;ye<6;ye++)Se[ye][0]||(Se[ye][0]={type:"week",text:c(_).add(ye*7+1,De).week()});return Gq({row:6,column:7},Se,{startDate:D,columnIndexOffset:le?1:0,nextEndDate:oe.endDate||X||oe.selecting&&D||null,now:Dt().locale(c(o)).startOf(De),unit:De,relativeDateGetter:ye=>c(_).add(ye-me,De),setCellMetadata:(...ye)=>{I(...ye,ce)&&(ce+=1)},setRowMetadata:S}),Se});Me(()=>t.date,async()=>{var D;(D=c(i))!=null&&D.contains(document.activeElement)&&(await pt(),await R())});const R=async()=>{var D;return(D=c(l))==null?void 0:D.focus()},O=D=>t.selectionMode==="date"&&ry(D.type)&&P(D,t.parsedValue),P=(D,X)=>X?Dt(X).locale(c(o)).isSame(t.date.date(Number(D.text)),"day"):!1,M=(D,X)=>{const oe=D*7+(X-(t.showWeekNumber?1:0))-c(m);return c(_).add(oe,"day")},H=D=>{var X;if(!t.rangeState.selecting)return;let oe=D.target;if(oe.tagName==="SPAN"&&(oe=(X=oe.parentNode)==null?void 0:X.parentNode),oe.tagName==="DIV"&&(oe=oe.parentNode),oe.tagName!=="TD")return;const le=oe.parentNode.rowIndex-1,me=oe.cellIndex;c(C)[le][me].disabled||(le!==c(a)||me!==c(u))&&(a.value=le,u.value=me,n("changerange",{selecting:!0,endDate:M(le,me)}))},F=D=>!c(T)&&(D==null?void 0:D.text)===1&&D.type==="normal"||D.isCurrent,B=D=>{p||c(T)||t.selectionMode!=="date"||G(D,!0)},K=D=>{D.target.closest("td")&&(p=!0)},te=D=>{D.target.closest("td")&&(p=!1)},J=D=>{!t.rangeState.selecting||!t.minDate?(n("pick",{minDate:D,maxDate:null}),n("select",!0)):(D>=t.minDate?n("pick",{minDate:t.minDate,maxDate:D}):n("pick",{minDate:D,maxDate:t.minDate}),n("select",!1))},j=D=>{const X=D.week(),oe=`${D.year()}w${X}`;n("pick",{year:D.year(),week:X,value:oe,date:D.startOf("week")})},z=(D,X)=>{const oe=X?_s(t.parsedValue).filter(le=>(le==null?void 0:le.valueOf())!==D.valueOf()):_s(t.parsedValue).concat([D]);n("pick",oe)},G=(D,X=!1)=>{const oe=D.target.closest("td");if(!oe)return;const le=oe.parentNode.rowIndex-1,me=oe.cellIndex,Se=c(C)[le][me];if(Se.disabled||Se.type==="week")return;const De=M(le,me);switch(t.selectionMode){case"range":{J(De);break}case"date":{n("pick",De,X);break}case"week":{j(De);break}case"dates":{z(De,!!Se.selected);break}}},W=D=>{if(t.selectionMode!=="week")return!1;let X=t.date.startOf("day");if(D.type==="prev-month"&&(X=X.subtract(1,"month")),D.type==="next-month"&&(X=X.add(1,"month")),X=X.date(Number.parseInt(D.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const oe=(t.parsedValue.day()-f+7)%7-1;return t.parsedValue.subtract(oe,"day").isSame(X,"day")}return!1};return{WEEKS:b,rows:C,tbodyRef:i,currentCellRef:l,focus:R,isCurrent:O,isWeekActive:W,isSelectedCell:F,handlePickDate:G,handleMouseUp:te,handleMouseDown:K,handleMouseMove:H,handleFocus:B}},zq=(t,{isCurrent:n,isWeekActive:o})=>{const i=Pe("date-table"),{t:l}=jt(),a=w(()=>[i.b(),{"is-week-mode":t.selectionMode==="week"}]),u=w(()=>l("el.datepicker.dateTablePrompt")),h=w(()=>l("el.datepicker.week"));return{tableKls:a,tableLabel:u,weekLabel:h,getCellClasses:g=>{const m=[];return ry(g.type)&&!g.disabled?(m.push("available"),g.type==="today"&&m.push("today")):m.push(g.type),n(g)&&m.push("current"),g.inRange&&(ry(g.type)||t.selectionMode==="week")&&(m.push("in-range"),g.start&&m.push("start-date"),g.end&&m.push("end-date")),g.disabled&&m.push("disabled"),g.selected&&m.push("selected"),g.customClass&&m.push(g.customClass),m.join(" ")},getRowKls:g=>[i.e("row"),{current:o(g)}],t:l}},Kq=Ve({cell:{type:fe(Object)}});var Xq=ne({name:"ElDatePickerCell",props:Kq,setup(t){const n=Pe("date-table-cell"),{slots:o}=it(l0);return()=>{const{cell:i}=t;return Te(o,"default",{...i},()=>[ie("div",{class:n.b()},[ie("span",{class:n.e("text")},[i==null?void 0:i.text])])])}}});const Yq=["aria-label"],jq={key:0,scope:"col"},qq=["aria-label"],Jq=["aria-current","aria-selected","tabindex"],Zq=ne({__name:"basic-date-table",props:Vq,emits:Uq,setup(t,{expose:n,emit:o}){const i=t,{WEEKS:l,rows:a,tbodyRef:u,currentCellRef:h,focus:p,isCurrent:f,isWeekActive:g,isSelectedCell:m,handlePickDate:_,handleMouseUp:b,handleMouseDown:T,handleMouseMove:$,handleFocus:E}=Wq(i,o),{tableLabel:y,tableKls:I,weekLabel:S,getCellClasses:C,getRowKls:R,t:O}=zq(i,{isCurrent:f,isWeekActive:g});return n({focus:p}),(P,M)=>(A(),Y("table",{"aria-label":c(y),class:N(c(I)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:M[1]||(M[1]=(...H)=>c(_)&&c(_)(...H)),onMousemove:M[2]||(M[2]=(...H)=>c($)&&c($)(...H)),onMousedown:M[3]||(M[3]=_t((...H)=>c(T)&&c(T)(...H),["prevent"])),onMouseup:M[4]||(M[4]=(...H)=>c(b)&&c(b)(...H))},[Q("tbody",{ref_key:"tbodyRef",ref:u},[Q("tr",null,[P.showWeekNumber?(A(),Y("th",jq,We(c(S)),1)):$e("v-if",!0),(A(!0),Y(dt,null,Kt(c(l),(H,F)=>(A(),Y("th",{key:F,"aria-label":c(O)("el.datepicker.weeksFull."+H),scope:"col"},We(c(O)("el.datepicker.weeks."+H)),9,qq))),128))]),(A(!0),Y(dt,null,Kt(c(a),(H,F)=>(A(),Y("tr",{key:F,class:N(c(R)(H[1]))},[(A(!0),Y(dt,null,Kt(H,(B,K)=>(A(),Y("td",{key:`${F}.${K}`,ref_for:!0,ref:te=>c(m)(B)&&(h.value=te),class:N(c(C)(B)),"aria-current":B.isCurrent?"date":void 0,"aria-selected":B.isCurrent,tabindex:c(m)(B)?0:-1,onFocus:M[0]||(M[0]=(...te)=>c(E)&&c(E)(...te))},[ie(c(Xq),{cell:B},null,8,["cell"])],42,Jq))),128))],2))),128))],512)],42,Yq))}});var ly=Ge(Zq,[["__file","basic-date-table.vue"]]);const Qq=Ve({...a0,selectionMode:u0("month")}),eJ=["aria-label"],tJ=["aria-selected","aria-label","tabindex","onKeydown"],nJ={class:"cell"},oJ=ne({__name:"basic-month-table",props:Qq,emits:["changerange","pick","select"],setup(t,{expose:n,emit:o}){const i=t,l=(C,R,O)=>{const P=Dt().locale(O).startOf("month").month(R).year(C),M=P.daysInMonth();return vl(M).map(H=>P.add(H,"day").toDate())},a=Pe("month-table"),{t:u,lang:h}=jt(),p=V(),f=V(),g=V(i.date.locale("en").localeData().monthsShort().map(C=>C.toLowerCase())),m=V([[],[],[]]),_=V(),b=V(),T=w(()=>{var C,R;const O=m.value,P=Dt().locale(h.value).startOf("month");for(let M=0;M<3;M++){const H=O[M];for(let F=0;F<4;F++){const B=H[F]||(H[F]={row:M,column:F,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});B.type="normal";const K=M*4+F,te=i.date.startOf("year").month(K),J=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;B.inRange=!!(i.minDate&&te.isSameOrAfter(i.minDate,"month")&&J&&te.isSameOrBefore(J,"month"))||!!(i.minDate&&te.isSameOrBefore(i.minDate,"month")&&J&&te.isSameOrAfter(J,"month")),(C=i.minDate)!=null&&C.isSameOrAfter(J)?(B.start=!!(J&&te.isSame(J,"month")),B.end=i.minDate&&te.isSame(i.minDate,"month")):(B.start=!!(i.minDate&&te.isSame(i.minDate,"month")),B.end=!!(J&&te.isSame(J,"month"))),P.isSame(te)&&(B.type="today"),B.text=K,B.disabled=((R=i.disabledDate)==null?void 0:R.call(i,te.toDate()))||!1}}return O}),$=()=>{var C;(C=f.value)==null||C.focus()},E=C=>{const R={},O=i.date.year(),P=new Date,M=C.text;return R.disabled=i.disabledDate?l(O,M,h.value).every(i.disabledDate):!1,R.current=_s(i.parsedValue).findIndex(H=>Dt.isDayjs(H)&&H.year()===O&&H.month()===M)>=0,R.today=P.getFullYear()===O&&P.getMonth()===M,C.inRange&&(R["in-range"]=!0,C.start&&(R["start-date"]=!0),C.end&&(R["end-date"]=!0)),R},y=C=>{const R=i.date.year(),O=C.text;return _s(i.date).findIndex(P=>P.year()===R&&P.month()===O)>=0},I=C=>{var R;if(!i.rangeState.selecting)return;let O=C.target;if(O.tagName==="SPAN"&&(O=(R=O.parentNode)==null?void 0:R.parentNode),O.tagName==="DIV"&&(O=O.parentNode),O.tagName!=="TD")return;const P=O.parentNode.rowIndex,M=O.cellIndex;T.value[P][M].disabled||(P!==_.value||M!==b.value)&&(_.value=P,b.value=M,o("changerange",{selecting:!0,endDate:i.date.startOf("year").month(P*4+M)}))},S=C=>{var R;const O=(R=C.target)==null?void 0:R.closest("td");if((O==null?void 0:O.tagName)!=="TD"||Vs(O,"disabled"))return;const P=O.cellIndex,H=O.parentNode.rowIndex*4+P,F=i.date.startOf("year").month(H);i.selectionMode==="range"?i.rangeState.selecting?(i.minDate&&F>=i.minDate?o("pick",{minDate:i.minDate,maxDate:F}):o("pick",{minDate:F,maxDate:i.minDate}),o("select",!1)):(o("pick",{minDate:F,maxDate:null}),o("select",!0)):o("pick",H)};return Me(()=>i.date,async()=>{var C,R;(C=p.value)!=null&&C.contains(document.activeElement)&&(await pt(),(R=f.value)==null||R.focus())}),n({focus:$}),(C,R)=>(A(),Y("table",{role:"grid","aria-label":c(u)("el.datepicker.monthTablePrompt"),class:N(c(a).b()),onClick:S,onMousemove:I},[Q("tbody",{ref_key:"tbodyRef",ref:p},[(A(!0),Y(dt,null,Kt(c(T),(O,P)=>(A(),Y("tr",{key:P},[(A(!0),Y(dt,null,Kt(O,(M,H)=>(A(),Y("td",{key:H,ref_for:!0,ref:F=>y(M)&&(f.value=F),class:N(E(M)),"aria-selected":`${y(M)}`,"aria-label":c(u)(`el.datepicker.month${+M.text+1}`),tabindex:y(M)?0:-1,onKeydown:[ln(_t(S,["prevent","stop"]),["space"]),ln(_t(S,["prevent","stop"]),["enter"])]},[Q("div",null,[Q("span",nJ,We(c(u)("el.datepicker.months."+g.value[M.text])),1)])],42,tJ))),128))]))),128))],512)],42,eJ))}});var ay=Ge(oJ,[["__file","basic-month-table.vue"]]);const{date:sJ,disabledDate:iJ,parsedValue:rJ}=a0,lJ=Ve({date:sJ,disabledDate:iJ,parsedValue:rJ,selectionMode:u0("year")}),aJ=["aria-label"],uJ=["aria-selected","tabindex","onKeydown"],cJ={class:"cell"},dJ={key:1},hJ=ne({__name:"basic-year-table",props:lJ,emits:["pick"],setup(t,{expose:n,emit:o}){const i=t,l=($,E)=>{const y=Dt(String($)).locale(E).startOf("year"),S=y.endOf("year").dayOfYear();return vl(S).map(C=>y.add(C,"day").toDate())},a=Pe("year-table"),{t:u,lang:h}=jt(),p=V(),f=V(),g=w(()=>Math.floor(i.date.year()/10)*10),m=()=>{var $;($=f.value)==null||$.focus()},_=$=>{const E={},y=Dt().locale(h.value);return E.disabled=i.disabledDate?l($,h.value).every(i.disabledDate):!1,E.current=_s(i.parsedValue).findIndex(I=>I.year()===$)>=0,E.today=y.year()===$,E},b=$=>$===g.value&&i.date.year()<g.value&&i.date.year()>g.value+9||_s(i.date).findIndex(E=>E.year()===$)>=0||_s(i.parsedValue).findIndex(E=>(E==null?void 0:E.year())===$)>=0,T=$=>{const y=$.target.closest("td");if(y&&y.textContent){if(Vs(y,"disabled"))return;const I=y.textContent||y.innerText;if(i.selectionMode==="years"){if($.type==="keydown"){o("pick",_s(i.parsedValue),!1);return}const S=Vs(y,"current")?_s(i.parsedValue).filter(C=>(C==null?void 0:C.year())!==Number(I)):_s(i.parsedValue).concat([Dt(I)]);o("pick",S)}else o("pick",Number(I))}};return Me(()=>i.date,async()=>{var $,E;($=p.value)!=null&&$.contains(document.activeElement)&&(await pt(),(E=f.value)==null||E.focus())}),n({focus:m}),($,E)=>(A(),Y("table",{role:"grid","aria-label":c(u)("el.datepicker.yearTablePrompt"),class:N(c(a).b()),onClick:T},[Q("tbody",{ref_key:"tbodyRef",ref:p},[(A(),Y(dt,null,Kt(3,(y,I)=>Q("tr",{key:I},[(A(),Y(dt,null,Kt(4,(S,C)=>(A(),Y(dt,{key:I+"_"+C},[I*4+C<10?(A(),Y("td",{key:0,ref_for:!0,ref:R=>b(c(g)+I*4+C)&&(f.value=R),class:N(["available",_(c(g)+I*4+C)]),"aria-selected":`${b(c(g)+I*4+C)}`,tabindex:b(c(g)+I*4+C)?0:-1,onKeydown:[ln(_t(T,["prevent","stop"]),["space"]),ln(_t(T,["prevent","stop"]),["enter"])]},[Q("div",null,[Q("span",cJ,We(c(g)+I*4+C),1)])],42,uJ)):(A(),Y("td",dJ))],64))),64))])),64))],512)],10,aJ))}});var pJ=Ge(hJ,[["__file","basic-year-table.vue"]]);const fJ=["onClick"],mJ=["aria-label"],gJ=["aria-label"],$J=["aria-label"],vJ=["aria-label"],_J=ne({__name:"panel-date-pick",props:Hq,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:n}){const o=t,i=(Le,Ye,L)=>!0,l=Pe("picker-panel"),a=Pe("date-picker"),u=Ga(),h=uo(),{t:p,lang:f}=jt(),g=it("EP_PICKER_BASE"),m=it(Vg),{shortcuts:_,disabledDate:b,cellClassName:T,defaultTime:$}=g.props,E=sn(g.props,"defaultValue"),y=V(),I=V(Dt().locale(f.value)),S=V(!1);let C=!1;const R=w(()=>Dt($).locale(f.value)),O=w(()=>I.value.month()),P=w(()=>I.value.year()),M=V([]),H=V(null),F=V(null),B=Le=>M.value.length>0?i(Le,M.value,o.format||"HH:mm:ss"):!0,K=Le=>$&&!de.value&&!S.value&&!C?R.value.year(Le.year()).month(Le.month()).date(Le.date()):ce.value?Le.millisecond(0):Le.startOf("day"),te=(Le,...Ye)=>{if(!Le)n("pick",Le,...Ye);else if(tt(Le)){const L=Le.map(K);n("pick",L,...Ye)}else n("pick",K(Le),...Ye);H.value=null,F.value=null,S.value=!1,C=!1},J=async(Le,Ye)=>{if(X.value==="date"){Le=Le;let L=o.parsedValue?o.parsedValue.year(Le.year()).month(Le.month()).date(Le.date()):Le;B(L)||(L=M.value[0][0].year(Le.year()).month(Le.month()).date(Le.date())),I.value=L,te(L,ce.value||Ye),o.type==="datetime"&&(await pt(),lt())}else X.value==="week"?te(Le.date):X.value==="dates"&&te(Le,!0)},j=Le=>{const Ye=Le?"add":"subtract";I.value=I.value[Ye](1,"month"),st("month")},z=Le=>{const Ye=I.value,L=Le?"add":"subtract";I.value=G.value==="year"?Ye[L](10,"year"):Ye[L](1,"year"),st("year")},G=V("date"),W=w(()=>{const Le=p("el.datepicker.year");if(G.value==="year"){const Ye=Math.floor(P.value/10)*10;return Le?`${Ye} ${Le} - ${Ye+9} ${Le}`:`${Ye} - ${Ye+9}`}return`${P.value} ${Le}`}),D=Le=>{const Ye=vt(Le.value)?Le.value():Le.value;if(Ye){C=!0,te(Dt(Ye).locale(f.value));return}Le.onClick&&Le.onClick({attrs:u,slots:h,emit:n})},X=w(()=>{const{type:Le}=o;return["week","month","year","years","dates"].includes(Le)?Le:"date"}),oe=w(()=>X.value==="date"?G.value:X.value),le=w(()=>!!_.length),me=async Le=>{I.value=I.value.startOf("month").month(Le),X.value==="month"?te(I.value,!1):(G.value="date",["month","year","date","week"].includes(X.value)&&(te(I.value,!0),await pt(),lt())),st("month")},Se=async(Le,Ye)=>{X.value==="year"?(I.value=I.value.startOf("year").year(Le),te(I.value,!1)):X.value==="years"?te(Le,Ye??!0):(I.value=I.value.year(Le),G.value="month",["month","year","date","week"].includes(X.value)&&(te(I.value,!0),await pt(),lt())),st("year")},De=async Le=>{G.value=Le,await pt(),lt()},ce=w(()=>o.type==="datetime"||o.type==="datetimerange"),ye=w(()=>{const Le=ce.value||X.value==="dates",Ye=X.value==="years",L=G.value==="date",x=G.value==="year";return Le&&L||Ye&&x}),_e=w(()=>b?o.parsedValue?tt(o.parsedValue)?b(o.parsedValue[0].toDate()):b(o.parsedValue.toDate()):!0:!1),Ke=()=>{if(X.value==="dates"||X.value==="years")te(o.parsedValue);else{let Le=o.parsedValue;if(!Le){const Ye=Dt($).locale(f.value),L=Qe();Le=Ye.year(L.year()).month(L.month()).date(L.date())}I.value=Le,te(Le)}},ve=w(()=>b?b(Dt().locale(f.value).toDate()):!1),Ae=()=>{const Ye=Dt().locale(f.value).toDate();S.value=!0,(!b||!b(Ye))&&B(Ye)&&(I.value=Dt().locale(f.value),te(I.value))},Fe=w(()=>o.timeFormat||_M(o.format)),ae=w(()=>o.dateFormat||vM(o.format)),de=w(()=>{if(F.value)return F.value;if(!(!o.parsedValue&&!E.value))return(o.parsedValue||I.value).format(Fe.value)}),Re=w(()=>{if(H.value)return H.value;if(!(!o.parsedValue&&!E.value))return(o.parsedValue||I.value).format(ae.value)}),Be=V(!1),Ee=()=>{Be.value=!0},Ne=()=>{Be.value=!1},He=Le=>({hour:Le.hour(),minute:Le.minute(),second:Le.second(),year:Le.year(),month:Le.month(),date:Le.date()}),ue=(Le,Ye,L)=>{const{hour:x,minute:ee,second:pe}=He(Le),re=o.parsedValue?o.parsedValue.hour(x).minute(ee).second(pe):Le;I.value=re,te(I.value,!0),L||(Be.value=Ye)},Ie=Le=>{const Ye=Dt(Le,Fe.value).locale(f.value);if(Ye.isValid()&&B(Ye)){const{year:L,month:x,date:ee}=He(I.value);I.value=Ye.year(L).month(x).date(ee),F.value=null,Be.value=!1,te(I.value,!0)}},ke=Le=>{const Ye=Dt(Le,ae.value).locale(f.value);if(Ye.isValid()){if(b&&b(Ye.toDate()))return;const{hour:L,minute:x,second:ee}=He(I.value);I.value=Ye.hour(L).minute(x).second(ee),H.value=null,te(I.value,!0)}},Ue=Le=>Dt.isDayjs(Le)&&Le.isValid()&&(b?!b(Le.toDate()):!0),ot=Le=>tt(Le)?Le.map(Ye=>Ye.format(o.format)):Le.format(o.format),q=Le=>Dt(Le,o.format).locale(f.value),Qe=()=>{const Le=Dt(E.value).locale(f.value);if(!E.value){const Ye=R.value;return Dt().hour(Ye.hour()).minute(Ye.minute()).second(Ye.second()).locale(f.value)}return Le},lt=async()=>{var Le;["week","month","year","date"].includes(X.value)&&((Le=y.value)==null||Le.focus(),X.value==="week"&&Tt(mt.down))},bt=Le=>{const{code:Ye}=Le;[mt.up,mt.down,mt.left,mt.right,mt.home,mt.end,mt.pageUp,mt.pageDown].includes(Ye)&&(Tt(Ye),Le.stopPropagation(),Le.preventDefault()),[mt.enter,mt.space,mt.numpadEnter].includes(Ye)&&H.value===null&&F.value===null&&(Le.preventDefault(),te(I.value,!1))},Tt=Le=>{var Ye;const{up:L,down:x,left:ee,right:pe,home:re,end:je,pageUp:Et,pageDown:U}=mt,se={year:{[L]:-4,[x]:4,[ee]:-1,[pe]:1,offset:(we,et)=>we.setFullYear(we.getFullYear()+et)},month:{[L]:-4,[x]:4,[ee]:-1,[pe]:1,offset:(we,et)=>we.setMonth(we.getMonth()+et)},week:{[L]:-1,[x]:1,[ee]:-1,[pe]:1,offset:(we,et)=>we.setDate(we.getDate()+et*7)},date:{[L]:-7,[x]:7,[ee]:-1,[pe]:1,[re]:we=>-we.getDay(),[je]:we=>-we.getDay()+6,[Et]:we=>-new Date(we.getFullYear(),we.getMonth(),0).getDate(),[U]:we=>new Date(we.getFullYear(),we.getMonth()+1,0).getDate(),offset:(we,et)=>we.setDate(we.getDate()+et)}},Ce=I.value.toDate();for(;Math.abs(I.value.diff(Ce,"year",!0))<1;){const we=se[oe.value];if(!we)return;if(we.offset(Ce,vt(we[Le])?we[Le](Ce):(Ye=we[Le])!=null?Ye:0),b&&b(Ce))break;const et=Dt(Ce).locale(f.value);I.value=et,n("pick",et,!0);break}},st=Le=>{n("panel-change",I.value.toDate(),Le,G.value)};return Me(()=>X.value,Le=>{if(["month","year"].includes(Le)){G.value=Le;return}else if(Le==="years"){G.value="year";return}G.value="date"},{immediate:!0}),Me(()=>G.value,()=>{m==null||m.updatePopper()}),Me(()=>E.value,Le=>{Le&&(I.value=Qe())},{immediate:!0}),Me(()=>o.parsedValue,Le=>{if(Le){if(X.value==="dates"||X.value==="years"||Array.isArray(Le))return;I.value=Le}else I.value=Qe()},{immediate:!0}),n("set-picker-option",["isValidValue",Ue]),n("set-picker-option",["formatToString",ot]),n("set-picker-option",["parseUserInput",q]),n("set-picker-option",["handleFocusPicker",lt]),(Le,Ye)=>(A(),Y("div",{class:N([c(l).b(),c(a).b(),{"has-sidebar":Le.$slots.sidebar||c(le),"has-time":c(ce)}])},[Q("div",{class:N(c(l).e("body-wrapper"))},[Te(Le.$slots,"sidebar",{class:N(c(l).e("sidebar"))}),c(le)?(A(),Y("div",{key:0,class:N(c(l).e("sidebar"))},[(A(!0),Y(dt,null,Kt(c(_),(L,x)=>(A(),Y("button",{key:x,type:"button",class:N(c(l).e("shortcut")),onClick:ee=>D(L)},We(L.text),11,fJ))),128))],2)):$e("v-if",!0),Q("div",{class:N(c(l).e("body"))},[c(ce)?(A(),Y("div",{key:0,class:N(c(a).e("time-header"))},[Q("span",{class:N(c(a).e("editor-wrap"))},[ie(c(Do),{placeholder:c(p)("el.datepicker.selectDate"),"model-value":c(Re),size:"small","validate-event":!1,onInput:Ye[0]||(Ye[0]=L=>H.value=L),onChange:ke},null,8,["placeholder","model-value"])],2),Ot((A(),Y("span",{class:N(c(a).e("editor-wrap"))},[ie(c(Do),{placeholder:c(p)("el.datepicker.selectTime"),"model-value":c(de),size:"small","validate-event":!1,onFocus:Ee,onInput:Ye[1]||(Ye[1]=L=>F.value=L),onChange:Ie},null,8,["placeholder","model-value"]),ie(c(tg),{visible:Be.value,format:c(Fe),"parsed-value":I.value,onPick:ue},null,8,["visible","format","parsed-value"])],2)),[[c(kr),Ne]])],2)):$e("v-if",!0),Ot(Q("div",{class:N([c(a).e("header"),(G.value==="year"||G.value==="month")&&c(a).e("header--bordered")])},[Q("span",{class:N(c(a).e("prev-btn"))},[Q("button",{type:"button","aria-label":c(p)("el.datepicker.prevYear"),class:N(["d-arrow-left",c(l).e("icon-btn")]),onClick:Ye[2]||(Ye[2]=L=>z(!1))},[ie(c(at),null,{default:he(()=>[ie(c(bc))]),_:1})],10,mJ),Ot(Q("button",{type:"button","aria-label":c(p)("el.datepicker.prevMonth"),class:N([c(l).e("icon-btn"),"arrow-left"]),onClick:Ye[3]||(Ye[3]=L=>j(!1))},[ie(c(at),null,{default:he(()=>[ie(c(Sl))]),_:1})],10,gJ),[[qt,G.value==="date"]])],2),Q("span",{role:"button",class:N(c(a).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Ye[4]||(Ye[4]=ln(L=>De("year"),["enter"])),onClick:Ye[5]||(Ye[5]=L=>De("year"))},We(c(W)),35),Ot(Q("span",{role:"button","aria-live":"polite",tabindex:"0",class:N([c(a).e("header-label"),{active:G.value==="month"}]),onKeydown:Ye[6]||(Ye[6]=ln(L=>De("month"),["enter"])),onClick:Ye[7]||(Ye[7]=L=>De("month"))},We(c(p)(`el.datepicker.month${c(O)+1}`)),35),[[qt,G.value==="date"]]),Q("span",{class:N(c(a).e("next-btn"))},[Ot(Q("button",{type:"button","aria-label":c(p)("el.datepicker.nextMonth"),class:N([c(l).e("icon-btn"),"arrow-right"]),onClick:Ye[8]||(Ye[8]=L=>j(!0))},[ie(c(at),null,{default:he(()=>[ie(c(Yo))]),_:1})],10,$J),[[qt,G.value==="date"]]),Q("button",{type:"button","aria-label":c(p)("el.datepicker.nextYear"),class:N([c(l).e("icon-btn"),"d-arrow-right"]),onClick:Ye[9]||(Ye[9]=L=>z(!0))},[ie(c(at),null,{default:he(()=>[ie(c(Tc))]),_:1})],10,vJ)],2)],2),[[qt,G.value!=="time"]]),Q("div",{class:N(c(l).e("content")),onKeydown:bt},[G.value==="date"?(A(),be(ly,{key:0,ref_key:"currentViewRef",ref:y,"selection-mode":c(X),date:I.value,"parsed-value":Le.parsedValue,"disabled-date":c(b),"cell-class-name":c(T),onPick:J},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):$e("v-if",!0),G.value==="year"?(A(),be(pJ,{key:1,ref_key:"currentViewRef",ref:y,"selection-mode":c(X),date:I.value,"disabled-date":c(b),"parsed-value":Le.parsedValue,onPick:Se},null,8,["selection-mode","date","disabled-date","parsed-value"])):$e("v-if",!0),G.value==="month"?(A(),be(ay,{key:2,ref_key:"currentViewRef",ref:y,date:I.value,"parsed-value":Le.parsedValue,"disabled-date":c(b),onPick:me},null,8,["date","parsed-value","disabled-date"])):$e("v-if",!0)],34)],2)],2),Ot(Q("div",{class:N(c(l).e("footer"))},[Ot(ie(c(lo),{text:"",size:"small",class:N(c(l).e("link-btn")),disabled:c(ve),onClick:Ae},{default:he(()=>[zt(We(c(p)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[qt,c(X)!=="dates"&&c(X)!=="years"]]),ie(c(lo),{plain:"",size:"small",class:N(c(l).e("link-btn")),disabled:c(_e),onClick:Ke},{default:he(()=>[zt(We(c(p)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[qt,c(ye)]])],2))}});var bJ=Ge(_J,[["__file","panel-date-pick.vue"]]);const TJ=Ve({...pD,...fD}),yJ=t=>{const{emit:n}=Nt(),o=Ga(),i=uo();return a=>{const u=vt(a.value)?a.value():a.value;if(u){n("pick",[Dt(u[0]).locale(t.value),Dt(u[1]).locale(t.value)]);return}a.onClick&&a.onClick({attrs:o,slots:i,emit:n})}},gD=(t,{defaultValue:n,leftDate:o,rightDate:i,unit:l,onParsedValueChanged:a})=>{const{emit:u}=Nt(),{pickerNs:h}=it(l0),p=Pe("date-range-picker"),{t:f,lang:g}=jt(),m=yJ(g),_=V(),b=V(),T=V({endDate:null,selecting:!1}),$=S=>{T.value=S},E=(S=!1)=>{const C=c(_),R=c(b);iy([C,R])&&u("pick",[C,R],S)},y=S=>{T.value.selecting=S,S||(T.value.endDate=null)},I=()=>{const[S,C]=mD(c(n),{lang:c(g),unit:l,unlinkPanels:t.unlinkPanels});_.value=void 0,b.value=void 0,o.value=S,i.value=C};return Me(n,S=>{S&&I()},{immediate:!0}),Me(()=>t.parsedValue,S=>{if(tt(S)&&S.length===2){const[C,R]=S;_.value=C,o.value=C,b.value=R,a(c(_),c(b))}else I()},{immediate:!0}),{minDate:_,maxDate:b,rangeState:T,lang:g,ppNs:h,drpNs:p,handleChangeRange:$,handleRangeConfirm:E,handleShortcutClick:m,onSelect:y,t:f}},EJ=["onClick"],SJ=["aria-label"],CJ=["aria-label"],IJ=["disabled","aria-label"],wJ=["disabled","aria-label"],kJ=["disabled","aria-label"],OJ=["disabled","aria-label"],RJ=["aria-label"],LJ=["aria-label"],om="month",AJ=ne({__name:"panel-date-range",props:TJ,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:n}){const o=t,i=it("EP_PICKER_BASE"),{disabledDate:l,cellClassName:a,defaultTime:u,clearable:h}=i.props,p=sn(i.props,"format"),f=sn(i.props,"shortcuts"),g=sn(i.props,"defaultValue"),{lang:m}=jt(),_=V(Dt().locale(m.value)),b=V(Dt().locale(m.value).add(1,om)),{minDate:T,maxDate:$,rangeState:E,ppNs:y,drpNs:I,handleChangeRange:S,handleRangeConfirm:C,handleShortcutClick:R,onSelect:O,t:P}=gD(o,{defaultValue:g,leftDate:_,rightDate:b,unit:om,onParsedValueChanged:Ye}),M=V({min:null,max:null}),H=V({min:null,max:null}),F=w(()=>`${_.value.year()} ${P("el.datepicker.year")} ${P(`el.datepicker.month${_.value.month()+1}`)}`),B=w(()=>`${b.value.year()} ${P("el.datepicker.year")} ${P(`el.datepicker.month${b.value.month()+1}`)}`),K=w(()=>_.value.year()),te=w(()=>_.value.month()),J=w(()=>b.value.year()),j=w(()=>b.value.month()),z=w(()=>!!f.value.length),G=w(()=>M.value.min!==null?M.value.min:T.value?T.value.format(le.value):""),W=w(()=>M.value.max!==null?M.value.max:$.value||T.value?($.value||T.value).format(le.value):""),D=w(()=>H.value.min!==null?H.value.min:T.value?T.value.format(oe.value):""),X=w(()=>H.value.max!==null?H.value.max:$.value||T.value?($.value||T.value).format(oe.value):""),oe=w(()=>o.timeFormat||_M(p.value)),le=w(()=>o.dateFormat||vM(p.value)),me=L=>iy(L)&&(l?!l(L[0].toDate())&&!l(L[1].toDate()):!0),Se=()=>{_.value=_.value.subtract(1,"year"),o.unlinkPanels||(b.value=_.value.add(1,"month")),Fe("year")},De=()=>{_.value=_.value.subtract(1,"month"),o.unlinkPanels||(b.value=_.value.add(1,"month")),Fe("month")},ce=()=>{o.unlinkPanels?b.value=b.value.add(1,"year"):(_.value=_.value.add(1,"year"),b.value=_.value.add(1,"month")),Fe("year")},ye=()=>{o.unlinkPanels?b.value=b.value.add(1,"month"):(_.value=_.value.add(1,"month"),b.value=_.value.add(1,"month")),Fe("month")},_e=()=>{_.value=_.value.add(1,"year"),Fe("year")},Ke=()=>{_.value=_.value.add(1,"month"),Fe("month")},ve=()=>{b.value=b.value.subtract(1,"year"),Fe("year")},Ae=()=>{b.value=b.value.subtract(1,"month"),Fe("month")},Fe=L=>{n("panel-change",[_.value.toDate(),b.value.toDate()],L)},ae=w(()=>{const L=(te.value+1)%12,x=te.value+1>=12?1:0;return o.unlinkPanels&&new Date(K.value+x,L)<new Date(J.value,j.value)}),de=w(()=>o.unlinkPanels&&J.value*12+j.value-(K.value*12+te.value+1)>=12),Re=w(()=>!(T.value&&$.value&&!E.value.selecting&&iy([T.value,$.value]))),Be=w(()=>o.type==="datetime"||o.type==="datetimerange"),Ee=(L,x)=>{if(L)return u?Dt(u[x]||u).locale(m.value).year(L.year()).month(L.month()).date(L.date()):L},Ne=(L,x=!0)=>{const ee=L.minDate,pe=L.maxDate,re=Ee(ee,0),je=Ee(pe,1);$.value===je&&T.value===re||(n("calendar-change",[ee.toDate(),pe&&pe.toDate()]),$.value=je,T.value=re,!(!x||Be.value)&&C())},He=V(!1),ue=V(!1),Ie=()=>{He.value=!1},ke=()=>{ue.value=!1},Ue=(L,x)=>{M.value[x]=L;const ee=Dt(L,le.value).locale(m.value);if(ee.isValid()){if(l&&l(ee.toDate()))return;x==="min"?(_.value=ee,T.value=(T.value||_.value).year(ee.year()).month(ee.month()).date(ee.date()),!o.unlinkPanels&&(!$.value||$.value.isBefore(T.value))&&(b.value=ee.add(1,"month"),$.value=T.value.add(1,"month"))):(b.value=ee,$.value=($.value||b.value).year(ee.year()).month(ee.month()).date(ee.date()),!o.unlinkPanels&&(!T.value||T.value.isAfter($.value))&&(_.value=ee.subtract(1,"month"),T.value=$.value.subtract(1,"month")))}},ot=(L,x)=>{M.value[x]=null},q=(L,x)=>{H.value[x]=L;const ee=Dt(L,oe.value).locale(m.value);ee.isValid()&&(x==="min"?(He.value=!0,T.value=(T.value||_.value).hour(ee.hour()).minute(ee.minute()).second(ee.second())):(ue.value=!0,$.value=($.value||b.value).hour(ee.hour()).minute(ee.minute()).second(ee.second()),b.value=$.value))},Qe=(L,x)=>{H.value[x]=null,x==="min"?(_.value=T.value,He.value=!1,(!$.value||$.value.isBefore(T.value))&&($.value=T.value)):(b.value=$.value,ue.value=!1,$.value&&$.value.isBefore(T.value)&&(T.value=$.value))},lt=(L,x,ee)=>{H.value.min||(L&&(_.value=L,T.value=(T.value||_.value).hour(L.hour()).minute(L.minute()).second(L.second())),ee||(He.value=x),(!$.value||$.value.isBefore(T.value))&&($.value=T.value,b.value=L))},bt=(L,x,ee)=>{H.value.max||(L&&(b.value=L,$.value=($.value||b.value).hour(L.hour()).minute(L.minute()).second(L.second())),ee||(ue.value=x),$.value&&$.value.isBefore(T.value)&&(T.value=$.value))},Tt=()=>{_.value=mD(c(g),{lang:c(m),unit:"month",unlinkPanels:o.unlinkPanels})[0],b.value=_.value.add(1,"month"),$.value=void 0,T.value=void 0,n("pick",null)},st=L=>tt(L)?L.map(x=>x.format(p.value)):L.format(p.value),Le=L=>tt(L)?L.map(x=>Dt(x,p.value).locale(m.value)):Dt(L,p.value).locale(m.value);function Ye(L,x){if(o.unlinkPanels&&x){const ee=(L==null?void 0:L.year())||0,pe=(L==null?void 0:L.month())||0,re=x.year(),je=x.month();b.value=ee===re&&pe===je?x.add(1,om):x}else b.value=_.value.add(1,om),x&&(b.value=b.value.hour(x.hour()).minute(x.minute()).second(x.second()))}return n("set-picker-option",["isValidValue",me]),n("set-picker-option",["parseUserInput",Le]),n("set-picker-option",["formatToString",st]),n("set-picker-option",["handleClear",Tt]),(L,x)=>(A(),Y("div",{class:N([c(y).b(),c(I).b(),{"has-sidebar":L.$slots.sidebar||c(z),"has-time":c(Be)}])},[Q("div",{class:N(c(y).e("body-wrapper"))},[Te(L.$slots,"sidebar",{class:N(c(y).e("sidebar"))}),c(z)?(A(),Y("div",{key:0,class:N(c(y).e("sidebar"))},[(A(!0),Y(dt,null,Kt(c(f),(ee,pe)=>(A(),Y("button",{key:pe,type:"button",class:N(c(y).e("shortcut")),onClick:re=>c(R)(ee)},We(ee.text),11,EJ))),128))],2)):$e("v-if",!0),Q("div",{class:N(c(y).e("body"))},[c(Be)?(A(),Y("div",{key:0,class:N(c(I).e("time-header"))},[Q("span",{class:N(c(I).e("editors-wrap"))},[Q("span",{class:N(c(I).e("time-picker-wrap"))},[ie(c(Do),{size:"small",disabled:c(E).selecting,placeholder:c(P)("el.datepicker.startDate"),class:N(c(I).e("editor")),"model-value":c(G),"validate-event":!1,onInput:x[0]||(x[0]=ee=>Ue(ee,"min")),onChange:x[1]||(x[1]=ee=>ot(ee,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ot((A(),Y("span",{class:N(c(I).e("time-picker-wrap"))},[ie(c(Do),{size:"small",class:N(c(I).e("editor")),disabled:c(E).selecting,placeholder:c(P)("el.datepicker.startTime"),"model-value":c(D),"validate-event":!1,onFocus:x[2]||(x[2]=ee=>He.value=!0),onInput:x[3]||(x[3]=ee=>q(ee,"min")),onChange:x[4]||(x[4]=ee=>Qe(ee,"min"))},null,8,["class","disabled","placeholder","model-value"]),ie(c(tg),{visible:He.value,format:c(oe),"datetime-role":"start","parsed-value":_.value,onPick:lt},null,8,["visible","format","parsed-value"])],2)),[[c(kr),Ie]])],2),Q("span",null,[ie(c(at),null,{default:he(()=>[ie(c(Yo))]),_:1})]),Q("span",{class:N([c(I).e("editors-wrap"),"is-right"])},[Q("span",{class:N(c(I).e("time-picker-wrap"))},[ie(c(Do),{size:"small",class:N(c(I).e("editor")),disabled:c(E).selecting,placeholder:c(P)("el.datepicker.endDate"),"model-value":c(W),readonly:!c(T),"validate-event":!1,onInput:x[5]||(x[5]=ee=>Ue(ee,"max")),onChange:x[6]||(x[6]=ee=>ot(ee,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ot((A(),Y("span",{class:N(c(I).e("time-picker-wrap"))},[ie(c(Do),{size:"small",class:N(c(I).e("editor")),disabled:c(E).selecting,placeholder:c(P)("el.datepicker.endTime"),"model-value":c(X),readonly:!c(T),"validate-event":!1,onFocus:x[7]||(x[7]=ee=>c(T)&&(ue.value=!0)),onInput:x[8]||(x[8]=ee=>q(ee,"max")),onChange:x[9]||(x[9]=ee=>Qe(ee,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ie(c(tg),{"datetime-role":"end",visible:ue.value,format:c(oe),"parsed-value":b.value,onPick:bt},null,8,["visible","format","parsed-value"])],2)),[[c(kr),ke]])],2)],2)):$e("v-if",!0),Q("div",{class:N([[c(y).e("content"),c(I).e("content")],"is-left"])},[Q("div",{class:N(c(I).e("header"))},[Q("button",{type:"button",class:N([c(y).e("icon-btn"),"d-arrow-left"]),"aria-label":c(P)("el.datepicker.prevYear"),onClick:Se},[ie(c(at),null,{default:he(()=>[ie(c(bc))]),_:1})],10,SJ),Q("button",{type:"button",class:N([c(y).e("icon-btn"),"arrow-left"]),"aria-label":c(P)("el.datepicker.prevMonth"),onClick:De},[ie(c(at),null,{default:he(()=>[ie(c(Sl))]),_:1})],10,CJ),L.unlinkPanels?(A(),Y("button",{key:0,type:"button",disabled:!c(de),class:N([[c(y).e("icon-btn"),{"is-disabled":!c(de)}],"d-arrow-right"]),"aria-label":c(P)("el.datepicker.nextYear"),onClick:_e},[ie(c(at),null,{default:he(()=>[ie(c(Tc))]),_:1})],10,IJ)):$e("v-if",!0),L.unlinkPanels?(A(),Y("button",{key:1,type:"button",disabled:!c(ae),class:N([[c(y).e("icon-btn"),{"is-disabled":!c(ae)}],"arrow-right"]),"aria-label":c(P)("el.datepicker.nextMonth"),onClick:Ke},[ie(c(at),null,{default:he(()=>[ie(c(Yo))]),_:1})],10,wJ)):$e("v-if",!0),Q("div",null,We(c(F)),1)],2),ie(ly,{"selection-mode":"range",date:_.value,"min-date":c(T),"max-date":c($),"range-state":c(E),"disabled-date":c(l),"cell-class-name":c(a),onChangerange:c(S),onPick:Ne,onSelect:c(O)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Q("div",{class:N([[c(y).e("content"),c(I).e("content")],"is-right"])},[Q("div",{class:N(c(I).e("header"))},[L.unlinkPanels?(A(),Y("button",{key:0,type:"button",disabled:!c(de),class:N([[c(y).e("icon-btn"),{"is-disabled":!c(de)}],"d-arrow-left"]),"aria-label":c(P)("el.datepicker.prevYear"),onClick:ve},[ie(c(at),null,{default:he(()=>[ie(c(bc))]),_:1})],10,kJ)):$e("v-if",!0),L.unlinkPanels?(A(),Y("button",{key:1,type:"button",disabled:!c(ae),class:N([[c(y).e("icon-btn"),{"is-disabled":!c(ae)}],"arrow-left"]),"aria-label":c(P)("el.datepicker.prevMonth"),onClick:Ae},[ie(c(at),null,{default:he(()=>[ie(c(Sl))]),_:1})],10,OJ)):$e("v-if",!0),Q("button",{type:"button","aria-label":c(P)("el.datepicker.nextYear"),class:N([c(y).e("icon-btn"),"d-arrow-right"]),onClick:ce},[ie(c(at),null,{default:he(()=>[ie(c(Tc))]),_:1})],10,RJ),Q("button",{type:"button",class:N([c(y).e("icon-btn"),"arrow-right"]),"aria-label":c(P)("el.datepicker.nextMonth"),onClick:ye},[ie(c(at),null,{default:he(()=>[ie(c(Yo))]),_:1})],10,LJ),Q("div",null,We(c(B)),1)],2),ie(ly,{"selection-mode":"range",date:b.value,"min-date":c(T),"max-date":c($),"range-state":c(E),"disabled-date":c(l),"cell-class-name":c(a),onChangerange:c(S),onPick:Ne,onSelect:c(O)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),c(Be)?(A(),Y("div",{key:0,class:N(c(y).e("footer"))},[c(h)?(A(),be(c(lo),{key:0,text:"",size:"small",class:N(c(y).e("link-btn")),onClick:Tt},{default:he(()=>[zt(We(c(P)("el.datepicker.clear")),1)]),_:1},8,["class"])):$e("v-if",!0),ie(c(lo),{plain:"",size:"small",class:N(c(y).e("link-btn")),disabled:c(Re),onClick:x[10]||(x[10]=ee=>c(C)(!1))},{default:he(()=>[zt(We(c(P)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):$e("v-if",!0)],2))}});var NJ=Ge(AJ,[["__file","panel-date-range.vue"]]);const MJ=Ve({...fD}),DJ=["pick","set-picker-option","calendar-change"],PJ=({unlinkPanels:t,leftDate:n,rightDate:o})=>{const{t:i}=jt(),l=()=>{n.value=n.value.subtract(1,"year"),t.value||(o.value=o.value.subtract(1,"year"))},a=()=>{t.value||(n.value=n.value.add(1,"year")),o.value=o.value.add(1,"year")},u=()=>{n.value=n.value.add(1,"year")},h=()=>{o.value=o.value.subtract(1,"year")},p=w(()=>`${n.value.year()} ${i("el.datepicker.year")}`),f=w(()=>`${o.value.year()} ${i("el.datepicker.year")}`),g=w(()=>n.value.year()),m=w(()=>o.value.year()===n.value.year()?n.value.year()+1:o.value.year());return{leftPrevYear:l,rightNextYear:a,leftNextYear:u,rightPrevYear:h,leftLabel:p,rightLabel:f,leftYear:g,rightYear:m}},xJ=["onClick"],BJ=["disabled"],FJ=["disabled"],sm="year",HJ=ne({name:"DatePickerMonthRange"}),VJ=ne({...HJ,props:MJ,emits:DJ,setup(t,{emit:n}){const o=t,{lang:i}=jt(),l=it("EP_PICKER_BASE"),{shortcuts:a,disabledDate:u}=l.props,h=sn(l.props,"format"),p=sn(l.props,"defaultValue"),f=V(Dt().locale(i.value)),g=V(Dt().locale(i.value).add(1,sm)),{minDate:m,maxDate:_,rangeState:b,ppNs:T,drpNs:$,handleChangeRange:E,handleRangeConfirm:y,handleShortcutClick:I,onSelect:S}=gD(o,{defaultValue:p,leftDate:f,rightDate:g,unit:sm,onParsedValueChanged:z}),C=w(()=>!!a.length),{leftPrevYear:R,rightNextYear:O,leftNextYear:P,rightPrevYear:M,leftLabel:H,rightLabel:F,leftYear:B,rightYear:K}=PJ({unlinkPanels:sn(o,"unlinkPanels"),leftDate:f,rightDate:g}),te=w(()=>o.unlinkPanels&&K.value>B.value+1),J=(G,W=!0)=>{const D=G.minDate,X=G.maxDate;_.value===X&&m.value===D||(n("calendar-change",[D.toDate(),X&&X.toDate()]),_.value=X,m.value=D,W&&y())},j=G=>G.map(W=>W.format(h.value));function z(G,W){if(o.unlinkPanels&&W){const D=(G==null?void 0:G.year())||0,X=W.year();g.value=D===X?W.add(1,sm):W}else g.value=f.value.add(1,sm)}return n("set-picker-option",["formatToString",j]),(G,W)=>(A(),Y("div",{class:N([c(T).b(),c($).b(),{"has-sidebar":!!G.$slots.sidebar||c(C)}])},[Q("div",{class:N(c(T).e("body-wrapper"))},[Te(G.$slots,"sidebar",{class:N(c(T).e("sidebar"))}),c(C)?(A(),Y("div",{key:0,class:N(c(T).e("sidebar"))},[(A(!0),Y(dt,null,Kt(c(a),(D,X)=>(A(),Y("button",{key:X,type:"button",class:N(c(T).e("shortcut")),onClick:oe=>c(I)(D)},We(D.text),11,xJ))),128))],2)):$e("v-if",!0),Q("div",{class:N(c(T).e("body"))},[Q("div",{class:N([[c(T).e("content"),c($).e("content")],"is-left"])},[Q("div",{class:N(c($).e("header"))},[Q("button",{type:"button",class:N([c(T).e("icon-btn"),"d-arrow-left"]),onClick:W[0]||(W[0]=(...D)=>c(R)&&c(R)(...D))},[ie(c(at),null,{default:he(()=>[ie(c(bc))]),_:1})],2),G.unlinkPanels?(A(),Y("button",{key:0,type:"button",disabled:!c(te),class:N([[c(T).e("icon-btn"),{[c(T).is("disabled")]:!c(te)}],"d-arrow-right"]),onClick:W[1]||(W[1]=(...D)=>c(P)&&c(P)(...D))},[ie(c(at),null,{default:he(()=>[ie(c(Tc))]),_:1})],10,BJ)):$e("v-if",!0),Q("div",null,We(c(H)),1)],2),ie(ay,{"selection-mode":"range",date:f.value,"min-date":c(m),"max-date":c(_),"range-state":c(b),"disabled-date":c(u),onChangerange:c(E),onPick:J,onSelect:c(S)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Q("div",{class:N([[c(T).e("content"),c($).e("content")],"is-right"])},[Q("div",{class:N(c($).e("header"))},[G.unlinkPanels?(A(),Y("button",{key:0,type:"button",disabled:!c(te),class:N([[c(T).e("icon-btn"),{"is-disabled":!c(te)}],"d-arrow-left"]),onClick:W[2]||(W[2]=(...D)=>c(M)&&c(M)(...D))},[ie(c(at),null,{default:he(()=>[ie(c(bc))]),_:1})],10,FJ)):$e("v-if",!0),Q("button",{type:"button",class:N([c(T).e("icon-btn"),"d-arrow-right"]),onClick:W[3]||(W[3]=(...D)=>c(O)&&c(O)(...D))},[ie(c(at),null,{default:he(()=>[ie(c(Tc))]),_:1})],2),Q("div",null,We(c(F)),1)],2),ie(ay,{"selection-mode":"range",date:g.value,"min-date":c(m),"max-date":c(_),"range-state":c(b),"disabled-date":c(u),onChangerange:c(E),onPick:J,onSelect:c(S)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var UJ=Ge(VJ,[["__file","panel-month-range.vue"]]);const GJ=function(t){switch(t){case"daterange":case"datetimerange":return NJ;case"monthrange":return UJ;default:return bJ}};Dt.extend(DM);Dt.extend(wq);Dt.extend(s0);Dt.extend(Oq);Dt.extend(Lq);Dt.extend(Nq);Dt.extend(Dq);Dt.extend(xq);var WJ=ne({name:"ElDatePicker",install:null,props:Bq,emits:["update:modelValue"],setup(t,{expose:n,emit:o,slots:i}){const l=Pe("picker-panel");Gt("ElPopperOptions",en(sn(t,"popperOptions"))),Gt(l0,{slots:i,pickerNs:l});const a=V();n({focus:(p=!0)=>{var f;(f=a.value)==null||f.focus(p)},handleOpen:()=>{var p;(p=a.value)==null||p.handleOpen()},handleClose:()=>{var p;(p=a.value)==null||p.handleClose()}});const h=p=>{o("update:modelValue",p)};return()=>{var p;const f=(p=t.format)!=null?p:vY[t.type]||qu,g=GJ(t.type);return ie(yM,Vt(t,{format:f,type:t.type,ref:a,"onUpdate:modelValue":h}),{default:m=>ie(g,m,null),"range-separator":i["range-separator"]})}}});const Sm=WJ;Sm.install=t=>{t.component(Sm.name,Sm)};const zJ=Sm,c0=Symbol("elDescriptions");var Xd=ne({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:it(c0,{})}},render(){var t,n,o,i,l,a,u;const h=cz(this.cell),p=(((t=this.cell)==null?void 0:t.dirs)||[]).map(R=>{const{dir:O,arg:P,modifiers:M,value:H}=R;return[O,H,P,M]}),{border:f,direction:g}=this.descriptions,m=g==="vertical",_=((i=(o=(n=this.cell)==null?void 0:n.children)==null?void 0:o.label)==null?void 0:i.call(o))||h.label,b=(u=(a=(l=this.cell)==null?void 0:l.children)==null?void 0:a.default)==null?void 0:u.call(a),T=h.span,$=h.align?`is-${h.align}`:"",E=h.labelAlign?`is-${h.labelAlign}`:$,y=h.className,I=h.labelClassName,S={width:Mn(h.width),minWidth:Mn(h.minWidth)},C=Pe("descriptions");switch(this.type){case"label":return Ot(ft(this.tag,{style:S,class:[C.e("cell"),C.e("label"),C.is("bordered-label",f),C.is("vertical-label",m),E,I],colSpan:m?T:1},_),p);case"content":return Ot(ft(this.tag,{style:S,class:[C.e("cell"),C.e("content"),C.is("bordered-content",f),C.is("vertical-content",m),$,y],colSpan:m?T:T*2-1},b),p);default:return Ot(ft("td",{style:S,class:[C.e("cell"),$],colSpan:T},[ro(_)?void 0:ft("span",{class:[C.e("label"),I]},_),ft("span",{class:[C.e("content"),y]},b)]),p)}}});const KJ=Ve({row:{type:fe(Array),default:()=>[]}}),XJ={key:1},YJ=ne({name:"ElDescriptionsRow"}),jJ=ne({...YJ,props:KJ,setup(t){const n=it(c0,{});return(o,i)=>c(n).direction==="vertical"?(A(),Y(dt,{key:0},[Q("tr",null,[(A(!0),Y(dt,null,Kt(o.row,(l,a)=>(A(),be(c(Xd),{key:`tr1-${a}`,cell:l,tag:"th",type:"label"},null,8,["cell"]))),128))]),Q("tr",null,[(A(!0),Y(dt,null,Kt(o.row,(l,a)=>(A(),be(c(Xd),{key:`tr2-${a}`,cell:l,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(A(),Y("tr",XJ,[(A(!0),Y(dt,null,Kt(o.row,(l,a)=>(A(),Y(dt,{key:`tr3-${a}`},[c(n).border?(A(),Y(dt,{key:0},[ie(c(Xd),{cell:l,tag:"td",type:"label"},null,8,["cell"]),ie(c(Xd),{cell:l,tag:"td",type:"content"},null,8,["cell"])],64)):(A(),be(c(Xd),{key:1,cell:l,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var qJ=Ge(jJ,[["__file","descriptions-row.vue"]]);const JJ=Ve({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Jn,title:{type:String,default:""},extra:{type:String,default:""}}),ZJ=ne({name:"ElDescriptions"}),QJ=ne({...ZJ,props:JJ,setup(t){const n=t,o=Pe("descriptions"),i=Xn(),l=uo();Gt(c0,n);const a=w(()=>[o.b(),o.m(i.value)]),u=(p,f,g,m=!1)=>(p.props||(p.props={}),f>g&&(p.props.span=g),m&&(p.props.span=f),p),h=()=>{if(!l.default)return[];const p=$l(l.default()).filter(b=>{var T;return((T=b==null?void 0:b.type)==null?void 0:T.name)==="ElDescriptionsItem"}),f=[];let g=[],m=n.column,_=0;return p.forEach((b,T)=>{var $;const E=(($=b.props)==null?void 0:$.span)||1;if(T<p.length-1&&(_+=E>m?m:E),T===p.length-1){const y=n.column-_%n.column;g.push(u(b,y,m,!0)),f.push(g);return}E<m?(m-=E,g.push(b)):(g.push(u(b,E,m)),f.push(g),m=n.column,g=[])}),f};return(p,f)=>(A(),Y("div",{class:N(c(a))},[p.title||p.extra||p.$slots.title||p.$slots.extra?(A(),Y("div",{key:0,class:N(c(o).e("header"))},[Q("div",{class:N(c(o).e("title"))},[Te(p.$slots,"title",{},()=>[zt(We(p.title),1)])],2),Q("div",{class:N(c(o).e("extra"))},[Te(p.$slots,"extra",{},()=>[zt(We(p.extra),1)])],2)],2)):$e("v-if",!0),Q("div",{class:N(c(o).e("body"))},[Q("table",{class:N([c(o).e("table"),c(o).is("bordered",p.border)])},[Q("tbody",null,[(A(!0),Y(dt,null,Kt(h(),(g,m)=>(A(),be(qJ,{key:m,row:g},null,8,["row"]))),128))])],2)],2)],2))}});var eZ=Ge(QJ,[["__file","description.vue"]]);const tZ=Ve({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),$D=ne({name:"ElDescriptionsItem",props:tZ}),nZ=Mt(eZ,{DescriptionsItem:$D}),oZ=On($D),sZ=Ve({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:fe([String,Array,Object])},zIndex:{type:fe([String,Number])}}),iZ={click:t=>t instanceof MouseEvent},rZ="overlay";var lZ=ne({name:"ElOverlay",props:sZ,emits:iZ,setup(t,{slots:n,emit:o}){const i=Pe(rZ),l=p=>{o("click",p)},{onClick:a,onMousedown:u,onMouseup:h}=GE(t.customMaskEvent?void 0:l);return()=>t.mask?ie("div",{class:[i.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:a,onMousedown:u,onMouseup:h},[Te(n,"default")],Ds.STYLE|Ds.CLASS|Ds.PROPS,["onClick","onMouseup","onMousedown"]):ft("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Te(n,"default")])}});const d0=lZ,vD=Symbol("dialogInjectionKey"),_D=Ve({center:Boolean,alignCenter:Boolean,closeIcon:{type:an},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),aZ={close:()=>!0},uZ=["aria-level"],cZ=["aria-label"],dZ=["id"],hZ=ne({name:"ElDialogContent"}),pZ=ne({...hZ,props:_D,emits:aZ,setup(t){const n=t,{t:o}=jt(),{Close:i}=kE,{dialogRef:l,headerRef:a,bodyId:u,ns:h,style:p}=it(vD),{focusTrapRef:f}=it(t0),g=w(()=>[h.b(),h.is("fullscreen",n.fullscreen),h.is("draggable",n.draggable),h.is("align-center",n.alignCenter),{[h.m("center")]:n.center}]),m=Ng(f,l),_=w(()=>n.draggable),b=w(()=>n.overflow);return p1(l,a,_,b),(T,$)=>(A(),Y("div",{ref:c(m),class:N(c(g)),style:ct(c(p)),tabindex:"-1"},[Q("header",{ref_key:"headerRef",ref:a,class:N([c(h).e("header"),{"show-close":T.showClose}])},[Te(T.$slots,"header",{},()=>[Q("span",{role:"heading","aria-level":T.ariaLevel,class:N(c(h).e("title"))},We(T.title),11,uZ)]),T.showClose?(A(),Y("button",{key:0,"aria-label":c(o)("el.dialog.close"),class:N(c(h).e("headerbtn")),type:"button",onClick:$[0]||($[0]=E=>T.$emit("close"))},[ie(c(at),{class:N(c(h).e("close"))},{default:he(()=>[(A(),be(Ft(T.closeIcon||c(i))))]),_:1},8,["class"])],10,cZ)):$e("v-if",!0)],2),Q("div",{id:c(u),class:N(c(h).e("body"))},[Te(T.$slots,"default")],10,dZ),T.$slots.footer?(A(),Y("footer",{key:0,class:N(c(h).e("footer"))},[Te(T.$slots,"footer")],2)):$e("v-if",!0)],6))}});var fZ=Ge(pZ,[["__file","dialog-content.vue"]]);const bD=Ve({..._D,appendToBody:Boolean,appendTo:{type:fe(String),default:"body"},beforeClose:{type:fe(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),TD={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Bt]:t=>Vn(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},yD=(t,n)=>{var o;const l=Nt().emit,{nextZIndex:a}=Vc();let u="";const h=Io(),p=Io(),f=V(!1),g=V(!1),m=V(!1),_=V((o=t.zIndex)!=null?o:a());let b,T;const $=sp("namespace",ch),E=w(()=>{const j={},z=`--${$.value}-dialog`;return t.fullscreen||(t.top&&(j[`${z}-margin-top`]=t.top),t.width&&(j[`${z}-width`]=Mn(t.width))),j}),y=w(()=>t.alignCenter?{display:"flex"}:{});function I(){l("opened")}function S(){l("closed"),l(Bt,!1),t.destroyOnClose&&(m.value=!1)}function C(){l("close")}function R(){T==null||T(),b==null||b(),t.openDelay&&t.openDelay>0?{stop:b}=Da(()=>H(),t.openDelay):H()}function O(){b==null||b(),T==null||T(),t.closeDelay&&t.closeDelay>0?{stop:T}=Da(()=>F(),t.closeDelay):F()}function P(){function j(z){z||(g.value=!0,f.value=!1)}t.beforeClose?t.beforeClose(j):O()}function M(){t.closeOnClickModal&&P()}function H(){Xt&&(f.value=!0)}function F(){f.value=!1}function B(){l("openAutoFocus")}function K(){l("closeAutoFocus")}function te(j){var z;((z=j.detail)==null?void 0:z.focusReason)==="pointer"&&j.preventDefault()}t.lockScroll&&ME(f);function J(){t.closeOnPressEscape&&P()}return Me(()=>t.modelValue,j=>{j?(g.value=!1,R(),m.value=!0,_.value=e1(t.zIndex)?a():_.value++,pt(()=>{l("open"),n.value&&(n.value.scrollTop=0)})):f.value&&O()}),Me(()=>t.fullscreen,j=>{n.value&&(j?(u=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=u)}),Rt(()=>{t.modelValue&&(f.value=!0,m.value=!0,R())}),{afterEnter:I,afterLeave:S,beforeLeave:C,handleClose:P,onModalClick:M,close:O,doClose:F,onOpenAutoFocus:B,onCloseAutoFocus:K,onCloseRequested:J,onFocusoutPrevented:te,titleId:h,bodyId:p,closed:g,style:E,overlayDialogStyle:y,rendered:m,visible:f,zIndex:_}},mZ=["aria-label","aria-labelledby","aria-describedby"],gZ=ne({name:"ElDialog",inheritAttrs:!1}),$Z=ne({...gZ,props:bD,emits:TD,setup(t,{expose:n}){const o=t,i=uo();eo({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},w(()=>!!i.title));const l=Pe("dialog"),a=V(),u=V(),h=V(),{visible:p,titleId:f,bodyId:g,style:m,overlayDialogStyle:_,rendered:b,zIndex:T,afterEnter:$,afterLeave:E,beforeLeave:y,handleClose:I,onModalClick:S,onOpenAutoFocus:C,onCloseAutoFocus:R,onCloseRequested:O,onFocusoutPrevented:P}=yD(o,a);Gt(vD,{dialogRef:a,headerRef:u,bodyId:g,ns:l,rendered:b,style:m});const M=GE(S),H=w(()=>o.draggable&&!o.fullscreen);return n({visible:p,dialogContentRef:h}),(F,B)=>(A(),be(Dc,{to:F.appendTo,disabled:F.appendTo!=="body"?!1:!F.appendToBody},[ie(jn,{name:"dialog-fade",onAfterEnter:c($),onAfterLeave:c(E),onBeforeLeave:c(y),persisted:""},{default:he(()=>[Ot(ie(c(d0),{"custom-mask-event":"",mask:F.modal,"overlay-class":F.modalClass,"z-index":c(T)},{default:he(()=>[Q("div",{role:"dialog","aria-modal":"true","aria-label":F.title||void 0,"aria-labelledby":F.title?void 0:c(f),"aria-describedby":c(g),class:N(`${c(l).namespace.value}-overlay-dialog`),style:ct(c(_)),onClick:B[0]||(B[0]=(...K)=>c(M).onClick&&c(M).onClick(...K)),onMousedown:B[1]||(B[1]=(...K)=>c(M).onMousedown&&c(M).onMousedown(...K)),onMouseup:B[2]||(B[2]=(...K)=>c(M).onMouseup&&c(M).onMouseup(...K))},[ie(c(rp),{loop:"",trapped:c(p),"focus-start-el":"container",onFocusAfterTrapped:c(C),onFocusAfterReleased:c(R),onFocusoutPrevented:c(P),onReleaseRequested:c(O)},{default:he(()=>[c(b)?(A(),be(fZ,Vt({key:0,ref_key:"dialogContentRef",ref:h},F.$attrs,{center:F.center,"align-center":F.alignCenter,"close-icon":F.closeIcon,draggable:c(H),overflow:F.overflow,fullscreen:F.fullscreen,"show-close":F.showClose,title:F.title,"aria-level":F.headerAriaLevel,onClose:c(I)}),Cr({header:he(()=>[F.$slots.title?Te(F.$slots,"title",{key:1}):Te(F.$slots,"header",{key:0,close:c(I),titleId:c(f),titleClass:c(l).e("title")})]),default:he(()=>[Te(F.$slots,"default")]),_:2},[F.$slots.footer?{name:"footer",fn:he(()=>[Te(F.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):$e("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,mZ)]),_:3},8,["mask","overlay-class","z-index"]),[[qt,c(p)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var vZ=Ge($Z,[["__file","dialog.vue"]]);const _Z=Mt(vZ),bZ=Ve({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:fe(String),default:"solid"}}),TZ=ne({name:"ElDivider"}),yZ=ne({...TZ,props:bZ,setup(t){const n=t,o=Pe("divider"),i=w(()=>o.cssVar({"border-style":n.borderStyle}));return(l,a)=>(A(),Y("div",{class:N([c(o).b(),c(o).m(l.direction)]),style:ct(c(i)),role:"separator"},[l.$slots.default&&l.direction!=="vertical"?(A(),Y("div",{key:0,class:N([c(o).e("text"),c(o).is(l.contentPosition)])},[Te(l.$slots,"default")],2)):$e("v-if",!0)],6))}});var EZ=Ge(yZ,[["__file","divider.vue"]]);const ED=Mt(EZ),SZ=Ve({...bD,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),CZ=TD,IZ=["aria-label","aria-labelledby","aria-describedby"],wZ=["id","aria-level"],kZ=["aria-label"],OZ=["id"],RZ=ne({name:"ElDrawer",inheritAttrs:!1}),LZ=ne({...RZ,props:SZ,emits:CZ,setup(t,{expose:n}){const o=t,i=uo();eo({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},w(()=>!!i.title));const l=V(),a=V(),u=Pe("drawer"),{t:h}=jt(),{afterEnter:p,afterLeave:f,beforeLeave:g,visible:m,rendered:_,titleId:b,bodyId:T,zIndex:$,onModalClick:E,onOpenAutoFocus:y,onCloseAutoFocus:I,onFocusoutPrevented:S,onCloseRequested:C,handleClose:R}=yD(o,l),O=w(()=>o.direction==="rtl"||o.direction==="ltr"),P=w(()=>Mn(o.size));return n({handleClose:R,afterEnter:p,afterLeave:f}),(M,H)=>(A(),be(Dc,{to:"body",disabled:!M.appendToBody},[ie(jn,{name:c(u).b("fade"),onAfterEnter:c(p),onAfterLeave:c(f),onBeforeLeave:c(g),persisted:""},{default:he(()=>[Ot(ie(c(d0),{mask:M.modal,"overlay-class":M.modalClass,"z-index":c($),onClick:c(E)},{default:he(()=>[ie(c(rp),{loop:"",trapped:c(m),"focus-trap-el":l.value,"focus-start-el":a.value,onFocusAfterTrapped:c(y),onFocusAfterReleased:c(I),onFocusoutPrevented:c(S),onReleaseRequested:c(C)},{default:he(()=>[Q("div",Vt({ref_key:"drawerRef",ref:l,"aria-modal":"true","aria-label":M.title||void 0,"aria-labelledby":M.title?void 0:c(b),"aria-describedby":c(T)},M.$attrs,{class:[c(u).b(),M.direction,c(m)&&"open"],style:c(O)?"width: "+c(P):"height: "+c(P),role:"dialog",onClick:H[1]||(H[1]=_t(()=>{},["stop"]))}),[Q("span",{ref_key:"focusStartRef",ref:a,class:N(c(u).e("sr-focus")),tabindex:"-1"},null,2),M.withHeader?(A(),Y("header",{key:0,class:N(c(u).e("header"))},[M.$slots.title?Te(M.$slots,"title",{key:1},()=>[$e(" DEPRECATED SLOT ")]):Te(M.$slots,"header",{key:0,close:c(R),titleId:c(b),titleClass:c(u).e("title")},()=>[M.$slots.title?$e("v-if",!0):(A(),Y("span",{key:0,id:c(b),role:"heading","aria-level":M.headerAriaLevel,class:N(c(u).e("title"))},We(M.title),11,wZ))]),M.showClose?(A(),Y("button",{key:2,"aria-label":c(h)("el.drawer.close"),class:N(c(u).e("close-btn")),type:"button",onClick:H[0]||(H[0]=(...F)=>c(R)&&c(R)(...F))},[ie(c(at),{class:N(c(u).e("close"))},{default:he(()=>[ie(c(hi))]),_:1},8,["class"])],10,kZ)):$e("v-if",!0)],2)):$e("v-if",!0),c(_)?(A(),Y("div",{key:1,id:c(T),class:N(c(u).e("body"))},[Te(M.$slots,"default")],10,OZ)):$e("v-if",!0),M.$slots.footer?(A(),Y("div",{key:2,class:N(c(u).e("footer"))},[Te(M.$slots,"footer")],2)):$e("v-if",!0)],16,IZ)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[qt,c(m)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var AZ=Ge(LZ,[["__file","drawer.vue"]]);const NZ=Mt(AZ),MZ=ne({inheritAttrs:!1});function DZ(t,n,o,i,l,a){return Te(t.$slots,"default")}var PZ=Ge(MZ,[["render",DZ],["__file","collection.vue"]]);const xZ=ne({name:"ElCollectionItem",inheritAttrs:!1});function BZ(t,n,o,i,l,a){return Te(t.$slots,"default")}var FZ=Ge(xZ,[["render",BZ],["__file","collection-item.vue"]]);const SD="data-el-collection-item",CD=t=>{const n=`El${t}Collection`,o=`${n}Item`,i=Symbol(n),l=Symbol(o),a={...PZ,name:n,setup(){const h=V(null),p=new Map;Gt(i,{itemMap:p,getItems:()=>{const g=c(h);if(!g)return[];const m=Array.from(g.querySelectorAll(`[${SD}]`));return[...p.values()].sort((b,T)=>m.indexOf(b.ref)-m.indexOf(T.ref))},collectionRef:h})}},u={...FZ,name:o,setup(h,{attrs:p}){const f=V(null),g=it(i,void 0);Gt(l,{collectionItemRef:f}),Rt(()=>{const m=c(f);m&&g.itemMap.set(m,{ref:m,...p})}),mn(()=>{const m=c(f);g.itemMap.delete(m)})}};return{COLLECTION_INJECTION_KEY:i,COLLECTION_ITEM_INJECTION_KEY:l,ElCollection:a,ElCollectionItem:u}},HZ=Ve({style:{type:fe([String,Array,Object])},currentTabId:{type:fe(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:fe(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:VZ,ElCollectionItem:UZ,COLLECTION_INJECTION_KEY:h0,COLLECTION_ITEM_INJECTION_KEY:GZ}=CD("RovingFocusGroup"),p0=Symbol("elRovingFocusGroup"),ID=Symbol("elRovingFocusGroupItem"),WZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},zZ=(t,n)=>t,KZ=(t,n,o)=>{const i=zZ(t.key);return WZ[i]},XZ=(t,n)=>t.map((o,i)=>t[(i+n)%t.length]),f0=t=>{const{activeElement:n}=document;for(const o of t)if(o===n||(o.focus(),n!==document.activeElement))return},nL="currentTabIdChange",oL="rovingFocusGroup.entryFocus",YZ={bubbles:!1,cancelable:!0},jZ=ne({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:HZ,emits:[nL,"entryFocus"],setup(t,{emit:n}){var o;const i=V((o=t.currentTabId||t.defaultCurrentTabId)!=null?o:null),l=V(!1),a=V(!1),u=V(null),{getItems:h}=it(h0,void 0),p=w(()=>[{outline:"none"},t.style]),f=$=>{n(nL,$)},g=()=>{l.value=!0},m=Nn($=>{var E;(E=t.onMousedown)==null||E.call(t,$)},()=>{a.value=!0}),_=Nn($=>{var E;(E=t.onFocus)==null||E.call(t,$)},$=>{const E=!c(a),{target:y,currentTarget:I}=$;if(y===I&&E&&!c(l)){const S=new Event(oL,YZ);if(I==null||I.dispatchEvent(S),!S.defaultPrevented){const C=h().filter(H=>H.focusable),R=C.find(H=>H.active),O=C.find(H=>H.id===c(i)),M=[R,O,...C].filter(Boolean).map(H=>H.ref);f0(M)}}a.value=!1}),b=Nn($=>{var E;(E=t.onBlur)==null||E.call(t,$)},()=>{l.value=!1}),T=(...$)=>{n("entryFocus",...$)};Gt(p0,{currentTabbedId:Mc(i),loop:sn(t,"loop"),tabIndex:w(()=>c(l)?-1:0),rovingFocusGroupRef:u,rovingFocusGroupRootStyle:p,orientation:sn(t,"orientation"),dir:sn(t,"dir"),onItemFocus:f,onItemShiftTab:g,onBlur:b,onFocus:_,onMousedown:m}),Me(()=>t.currentTabId,$=>{i.value=$??null}),$n(u,oL,T)}});function qZ(t,n,o,i,l,a){return Te(t.$slots,"default")}var JZ=Ge(jZ,[["render",qZ],["__file","roving-focus-group-impl.vue"]]);const ZZ=ne({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:VZ,ElRovingFocusGroupImpl:JZ}});function QZ(t,n,o,i,l,a){const u=Lt("el-roving-focus-group-impl"),h=Lt("el-focus-group-collection");return A(),be(h,null,{default:he(()=>[ie(u,Tr(fc(t.$attrs)),{default:he(()=>[Te(t.$slots,"default")]),_:3},16)]),_:3})}var eQ=Ge(ZZ,[["render",QZ],["__file","roving-focus-group.vue"]]);const tQ=ne({components:{ElRovingFocusCollectionItem:UZ},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:n}){const{currentTabbedId:o,loop:i,onItemFocus:l,onItemShiftTab:a}=it(p0,void 0),{getItems:u}=it(h0,void 0),h=Io(),p=V(null),f=Nn(b=>{n("mousedown",b)},b=>{t.focusable?l(c(h)):b.preventDefault()}),g=Nn(b=>{n("focus",b)},()=>{l(c(h))}),m=Nn(b=>{n("keydown",b)},b=>{const{key:T,shiftKey:$,target:E,currentTarget:y}=b;if(T===mt.tab&&$){a();return}if(E!==y)return;const I=KZ(b);if(I){b.preventDefault();let C=u().filter(R=>R.focusable).map(R=>R.ref);switch(I){case"last":{C.reverse();break}case"prev":case"next":{I==="prev"&&C.reverse();const R=C.indexOf(y);C=i.value?XZ(C,R+1):C.slice(R+1);break}}pt(()=>{f0(C)})}}),_=w(()=>o.value===c(h));return Gt(ID,{rovingFocusGroupItemRef:p,tabIndex:w(()=>c(_)?0:-1),handleMousedown:f,handleFocus:g,handleKeydown:m}),{id:h,handleKeydown:m,handleFocus:g,handleMousedown:f}}});function nQ(t,n,o,i,l,a){const u=Lt("el-roving-focus-collection-item");return A(),be(u,{id:t.id,focusable:t.focusable,active:t.active},{default:he(()=>[Te(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var oQ=Ge(tQ,[["render",nQ],["__file","roving-focus-item.vue"]]);const Cm=Ve({trigger:Nh.trigger,effect:{...io.effect,default:"light"},type:{type:fe(String)},placement:{type:fe(String),default:"bottom"},popperOptions:{type:fe(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:fe([Number,String]),default:0},maxHeight:{type:fe([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:fe(Object)},teleported:io.teleported}),wD=Ve({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:an}}),sQ=Ve({onKeydown:{type:fe(Function)}}),iQ=[mt.down,mt.pageDown,mt.home],kD=[mt.up,mt.pageUp,mt.end],rQ=[...iQ,...kD],{ElCollection:lQ,ElCollectionItem:aQ,COLLECTION_INJECTION_KEY:uQ,COLLECTION_ITEM_INJECTION_KEY:cQ}=CD("Dropdown"),Wg=Symbol("elDropdown"),{ButtonGroup:dQ}=lo,hQ=ne({name:"ElDropdown",components:{ElButton:lo,ElButtonGroup:dQ,ElScrollbar:Dr,ElDropdownCollection:lQ,ElTooltip:Bo,ElRovingFocusGroup:eQ,ElOnlyChild:eM,ElIcon:at,ArrowDown:Nr},props:Cm,emits:["visible-change","click","command"],setup(t,{emit:n}){const o=Nt(),i=Pe("dropdown"),{t:l}=jt(),a=V(),u=V(),h=V(null),p=V(null),f=V(null),g=V(null),m=V(!1),_=[mt.enter,mt.space,mt.down],b=w(()=>({maxHeight:Mn(t.maxHeight)})),T=w(()=>[i.m(R.value)]),$=w(()=>yl(t.trigger)),E=Io().value,y=w(()=>t.id||E);Me([a,$],([G,W],[D])=>{var X,oe,le;(X=D==null?void 0:D.$el)!=null&&X.removeEventListener&&D.$el.removeEventListener("pointerenter",P),(oe=G==null?void 0:G.$el)!=null&&oe.removeEventListener&&G.$el.removeEventListener("pointerenter",P),(le=G==null?void 0:G.$el)!=null&&le.addEventListener&&W.includes("hover")&&G.$el.addEventListener("pointerenter",P)},{immediate:!0}),mn(()=>{var G,W;(W=(G=a.value)==null?void 0:G.$el)!=null&&W.removeEventListener&&a.value.$el.removeEventListener("pointerenter",P)});function I(){S()}function S(){var G;(G=h.value)==null||G.onClose()}function C(){var G;(G=h.value)==null||G.onOpen()}const R=Xn();function O(...G){n("command",...G)}function P(){var G,W;(W=(G=a.value)==null?void 0:G.$el)==null||W.focus()}function M(){}function H(){const G=c(p);$.value.includes("hover")&&(G==null||G.focus()),g.value=null}function F(G){g.value=G}function B(G){m.value||(G.preventDefault(),G.stopImmediatePropagation())}function K(){n("visible-change",!0)}function te(G){(G==null?void 0:G.type)==="keydown"&&p.value.focus()}function J(){n("visible-change",!1)}return Gt(Wg,{contentRef:p,role:w(()=>t.role),triggerId:y,isUsingKeyboard:m,onItemEnter:M,onItemLeave:H}),Gt("elDropdown",{instance:o,dropdownSize:R,handleClick:I,commandHandler:O,trigger:sn(t,"trigger"),hideOnClick:sn(t,"hideOnClick")}),{t:l,ns:i,scrollbar:f,wrapStyle:b,dropdownTriggerKls:T,dropdownSize:R,triggerId:y,triggerKeys:_,currentTabId:g,handleCurrentTabIdChange:F,handlerMainButtonClick:G=>{n("click",G)},handleEntryFocus:B,handleClose:S,handleOpen:C,handleBeforeShowTooltip:K,handleShowTooltip:te,handleBeforeHideTooltip:J,onFocusAfterTrapped:G=>{var W,D;G.preventDefault(),(D=(W=p.value)==null?void 0:W.focus)==null||D.call(W,{preventScroll:!0})},popperRef:h,contentRef:p,triggeringElementRef:a,referenceElementRef:u}}});function pQ(t,n,o,i,l,a){var u;const h=Lt("el-dropdown-collection"),p=Lt("el-roving-focus-group"),f=Lt("el-scrollbar"),g=Lt("el-only-child"),m=Lt("el-tooltip"),_=Lt("el-button"),b=Lt("arrow-down"),T=Lt("el-icon"),$=Lt("el-button-group");return A(),Y("div",{class:N([t.ns.b(),t.ns.is("disabled",t.disabled)])},[ie(m,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(u=t.referenceElementRef)==null?void 0:u.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},Cr({content:he(()=>[ie(f,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:he(()=>[ie(p,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:he(()=>[ie(h,null,{default:he(()=>[Te(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:he(()=>[ie(g,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:he(()=>[Te(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(A(),be($,{key:0},{default:he(()=>[ie(_,Vt({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:he(()=>[Te(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ie(_,Vt({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:he(()=>[ie(T,{class:N(t.ns.e("icon"))},{default:he(()=>[ie(b)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):$e("v-if",!0)],2)}var fQ=Ge(hQ,[["render",pQ],["__file","dropdown.vue"]]);const mQ=ne({name:"DropdownItemImpl",components:{ElIcon:at},props:wD,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:n}){const o=Pe("dropdown"),{role:i}=it(Wg,void 0),{collectionItemRef:l}=it(cQ,void 0),{collectionItemRef:a}=it(GZ,void 0),{rovingFocusGroupItemRef:u,tabIndex:h,handleFocus:p,handleKeydown:f,handleMousedown:g}=it(ID,void 0),m=Ng(l,a,u),_=w(()=>i.value==="menu"?"menuitem":i.value==="navigation"?"link":"button"),b=Nn(T=>{const{code:$}=T;if($===mt.enter||$===mt.space)return T.preventDefault(),T.stopImmediatePropagation(),n("clickimpl",T),!0},f);return{ns:o,itemRef:m,dataset:{[SD]:""},role:_,tabIndex:h,handleFocus:p,handleKeydown:b,handleMousedown:g}}}),gQ=["aria-disabled","tabindex","role"];function $Q(t,n,o,i,l,a){const u=Lt("el-icon");return A(),Y(dt,null,[t.divided?(A(),Y("li",Vt({key:0,role:"separator",class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):$e("v-if",!0),Q("li",Vt({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:n[0]||(n[0]=h=>t.$emit("clickimpl",h)),onFocus:n[1]||(n[1]=(...h)=>t.handleFocus&&t.handleFocus(...h)),onKeydown:n[2]||(n[2]=_t((...h)=>t.handleKeydown&&t.handleKeydown(...h),["self"])),onMousedown:n[3]||(n[3]=(...h)=>t.handleMousedown&&t.handleMousedown(...h)),onPointermove:n[4]||(n[4]=h=>t.$emit("pointermove",h)),onPointerleave:n[5]||(n[5]=h=>t.$emit("pointerleave",h))}),[t.icon?(A(),be(u,{key:0},{default:he(()=>[(A(),be(Ft(t.icon)))]),_:1})):$e("v-if",!0),Te(t.$slots,"default")],16,gQ)],64)}var vQ=Ge(mQ,[["render",$Q],["__file","dropdown-item-impl.vue"]]);const OD=()=>{const t=it("elDropdown",{}),n=w(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:n}},_Q=ne({name:"ElDropdownItem",components:{ElDropdownCollectionItem:aQ,ElRovingFocusItem:oQ,ElDropdownItemImpl:vQ},inheritAttrs:!1,props:wD,emits:["pointermove","pointerleave","click"],setup(t,{emit:n,attrs:o}){const{elDropdown:i}=OD(),l=Nt(),a=V(null),u=w(()=>{var b,T;return(T=(b=c(a))==null?void 0:b.textContent)!=null?T:""}),{onItemEnter:h,onItemLeave:p}=it(Wg,void 0),f=Nn(b=>(n("pointermove",b),b.defaultPrevented),Zk(b=>{if(t.disabled){p(b);return}const T=b.currentTarget;T===document.activeElement||T.contains(document.activeElement)||(h(b),b.defaultPrevented||T==null||T.focus())})),g=Nn(b=>(n("pointerleave",b),b.defaultPrevented),Zk(b=>{p(b)})),m=Nn(b=>{if(!t.disabled)return n("click",b),b.type!=="keydown"&&b.defaultPrevented},b=>{var T,$,E;if(t.disabled){b.stopImmediatePropagation();return}(T=i==null?void 0:i.hideOnClick)!=null&&T.value&&(($=i.handleClick)==null||$.call(i)),(E=i.commandHandler)==null||E.call(i,t.command,l,b)}),_=w(()=>({...t,...o}));return{handleClick:m,handlePointerMove:f,handlePointerLeave:g,textContent:u,propsAndAttrs:_}}});function bQ(t,n,o,i,l,a){var u;const h=Lt("el-dropdown-item-impl"),p=Lt("el-roving-focus-item"),f=Lt("el-dropdown-collection-item");return A(),be(f,{disabled:t.disabled,"text-value":(u=t.textValue)!=null?u:t.textContent},{default:he(()=>[ie(p,{focusable:!t.disabled},{default:he(()=>[ie(h,Vt(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:he(()=>[Te(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var RD=Ge(_Q,[["render",bQ],["__file","dropdown-item.vue"]]);const TQ=ne({name:"ElDropdownMenu",props:sQ,setup(t){const n=Pe("dropdown"),{_elDropdownSize:o}=OD(),i=o.value,{focusTrapRef:l,onKeydown:a}=it(t0,void 0),{contentRef:u,role:h,triggerId:p}=it(Wg,void 0),{collectionRef:f,getItems:g}=it(uQ,void 0),{rovingFocusGroupRef:m,rovingFocusGroupRootStyle:_,tabIndex:b,onBlur:T,onFocus:$,onMousedown:E}=it(p0,void 0),{collectionRef:y}=it(h0,void 0),I=w(()=>[n.b("menu"),n.bm("menu",i==null?void 0:i.value)]),S=Ng(u,f,l,m,y),C=Nn(O=>{var P;(P=t.onKeydown)==null||P.call(t,O)},O=>{const{currentTarget:P,code:M,target:H}=O;if(P.contains(H),mt.tab===M&&O.stopImmediatePropagation(),O.preventDefault(),H!==c(u)||!rQ.includes(M))return;const B=g().filter(K=>!K.disabled).map(K=>K.ref);kD.includes(M)&&B.reverse(),f0(B)});return{size:i,rovingFocusGroupRootStyle:_,tabIndex:b,dropdownKls:I,role:h,triggerId:p,dropdownListWrapperRef:S,handleKeydown:O=>{C(O),a(O)},onBlur:T,onFocus:$,onMousedown:E}}}),yQ=["role","aria-labelledby"];function EQ(t,n,o,i,l,a){return A(),Y("ul",{ref:t.dropdownListWrapperRef,class:N(t.dropdownKls),style:ct(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:n[0]||(n[0]=(...u)=>t.onBlur&&t.onBlur(...u)),onFocus:n[1]||(n[1]=(...u)=>t.onFocus&&t.onFocus(...u)),onKeydown:n[2]||(n[2]=_t((...u)=>t.handleKeydown&&t.handleKeydown(...u),["self"])),onMousedown:n[3]||(n[3]=_t((...u)=>t.onMousedown&&t.onMousedown(...u),["self"]))},[Te(t.$slots,"default")],46,yQ)}var LD=Ge(TQ,[["render",EQ],["__file","dropdown-menu.vue"]]);const SQ=Mt(fQ,{DropdownItem:RD,DropdownMenu:LD}),CQ=On(RD),IQ=On(LD),wQ={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},kQ=["id"],OQ=["stop-color"],RQ=["stop-color"],LQ=["id"],AQ=["stop-color"],NQ=["stop-color"],MQ=["id"],DQ={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},PQ={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},xQ={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},BQ=["fill"],FQ=["fill"],HQ={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},VQ=["fill"],UQ=["fill"],GQ=["fill"],WQ=["fill"],zQ=["fill"],KQ={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},XQ=["fill","xlink:href"],YQ=["fill","mask"],jQ=["fill"],qQ=ne({name:"ImgEmpty"}),JQ=ne({...qQ,setup(t){const n=Pe("empty"),o=Io();return(i,l)=>(A(),Y("svg",wQ,[Q("defs",null,[Q("linearGradient",{id:`linearGradient-1-${c(o)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Q("stop",{"stop-color":`var(${c(n).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,OQ),Q("stop",{"stop-color":`var(${c(n).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,RQ)],8,kQ),Q("linearGradient",{id:`linearGradient-2-${c(o)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Q("stop",{"stop-color":`var(${c(n).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,AQ),Q("stop",{"stop-color":`var(${c(n).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,NQ)],8,LQ),Q("rect",{id:`path-3-${c(o)}`,x:"0",y:"0",width:"17",height:"36"},null,8,MQ)]),Q("g",DQ,[Q("g",PQ,[Q("g",xQ,[Q("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${c(n).cssVarBlockName("fill-color-3")})`},null,8,BQ),Q("polygon",{id:"Rectangle-Copy-14",fill:`var(${c(n).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,FQ),Q("g",HQ,[Q("polygon",{id:"Rectangle-Copy-10",fill:`var(${c(n).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,VQ),Q("polygon",{id:"Rectangle-Copy-11",fill:`var(${c(n).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,UQ),Q("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${c(o)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,GQ),Q("polygon",{id:"Rectangle-Copy-13",fill:`var(${c(n).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,WQ)]),Q("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${c(o)})`,x:"13",y:"45",width:"40",height:"36"},null,8,zQ),Q("g",KQ,[Q("use",{id:"Mask",fill:`var(${c(n).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${c(o)}`},null,8,XQ),Q("polygon",{id:"Rectangle-Copy",fill:`var(${c(n).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${c(o)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,YQ)]),Q("polygon",{id:"Rectangle-Copy-18",fill:`var(${c(n).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,jQ)])])])]))}});var ZQ=Ge(JQ,[["__file","img-empty.vue"]]);const QQ=Ve({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),eee=["src"],tee={key:1},nee=ne({name:"ElEmpty"}),oee=ne({...nee,props:QQ,setup(t){const n=t,{t:o}=jt(),i=Pe("empty"),l=w(()=>n.description||o("el.table.emptyText")),a=w(()=>({width:Mn(n.imageSize)}));return(u,h)=>(A(),Y("div",{class:N(c(i).b())},[Q("div",{class:N(c(i).e("image")),style:ct(c(a))},[u.image?(A(),Y("img",{key:0,src:u.image,ondragstart:"return false"},null,8,eee)):Te(u.$slots,"image",{key:1},()=>[ie(ZQ)])],6),Q("div",{class:N(c(i).e("description"))},[u.$slots.description?Te(u.$slots,"description",{key:0}):(A(),Y("p",tee,We(c(l)),1))],2),u.$slots.default?(A(),Y("div",{key:0,class:N(c(i).e("bottom"))},[Te(u.$slots,"default")],2)):$e("v-if",!0)],2))}});var see=Ge(oee,[["__file","empty.vue"]]);const AD=Mt(see),iee=Ve({urlList:{type:fe(Array),default:()=>kn([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:fe(String)}}),ree={close:()=>!0,switch:t=>gt(t),rotate:t=>gt(t)},lee=["src","crossorigin"],aee=ne({name:"ElImageViewer"}),uee=ne({...aee,props:iee,emits:ree,setup(t,{expose:n,emit:o}){var i;const l=t,a={CONTAIN:{name:"contain",icon:sc(E4)},ORIGINAL:{name:"original",icon:sc(G4)}},{t:u}=jt(),h=Pe("image-viewer"),{nextZIndex:p}=Vc(),f=V(),g=V([]),m=EB(),_=V(!0),b=V(l.initialIndex),T=bn(a.CONTAIN),$=V({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),E=V((i=l.zIndex)!=null?i:p()),y=w(()=>{const{urlList:X}=l;return X.length<=1}),I=w(()=>b.value===0),S=w(()=>b.value===l.urlList.length-1),C=w(()=>l.urlList[b.value]),R=w(()=>[h.e("btn"),h.e("prev"),h.is("disabled",!l.infinite&&I.value)]),O=w(()=>[h.e("btn"),h.e("next"),h.is("disabled",!l.infinite&&S.value)]),P=w(()=>{const{scale:X,deg:oe,offsetX:le,offsetY:me,enableTransition:Se}=$.value;let De=le/X,ce=me/X;switch(oe%360){case 90:case-270:[De,ce]=[ce,-De];break;case 180:case-180:[De,ce]=[-De,-ce];break;case 270:case-90:[De,ce]=[-ce,De];break}const ye={transform:`scale(${X}) rotate(${oe}deg) translate(${De}px, ${ce}px)`,transition:Se?"transform .3s":""};return T.value.name===a.CONTAIN.name&&(ye.maxWidth=ye.maxHeight="100%"),ye});function M(){F(),o("close")}function H(){const X=Ra(le=>{switch(le.code){case mt.esc:l.closeOnPressEscape&&M();break;case mt.space:j();break;case mt.left:G();break;case mt.up:D("zoomIn");break;case mt.right:W();break;case mt.down:D("zoomOut");break}}),oe=Ra(le=>{const me=le.deltaY||le.deltaX;D(me<0?"zoomIn":"zoomOut",{zoomRate:l.zoomRate,enableTransition:!1})});m.run(()=>{$n(document,"keydown",X),$n(document,"wheel",oe)})}function F(){m.stop()}function B(){_.value=!1}function K(X){_.value=!1,X.target.alt=u("el.image.error")}function te(X){if(_.value||X.button!==0||!f.value)return;$.value.enableTransition=!1;const{offsetX:oe,offsetY:le}=$.value,me=X.pageX,Se=X.pageY,De=Ra(ye=>{$.value={...$.value,offsetX:oe+ye.pageX-me,offsetY:le+ye.pageY-Se}}),ce=$n(document,"mousemove",De);$n(document,"mouseup",()=>{ce()}),X.preventDefault()}function J(){$.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function j(){if(_.value)return;const X=_c(a),oe=Object.values(a),le=T.value.name,Se=(oe.findIndex(De=>De.name===le)+1)%X.length;T.value=a[X[Se]],J()}function z(X){const oe=l.urlList.length;b.value=(X+oe)%oe}function G(){I.value&&!l.infinite||z(b.value-1)}function W(){S.value&&!l.infinite||z(b.value+1)}function D(X,oe={}){if(_.value)return;const{minScale:le,maxScale:me}=l,{zoomRate:Se,rotateDeg:De,enableTransition:ce}={zoomRate:l.zoomRate,rotateDeg:90,enableTransition:!0,...oe};switch(X){case"zoomOut":$.value.scale>le&&($.value.scale=Number.parseFloat(($.value.scale/Se).toFixed(3)));break;case"zoomIn":$.value.scale<me&&($.value.scale=Number.parseFloat(($.value.scale*Se).toFixed(3)));break;case"clockwise":$.value.deg+=De,o("rotate",$.value.deg);break;case"anticlockwise":$.value.deg-=De,o("rotate",$.value.deg);break}$.value.enableTransition=ce}return Me(C,()=>{pt(()=>{const X=g.value[0];X!=null&&X.complete||(_.value=!0)})}),Me(b,X=>{J(),o("switch",X)}),Rt(()=>{var X,oe;H(),(oe=(X=f.value)==null?void 0:X.focus)==null||oe.call(X)}),n({setActiveItem:z}),(X,oe)=>(A(),be(Dc,{to:"body",disabled:!X.teleported},[ie(jn,{name:"viewer-fade",appear:""},{default:he(()=>[Q("div",{ref_key:"wrapper",ref:f,tabindex:-1,class:N(c(h).e("wrapper")),style:ct({zIndex:E.value})},[Q("div",{class:N(c(h).e("mask")),onClick:oe[0]||(oe[0]=_t(le=>X.hideOnClickModal&&M(),["self"]))},null,2),$e(" CLOSE "),Q("span",{class:N([c(h).e("btn"),c(h).e("close")]),onClick:M},[ie(c(at),null,{default:he(()=>[ie(c(hi))]),_:1})],2),$e(" ARROW "),c(y)?$e("v-if",!0):(A(),Y(dt,{key:0},[Q("span",{class:N(c(R)),onClick:G},[ie(c(at),null,{default:he(()=>[ie(c(Sl))]),_:1})],2),Q("span",{class:N(c(O)),onClick:W},[ie(c(at),null,{default:he(()=>[ie(c(Yo))]),_:1})],2)],64)),$e(" ACTIONS "),Q("div",{class:N([c(h).e("btn"),c(h).e("actions")])},[Q("div",{class:N(c(h).e("actions__inner"))},[ie(c(at),{onClick:oe[1]||(oe[1]=le=>D("zoomOut"))},{default:he(()=>[ie(c(sz))]),_:1}),ie(c(at),{onClick:oe[2]||(oe[2]=le=>D("zoomIn"))},{default:he(()=>[ie(c(u1))]),_:1}),Q("i",{class:N(c(h).e("actions__divider"))},null,2),ie(c(at),{onClick:j},{default:he(()=>[(A(),be(Ft(c(T).icon)))]),_:1}),Q("i",{class:N(c(h).e("actions__divider"))},null,2),ie(c(at),{onClick:oe[3]||(oe[3]=le=>D("anticlockwise"))},{default:he(()=>[ie(c(F4))]),_:1}),ie(c(at),{onClick:oe[4]||(oe[4]=le=>D("clockwise"))},{default:he(()=>[ie(c(V4))]),_:1})],2)],2),$e(" CANVAS "),Q("div",{class:N(c(h).e("canvas"))},[(A(!0),Y(dt,null,Kt(X.urlList,(le,me)=>Ot((A(),Y("img",{ref_for:!0,ref:Se=>g.value[me]=Se,key:le,src:le,style:ct(c(P)),class:N(c(h).e("img")),crossorigin:X.crossorigin,onLoad:B,onError:K,onMousedown:te},null,46,lee)),[[qt,me===b.value]])),128))],2),Te(X.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var cee=Ge(uee,[["__file","image-viewer.vue"]]);const ND=Mt(cee),dee=Ve({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:fe([String,Object])},previewSrcList:{type:fe(Array),default:()=>kn([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:fe(String)}}),hee={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>gt(t),close:()=>!0,show:()=>!0},pee=["src","loading","crossorigin"],fee={key:0},mee=ne({name:"ElImage",inheritAttrs:!1}),gee=ne({...mee,props:dee,emits:hee,setup(t,{emit:n}){const o=t;let i="";const{t:l}=jt(),a=Pe("image"),u=Ga(),h=AE(),p=V(),f=V(!1),g=V(!0),m=V(!1),_=V(),b=V(),T=Xt&&"loading"in HTMLImageElement.prototype;let $,E;const y=w(()=>[a.e("inner"),C.value&&a.e("preview"),g.value&&a.is("loading")]),I=w(()=>u.style),S=w(()=>{const{fit:W}=o;return Xt&&W?{objectFit:W}:{}}),C=w(()=>{const{previewSrcList:W}=o;return Array.isArray(W)&&W.length>0}),R=w(()=>{const{previewSrcList:W,initialIndex:D}=o;let X=D;return D>W.length-1&&(X=0),X}),O=w(()=>o.loading==="eager"?!1:!T&&o.loading==="lazy"||o.lazy),P=()=>{Xt&&(g.value=!0,f.value=!1,p.value=o.src)};function M(W){g.value=!1,f.value=!1,n("load",W)}function H(W){g.value=!1,f.value=!0,n("error",W)}function F(){gH(_.value,b.value)&&(P(),te())}const B=dN(F,200,!0);async function K(){var W;if(!Xt)return;await pt();const{scrollContainer:D}=o;zs(D)?b.value=D:yt(D)&&D!==""?b.value=(W=document.querySelector(D))!=null?W:void 0:_.value&&(b.value=yE(_.value)),b.value&&($=$n(b,"scroll",B),setTimeout(()=>F(),100))}function te(){!Xt||!b.value||!B||($==null||$(),b.value=void 0)}function J(W){if(W.ctrlKey){if(W.deltaY<0)return W.preventDefault(),!1;if(W.deltaY>0)return W.preventDefault(),!1}}function j(){C.value&&(E=$n("wheel",J,{passive:!1}),i=document.body.style.overflow,document.body.style.overflow="hidden",m.value=!0,n("show"))}function z(){E==null||E(),document.body.style.overflow=i,m.value=!1,n("close")}function G(W){n("switch",W)}return Me(()=>o.src,()=>{O.value?(g.value=!0,f.value=!1,te(),K()):P()}),Rt(()=>{O.value?K():P()}),(W,D)=>(A(),Y("div",{ref_key:"container",ref:_,class:N([c(a).b(),W.$attrs.class]),style:ct(c(I))},[f.value?Te(W.$slots,"error",{key:0},()=>[Q("div",{class:N(c(a).e("error"))},We(c(l)("el.image.error")),3)]):(A(),Y(dt,{key:1},[p.value!==void 0?(A(),Y("img",Vt({key:0},c(h),{src:p.value,loading:W.loading,style:c(S),class:c(y),crossorigin:W.crossorigin,onClick:j,onLoad:M,onError:H}),null,16,pee)):$e("v-if",!0),g.value?(A(),Y("div",{key:1,class:N(c(a).e("wrapper"))},[Te(W.$slots,"placeholder",{},()=>[Q("div",{class:N(c(a).e("placeholder"))},null,2)])],2)):$e("v-if",!0)],64)),c(C)?(A(),Y(dt,{key:2},[m.value?(A(),be(c(ND),{key:0,"z-index":W.zIndex,"initial-index":c(R),infinite:W.infinite,"zoom-rate":W.zoomRate,"min-scale":W.minScale,"max-scale":W.maxScale,"url-list":W.previewSrcList,"hide-on-click-modal":W.hideOnClickModal,teleported:W.previewTeleported,"close-on-press-escape":W.closeOnPressEscape,onClose:z,onSwitch:G},{default:he(()=>[W.$slots.viewer?(A(),Y("div",fee,[Te(W.$slots,"viewer")])):$e("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):$e("v-if",!0)],64)):$e("v-if",!0)],6))}});var $ee=Ge(gee,[["__file","image.vue"]]);const vee=Mt($ee),_ee=Ve({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Jn,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||gt(t)||["min","max"].includes(t),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...go(["ariaLabel"])}),bee={[vn]:(t,n)=>n!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[jo]:t=>gt(t)||ro(t),[Bt]:t=>gt(t)||ro(t)},Tee=["aria-label","onKeydown"],yee=["aria-label","onKeydown"],Eee=ne({name:"ElInputNumber"}),See=ne({...Eee,props:_ee,emits:bee,setup(t,{expose:n,emit:o}){const i=t,{t:l}=jt(),a=Pe("input-number"),u=V(),h=en({currentValue:i.modelValue,userInput:null}),{formItem:p}=Fo(),f=w(()=>gt(i.modelValue)&&i.modelValue<=i.min),g=w(()=>gt(i.modelValue)&&i.modelValue>=i.max),m=w(()=>{const j=y(i.step);return Hn(i.precision)?Math.max(y(i.modelValue),j):(j>i.precision,i.precision)}),_=w(()=>i.controls&&i.controlsPosition==="right"),b=Xn(),T=Qo(),$=w(()=>{if(h.userInput!==null)return h.userInput;let j=h.currentValue;if(ro(j))return"";if(gt(j)){if(Number.isNaN(j))return"";Hn(i.precision)||(j=j.toFixed(i.precision))}return j}),E=(j,z)=>{if(Hn(z)&&(z=m.value),z===0)return Math.round(j);let G=String(j);const W=G.indexOf(".");if(W===-1||!G.replace(".","").split("")[W+z])return j;const oe=G.length;return G.charAt(oe-1)==="5"&&(G=`${G.slice(0,Math.max(0,oe-1))}6`),Number.parseFloat(Number(G).toFixed(z))},y=j=>{if(ro(j))return 0;const z=j.toString(),G=z.indexOf(".");let W=0;return G!==-1&&(W=z.length-G-1),W},I=(j,z=1)=>gt(j)?E(j+i.step*z):h.currentValue,S=()=>{if(i.readonly||T.value||g.value)return;const j=Number($.value)||0,z=I(j);O(z),o(jo,h.currentValue),te()},C=()=>{if(i.readonly||T.value||f.value)return;const j=Number($.value)||0,z=I(j,-1);O(z),o(jo,h.currentValue),te()},R=(j,z)=>{const{max:G,min:W,step:D,precision:X,stepStrictly:oe,valueOnClear:le}=i;G<W&&qn("InputNumber","min should not be greater than max.");let me=Number(j);if(ro(j)||Number.isNaN(me))return null;if(j===""){if(le===null)return null;me=yt(le)?{min:W,max:G}[le]:le}return oe&&(me=E(Math.round(me/D)*D,X)),Hn(X)||(me=E(me,X)),(me>G||me<W)&&(me=me>G?G:W,z&&o(Bt,me)),me},O=(j,z=!0)=>{var G;const W=h.currentValue,D=R(j);if(!z){o(Bt,D);return}W===D&&j||(h.userInput=null,o(Bt,D),W!==D&&o(vn,D,W),i.validateEvent&&((G=p==null?void 0:p.validate)==null||G.call(p,"change").catch(X=>void 0)),h.currentValue=D)},P=j=>{h.userInput=j;const z=j===""?null:Number(j);o(jo,z),O(z,!1)},M=j=>{const z=j!==""?Number(j):"";(gt(z)&&!Number.isNaN(z)||j==="")&&O(z),te(),h.userInput=null},H=()=>{var j,z;(z=(j=u.value)==null?void 0:j.focus)==null||z.call(j)},F=()=>{var j,z;(z=(j=u.value)==null?void 0:j.blur)==null||z.call(j)},B=j=>{o("focus",j)},K=j=>{var z;h.userInput=null,o("blur",j),i.validateEvent&&((z=p==null?void 0:p.validate)==null||z.call(p,"blur").catch(G=>void 0))},te=()=>{h.currentValue!==i.modelValue&&(h.currentValue=i.modelValue)},J=j=>{document.activeElement===j.target&&j.preventDefault()};return Me(()=>i.modelValue,(j,z)=>{const G=R(j,!0);h.userInput===null&&G!==z&&(h.currentValue=G)},{immediate:!0}),Rt(()=>{var j;const{min:z,max:G,modelValue:W}=i,D=(j=u.value)==null?void 0:j.input;if(D.setAttribute("role","spinbutton"),Number.isFinite(G)?D.setAttribute("aria-valuemax",String(G)):D.removeAttribute("aria-valuemax"),Number.isFinite(z)?D.setAttribute("aria-valuemin",String(z)):D.removeAttribute("aria-valuemin"),D.setAttribute("aria-valuenow",h.currentValue||h.currentValue===0?String(h.currentValue):""),D.setAttribute("aria-disabled",String(T.value)),!gt(W)&&W!=null){let X=Number(W);Number.isNaN(X)&&(X=null),o(Bt,X)}D.addEventListener("wheel",J,{passive:!1})}),Rr(()=>{var j,z;const G=(j=u.value)==null?void 0:j.input;G==null||G.setAttribute("aria-valuenow",`${(z=h.currentValue)!=null?z:""}`)}),eo({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},w(()=>!!i.label)),n({focus:H,blur:F}),(j,z)=>(A(),Y("div",{class:N([c(a).b(),c(a).m(c(b)),c(a).is("disabled",c(T)),c(a).is("without-controls",!j.controls),c(a).is("controls-right",c(_))]),onDragstart:z[0]||(z[0]=_t(()=>{},["prevent"]))},[j.controls?Ot((A(),Y("span",{key:0,role:"button","aria-label":c(l)("el.inputNumber.decrease"),class:N([c(a).e("decrease"),c(a).is("disabled",c(f))]),onKeydown:ln(C,["enter"])},[Te(j.$slots,"decrease-icon",{},()=>[ie(c(at),null,{default:he(()=>[c(_)?(A(),be(c(Nr),{key:0})):(A(),be(c(O4),{key:1}))]),_:1})])],42,Tee)),[[c(eg),C]]):$e("v-if",!0),j.controls?Ot((A(),Y("span",{key:1,role:"button","aria-label":c(l)("el.inputNumber.increase"),class:N([c(a).e("increase"),c(a).is("disabled",c(g))]),onKeydown:ln(S,["enter"])},[Te(j.$slots,"increase-icon",{},()=>[ie(c(at),null,{default:he(()=>[c(_)?(A(),be(c(EE),{key:0})):(A(),be(c(r1),{key:1}))]),_:1})])],42,yee)),[[c(eg),S]]):$e("v-if",!0),ie(c(Do),{id:j.id,ref_key:"input",ref:u,type:"number",step:j.step,"model-value":c($),placeholder:j.placeholder,readonly:j.readonly,disabled:c(T),size:c(b),max:j.max,min:j.min,name:j.name,"aria-label":j.label||j.ariaLabel,"validate-event":!1,onKeydown:[ln(_t(S,["prevent"]),["up"]),ln(_t(C,["prevent"]),["down"])],onBlur:K,onFocus:B,onInput:P,onChange:M},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var Cee=Ge(See,[["__file","input-number.vue"]]);const MD=Mt(Cee),Iee=Ve({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:an}}),wee={click:t=>t instanceof MouseEvent},kee=["href","target"],Oee=ne({name:"ElLink"}),Ree=ne({...Oee,props:Iee,emits:wee,setup(t,{emit:n}){const o=t,i=Pe("link"),l=w(()=>[i.b(),i.m(o.type),i.is("disabled",o.disabled),i.is("underline",o.underline&&!o.disabled)]);function a(u){o.disabled||n("click",u)}return(u,h)=>(A(),Y("a",{class:N(c(l)),href:u.disabled||!u.href?void 0:u.href,target:u.disabled||!u.href?void 0:u.target,onClick:a},[u.icon?(A(),be(c(at),{key:0},{default:he(()=>[(A(),be(Ft(u.icon)))]),_:1})):$e("v-if",!0),u.$slots.default?(A(),Y("span",{key:1,class:N(c(i).e("inner"))},[Te(u.$slots,"default")],2)):$e("v-if",!0),u.$slots.icon?Te(u.$slots,"icon",{key:2}):$e("v-if",!0)],10,kee))}});var Lee=Ge(Ree,[["__file","link.vue"]]);const Aee=Mt(Lee);let Nee=class{constructor(n,o){this.parent=n,this.domNode=o,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,o=>{o.addEventListener("keydown",i=>{let l=!1;switch(i.code){case mt.down:{this.gotoSubIndex(this.subIndex+1),l=!0;break}case mt.up:{this.gotoSubIndex(this.subIndex-1),l=!0;break}case mt.tab:{dm(n,"mouseleave");break}case mt.enter:case mt.space:{l=!0,i.currentTarget.click();break}}return l&&(i.preventDefault(),i.stopPropagation()),!1})})}},Mee=class{constructor(n,o){this.domNode=n,this.submenu=null,this.submenu=null,this.init(o)}init(n){this.domNode.setAttribute("tabindex","0");const o=this.domNode.querySelector(`.${n}-menu`);o&&(this.submenu=new Nee(this,o)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let o=!1;switch(n.code){case mt.down:{dm(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),o=!0;break}case mt.up:{dm(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),o=!0;break}case mt.tab:{dm(n.currentTarget,"mouseleave");break}case mt.enter:case mt.space:{o=!0,n.currentTarget.click();break}}o&&n.preventDefault()})}},Dee=class{constructor(n,o){this.domNode=n,this.init(o)}init(n){const o=this.domNode.childNodes;Array.from(o).forEach(i=>{i.nodeType===1&&new Mee(i,n)})}};const Pee=ne({name:"ElMenuCollapseTransition",setup(){const t=Pe("menu");return{listeners:{onBeforeEnter:o=>o.style.opacity="0.2",onEnter(o,i){Bs(o,`${t.namespace.value}-opacity-transition`),o.style.opacity="1",i()},onAfterEnter(o){xo(o,`${t.namespace.value}-opacity-transition`),o.style.opacity=""},onBeforeLeave(o){o.dataset||(o.dataset={}),Vs(o,t.m("collapse"))?(xo(o,t.m("collapse")),o.dataset.oldOverflow=o.style.overflow,o.dataset.scrollWidth=o.clientWidth.toString(),Bs(o,t.m("collapse"))):(Bs(o,t.m("collapse")),o.dataset.oldOverflow=o.style.overflow,o.dataset.scrollWidth=o.clientWidth.toString(),xo(o,t.m("collapse"))),o.style.width=`${o.scrollWidth}px`,o.style.overflow="hidden"},onLeave(o){Bs(o,"horizontal-collapse-transition"),o.style.width=`${o.dataset.scrollWidth}px`}}}}});function xee(t,n,o,i,l,a){return A(),be(jn,Vt({mode:"out-in"},t.listeners),{default:he(()=>[Te(t.$slots,"default")]),_:3},16)}var Bee=Ge(Pee,[["render",xee],["__file","menu-collapse-transition.vue"]]);function DD(t,n){const o=w(()=>{let l=t.parent;const a=[n.value];for(;l.type.name!=="ElMenu";)l.props.index&&a.unshift(l.props.index),l=l.parent;return a});return{parentMenu:w(()=>{let l=t.parent;for(;l&&!["ElMenu","ElSubMenu"].includes(l.type.name);)l=l.parent;return l}),indexPath:o}}function Fee(t){return w(()=>{const o=t.backgroundColor;return o?new pM(o).shade(20).toString():""})}const PD=(t,n)=>{const o=Pe("menu");return w(()=>o.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":Fee(t).value||"","active-color":t.activeTextColor||"",level:`${n}`}))},Hee=Ve({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:an},expandOpenIcon:{type:an},collapseCloseIcon:{type:an},collapseOpenIcon:{type:an}}),Zb="ElSubMenu";var m0=ne({name:Zb,props:Hee,setup(t,{slots:n,expose:o}){const i=Nt(),{indexPath:l,parentMenu:a}=DD(i,w(()=>t.index)),u=Pe("menu"),h=Pe("sub-menu"),p=it("rootMenu");p||qn(Zb,"can not inject root menu");const f=it(`subMenu:${a.value.uid}`);f||qn(Zb,"can not inject sub menu");const g=V({}),m=V({});let _;const b=V(!1),T=V(),$=V(null),E=w(()=>M.value==="horizontal"&&I.value?"bottom-start":"right-start"),y=w(()=>M.value==="horizontal"&&I.value||M.value==="vertical"&&!p.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?O.value?t.expandOpenIcon:t.expandCloseIcon:Nr:t.collapseCloseIcon&&t.collapseOpenIcon?O.value?t.collapseOpenIcon:t.collapseCloseIcon:Yo),I=w(()=>f.level===0),S=w(()=>{const X=t.teleported;return X===void 0?I.value:X}),C=w(()=>p.props.collapse?`${u.namespace.value}-zoom-in-left`:`${u.namespace.value}-zoom-in-top`),R=w(()=>M.value==="horizontal"&&I.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),O=w(()=>p.openedMenus.includes(t.index)),P=w(()=>{let X=!1;return Object.values(g.value).forEach(oe=>{oe.active&&(X=!0)}),Object.values(m.value).forEach(oe=>{oe.active&&(X=!0)}),X}),M=w(()=>p.props.mode),H=en({index:t.index,indexPath:l,active:P}),F=PD(p.props,f.level+1),B=w(()=>{var X;return(X=t.popperOffset)!=null?X:p.props.popperOffset}),K=w(()=>{var X;return(X=t.popperClass)!=null?X:p.props.popperClass}),te=w(()=>{var X;return(X=t.showTimeout)!=null?X:p.props.showTimeout}),J=w(()=>{var X;return(X=t.hideTimeout)!=null?X:p.props.hideTimeout}),j=()=>{var X,oe,le;return(le=(oe=(X=$.value)==null?void 0:X.popperRef)==null?void 0:oe.popperInstanceRef)==null?void 0:le.destroy()},z=X=>{X||j()},G=()=>{p.props.menuTrigger==="hover"&&p.props.mode==="horizontal"||p.props.collapse&&p.props.mode==="vertical"||t.disabled||p.handleSubMenuClick({index:t.index,indexPath:l.value,active:P.value})},W=(X,oe=te.value)=>{var le;if(X.type!=="focus"){if(p.props.menuTrigger==="click"&&p.props.mode==="horizontal"||!p.props.collapse&&p.props.mode==="vertical"||t.disabled){f.mouseInChild.value=!0;return}f.mouseInChild.value=!0,_==null||_(),{stop:_}=Da(()=>{p.openMenu(t.index,l.value)},oe),S.value&&((le=a.value.vnode.el)==null||le.dispatchEvent(new MouseEvent("mouseenter")))}},D=(X=!1)=>{var oe;if(p.props.menuTrigger==="click"&&p.props.mode==="horizontal"||!p.props.collapse&&p.props.mode==="vertical"){f.mouseInChild.value=!1;return}_==null||_(),f.mouseInChild.value=!1,{stop:_}=Da(()=>!b.value&&p.closeMenu(t.index,l.value),J.value),S.value&&X&&((oe=f.handleMouseleave)==null||oe.call(f,!0))};Me(()=>p.props.collapse,X=>z(!!X));{const X=le=>{m.value[le.index]=le},oe=le=>{delete m.value[le.index]};Gt(`subMenu:${i.uid}`,{addSubMenu:X,removeSubMenu:oe,handleMouseleave:D,mouseInChild:b,level:f.level+1})}return o({opened:O}),Rt(()=>{p.addSubMenu(H),f.addSubMenu(H)}),mn(()=>{f.removeSubMenu(H),p.removeSubMenu(H)}),()=>{var X;const oe=[(X=n.title)==null?void 0:X.call(n),ft(at,{class:h.e("icon-arrow"),style:{transform:O.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&p.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>yt(y.value)?ft(i.appContext.components[y.value]):ft(y.value)})],le=p.isMenuPopup?ft(Bo,{ref:$,visible:O.value,effect:"light",pure:!0,offset:B.value,showArrow:!1,persistent:!0,popperClass:K.value,placement:E.value,teleported:S.value,fallbackPlacements:R.value,transition:C.value,gpuAcceleration:!1},{content:()=>{var me;return ft("div",{class:[u.m(M.value),u.m("popup-container"),K.value],onMouseenter:Se=>W(Se,100),onMouseleave:()=>D(!0),onFocus:Se=>W(Se,100)},[ft("ul",{class:[u.b(),u.m("popup"),u.m(`popup-${E.value}`)],style:F.value},[(me=n.default)==null?void 0:me.call(n)])])},default:()=>ft("div",{class:h.e("title"),onClick:G},oe)}):ft(dt,{},[ft("div",{class:h.e("title"),ref:T,onClick:G},oe),ft(Gg,{},{default:()=>{var me;return Ot(ft("ul",{role:"menu",class:[u.b(),u.m("inline")],style:F.value},[(me=n.default)==null?void 0:me.call(n)]),[[qt,O.value]])}})]);return ft("li",{class:[h.b(),h.is("active",P.value),h.is("opened",O.value),h.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:O.value,onMouseenter:W,onMouseleave:()=>D(),onFocus:W},[le])}}});const Vee=Ve({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:fe(Array),default:()=>kn([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:an,default:()=>A4},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),Qb=t=>Array.isArray(t)&&t.every(n=>yt(n)),Uee={close:(t,n)=>yt(t)&&Qb(n),open:(t,n)=>yt(t)&&Qb(n),select:(t,n,o,i)=>yt(t)&&Qb(n)&&Pt(o)&&(i===void 0||i instanceof Promise)};var Gee=ne({name:"ElMenu",props:Vee,emits:Uee,setup(t,{emit:n,slots:o,expose:i}){const l=Nt(),a=l.appContext.config.globalProperties.$router,u=V(),h=Pe("menu"),p=Pe("sub-menu"),f=V(-1),g=V(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),m=V(t.defaultActive),_=V({}),b=V({}),T=w(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),$=()=>{const J=m.value&&_.value[m.value];if(!J||t.mode==="horizontal"||t.collapse)return;J.indexPath.forEach(z=>{const G=b.value[z];G&&E(z,G.indexPath)})},E=(J,j)=>{g.value.includes(J)||(t.uniqueOpened&&(g.value=g.value.filter(z=>j.includes(z))),g.value.push(J),n("open",J,j))},y=J=>{const j=g.value.indexOf(J);j!==-1&&g.value.splice(j,1)},I=(J,j)=>{y(J),n("close",J,j)},S=({index:J,indexPath:j})=>{g.value.includes(J)?I(J,j):E(J,j)},C=J=>{(t.mode==="horizontal"||t.collapse)&&(g.value=[]);const{index:j,indexPath:z}=J;if(!(ro(j)||ro(z)))if(t.router&&a){const G=J.route||j,W=a.push(G).then(D=>(D||(m.value=j),D));n("select",j,z,{index:j,indexPath:z,route:G},W)}else m.value=j,n("select",j,z,{index:j,indexPath:z})},R=J=>{const j=_.value,z=j[J]||m.value&&j[m.value]||j[t.defaultActive];z?m.value=z.index:m.value=J},O=J=>{const j=getComputedStyle(J),z=Number.parseInt(j.marginLeft,10),G=Number.parseInt(j.marginRight,10);return J.offsetWidth+z+G||0},P=()=>{var J,j;if(!u.value)return-1;const z=Array.from((j=(J=u.value)==null?void 0:J.childNodes)!=null?j:[]).filter(Se=>Se.nodeName!=="#comment"&&(Se.nodeName!=="#text"||Se.nodeValue)),G=64,W=getComputedStyle(u.value),D=Number.parseInt(W.paddingLeft,10),X=Number.parseInt(W.paddingRight,10),oe=u.value.clientWidth-D-X;let le=0,me=0;return z.forEach((Se,De)=>{le+=O(Se),le<=oe-G&&(me=De+1)}),me===z.length?-1:me},M=J=>b.value[J].indexPath,H=(J,j=33.34)=>{let z;return()=>{z&&clearTimeout(z),z=setTimeout(()=>{J()},j)}};let F=!0;const B=()=>{if(f.value===P())return;const J=()=>{f.value=-1,pt(()=>{f.value=P()})};F?J():H(J)(),F=!1};Me(()=>t.defaultActive,J=>{_.value[J]||(m.value=""),R(J)}),Me(()=>t.collapse,J=>{J&&(g.value=[])}),Me(_.value,$);let K;So(()=>{t.mode==="horizontal"&&t.ellipsis?K=wn(u,B).stop:K==null||K()});const te=V(!1);{const J=W=>{b.value[W.index]=W},j=W=>{delete b.value[W.index]};Gt("rootMenu",en({props:t,openedMenus:g,items:_,subMenus:b,activeIndex:m,isMenuPopup:T,addMenuItem:W=>{_.value[W.index]=W},removeMenuItem:W=>{delete _.value[W.index]},addSubMenu:J,removeSubMenu:j,openMenu:E,closeMenu:I,handleMenuItemClick:C,handleSubMenuClick:S})),Gt(`subMenu:${l.uid}`,{addSubMenu:J,removeSubMenu:j,mouseInChild:te,level:0})}return Rt(()=>{t.mode==="horizontal"&&new Dee(l.vnode.el,h.namespace.value)}),i({open:j=>{const{indexPath:z}=b.value[j];z.forEach(G=>E(G,z))},close:y,handleResize:B}),()=>{var J,j;let z=(j=(J=o.default)==null?void 0:J.call(o))!=null?j:[];const G=[];if(t.mode==="horizontal"&&u.value){const oe=$l(z),le=f.value===-1?oe:oe.slice(0,f.value),me=f.value===-1?[]:oe.slice(f.value);me!=null&&me.length&&t.ellipsis&&(z=le,G.push(ft(m0,{index:"sub-menu-more",class:p.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>ft(at,{class:p.e("icon-more")},{default:()=>ft(t.ellipsisIcon)}),default:()=>me})))}const W=PD(t,0),D=t.closeOnClickOutside?[[kr,()=>{g.value.length&&(te.value||(g.value.forEach(oe=>n("close",oe,M(oe))),g.value=[]))}]]:[],X=Ot(ft("ul",{key:String(t.collapse),role:"menubar",ref:u,style:W.value,class:{[h.b()]:!0,[h.m(t.mode)]:!0,[h.m("collapse")]:t.collapse}},[...z,...G]),D);return t.collapseTransition&&t.mode==="vertical"?ft(Bee,()=>X):X}}});const Wee=Ve({index:{type:fe([String,null]),default:null},route:{type:fe([String,Object])},disabled:Boolean}),zee={click:t=>yt(t.index)&&Array.isArray(t.indexPath)},eT="ElMenuItem",Kee=ne({name:eT,components:{ElTooltip:Bo},props:Wee,emits:zee,setup(t,{emit:n}){const o=Nt(),i=it("rootMenu"),l=Pe("menu"),a=Pe("menu-item");i||qn(eT,"can not inject root menu");const{parentMenu:u,indexPath:h}=DD(o,sn(t,"index")),p=it(`subMenu:${u.value.uid}`);p||qn(eT,"can not inject sub menu");const f=w(()=>t.index===i.activeIndex),g=en({index:t.index,indexPath:h,active:f}),m=()=>{t.disabled||(i.handleMenuItemClick({index:t.index,indexPath:h.value,route:t.route}),n("click",g))};return Rt(()=>{p.addSubMenu(g),i.addMenuItem(g)}),mn(()=>{p.removeSubMenu(g),i.removeMenuItem(g)}),{parentMenu:u,rootMenu:i,active:f,nsMenu:l,nsMenuItem:a,handleClick:m}}});function Xee(t,n,o,i,l,a){const u=Lt("el-tooltip");return A(),Y("li",{class:N([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...h)=>t.handleClick&&t.handleClick(...h))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(A(),be(u,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:he(()=>[Te(t.$slots,"title")]),default:he(()=>[Q("div",{class:N(t.nsMenu.be("tooltip","trigger"))},[Te(t.$slots,"default")],2)]),_:3},8,["effect"])):(A(),Y(dt,{key:1},[Te(t.$slots,"default"),Te(t.$slots,"title")],64))],2)}var xD=Ge(Kee,[["render",Xee],["__file","menu-item.vue"]]);const Yee={title:String},jee="ElMenuItemGroup",qee=ne({name:jee,props:Yee,setup(){return{ns:Pe("menu-item-group")}}});function Jee(t,n,o,i,l,a){return A(),Y("li",{class:N(t.ns.b())},[Q("div",{class:N(t.ns.e("title"))},[t.$slots.title?Te(t.$slots,"title",{key:1}):(A(),Y(dt,{key:0},[zt(We(t.title),1)],64))],2),Q("ul",null,[Te(t.$slots,"default")])],2)}var BD=Ge(qee,[["render",Jee],["__file","menu-item-group.vue"]]);const Zee=Mt(Gee,{MenuItem:xD,MenuItemGroup:BD,SubMenu:m0}),Qee=On(xD),ete=On(BD),tte=On(m0),nte=Ve({icon:{type:an,default:()=>e4},title:String,content:{type:String,default:""}}),ote={back:()=>!0},ste=["aria-label"],ite=ne({name:"ElPageHeader"}),rte=ne({...ite,props:nte,emits:ote,setup(t,{emit:n}){const o=uo(),{t:i}=jt(),l=Pe("page-header"),a=w(()=>[l.b(),{[l.m("has-breadcrumb")]:!!o.breadcrumb,[l.m("has-extra")]:!!o.extra,[l.is("contentful")]:!!o.default}]);function u(){n("back")}return(h,p)=>(A(),Y("div",{class:N(c(a))},[h.$slots.breadcrumb?(A(),Y("div",{key:0,class:N(c(l).e("breadcrumb"))},[Te(h.$slots,"breadcrumb")],2)):$e("v-if",!0),Q("div",{class:N(c(l).e("header"))},[Q("div",{class:N(c(l).e("left"))},[Q("div",{class:N(c(l).e("back")),role:"button",tabindex:"0",onClick:u},[h.icon||h.$slots.icon?(A(),Y("div",{key:0,"aria-label":h.title||c(i)("el.pageHeader.title"),class:N(c(l).e("icon"))},[Te(h.$slots,"icon",{},()=>[h.icon?(A(),be(c(at),{key:0},{default:he(()=>[(A(),be(Ft(h.icon)))]),_:1})):$e("v-if",!0)])],10,ste)):$e("v-if",!0),Q("div",{class:N(c(l).e("title"))},[Te(h.$slots,"title",{},()=>[zt(We(h.title||c(i)("el.pageHeader.title")),1)])],2)],2),ie(c(ED),{direction:"vertical"}),Q("div",{class:N(c(l).e("content"))},[Te(h.$slots,"content",{},()=>[zt(We(h.content),1)])],2)],2),h.$slots.extra?(A(),Y("div",{key:0,class:N(c(l).e("extra"))},[Te(h.$slots,"extra")],2)):$e("v-if",!0)],2),h.$slots.default?(A(),Y("div",{key:1,class:N(c(l).e("main"))},[Te(h.$slots,"default")],2)):$e("v-if",!0)],2))}});var lte=Ge(rte,[["__file","page-header.vue"]]);const ate=Mt(lte),FD=Symbol("elPaginationKey"),ute=Ve({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:an}}),cte={click:t=>t instanceof MouseEvent},dte=["disabled","aria-label","aria-disabled"],hte={key:0},pte=ne({name:"ElPaginationPrev"}),fte=ne({...pte,props:ute,emits:cte,setup(t){const n=t,{t:o}=jt(),i=w(()=>n.disabled||n.currentPage<=1);return(l,a)=>(A(),Y("button",{type:"button",class:"btn-prev",disabled:c(i),"aria-label":l.prevText||c(o)("el.pagination.prev"),"aria-disabled":c(i),onClick:a[0]||(a[0]=u=>l.$emit("click",u))},[l.prevText?(A(),Y("span",hte,We(l.prevText),1)):(A(),be(c(at),{key:1},{default:he(()=>[(A(),be(Ft(l.prevIcon)))]),_:1}))],8,dte))}});var mte=Ge(fte,[["__file","prev.vue"]]);const gte=Ve({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:an}}),$te=["disabled","aria-label","aria-disabled"],vte={key:0},_te=ne({name:"ElPaginationNext"}),bte=ne({..._te,props:gte,emits:["click"],setup(t){const n=t,{t:o}=jt(),i=w(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return(l,a)=>(A(),Y("button",{type:"button",class:"btn-next",disabled:c(i),"aria-label":l.nextText||c(o)("el.pagination.next"),"aria-disabled":c(i),onClick:a[0]||(a[0]=u=>l.$emit("click",u))},[l.nextText?(A(),Y("span",vte,We(l.nextText),1)):(A(),be(c(at),{key:1},{default:he(()=>[(A(),be(Ft(l.nextIcon)))]),_:1}))],8,$te))}});var Tte=Ge(bte,[["__file","next.vue"]]);const HD=Symbol("ElSelectGroup"),zc=Symbol("ElSelect");function yte(t,n){const o=it(zc),i=it(HD,{disabled:!1}),l=w(()=>o.props.multiple?g(o.props.modelValue,t.value):g([o.props.modelValue],t.value)),a=w(()=>{if(o.props.multiple){const b=o.props.modelValue||[];return!l.value&&b.length>=o.props.multipleLimit&&o.props.multipleLimit>0}else return!1}),u=w(()=>t.label||(Pt(t.value)?"":t.value)),h=w(()=>t.value||t.label||""),p=w(()=>t.disabled||n.groupDisabled||a.value),f=Nt(),g=(b=[],T)=>{if(Pt(t.value)){const $=o.props.valueKey;return b&&b.some(E=>rn(xn(E,$))===xn(T,$))}else return b&&b.includes(T)},m=()=>{!t.disabled&&!i.disabled&&(o.states.hoveringIndex=o.optionsArray.indexOf(f.proxy))},_=b=>{const T=new RegExp(TE(b),"i");n.visible=T.test(u.value)||t.created};return Me(()=>u.value,()=>{!t.created&&!o.props.remote&&o.setSelected()}),Me(()=>t.value,(b,T)=>{const{remote:$,valueKey:E}=o.props;if(Po(b,T)||(o.onOptionDestroy(T,f.proxy),o.onOptionCreate(f.proxy)),!t.created&&!$){if(E&&Pt(b)&&Pt(T)&&b[E]===T[E])return;o.setSelected()}}),Me(()=>i.disabled,()=>{n.groupDisabled=i.disabled},{immediate:!0}),{select:o,currentLabel:u,currentValue:h,itemSelected:l,isDisabled:p,hoverItem:m,updateOption:_}}const Ete=ne({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const n=Pe("select"),o=Io(),i=w(()=>[n.be("dropdown","item"),n.is("disabled",c(h)),n.is("selected",c(u)),n.is("hovering",c(_))]),l=en({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:u,isDisabled:h,select:p,hoverItem:f,updateOption:g}=yte(t,l),{visible:m,hover:_}=mo(l),b=Nt().proxy;p.onOptionCreate(b),mn(()=>{const $=b.value,{selected:E}=p.states,I=(p.props.multiple?E:[E]).some(S=>S.value===b.value);pt(()=>{p.states.cachedOptions.get($)===b&&!I&&p.states.cachedOptions.delete($)}),p.onOptionDestroy($,b)});function T(){t.disabled!==!0&&l.groupDisabled!==!0&&p.handleOptionSelect(b)}return{ns:n,id:o,containerKls:i,currentLabel:a,itemSelected:u,isDisabled:h,select:p,hoverItem:f,updateOption:g,visible:m,hover:_,selectOptionClick:T,states:l}}}),Ste=["id","aria-disabled","aria-selected"];function Cte(t,n,o,i,l,a){return Ot((A(),Y("li",{id:t.id,class:N(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMouseenter:n[0]||(n[0]=(...u)=>t.hoverItem&&t.hoverItem(...u)),onClick:n[1]||(n[1]=_t((...u)=>t.selectOptionClick&&t.selectOptionClick(...u),["stop"]))},[Te(t.$slots,"default",{},()=>[Q("span",null,We(t.currentLabel),1)])],42,Ste)),[[qt,t.visible]])}var g0=Ge(Ete,[["render",Cte],["__file","option.vue"]]);const Ite=ne({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=it(zc),n=Pe("select"),o=w(()=>t.props.popperClass),i=w(()=>t.props.multiple),l=w(()=>t.props.fitInputWidth),a=V("");function u(){var h;a.value=`${(h=t.selectRef)==null?void 0:h.offsetWidth}px`}return Rt(()=>{u(),wn(t.selectRef,u)}),{ns:n,minWidth:a,popperClass:o,isMultiple:i,isFitInputWidth:l}}});function wte(t,n,o,i,l,a){return A(),Y("div",{class:N([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:ct({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(A(),Y("div",{key:0,class:N(t.ns.be("dropdown","header"))},[Te(t.$slots,"header")],2)):$e("v-if",!0),Te(t.$slots,"default"),t.$slots.footer?(A(),Y("div",{key:1,class:N(t.ns.be("dropdown","footer"))},[Te(t.$slots,"footer")],2)):$e("v-if",!0)],6)}var kte=Ge(Ite,[["render",wte],["__file","select-dropdown.vue"]]);function VD(t){const n=V(!1);return{handleCompositionStart:()=>{n.value=!0},handleCompositionUpdate:a=>{const u=a.target.value,h=u[u.length-1]||"";n.value=!LE(h)},handleCompositionEnd:a=>{n.value&&(n.value=!1,vt(t)&&t(a))}}}const Ote=11,Rte=(t,n)=>{const{t:o}=jt(),i=Io(),l=Pe("select"),a=Pe("input"),u=en({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:t.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),h=V(null),p=V(null),f=V(null),g=V(null),m=V(null),_=V(null),b=V(null),T=V(null),$=V(null),E=V(null),y=V(null),I=V(null),{wrapperRef:S,isFocused:C,handleFocus:R,handleBlur:O}=xg(m,{afterFocus(){t.automaticDropdown&&!P.value&&(P.value=!0,u.menuVisibleOnFocus=!0)},beforeBlur(Ze){var $t,cn;return(($t=f.value)==null?void 0:$t.isFocusInsideContent(Ze))||((cn=g.value)==null?void 0:cn.isFocusInsideContent(Ze))},afterBlur(){P.value=!1,u.menuVisibleOnFocus=!1}}),P=V(!1),M=V(),{form:H,formItem:F}=Fo(),{inputId:B}=$i(t,{formItemContext:F}),{valueOnClear:K,isEmptyValue:te}=Bg(t),J=w(()=>t.disabled||(H==null?void 0:H.disabled)),j=w(()=>t.multiple?tt(t.modelValue)&&t.modelValue.length>0:!te(t.modelValue)),z=w(()=>t.clearable&&!J.value&&u.inputHovering&&j.value),G=w(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),W=w(()=>l.is("reverse",G.value&&P.value)),D=w(()=>(F==null?void 0:F.validateState)||""),X=w(()=>RE[D.value]),oe=w(()=>t.remote?300:0),le=w(()=>t.loading?t.loadingText||o("el.select.loading"):t.remote&&!u.inputValue&&u.options.size===0?!1:t.filterable&&u.inputValue&&u.options.size>0&&me.value===0?t.noMatchText||o("el.select.noMatch"):u.options.size===0?t.noDataText||o("el.select.noData"):null),me=w(()=>Se.value.filter(Ze=>Ze.visible).length),Se=w(()=>{const Ze=Array.from(u.options.values()),$t=[];return u.optionValues.forEach(cn=>{const yn=Ze.findIndex(ko=>ko.value===cn);yn>-1&&$t.push(Ze[yn])}),$t.length>=Ze.length?$t:Ze}),De=w(()=>Array.from(u.cachedOptions.values())),ce=w(()=>{const Ze=Se.value.filter($t=>!$t.created).some($t=>$t.currentLabel===u.inputValue);return t.filterable&&t.allowCreate&&u.inputValue!==""&&!Ze}),ye=()=>{t.filterable&&vt(t.filterMethod)||t.filterable&&t.remote&&vt(t.remoteMethod)||Se.value.forEach(Ze=>{var $t;($t=Ze.updateOption)==null||$t.call(Ze,u.inputValue)})},_e=Xn(),Ke=w(()=>["small"].includes(_e.value)?"small":"default"),ve=w({get(){return P.value&&le.value!==!1},set(Ze){P.value=Ze}}),Ae=w(()=>tt(t.modelValue)?t.modelValue.length===0&&!u.inputValue:t.filterable?!u.inputValue:!0),Fe=w(()=>{var Ze;const $t=(Ze=t.placeholder)!=null?Ze:o("el.select.placeholder");return t.multiple||!j.value?$t:u.selectedLabel}),ae=w(()=>ST?null:"mouseenter");Me(()=>t.modelValue,(Ze,$t)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(u.inputValue="",de("")),Be(),!Po(Ze,$t)&&t.validateEvent&&(F==null||F.validate("change").catch(cn=>void 0))},{flush:"post",deep:!0}),Me(()=>P.value,Ze=>{Ze?de(u.inputValue):(u.inputValue="",u.previousQuery=null,u.isBeforeHide=!0),n("visible-change",Ze)}),Me(()=>u.options.entries(),()=>{var Ze;if(!Xt)return;const $t=((Ze=h.value)==null?void 0:Ze.querySelectorAll("input"))||[];(!t.filterable&&!t.defaultFirstOption&&!Hn(t.modelValue)||!Array.from($t).includes(document.activeElement))&&Be(),t.defaultFirstOption&&(t.filterable||t.remote)&&me.value&&Re()},{flush:"post"}),Me(()=>u.hoveringIndex,Ze=>{gt(Ze)&&Ze>-1?M.value=Se.value[Ze]||{}:M.value={},Se.value.forEach($t=>{$t.hover=M.value===$t})}),So(()=>{u.isBeforeHide||ye()});const de=Ze=>{u.previousQuery!==Ze&&(u.previousQuery=Ze,t.filterable&&vt(t.filterMethod)?t.filterMethod(Ze):t.filterable&&t.remote&&vt(t.remoteMethod)&&t.remoteMethod(Ze),t.defaultFirstOption&&(t.filterable||t.remote)&&me.value?pt(Re):pt(Ne))},Re=()=>{const Ze=Se.value.filter(yn=>yn.visible&&!yn.disabled&&!yn.states.groupDisabled),$t=Ze.find(yn=>yn.created),cn=Ze[0];u.hoveringIndex=L(Se.value,$t||cn)},Be=()=>{if(t.multiple)u.selectedLabel="";else{const $t=Ee(t.modelValue);u.selectedLabel=$t.currentLabel,u.selected=$t;return}const Ze=[];tt(t.modelValue)&&t.modelValue.forEach($t=>{Ze.push(Ee($t))}),u.selected=Ze},Ee=Ze=>{let $t;const cn=lm(Ze).toLowerCase()==="object",yn=lm(Ze).toLowerCase()==="null",ko=lm(Ze).toLowerCase()==="undefined";for(let vo=u.cachedOptions.size-1;vo>=0;vo--){const Vo=De.value[vo];if(cn?xn(Vo.value,t.valueKey)===xn(Ze,t.valueKey):Vo.value===Ze){$t={value:Ze,currentLabel:Vo.currentLabel,get isDisabled(){return Vo.isDisabled}};break}}if($t)return $t;const cs=cn?Ze.label:!yn&&!ko?Ze:"";return{value:Ze,currentLabel:cs}},Ne=()=>{t.multiple?u.hoveringIndex=Se.value.findIndex(Ze=>u.selected.some($t=>co($t)===co(Ze))):u.hoveringIndex=Se.value.findIndex(Ze=>co(Ze)===co(u.selected))},He=()=>{u.selectionWidth=p.value.getBoundingClientRect().width},ue=()=>{u.calculatorWidth=_.value.getBoundingClientRect().width},Ie=()=>{u.collapseItemWidth=y.value.getBoundingClientRect().width},ke=()=>{var Ze,$t;($t=(Ze=f.value)==null?void 0:Ze.updatePopper)==null||$t.call(Ze)},Ue=()=>{var Ze,$t;($t=(Ze=g.value)==null?void 0:Ze.updatePopper)==null||$t.call(Ze)},ot=()=>{u.inputValue.length>0&&!P.value&&(P.value=!0),de(u.inputValue)},q=Ze=>{if(u.inputValue=Ze.target.value,t.remote)Qe();else return ot()},Qe=us(()=>{ot()},oe.value),lt=Ze=>{Po(t.modelValue,Ze)||n(vn,Ze)},bt=Ze=>QN(Ze,$t=>!u.disabledOptions.has($t)),Tt=Ze=>{if(t.multiple&&Ze.code!==mt.delete&&Ze.target.value.length<=0){const $t=t.modelValue.slice(),cn=bt($t);if(cn<0)return;const yn=$t[cn];$t.splice(cn,1),n(Bt,$t),lt($t),n("remove-tag",yn)}},st=(Ze,$t)=>{const cn=u.selected.indexOf($t);if(cn>-1&&!J.value){const yn=t.modelValue.slice();yn.splice(cn,1),n(Bt,yn),lt(yn),n("remove-tag",$t.value)}Ze.stopPropagation(),Ce()},Le=Ze=>{Ze.stopPropagation();const $t=t.multiple?[]:K.value;if(t.multiple)for(const cn of u.selected)cn.isDisabled&&$t.push(cn.value);n(Bt,$t),lt($t),u.hoveringIndex=-1,P.value=!1,n("clear"),Ce()},Ye=Ze=>{if(t.multiple){const $t=(t.modelValue||[]).slice(),cn=L($t,Ze.value);cn>-1?$t.splice(cn,1):(t.multipleLimit<=0||$t.length<t.multipleLimit)&&$t.push(Ze.value),n(Bt,$t),lt($t),Ze.created&&de(""),t.filterable&&!t.reserveKeyword&&(u.inputValue="")}else n(Bt,Ze.value),lt(Ze.value),P.value=!1;Ce(),!P.value&&pt(()=>{x(Ze)})},L=(Ze=[],$t)=>{if(!Pt($t))return Ze.indexOf($t);const cn=t.valueKey;let yn=-1;return Ze.some((ko,cs)=>rn(xn(ko,cn))===xn($t,cn)?(yn=cs,!0):!1),yn},x=Ze=>{var $t,cn,yn,ko,cs;const Js=tt(Ze)?Ze[0]:Ze;let vo=null;if(Js!=null&&Js.value){const Vo=Se.value.filter(Zs=>Zs.value===Js.value);Vo.length>0&&(vo=Vo[0].$el)}if(f.value&&vo){const Vo=(ko=(yn=(cn=($t=f.value)==null?void 0:$t.popperRef)==null?void 0:cn.contentRef)==null?void 0:yn.querySelector)==null?void 0:ko.call(yn,`.${l.be("dropdown","wrap")}`);Vo&&s1(Vo,vo)}(cs=I.value)==null||cs.handleScroll()},ee=Ze=>{u.options.set(Ze.value,Ze),u.cachedOptions.set(Ze.value,Ze),Ze.disabled&&u.disabledOptions.set(Ze.value,Ze)},pe=(Ze,$t)=>{u.options.get(Ze)===$t&&u.options.delete(Ze)},{handleCompositionStart:re,handleCompositionUpdate:je,handleCompositionEnd:Et}=VD(Ze=>q(Ze)),U=w(()=>{var Ze,$t;return($t=(Ze=f.value)==null?void 0:Ze.popperRef)==null?void 0:$t.contentRef}),se=()=>{u.isBeforeHide=!1,pt(()=>x(u.selected))},Ce=()=>{var Ze;(Ze=m.value)==null||Ze.focus()},we=()=>{At()},et=Ze=>{Le(Ze)},At=Ze=>{if(P.value=!1,C.value){const $t=new FocusEvent("focus",Ze);pt(()=>O($t))}},Fn=()=>{u.inputValue.length>0?u.inputValue="":P.value=!1},$o=()=>{J.value||(ST&&(u.inputHovering=!0),u.menuVisibleOnFocus?u.menuVisibleOnFocus=!1:P.value=!P.value)},Ho=()=>{P.value?Se.value[u.hoveringIndex]&&Ye(Se.value[u.hoveringIndex]):$o()},co=Ze=>Pt(Ze.value)?xn(Ze.value,t.valueKey):Ze.value,Un=w(()=>Se.value.filter(Ze=>Ze.visible).every(Ze=>Ze.disabled)),wo=w(()=>t.multiple?t.collapseTags?u.selected.slice(0,t.maxCollapseTags):u.selected:[]),qs=w(()=>t.multiple?t.collapseTags?u.selected.slice(t.maxCollapseTags):[]:[]),Dl=Ze=>{if(!P.value){P.value=!0;return}if(!(u.options.size===0||me.value===0)&&!Un.value){Ze==="next"?(u.hoveringIndex++,u.hoveringIndex===u.options.size&&(u.hoveringIndex=0)):Ze==="prev"&&(u.hoveringIndex--,u.hoveringIndex<0&&(u.hoveringIndex=u.options.size-1));const $t=Se.value[u.hoveringIndex];($t.disabled===!0||$t.states.groupDisabled===!0||!$t.visible)&&Dl(Ze),pt(()=>x(M.value))}},Yi=()=>{if(!p.value)return 0;const Ze=window.getComputedStyle(p.value);return Number.parseFloat(Ze.gap||"6px")},Pr=w(()=>{const Ze=Yi();return{maxWidth:`${y.value&&t.maxCollapseTags===1?u.selectionWidth-u.collapseItemWidth-Ze:u.selectionWidth}px`}}),ja=w(()=>({maxWidth:`${u.selectionWidth}px`})),xr=w(()=>({width:`${Math.max(u.calculatorWidth,Ote)}px`}));return t.multiple&&!tt(t.modelValue)&&n(Bt,[]),!t.multiple&&tt(t.modelValue)&&n(Bt,""),wn(p,He),wn(_,ue),wn($,ke),wn(S,ke),wn(E,Ue),wn(y,Ie),Rt(()=>{Be()}),{inputId:B,contentId:i,nsSelect:l,nsInput:a,states:u,isFocused:C,expanded:P,optionsArray:Se,hoverOption:M,selectSize:_e,filteredOptionsCount:me,resetCalculatorWidth:ue,updateTooltip:ke,updateTagTooltip:Ue,debouncedOnInputChange:Qe,onInput:q,deletePrevTag:Tt,deleteTag:st,deleteSelected:Le,handleOptionSelect:Ye,scrollToOption:x,hasModelValue:j,shouldShowPlaceholder:Ae,currentPlaceholder:Fe,mouseEnterEventName:ae,showClose:z,iconComponent:G,iconReverse:W,validateState:D,validateIcon:X,showNewOption:ce,updateOptions:ye,collapseTagSize:Ke,setSelected:Be,selectDisabled:J,emptyText:le,handleCompositionStart:re,handleCompositionUpdate:je,handleCompositionEnd:Et,onOptionCreate:ee,onOptionDestroy:pe,handleMenuEnter:se,handleFocus:R,focus:Ce,blur:we,handleBlur:O,handleClearClick:et,handleClickOutside:At,handleEsc:Fn,toggleMenu:$o,selectOption:Ho,getValueKey:co,navigateOptions:Dl,dropdownMenuVisible:ve,showTagList:wo,collapseTagList:qs,tagStyle:Pr,collapseTagStyle:ja,inputStyle:xr,popperRef:U,inputRef:m,tooltipRef:f,tagTooltipRef:g,calculatorRef:_,prefixRef:b,suffixRef:T,selectRef:h,wrapperRef:S,selectionRef:p,scrollbarRef:I,menuRef:$,tagMenuRef:E,collapseItemRef:y}};var Lte=ne({name:"ElOptions",setup(t,{slots:n}){const o=it(zc);let i=[];return()=>{var l,a;const u=(l=n.default)==null?void 0:l.call(n),h=[];function p(f){tt(f)&&f.forEach(g=>{var m,_,b,T;const $=(m=(g==null?void 0:g.type)||{})==null?void 0:m.name;$==="ElOptionGroup"?p(!yt(g.children)&&!tt(g.children)&&vt((_=g.children)==null?void 0:_.default)?(b=g.children)==null?void 0:b.default():g.children):$==="ElOption"?h.push((T=g.props)==null?void 0:T.value):tt(g.children)&&p(g.children)})}return u.length&&p((a=u[0])==null?void 0:a.children),Po(h,i)||(i=h,o&&(o.states.optionValues=h)),u}}});const Ate=Ve({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Jn,effect:{type:fe(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:fe(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:io.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:an,default:Al},fitInputWidth:Boolean,suffixIcon:{type:an,default:Nr},tagType:{...Ug.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:fe(String),values:Xa,default:"bottom-start"},fallbackPlacements:{type:fe(Array),default:["bottom-start","top-start","right","left"]},...Gc,...go(["ariaLabel"])}),sL="ElSelect",Nte=ne({name:sL,componentName:sL,components:{ElInput:Do,ElSelectMenu:kte,ElOption:g0,ElOptions:Lte,ElTag:Mh,ElScrollbar:Dr,ElTooltip:Bo,ElIcon:at},directives:{ClickOutside:kr},props:Ate,emits:[Bt,vn,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:n}){const o=Rte(t,n);return Gt(zc,en({props:t,states:o.states,optionsArray:o.optionsArray,handleOptionSelect:o.handleOptionSelect,onOptionCreate:o.onOptionCreate,onOptionDestroy:o.onOptionDestroy,selectRef:o.selectRef,setSelected:o.setSelected})),{...o}}}),Mte=["id","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],Dte=["textContent"],Pte={key:1};function xte(t,n,o,i,l,a){const u=Lt("el-tag"),h=Lt("el-tooltip"),p=Lt("el-icon"),f=Lt("el-option"),g=Lt("el-options"),m=Lt("el-scrollbar"),_=Lt("el-select-menu"),b=vg("click-outside");return Ot((A(),Y("div",{ref:"selectRef",class:N([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[th(t.mouseEnterEventName)]:n[16]||(n[16]=T=>t.states.inputHovering=!0),onMouseleave:n[17]||(n[17]=T=>t.states.inputHovering=!1),onClick:n[18]||(n[18]=_t((...T)=>t.toggleMenu&&t.toggleMenu(...T),["prevent","stop"]))},[ie(h,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:n[15]||(n[15]=T=>t.states.isBeforeHide=!1)},{default:he(()=>{var T;return[Q("div",{ref:"wrapperRef",class:N([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(A(),Y("div",{key:0,ref:"prefixRef",class:N(t.nsSelect.e("prefix"))},[Te(t.$slots,"prefix")],2)):$e("v-if",!0),Q("div",{ref:"selectionRef",class:N([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?Te(t.$slots,"tag",{key:0},()=>[(A(!0),Y(dt,null,Kt(t.showTagList,$=>(A(),Y("div",{key:t.getValueKey($),class:N(t.nsSelect.e("selected-item"))},[ie(u,{closable:!t.selectDisabled&&!$.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:ct(t.tagStyle),onClose:E=>t.deleteTag(E,$)},{default:he(()=>[Q("span",{class:N(t.nsSelect.e("tags-text"))},[Te(t.$slots,"label",{label:$.currentLabel,value:$.value},()=>[zt(We($.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(A(),be(h,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:he(()=>[Q("div",{ref:"collapseItemRef",class:N(t.nsSelect.e("selected-item"))},[ie(u,{closable:!1,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:ct(t.collapseTagStyle)},{default:he(()=>[Q("span",{class:N(t.nsSelect.e("tags-text"))}," + "+We(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:he(()=>[Q("div",{ref:"tagMenuRef",class:N(t.nsSelect.e("selection"))},[(A(!0),Y(dt,null,Kt(t.collapseTagList,$=>(A(),Y("div",{key:t.getValueKey($),class:N(t.nsSelect.e("selected-item"))},[ie(u,{class:"in-tooltip",closable:!t.selectDisabled&&!$.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:E=>t.deleteTag(E,$)},{default:he(()=>[Q("span",{class:N(t.nsSelect.e("tags-text"))},[Te(t.$slots,"label",{label:$.currentLabel,value:$.value},()=>[zt(We($.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):$e("v-if",!0)]):$e("v-if",!0),t.selectDisabled?$e("v-if",!0):(A(),Y("div",{key:1,class:N([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Ot(Q("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":n[0]||(n[0]=$=>t.states.inputValue=$),type:"text",name:t.name,class:N([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:ct(t.inputStyle),role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((T=t.hoverOption)==null?void 0:T.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:n[1]||(n[1]=(...$)=>t.handleFocus&&t.handleFocus(...$)),onBlur:n[2]||(n[2]=(...$)=>t.handleBlur&&t.handleBlur(...$)),onKeydown:[n[3]||(n[3]=ln(_t($=>t.navigateOptions("next"),["stop","prevent"]),["down"])),n[4]||(n[4]=ln(_t($=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),n[5]||(n[5]=ln(_t((...$)=>t.handleEsc&&t.handleEsc(...$),["stop","prevent"]),["esc"])),n[6]||(n[6]=ln(_t((...$)=>t.selectOption&&t.selectOption(...$),["stop","prevent"]),["enter"])),n[7]||(n[7]=ln(_t((...$)=>t.deletePrevTag&&t.deletePrevTag(...$),["stop"]),["delete"]))],onCompositionstart:n[8]||(n[8]=(...$)=>t.handleCompositionStart&&t.handleCompositionStart(...$)),onCompositionupdate:n[9]||(n[9]=(...$)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...$)),onCompositionend:n[10]||(n[10]=(...$)=>t.handleCompositionEnd&&t.handleCompositionEnd(...$)),onInput:n[11]||(n[11]=(...$)=>t.onInput&&t.onInput(...$)),onClick:n[12]||(n[12]=_t((...$)=>t.toggleMenu&&t.toggleMenu(...$),["stop"]))},null,46,Mte),[[nE,t.states.inputValue]]),t.filterable?(A(),Y("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:N(t.nsSelect.e("input-calculator")),textContent:We(t.states.inputValue)},null,10,Dte)):$e("v-if",!0)],2)),t.shouldShowPlaceholder?(A(),Y("div",{key:2,class:N([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?Te(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[Q("span",null,We(t.currentPlaceholder),1)]):(A(),Y("span",Pte,We(t.currentPlaceholder),1))],2)):$e("v-if",!0)],2),Q("div",{ref:"suffixRef",class:N(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(A(),be(p,{key:0,class:N([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:he(()=>[(A(),be(Ft(t.iconComponent)))]),_:1},8,["class"])):$e("v-if",!0),t.showClose&&t.clearIcon?(A(),be(p,{key:1,class:N([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:he(()=>[(A(),be(Ft(t.clearIcon)))]),_:1},8,["class","onClick"])):$e("v-if",!0),t.validateState&&t.validateIcon?(A(),be(p,{key:2,class:N([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:he(()=>[(A(),be(Ft(t.validateIcon)))]),_:1},8,["class"])):$e("v-if",!0)],2)],2)]}),content:he(()=>[ie(_,{ref:"menuRef"},{default:he(()=>[t.$slots.header?(A(),Y("div",{key:0,class:N(t.nsSelect.be("dropdown","header")),onClick:n[13]||(n[13]=_t(()=>{},["stop"]))},[Te(t.$slots,"header")],2)):$e("v-if",!0),Ot(ie(m,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:N([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:he(()=>[t.showNewOption?(A(),be(f,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):$e("v-if",!0),ie(g,null,{default:he(()=>[Te(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[qt,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(A(),Y("div",{key:1,class:N(t.nsSelect.be("dropdown","loading"))},[Te(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(A(),Y("div",{key:2,class:N(t.nsSelect.be("dropdown","empty"))},[Te(t.$slots,"empty",{},()=>[Q("span",null,We(t.emptyText),1)])],2)):$e("v-if",!0),t.$slots.footer?(A(),Y("div",{key:3,class:N(t.nsSelect.be("dropdown","footer")),onClick:n[14]||(n[14]=_t(()=>{},["stop"]))},[Te(t.$slots,"footer")],2)):$e("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],16)),[[b,t.handleClickOutside,t.popperRef]])}var Bte=Ge(Nte,[["render",xte],["__file","select.vue"]]);const Fte=ne({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const n=Pe("select"),o=V(null),i=Nt(),l=V([]);Gt(HD,en({...mo(t)}));const a=w(()=>l.value.some(f=>f.visible===!0)),u=f=>{var g,m;return((g=f.type)==null?void 0:g.name)==="ElOption"&&!!((m=f.component)!=null&&m.proxy)},h=f=>{const g=yl(f),m=[];return g.forEach(_=>{var b,T;u(_)?m.push(_.component.proxy):(b=_.children)!=null&&b.length?m.push(...h(_.children)):(T=_.component)!=null&&T.subTree&&m.push(...h(_.component.subTree))}),m},p=()=>{l.value=h(i.subTree)};return Rt(()=>{p()}),pN(o,p,{attributes:!0,subtree:!0,childList:!0}),{groupRef:o,visible:a,ns:n}}});function Hte(t,n,o,i,l,a){return Ot((A(),Y("ul",{ref:"groupRef",class:N(t.ns.be("group","wrap"))},[Q("li",{class:N(t.ns.be("group","title"))},We(t.label),3),Q("li",null,[Q("ul",{class:N(t.ns.b("group"))},[Te(t.$slots,"default")],2)])],2)),[[qt,t.visible]])}var UD=Ge(Fte,[["render",Hte],["__file","option-group.vue"]]);const Va=Mt(Bte,{Option:g0,OptionGroup:UD}),ng=On(g0),Vte=On(UD),$0=()=>it(FD,{}),Ute=Ve({pageSize:{type:Number,required:!0},pageSizes:{type:fe(Array),default:()=>kn([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Ki}}),Gte=ne({name:"ElPaginationSizes"}),Wte=ne({...Gte,props:Ute,emits:["page-size-change"],setup(t,{emit:n}){const o=t,{t:i}=jt(),l=Pe("pagination"),a=$0(),u=V(o.pageSize);Me(()=>o.pageSizes,(f,g)=>{if(!Po(f,g)&&Array.isArray(f)){const m=f.includes(o.pageSize)?o.pageSize:o.pageSizes[0];n("page-size-change",m)}}),Me(()=>o.pageSize,f=>{u.value=f});const h=w(()=>o.pageSizes);function p(f){var g;f!==u.value&&(u.value=f,(g=a.handleSizeChange)==null||g.call(a,Number(f)))}return(f,g)=>(A(),Y("span",{class:N(c(l).e("sizes"))},[ie(c(Va),{"model-value":u.value,disabled:f.disabled,"popper-class":f.popperClass,size:f.size,teleported:f.teleported,"validate-event":!1,onChange:p},{default:he(()=>[(A(!0),Y(dt,null,Kt(c(h),m=>(A(),be(c(ng),{key:m,value:m,label:m+c(i)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var zte=Ge(Wte,[["__file","sizes.vue"]]);const Kte=Ve({size:{type:String,values:Ki}}),Xte=["disabled"],Yte=ne({name:"ElPaginationJumper"}),jte=ne({...Yte,props:Kte,setup(t){const{t:n}=jt(),o=Pe("pagination"),{pageCount:i,disabled:l,currentPage:a,changeEvent:u}=$0(),h=V(),p=w(()=>{var m;return(m=h.value)!=null?m:a==null?void 0:a.value});function f(m){h.value=m?+m:""}function g(m){m=Math.trunc(+m),u==null||u(m),h.value=void 0}return(m,_)=>(A(),Y("span",{class:N(c(o).e("jump")),disabled:c(l)},[Q("span",{class:N([c(o).e("goto")])},We(c(n)("el.pagination.goto")),3),ie(c(Do),{size:m.size,class:N([c(o).e("editor"),c(o).is("in-pagination")]),min:1,max:c(i),disabled:c(l),"model-value":c(p),"validate-event":!1,"aria-label":c(n)("el.pagination.page"),type:"number","onUpdate:modelValue":f,onChange:g},null,8,["size","class","max","disabled","model-value","aria-label"]),Q("span",{class:N([c(o).e("classifier")])},We(c(n)("el.pagination.pageClassifier")),3)],10,Xte))}});var qte=Ge(jte,[["__file","jumper.vue"]]);const Jte=Ve({total:{type:Number,default:1e3}}),Zte=["disabled"],Qte=ne({name:"ElPaginationTotal"}),ene=ne({...Qte,props:Jte,setup(t){const{t:n}=jt(),o=Pe("pagination"),{disabled:i}=$0();return(l,a)=>(A(),Y("span",{class:N(c(o).e("total")),disabled:c(i)},We(c(n)("el.pagination.total",{total:l.total})),11,Zte))}});var tne=Ge(ene,[["__file","total.vue"]]);const nne=Ve({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),one=["onKeyup"],sne=["aria-current","aria-label","tabindex"],ine=["tabindex","aria-label"],rne=["aria-current","aria-label","tabindex"],lne=["tabindex","aria-label"],ane=["aria-current","aria-label","tabindex"],une=ne({name:"ElPaginationPager"}),cne=ne({...une,props:nne,emits:["change"],setup(t,{emit:n}){const o=t,i=Pe("pager"),l=Pe("icon"),{t:a}=jt(),u=V(!1),h=V(!1),p=V(!1),f=V(!1),g=V(!1),m=V(!1),_=w(()=>{const C=o.pagerCount,R=(C-1)/2,O=Number(o.currentPage),P=Number(o.pageCount);let M=!1,H=!1;P>C&&(O>C-R&&(M=!0),O<P-R&&(H=!0));const F=[];if(M&&!H){const B=P-(C-2);for(let K=B;K<P;K++)F.push(K)}else if(!M&&H)for(let B=2;B<C;B++)F.push(B);else if(M&&H){const B=Math.floor(C/2)-1;for(let K=O-B;K<=O+B;K++)F.push(K)}else for(let B=2;B<P;B++)F.push(B);return F}),b=w(()=>["more","btn-quickprev",l.b(),i.is("disabled",o.disabled)]),T=w(()=>["more","btn-quicknext",l.b(),i.is("disabled",o.disabled)]),$=w(()=>o.disabled?-1:0);So(()=>{const C=(o.pagerCount-1)/2;u.value=!1,h.value=!1,o.pageCount>o.pagerCount&&(o.currentPage>o.pagerCount-C&&(u.value=!0),o.currentPage<o.pageCount-C&&(h.value=!0))});function E(C=!1){o.disabled||(C?p.value=!0:f.value=!0)}function y(C=!1){C?g.value=!0:m.value=!0}function I(C){const R=C.target;if(R.tagName.toLowerCase()==="li"&&Array.from(R.classList).includes("number")){const O=Number(R.textContent);O!==o.currentPage&&n("change",O)}else R.tagName.toLowerCase()==="li"&&Array.from(R.classList).includes("more")&&S(C)}function S(C){const R=C.target;if(R.tagName.toLowerCase()==="ul"||o.disabled)return;let O=Number(R.textContent);const P=o.pageCount,M=o.currentPage,H=o.pagerCount-2;R.className.includes("more")&&(R.className.includes("quickprev")?O=M-H:R.className.includes("quicknext")&&(O=M+H)),Number.isNaN(+O)||(O<1&&(O=1),O>P&&(O=P)),O!==M&&n("change",O)}return(C,R)=>(A(),Y("ul",{class:N(c(i).b()),onClick:S,onKeyup:ln(I,["enter"])},[C.pageCount>0?(A(),Y("li",{key:0,class:N([[c(i).is("active",C.currentPage===1),c(i).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===1,"aria-label":c(a)("el.pagination.currentPage",{pager:1}),tabindex:c($)}," 1 ",10,sne)):$e("v-if",!0),u.value?(A(),Y("li",{key:1,class:N(c(b)),tabindex:c($),"aria-label":c(a)("el.pagination.prevPages",{pager:C.pagerCount-2}),onMouseenter:R[0]||(R[0]=O=>E(!0)),onMouseleave:R[1]||(R[1]=O=>p.value=!1),onFocus:R[2]||(R[2]=O=>y(!0)),onBlur:R[3]||(R[3]=O=>g.value=!1)},[(p.value||g.value)&&!C.disabled?(A(),be(c(bc),{key:0})):(A(),be(c(KO),{key:1}))],42,ine)):$e("v-if",!0),(A(!0),Y(dt,null,Kt(c(_),O=>(A(),Y("li",{key:O,class:N([[c(i).is("active",C.currentPage===O),c(i).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===O,"aria-label":c(a)("el.pagination.currentPage",{pager:O}),tabindex:c($)},We(O),11,rne))),128)),h.value?(A(),Y("li",{key:2,class:N(c(T)),tabindex:c($),"aria-label":c(a)("el.pagination.nextPages",{pager:C.pagerCount-2}),onMouseenter:R[4]||(R[4]=O=>E()),onMouseleave:R[5]||(R[5]=O=>f.value=!1),onFocus:R[6]||(R[6]=O=>y()),onBlur:R[7]||(R[7]=O=>m.value=!1)},[(f.value||m.value)&&!C.disabled?(A(),be(c(Tc),{key:0})):(A(),be(c(KO),{key:1}))],42,lne)):$e("v-if",!0),C.pageCount>1?(A(),Y("li",{key:3,class:N([[c(i).is("active",C.currentPage===C.pageCount),c(i).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===C.pageCount,"aria-label":c(a)("el.pagination.currentPage",{pager:C.pageCount}),tabindex:c($)},We(C.pageCount),11,ane)):$e("v-if",!0)],42,one))}});var dne=Ge(cne,[["__file","pager.vue"]]);const Ko=t=>typeof t!="number",hne=Ve({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>gt(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:fe(Array),default:()=>kn([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:an,default:()=>Sl},nextText:{type:String,default:""},nextIcon:{type:an,default:()=>Yo},teleported:{type:Boolean,default:!0},small:Boolean,size:Jn,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),pne={"update:current-page":t=>gt(t),"update:page-size":t=>gt(t),"size-change":t=>gt(t),change:(t,n)=>gt(t)&&gt(n),"current-change":t=>gt(t),"prev-click":t=>gt(t),"next-click":t=>gt(t)},iL="ElPagination";var fne=ne({name:iL,props:hne,emits:pne,setup(t,{emit:n,slots:o}){const{t:i}=jt(),l=Pe("pagination"),a=Nt().vnode.props||{},u=w(()=>t.small?"small":t==null?void 0:t.size);eo({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},w(()=>!!t.small));const h="onUpdate:currentPage"in a||"onUpdate:current-page"in a||"onCurrentChange"in a,p="onUpdate:pageSize"in a||"onUpdate:page-size"in a||"onSizeChange"in a,f=w(()=>{if(Ko(t.total)&&Ko(t.pageCount)||!Ko(t.currentPage)&&!h)return!1;if(t.layout.includes("sizes")){if(Ko(t.pageCount)){if(!Ko(t.total)&&!Ko(t.pageSize)&&!p)return!1}else if(!p)return!1}return!0}),g=V(Ko(t.defaultPageSize)?10:t.defaultPageSize),m=V(Ko(t.defaultCurrentPage)?1:t.defaultCurrentPage),_=w({get(){return Ko(t.pageSize)?g.value:t.pageSize},set(C){Ko(t.pageSize)&&(g.value=C),p&&(n("update:page-size",C),n("size-change",C))}}),b=w(()=>{let C=0;return Ko(t.pageCount)?Ko(t.total)||(C=Math.max(1,Math.ceil(t.total/_.value))):C=t.pageCount,C}),T=w({get(){return Ko(t.currentPage)?m.value:t.currentPage},set(C){let R=C;C<1?R=1:C>b.value&&(R=b.value),Ko(t.currentPage)&&(m.value=R),h&&(n("update:current-page",R),n("current-change",R))}});Me(b,C=>{T.value>C&&(T.value=C)}),Me([T,_],C=>{n("change",...C)},{flush:"post"});function $(C){T.value=C}function E(C){_.value=C;const R=b.value;T.value>R&&(T.value=R)}function y(){t.disabled||(T.value-=1,n("prev-click",T.value))}function I(){t.disabled||(T.value+=1,n("next-click",T.value))}function S(C,R){C&&(C.props||(C.props={}),C.props.class=[C.props.class,R].join(" "))}return Gt(FD,{pageCount:b,disabled:w(()=>t.disabled),currentPage:T,changeEvent:$,handleSizeChange:E}),()=>{var C,R;if(!f.value)return i("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&b.value<=1)return null;const O=[],P=[],M=ft("div",{class:l.e("rightwrapper")},P),H={prev:ft(mte,{disabled:t.disabled,currentPage:T.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:y}),jumper:ft(qte,{size:u.value}),pager:ft(dne,{currentPage:T.value,pageCount:b.value,pagerCount:t.pagerCount,onChange:$,disabled:t.disabled}),next:ft(Tte,{disabled:t.disabled,currentPage:T.value,pageCount:b.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:I}),sizes:ft(zte,{pageSize:_.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:u.value}),slot:(R=(C=o==null?void 0:o.default)==null?void 0:C.call(o))!=null?R:null,total:ft(tne,{total:Ko(t.total)?0:t.total})},F=t.layout.split(",").map(K=>K.trim());let B=!1;return F.forEach(K=>{if(K==="->"){B=!0;return}B?P.push(H[K]):O.push(H[K])}),S(O[0],l.is("first")),S(O[O.length-1],l.is("last")),B&&P.length>0&&(S(P[0],l.is("first")),S(P[P.length-1],l.is("last")),O.push(M)),ft("div",{class:[l.b(),l.is("background",t.background),l.m(u.value)]},O)}}});const mne=Mt(fne),gne=Ve({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:UT,default:"primary"},cancelButtonType:{type:String,values:UT,default:"text"},icon:{type:an,default:()=>x4},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:io.teleported,persistent:io.persistent,width:{type:[String,Number],default:150}}),$ne={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},vne=ne({name:"ElPopconfirm"}),_ne=ne({...vne,props:gne,emits:$ne,setup(t,{emit:n}){const o=t,{t:i}=jt(),l=Pe("popconfirm"),a=V(),u=()=>{var _,b;(b=(_=a.value)==null?void 0:_.onClose)==null||b.call(_)},h=w(()=>({width:Mn(o.width)})),p=_=>{n("confirm",_),u()},f=_=>{n("cancel",_),u()},g=w(()=>o.confirmButtonText||i("el.popconfirm.confirmButtonText")),m=w(()=>o.cancelButtonText||i("el.popconfirm.cancelButtonText"));return(_,b)=>(A(),be(c(Bo),Vt({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},_.$attrs,{"popper-class":`${c(l).namespace.value}-popover`,"popper-style":c(h),teleported:_.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":_.hideAfter,persistent:_.persistent}),{content:he(()=>[Q("div",{class:N(c(l).b())},[Q("div",{class:N(c(l).e("main"))},[!_.hideIcon&&_.icon?(A(),be(c(at),{key:0,class:N(c(l).e("icon")),style:ct({color:_.iconColor})},{default:he(()=>[(A(),be(Ft(_.icon)))]),_:1},8,["class","style"])):$e("v-if",!0),zt(" "+We(_.title),1)],2),Q("div",{class:N(c(l).e("action"))},[ie(c(lo),{size:"small",type:_.cancelButtonType==="text"?"":_.cancelButtonType,text:_.cancelButtonType==="text",onClick:f},{default:he(()=>[zt(We(c(m)),1)]),_:1},8,["type","text"]),ie(c(lo),{size:"small",type:_.confirmButtonType==="text"?"":_.confirmButtonType,text:_.confirmButtonType==="text",onClick:p},{default:he(()=>[zt(We(c(g)),1)]),_:1},8,["type","text"])],2)],2)]),default:he(()=>[_.$slots.reference?Te(_.$slots,"reference",{key:0}):$e("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var bne=Ge(_ne,[["__file","popconfirm.vue"]]);const Tne=Mt(bne),yne=Ve({trigger:Nh.trigger,placement:Cm.placement,disabled:Nh.disabled,visible:io.visible,transition:io.transition,popperOptions:Cm.popperOptions,tabindex:Cm.tabindex,content:io.content,popperStyle:io.popperStyle,popperClass:io.popperClass,enterable:{...io.enterable,default:!0},effect:{...io.effect,default:"light"},teleported:io.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Ene={"update:visible":t=>Vn(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Sne="onUpdate:visible",Cne=ne({name:"ElPopover"}),Ine=ne({...Cne,props:yne,emits:Ene,setup(t,{expose:n,emit:o}){const i=t,l=w(()=>i[Sne]),a=Pe("popover"),u=V(),h=w(()=>{var E;return(E=c(u))==null?void 0:E.popperRef}),p=w(()=>[{width:Mn(i.width)},i.popperStyle]),f=w(()=>[a.b(),i.popperClass,{[a.m("plain")]:!!i.content}]),g=w(()=>i.transition===`${a.namespace.value}-fade-in-linear`),m=()=>{var E;(E=u.value)==null||E.hide()},_=()=>{o("before-enter")},b=()=>{o("before-leave")},T=()=>{o("after-enter")},$=()=>{o("update:visible",!1),o("after-leave")};return n({popperRef:h,hide:m}),(E,y)=>(A(),be(c(Bo),Vt({ref_key:"tooltipRef",ref:u},E.$attrs,{trigger:E.trigger,placement:E.placement,disabled:E.disabled,visible:E.visible,transition:E.transition,"popper-options":E.popperOptions,tabindex:E.tabindex,content:E.content,offset:E.offset,"show-after":E.showAfter,"hide-after":E.hideAfter,"auto-close":E.autoClose,"show-arrow":E.showArrow,"aria-label":E.title,effect:E.effect,enterable:E.enterable,"popper-class":c(f),"popper-style":c(p),teleported:E.teleported,persistent:E.persistent,"gpu-acceleration":c(g),"onUpdate:visible":c(l),onBeforeShow:_,onBeforeHide:b,onShow:T,onHide:$}),{content:he(()=>[E.title?(A(),Y("div",{key:0,class:N(c(a).e("title")),role:"title"},We(E.title),3)):$e("v-if",!0),Te(E.$slots,"default",{},()=>[zt(We(E.content),1)])]),default:he(()=>[E.$slots.reference?Te(E.$slots,"reference",{key:0}):$e("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var wne=Ge(Ine,[["__file","popover.vue"]]);const rL=(t,n)=>{const o=n.arg||n.value,i=o==null?void 0:o.popperRef;i&&(i.triggerRef=t)};var kne={mounted(t,n){rL(t,n)},updated(t,n){rL(t,n)}};const One="popover",GD=rz(kne,One),Rne=Mt(wne,{directive:GD}),Lne=Ve({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:fe(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:fe([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:fe(Function),default:t=>`${t}%`}}),Ane=["aria-valuenow"],Nne={viewBox:"0 0 100 100"},Mne=["d","stroke","stroke-linecap","stroke-width"],Dne=["d","stroke","opacity","stroke-linecap","stroke-width"],Pne={key:0},xne=ne({name:"ElProgress"}),Bne=ne({...xne,props:Lne,setup(t){const n=t,o={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},i=Pe("progress"),l=w(()=>{const S={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},C=I(n.percentage);return C.includes("gradient")?S.background=C:S.backgroundColor=C,S}),a=w(()=>(n.strokeWidth/n.width*100).toFixed(1)),u=w(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),h=w(()=>{const S=u.value,C=n.type==="dashboard";return`
          M 50 50
          m 0 ${C?"":"-"}${S}
          a ${S} ${S} 0 1 1 0 ${C?"-":""}${S*2}
          a ${S} ${S} 0 1 1 0 ${C?"":"-"}${S*2}
          `}),p=w(()=>2*Math.PI*u.value),f=w(()=>n.type==="dashboard"?.75:1),g=w(()=>`${-1*p.value*(1-f.value)/2}px`),m=w(()=>({strokeDasharray:`${p.value*f.value}px, ${p.value}px`,strokeDashoffset:g.value})),_=w(()=>({strokeDasharray:`${p.value*f.value*(n.percentage/100)}px, ${p.value}px`,strokeDashoffset:g.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),b=w(()=>{let S;return n.color?S=I(n.percentage):S=o[n.status]||o.default,S}),T=w(()=>n.status==="warning"?Ag:n.type==="line"?n.status==="success"?CE:Al:n.status==="success"?Zh:hi),$=w(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),E=w(()=>n.format(n.percentage));function y(S){const C=100/S.length;return S.map((O,P)=>yt(O)?{color:O,percentage:(P+1)*C}:O).sort((O,P)=>O.percentage-P.percentage)}const I=S=>{var C;const{color:R}=n;if(vt(R))return R(S);if(yt(R))return R;{const O=y(R);for(const P of O)if(P.percentage>S)return P.color;return(C=O[O.length-1])==null?void 0:C.color}};return(S,C)=>(A(),Y("div",{class:N([c(i).b(),c(i).m(S.type),c(i).is(S.status),{[c(i).m("without-text")]:!S.showText,[c(i).m("text-inside")]:S.textInside}]),role:"progressbar","aria-valuenow":S.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[S.type==="line"?(A(),Y("div",{key:0,class:N(c(i).b("bar"))},[Q("div",{class:N(c(i).be("bar","outer")),style:ct({height:`${S.strokeWidth}px`})},[Q("div",{class:N([c(i).be("bar","inner"),{[c(i).bem("bar","inner","indeterminate")]:S.indeterminate},{[c(i).bem("bar","inner","striped")]:S.striped},{[c(i).bem("bar","inner","striped-flow")]:S.stripedFlow}]),style:ct(c(l))},[(S.showText||S.$slots.default)&&S.textInside?(A(),Y("div",{key:0,class:N(c(i).be("bar","innerText"))},[Te(S.$slots,"default",{percentage:S.percentage},()=>[Q("span",null,We(c(E)),1)])],2)):$e("v-if",!0)],6)],6)],2)):(A(),Y("div",{key:1,class:N(c(i).b("circle")),style:ct({height:`${S.width}px`,width:`${S.width}px`})},[(A(),Y("svg",Nne,[Q("path",{class:N(c(i).be("circle","track")),d:c(h),stroke:`var(${c(i).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":S.strokeLinecap,"stroke-width":c(a),fill:"none",style:ct(c(m))},null,14,Mne),Q("path",{class:N(c(i).be("circle","path")),d:c(h),stroke:c(b),fill:"none",opacity:S.percentage?1:0,"stroke-linecap":S.strokeLinecap,"stroke-width":c(a),style:ct(c(_))},null,14,Dne)]))],6)),(S.showText||S.$slots.default)&&!S.textInside?(A(),Y("div",{key:2,class:N(c(i).e("text")),style:ct({fontSize:`${c($)}px`})},[Te(S.$slots,"default",{percentage:S.percentage},()=>[S.status?(A(),be(c(at),{key:1},{default:he(()=>[(A(),be(Ft(c(T))))]),_:1})):(A(),Y("span",Pne,We(c(E)),1))])],6)):$e("v-if",!0)],10,Ane))}});var Fne=Ge(Bne,[["__file","progress.vue"]]);const WD=Mt(Fne),Hne=Ve({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:fe([Array,Object]),default:()=>kn(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:fe([Array,Object]),default:()=>[Kf,Kf,Kf]},voidIcon:{type:an,default:()=>J4},disabledVoidIcon:{type:an,default:()=>Kf},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:fe(Array),default:()=>kn(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:Jn,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1},...go(["ariaLabel"])}),Vne={[vn]:t=>gt(t),[Bt]:t=>gt(t)},Une=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Gne=["onMousemove","onClick"],Wne=ne({name:"ElRate"}),zne=ne({...Wne,props:Hne,emits:Vne,setup(t,{expose:n,emit:o}){const i=t;function l(z,G){const W=oe=>Pt(oe),D=Object.keys(G).map(oe=>+oe).filter(oe=>{const le=G[oe];return(W(le)?le.excluded:!1)?z<oe:z<=oe}).sort((oe,le)=>oe-le),X=G[D[0]];return W(X)&&X.value||X}const a=it(Ya,void 0),u=it(zi,void 0),h=Xn(),p=Pe("rate"),{inputId:f,isLabeledByFormItem:g}=$i(i,{formItemContext:u}),m=V(i.modelValue),_=V(-1),b=V(!0),T=w(()=>[p.b(),p.m(h.value)]),$=w(()=>i.disabled||(a==null?void 0:a.disabled)),E=w(()=>p.cssVarBlock({"void-color":i.voidColor,"disabled-void-color":i.disabledVoidColor,"fill-color":C.value})),y=w(()=>{let z="";return i.showScore?z=i.scoreTemplate.replace(/\{\s*value\s*\}/,$.value?`${i.modelValue}`:`${m.value}`):i.showText&&(z=i.texts[Math.ceil(m.value)-1]),z}),I=w(()=>i.modelValue*100-Math.floor(i.modelValue)*100),S=w(()=>tt(i.colors)?{[i.lowThreshold]:i.colors[0],[i.highThreshold]:{value:i.colors[1],excluded:!0},[i.max]:i.colors[2]}:i.colors),C=w(()=>{const z=l(m.value,S.value);return Pt(z)?"":z}),R=w(()=>{let z="";return $.value?z=`${I.value}%`:i.allowHalf&&(z="50%"),{color:C.value,width:z}}),O=w(()=>{let z=tt(i.icons)?[...i.icons]:{...i.icons};return z=sc(z),tt(z)?{[i.lowThreshold]:z[0],[i.highThreshold]:{value:z[1],excluded:!0},[i.max]:z[2]}:z}),P=w(()=>l(i.modelValue,O.value)),M=w(()=>$.value?yt(i.disabledVoidIcon)?i.disabledVoidIcon:sc(i.disabledVoidIcon):yt(i.voidIcon)?i.voidIcon:sc(i.voidIcon)),H=w(()=>l(m.value,O.value));function F(z){const G=$.value&&I.value>0&&z-1<i.modelValue&&z>i.modelValue,W=i.allowHalf&&b.value&&z-.5<=m.value&&z>m.value;return G||W}function B(z){i.clearable&&z===i.modelValue&&(z=0),o(Bt,z),i.modelValue!==z&&o("change",z)}function K(z){$.value||(i.allowHalf&&b.value?B(m.value):B(z))}function te(z){if($.value)return;let G=m.value;const W=z.code;return W===mt.up||W===mt.right?(i.allowHalf?G+=.5:G+=1,z.stopPropagation(),z.preventDefault()):(W===mt.left||W===mt.down)&&(i.allowHalf?G-=.5:G-=1,z.stopPropagation(),z.preventDefault()),G=G<0?0:G,G=G>i.max?i.max:G,o(Bt,G),o("change",G),G}function J(z,G){if(!$.value){if(i.allowHalf&&G){let W=G.target;Vs(W,p.e("item"))&&(W=W.querySelector(`.${p.e("icon")}`)),(W.clientWidth===0||Vs(W,p.e("decimal")))&&(W=W.parentNode),b.value=G.offsetX*2<=W.clientWidth,m.value=b.value?z-.5:z}else m.value=z;_.value=z}}function j(){$.value||(i.allowHalf&&(b.value=i.modelValue!==Math.floor(i.modelValue)),m.value=i.modelValue,_.value=-1)}return Me(()=>i.modelValue,z=>{m.value=z,b.value=i.modelValue!==Math.floor(i.modelValue)}),i.modelValue||o(Bt,0),eo({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-rate",ref:"https://element-plus.org/en-US/component/rate.html"},w(()=>!!i.label)),n({setCurrentValue:J,resetCurrentValue:j}),(z,G)=>{var W;return A(),Y("div",{id:c(f),class:N([c(T),c(p).is("disabled",c($))]),role:"slider","aria-label":c(g)?void 0:z.label||z.ariaLabel||"rating","aria-labelledby":c(g)?(W=c(u))==null?void 0:W.labelId:void 0,"aria-valuenow":m.value,"aria-valuetext":c(y)||void 0,"aria-valuemin":"0","aria-valuemax":z.max,tabindex:"0",style:ct(c(E)),onKeydown:te},[(A(!0),Y(dt,null,Kt(z.max,(D,X)=>(A(),Y("span",{key:X,class:N(c(p).e("item")),onMousemove:oe=>J(D,oe),onMouseleave:j,onClick:oe=>K(D)},[ie(c(at),{class:N([c(p).e("icon"),{hover:_.value===D},c(p).is("active",D<=m.value)])},{default:he(()=>[F(D)?$e("v-if",!0):(A(),Y(dt,{key:0},[Ot((A(),be(Ft(c(H)),null,null,512)),[[qt,D<=m.value]]),Ot((A(),be(Ft(c(M)),null,null,512)),[[qt,!(D<=m.value)]])],64)),F(D)?(A(),Y(dt,{key:1},[(A(),be(Ft(c(M)),{class:N([c(p).em("decimal","box")])},null,8,["class"])),ie(c(at),{style:ct(c(R)),class:N([c(p).e("icon"),c(p).e("decimal")])},{default:he(()=>[(A(),be(Ft(c(P))))]),_:1},8,["style","class"])],64)):$e("v-if",!0)]),_:2},1032,["class"])],42,Gne))),128)),z.showText||z.showScore?(A(),Y("span",{key:0,class:N(c(p).e("text")),style:ct({color:z.textColor})},We(c(y)),7)):$e("v-if",!0)],46,Une)}}});var Kne=Ge(zne,[["__file","rate.vue"]]);const Xne=Mt(Kne),Qu={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},lL={[Qu.success]:c4,[Qu.warning]:Ag,[Qu.error]:IE,[Qu.info]:wE},Yne=Ve({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),jne=ne({name:"ElResult"}),qne=ne({...jne,props:Yne,setup(t){const n=t,o=Pe("result"),i=w(()=>{const l=n.icon,a=l&&Qu[l]?Qu[l]:"icon-info",u=lL[a]||lL["icon-info"];return{class:a,component:u}});return(l,a)=>(A(),Y("div",{class:N(c(o).b())},[Q("div",{class:N(c(o).e("icon"))},[Te(l.$slots,"icon",{},()=>[c(i).component?(A(),be(Ft(c(i).component),{key:0,class:N(c(i).class)},null,8,["class"])):$e("v-if",!0)])],2),l.title||l.$slots.title?(A(),Y("div",{key:0,class:N(c(o).e("title"))},[Te(l.$slots,"title",{},()=>[Q("p",null,We(l.title),1)])],2)):$e("v-if",!0),l.subTitle||l.$slots["sub-title"]?(A(),Y("div",{key:1,class:N(c(o).e("subtitle"))},[Te(l.$slots,"sub-title",{},()=>[Q("p",null,We(l.subTitle),1)])],2)):$e("v-if",!0),l.$slots.extra?(A(),Y("div",{key:2,class:N(c(o).e("extra"))},[Te(l.$slots,"extra")],2)):$e("v-if",!0)],2))}});var Jne=Ge(qne,[["__file","result.vue"]]);const Zne=Mt(Jne);var aL=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function Qne(t,n){return!!(t===n||aL(t)&&aL(n))}function eoe(t,n){if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Qne(t[o],n[o]))return!1;return!0}function toe(t,n){n===void 0&&(n=eoe);var o=null;function i(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];if(o&&o.lastThis===this&&n(l,o.lastArgs))return o.lastResult;var u=t.apply(this,l);return o={lastResult:u,lastArgs:l,lastThis:this},u}return i.clear=function(){o=null},i}const zD=()=>{const n=Nt().proxy.$props;return w(()=>{const o=(i,l,a)=>({});return n.perfMode?kg(o):toe(o)})},uy=50,og="itemRendered",sg="scroll",ec="forward",ig="backward",Fs="auto",zg="smart",Ph="start",Bi="center",xh="end",Rc="horizontal",v0="vertical",noe="ltr",cc="rtl",Bh="negative",_0="positive-ascending",b0="positive-descending",ooe={[Rc]:"left",[v0]:"top"},soe=20,ioe={[Rc]:"deltaX",[v0]:"deltaY"},roe=({atEndEdge:t,atStartEdge:n,layout:o},i)=>{let l,a=0;const u=p=>p<0&&n.value||p>0&&t.value;return{hasReachedEdge:u,onWheel:p=>{Ba(l);const f=p[ioe[o.value]];u(a)&&u(a+f)||(a+=f,mN()||p.preventDefault(),l=El(()=>{i(a),a=0}))}}},cy=mi({type:fe([Number,Function]),required:!0}),dy=mi({type:Number}),hy=mi({type:Number,default:2}),loe=mi({type:String,values:["ltr","rtl"],default:"ltr"}),py=mi({type:Number,default:0}),rg=mi({type:Number,required:!0}),KD=mi({type:String,values:["horizontal","vertical"],default:v0}),XD=Ve({className:{type:String,default:""},containerElement:{type:fe([String,Object]),default:"div"},data:{type:fe(Array),default:()=>kn([])},direction:loe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:fe([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),YD=Ve({cache:hy,estimatedItemSize:dy,layout:KD,initScrollOffset:py,total:rg,itemSize:cy,...XD}),fy={type:Number,default:6},jD={type:Number,default:0},qD={type:Number,default:2},Na=Ve({columnCache:hy,columnWidth:cy,estimatedColumnWidth:dy,estimatedRowHeight:dy,initScrollLeft:py,initScrollTop:py,itemKey:{type:fe(Function),default:({columnIndex:t,rowIndex:n})=>`${n}:${t}`},rowCache:hy,rowHeight:cy,totalColumn:rg,totalRow:rg,hScrollbarSize:fy,vScrollbarSize:fy,scrollbarStartGap:jD,scrollbarEndGap:qD,role:String,...XD}),JD=Ve({alwaysOn:Boolean,class:String,layout:KD,total:rg,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:fy,startGap:jD,endGap:qD,visible:Boolean}),Ca=(t,n)=>t<n?ec:ig,Fh=t=>t===noe||t===cc||t===Rc,uL=t=>t===cc;let Ku=null;function lg(t=!1){if(Ku===null||t){const n=document.createElement("div"),o=n.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";const i=document.createElement("div"),l=i.style;return l.width="100px",l.height="100px",n.appendChild(i),document.body.appendChild(n),n.scrollLeft>0?Ku=b0:(n.scrollLeft=1,n.scrollLeft===0?Ku=Bh:Ku=_0),document.body.removeChild(n),Ku}return Ku}function aoe({move:t,size:n,bar:o},i){const l={},a=`translate${o.axis}(${t}px)`;return l[o.size]=n,l.transform=a,l.msTransform=a,l.webkitTransform=a,i==="horizontal"?l.height="100%":l.width="100%",l}const my=ne({name:"ElVirtualScrollBar",props:JD,emits:["scroll","start-move","stop-move"],setup(t,{emit:n}){const o=w(()=>t.startGap+t.endGap),i=Pe("virtual-scrollbar"),l=Pe("scrollbar"),a=V(),u=V();let h=null,p=null;const f=en({isDragging:!1,traveled:0}),g=w(()=>q1[t.layout]),m=w(()=>t.clientSize-c(o)),_=w(()=>({position:"absolute",width:`${Rc===t.layout?m.value:t.scrollbarSize}px`,height:`${Rc===t.layout?t.scrollbarSize:m.value}px`,[ooe[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),b=w(()=>{const O=t.ratio,P=t.clientSize;if(O>=100)return Number.POSITIVE_INFINITY;if(O>=50)return O*P/100;const M=P/3;return Math.floor(Math.min(Math.max(O*P,soe),M))}),T=w(()=>{if(!Number.isFinite(b.value))return{display:"none"};const O=`${b.value}px`;return aoe({bar:g.value,size:O,move:f.traveled},t.layout)}),$=w(()=>Math.floor(t.clientSize-b.value-c(o))),E=()=>{window.addEventListener("mousemove",C),window.addEventListener("mouseup",S);const O=c(u);O&&(p=document.onselectstart,document.onselectstart=()=>!1,O.addEventListener("touchmove",C),O.addEventListener("touchend",S))},y=()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",S),document.onselectstart=p,p=null;const O=c(u);O&&(O.removeEventListener("touchmove",C),O.removeEventListener("touchend",S))},I=O=>{O.stopImmediatePropagation(),!(O.ctrlKey||[1,2].includes(O.button))&&(f.isDragging=!0,f[g.value.axis]=O.currentTarget[g.value.offset]-(O[g.value.client]-O.currentTarget.getBoundingClientRect()[g.value.direction]),n("start-move"),E())},S=()=>{f.isDragging=!1,f[g.value.axis]=0,n("stop-move"),y()},C=O=>{const{isDragging:P}=f;if(!P||!u.value||!a.value)return;const M=f[g.value.axis];if(!M)return;Ba(h);const H=(a.value.getBoundingClientRect()[g.value.direction]-O[g.value.client])*-1,F=u.value[g.value.offset]-M,B=H-F;h=El(()=>{f.traveled=Math.max(t.startGap,Math.min(B,$.value)),n("scroll",B,$.value)})},R=O=>{const P=Math.abs(O.target.getBoundingClientRect()[g.value.direction]-O[g.value.client]),M=u.value[g.value.offset]/2,H=P-M;f.traveled=Math.max(0,Math.min(H,$.value)),n("scroll",H,$.value)};return Me(()=>t.scrollFrom,O=>{f.isDragging||(f.traveled=Math.ceil(O*$.value))}),mn(()=>{y()}),()=>ft("div",{role:"presentation",ref:a,class:[i.b(),t.class,(t.alwaysOn||f.isDragging)&&"always-on"],style:_.value,onMousedown:_t(R,["stop","prevent"]),onTouchstartPrevent:I},ft("div",{ref:u,class:l.e("thumb"),style:T.value,onMousedown:I},[]))}}),ZD=({name:t,getOffset:n,getItemSize:o,getItemOffset:i,getEstimatedTotalSize:l,getStartIndexForOffset:a,getStopIndexForStartIndex:u,initCache:h,clearCache:p,validateProps:f})=>ne({name:t??"ElVirtualList",props:YD,emits:[og,sg],setup(g,{emit:m,expose:_}){f(g);const b=Nt(),T=Pe("vl"),$=V(h(g,b)),E=zD(),y=V(),I=V(),S=V(),C=V({isScrolling:!1,scrollDir:"forward",scrollOffset:gt(g.initScrollOffset)?g.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:g.scrollbarAlwaysOn}),R=w(()=>{const{total:me,cache:Se}=g,{isScrolling:De,scrollDir:ce,scrollOffset:ye}=c(C);if(me===0)return[0,0,0,0];const _e=a(g,ye,c($)),Ke=u(g,_e,ye,c($)),ve=!De||ce===ig?Math.max(1,Se):1,Ae=!De||ce===ec?Math.max(1,Se):1;return[Math.max(0,_e-ve),Math.max(0,Math.min(me-1,Ke+Ae)),_e,Ke]}),O=w(()=>l(g,c($))),P=w(()=>Fh(g.layout)),M=w(()=>[{position:"relative",[`overflow-${P.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:gt(g.height)?`${g.height}px`:g.height,width:gt(g.width)?`${g.width}px`:g.width},g.style]),H=w(()=>{const me=c(O),Se=c(P);return{height:Se?"100%":`${me}px`,pointerEvents:c(C).isScrolling?"none":void 0,width:Se?`${me}px`:"100%"}}),F=w(()=>P.value?g.width:g.height),{onWheel:B}=roe({atStartEdge:w(()=>C.value.scrollOffset<=0),atEndEdge:w(()=>C.value.scrollOffset>=O.value),layout:w(()=>g.layout)},me=>{var Se,De;(De=(Se=S.value).onMouseUp)==null||De.call(Se),G(Math.min(C.value.scrollOffset+me,O.value-F.value))}),K=()=>{const{total:me}=g;if(me>0){const[ye,_e,Ke,ve]=c(R);m(og,ye,_e,Ke,ve)}const{scrollDir:Se,scrollOffset:De,updateRequested:ce}=c(C);m(sg,Se,De,ce)},te=me=>{const{clientHeight:Se,scrollHeight:De,scrollTop:ce}=me.currentTarget,ye=c(C);if(ye.scrollOffset===ce)return;const _e=Math.max(0,Math.min(ce,De-Se));C.value={...ye,isScrolling:!0,scrollDir:Ca(ye.scrollOffset,_e),scrollOffset:_e,updateRequested:!1},pt(X)},J=me=>{const{clientWidth:Se,scrollLeft:De,scrollWidth:ce}=me.currentTarget,ye=c(C);if(ye.scrollOffset===De)return;const{direction:_e}=g;let Ke=De;if(_e===cc)switch(lg()){case Bh:{Ke=-De;break}case b0:{Ke=ce-Se-De;break}}Ke=Math.max(0,Math.min(Ke,ce-Se)),C.value={...ye,isScrolling:!0,scrollDir:Ca(ye.scrollOffset,Ke),scrollOffset:Ke,updateRequested:!1},pt(X)},j=me=>{c(P)?J(me):te(me),K()},z=(me,Se)=>{const De=(O.value-F.value)/Se*me;G(Math.min(O.value-F.value,De))},G=me=>{me=Math.max(me,0),me!==c(C).scrollOffset&&(C.value={...c(C),scrollOffset:me,scrollDir:Ca(c(C).scrollOffset,me),updateRequested:!0},pt(X))},W=(me,Se=Fs)=>{const{scrollOffset:De}=c(C);me=Math.max(0,Math.min(me,g.total-1)),G(n(g,me,Se,De,c($)))},D=me=>{const{direction:Se,itemSize:De,layout:ce}=g,ye=E.value(p&&De,p&&ce,p&&Se);let _e;if(Yt(ye,String(me)))_e=ye[me];else{const Ke=i(g,me,c($)),ve=o(g,me,c($)),Ae=c(P),Fe=Se===cc,ae=Ae?Ke:0;ye[me]=_e={position:"absolute",left:Fe?void 0:`${ae}px`,right:Fe?`${ae}px`:void 0,top:Ae?0:`${Ke}px`,height:Ae?"100%":`${ve}px`,width:Ae?`${ve}px`:"100%"}}return _e},X=()=>{C.value.isScrolling=!1,pt(()=>{E.value(-1,null,null)})},oe=()=>{const me=y.value;me&&(me.scrollTop=0)};Rt(()=>{if(!Xt)return;const{initScrollOffset:me}=g,Se=c(y);gt(me)&&Se&&(c(P)?Se.scrollLeft=me:Se.scrollTop=me),K()}),Rr(()=>{const{direction:me,layout:Se}=g,{scrollOffset:De,updateRequested:ce}=c(C),ye=c(y);if(ce&&ye)if(Se===Rc)if(me===cc)switch(lg()){case Bh:{ye.scrollLeft=-De;break}case _0:{ye.scrollLeft=De;break}default:{const{clientWidth:_e,scrollWidth:Ke}=ye;ye.scrollLeft=Ke-_e-De;break}}else ye.scrollLeft=De;else ye.scrollTop=De});const le={ns:T,clientSize:F,estimatedTotalSize:O,windowStyle:M,windowRef:y,innerRef:I,innerStyle:H,itemsToRender:R,scrollbarRef:S,states:C,getItemStyle:D,onScroll:j,onScrollbarScroll:z,onWheel:B,scrollTo:G,scrollToItem:W,resetScrollTop:oe};return _({windowRef:y,innerRef:I,getItemStyleCache:E,scrollTo:G,scrollToItem:W,resetScrollTop:oe,states:C}),le},render(g){var m;const{$slots:_,className:b,clientSize:T,containerElement:$,data:E,getItemStyle:y,innerElement:I,itemsToRender:S,innerStyle:C,layout:R,total:O,onScroll:P,onScrollbarScroll:M,onWheel:H,states:F,useIsScrolling:B,windowStyle:K,ns:te}=g,[J,j]=S,z=Ft($),G=Ft(I),W=[];if(O>0)for(let le=J;le<=j;le++)W.push((m=_.default)==null?void 0:m.call(_,{data:E,key:le,index:le,isScrolling:B?F.isScrolling:void 0,style:y(le)}));const D=[ft(G,{style:C,ref:"innerRef"},yt(G)?W:{default:()=>W})],X=ft(my,{ref:"scrollbarRef",clientSize:T,layout:R,onScroll:M,ratio:T*100/this.estimatedTotalSize,scrollFrom:F.scrollOffset/(this.estimatedTotalSize-T),total:O}),oe=ft(z,{class:[te.e("window"),b],style:K,onScroll:P,onWheel:H,ref:"windowRef",key:0},yt(z)?[D]:{default:()=>[D]});return ft("div",{key:0,class:[te.e("wrapper"),F.scrollbarAlwaysOn?"always-on":""]},[oe,X])}}),QD=ZD({name:"ElFixedSizeList",getItemOffset:({itemSize:t},n)=>n*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:n})=>n*t,getOffset:({height:t,total:n,itemSize:o,layout:i,width:l},a,u,h)=>{const p=Fh(i)?l:t,f=Math.max(0,n*o-p),g=Math.min(f,a*o),m=Math.max(0,(a+1)*o-p);switch(u===zg&&(h>=m-p&&h<=g+p?u=Fs:u=Bi),u){case Ph:return g;case xh:return m;case Bi:{const _=Math.round(m+(g-m)/2);return _<Math.ceil(p/2)?0:_>f+Math.floor(p/2)?f:_}case Fs:default:return h>=m&&h<=g?h:h<m?m:g}},getStartIndexForOffset:({total:t,itemSize:n},o)=>Math.max(0,Math.min(t-1,Math.floor(o/n))),getStopIndexForStartIndex:({height:t,total:n,itemSize:o,layout:i,width:l},a,u)=>{const h=a*o,p=Fh(i)?l:t,f=Math.ceil((p+u-h)/o);return Math.max(0,Math.min(n-1,a+f-1))},initCache(){},clearCache:!0,validateProps(){}}),tc=(t,n,o)=>{const{itemSize:i}=t,{items:l,lastVisitedIndex:a}=o;if(n>a){let u=0;if(a>=0){const h=l[a];u=h.offset+h.size}for(let h=a+1;h<=n;h++){const p=i(h);l[h]={offset:u,size:p},u+=p}o.lastVisitedIndex=n}return l[n]},uoe=(t,n,o)=>{const{items:i,lastVisitedIndex:l}=n;return(l>0?i[l].offset:0)>=o?eP(t,n,0,l,o):coe(t,n,Math.max(0,l),o)},eP=(t,n,o,i,l)=>{for(;o<=i;){const a=o+Math.floor((i-o)/2),u=tc(t,a,n).offset;if(u===l)return a;u<l?o=a+1:u>l&&(i=a-1)}return Math.max(0,o-1)},coe=(t,n,o,i)=>{const{total:l}=t;let a=1;for(;o<l&&tc(t,o,n).offset<i;)o+=a,a*=2;return eP(t,n,Math.floor(o/2),Math.min(o,l-1),i)},cL=({total:t},{items:n,estimatedItemSize:o,lastVisitedIndex:i})=>{let l=0;if(i>=t&&(i=t-1),i>=0){const h=n[i];l=h.offset+h.size}const u=(t-i-1)*o;return l+u},doe=ZD({name:"ElDynamicSizeList",getItemOffset:(t,n,o)=>tc(t,n,o).offset,getItemSize:(t,n,{items:o})=>o[n].size,getEstimatedTotalSize:cL,getOffset:(t,n,o,i,l)=>{const{height:a,layout:u,width:h}=t,p=Fh(u)?h:a,f=tc(t,n,l),g=cL(t,l),m=Math.max(0,Math.min(g-p,f.offset)),_=Math.max(0,f.offset-p+f.size);switch(o===zg&&(i>=_-p&&i<=m+p?o=Fs:o=Bi),o){case Ph:return m;case xh:return _;case Bi:return Math.round(_+(m-_)/2);case Fs:default:return i>=_&&i<=m?i:i<_?_:m}},getStartIndexForOffset:(t,n,o)=>uoe(t,o,n),getStopIndexForStartIndex:(t,n,o,i)=>{const{height:l,total:a,layout:u,width:h}=t,p=Fh(u)?h:l,f=tc(t,n,i),g=o+p;let m=f.offset+f.size,_=n;for(;_<a-1&&m<g;)_++,m+=tc(t,_,i).size;return _},initCache({estimatedItemSize:t=uy},n){const o={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return o.clearCacheAfterIndex=(i,l=!0)=>{var a,u;o.lastVisitedIndex=Math.min(o.lastVisitedIndex,i-1),(a=n.exposed)==null||a.getItemStyleCache(-1),l&&((u=n.proxy)==null||u.$forceUpdate())},o},clearCache:!1,validateProps:({itemSize:t})=>{}}),hoe=({atXEndEdge:t,atXStartEdge:n,atYEndEdge:o,atYStartEdge:i},l)=>{let a=null,u=0,h=0;const p=(g,m)=>{const _=g<=0&&n.value||g>=0&&t.value,b=m<=0&&i.value||m>=0&&o.value;return _&&b};return{hasReachedEdge:p,onWheel:g=>{Ba(a);let m=g.deltaX,_=g.deltaY;Math.abs(m)>Math.abs(_)?_=0:m=0,g.shiftKey&&_!==0&&(m=_,_=0),!(p(u,h)&&p(u+m,h+_))&&(u+=m,h+=_,g.preventDefault(),a=El(()=>{l(u,h),u=0,h=0}))}}},tP=({name:t,clearCache:n,getColumnPosition:o,getColumnStartIndexForOffset:i,getColumnStopIndexForStartIndex:l,getEstimatedTotalHeight:a,getEstimatedTotalWidth:u,getColumnOffset:h,getRowOffset:p,getRowPosition:f,getRowStartIndexForOffset:g,getRowStopIndexForStartIndex:m,initCache:_,injectToInstance:b,validateProps:T})=>ne({name:t??"ElVirtualList",props:Na,emits:[og,sg],setup($,{emit:E,expose:y,slots:I}){const S=Pe("vl");T($);const C=Nt(),R=V(_($,C));b==null||b(C,R);const O=V(),P=V(),M=V(),H=V(null),F=V({isScrolling:!1,scrollLeft:gt($.initScrollLeft)?$.initScrollLeft:0,scrollTop:gt($.initScrollTop)?$.initScrollTop:0,updateRequested:!1,xAxisScrollDir:ec,yAxisScrollDir:ec}),B=zD(),K=w(()=>Number.parseInt(`${$.height}`,10)),te=w(()=>Number.parseInt(`${$.width}`,10)),J=w(()=>{const{totalColumn:Ee,totalRow:Ne,columnCache:He}=$,{isScrolling:ue,xAxisScrollDir:Ie,scrollLeft:ke}=c(F);if(Ee===0||Ne===0)return[0,0,0,0];const Ue=i($,ke,c(R)),ot=l($,Ue,ke,c(R)),q=!ue||Ie===ig?Math.max(1,He):1,Qe=!ue||Ie===ec?Math.max(1,He):1;return[Math.max(0,Ue-q),Math.max(0,Math.min(Ee-1,ot+Qe)),Ue,ot]}),j=w(()=>{const{totalColumn:Ee,totalRow:Ne,rowCache:He}=$,{isScrolling:ue,yAxisScrollDir:Ie,scrollTop:ke}=c(F);if(Ee===0||Ne===0)return[0,0,0,0];const Ue=g($,ke,c(R)),ot=m($,Ue,ke,c(R)),q=!ue||Ie===ig?Math.max(1,He):1,Qe=!ue||Ie===ec?Math.max(1,He):1;return[Math.max(0,Ue-q),Math.max(0,Math.min(Ne-1,ot+Qe)),Ue,ot]}),z=w(()=>a($,c(R))),G=w(()=>u($,c(R))),W=w(()=>{var Ee;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:$.direction,height:gt($.height)?`${$.height}px`:$.height,width:gt($.width)?`${$.width}px`:$.width},(Ee=$.style)!=null?Ee:{}]}),D=w(()=>{const Ee=`${c(G)}px`;return{height:`${c(z)}px`,pointerEvents:c(F).isScrolling?"none":void 0,width:Ee}}),X=()=>{const{totalColumn:Ee,totalRow:Ne}=$;if(Ee>0&&Ne>0){const[ot,q,Qe,lt]=c(J),[bt,Tt,st,Le]=c(j);E(og,{columnCacheStart:ot,columnCacheEnd:q,rowCacheStart:bt,rowCacheEnd:Tt,columnVisibleStart:Qe,columnVisibleEnd:lt,rowVisibleStart:st,rowVisibleEnd:Le})}const{scrollLeft:He,scrollTop:ue,updateRequested:Ie,xAxisScrollDir:ke,yAxisScrollDir:Ue}=c(F);E(sg,{xAxisScrollDir:ke,scrollLeft:He,yAxisScrollDir:Ue,scrollTop:ue,updateRequested:Ie})},oe=Ee=>{const{clientHeight:Ne,clientWidth:He,scrollHeight:ue,scrollLeft:Ie,scrollTop:ke,scrollWidth:Ue}=Ee.currentTarget,ot=c(F);if(ot.scrollTop===ke&&ot.scrollLeft===Ie)return;let q=Ie;if(uL($.direction))switch(lg()){case Bh:q=-Ie;break;case b0:q=Ue-He-Ie;break}F.value={...ot,isScrolling:!0,scrollLeft:q,scrollTop:Math.max(0,Math.min(ke,ue-Ne)),updateRequested:!0,xAxisScrollDir:Ca(ot.scrollLeft,q),yAxisScrollDir:Ca(ot.scrollTop,ke)},pt(()=>_e()),Ke(),X()},le=(Ee,Ne)=>{const He=c(K),ue=(z.value-He)/Ne*Ee;De({scrollTop:Math.min(z.value-He,ue)})},me=(Ee,Ne)=>{const He=c(te),ue=(G.value-He)/Ne*Ee;De({scrollLeft:Math.min(G.value-He,ue)})},{onWheel:Se}=hoe({atXStartEdge:w(()=>F.value.scrollLeft<=0),atXEndEdge:w(()=>F.value.scrollLeft>=G.value-c(te)),atYStartEdge:w(()=>F.value.scrollTop<=0),atYEndEdge:w(()=>F.value.scrollTop>=z.value-c(K))},(Ee,Ne)=>{var He,ue,Ie,ke;(ue=(He=P.value)==null?void 0:He.onMouseUp)==null||ue.call(He),(ke=(Ie=M.value)==null?void 0:Ie.onMouseUp)==null||ke.call(Ie);const Ue=c(te),ot=c(K);De({scrollLeft:Math.min(F.value.scrollLeft+Ee,G.value-Ue),scrollTop:Math.min(F.value.scrollTop+Ne,z.value-ot)})}),De=({scrollLeft:Ee=F.value.scrollLeft,scrollTop:Ne=F.value.scrollTop})=>{Ee=Math.max(Ee,0),Ne=Math.max(Ne,0);const He=c(F);Ne===He.scrollTop&&Ee===He.scrollLeft||(F.value={...He,xAxisScrollDir:Ca(He.scrollLeft,Ee),yAxisScrollDir:Ca(He.scrollTop,Ne),scrollLeft:Ee,scrollTop:Ne,updateRequested:!0},pt(()=>_e()),Ke(),X())},ce=(Ee=0,Ne=0,He=Fs)=>{const ue=c(F);Ne=Math.max(0,Math.min(Ne,$.totalColumn-1)),Ee=Math.max(0,Math.min(Ee,$.totalRow-1));const Ie=o1(S.namespace.value),ke=c(R),Ue=a($,ke),ot=u($,ke);De({scrollLeft:h($,Ne,He,ue.scrollLeft,ke,ot>$.width?Ie:0),scrollTop:p($,Ee,He,ue.scrollTop,ke,Ue>$.height?Ie:0)})},ye=(Ee,Ne)=>{const{columnWidth:He,direction:ue,rowHeight:Ie}=$,ke=B.value(n&&He,n&&Ie,n&&ue),Ue=`${Ee},${Ne}`;if(Yt(ke,Ue))return ke[Ue];{const[,ot]=o($,Ne,c(R)),q=c(R),Qe=uL(ue),[lt,bt]=f($,Ee,q),[Tt]=o($,Ne,q);return ke[Ue]={position:"absolute",left:Qe?void 0:`${ot}px`,right:Qe?`${ot}px`:void 0,top:`${bt}px`,height:`${lt}px`,width:`${Tt}px`},ke[Ue]}},_e=()=>{F.value.isScrolling=!1,pt(()=>{B.value(-1,null,null)})};Rt(()=>{if(!Xt)return;const{initScrollLeft:Ee,initScrollTop:Ne}=$,He=c(O);He&&(gt(Ee)&&(He.scrollLeft=Ee),gt(Ne)&&(He.scrollTop=Ne)),X()});const Ke=()=>{const{direction:Ee}=$,{scrollLeft:Ne,scrollTop:He,updateRequested:ue}=c(F),Ie=c(O);if(ue&&Ie){if(Ee===cc)switch(lg()){case Bh:{Ie.scrollLeft=-Ne;break}case _0:{Ie.scrollLeft=Ne;break}default:{const{clientWidth:ke,scrollWidth:Ue}=Ie;Ie.scrollLeft=Ue-ke-Ne;break}}else Ie.scrollLeft=Math.max(0,Ne);Ie.scrollTop=Math.max(0,He)}},{resetAfterColumnIndex:ve,resetAfterRowIndex:Ae,resetAfter:Fe}=C.proxy;y({windowRef:O,innerRef:H,getItemStyleCache:B,scrollTo:De,scrollToItem:ce,states:F,resetAfterColumnIndex:ve,resetAfterRowIndex:Ae,resetAfter:Fe});const ae=()=>{const{scrollbarAlwaysOn:Ee,scrollbarStartGap:Ne,scrollbarEndGap:He,totalColumn:ue,totalRow:Ie}=$,ke=c(te),Ue=c(K),ot=c(G),q=c(z),{scrollLeft:Qe,scrollTop:lt}=c(F),bt=ft(my,{ref:P,alwaysOn:Ee,startGap:Ne,endGap:He,class:S.e("horizontal"),clientSize:ke,layout:"horizontal",onScroll:me,ratio:ke*100/ot,scrollFrom:Qe/(ot-ke),total:Ie,visible:!0}),Tt=ft(my,{ref:M,alwaysOn:Ee,startGap:Ne,endGap:He,class:S.e("vertical"),clientSize:Ue,layout:"vertical",onScroll:le,ratio:Ue*100/q,scrollFrom:lt/(q-Ue),total:ue,visible:!0});return{horizontalScrollbar:bt,verticalScrollbar:Tt}},de=()=>{var Ee;const[Ne,He]=c(J),[ue,Ie]=c(j),{data:ke,totalColumn:Ue,totalRow:ot,useIsScrolling:q,itemKey:Qe}=$,lt=[];if(ot>0&&Ue>0)for(let bt=ue;bt<=Ie;bt++)for(let Tt=Ne;Tt<=He;Tt++)lt.push((Ee=I.default)==null?void 0:Ee.call(I,{columnIndex:Tt,data:ke,key:Qe({columnIndex:Tt,data:ke,rowIndex:bt}),isScrolling:q?c(F).isScrolling:void 0,style:ye(bt,Tt),rowIndex:bt}));return lt},Re=()=>{const Ee=Ft($.innerElement),Ne=de();return[ft(Ee,{style:c(D),ref:H},yt(Ee)?Ne:{default:()=>Ne})]};return()=>{const Ee=Ft($.containerElement),{horizontalScrollbar:Ne,verticalScrollbar:He}=ae(),ue=Re();return ft("div",{key:0,class:S.e("wrapper"),role:$.role},[ft(Ee,{class:$.className,style:c(W),onScroll:oe,onWheel:Se,ref:O},yt(Ee)?ue:{default:()=>ue}),Ne,He])}}}),poe=tP({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},n)=>[t,n*t],getRowPosition:({rowHeight:t},n)=>[t,n*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:n})=>n*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:n})=>n*t,getColumnOffset:({totalColumn:t,columnWidth:n,width:o},i,l,a,u,h)=>{o=Number(o);const p=Math.max(0,t*n-o),f=Math.min(p,i*n),g=Math.max(0,i*n-o+h+n);switch(l==="smart"&&(a>=g-o&&a<=f+o?l=Fs:l=Bi),l){case Ph:return f;case xh:return g;case Bi:{const m=Math.round(g+(f-g)/2);return m<Math.ceil(o/2)?0:m>p+Math.floor(o/2)?p:m}case Fs:default:return a>=g&&a<=f?a:g>f||a<g?g:f}},getRowOffset:({rowHeight:t,height:n,totalRow:o},i,l,a,u,h)=>{n=Number(n);const p=Math.max(0,o*t-n),f=Math.min(p,i*t),g=Math.max(0,i*t-n+h+t);switch(l===zg&&(a>=g-n&&a<=f+n?l=Fs:l=Bi),l){case Ph:return f;case xh:return g;case Bi:{const m=Math.round(g+(f-g)/2);return m<Math.ceil(n/2)?0:m>p+Math.floor(n/2)?p:m}case Fs:default:return a>=g&&a<=f?a:g>f||a<g?g:f}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:n},o)=>Math.max(0,Math.min(n-1,Math.floor(o/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:n,width:o},i,l)=>{const a=i*t,u=Math.ceil((o+l-a)/t);return Math.max(0,Math.min(n-1,i+u-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:n},o)=>Math.max(0,Math.min(n-1,Math.floor(o/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:n,height:o},i,l)=>{const a=i*t,u=Math.ceil((o+l-a)/t);return Math.max(0,Math.min(n-1,i+u-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:n})=>{}}),{max:ag,min:nP,floor:oP}=Math,foe={column:"columnWidth",row:"rowHeight"},gy={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},_r=(t,n,o,i)=>{const[l,a,u]=[o[i],t[foe[i]],o[gy[i]]];if(n>u){let h=0;if(u>=0){const p=l[u];h=p.offset+p.size}for(let p=u+1;p<=n;p++){const f=a(p);l[p]={offset:h,size:f},h+=f}o[gy[i]]=n}return l[n]},sP=(t,n,o,i,l,a)=>{for(;o<=i;){const u=o+oP((i-o)/2),h=_r(t,u,n,a).offset;if(h===l)return u;h<l?o=u+1:i=u-1}return ag(0,o-1)},moe=(t,n,o,i,l)=>{const a=l==="column"?t.totalColumn:t.totalRow;let u=1;for(;o<a&&_r(t,o,n,l).offset<i;)o+=u,u*=2;return sP(t,n,oP(o/2),nP(o,a-1),i,l)},dL=(t,n,o,i)=>{const[l,a]=[n[i],n[gy[i]]];return(a>0?l[a].offset:0)>=o?sP(t,n,0,a,o,i):moe(t,n,ag(0,a),o,i)},iP=({totalRow:t},{estimatedRowHeight:n,lastVisitedRowIndex:o,row:i})=>{let l=0;if(o>=t&&(o=t-1),o>=0){const h=i[o];l=h.offset+h.size}const u=(t-o-1)*n;return l+u},rP=({totalColumn:t},{column:n,estimatedColumnWidth:o,lastVisitedColumnIndex:i})=>{let l=0;if(i>t&&(i=t-1),i>=0){const h=n[i];l=h.offset+h.size}const u=(t-i-1)*o;return l+u},goe={column:rP,row:iP},hL=(t,n,o,i,l,a,u)=>{const[h,p]=[a==="row"?t.height:t.width,goe[a]],f=_r(t,n,l,a),g=p(t,l),m=ag(0,nP(g-h,f.offset)),_=ag(0,f.offset-h+u+f.size);switch(o===zg&&(i>=_-h&&i<=m+h?o=Fs:o=Bi),o){case Ph:return m;case xh:return _;case Bi:return Math.round(_+(m-_)/2);case Fs:default:return i>=_&&i<=m?i:_>m||i<_?_:m}},$oe=tP({name:"ElDynamicSizeGrid",getColumnPosition:(t,n,o)=>{const i=_r(t,n,o,"column");return[i.size,i.offset]},getRowPosition:(t,n,o)=>{const i=_r(t,n,o,"row");return[i.size,i.offset]},getColumnOffset:(t,n,o,i,l,a)=>hL(t,n,o,i,l,"column",a),getRowOffset:(t,n,o,i,l,a)=>hL(t,n,o,i,l,"row",a),getColumnStartIndexForOffset:(t,n,o)=>dL(t,o,n,"column"),getColumnStopIndexForStartIndex:(t,n,o,i)=>{const l=_r(t,n,i,"column"),a=o+t.width;let u=l.offset+l.size,h=n;for(;h<t.totalColumn-1&&u<a;)h++,u+=_r(t,n,i,"column").size;return h},getEstimatedTotalHeight:iP,getEstimatedTotalWidth:rP,getRowStartIndexForOffset:(t,n,o)=>dL(t,o,n,"row"),getRowStopIndexForStartIndex:(t,n,o,i)=>{const{totalRow:l,height:a}=t,u=_r(t,n,i,"row"),h=o+a;let p=u.size+u.offset,f=n;for(;f<l-1&&p<h;)f++,p+=_r(t,f,i,"row").size;return f},injectToInstance:(t,n)=>{const o=({columnIndex:a,rowIndex:u},h)=>{var p,f;h=Hn(h)?!0:h,gt(a)&&(n.value.lastVisitedColumnIndex=Math.min(n.value.lastVisitedColumnIndex,a-1)),gt(u)&&(n.value.lastVisitedRowIndex=Math.min(n.value.lastVisitedRowIndex,u-1)),(p=t.exposed)==null||p.getItemStyleCache.value(-1,null,null),h&&((f=t.proxy)==null||f.$forceUpdate())},i=(a,u)=>{o({columnIndex:a},u)},l=(a,u)=>{o({rowIndex:a},u)};Object.assign(t.proxy,{resetAfterColumnIndex:i,resetAfterRowIndex:l,resetAfter:o})},initCache:({estimatedColumnWidth:t=uy,estimatedRowHeight:n=uy})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:n,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:n})=>{}}),voe=ne({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:Pe("select")}}});function _oe(t,n,o,i,l,a){return A(),Y("div",{class:N(t.ns.be("group","title")),style:ct([t.style,{lineHeight:`${t.height}px`}])},We(t.item.label),7)}var boe=Ge(voe,[["render",_oe],["__file","group-item.vue"]]);function Toe(t,{emit:n}){return{hoverItem:()=>{t.disabled||n("hover",t.index)},selectOptionClick:()=>{t.disabled||n("select",t.item,t.index)}}}const lP={label:"label",value:"value",disabled:"disabled",options:"options"};function Kg(t){const n=w(()=>({...lP,...t.props}));return{aliasProps:n,getLabel:u=>xn(u,n.value.label),getValue:u=>xn(u,n.value.value),getDisabled:u=>xn(u,n.value.disabled),getOptions:u=>xn(u,n.value.options)}}const yoe=Ve({allowCreate:Boolean,autocomplete:{type:fe(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:an,default:Al},effect:{type:fe(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:fe([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:fe(Array),required:!0},placeholder:{type:String},teleported:io.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:fe(Object),default:()=>({})},remote:Boolean,size:Jn,props:{type:fe(Object),default:()=>lP},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:fe(String),values:Xa,default:"bottom-start"},fallbackPlacements:{type:fe(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Ug.type,default:"info"},...Gc,...go(["ariaLabel"])}),Eoe=Ve({data:Array,disabled:Boolean,hovering:Boolean,item:{type:fe(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),T0=Symbol("ElSelectV2Injection"),Soe=ne({props:Eoe,emits:["select","hover"],setup(t,{emit:n}){const o=it(T0),i=Pe("select"),{hoverItem:l,selectOptionClick:a}=Toe(t,{emit:n}),{getLabel:u}=Kg(o.props);return{ns:i,hoverItem:l,selectOptionClick:a,getLabel:u}}}),Coe=["aria-selected"];function Ioe(t,n,o,i,l,a){return A(),Y("li",{"aria-selected":t.selected,style:ct(t.style),class:N([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMouseenter:n[0]||(n[0]=(...u)=>t.hoverItem&&t.hoverItem(...u)),onClick:n[1]||(n[1]=_t((...u)=>t.selectOptionClick&&t.selectOptionClick(...u),["stop"]))},[Te(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[Q("span",null,We(t.getLabel(t.item)),1)])],46,Coe)}var woe=Ge(Soe,[["render",Ioe],["__file","option-item.vue"]]),koe=ne({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:n,expose:o}){const i=it(T0),l=Pe("select"),{getLabel:a,getValue:u,getDisabled:h}=Kg(i.props),p=V([]),f=V(),g=w(()=>t.data.length);Me(()=>g.value,()=>{var B,K;(K=(B=i.tooltipRef.value).updatePopper)==null||K.call(B)});const m=w(()=>Hn(i.props.estimatedOptionHeight)),_=w(()=>m.value?{itemSize:i.props.itemHeight}:{estimatedSize:i.props.estimatedOptionHeight,itemSize:B=>p.value[B]}),b=(B=[],K)=>{const{props:{valueKey:te}}=i;return Pt(K)?B&&B.some(J=>rn(xn(J,te))===xn(K,te)):B.includes(K)},T=(B,K)=>{if(Pt(K)){const{valueKey:te}=i.props;return xn(B,te)===xn(K,te)}else return B===K},$=(B,K)=>i.props.multiple?b(B,u(K)):T(B,u(K)),E=(B,K)=>{const{disabled:te,multiple:J,multipleLimit:j}=i.props;return te||!K&&(J?j>0&&B.length>=j:!1)},y=B=>t.hoveringIndex===B;o({listRef:f,isSized:m,isItemDisabled:E,isItemHovering:y,isItemSelected:$,scrollToItem:B=>{const K=f.value;K&&K.scrollToItem(B)},resetScrollTop:()=>{const B=f.value;B&&B.resetScrollTop()}});const C=B=>{const{index:K,data:te,style:J}=B,j=c(m),{itemSize:z,estimatedSize:G}=c(_),{modelValue:W}=i.props,{onSelect:D,onHover:X}=i,oe=te[K];if(oe.type==="Group")return ie(boe,{item:oe,style:J,height:j?z:G},null);const le=$(W,oe),me=E(W,le),Se=y(K);return ie(woe,Vt(B,{selected:le,disabled:h(oe)||me,created:!!oe.created,hovering:Se,item:oe,onSelect:D,onHover:X}),{default:De=>{var ce;return((ce=n.default)==null?void 0:ce.call(n,De))||ie("span",null,[a(oe)])}})},{onKeyboardNavigate:R,onKeyboardSelect:O}=i,P=()=>{R("forward")},M=()=>{R("backward")},H=()=>{i.expanded=!1},F=B=>{const{code:K}=B,{tab:te,esc:J,down:j,up:z,enter:G}=mt;switch(K!==te&&(B.preventDefault(),B.stopPropagation()),K){case te:case J:{H();break}case j:{P();break}case z:{M();break}case G:{O();break}}};return()=>{var B,K,te,J;const{data:j,width:z}=t,{height:G,multiple:W,scrollbarAlwaysOn:D}=i.props,X=c(m)?QD:doe;return ie("div",{class:[l.b("dropdown"),l.is("multiple",W)],style:{width:`${z}px`}},[(B=n.header)==null?void 0:B.call(n),((K=n.loading)==null?void 0:K.call(n))||((te=n.empty)==null?void 0:te.call(n))||ie(X,Vt({ref:f},c(_),{className:l.be("dropdown","list"),scrollbarAlwaysOn:D,data:j,height:G,width:z,total:j.length,onKeydown:F}),{default:oe=>ie(C,oe,null)}),(J=n.footer)==null?void 0:J.call(n)])}}});function Ooe(t,n){const{aliasProps:o,getLabel:i,getValue:l}=Kg(t),a=V(0),u=V(null),h=w(()=>t.allowCreate&&t.filterable);function p(b){const T=$=>i($)===b;return t.options&&t.options.some(T)||n.createdOptions.some(T)}function f(b){h.value&&(t.multiple&&b.created?a.value++:u.value=b)}function g(b){if(h.value)if(b&&b.length>0){if(p(b))return;const T={[o.value.value]:b,[o.value.label]:b,created:!0,[o.value.disabled]:!1};n.createdOptions.length>=a.value?n.createdOptions[a.value]=T:n.createdOptions.push(T)}else if(t.multiple)n.createdOptions.length=a.value;else{const T=u.value;n.createdOptions.length=0,T&&T.created&&n.createdOptions.push(T)}}function m(b){if(!h.value||!b||!b.created||b.created&&t.reserveKeyword&&n.inputValue===i(b))return;const T=n.createdOptions.findIndex($=>l($)===l(b));~T&&(n.createdOptions.splice(T,1),a.value--)}function _(){h.value&&(n.createdOptions.length=0,a.value=0)}return{createNewOption:g,removeNewOption:m,selectNewOption:f,clearAllNewOption:_}}const Roe=11,Loe=(t,n)=>{const{t:o}=jt(),i=Pe("select"),l=Pe("input"),{form:a,formItem:u}=Fo(),{inputId:h}=$i(t,{formItemContext:u}),{aliasProps:p,getLabel:f,getValue:g,getDisabled:m,getOptions:_}=Kg(t),{valueOnClear:b,isEmptyValue:T}=Bg(t),$=en({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),E=V(-1),y=V(null),I=V(null),S=V(null),C=V(null),R=V(null),O=V(null),P=V(null),M=V(null),H=V(null),F=V(null),B=V(null),{wrapperRef:K,isFocused:te,handleFocus:J,handleBlur:j}=xg(R,{afterFocus(){t.automaticDropdown&&!W.value&&(W.value=!0,$.menuVisibleOnFocus=!0)},beforeBlur(Je){var St,Wt;return((St=S.value)==null?void 0:St.isFocusInsideContent(Je))||((Wt=C.value)==null?void 0:Wt.isFocusInsideContent(Je))},afterBlur(){W.value=!1,$.menuVisibleOnFocus=!1}}),z=V([]),G=V([]),W=V(!1),D=w(()=>t.disabled||(a==null?void 0:a.disabled)),X=w(()=>{const Je=G.value.length*t.itemHeight;return Je>t.height?t.height:Je}),oe=w(()=>t.multiple?tt(t.modelValue)&&t.modelValue.length>0:!T(t.modelValue)),le=w(()=>t.clearable&&!D.value&&$.inputHovering&&oe.value),me=w(()=>t.remote&&t.filterable?"":Nr),Se=w(()=>me.value&&i.is("reverse",W.value)),De=w(()=>(u==null?void 0:u.validateState)||""),ce=w(()=>RE[De.value]),ye=w(()=>t.remote?300:0),_e=w(()=>t.loading?t.loadingText||o("el.select.loading"):t.remote&&!$.inputValue&&z.value.length===0?!1:t.filterable&&$.inputValue&&z.value.length>0&&G.value.length===0?t.noMatchText||o("el.select.noMatch"):z.value.length===0?t.noDataText||o("el.select.noData"):null),Ke=Je=>{const St=Wt=>{if(t.filterable&&vt(t.filterMethod)||t.filterable&&t.remote&&vt(t.remoteMethod))return!0;const nn=new RegExp(TE(Je),"i");return Je?nn.test(f(Wt)||""):!0};return t.loading?[]:[...$.createdOptions,...t.options].reduce((Wt,nn)=>{const Oo=_(nn);if(tt(Oo)){const Ro=Oo.filter(St);Ro.length>0&&Wt.push({label:f(nn),type:"Group"},...Ro)}else(t.remote||St(nn))&&Wt.push(nn);return Wt},[])},ve=()=>{z.value=Ke(""),G.value=Ke($.inputValue)},Ae=w(()=>{const Je=new Map;return z.value.forEach((St,Wt)=>{Je.set(we(g(St)),{option:St,index:Wt})}),Je}),Fe=w(()=>{const Je=new Map;return G.value.forEach((St,Wt)=>{Je.set(we(g(St)),{option:St,index:Wt})}),Je}),ae=w(()=>G.value.every(Je=>m(Je))),de=Xn(),Re=w(()=>de.value==="small"?"small":"default"),Be=()=>{var Je;E.value=((Je=y.value)==null?void 0:Je.offsetWidth)||200},Ee=()=>{if(!I.value)return 0;const Je=window.getComputedStyle(I.value);return Number.parseFloat(Je.gap||"6px")},Ne=w(()=>{const Je=Ee();return{maxWidth:`${B.value&&t.maxCollapseTags===1?$.selectionWidth-$.collapseItemWidth-Je:$.selectionWidth}px`}}),He=w(()=>({maxWidth:`${$.selectionWidth}px`})),ue=w(()=>({width:`${Math.max($.calculatorWidth,Roe)}px`})),Ie=w(()=>tt(t.modelValue)?t.modelValue.length===0&&!$.inputValue:t.filterable?!$.inputValue:!0),ke=w(()=>{var Je;const St=(Je=t.placeholder)!=null?Je:o("el.select.placeholder");return t.multiple||!oe.value?St:$.selectedLabel}),Ue=w(()=>{var Je,St;return(St=(Je=S.value)==null?void 0:Je.popperRef)==null?void 0:St.contentRef}),ot=w(()=>{if(t.multiple){const Je=t.modelValue.length;if(t.modelValue.length>0&&Fe.value.has(t.modelValue[Je-1])){const{index:St}=Fe.value.get(t.modelValue[Je-1]);return St}}else if(t.modelValue&&Fe.value.has(t.modelValue)){const{index:Je}=Fe.value.get(t.modelValue);return Je}return-1}),q=w({get(){return W.value&&_e.value!==!1},set(Je){W.value=Je}}),Qe=w(()=>t.multiple?t.collapseTags?$.cachedOptions.slice(0,t.maxCollapseTags):$.cachedOptions:[]),lt=w(()=>t.multiple?t.collapseTags?$.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:bt,removeNewOption:Tt,selectNewOption:st,clearAllNewOption:Le}=Ooe(t,$),{handleCompositionStart:Ye,handleCompositionUpdate:L,handleCompositionEnd:x}=VD(Je=>ko(Je)),ee=()=>{D.value||($.menuVisibleOnFocus?$.menuVisibleOnFocus=!1:W.value=!W.value)},pe=()=>{$.inputValue.length>0&&!W.value&&(W.value=!0),bt($.inputValue),je($.inputValue)},re=us(pe,ye.value),je=Je=>{$.previousQuery!==Je&&($.previousQuery=Je,t.filterable&&vt(t.filterMethod)?t.filterMethod(Je):t.filterable&&t.remote&&vt(t.remoteMethod)&&t.remoteMethod(Je),t.defaultFirstOption&&(t.filterable||t.remote)&&G.value.length?pt(Et):pt(yn))},Et=()=>{const Je=G.value.filter(nn=>!nn.disabled&&nn.type!=="Group"),St=Je.find(nn=>nn.created),Wt=Je[0];$.hoveringIndex=Ce(G.value,St||Wt)},U=Je=>{Po(t.modelValue,Je)||n(vn,Je)},se=Je=>{n(Bt,Je),U(Je),$.previousValue=t.multiple?String(Je):Je},Ce=(Je=[],St)=>{if(!Pt(St))return Je.indexOf(St);const Wt=t.valueKey;let nn=-1;return Je.some((Oo,Ro)=>xn(Oo,Wt)===xn(St,Wt)?(nn=Ro,!0):!1),nn},we=Je=>Pt(Je)?xn(Je,t.valueKey):Je,et=()=>{Be()},At=()=>{$.selectionWidth=I.value.getBoundingClientRect().width},Fn=()=>{$.calculatorWidth=O.value.getBoundingClientRect().width},$o=()=>{$.collapseItemWidth=B.value.getBoundingClientRect().width},Ho=()=>{var Je,St;(St=(Je=S.value)==null?void 0:Je.updatePopper)==null||St.call(Je)},co=()=>{var Je,St;(St=(Je=C.value)==null?void 0:Je.updatePopper)==null||St.call(Je)},Un=Je=>{if(t.multiple){let St=t.modelValue.slice();const Wt=Ce(St,g(Je));Wt>-1?(St=[...St.slice(0,Wt),...St.slice(Wt+1)],$.cachedOptions.splice(Wt,1),Tt(Je)):(t.multipleLimit<=0||St.length<t.multipleLimit)&&(St=[...St,g(Je)],$.cachedOptions.push(Je),st(Je)),se(St),Je.created&&je(""),t.filterable&&!t.reserveKeyword&&($.inputValue="")}else $.selectedLabel=f(Je),se(g(Je)),W.value=!1,st(Je),Je.created||Le();qs()},wo=(Je,St)=>{let Wt=t.modelValue.slice();const nn=Ce(Wt,g(St));nn>-1&&!D.value&&(Wt=[...t.modelValue.slice(0,nn),...t.modelValue.slice(nn+1)],$.cachedOptions.splice(nn,1),se(Wt),n("remove-tag",g(St)),Tt(St)),Je.stopPropagation(),qs()},qs=()=>{var Je;(Je=R.value)==null||Je.focus()},Dl=()=>{var Je;(Je=R.value)==null||Je.blur()},Yi=()=>{$.inputValue.length>0?$.inputValue="":W.value=!1},Pr=Je=>QN(Je,St=>!$.cachedOptions.some(Wt=>g(Wt)===St&&m(Wt))),ja=Je=>{if(t.multiple&&Je.code!==mt.delete&&$.inputValue.length===0){Je.preventDefault();const St=t.modelValue.slice(),Wt=Pr(St);if(Wt<0)return;const nn=St[Wt];St.splice(Wt,1);const Oo=$.cachedOptions[Wt];$.cachedOptions.splice(Wt,1),Tt(Oo),se(St),n("remove-tag",nn)}},xr=()=>{let Je;tt(t.modelValue)?Je=[]:Je=b.value,t.multiple?$.cachedOptions=[]:$.selectedLabel="",W.value=!1,se(Je),n("clear"),Le(),qs()},Ze=(Je,St=void 0)=>{const Wt=G.value;if(!["forward","backward"].includes(Je)||D.value||Wt.length<=0||ae.value)return;if(!W.value)return ee();St===void 0&&(St=$.hoveringIndex);let nn=-1;Je==="forward"?(nn=St+1,nn>=Wt.length&&(nn=0)):Je==="backward"&&(nn=St-1,(nn<0||nn>=Wt.length)&&(nn=Wt.length-1));const Oo=Wt[nn];if(m(Oo)||Oo.type==="Group")return Ze(Je,nn);$.hoveringIndex=nn,vo(nn)},$t=()=>{if(W.value)~$.hoveringIndex&&G.value[$.hoveringIndex]&&Un(G.value[$.hoveringIndex]);else return ee()},cn=Je=>{$.hoveringIndex=Je},yn=()=>{t.multiple?$.hoveringIndex=G.value.findIndex(Je=>t.modelValue.some(St=>we(St)===we(Je))):$.hoveringIndex=G.value.findIndex(Je=>we(Je)===we(t.modelValue))},ko=Je=>{if($.inputValue=Je.target.value,t.remote)re();else return pe()},cs=Je=>{if(W.value=!1,te.value){const St=new FocusEvent("focus",Je);j(St)}},Js=()=>($.isBeforeHide=!1,pt(()=>{~ot.value&&vo($.hoveringIndex)})),vo=Je=>{H.value.scrollToItem(Je)},Vo=Je=>{const St=we(Je);if(Ae.value.has(St)){const{option:Wt}=Ae.value.get(St);return Wt}return{[p.value.value]:Je,[p.value.label]:Je}},Zs=()=>{if(t.multiple)if(t.modelValue.length>0){$.cachedOptions.length=0,$.previousValue=t.modelValue.toString();for(const Je of t.modelValue){const St=Vo(Je);$.cachedOptions.push(St)}}else $.cachedOptions=[],$.previousValue=void 0;else if(oe.value){$.previousValue=t.modelValue;const Je=G.value,St=Je.findIndex(Wt=>we(g(Wt))===we(t.modelValue));~St?$.selectedLabel=f(Je[St]):$.selectedLabel=we(t.modelValue)}else $.selectedLabel="",$.previousValue=void 0;Le(),Be()};return Me(W,Je=>{Je?je(""):($.inputValue="",$.previousQuery=null,$.isBeforeHide=!0,bt("")),n("visible-change",Je)}),Me(()=>t.modelValue,(Je,St)=>{var Wt;(!Je||t.multiple&&Je.toString()!==$.previousValue||!t.multiple&&we(Je)!==we($.previousValue))&&Zs(),!Po(Je,St)&&t.validateEvent&&((Wt=u==null?void 0:u.validate)==null||Wt.call(u,"change").catch(nn=>void 0))},{deep:!0}),Me(()=>t.options,()=>{const Je=R.value;(!Je||Je&&document.activeElement!==Je)&&Zs()},{deep:!0,flush:"post"}),Me(()=>G.value,()=>H.value&&pt(H.value.resetScrollTop)),So(()=>{$.isBeforeHide||ve()}),So(()=>{const{valueKey:Je,options:St}=t,Wt=new Map;for(const nn of St){const Oo=g(nn);let Ro=Oo;if(Pt(Ro)&&(Ro=xn(Oo,Je)),Wt.get(Ro))break;Wt.set(Ro,!0)}}),Rt(()=>{Zs()}),wn(y,et),wn(I,At),wn(O,Fn),wn(H,Ho),wn(K,Ho),wn(F,co),wn(B,$o),{inputId:h,collapseTagSize:Re,currentPlaceholder:ke,expanded:W,emptyText:_e,popupHeight:X,debounce:ye,allOptions:z,filteredOptions:G,iconComponent:me,iconReverse:Se,tagStyle:Ne,collapseTagStyle:He,inputStyle:ue,popperSize:E,dropdownMenuVisible:q,hasModelValue:oe,shouldShowPlaceholder:Ie,selectDisabled:D,selectSize:de,showClearBtn:le,states:$,isFocused:te,nsSelect:i,nsInput:l,calculatorRef:O,inputRef:R,menuRef:H,tagMenuRef:F,tooltipRef:S,tagTooltipRef:C,selectRef:y,wrapperRef:K,selectionRef:I,prefixRef:P,suffixRef:M,collapseItemRef:B,popperRef:Ue,validateState:De,validateIcon:ce,showTagList:Qe,collapseTagList:lt,debouncedOnInputChange:re,deleteTag:wo,getLabel:f,getValue:g,getDisabled:m,getValueKey:we,handleBlur:j,handleClear:xr,handleClickOutside:cs,handleDel:ja,handleEsc:Yi,handleFocus:J,focus:qs,blur:Dl,handleMenuEnter:Js,handleResize:et,resetSelectionWidth:At,resetCalculatorWidth:Fn,updateTooltip:Ho,updateTagTooltip:co,updateOptions:ve,toggleMenu:ee,scrollTo:vo,onInput:ko,onKeyboardNavigate:Ze,onKeyboardSelect:$t,onSelect:Un,onHover:cn,handleCompositionStart:Ye,handleCompositionEnd:x,handleCompositionUpdate:L}},Aoe=ne({name:"ElSelectV2",components:{ElSelectMenu:koe,ElTag:Mh,ElTooltip:Bo,ElIcon:at},directives:{ClickOutside:kr},props:yoe,emits:[Bt,vn,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:n}){const o=w(()=>{const{modelValue:l,multiple:a}=t,u=a?[]:void 0;return tt(l)?a?l:u:a?u:l}),i=Loe(en({...mo(t),modelValue:o}),n);return Gt(T0,{props:en({...mo(t),height:i.popupHeight,modelValue:o}),tooltipRef:i.tooltipRef,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),{...i,modelValue:o}}}),Noe=["id","autocomplete","aria-expanded","aria-label","disabled","readonly","name"],Moe=["textContent"],Doe={key:1};function Poe(t,n,o,i,l,a){const u=Lt("el-tag"),h=Lt("el-tooltip"),p=Lt("el-icon"),f=Lt("el-select-menu"),g=vg("click-outside");return Ot((A(),Y("div",{ref:"selectRef",class:N([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:n[15]||(n[15]=m=>t.states.inputHovering=!0),onMouseleave:n[16]||(n[16]=m=>t.states.inputHovering=!1)},[ie(h,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:n[14]||(n[14]=m=>t.states.isBeforeHide=!1)},{default:he(()=>[Q("div",{ref:"wrapperRef",class:N([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:n[13]||(n[13]=_t((...m)=>t.toggleMenu&&t.toggleMenu(...m),["prevent","stop"]))},[t.$slots.prefix?(A(),Y("div",{key:0,ref:"prefixRef",class:N(t.nsSelect.e("prefix"))},[Te(t.$slots,"prefix")],2)):$e("v-if",!0),Q("div",{ref:"selectionRef",class:N([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?Te(t.$slots,"tag",{key:0},()=>[(A(!0),Y(dt,null,Kt(t.showTagList,m=>(A(),Y("div",{key:t.getValueKey(t.getValue(m)),class:N(t.nsSelect.e("selected-item"))},[ie(u,{closable:!t.selectDisabled&&!t.getDisabled(m),size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:ct(t.tagStyle),onClose:_=>t.deleteTag(_,m)},{default:he(()=>[Q("span",{class:N(t.nsSelect.e("tags-text"))},[Te(t.$slots,"label",{label:t.getLabel(m),value:t.getValue(m)},()=>[zt(We(t.getLabel(m)),1)])],2)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(A(),be(h,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:he(()=>[Q("div",{ref:"collapseItemRef",class:N(t.nsSelect.e("selected-item"))},[ie(u,{closable:!1,size:t.collapseTagSize,type:t.tagType,style:ct(t.collapseTagStyle),"disable-transitions":""},{default:he(()=>[Q("span",{class:N(t.nsSelect.e("tags-text"))}," + "+We(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:he(()=>[Q("div",{ref:"tagMenuRef",class:N(t.nsSelect.e("selection"))},[(A(!0),Y(dt,null,Kt(t.collapseTagList,m=>(A(),Y("div",{key:t.getValueKey(t.getValue(m)),class:N(t.nsSelect.e("selected-item"))},[ie(u,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(m),size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:_=>t.deleteTag(_,m)},{default:he(()=>[Q("span",{class:N(t.nsSelect.e("tags-text"))},[Te(t.$slots,"label",{label:t.getLabel(m),value:t.getValue(m)},()=>[zt(We(t.getLabel(m)),1)])],2)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):$e("v-if",!0)]):$e("v-if",!0),t.selectDisabled?$e("v-if",!0):(A(),Y("div",{key:1,class:N([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Ot(Q("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":n[0]||(n[0]=m=>t.states.inputValue=m),style:ct(t.inputStyle),autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:N([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onFocus:n[1]||(n[1]=(...m)=>t.handleFocus&&t.handleFocus(...m)),onBlur:n[2]||(n[2]=(...m)=>t.handleBlur&&t.handleBlur(...m)),onInput:n[3]||(n[3]=(...m)=>t.onInput&&t.onInput(...m)),onCompositionstart:n[4]||(n[4]=(...m)=>t.handleCompositionStart&&t.handleCompositionStart(...m)),onCompositionupdate:n[5]||(n[5]=(...m)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...m)),onCompositionend:n[6]||(n[6]=(...m)=>t.handleCompositionEnd&&t.handleCompositionEnd(...m)),onKeydown:[n[7]||(n[7]=ln(_t(m=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),n[8]||(n[8]=ln(_t(m=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),n[9]||(n[9]=ln(_t((...m)=>t.onKeyboardSelect&&t.onKeyboardSelect(...m),["stop","prevent"]),["enter"])),n[10]||(n[10]=ln(_t((...m)=>t.handleEsc&&t.handleEsc(...m),["stop","prevent"]),["esc"])),n[11]||(n[11]=ln(_t((...m)=>t.handleDel&&t.handleDel(...m),["stop"]),["delete"]))],onClick:n[12]||(n[12]=_t((...m)=>t.toggleMenu&&t.toggleMenu(...m),["stop"]))},null,46,Noe),[[nE,t.states.inputValue]]),t.filterable?(A(),Y("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:N(t.nsSelect.e("input-calculator")),textContent:We(t.states.inputValue)},null,10,Moe)):$e("v-if",!0)],2)),t.shouldShowPlaceholder?(A(),Y("div",{key:2,class:N([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?Te(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[Q("span",null,We(t.currentPlaceholder),1)]):(A(),Y("span",Doe,We(t.currentPlaceholder),1))],2)):$e("v-if",!0)],2),Q("div",{ref:"suffixRef",class:N(t.nsSelect.e("suffix"))},[t.iconComponent?Ot((A(),be(p,{key:0,class:N([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:he(()=>[(A(),be(Ft(t.iconComponent)))]),_:1},8,["class"])),[[qt,!t.showClearBtn]]):$e("v-if",!0),t.showClearBtn&&t.clearIcon?(A(),be(p,{key:1,class:N([t.nsSelect.e("caret"),t.nsInput.e("icon")]),onClick:_t(t.handleClear,["prevent","stop"])},{default:he(()=>[(A(),be(Ft(t.clearIcon)))]),_:1},8,["class","onClick"])):$e("v-if",!0),t.validateState&&t.validateIcon?(A(),be(p,{key:2,class:N([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:he(()=>[(A(),be(Ft(t.validateIcon)))]),_:1},8,["class"])):$e("v-if",!0)],2)],2)]),content:he(()=>[ie(f,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},Cr({default:he(m=>[Te(t.$slots,"default",Tr(fc(m)))]),_:2},[t.$slots.header?{name:"header",fn:he(()=>[Q("div",{class:N(t.nsSelect.be("dropdown","header"))},[Te(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:he(()=>[Q("div",{class:N(t.nsSelect.be("dropdown","loading"))},[Te(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:he(()=>[Q("div",{class:N(t.nsSelect.be("dropdown","empty"))},[Te(t.$slots,"empty",{},()=>[Q("span",null,We(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:he(()=>[Q("div",{class:N(t.nsSelect.be("dropdown","footer"))},[Te(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow"])],34)),[[g,t.handleClickOutside,t.popperRef]])}var Im=Ge(Aoe,[["render",Poe],["__file","select.vue"]]);Im.install=t=>{t.component(Im.name,Im)};const xoe=Im,Boe=xoe,Foe=Ve({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),Hoe=Ve({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),Voe=ne({name:"ElSkeletonItem"}),Uoe=ne({...Voe,props:Hoe,setup(t){const n=Pe("skeleton");return(o,i)=>(A(),Y("div",{class:N([c(n).e("item"),c(n).e(o.variant)])},[o.variant==="image"?(A(),be(c(M4),{key:0})):$e("v-if",!0)],2))}});var ug=Ge(Uoe,[["__file","skeleton-item.vue"]]);const Goe=ne({name:"ElSkeleton"}),Woe=ne({...Goe,props:Foe,setup(t,{expose:n}){const o=t,i=Pe("skeleton"),l=I8(sn(o,"loading"),o.throttle);return n({uiLoading:l}),(a,u)=>c(l)?(A(),Y("div",Vt({key:0,class:[c(i).b(),c(i).is("animated",a.animated)]},a.$attrs),[(A(!0),Y(dt,null,Kt(a.count,h=>(A(),Y(dt,{key:h},[a.loading?Te(a.$slots,"template",{key:h},()=>[ie(ug,{class:N(c(i).is("first")),variant:"p"},null,8,["class"]),(A(!0),Y(dt,null,Kt(a.rows,p=>(A(),be(ug,{key:p,class:N([c(i).e("paragraph"),c(i).is("last",p===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):$e("v-if",!0)],64))),128))],16)):Te(a.$slots,"default",Tr(Vt({key:1},a.$attrs)))}});var zoe=Ge(Woe,[["__file","skeleton.vue"]]);const Koe=Mt(zoe,{SkeletonItem:ug}),Xoe=On(ug),aP=Symbol("sliderContextKey"),Yoe=Ve({modelValue:{type:fe([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Jn,inputSize:Jn,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:fe(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:fe(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Xa,default:"top"},marks:{type:fe(Object)},validateEvent:{type:Boolean,default:!0},...go(["ariaLabel"])}),tT=t=>gt(t)||tt(t)&&t.every(gt),joe={[Bt]:tT,[jo]:tT,[vn]:tT},qoe=(t,n,o)=>{const i=V();return Rt(async()=>{t.range?(Array.isArray(t.modelValue)?(n.firstValue=Math.max(t.min,t.modelValue[0]),n.secondValue=Math.min(t.max,t.modelValue[1])):(n.firstValue=t.min,n.secondValue=t.max),n.oldValue=[n.firstValue,n.secondValue]):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?n.firstValue=t.min:n.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),n.oldValue=n.firstValue),$n(window,"resize",o),await pt(),o()}),{sliderWrapper:i}},Joe=t=>w(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((o,i)=>o-i).filter(o=>o<=t.max&&o>=t.min).map(o=>({point:o,position:(o-t.min)*100/(t.max-t.min),mark:t.marks[o]})):[]),Zoe=(t,n,o)=>{const{form:i,formItem:l}=Fo(),a=bn(),u=V(),h=V(),p={firstButton:u,secondButton:h},f=w(()=>t.disabled||(i==null?void 0:i.disabled)||!1),g=w(()=>Math.min(n.firstValue,n.secondValue)),m=w(()=>Math.max(n.firstValue,n.secondValue)),_=w(()=>t.range?`${100*(m.value-g.value)/(t.max-t.min)}%`:`${100*(n.firstValue-t.min)/(t.max-t.min)}%`),b=w(()=>t.range?`${100*(g.value-t.min)/(t.max-t.min)}%`:"0%"),T=w(()=>t.vertical?{height:t.height}:{}),$=w(()=>t.vertical?{height:_.value,bottom:b.value}:{width:_.value,left:b.value}),E=()=>{a.value&&(n.sliderSize=a.value[`client${t.vertical?"Height":"Width"}`])},y=B=>{const K=t.min+B*(t.max-t.min)/100;if(!t.range)return u;let te;return Math.abs(g.value-K)<Math.abs(m.value-K)?te=n.firstValue<n.secondValue?"firstButton":"secondButton":te=n.firstValue>n.secondValue?"firstButton":"secondButton",p[te]},I=B=>{const K=y(B);return K.value.setPosition(B),K},S=B=>{n.firstValue=B,R(t.range?[g.value,m.value]:B)},C=B=>{n.secondValue=B,t.range&&R([g.value,m.value])},R=B=>{o(Bt,B),o(jo,B)},O=async()=>{await pt(),o(vn,t.range?[g.value,m.value]:t.modelValue)},P=B=>{var K,te,J,j,z,G;if(f.value||n.dragging)return;E();let W=0;if(t.vertical){const D=(J=(te=(K=B.touches)==null?void 0:K.item(0))==null?void 0:te.clientY)!=null?J:B.clientY;W=(a.value.getBoundingClientRect().bottom-D)/n.sliderSize*100}else{const D=(G=(z=(j=B.touches)==null?void 0:j.item(0))==null?void 0:z.clientX)!=null?G:B.clientX,X=a.value.getBoundingClientRect().left;W=(D-X)/n.sliderSize*100}if(!(W<0||W>100))return I(W)};return{elFormItem:l,slider:a,firstButton:u,secondButton:h,sliderDisabled:f,minValue:g,maxValue:m,runwayStyle:T,barStyle:$,resetSize:E,setPosition:I,emitChange:O,onSliderWrapperPrevent:B=>{var K,te;((K=p.firstButton.value)!=null&&K.dragging||(te=p.secondButton.value)!=null&&te.dragging)&&B.preventDefault()},onSliderClick:B=>{P(B)&&O()},onSliderDown:async B=>{const K=P(B);K&&(await pt(),K.value.onButtonDown(B))},setFirstValue:S,setSecondValue:C}},{left:Qoe,down:ese,right:tse,up:nse,home:ose,end:sse,pageUp:ise,pageDown:rse}=mt,lse=(t,n,o)=>{const i=V(),l=V(!1),a=w(()=>n.value instanceof Function),u=w(()=>a.value&&n.value(t.modelValue)||t.modelValue),h=us(()=>{o.value&&(l.value=!0)},50),p=us(()=>{o.value&&(l.value=!1)},50);return{tooltip:i,tooltipVisible:l,formatValue:u,displayTooltip:h,hideTooltip:p}},ase=(t,n,o)=>{const{disabled:i,min:l,max:a,step:u,showTooltip:h,precision:p,sliderSize:f,formatTooltip:g,emitChange:m,resetSize:_,updateDragging:b}=it(aP),{tooltip:T,tooltipVisible:$,formatValue:E,displayTooltip:y,hideTooltip:I}=lse(t,g,h),S=V(),C=w(()=>`${(t.modelValue-l.value)/(a.value-l.value)*100}%`),R=w(()=>t.vertical?{bottom:C.value}:{left:C.value}),O=()=>{n.hovering=!0,y()},P=()=>{n.hovering=!1,n.dragging||I()},M=le=>{i.value||(le.preventDefault(),W(le),window.addEventListener("mousemove",D),window.addEventListener("touchmove",D),window.addEventListener("mouseup",X),window.addEventListener("touchend",X),window.addEventListener("contextmenu",X),S.value.focus())},H=le=>{i.value||(n.newPosition=Number.parseFloat(C.value)+le/(a.value-l.value)*100,oe(n.newPosition),m())},F=()=>{H(-u.value)},B=()=>{H(u.value)},K=()=>{H(-u.value*4)},te=()=>{H(u.value*4)},J=()=>{i.value||(oe(0),m())},j=()=>{i.value||(oe(100),m())},z=le=>{let me=!0;[Qoe,ese].includes(le.key)?F():[tse,nse].includes(le.key)?B():le.key===ose?J():le.key===sse?j():le.key===rse?K():le.key===ise?te():me=!1,me&&le.preventDefault()},G=le=>{let me,Se;return le.type.startsWith("touch")?(Se=le.touches[0].clientY,me=le.touches[0].clientX):(Se=le.clientY,me=le.clientX),{clientX:me,clientY:Se}},W=le=>{n.dragging=!0,n.isClick=!0;const{clientX:me,clientY:Se}=G(le);t.vertical?n.startY=Se:n.startX=me,n.startPosition=Number.parseFloat(C.value),n.newPosition=n.startPosition},D=le=>{if(n.dragging){n.isClick=!1,y(),_();let me;const{clientX:Se,clientY:De}=G(le);t.vertical?(n.currentY=De,me=(n.startY-n.currentY)/f.value*100):(n.currentX=Se,me=(n.currentX-n.startX)/f.value*100),n.newPosition=n.startPosition+me,oe(n.newPosition)}},X=()=>{n.dragging&&(setTimeout(()=>{n.dragging=!1,n.hovering||I(),n.isClick||oe(n.newPosition),m()},0),window.removeEventListener("mousemove",D),window.removeEventListener("touchmove",D),window.removeEventListener("mouseup",X),window.removeEventListener("touchend",X),window.removeEventListener("contextmenu",X))},oe=async le=>{if(le===null||Number.isNaN(+le))return;le<0?le=0:le>100&&(le=100);const me=100/((a.value-l.value)/u.value);let De=Math.round(le/me)*me*(a.value-l.value)*.01+l.value;De=Number.parseFloat(De.toFixed(p.value)),De!==t.modelValue&&o(Bt,De),!n.dragging&&t.modelValue!==n.oldValue&&(n.oldValue=t.modelValue),await pt(),n.dragging&&y(),T.value.updatePopper()};return Me(()=>n.dragging,le=>{b(le)}),{disabled:i,button:S,tooltip:T,tooltipVisible:$,showTooltip:h,wrapperStyle:R,formatValue:E,handleMouseEnter:O,handleMouseLeave:P,onButtonDown:M,onKeyDown:z,setPosition:oe}},use=(t,n,o,i)=>({stops:w(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const u=(t.max-t.min)/t.step,h=100*t.step/(t.max-t.min),p=Array.from({length:u-1}).map((f,g)=>(g+1)*h);return t.range?p.filter(f=>f<100*(o.value-t.min)/(t.max-t.min)||f>100*(i.value-t.min)/(t.max-t.min)):p.filter(f=>f>100*(n.firstValue-t.min)/(t.max-t.min))}),getStopStyle:u=>t.vertical?{bottom:`${u}%`}:{left:`${u}%`}}),cse=(t,n,o,i,l,a)=>{const u=f=>{l(Bt,f),l(jo,f)},h=()=>t.range?![o.value,i.value].every((f,g)=>f===n.oldValue[g]):t.modelValue!==n.oldValue,p=()=>{var f,g;t.min>t.max&&qn("Slider","min should not be greater than max.");const m=t.modelValue;t.range&&Array.isArray(m)?m[1]<t.min?u([t.min,t.min]):m[0]>t.max?u([t.max,t.max]):m[0]<t.min?u([t.min,m[1]]):m[1]>t.max?u([m[0],t.max]):(n.firstValue=m[0],n.secondValue=m[1],h()&&(t.validateEvent&&((f=a==null?void 0:a.validate)==null||f.call(a,"change").catch(_=>void 0)),n.oldValue=m.slice())):!t.range&&typeof m=="number"&&!Number.isNaN(m)&&(m<t.min?u(t.min):m>t.max?u(t.max):(n.firstValue=m,h()&&(t.validateEvent&&((g=a==null?void 0:a.validate)==null||g.call(a,"change").catch(_=>void 0)),n.oldValue=m)))};p(),Me(()=>n.dragging,f=>{f||p()}),Me(()=>t.modelValue,(f,g)=>{n.dragging||Array.isArray(f)&&Array.isArray(g)&&f.every((m,_)=>m===g[_])&&n.firstValue===f[0]&&n.secondValue===f[1]||p()},{deep:!0}),Me(()=>[t.min,t.max],()=>{p()})},dse=Ve({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Xa,default:"top"}}),hse={[Bt]:t=>gt(t)},pse=["tabindex"],fse=ne({name:"ElSliderButton"}),mse=ne({...fse,props:dse,emits:hse,setup(t,{expose:n,emit:o}){const i=t,l=Pe("slider"),a=en({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:i.modelValue}),{disabled:u,button:h,tooltip:p,showTooltip:f,tooltipVisible:g,wrapperStyle:m,formatValue:_,handleMouseEnter:b,handleMouseLeave:T,onButtonDown:$,onKeyDown:E,setPosition:y}=ase(i,a,o),{hovering:I,dragging:S}=mo(a);return n({onButtonDown:$,onKeyDown:E,setPosition:y,hovering:I,dragging:S}),(C,R)=>(A(),Y("div",{ref_key:"button",ref:h,class:N([c(l).e("button-wrapper"),{hover:c(I),dragging:c(S)}]),style:ct(c(m)),tabindex:c(u)?-1:0,onMouseenter:R[0]||(R[0]=(...O)=>c(b)&&c(b)(...O)),onMouseleave:R[1]||(R[1]=(...O)=>c(T)&&c(T)(...O)),onMousedown:R[2]||(R[2]=(...O)=>c($)&&c($)(...O)),onTouchstart:R[3]||(R[3]=(...O)=>c($)&&c($)(...O)),onFocus:R[4]||(R[4]=(...O)=>c(b)&&c(b)(...O)),onBlur:R[5]||(R[5]=(...O)=>c(T)&&c(T)(...O)),onKeydown:R[6]||(R[6]=(...O)=>c(E)&&c(E)(...O))},[ie(c(Bo),{ref_key:"tooltip",ref:p,visible:c(g),placement:C.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":C.tooltipClass,disabled:!c(f),persistent:""},{content:he(()=>[Q("span",null,We(c(_)),1)]),default:he(()=>[Q("div",{class:N([c(l).e("button"),{hover:c(I),dragging:c(S)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,pse))}});var pL=Ge(mse,[["__file","button.vue"]]);const gse=Ve({mark:{type:fe([String,Object]),default:void 0}});var $se=ne({name:"ElSliderMarker",props:gse,setup(t){const n=Pe("slider"),o=w(()=>yt(t.mark)?t.mark:t.mark.label),i=w(()=>yt(t.mark)?void 0:t.mark.style);return()=>ft("div",{class:n.e("marks-text"),style:i.value},o.value)}});const vse=["id","role","aria-label","aria-labelledby"],_se={key:1},bse=ne({name:"ElSlider"}),Tse=ne({...bse,props:Yoe,emits:joe,setup(t,{expose:n,emit:o}){const i=t,l=Pe("slider"),{t:a}=jt(),u=en({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:h,slider:p,firstButton:f,secondButton:g,sliderDisabled:m,minValue:_,maxValue:b,runwayStyle:T,barStyle:$,resetSize:E,emitChange:y,onSliderWrapperPrevent:I,onSliderClick:S,onSliderDown:C,setFirstValue:R,setSecondValue:O}=Zoe(i,u,o),{stops:P,getStopStyle:M}=use(i,u,_,b),{inputId:H,isLabeledByFormItem:F}=$i(i,{formItemContext:h}),B=Xn(),K=w(()=>i.inputSize||B.value),te=w(()=>i.label||i.ariaLabel||a("el.slider.defaultLabel",{min:i.min,max:i.max})),J=w(()=>i.range?i.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):te.value),j=w(()=>i.formatValueText?i.formatValueText(le.value):`${le.value}`),z=w(()=>i.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),G=w(()=>i.formatValueText?i.formatValueText(me.value):`${me.value}`),W=w(()=>[l.b(),l.m(B.value),l.is("vertical",i.vertical),{[l.m("with-input")]:i.showInput}]),D=Joe(i);cse(i,u,_,b,o,h);const X=w(()=>{const ce=[i.min,i.max,i.step].map(ye=>{const _e=`${ye}`.split(".")[1];return _e?_e.length:0});return Math.max.apply(null,ce)}),{sliderWrapper:oe}=qoe(i,u,E),{firstValue:le,secondValue:me,sliderSize:Se}=mo(u),De=ce=>{u.dragging=ce};return Gt(aP,{...mo(i),sliderSize:Se,disabled:m,precision:X,emitChange:y,resetSize:E,updateDragging:De}),eo({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-slider",ref:"https://element-plus.org/en-US/component/slider.html"},w(()=>!!i.label)),n({onSliderClick:S}),(ce,ye)=>{var _e,Ke;return A(),Y("div",{id:ce.range?c(H):void 0,ref_key:"sliderWrapper",ref:oe,class:N(c(W)),role:ce.range?"group":void 0,"aria-label":ce.range&&!c(F)?c(te):void 0,"aria-labelledby":ce.range&&c(F)?(_e=c(h))==null?void 0:_e.labelId:void 0,onTouchstart:ye[2]||(ye[2]=(...ve)=>c(I)&&c(I)(...ve)),onTouchmove:ye[3]||(ye[3]=(...ve)=>c(I)&&c(I)(...ve))},[Q("div",{ref_key:"slider",ref:p,class:N([c(l).e("runway"),{"show-input":ce.showInput&&!ce.range},c(l).is("disabled",c(m))]),style:ct(c(T)),onMousedown:ye[0]||(ye[0]=(...ve)=>c(C)&&c(C)(...ve)),onTouchstart:ye[1]||(ye[1]=(...ve)=>c(C)&&c(C)(...ve))},[Q("div",{class:N(c(l).e("bar")),style:ct(c($))},null,6),ie(pL,{id:ce.range?void 0:c(H),ref_key:"firstButton",ref:f,"model-value":c(le),vertical:ce.vertical,"tooltip-class":ce.tooltipClass,placement:ce.placement,role:"slider","aria-label":ce.range||!c(F)?c(J):void 0,"aria-labelledby":!ce.range&&c(F)?(Ke=c(h))==null?void 0:Ke.labelId:void 0,"aria-valuemin":ce.min,"aria-valuemax":ce.range?c(me):ce.max,"aria-valuenow":c(le),"aria-valuetext":c(j),"aria-orientation":ce.vertical?"vertical":"horizontal","aria-disabled":c(m),"onUpdate:modelValue":c(R)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),ce.range?(A(),be(pL,{key:0,ref_key:"secondButton",ref:g,"model-value":c(me),vertical:ce.vertical,"tooltip-class":ce.tooltipClass,placement:ce.placement,role:"slider","aria-label":c(z),"aria-valuemin":c(le),"aria-valuemax":ce.max,"aria-valuenow":c(me),"aria-valuetext":c(G),"aria-orientation":ce.vertical?"vertical":"horizontal","aria-disabled":c(m),"onUpdate:modelValue":c(O)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):$e("v-if",!0),ce.showStops?(A(),Y("div",_se,[(A(!0),Y(dt,null,Kt(c(P),(ve,Ae)=>(A(),Y("div",{key:Ae,class:N(c(l).e("stop")),style:ct(c(M)(ve))},null,6))),128))])):$e("v-if",!0),c(D).length>0?(A(),Y(dt,{key:2},[Q("div",null,[(A(!0),Y(dt,null,Kt(c(D),(ve,Ae)=>(A(),Y("div",{key:Ae,style:ct(c(M)(ve.position)),class:N([c(l).e("stop"),c(l).e("marks-stop")])},null,6))),128))]),Q("div",{class:N(c(l).e("marks"))},[(A(!0),Y(dt,null,Kt(c(D),(ve,Ae)=>(A(),be(c($se),{key:Ae,mark:ve.mark,style:ct(c(M)(ve.position))},null,8,["mark","style"]))),128))],2)],64)):$e("v-if",!0)],38),ce.showInput&&!ce.range?(A(),be(c(MD),{key:0,ref:"input","model-value":c(le),class:N(c(l).e("input")),step:ce.step,disabled:c(m),controls:ce.showInputControls,min:ce.min,max:ce.max,debounce:ce.debounce,size:c(K),"onUpdate:modelValue":c(R),onChange:c(y)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):$e("v-if",!0)],42,vse)}}});var yse=Ge(Tse,[["__file","slider.vue"]]);const Ese=Mt(yse),Sse=Ve({prefixCls:{type:String}}),fL=ne({name:"ElSpaceItem",props:Sse,setup(t,{slots:n}){const o=Pe("space"),i=w(()=>`${t.prefixCls||o.b()}__item`);return()=>ft("div",{class:i.value},Te(n,"default"))}}),mL={small:8,default:12,large:16};function Cse(t){const n=Pe("space"),o=w(()=>[n.b(),n.m(t.direction),t.class]),i=V(0),l=V(0),a=w(()=>{const h=t.wrap||t.fill?{flexWrap:"wrap"}:{},p={alignItems:t.alignment},f={rowGap:`${l.value}px`,columnGap:`${i.value}px`};return[h,p,f,t.style]}),u=w(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return So(()=>{const{size:h="small",wrap:p,direction:f,fill:g}=t;if(tt(h)){const[m=0,_=0]=h;i.value=m,l.value=_}else{let m;gt(h)?m=h:m=mL[h||"small"]||mL.small,(p||g)&&f==="horizontal"?i.value=l.value=m:f==="horizontal"?(i.value=m,l.value=0):(l.value=m,i.value=0)}}),{classes:o,containerStyle:a,itemStyle:u}}const Ise=Ve({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:fe([String,Object,Array]),default:""},style:{type:fe([String,Array,Object]),default:""},alignment:{type:fe(String),default:"center"},prefixCls:{type:String},spacer:{type:fe([Object,String,Number,Array]),default:null,validator:t=>Cn(t)||gt(t)||yt(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Ki,validator:t=>gt(t)||tt(t)&&t.length===2&&t.every(gt)}}),wse=ne({name:"ElSpace",props:Ise,setup(t,{slots:n}){const{classes:o,containerStyle:i,itemStyle:l}=Cse(t);function a(u,h="",p=[]){const{prefixCls:f}=t;return u.forEach((g,m)=>{AT(g)?tt(g.children)&&g.children.forEach((_,b)=>{AT(_)&&tt(_.children)?a(_.children,`${h+b}-`,p):p.push(ie(fL,{style:l.value,prefixCls:f,key:`nested-${h+b}`},{default:()=>[_]},Ds.PROPS|Ds.STYLE,["style","prefixCls"]))}):uz(g)&&p.push(ie(fL,{style:l.value,prefixCls:f,key:`LoopKey${h+m}`},{default:()=>[g]},Ds.PROPS|Ds.STYLE,["style","prefixCls"]))}),p}return()=>{var u;const{spacer:h,direction:p}=t,f=Te(n,"default",{key:0},()=>[]);if(((u=f.children)!=null?u:[]).length===0)return null;if(tt(f.children)){let g=a(f.children);if(h){const m=g.length-1;g=g.reduce((_,b,T)=>{const $=[..._,b];return T!==m&&$.push(ie("span",{style:[l.value,p==="vertical"?"width: 100%":null],key:T},[Cn(h)?h:zt(h,Ds.TEXT)],Ds.STYLE)),$},[])}return ie("div",{class:o.value,style:i.value},g,Ds.STYLE|Ds.CLASS)}return f.children}}}),kse=Mt(wse),Ose=Ve({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:fe([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:fe([String,Object,Array])}}),Rse=ne({name:"ElStatistic"}),Lse=ne({...Rse,props:Ose,setup(t,{expose:n}){const o=t,i=Pe("statistic"),l=w(()=>{const{value:a,formatter:u,precision:h,decimalSeparator:p,groupSeparator:f}=o;if(vt(u))return u(a);if(!gt(a))return a;let[g,m=""]=String(a).split(".");return m=m.padEnd(h,"0").slice(0,h>0?h:0),g=g.replace(/\B(?=(\d{3})+(?!\d))/g,f),[g,m].join(m?p:"")});return n({displayValue:l}),(a,u)=>(A(),Y("div",{class:N(c(i).b())},[a.$slots.title||a.title?(A(),Y("div",{key:0,class:N(c(i).e("head"))},[Te(a.$slots,"title",{},()=>[zt(We(a.title),1)])],2)):$e("v-if",!0),Q("div",{class:N(c(i).e("content"))},[a.$slots.prefix||a.prefix?(A(),Y("div",{key:0,class:N(c(i).e("prefix"))},[Te(a.$slots,"prefix",{},()=>[Q("span",null,We(a.prefix),1)])],2)):$e("v-if",!0),Q("span",{class:N(c(i).e("number")),style:ct(a.valueStyle)},We(c(l)),7),a.$slots.suffix||a.suffix?(A(),Y("div",{key:1,class:N(c(i).e("suffix"))},[Te(a.$slots,"suffix",{},()=>[Q("span",null,We(a.suffix),1)])],2)):$e("v-if",!0)],2)],2))}});var Ase=Ge(Lse,[["__file","statistic.vue"]]);const uP=Mt(Ase),Nse=Ve({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:fe([Number,Object]),default:0},valueStyle:{type:fe([String,Object,Array])}}),Mse={finish:()=>!0,[vn]:t=>gt(t)},Dse=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],gL=t=>gt(t)?new Date(t).getTime():t.valueOf(),$L=(t,n)=>{let o=t;const i=/\[([^\]]*)]/g;return Dse.reduce((a,[u,h])=>{const p=new RegExp(`${u}+(?![^\\[\\]]*\\])`,"g");if(p.test(a)){const f=Math.floor(o/h);return o-=f*h,a.replace(p,g=>String(f).padStart(g.length,"0"))}return a},n).replace(i,"$1")},Pse=ne({name:"ElCountdown"}),xse=ne({...Pse,props:Nse,emits:Mse,setup(t,{expose:n,emit:o}){const i=t;let l;const a=V(gL(i.value)-Date.now()),u=w(()=>$L(a.value,i.format)),h=g=>$L(g,i.format),p=()=>{l&&(Ba(l),l=void 0)},f=()=>{const g=gL(i.value),m=()=>{let _=g-Date.now();o("change",_),_<=0?(_=0,p(),o("finish")):l=El(m),a.value=_};l=El(m)};return Me(()=>[i.value,i.format],()=>{p(),f()},{immediate:!0}),mn(()=>{p()}),n({displayValue:u}),(g,m)=>(A(),be(c(uP),{value:a.value,title:g.title,prefix:g.prefix,suffix:g.suffix,"value-style":g.valueStyle,formatter:h},Cr({_:2},[Kt(g.$slots,(_,b)=>({name:b,fn:he(()=>[Te(g.$slots,b)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var Bse=Ge(xse,[["__file","countdown.vue"]]);const Fse=Mt(Bse),Hse=Ve({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Vse={[vn]:(t,n)=>[t,n].every(gt)},Use=ne({name:"ElSteps"}),Gse=ne({...Use,props:Hse,emits:Vse,setup(t,{emit:n}){const o=t,i=Pe("steps"),{children:l,addChild:a,removeChild:u}=JE(Nt(),"ElStep");return Me(l,()=>{l.value.forEach((h,p)=>{h.setIndex(p)})}),Gt("ElSteps",{props:o,steps:l,addStep:a,removeStep:u}),Me(()=>o.active,(h,p)=>{n(vn,h,p)}),(h,p)=>(A(),Y("div",{class:N([c(i).b(),c(i).m(h.simple?"simple":h.direction)])},[Te(h.$slots,"default")],2))}});var Wse=Ge(Gse,[["__file","steps.vue"]]);const zse=Ve({title:{type:String,default:""},icon:{type:an},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Kse=ne({name:"ElStep"}),Xse=ne({...Kse,props:zse,setup(t){const n=t,o=Pe("step"),i=V(-1),l=V({}),a=V(""),u=it("ElSteps"),h=Nt();Rt(()=>{Me([()=>u.props.active,()=>u.props.processStatus,()=>u.props.finishStatus],([O])=>{C(O)},{immediate:!0})}),mn(()=>{u.removeStep(R.uid)});const p=w(()=>n.status||a.value),f=w(()=>{const O=u.steps.value[i.value-1];return O?O.currentStatus:"wait"}),g=w(()=>u.props.alignCenter),m=w(()=>u.props.direction==="vertical"),_=w(()=>u.props.simple),b=w(()=>u.steps.value.length),T=w(()=>{var O;return((O=u.steps.value[b.value-1])==null?void 0:O.uid)===(h==null?void 0:h.uid)}),$=w(()=>_.value?"":u.props.space),E=w(()=>[o.b(),o.is(_.value?"simple":u.props.direction),o.is("flex",T.value&&!$.value&&!g.value),o.is("center",g.value&&!m.value&&!_.value)]),y=w(()=>{const O={flexBasis:gt($.value)?`${$.value}px`:$.value?$.value:`${100/(b.value-(g.value?0:1))}%`};return m.value||T.value&&(O.maxWidth=`${100/b.value}%`),O}),I=O=>{i.value=O},S=O=>{const P=O==="wait",M={transitionDelay:`${P?"-":""}${150*i.value}ms`},H=O===u.props.processStatus||P?0:100;M.borderWidth=H&&!_.value?"1px":0,M[u.props.direction==="vertical"?"height":"width"]=`${H}%`,l.value=M},C=O=>{O>i.value?a.value=u.props.finishStatus:O===i.value&&f.value!=="error"?a.value=u.props.processStatus:a.value="wait";const P=u.steps.value[i.value-1];P&&P.calcProgress(a.value)},R=en({uid:h.uid,currentStatus:p,setIndex:I,calcProgress:S});return u.addStep(R),(O,P)=>(A(),Y("div",{style:ct(c(y)),class:N(c(E))},[$e(" icon & line "),Q("div",{class:N([c(o).e("head"),c(o).is(c(p))])},[c(_)?$e("v-if",!0):(A(),Y("div",{key:0,class:N(c(o).e("line"))},[Q("i",{class:N(c(o).e("line-inner")),style:ct(l.value)},null,6)],2)),Q("div",{class:N([c(o).e("icon"),c(o).is(O.icon||O.$slots.icon?"icon":"text")])},[Te(O.$slots,"icon",{},()=>[O.icon?(A(),be(c(at),{key:0,class:N(c(o).e("icon-inner"))},{default:he(()=>[(A(),be(Ft(O.icon)))]),_:1},8,["class"])):c(p)==="success"?(A(),be(c(at),{key:1,class:N([c(o).e("icon-inner"),c(o).is("status")])},{default:he(()=>[ie(c(Zh))]),_:1},8,["class"])):c(p)==="error"?(A(),be(c(at),{key:2,class:N([c(o).e("icon-inner"),c(o).is("status")])},{default:he(()=>[ie(c(hi))]),_:1},8,["class"])):c(_)?$e("v-if",!0):(A(),Y("div",{key:3,class:N(c(o).e("icon-inner"))},We(i.value+1),3))])],2)],2),$e(" title & description "),Q("div",{class:N(c(o).e("main"))},[Q("div",{class:N([c(o).e("title"),c(o).is(c(p))])},[Te(O.$slots,"title",{},()=>[zt(We(O.title),1)])],2),c(_)?(A(),Y("div",{key:0,class:N(c(o).e("arrow"))},null,2)):(A(),Y("div",{key:1,class:N([c(o).e("description"),c(o).is(c(p))])},[Te(O.$slots,"description",{},()=>[zt(We(O.description),1)])],2))],2)],6))}});var cP=Ge(Xse,[["__file","item.vue"]]);const Yse=Mt(Wse,{Step:cP}),jse=On(cP),qse=Ve({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:h1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:an},activeActionIcon:{type:an},activeIcon:{type:an},inactiveIcon:{type:an},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:fe(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0},...go(["ariaLabel"])}),Jse={[Bt]:t=>Vn(t)||yt(t)||gt(t),[vn]:t=>Vn(t)||yt(t)||gt(t),[jo]:t=>Vn(t)||yt(t)||gt(t)},Zse=["onClick"],Qse=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],eie=["aria-hidden"],tie=["aria-hidden"],nie=["aria-hidden"],dP="ElSwitch",oie=ne({name:dP}),sie=ne({...oie,props:qse,emits:Jse,setup(t,{expose:n,emit:o}){const i=t,{formItem:l}=Fo(),a=Xn(),u=Pe("switch"),{inputId:h}=$i(i,{formItemContext:l}),p=Qo(w(()=>i.loading)),f=V(i.modelValue!==!1),g=V(),m=V(),_=w(()=>[u.b(),u.m(a.value),u.is("disabled",p.value),u.is("checked",y.value)]),b=w(()=>[u.e("label"),u.em("label","left"),u.is("active",!y.value)]),T=w(()=>[u.e("label"),u.em("label","right"),u.is("active",y.value)]),$=w(()=>({width:Mn(i.width)}));Me(()=>i.modelValue,()=>{f.value=!0});const E=w(()=>f.value?i.modelValue:!1),y=w(()=>E.value===i.activeValue);[i.activeValue,i.inactiveValue].includes(E.value)||(o(Bt,i.inactiveValue),o(vn,i.inactiveValue),o(jo,i.inactiveValue)),Me(y,R=>{var O;g.value.checked=R,i.validateEvent&&((O=l==null?void 0:l.validate)==null||O.call(l,"change").catch(P=>void 0))});const I=()=>{const R=y.value?i.inactiveValue:i.activeValue;o(Bt,R),o(vn,R),o(jo,R),pt(()=>{g.value.checked=y.value})},S=()=>{if(p.value)return;const{beforeChange:R}=i;if(!R){I();return}const O=R();[$h(O),Vn(O)].includes(!0)||qn(dP,"beforeChange must return type `Promise<boolean>` or `boolean`"),$h(O)?O.then(M=>{M&&I()}).catch(M=>{}):O&&I()},C=()=>{var R,O;(O=(R=g.value)==null?void 0:R.focus)==null||O.call(R)};return Rt(()=>{g.value.checked=y.value}),eo({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-switch",ref:"https://element-plus.org/en-US/component/switch.html"},w(()=>!!i.label)),n({focus:C,checked:y}),(R,O)=>(A(),Y("div",{class:N(c(_)),onClick:_t(S,["prevent"])},[Q("input",{id:c(h),ref_key:"input",ref:g,class:N(c(u).e("input")),type:"checkbox",role:"switch","aria-checked":c(y),"aria-disabled":c(p),"aria-label":R.label||R.ariaLabel,name:R.name,"true-value":R.activeValue,"false-value":R.inactiveValue,disabled:c(p),tabindex:R.tabindex,onChange:I,onKeydown:ln(S,["enter"])},null,42,Qse),!R.inlinePrompt&&(R.inactiveIcon||R.inactiveText)?(A(),Y("span",{key:0,class:N(c(b))},[R.inactiveIcon?(A(),be(c(at),{key:0},{default:he(()=>[(A(),be(Ft(R.inactiveIcon)))]),_:1})):$e("v-if",!0),!R.inactiveIcon&&R.inactiveText?(A(),Y("span",{key:1,"aria-hidden":c(y)},We(R.inactiveText),9,eie)):$e("v-if",!0)],2)):$e("v-if",!0),Q("span",{ref_key:"core",ref:m,class:N(c(u).e("core")),style:ct(c($))},[R.inlinePrompt?(A(),Y("div",{key:0,class:N(c(u).e("inner"))},[R.activeIcon||R.inactiveIcon?(A(),be(c(at),{key:0,class:N(c(u).is("icon"))},{default:he(()=>[(A(),be(Ft(c(y)?R.activeIcon:R.inactiveIcon)))]),_:1},8,["class"])):R.activeText||R.inactiveText?(A(),Y("span",{key:1,class:N(c(u).is("text")),"aria-hidden":!c(y)},We(c(y)?R.activeText:R.inactiveText),11,tie)):$e("v-if",!0)],2)):$e("v-if",!0),Q("div",{class:N(c(u).e("action"))},[R.loading?(A(),be(c(at),{key:0,class:N(c(u).is("loading"))},{default:he(()=>[ie(c(Nl))]),_:1},8,["class"])):c(y)?Te(R.$slots,"active-action",{key:1},()=>[R.activeActionIcon?(A(),be(c(at),{key:0},{default:he(()=>[(A(),be(Ft(R.activeActionIcon)))]),_:1})):$e("v-if",!0)]):c(y)?$e("v-if",!0):Te(R.$slots,"inactive-action",{key:2},()=>[R.inactiveActionIcon?(A(),be(c(at),{key:0},{default:he(()=>[(A(),be(Ft(R.inactiveActionIcon)))]),_:1})):$e("v-if",!0)])],2)],6),!R.inlinePrompt&&(R.activeIcon||R.activeText)?(A(),Y("span",{key:1,class:N(c(T))},[R.activeIcon?(A(),be(c(at),{key:0},{default:he(()=>[(A(),be(Ft(R.activeIcon)))]),_:1})):$e("v-if",!0),!R.activeIcon&&R.activeText?(A(),Y("span",{key:1,"aria-hidden":!c(y)},We(R.activeText),9,nie)):$e("v-if",!0)],2)):$e("v-if",!0)],10,Zse))}});var iie=Ge(sie,[["__file","switch.vue"]]);const rie=Mt(iie),nT=function(t){var n;return(n=t.target)==null?void 0:n.closest("td")},lie=function(t,n,o,i,l){if(!n&&!i&&(!l||Array.isArray(l)&&!l.length))return t;typeof o=="string"?o=o==="descending"?-1:1:o=o&&o<0?-1:1;const a=i?null:function(h,p){return l?(Array.isArray(l)||(l=[l]),l.map(f=>typeof f=="string"?xn(h,f):f(h,p,t))):(n!=="$key"&&Pt(h)&&"$value"in h&&(h=h.$value),[Pt(h)?xn(h,n):h])},u=function(h,p){if(i)return i(h.value,p.value);for(let f=0,g=h.key.length;f<g;f++){if(h.key[f]<p.key[f])return-1;if(h.key[f]>p.key[f])return 1}return 0};return t.map((h,p)=>({value:h,index:p,key:a?a(h,p):null})).sort((h,p)=>{let f=u(h,p);return f||(f=h.index-p.index),f*+o}).map(h=>h.value)},hP=function(t,n){let o=null;return t.columns.forEach(i=>{i.id===n&&(o=i)}),o},aie=function(t,n){let o=null;for(let i=0;i<t.columns.length;i++){const l=t.columns[i];if(l.columnKey===n){o=l;break}}return o||qn("ElTable",`No column matching with column-key: ${n}`),o},vL=function(t,n,o){const i=(n.className||"").match(new RegExp(`${o}-table_[^\\s]+`,"gm"));return i?hP(t,i[0]):null},Eo=(t,n)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof n=="string"){if(!n.includes("."))return`${t[n]}`;const o=n.split(".");let i=t;for(const l of o)i=i[l];return`${i}`}else if(typeof n=="function")return n.call(null,t)},Ia=function(t,n){const o={};return(t||[]).forEach((i,l)=>{o[Eo(i,n)]={row:i,index:l}}),o};function uie(t,n){const o={};let i;for(i in t)o[i]=t[i];for(i in n)if(Yt(n,i)){const l=n[i];typeof l<"u"&&(o[i]=l)}return o}function y0(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function pP(t){return t===""||t!==void 0&&(t=y0(t),Number.isNaN(t)&&(t=80)),t}function cie(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function die(...t){return t.length===0?n=>n:t.length===1?t[0]:t.reduce((n,o)=>(...i)=>n(o(...i)))}function mh(t,n,o){let i=!1;const l=t.indexOf(n),a=l!==-1,u=h=>{h==="add"?t.push(n):t.splice(l,1),i=!0,tt(n.children)&&n.children.forEach(p=>{mh(t,p,o??!a)})};return Vn(o)?o&&!a?u("add"):!o&&a&&u("remove"):u(a?"remove":"add"),i}function hie(t,n,o="children",i="hasChildren"){const l=u=>!(Array.isArray(u)&&u.length);function a(u,h,p){n(u,h,p),h.forEach(f=>{if(f[i]){n(f,null,p+1);return}const g=f[o];l(g)||a(f,g,p+1)})}t.forEach(u=>{if(u[i]){n(u,null,0);return}const h=u[o];l(h)||a(u,h,0)})}let Ms=null;function pie(t,n,o,i){if((Ms==null?void 0:Ms.trigger)===o)return;Ms==null||Ms();const l=i==null?void 0:i.refs.tableWrapper,a=l==null?void 0:l.dataset.prefix,u={strategy:"fixed",...t.popperOptions},h=ie(Bo,{content:n,virtualTriggering:!0,virtualRef:o,appendTo:l,placement:"top",transition:"none",offset:0,hideAfter:0,...t,popperOptions:u,onHide:()=>{Ms==null||Ms()}});h.appContext={...i.appContext,...i};const p=document.createElement("div");bl(h,p),h.component.exposed.onOpen();const f=l==null?void 0:l.querySelector(`.${a}-scrollbar__wrap`);Ms=()=>{bl(null,p),f==null||f.removeEventListener("scroll",Ms),Ms=null},Ms.trigger=o,f==null||f.addEventListener("scroll",Ms)}function fP(t){return t.children?CW(t.children,fP):[t]}function _L(t,n){return t+n.colSpan}const mP=(t,n,o,i)=>{let l=0,a=t;const u=o.states.columns.value;if(i){const p=fP(i[t]);l=u.slice(0,u.indexOf(p[0])).reduce(_L,0),a=l+p.reduce(_L,0)-1}else l=t;let h;switch(n){case"left":a<o.states.fixedLeafColumnsLength.value&&(h="left");break;case"right":l>=u.length-o.states.rightFixedLeafColumnsLength.value&&(h="right");break;default:a<o.states.fixedLeafColumnsLength.value?h="left":l>=u.length-o.states.rightFixedLeafColumnsLength.value&&(h="right")}return h?{direction:h,start:l,after:a}:{}},E0=(t,n,o,i,l,a=0)=>{const u=[],{direction:h,start:p,after:f}=mP(n,o,i,l);if(h){const g=h==="left";u.push(`${t}-fixed-column--${h}`),g&&f+a===i.states.fixedLeafColumnsLength.value-1?u.push("is-last-column"):!g&&p-a===i.states.columns.value.length-i.states.rightFixedLeafColumnsLength.value&&u.push("is-first-column")}return u};function bL(t,n){return t+(n.realWidth===null||Number.isNaN(n.realWidth)?Number(n.width):n.realWidth)}const S0=(t,n,o,i)=>{const{direction:l,start:a=0,after:u=0}=mP(t,n,o,i);if(!l)return;const h={},p=l==="left",f=o.states.columns.value;return p?h.left=f.slice(0,a).reduce(bL,0):h.right=f.slice(u+1).reverse().reduce(bL,0),h},Lc=(t,n)=>{t&&(Number.isNaN(t[n])||(t[n]=`${t[n]}px`))};function fie(t){const n=Nt(),o=V(!1),i=V([]);return{updateExpandRows:()=>{const p=t.data.value||[],f=t.rowKey.value;if(o.value)i.value=p.slice();else if(f){const g=Ia(i.value,f);i.value=p.reduce((m,_)=>{const b=Eo(_,f);return g[b]&&m.push(_),m},[])}else i.value=[]},toggleRowExpansion:(p,f)=>{mh(i.value,p,f)&&n.emit("expand-change",p,i.value.slice())},setExpandRowKeys:p=>{n.store.assertRowKey();const f=t.data.value||[],g=t.rowKey.value,m=Ia(f,g);i.value=p.reduce((_,b)=>{const T=m[b];return T&&_.push(T.row),_},[])},isRowExpanded:p=>{const f=t.rowKey.value;return f?!!Ia(i.value,f)[Eo(p,f)]:i.value.includes(p)},states:{expandRows:i,defaultExpandAll:o}}}function mie(t){const n=Nt(),o=V(null),i=V(null),l=f=>{n.store.assertRowKey(),o.value=f,u(f)},a=()=>{o.value=null},u=f=>{const{data:g,rowKey:m}=t;let _=null;m.value&&(_=(c(g)||[]).find(b=>Eo(b,m.value)===f)),i.value=_,n.emit("current-change",i.value,null)};return{setCurrentRowKey:l,restoreCurrentRowKey:a,setCurrentRowByKey:u,updateCurrentRow:f=>{const g=i.value;if(f&&f!==g){i.value=f,n.emit("current-change",i.value,g);return}!f&&g&&(i.value=null,n.emit("current-change",null,g))},updateCurrentRowData:()=>{const f=t.rowKey.value,g=t.data.value||[],m=i.value;if(!g.includes(m)&&m){if(f){const _=Eo(m,f);u(_)}else i.value=null;i.value===null&&n.emit("current-change",null,m)}else o.value&&(u(o.value),a())},states:{_currentRowKey:o,currentRow:i}}}function gie(t){const n=V([]),o=V({}),i=V(16),l=V(!1),a=V({}),u=V("hasChildren"),h=V("children"),p=Nt(),f=w(()=>{if(!t.rowKey.value)return{};const y=t.data.value||[];return m(y)}),g=w(()=>{const y=t.rowKey.value,I=Object.keys(a.value),S={};return I.length&&I.forEach(C=>{if(a.value[C].length){const R={children:[]};a.value[C].forEach(O=>{const P=Eo(O,y);R.children.push(P),O[u.value]&&!S[P]&&(S[P]={children:[]})}),S[C]=R}}),S}),m=y=>{const I=t.rowKey.value,S={};return hie(y,(C,R,O)=>{const P=Eo(C,I);Array.isArray(R)?S[P]={children:R.map(M=>Eo(M,I)),level:O}:l.value&&(S[P]={children:[],lazy:!0,level:O})},h.value,u.value),S},_=(y=!1,I=(S=>(S=p.store)==null?void 0:S.states.defaultExpandAll.value)())=>{var S;const C=f.value,R=g.value,O=Object.keys(C),P={};if(O.length){const M=c(o),H=[],F=(K,te)=>{if(y)return n.value?I||n.value.includes(te):!!(I||K!=null&&K.expanded);{const J=I||n.value&&n.value.includes(te);return!!(K!=null&&K.expanded||J)}};O.forEach(K=>{const te=M[K],J={...C[K]};if(J.expanded=F(te,K),J.lazy){const{loaded:j=!1,loading:z=!1}=te||{};J.loaded=!!j,J.loading=!!z,H.push(K)}P[K]=J});const B=Object.keys(R);l.value&&B.length&&H.length&&B.forEach(K=>{const te=M[K],J=R[K].children;if(H.includes(K)){if(P[K].children.length!==0)throw new Error("[ElTable]children must be an empty array.");P[K].children=J}else{const{loaded:j=!1,loading:z=!1}=te||{};P[K]={lazy:!0,loaded:!!j,loading:!!z,expanded:F(te,K),children:J,level:""}}})}o.value=P,(S=p.store)==null||S.updateTableScrollY()};Me(()=>n.value,()=>{_(!0)}),Me(()=>f.value,()=>{_()}),Me(()=>g.value,()=>{_()});const b=y=>{n.value=y,_()},T=(y,I)=>{p.store.assertRowKey();const S=t.rowKey.value,C=Eo(y,S),R=C&&o.value[C];if(C&&R&&"expanded"in R){const O=R.expanded;I=typeof I>"u"?!R.expanded:I,o.value[C].expanded=I,O!==I&&p.emit("expand-change",y,I),p.store.updateTableScrollY()}},$=y=>{p.store.assertRowKey();const I=t.rowKey.value,S=Eo(y,I),C=o.value[S];l.value&&C&&"loaded"in C&&!C.loaded?E(y,S,C):T(y,void 0)},E=(y,I,S)=>{const{load:C}=p.props;C&&!o.value[I].loaded&&(o.value[I].loading=!0,C(y,S,R=>{if(!Array.isArray(R))throw new TypeError("[ElTable] data must be an array");o.value[I].loading=!1,o.value[I].loaded=!0,o.value[I].expanded=!0,R.length&&(a.value[I]=R),p.emit("expand-change",y,!0)}))};return{loadData:E,loadOrToggle:$,toggleTreeExpansion:T,updateTreeExpandKeys:b,updateTreeData:_,normalize:m,states:{expandRowKeys:n,treeData:o,indent:i,lazy:l,lazyTreeNodeMap:a,lazyColumnIdentifier:u,childrenColumnName:h}}}const $ie=(t,n)=>{const o=n.sortingColumn;return!o||typeof o.sortable=="string"?t:lie(t,n.sortProp,n.sortOrder,o.sortMethod,o.sortBy)},wm=t=>{const n=[];return t.forEach(o=>{o.children&&o.children.length>0?n.push.apply(n,wm(o.children)):n.push(o)}),n};function vie(){var t;const n=Nt(),{size:o}=mo((t=n.proxy)==null?void 0:t.$props),i=V(null),l=V([]),a=V([]),u=V(!1),h=V([]),p=V([]),f=V([]),g=V([]),m=V([]),_=V([]),b=V([]),T=V([]),$=[],E=V(0),y=V(0),I=V(0),S=V(!1),C=V([]),R=V(!1),O=V(!1),P=V(null),M=V({}),H=V(null),F=V(null),B=V(null),K=V(null),te=V(null);Me(l,()=>n.state&&G(!1),{deep:!0});const J=()=>{if(!i.value)throw new Error("[ElTable] prop row-key is required")},j=st=>{var Le;(Le=st.children)==null||Le.forEach(Ye=>{Ye.fixed=st.fixed,j(Ye)})},z=()=>{h.value.forEach(x=>{j(x)}),g.value=h.value.filter(x=>x.fixed===!0||x.fixed==="left"),m.value=h.value.filter(x=>x.fixed==="right"),g.value.length>0&&h.value[0]&&h.value[0].type==="selection"&&!h.value[0].fixed&&(h.value[0].fixed=!0,g.value.unshift(h.value[0]));const st=h.value.filter(x=>!x.fixed);p.value=[].concat(g.value).concat(st).concat(m.value);const Le=wm(st),Ye=wm(g.value),L=wm(m.value);E.value=Le.length,y.value=Ye.length,I.value=L.length,f.value=[].concat(Ye).concat(Le).concat(L),u.value=g.value.length>0||m.value.length>0},G=(st,Le=!1)=>{st&&z(),Le?n.state.doLayout():n.state.debouncedUpdateLayout()},W=st=>C.value.includes(st),D=()=>{S.value=!1;const st=C.value;C.value=[],st.length&&n.emit("selection-change",[])},X=()=>{let st;if(i.value){st=[];const Le=Ia(C.value,i.value),Ye=Ia(l.value,i.value);for(const L in Le)Yt(Le,L)&&!Ye[L]&&st.push(Le[L].row)}else st=C.value.filter(Le=>!l.value.includes(Le));if(st.length){const Le=C.value.filter(Ye=>!st.includes(Ye));C.value=Le,n.emit("selection-change",Le.slice())}},oe=()=>(C.value||[]).slice(),le=(st,Le=void 0,Ye=!0)=>{if(mh(C.value,st,Le)){const x=(C.value||[]).slice();Ye&&n.emit("select",x,st),n.emit("selection-change",x)}},me=()=>{var st,Le;const Ye=O.value?!S.value:!(S.value||C.value.length);S.value=Ye;let L=!1,x=0;const ee=(Le=(st=n==null?void 0:n.store)==null?void 0:st.states)==null?void 0:Le.rowKey.value;l.value.forEach((pe,re)=>{const je=re+x;P.value?P.value.call(null,pe,je)&&mh(C.value,pe,Ye)&&(L=!0):mh(C.value,pe,Ye)&&(L=!0),x+=ce(Eo(pe,ee))}),L&&n.emit("selection-change",C.value?C.value.slice():[]),n.emit("select-all",(C.value||[]).slice())},Se=()=>{const st=Ia(C.value,i.value);l.value.forEach(Le=>{const Ye=Eo(Le,i.value),L=st[Ye];L&&(C.value[L.index]=Le)})},De=()=>{var st,Le,Ye;if(((st=l.value)==null?void 0:st.length)===0){S.value=!1;return}let L;i.value&&(L=Ia(C.value,i.value));const x=function(je){return L?!!L[Eo(je,i.value)]:C.value.includes(je)};let ee=!0,pe=0,re=0;for(let je=0,Et=(l.value||[]).length;je<Et;je++){const U=(Ye=(Le=n==null?void 0:n.store)==null?void 0:Le.states)==null?void 0:Ye.rowKey.value,se=je+re,Ce=l.value[je],we=P.value&&P.value.call(null,Ce,se);if(x(Ce))pe++;else if(!P.value||we){ee=!1;break}re+=ce(Eo(Ce,U))}pe===0&&(ee=!1),S.value=ee},ce=st=>{var Le;if(!n||!n.store)return 0;const{treeData:Ye}=n.store.states;let L=0;const x=(Le=Ye.value[st])==null?void 0:Le.children;return x&&(L+=x.length,x.forEach(ee=>{L+=ce(ee)})),L},ye=(st,Le)=>{Array.isArray(st)||(st=[st]);const Ye={};return st.forEach(L=>{M.value[L.id]=Le,Ye[L.columnKey||L.id]=Le}),Ye},_e=(st,Le,Ye)=>{F.value&&F.value!==st&&(F.value.order=null),F.value=st,B.value=Le,K.value=Ye},Ke=()=>{let st=c(a);Object.keys(M.value).forEach(Le=>{const Ye=M.value[Le];if(!Ye||Ye.length===0)return;const L=hP({columns:f.value},Le);L&&L.filterMethod&&(st=st.filter(x=>Ye.some(ee=>L.filterMethod.call(null,ee,x,L))))}),H.value=st},ve=()=>{l.value=$ie(H.value,{sortingColumn:F.value,sortProp:B.value,sortOrder:K.value})},Ae=(st=void 0)=>{st&&st.filter||Ke(),ve()},Fe=st=>{const{tableHeaderRef:Le}=n.refs;if(!Le)return;const Ye=Object.assign({},Le.filterPanels),L=Object.keys(Ye);if(L.length)if(typeof st=="string"&&(st=[st]),Array.isArray(st)){const x=st.map(ee=>aie({columns:f.value},ee));L.forEach(ee=>{const pe=x.find(re=>re.id===ee);pe&&(pe.filteredValue=[])}),n.store.commit("filterChange",{column:x,values:[],silent:!0,multi:!0})}else L.forEach(x=>{const ee=f.value.find(pe=>pe.id===x);ee&&(ee.filteredValue=[])}),M.value={},n.store.commit("filterChange",{column:{},values:[],silent:!0})},ae=()=>{F.value&&(_e(null,null,null),n.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:de,toggleRowExpansion:Re,updateExpandRows:Be,states:Ee,isRowExpanded:Ne}=fie({data:l,rowKey:i}),{updateTreeExpandKeys:He,toggleTreeExpansion:ue,updateTreeData:Ie,loadOrToggle:ke,states:Ue}=gie({data:l,rowKey:i}),{updateCurrentRowData:ot,updateCurrentRow:q,setCurrentRowKey:Qe,states:lt}=mie({data:l,rowKey:i});return{assertRowKey:J,updateColumns:z,scheduleLayout:G,isSelected:W,clearSelection:D,cleanSelection:X,getSelectionRows:oe,toggleRowSelection:le,_toggleAllSelection:me,toggleAllSelection:null,updateSelectionByRowKey:Se,updateAllSelected:De,updateFilters:ye,updateCurrentRow:q,updateSort:_e,execFilter:Ke,execSort:ve,execQuery:Ae,clearFilter:Fe,clearSort:ae,toggleRowExpansion:Re,setExpandRowKeysAdapter:st=>{de(st),He(st)},setCurrentRowKey:Qe,toggleRowExpansionAdapter:(st,Le)=>{f.value.some(({type:L})=>L==="expand")?Re(st,Le):ue(st,Le)},isRowExpanded:Ne,updateExpandRows:Be,updateCurrentRowData:ot,loadOrToggle:ke,updateTreeData:Ie,states:{tableSize:o,rowKey:i,data:l,_data:a,isComplex:u,_columns:h,originColumns:p,columns:f,fixedColumns:g,rightFixedColumns:m,leafColumns:_,fixedLeafColumns:b,rightFixedLeafColumns:T,updateOrderFns:$,leafColumnsLength:E,fixedLeafColumnsLength:y,rightFixedLeafColumnsLength:I,isAllSelected:S,selection:C,reserveSelection:R,selectOnIndeterminate:O,selectable:P,filters:M,filteredData:H,sortingColumn:F,sortProp:B,sortOrder:K,hoverRow:te,...Ee,...Ue,...lt}}}function $y(t,n){return t.map(o=>{var i;return o.id===n.id?n:((i=o.children)!=null&&i.length&&(o.children=$y(o.children,n)),o)})}function vy(t){t.forEach(n=>{var o,i;n.no=(o=n.getColumnIndex)==null?void 0:o.call(n),(i=n.children)!=null&&i.length&&vy(n.children)}),t.sort((n,o)=>n.no-o.no)}function _ie(){const t=Nt(),n=vie();return{ns:Pe("table"),...n,mutations:{setData(u,h){const p=c(u._data)!==h;u.data.value=h,u._data.value=h,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),c(u.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):p?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(u,h,p,f){const g=c(u._columns);let m=[];p?(p&&!p.children&&(p.children=[]),p.children.push(h),m=$y(g,p)):(g.push(h),m=g),vy(m),u._columns.value=m,u.updateOrderFns.push(f),h.type==="selection"&&(u.selectable.value=h.selectable,u.reserveSelection.value=h.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(u,h){var p;((p=h.getColumnIndex)==null?void 0:p.call(h))!==h.no&&(vy(u._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(u,h,p,f){const g=c(u._columns)||[];if(p)p.children.splice(p.children.findIndex(_=>_.id===h.id),1),pt(()=>{var _;((_=p.children)==null?void 0:_.length)===0&&delete p.children}),u._columns.value=$y(g,p);else{const _=g.indexOf(h);_>-1&&(g.splice(_,1),u._columns.value=g)}const m=u.updateOrderFns.indexOf(f);m>-1&&u.updateOrderFns.splice(m,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(u,h){const{prop:p,order:f,init:g}=h;if(p){const m=c(u.columns).find(_=>_.property===p);m&&(m.order=f,t.store.updateSort(m,p,f),t.store.commit("changeSortCondition",{init:g}))}},changeSortCondition(u,h){const{sortingColumn:p,sortProp:f,sortOrder:g}=u,m=c(p),_=c(f),b=c(g);b===null&&(u.sortingColumn.value=null,u.sortProp.value=null);const T={filter:!0};t.store.execQuery(T),(!h||!(h.silent||h.init))&&t.emit("sort-change",{column:m,prop:_,order:b}),t.store.updateTableScrollY()},filterChange(u,h){const{column:p,values:f,silent:g}=h,m=t.store.updateFilters(p,f);t.store.execQuery(),g||t.emit("filter-change",m),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(u,h){t.store.toggleRowSelection(h),t.store.updateAllSelected()},setHoverRow(u,h){u.hoverRow.value=h},setCurrentRow(u,h){t.store.updateCurrentRow(h)}},commit:function(u,...h){const p=t.store.mutations;if(p[u])p[u].apply(t,[t.store.states].concat(h));else throw new Error(`Action not found: ${u}`)},updateTableScrollY:function(){pt(()=>t.layout.updateScrollY.apply(t.layout))}}}const gh={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function bie(t,n){if(!t)throw new Error("Table is required.");const o=_ie();return o.toggleAllSelection=us(o._toggleAllSelection,10),Object.keys(gh).forEach(i=>{gP($P(n,i),i,o)}),Tie(o,n),o}function Tie(t,n){Object.keys(gh).forEach(o=>{Me(()=>$P(n,o),i=>{gP(i,o,t)})})}function gP(t,n,o){let i=t,l=gh[n];typeof gh[n]=="object"&&(l=l.key,i=i||gh[n].default),o.states[l].value=i}function $P(t,n){if(n.includes(".")){const o=n.split(".");let i=t;return o.forEach(l=>{i=i[l]}),i}else return t[n]}class yie{constructor(n){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=V(null),this.scrollX=V(!1),this.scrollY=V(!1),this.bodyWidth=V(null),this.fixedWidth=V(null),this.rightFixedWidth=V(null),this.gutterWidth=0;for(const o in n)Yt(n,o)&&(Tn(this[o])?this[o].value=n[o]:this[o]=n[o]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const o=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(o!=null&&o.wrapRef)){let i=!0;const l=this.scrollY.value;return i=o.wrapRef.scrollHeight>o.wrapRef.clientHeight,this.scrollY.value=i,l!==i}return!1}setHeight(n,o="height"){if(!Xt)return;const i=this.table.vnode.el;if(n=cie(n),this.height.value=Number(n),!i&&(n||n===0))return pt(()=>this.setHeight(n,o));typeof n=="number"?(i.style[o]=`${n}px`,this.updateElsHeight()):typeof n=="string"&&(i.style[o]=n,this.updateElsHeight())}setMaxHeight(n){this.setHeight(n,"max-height")}getFlattenColumns(){const n=[];return this.table.store.states.columns.value.forEach(i=>{i.isColumnGroup?n.push.apply(n,i.columns):n.push(i)}),n}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(n){if(!n)return!0;let o=n;for(;o.tagName!=="DIV";){if(getComputedStyle(o).display==="none")return!0;o=o.parentElement}return!1}updateColumnsWidth(){if(!Xt)return;const n=this.fit,o=this.table.vnode.el.clientWidth;let i=0;const l=this.getFlattenColumns(),a=l.filter(p=>typeof p.width!="number");if(l.forEach(p=>{typeof p.width=="number"&&p.realWidth&&(p.realWidth=null)}),a.length>0&&n){if(l.forEach(p=>{i+=Number(p.width||p.minWidth||80)}),i<=o){this.scrollX.value=!1;const p=o-i;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+p;else{const f=a.reduce((_,b)=>_+Number(b.minWidth||80),0),g=p/f;let m=0;a.forEach((_,b)=>{if(b===0)return;const T=Math.floor(Number(_.minWidth||80)*g);m+=T,_.realWidth=Number(_.minWidth||80)+T}),a[0].realWidth=Number(a[0].minWidth||80)+p-m}}else this.scrollX.value=!0,a.forEach(p=>{p.realWidth=Number(p.minWidth)});this.bodyWidth.value=Math.max(i,o),this.table.state.resizeState.value.width=this.bodyWidth.value}else l.forEach(p=>{!p.width&&!p.minWidth?p.realWidth=80:p.realWidth=Number(p.width||p.minWidth),i+=p.realWidth}),this.scrollX.value=i>o,this.bodyWidth.value=i;const u=this.store.states.fixedColumns.value;if(u.length>0){let p=0;u.forEach(f=>{p+=Number(f.realWidth||f.width)}),this.fixedWidth.value=p}const h=this.store.states.rightFixedColumns.value;if(h.length>0){let p=0;h.forEach(f=>{p+=Number(f.realWidth||f.width)}),this.rightFixedWidth.value=p}this.notifyObservers("columns")}addObserver(n){this.observers.push(n)}removeObserver(n){const o=this.observers.indexOf(n);o!==-1&&this.observers.splice(o,1)}notifyObservers(n){this.observers.forEach(i=>{var l,a;switch(n){case"columns":(l=i.state)==null||l.onColumnsChange(this);break;case"scrollable":(a=i.state)==null||a.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${n}.`)}})}}const{CheckboxGroup:Eie}=Ys,Sie=ne({name:"ElTableFilterPanel",components:{ElCheckbox:Ys,ElCheckboxGroup:Eie,ElScrollbar:Dr,ElTooltip:Bo,ElIcon:at,ArrowDown:Nr,ArrowUp:EE},directives:{ClickOutside:kr},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const n=Nt(),{t:o}=jt(),i=Pe("table-filter"),l=n==null?void 0:n.parent;l.filterPanels.value[t.column.id]||(l.filterPanels.value[t.column.id]=n);const a=V(!1),u=V(null),h=w(()=>t.column&&t.column.filters),p=w(()=>t.column.filterClassName?`${i.b()} ${t.column.filterClassName}`:i.b()),f=w({get:()=>{var R;return(((R=t.column)==null?void 0:R.filteredValue)||[])[0]},set:R=>{g.value&&(typeof R<"u"&&R!==null?g.value.splice(0,1,R):g.value.splice(0,1))}}),g=w({get(){return t.column?t.column.filteredValue||[]:[]},set(R){t.column&&t.upDataColumn("filteredValue",R)}}),m=w(()=>t.column?t.column.filterMultiple:!0),_=R=>R.value===f.value,b=()=>{a.value=!1},T=R=>{R.stopPropagation(),a.value=!a.value},$=()=>{a.value=!1},E=()=>{S(g.value),b()},y=()=>{g.value=[],S(g.value),b()},I=R=>{f.value=R,S(typeof R<"u"&&R!==null?g.value:[]),b()},S=R=>{t.store.commit("filterChange",{column:t.column,values:R}),t.store.updateAllSelected()};Me(a,R=>{t.column&&t.upDataColumn("filterOpened",R)},{immediate:!0});const C=w(()=>{var R,O;return(O=(R=u.value)==null?void 0:R.popperRef)==null?void 0:O.contentRef});return{tooltipVisible:a,multiple:m,filterClassName:p,filteredValue:g,filterValue:f,filters:h,handleConfirm:E,handleReset:y,handleSelect:I,isActive:_,t:o,ns:i,showFilterPanel:T,hideFilterPanel:$,popperPaneRef:C,tooltip:u}}}),Cie={key:0},Iie=["disabled"],wie=["label","onClick"];function kie(t,n,o,i,l,a){const u=Lt("el-checkbox"),h=Lt("el-checkbox-group"),p=Lt("el-scrollbar"),f=Lt("arrow-up"),g=Lt("arrow-down"),m=Lt("el-icon"),_=Lt("el-tooltip"),b=vg("click-outside");return A(),be(_,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:""},{content:he(()=>[t.multiple?(A(),Y("div",Cie,[Q("div",{class:N(t.ns.e("content"))},[ie(p,{"wrap-class":t.ns.e("wrap")},{default:he(()=>[ie(h,{modelValue:t.filteredValue,"onUpdate:modelValue":n[0]||(n[0]=T=>t.filteredValue=T),class:N(t.ns.e("checkbox-group"))},{default:he(()=>[(A(!0),Y(dt,null,Kt(t.filters,T=>(A(),be(u,{key:T.value,value:T.value},{default:he(()=>[zt(We(T.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),Q("div",{class:N(t.ns.e("bottom"))},[Q("button",{class:N({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:n[1]||(n[1]=(...T)=>t.handleConfirm&&t.handleConfirm(...T))},We(t.t("el.table.confirmFilter")),11,Iie),Q("button",{type:"button",onClick:n[2]||(n[2]=(...T)=>t.handleReset&&t.handleReset(...T))},We(t.t("el.table.resetFilter")),1)],2)])):(A(),Y("ul",{key:1,class:N(t.ns.e("list"))},[Q("li",{class:N([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:n[3]||(n[3]=T=>t.handleSelect(null))},We(t.t("el.table.clearFilter")),3),(A(!0),Y(dt,null,Kt(t.filters,T=>(A(),Y("li",{key:T.value,class:N([t.ns.e("list-item"),t.ns.is("active",t.isActive(T))]),label:T.value,onClick:$=>t.handleSelect(T.value)},We(T.text),11,wie))),128))],2))]),default:he(()=>[Ot((A(),Y("span",{class:N([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:n[4]||(n[4]=(...T)=>t.showFilterPanel&&t.showFilterPanel(...T))},[ie(m,null,{default:he(()=>[t.column.filterOpened?(A(),be(f,{key:0})):(A(),be(g,{key:1}))]),_:1})],2)),[[b,t.hideFilterPanel,t.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var Oie=Ge(Sie,[["render",kie],["__file","filter-panel.vue"]]);function vP(t){const n=Nt();bg(()=>{o.value.addObserver(n)}),Rt(()=>{i(o.value),l(o.value)}),Rr(()=>{i(o.value),l(o.value)}),Rl(()=>{o.value.removeObserver(n)});const o=w(()=>{const a=t.layout;if(!a)throw new Error("Can not find table layout.");return a}),i=a=>{var u;const h=((u=t.vnode.el)==null?void 0:u.querySelectorAll("colgroup > col"))||[];if(!h.length)return;const p=a.getFlattenColumns(),f={};p.forEach(g=>{f[g.id]=g});for(let g=0,m=h.length;g<m;g++){const _=h[g],b=_.getAttribute("name"),T=f[b];T&&_.setAttribute("width",T.realWidth||T.width)}},l=a=>{var u,h;const p=((u=t.vnode.el)==null?void 0:u.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let g=0,m=p.length;g<m;g++)p[g].setAttribute("width",a.scrollY.value?a.gutterWidth:"0");const f=((h=t.vnode.el)==null?void 0:h.querySelectorAll("th.gutter"))||[];for(let g=0,m=f.length;g<m;g++){const _=f[g];_.style.width=a.scrollY.value?`${a.gutterWidth}px`:"0",_.style.display=a.scrollY.value?"":"none"}};return{tableLayout:o.value,onColumnsChange:i,onScrollableChange:l}}const Xi=Symbol("ElTable");function Rie(t,n){const o=Nt(),i=it(Xi),l=$=>{$.stopPropagation()},a=($,E)=>{!E.filters&&E.sortable?T($,E,!1):E.filterable&&!E.sortable&&l($),i==null||i.emit("header-click",E,$)},u=($,E)=>{i==null||i.emit("header-contextmenu",E,$)},h=V(null),p=V(!1),f=V({}),g=($,E)=>{if(Xt&&!(E.children&&E.children.length>0)&&h.value&&t.border){p.value=!0;const y=i;n("set-drag-visible",!0);const S=(y==null?void 0:y.vnode.el).getBoundingClientRect().left,C=o.vnode.el.querySelector(`th.${E.id}`),R=C.getBoundingClientRect(),O=R.left-S+30;Bs(C,"noclick"),f.value={startMouseLeft:$.clientX,startLeft:R.right-S,startColumnLeft:R.left-S,tableLeft:S};const P=y==null?void 0:y.refs.resizeProxy;P.style.left=`${f.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const M=F=>{const B=F.clientX-f.value.startMouseLeft,K=f.value.startLeft+B;P.style.left=`${Math.max(O,K)}px`},H=()=>{if(p.value){const{startColumnLeft:F,startLeft:B}=f.value,te=Number.parseInt(P.style.left,10)-F;E.width=E.realWidth=te,y==null||y.emit("header-dragend",E.width,B-F,E,$),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",p.value=!1,h.value=null,f.value={},n("set-drag-visible",!1)}document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",H),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{xo(C,"noclick")},0)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",H)}},m=($,E)=>{if(E.children&&E.children.length>0)return;const y=$.target;if(!zs(y))return;const I=y==null?void 0:y.closest("th");if(!(!E||!E.resizable)&&!p.value&&t.border){const S=I.getBoundingClientRect(),C=document.body.style;S.width>12&&S.right-$.pageX<8?(C.cursor="col-resize",Vs(I,"is-sortable")&&(I.style.cursor="col-resize"),h.value=E):p.value||(C.cursor="",Vs(I,"is-sortable")&&(I.style.cursor="pointer"),h.value=null)}},_=()=>{Xt&&(document.body.style.cursor="")},b=({order:$,sortOrders:E})=>{if($==="")return E[0];const y=E.indexOf($||null);return E[y>E.length-2?0:y+1]},T=($,E,y)=>{var I;$.stopPropagation();const S=E.order===y?null:y||b(E),C=(I=$.target)==null?void 0:I.closest("th");if(C&&Vs(C,"noclick")){xo(C,"noclick");return}if(!E.sortable)return;const R=t.store.states;let O=R.sortProp.value,P;const M=R.sortingColumn.value;(M!==E||M===E&&M.order===null)&&(M&&(M.order=null),R.sortingColumn.value=E,O=E.property),S?P=E.order=S:P=E.order=null,R.sortProp.value=O,R.sortOrder.value=P,i==null||i.store.commit("changeSortCondition")};return{handleHeaderClick:a,handleHeaderContextMenu:u,handleMouseDown:g,handleMouseMove:m,handleMouseOut:_,handleSortClick:T,handleFilterClick:l}}function Lie(t){const n=it(Xi),o=Pe("table");return{getHeaderRowStyle:h=>{const p=n==null?void 0:n.props.headerRowStyle;return typeof p=="function"?p.call(null,{rowIndex:h}):p},getHeaderRowClass:h=>{const p=[],f=n==null?void 0:n.props.headerRowClassName;return typeof f=="string"?p.push(f):typeof f=="function"&&p.push(f.call(null,{rowIndex:h})),p.join(" ")},getHeaderCellStyle:(h,p,f,g)=>{var m;let _=(m=n==null?void 0:n.props.headerCellStyle)!=null?m:{};typeof _=="function"&&(_=_.call(null,{rowIndex:h,columnIndex:p,row:f,column:g}));const b=S0(p,g.fixed,t.store,f);return Lc(b,"left"),Lc(b,"right"),Object.assign({},_,b)},getHeaderCellClass:(h,p,f,g)=>{const m=E0(o.b(),p,g.fixed,t.store,f),_=[g.id,g.order,g.headerAlign,g.className,g.labelClassName,...m];g.children||_.push("is-leaf"),g.sortable&&_.push("is-sortable");const b=n==null?void 0:n.props.headerCellClassName;return typeof b=="string"?_.push(b):typeof b=="function"&&_.push(b.call(null,{rowIndex:h,columnIndex:p,row:f,column:g})),_.push(o.e("cell")),_.filter(T=>!!T).join(" ")}}}const _P=t=>{const n=[];return t.forEach(o=>{o.children?(n.push(o),n.push.apply(n,_P(o.children))):n.push(o)}),n},bP=t=>{let n=1;const o=(a,u)=>{if(u&&(a.level=u.level+1,n<a.level&&(n=a.level)),a.children){let h=0;a.children.forEach(p=>{o(p,a),h+=p.colSpan}),a.colSpan=h}else a.colSpan=1};t.forEach(a=>{a.level=1,o(a,void 0)});const i=[];for(let a=0;a<n;a++)i.push([]);return _P(t).forEach(a=>{a.children?(a.rowSpan=1,a.children.forEach(u=>u.isSubColumn=!0)):a.rowSpan=n-a.level+1,i[a.level-1].push(a)}),i};function Aie(t){const n=it(Xi),o=w(()=>bP(t.store.states.originColumns.value));return{isGroup:w(()=>{const a=o.value.length>1;return a&&n&&(n.state.isGroup.value=!0),a}),toggleAllSelection:a=>{a.stopPropagation(),n==null||n.store.commit("toggleAllSelection")},columnRows:o}}var Nie=ne({name:"ElTableHeader",components:{ElCheckbox:Ys},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:n}){const o=Nt(),i=it(Xi),l=Pe("table"),a=V({}),{onColumnsChange:u,onScrollableChange:h}=vP(i);Rt(async()=>{await pt(),await pt();const{prop:O,order:P}=t.defaultSort;i==null||i.store.commit("sort",{prop:O,order:P,init:!0})});const{handleHeaderClick:p,handleHeaderContextMenu:f,handleMouseDown:g,handleMouseMove:m,handleMouseOut:_,handleSortClick:b,handleFilterClick:T}=Rie(t,n),{getHeaderRowStyle:$,getHeaderRowClass:E,getHeaderCellStyle:y,getHeaderCellClass:I}=Lie(t),{isGroup:S,toggleAllSelection:C,columnRows:R}=Aie(t);return o.state={onColumnsChange:u,onScrollableChange:h},o.filterPanels=a,{ns:l,filterPanels:a,onColumnsChange:u,onScrollableChange:h,columnRows:R,getHeaderRowClass:E,getHeaderRowStyle:$,getHeaderCellClass:I,getHeaderCellStyle:y,handleHeaderClick:p,handleHeaderContextMenu:f,handleMouseDown:g,handleMouseMove:m,handleMouseOut:_,handleSortClick:b,handleFilterClick:T,isGroup:S,toggleAllSelection:C}},render(){const{ns:t,isGroup:n,columnRows:o,getHeaderCellStyle:i,getHeaderCellClass:l,getHeaderRowClass:a,getHeaderRowStyle:u,handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:f,handleMouseMove:g,handleSortClick:m,handleMouseOut:_,store:b,$parent:T}=this;let $=1;return ft("thead",{class:{[t.is("group")]:n}},o.map((E,y)=>ft("tr",{class:a(y),key:y,style:u(y)},E.map((I,S)=>(I.rowSpan>$&&($=I.rowSpan),ft("th",{class:l(y,S,E,I),colspan:I.colSpan,key:`${I.id}-thead`,rowspan:I.rowSpan,style:i(y,S,E,I),onClick:C=>{C.currentTarget.classList.contains("noclick")||h(C,I)},onContextmenu:C=>p(C,I),onMousedown:C=>f(C,I),onMousemove:C=>g(C,I),onMouseout:_},[ft("div",{class:["cell",I.filteredValue&&I.filteredValue.length>0?"highlight":""]},[I.renderHeader?I.renderHeader({column:I,$index:S,store:b,_self:T}):I.label,I.sortable&&ft("span",{onClick:C=>m(C,I),class:"caret-wrapper"},[ft("i",{onClick:C=>m(C,I,"ascending"),class:"sort-caret ascending"}),ft("i",{onClick:C=>m(C,I,"descending"),class:"sort-caret descending"})]),I.filterable&&ft(Oie,{store:b,placement:I.filterPlacement||"bottom-start",column:I,upDataColumn:(C,R)=>{I[C]=R}})])]))))))}});function oT(t,n,o=.01){return t-n>o}function Mie(t){const n=it(Xi),o=V(""),i=V(ft("div")),l=(T,$,E)=>{var y;const I=n,S=nT(T);let C;const R=(y=I==null?void 0:I.vnode.el)==null?void 0:y.dataset.prefix;S&&(C=vL({columns:t.store.states.columns.value},S,R),C&&(I==null||I.emit(`cell-${E}`,$,C,S,T))),I==null||I.emit(`row-${E}`,$,C,T)},a=(T,$)=>{l(T,$,"dblclick")},u=(T,$)=>{t.store.commit("setCurrentRow",$),l(T,$,"click")},h=(T,$)=>{l(T,$,"contextmenu")},p=us(T=>{t.store.commit("setHoverRow",T)},30),f=us(()=>{t.store.commit("setHoverRow",null)},30),g=T=>{const $=window.getComputedStyle(T,null),E=Number.parseInt($.paddingLeft,10)||0,y=Number.parseInt($.paddingRight,10)||0,I=Number.parseInt($.paddingTop,10)||0,S=Number.parseInt($.paddingBottom,10)||0;return{left:E,right:y,top:I,bottom:S}},m=(T,$,E)=>{let y=$.target.parentNode;for(;T>1&&(y=y==null?void 0:y.nextSibling,!(!y||y.nodeName!=="TR"));)E(y,"hover-row hover-fixed-row"),T--};return{handleDoubleClick:a,handleClick:u,handleContextMenu:h,handleMouseEnter:p,handleMouseLeave:f,handleCellMouseEnter:(T,$,E)=>{var y;const I=n,S=nT(T),C=(y=I==null?void 0:I.vnode.el)==null?void 0:y.dataset.prefix;if(S){const D=vL({columns:t.store.states.columns.value},S,C);S.rowSpan>1&&m(S.rowSpan,T,Bs);const X=I.hoverState={cell:S,column:D,row:$};I==null||I.emit("cell-mouse-enter",X.row,X.column,X.cell,T)}if(!E)return;const R=T.target.querySelector(".cell");if(!(Vs(R,`${C}-tooltip`)&&R.childNodes.length))return;const O=document.createRange();O.setStart(R,0),O.setEnd(R,R.childNodes.length);let{width:P,height:M}=O.getBoundingClientRect();const H=P-Math.floor(P),{width:F,height:B}=R.getBoundingClientRect();H<.001&&(P=Math.floor(P)),M-Math.floor(M)<.001&&(M=Math.floor(M));const{top:te,left:J,right:j,bottom:z}=g(R),G=J+j,W=te+z;(oT(P+G,F)||oT(M+W,B)||oT(R.scrollWidth,F))&&pie(E,S.innerText||S.textContent,S,I)},handleCellMouseLeave:T=>{const $=nT(T);if(!$)return;$.rowSpan>1&&m($.rowSpan,T,xo);const E=n==null?void 0:n.hoverState;n==null||n.emit("cell-mouse-leave",E==null?void 0:E.row,E==null?void 0:E.column,E==null?void 0:E.cell,T)},tooltipContent:o,tooltipTrigger:i}}function Die(t){const n=it(Xi),o=Pe("table");return{getRowStyle:(f,g)=>{const m=n==null?void 0:n.props.rowStyle;return typeof m=="function"?m.call(null,{row:f,rowIndex:g}):m||null},getRowClass:(f,g)=>{const m=[o.e("row")];n!=null&&n.props.highlightCurrentRow&&f===t.store.states.currentRow.value&&m.push("current-row"),t.stripe&&g%2===1&&m.push(o.em("row","striped"));const _=n==null?void 0:n.props.rowClassName;return typeof _=="string"?m.push(_):typeof _=="function"&&m.push(_.call(null,{row:f,rowIndex:g})),m},getCellStyle:(f,g,m,_)=>{const b=n==null?void 0:n.props.cellStyle;let T=b??{};typeof b=="function"&&(T=b.call(null,{rowIndex:f,columnIndex:g,row:m,column:_}));const $=S0(g,t==null?void 0:t.fixed,t.store);return Lc($,"left"),Lc($,"right"),Object.assign({},T,$)},getCellClass:(f,g,m,_,b)=>{const T=E0(o.b(),g,t==null?void 0:t.fixed,t.store,void 0,b),$=[_.id,_.align,_.className,...T],E=n==null?void 0:n.props.cellClassName;return typeof E=="string"?$.push(E):typeof E=="function"&&$.push(E.call(null,{rowIndex:f,columnIndex:g,row:m,column:_})),$.push(o.e("cell")),$.filter(y=>!!y).join(" ")},getSpan:(f,g,m,_)=>{let b=1,T=1;const $=n==null?void 0:n.props.spanMethod;if(typeof $=="function"){const E=$({row:f,column:g,rowIndex:m,columnIndex:_});Array.isArray(E)?(b=E[0],T=E[1]):typeof E=="object"&&(b=E.rowspan,T=E.colspan)}return{rowspan:b,colspan:T}},getColspanRealWidth:(f,g,m)=>{if(g<1)return f[m].realWidth;const _=f.map(({realWidth:b,width:T})=>b||T).slice(m,m+g);return Number(_.reduce((b,T)=>Number(b)+Number(T),-1))}}}function Pie(t){const n=it(Xi),o=Pe("table"),{handleDoubleClick:i,handleClick:l,handleContextMenu:a,handleMouseEnter:u,handleMouseLeave:h,handleCellMouseEnter:p,handleCellMouseLeave:f,tooltipContent:g,tooltipTrigger:m}=Mie(t),{getRowStyle:_,getRowClass:b,getCellStyle:T,getCellClass:$,getSpan:E,getColspanRealWidth:y}=Die(t),I=w(()=>t.store.states.columns.value.findIndex(({type:P})=>P==="default")),S=(P,M)=>{const H=n.props.rowKey;return H?Eo(P,H):M},C=(P,M,H,F=!1)=>{const{tooltipEffect:B,tooltipOptions:K,store:te}=t,{indent:J,columns:j}=te.states,z=b(P,M);let G=!0;return H&&(z.push(o.em("row",`level-${H.level}`)),G=H.display),ft("tr",{style:[G?null:{display:"none"},_(P,M)],class:z,key:S(P,M),onDblclick:D=>i(D,P),onClick:D=>l(D,P),onContextmenu:D=>a(D,P),onMouseenter:()=>u(M),onMouseleave:h},j.value.map((D,X)=>{const{rowspan:oe,colspan:le}=E(P,D,M,X);if(!oe||!le)return null;const me=Object.assign({},D);me.realWidth=y(j.value,le,X);const Se={store:t.store,_self:t.context||n,column:me,row:P,$index:M,cellIndex:X,expanded:F};X===I.value&&H&&(Se.treeNode={indent:H.level*J.value,level:H.level},typeof H.expanded=="boolean"&&(Se.treeNode.expanded=H.expanded,"loading"in H&&(Se.treeNode.loading=H.loading),"noLazyChildren"in H&&(Se.treeNode.noLazyChildren=H.noLazyChildren)));const De=`${S(P,M)},${X}`,ce=me.columnKey||me.rawColumnKey||"",ye=R(X,D,Se),_e=D.showOverflowTooltip&&OW({effect:B},K,D.showOverflowTooltip);return ft("td",{style:T(M,X,P,D),class:$(M,X,P,D,le-1),key:`${ce}${De}`,rowspan:oe,colspan:le,onMouseenter:Ke=>p(Ke,P,_e),onMouseleave:f},[ye])}))},R=(P,M,H)=>M.renderCell(H);return{wrappedRowRender:(P,M)=>{const H=t.store,{isRowExpanded:F,assertRowKey:B}=H,{treeData:K,lazyTreeNodeMap:te,childrenColumnName:J,rowKey:j}=H.states,z=H.states.columns.value;if(z.some(({type:W})=>W==="expand")){const W=F(P),D=C(P,M,void 0,W),X=n.renderExpanded;return W?X?[[D,ft("tr",{key:`expanded-row__${D.key}`},[ft("td",{colspan:z.length,class:`${o.e("cell")} ${o.e("expanded-cell")}`},[X({row:P,$index:M,store:H,expanded:W})])])]]:(console.error("[Element Error]renderExpanded is required."),D):[[D]]}else if(Object.keys(K.value).length){B();const W=Eo(P,j.value);let D=K.value[W],X=null;D&&(X={expanded:D.expanded,level:D.level,display:!0},typeof D.lazy=="boolean"&&(typeof D.loaded=="boolean"&&D.loaded&&(X.noLazyChildren=!(D.children&&D.children.length)),X.loading=D.loading));const oe=[C(P,M,X)];if(D){let le=0;const me=(De,ce)=>{De&&De.length&&ce&&De.forEach(ye=>{const _e={display:ce.display&&ce.expanded,level:ce.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Ke=Eo(ye,j.value);if(Ke==null)throw new Error("For nested data item, row-key is required.");if(D={...K.value[Ke]},D&&(_e.expanded=D.expanded,D.level=D.level||_e.level,D.display=!!(D.expanded&&_e.display),typeof D.lazy=="boolean"&&(typeof D.loaded=="boolean"&&D.loaded&&(_e.noLazyChildren=!(D.children&&D.children.length)),_e.loading=D.loading)),le++,oe.push(C(ye,M+le,_e)),D){const ve=te.value[Ke]||ye[J.value];me(ve,D)}})};D.display=!0;const Se=te.value[W]||P[J.value];me(Se,D)}return oe}else return C(P,M,void 0)},tooltipContent:g,tooltipTrigger:m}}const xie={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var Bie=ne({name:"ElTableBody",props:xie,setup(t){const n=Nt(),o=it(Xi),i=Pe("table"),{wrappedRowRender:l,tooltipContent:a,tooltipTrigger:u}=Pie(t),{onColumnsChange:h,onScrollableChange:p}=vP(o),f=[];return Me(t.store.states.hoverRow,(g,m)=>{var _;const b=n==null?void 0:n.vnode.el,T=Array.from((b==null?void 0:b.children)||[]).filter(y=>y==null?void 0:y.classList.contains(`${i.e("row")}`));let $=g;const E=(_=T[$])==null?void 0:_.childNodes;if(E!=null&&E.length){let y=0;Array.from(E).reduce((S,C,R)=>{var O,P;return((O=E[R])==null?void 0:O.colSpan)>1&&(y=(P=E[R])==null?void 0:P.colSpan),C.nodeName!=="TD"&&y===0&&S.push(R),y>0&&y--,S},[]).forEach(S=>{var C;for($=g;$>0;){const R=(C=T[$-1])==null?void 0:C.childNodes;if(R[S]&&R[S].nodeName==="TD"&&R[S].rowSpan>1){Bs(R[S],"hover-cell"),f.push(R[S]);break}$--}})}else f.forEach(y=>xo(y,"hover-cell")),f.length=0;!t.store.states.isComplex.value||!Xt||El(()=>{const y=T[m],I=T[g];y&&!y.classList.contains("hover-fixed-row")&&xo(y,"hover-row"),I&&Bs(I,"hover-row")})}),Rl(()=>{var g;(g=Ms)==null||g()}),{ns:i,onColumnsChange:h,onScrollableChange:p,wrappedRowRender:l,tooltipContent:a,tooltipTrigger:u}},render(){const{wrappedRowRender:t,store:n}=this,o=n.states.data.value||[];return ft("tbody",{tabIndex:-1},[o.reduce((i,l)=>i.concat(t(l,i.length)),[])])}});function Fie(){const t=it(Xi),n=t==null?void 0:t.store,o=w(()=>n.states.fixedLeafColumnsLength.value),i=w(()=>n.states.rightFixedColumns.value.length),l=w(()=>n.states.columns.value.length),a=w(()=>n.states.fixedColumns.value.length),u=w(()=>n.states.rightFixedColumns.value.length);return{leftFixedLeafCount:o,rightFixedLeafCount:i,columnsCount:l,leftFixedCount:a,rightFixedCount:u,columns:n.states.columns}}function Hie(t){const{columns:n}=Fie(),o=Pe("table");return{getCellClasses:(a,u)=>{const h=a[u],p=[o.e("cell"),h.id,h.align,h.labelClassName,...E0(o.b(),u,h.fixed,t.store)];return h.className&&p.push(h.className),h.children||p.push(o.is("leaf")),p},getCellStyles:(a,u)=>{const h=S0(u,a.fixed,t.store);return Lc(h,"left"),Lc(h,"right"),h},columns:n}}var Vie=ne({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:n,getCellStyles:o,columns:i}=Hie(t);return{ns:Pe("table"),getCellClasses:n,getCellStyles:o,columns:i}},render(){const{columns:t,getCellStyles:n,getCellClasses:o,summaryMethod:i,sumText:l}=this,a=this.store.states.data.value;let u=[];return i?u=i({columns:t,data:a}):t.forEach((h,p)=>{if(p===0){u[p]=l;return}const f=a.map(b=>Number(b[h.property])),g=[];let m=!0;f.forEach(b=>{if(!Number.isNaN(+b)){m=!1;const T=`${b}`.split(".")[1];g.push(T?T.length:0)}});const _=Math.max.apply(null,g);m?u[p]="":u[p]=f.reduce((b,T)=>{const $=Number(T);return Number.isNaN(+$)?b:Number.parseFloat((b+T).toFixed(Math.min(_,20)))},0)}),ft(ft("tfoot",[ft("tr",{},[...t.map((h,p)=>ft("td",{key:p,colspan:h.colSpan,rowspan:h.rowSpan,class:o(t,p),style:n(h,p)},[ft("div",{class:["cell",h.labelClassName]},[u[p]])]))])]))}});function Uie(t){return{setCurrentRow:g=>{t.commit("setCurrentRow",g)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(g,m)=>{t.toggleRowSelection(g,m,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:g=>{t.clearFilter(g)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(g,m)=>{t.toggleRowExpansionAdapter(g,m)},clearSort:()=>{t.clearSort()},sort:(g,m)=>{t.commit("sort",{prop:g,order:m})}}}function Gie(t,n,o,i){const l=V(!1),a=V(null),u=V(!1),h=D=>{u.value=D},p=V({width:null,height:null,headerHeight:null}),f=V(!1),g={display:"inline-block",verticalAlign:"middle"},m=V(),_=V(0),b=V(0),T=V(0),$=V(0),E=V(0);So(()=>{n.setHeight(t.height)}),So(()=>{n.setMaxHeight(t.maxHeight)}),Me(()=>[t.currentRowKey,o.states.rowKey],([D,X])=>{!c(X)||!c(D)||o.setCurrentRowKey(`${D}`)},{immediate:!0}),Me(()=>t.data,D=>{i.store.commit("setData",D)},{immediate:!0,deep:!0}),So(()=>{t.expandRowKeys&&o.setExpandRowKeysAdapter(t.expandRowKeys)});const y=()=>{i.store.commit("setHoverRow",null),i.hoverState&&(i.hoverState=null)},I=(D,X)=>{const{pixelX:oe,pixelY:le}=X;Math.abs(oe)>=Math.abs(le)&&(i.refs.bodyWrapper.scrollLeft+=X.pixelX/5)},S=w(()=>t.height||t.maxHeight||o.states.fixedColumns.value.length>0||o.states.rightFixedColumns.value.length>0),C=w(()=>({width:n.bodyWidth.value?`${n.bodyWidth.value}px`:""})),R=()=>{S.value&&n.updateElsHeight(),n.updateColumnsWidth(),requestAnimationFrame(H)};Rt(async()=>{await pt(),o.updateColumns(),F(),requestAnimationFrame(R);const D=i.vnode.el,X=i.refs.headerWrapper;t.flexible&&D&&D.parentElement&&(D.parentElement.style.minWidth="0"),p.value={width:m.value=D.offsetWidth,height:D.offsetHeight,headerHeight:t.showHeader&&X?X.offsetHeight:null},o.states.columns.value.forEach(oe=>{oe.filteredValue&&oe.filteredValue.length&&i.store.commit("filterChange",{column:oe,values:oe.filteredValue,silent:!0})}),i.$ready=!0});const O=(D,X)=>{if(!D)return;const oe=Array.from(D.classList).filter(le=>!le.startsWith("is-scrolling-"));oe.push(n.scrollX.value?X:"is-scrolling-none"),D.className=oe.join(" ")},P=D=>{const{tableWrapper:X}=i.refs;O(X,D)},M=D=>{const{tableWrapper:X}=i.refs;return!!(X&&X.classList.contains(D))},H=function(){if(!i.refs.scrollBarRef)return;if(!n.scrollX.value){const ce="is-scrolling-none";M(ce)||P(ce);return}const D=i.refs.scrollBarRef.wrapRef;if(!D)return;const{scrollLeft:X,offsetWidth:oe,scrollWidth:le}=D,{headerWrapper:me,footerWrapper:Se}=i.refs;me&&(me.scrollLeft=X),Se&&(Se.scrollLeft=X);const De=le-oe-1;X>=De?P("is-scrolling-right"):P(X===0?"is-scrolling-left":"is-scrolling-middle")},F=()=>{i.refs.scrollBarRef&&(i.refs.scrollBarRef.wrapRef&&$n(i.refs.scrollBarRef.wrapRef,"scroll",H,{passive:!0}),t.fit?wn(i.vnode.el,B):$n(window,"resize",B),wn(i.refs.bodyWrapper,()=>{var D,X;B(),(X=(D=i.refs)==null?void 0:D.scrollBarRef)==null||X.update()}))},B=()=>{var D,X,oe,le;const me=i.vnode.el;if(!i.$ready||!me)return;let Se=!1;const{width:De,height:ce,headerHeight:ye}=p.value,_e=m.value=me.offsetWidth;De!==_e&&(Se=!0);const Ke=me.offsetHeight;(t.height||S.value)&&ce!==Ke&&(Se=!0);const ve=t.tableLayout==="fixed"?i.refs.headerWrapper:(D=i.refs.tableHeaderRef)==null?void 0:D.$el;t.showHeader&&(ve==null?void 0:ve.offsetHeight)!==ye&&(Se=!0),_.value=((X=i.refs.tableWrapper)==null?void 0:X.scrollHeight)||0,T.value=(ve==null?void 0:ve.scrollHeight)||0,$.value=((oe=i.refs.footerWrapper)==null?void 0:oe.offsetHeight)||0,E.value=((le=i.refs.appendWrapper)==null?void 0:le.offsetHeight)||0,b.value=_.value-T.value-$.value-E.value,Se&&(p.value={width:_e,height:Ke,headerHeight:t.showHeader&&(ve==null?void 0:ve.offsetHeight)||0},R())},K=Xn(),te=w(()=>{const{bodyWidth:D,scrollY:X,gutterWidth:oe}=n;return D.value?`${D.value-(X.value?oe:0)}px`:""}),J=w(()=>t.maxHeight?"fixed":t.tableLayout),j=w(()=>{if(t.data&&t.data.length)return null;let D="100%";t.height&&b.value&&(D=`${b.value}px`);const X=m.value;return{width:X?`${X}px`:"",height:D}}),z=w(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),G=w(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${T.value+$.value}px)`}:{maxHeight:`${t.maxHeight-T.value-$.value}px`}:{});return{isHidden:l,renderExpanded:a,setDragVisible:h,isGroup:f,handleMouseLeave:y,handleHeaderFooterMousewheel:I,tableSize:K,emptyBlockStyle:j,handleFixedMousewheel:(D,X)=>{const oe=i.refs.bodyWrapper;if(Math.abs(X.spinY)>0){const le=oe.scrollTop;X.pixelY<0&&le!==0&&D.preventDefault(),X.pixelY>0&&oe.scrollHeight-oe.clientHeight>le&&D.preventDefault(),oe.scrollTop+=Math.ceil(X.pixelY/5)}else oe.scrollLeft+=Math.ceil(X.pixelX/5)},resizeProxyVisible:u,bodyWidth:te,resizeState:p,doLayout:R,tableBodyStyles:C,tableLayout:J,scrollbarViewStyle:g,tableInnerStyle:z,scrollbarStyle:G}}function Wie(t){const n=V(),o=()=>{const l=t.vnode.el.querySelector(".hidden-columns"),a={childList:!0,subtree:!0},u=t.store.states.updateOrderFns;n.value=new MutationObserver(()=>{u.forEach(h=>h())}),n.value.observe(l,a)};Rt(()=>{o()}),Rl(()=>{var i;(i=n.value)==null||i.disconnect()})}var zie={data:{type:Array,default:()=>[]},size:Jn,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function TP(t){const n=t.tableLayout==="auto";let o=t.columns||[];n&&o.every(l=>l.width===void 0)&&(o=[]);const i=l=>{const a={key:`${t.tableLayout}_${l.id}`,style:{},name:void 0};return n?a.style={width:`${l.width}px`}:a.name=l.id,a};return ft("colgroup",{},o.map(l=>ft("col",i(l))))}TP.props=["columns","tableLayout"];const Kie=()=>{const t=V(),n=(a,u)=>{const h=t.value;h&&h.scrollTo(a,u)},o=(a,u)=>{const h=t.value;h&&gt(u)&&["Top","Left"].includes(a)&&h[`setScroll${a}`](u)};return{scrollBarRef:t,scrollTo:n,setScrollTop:a=>o("Top",a),setScrollLeft:a=>o("Left",a)}};let Xie=1;const Yie=ne({name:"ElTable",directives:{Mousewheel:NY},components:{TableHeader:Nie,TableBody:Bie,TableFooter:Vie,ElScrollbar:Dr,hColgroup:TP},props:zie,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:n}=jt(),o=Pe("table"),i=Nt();Gt(Xi,i);const l=bie(i,t);i.store=l;const a=new yie({store:i.store,table:i,fit:t.fit,showHeader:t.showHeader});i.layout=a;const u=w(()=>(l.states.data.value||[]).length===0),{setCurrentRow:h,getSelectionRows:p,toggleRowSelection:f,clearSelection:g,clearFilter:m,toggleAllSelection:_,toggleRowExpansion:b,clearSort:T,sort:$}=Uie(l),{isHidden:E,renderExpanded:y,setDragVisible:I,isGroup:S,handleMouseLeave:C,handleHeaderFooterMousewheel:R,tableSize:O,emptyBlockStyle:P,handleFixedMousewheel:M,resizeProxyVisible:H,bodyWidth:F,resizeState:B,doLayout:K,tableBodyStyles:te,tableLayout:J,scrollbarViewStyle:j,tableInnerStyle:z,scrollbarStyle:G}=Gie(t,a,l,i),{scrollBarRef:W,scrollTo:D,setScrollLeft:X,setScrollTop:oe}=Kie(),le=us(K,50),me=`${o.namespace.value}-table_${Xie++}`;i.tableId=me,i.state={isGroup:S,resizeState:B,doLayout:K,debouncedUpdateLayout:le};const Se=w(()=>t.sumText||n("el.table.sumText")),De=w(()=>t.emptyText||n("el.table.emptyText")),ce=w(()=>bP(l.states.originColumns.value)[0]);return Wie(i),{ns:o,layout:a,store:l,columns:ce,handleHeaderFooterMousewheel:R,handleMouseLeave:C,tableId:me,tableSize:O,isHidden:E,isEmpty:u,renderExpanded:y,resizeProxyVisible:H,resizeState:B,isGroup:S,bodyWidth:F,tableBodyStyles:te,emptyBlockStyle:P,debouncedUpdateLayout:le,handleFixedMousewheel:M,setCurrentRow:h,getSelectionRows:p,toggleRowSelection:f,clearSelection:g,clearFilter:m,toggleAllSelection:_,toggleRowExpansion:b,clearSort:T,doLayout:K,sort:$,t:n,setDragVisible:I,context:i,computedSumText:Se,computedEmptyText:De,tableLayout:J,scrollbarViewStyle:j,tableInnerStyle:z,scrollbarStyle:G,scrollBarRef:W,scrollTo:D,setScrollLeft:X,setScrollTop:oe}}}),jie=["data-prefix"],qie={ref:"hiddenColumns",class:"hidden-columns"};function Jie(t,n,o,i,l,a){const u=Lt("hColgroup"),h=Lt("table-header"),p=Lt("table-body"),f=Lt("table-footer"),g=Lt("el-scrollbar"),m=vg("mousewheel");return A(),Y("div",{ref:"tableWrapper",class:N([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:ct(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:n[0]||(n[0]=(..._)=>t.handleMouseLeave&&t.handleMouseLeave(..._))},[Q("div",{class:N(t.ns.e("inner-wrapper")),style:ct(t.tableInnerStyle)},[Q("div",qie,[Te(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?Ot((A(),Y("div",{key:0,ref:"headerWrapper",class:N(t.ns.e("header-wrapper"))},[Q("table",{ref:"tableHeader",class:N(t.ns.e("header")),style:ct(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ie(u,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),ie(h,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[m,t.handleHeaderFooterMousewheel]]):$e("v-if",!0),Q("div",{ref:"bodyWrapper",class:N(t.ns.e("body-wrapper"))},[ie(g,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn},{default:he(()=>[Q("table",{ref:"tableBody",class:N(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:ct({width:t.bodyWidth,tableLayout:t.tableLayout})},[ie(u,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(A(),be(h,{key:0,ref:"tableHeaderRef",class:N(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):$e("v-if",!0),ie(p,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(A(),be(f,{key:1,class:N(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):$e("v-if",!0)],6),t.isEmpty?(A(),Y("div",{key:0,ref:"emptyBlock",style:ct(t.emptyBlockStyle),class:N(t.ns.e("empty-block"))},[Q("span",{class:N(t.ns.e("empty-text"))},[Te(t.$slots,"empty",{},()=>[zt(We(t.computedEmptyText),1)])],2)],6)):$e("v-if",!0),t.$slots.append?(A(),Y("div",{key:1,ref:"appendWrapper",class:N(t.ns.e("append-wrapper"))},[Te(t.$slots,"append")],2)):$e("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),t.showSummary&&t.tableLayout==="fixed"?Ot((A(),Y("div",{key:1,ref:"footerWrapper",class:N(t.ns.e("footer-wrapper"))},[Q("table",{class:N(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:ct(t.tableBodyStyles)},[ie(u,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),ie(f,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[qt,!t.isEmpty],[m,t.handleHeaderFooterMousewheel]]):$e("v-if",!0),t.border||t.isGroup?(A(),Y("div",{key:2,class:N(t.ns.e("border-left-patch"))},null,2)):$e("v-if",!0)],6),Ot(Q("div",{ref:"resizeProxy",class:N(t.ns.e("column-resize-proxy"))},null,2),[[qt,t.resizeProxyVisible]])],46,jie)}var Zie=Ge(Yie,[["render",Jie],["__file","table.vue"]]);const Qie={selection:"table-column--selection",expand:"table__expand-column"},ere={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},tre=t=>Qie[t]||"",nre={selection:{renderHeader({store:t,column:n}){function o(){return t.states.data.value&&t.states.data.value.length===0}return ft(Ys,{disabled:o(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:n.label})},renderCell({row:t,column:n,store:o,$index:i}){return ft(Ys,{disabled:n.selectable?!n.selectable.call(null,t,i):!1,size:o.states.tableSize.value,onChange:()=>{o.commit("rowSelectedChanged",t)},onClick:l=>l.stopPropagation(),modelValue:o.isSelected(t),ariaLabel:n.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:n}){let o=n+1;const i=t.index;return typeof i=="number"?o=n+i:typeof i=="function"&&(o=i(n)),ft("div",{},[o])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:n,expanded:o}){const{ns:i}=n,l=[i.e("expand-icon")];return o&&l.push(i.em("expand-icon","expanded")),ft("div",{class:l,onClick:function(u){u.stopPropagation(),n.toggleRowExpansion(t)}},{default:()=>[ft(at,null,{default:()=>[ft(Yo)]})]})},sortable:!1,resizable:!1}};function ore({row:t,column:n,$index:o}){var i;const l=n.property,a=l&&pm(t,l).value;return n&&n.formatter?n.formatter(t,n,a,o):((i=a==null?void 0:a.toString)==null?void 0:i.call(a))||""}function sre({row:t,treeNode:n,store:o},i=!1){const{ns:l}=o;if(!n)return i?[ft("span",{class:l.e("placeholder")})]:null;const a=[],u=function(h){h.stopPropagation(),!n.loading&&o.loadOrToggle(t)};if(n.indent&&a.push(ft("span",{class:l.e("indent"),style:{"padding-left":`${n.indent}px`}})),typeof n.expanded=="boolean"&&!n.noLazyChildren){const h=[l.e("expand-icon"),n.expanded?l.em("expand-icon","expanded"):""];let p=Yo;n.loading&&(p=Nl),a.push(ft("div",{class:h,onClick:u},{default:()=>[ft(at,{class:{[l.is("loading")]:n.loading}},{default:()=>[ft(p)]})]}))}else a.push(ft("span",{class:l.e("placeholder")}));return a}function TL(t,n){return t.reduce((o,i)=>(o[i]=i,o),n)}function ire(t,n){const o=Nt();return{registerComplexWatchers:()=>{const a=["fixed"],u={realWidth:"width",realMinWidth:"minWidth"},h=TL(a,u);Object.keys(h).forEach(p=>{const f=u[p];Yt(n,f)&&Me(()=>n[f],g=>{let m=g;f==="width"&&p==="realWidth"&&(m=y0(g)),f==="minWidth"&&p==="realMinWidth"&&(m=pP(g)),o.columnConfig.value[f]=m,o.columnConfig.value[p]=m;const _=f==="fixed";t.value.store.scheduleLayout(_)})})},registerNormalWatchers:()=>{const a=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],u={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},h=TL(a,u);Object.keys(h).forEach(p=>{const f=u[p];Yt(n,f)&&Me(()=>n[f],g=>{o.columnConfig.value[p]=g})})}}}function rre(t,n,o){const i=Nt(),l=V(""),a=V(!1),u=V(),h=V(),p=Pe("table");So(()=>{u.value=t.align?`is-${t.align}`:null,u.value}),So(()=>{h.value=t.headerAlign?`is-${t.headerAlign}`:u.value,h.value});const f=w(()=>{let C=i.vnode.vParent||i.parent;for(;C&&!C.tableId&&!C.columnId;)C=C.vnode.vParent||C.parent;return C}),g=w(()=>{const{store:C}=i.parent;if(!C)return!1;const{treeData:R}=C.states,O=R.value;return O&&Object.keys(O).length>0}),m=V(y0(t.width)),_=V(pP(t.minWidth)),b=C=>(m.value&&(C.width=m.value),_.value&&(C.minWidth=_.value),!m.value&&_.value&&(C.width=void 0),C.minWidth||(C.minWidth=80),C.realWidth=Number(C.width===void 0?C.minWidth:C.width),C),T=C=>{const R=C.type,O=nre[R]||{};Object.keys(O).forEach(M=>{const H=O[M];M!=="className"&&H!==void 0&&(C[M]=H)});const P=tre(R);if(P){const M=`${c(p.namespace)}-${P}`;C.className=C.className?`${C.className} ${M}`:M}return C},$=C=>{Array.isArray(C)?C.forEach(O=>R(O)):R(C);function R(O){var P;((P=O==null?void 0:O.type)==null?void 0:P.name)==="ElTableColumn"&&(O.vParent=i)}};return{columnId:l,realAlign:u,isSubColumn:a,realHeaderAlign:h,columnOrTableParent:f,setColumnWidth:b,setColumnForcedProps:T,setColumnRenders:C=>{t.renderHeader||C.type!=="selection"&&(C.renderHeader=O=>(i.columnConfig.value.label,Te(n,"header",O,()=>[C.label])));let R=C.renderCell;return C.type==="expand"?(C.renderCell=O=>ft("div",{class:"cell"},[R(O)]),o.value.renderExpanded=O=>n.default?n.default(O):n.default):(R=R||ore,C.renderCell=O=>{let P=null;if(n.default){const te=n.default(O);P=te.some(J=>J.type!==To)?te:R(O)}else P=R(O);const{columns:M}=o.value.store.states,H=M.value.findIndex(te=>te.type==="default"),F=g.value&&O.cellIndex===H,B=sre(O,F),K={class:"cell",style:{}};return C.showOverflowTooltip&&(K.class=`${K.class} ${c(p.namespace)}-tooltip`,K.style={width:`${(O.column.realWidth||Number(O.column.width))-1}px`}),$(P),ft("div",K,[B,P])}),C},getPropsData:(...C)=>C.reduce((R,O)=>(Array.isArray(O)&&O.forEach(P=>{R[P]=t[P]}),R),{}),getColumnElIndex:(C,R)=>Array.prototype.indexOf.call(C,R),updateColumnOrder:()=>{o.value.store.commit("updateColumnOrder",i.columnConfig.value)}}}var lre={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(n=>["ascending","descending",null].includes(n))}};let are=1;var yP=ne({name:"ElTableColumn",components:{ElCheckbox:Ys},props:lre,setup(t,{slots:n}){const o=Nt(),i=V({}),l=w(()=>{let S=o.parent;for(;S&&!S.tableId;)S=S.parent;return S}),{registerNormalWatchers:a,registerComplexWatchers:u}=ire(l,t),{columnId:h,isSubColumn:p,realHeaderAlign:f,columnOrTableParent:g,setColumnWidth:m,setColumnForcedProps:_,setColumnRenders:b,getPropsData:T,getColumnElIndex:$,realAlign:E,updateColumnOrder:y}=rre(t,n,l),I=g.value;h.value=`${I.tableId||I.columnId}_column_${are++}`,bg(()=>{p.value=l.value!==I;const S=t.type||"default",C=t.sortable===""?!0:t.sortable,R=Hn(t.showOverflowTooltip)?I.props.showOverflowTooltip:t.showOverflowTooltip,O={...ere[S],id:h.value,type:S,property:t.prop||t.property,align:E,headerAlign:f,showOverflowTooltip:R,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:C,index:t.index,rawColumnKey:o.vnode.key};let B=T(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);B=uie(O,B),B=die(b,m,_)(B),i.value=B,a(),u()}),Rt(()=>{var S;const C=g.value,R=p.value?C.vnode.el.children:(S=C.refs.hiddenColumns)==null?void 0:S.children,O=()=>$(R||[],o.vnode.el);i.value.getColumnIndex=O,O()>-1&&l.value.store.commit("insertColumn",i.value,p.value?C.columnConfig.value:null,y)}),mn(()=>{i.value.getColumnIndex()>-1&&l.value.store.commit("removeColumn",i.value,p.value?I.columnConfig.value:null,y)}),o.columnId=h.value,o.columnConfig=i},render(){var t,n,o;try{const i=(n=(t=this.$slots).default)==null?void 0:n.call(t,{row:{},column:{},$index:-1}),l=[];if(Array.isArray(i))for(const u of i)((o=u.type)==null?void 0:o.name)==="ElTableColumn"||u.shapeFlag&2?l.push(u):u.type===dt&&Array.isArray(u.children)&&u.children.forEach(h=>{(h==null?void 0:h.patchFlag)!==1024&&!yt(h==null?void 0:h.children)&&l.push(h)});return ft("div",l)}catch{return ft("div",[])}}});const ure=Mt(Zie,{TableColumn:yP}),cre=On(yP);var Hh=(t=>(t.ASC="asc",t.DESC="desc",t))(Hh||{}),Vh=(t=>(t.CENTER="center",t.RIGHT="right",t))(Vh||{}),EP=(t=>(t.LEFT="left",t.RIGHT="right",t))(EP||{});const _y={asc:"desc",desc:"asc"},Uh=Symbol("placeholder"),dre=(t,n,o)=>{var i;const l={flexGrow:0,flexShrink:0,...o?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};o||(l.flexShrink=1);const a={...(i=t.style)!=null?i:{},...l,flexBasis:"auto",width:t.width};return n||(t.maxWidth&&(a.maxWidth=t.maxWidth),t.minWidth&&(a.minWidth=t.minWidth)),a};function hre(t,n,o){const i=w(()=>c(n).filter($=>!$.hidden)),l=w(()=>c(i).filter($=>$.fixed==="left"||$.fixed===!0)),a=w(()=>c(i).filter($=>$.fixed==="right")),u=w(()=>c(i).filter($=>!$.fixed)),h=w(()=>{const $=[];return c(l).forEach(E=>{$.push({...E,placeholderSign:Uh})}),c(u).forEach(E=>{$.push(E)}),c(a).forEach(E=>{$.push({...E,placeholderSign:Uh})}),$}),p=w(()=>c(l).length||c(a).length),f=w(()=>c(n).reduce((E,y)=>(E[y.key]=dre(y,c(o),t.fixed),E),{})),g=w(()=>c(i).reduce(($,E)=>$+E.width,0)),m=$=>c(n).find(E=>E.key===$),_=$=>c(f)[$],b=($,E)=>{$.width=E};function T($){var E;const{key:y}=$.currentTarget.dataset;if(!y)return;const{sortState:I,sortBy:S}=t;let C=Hh.ASC;Pt(I)?C=_y[I[y]]:C=_y[S.order],(E=t.onColumnSort)==null||E.call(t,{column:m(y),key:y,order:C})}return{columns:n,columnsStyles:f,columnsTotalWidth:g,fixedColumnsOnLeft:l,fixedColumnsOnRight:a,hasFixedColumns:p,mainColumns:h,normalColumns:u,visibleColumns:i,getColumn:m,getColumnStyle:_,updateColumnWidth:b,onColumnSorted:T}}const pre=(t,{mainTableRef:n,leftTableRef:o,rightTableRef:i,onMaybeEndReached:l})=>{const a=V({scrollLeft:0,scrollTop:0});function u(b){var T,$,E;const{scrollTop:y}=b;(T=n.value)==null||T.scrollTo(b),($=o.value)==null||$.scrollToTop(y),(E=i.value)==null||E.scrollToTop(y)}function h(b){a.value=b,u(b)}function p(b){a.value.scrollTop=b,u(c(a))}function f(b){var T,$;a.value.scrollLeft=b,($=(T=n.value)==null?void 0:T.scrollTo)==null||$.call(T,c(a))}function g(b){var T;h(b),(T=t.onScroll)==null||T.call(t,b)}function m({scrollTop:b}){const{scrollTop:T}=c(a);b!==T&&p(b)}function _(b,T="auto"){var $;($=n.value)==null||$.scrollToRow(b,T)}return Me(()=>c(a).scrollTop,(b,T)=>{b>T&&l()}),{scrollPos:a,scrollTo:h,scrollToLeft:f,scrollToTop:p,scrollToRow:_,onScroll:g,onVerticalScroll:m}},fre=(t,{mainTableRef:n,leftTableRef:o,rightTableRef:i,tableInstance:l,ns:a,isScrolling:u})=>{const h=Nt(),{emit:p}=h,f=bn(!1),g=V(t.defaultExpandedRowKeys||[]),m=V(-1),_=bn(null),b=V({}),T=V({}),$=bn({}),E=bn({}),y=bn({}),I=w(()=>gt(t.estimatedRowHeight));function S(F){var B;(B=t.onRowsRendered)==null||B.call(t,F),F.rowCacheEnd>c(m)&&(m.value=F.rowCacheEnd)}function C({hovered:F,rowKey:B}){if(u.value)return;l.vnode.el.querySelectorAll(`[rowkey="${String(B)}"]`).forEach(J=>{F?J.classList.add(a.is("hovered")):J.classList.remove(a.is("hovered"))})}function R({expanded:F,rowData:B,rowIndex:K,rowKey:te}){var J,j;const z=[...c(g)],G=z.indexOf(te);F?G===-1&&z.push(te):G>-1&&z.splice(G,1),g.value=z,p("update:expandedRowKeys",z),(J=t.onRowExpand)==null||J.call(t,{expanded:F,rowData:B,rowIndex:K,rowKey:te}),(j=t.onExpandedRowsChange)==null||j.call(t,z)}const O=us(()=>{var F,B,K,te;f.value=!0,b.value={...c(b),...c(T)},P(c(_),!1),T.value={},_.value=null,(F=n.value)==null||F.forceUpdate(),(B=o.value)==null||B.forceUpdate(),(K=i.value)==null||K.forceUpdate(),(te=h.proxy)==null||te.$forceUpdate(),f.value=!1},0);function P(F,B=!1){c(I)&&[n,o,i].forEach(K=>{const te=c(K);te&&te.resetAfterRowIndex(F,B)})}function M(F,B,K){const te=c(_);(te===null||te>K)&&(_.value=K),T.value[F]=B}function H({rowKey:F,height:B,rowIndex:K},te){te?te===EP.RIGHT?y.value[F]=B:$.value[F]=B:E.value[F]=B;const J=Math.max(...[$,y,E].map(j=>j.value[F]||0));c(b)[F]!==J&&(M(F,J,K),O())}return{expandedRowKeys:g,lastRenderedRowIndex:m,isDynamic:I,isResetting:f,rowHeights:b,resetAfterIndex:P,onRowExpanded:R,onRowHovered:C,onRowsRendered:S,onRowHeightChange:H}},mre=(t,{expandedRowKeys:n,lastRenderedRowIndex:o,resetAfterIndex:i})=>{const l=V({}),a=w(()=>{const h={},{data:p,rowKey:f}=t,g=c(n);if(!g||!g.length)return p;const m=[],_=new Set;g.forEach(T=>_.add(T));let b=p.slice();for(b.forEach(T=>h[T[f]]=0);b.length>0;){const T=b.shift();m.push(T),_.has(T[f])&&Array.isArray(T.children)&&T.children.length>0&&(b=[...T.children,...b],T.children.forEach($=>h[$[f]]=h[T[f]]+1))}return l.value=h,m}),u=w(()=>{const{data:h,expandColumnKey:p}=t;return p?c(a):h});return Me(u,(h,p)=>{h!==p&&(o.value=-1,i(0,!0))}),{data:u,depthMap:l}},gre=(t,n)=>t+n,km=t=>tt(t)?t.reduce(gre,0):t,Ua=(t,n,o={})=>vt(t)?t(n):t??o,fl=t=>(["width","maxWidth","minWidth","height"].forEach(n=>{t[n]=Mn(t[n])}),t),SP=t=>Cn(t)?n=>ft(t,n):t,$re=(t,{columnsTotalWidth:n,data:o,fixedColumnsOnLeft:i,fixedColumnsOnRight:l})=>{const a=w(()=>{const{fixed:S,width:C,vScrollbarSize:R}=t,O=C-R;return S?Math.max(Math.round(c(n)),O):O}),u=w(()=>c(a)+t.vScrollbarSize),h=w(()=>{const{height:S=0,maxHeight:C=0,footerHeight:R,hScrollbarSize:O}=t;if(C>0){const P=c(T),M=c(p),F=c(b)+P+M+O;return Math.min(F,C-R)}return S-R}),p=w(()=>{const{rowHeight:S,estimatedRowHeight:C}=t,R=c(o);return gt(C)?R.length*C:R.length*S}),f=w(()=>{const{maxHeight:S}=t,C=c(h);if(gt(S)&&S>0)return C;const R=c(p)+c(b)+c(T);return Math.min(C,R)}),g=S=>S.width,m=w(()=>km(c(i).map(g))),_=w(()=>km(c(l).map(g))),b=w(()=>km(t.headerHeight)),T=w(()=>{var S;return(((S=t.fixedData)==null?void 0:S.length)||0)*t.rowHeight}),$=w(()=>c(h)-c(b)-c(T)),E=w(()=>{const{style:S={},height:C,width:R}=t;return fl({...S,height:C,width:R})}),y=w(()=>fl({height:t.footerHeight})),I=w(()=>({top:Mn(c(b)),bottom:Mn(t.footerHeight),width:Mn(t.width)}));return{bodyWidth:a,fixedTableHeight:f,mainTableHeight:h,leftTableWidth:m,rightTableWidth:_,headerWidth:u,rowsHeight:p,windowHeight:$,footerHeight:y,emptyStyle:I,rootStyle:E,headerHeight:b}},vre=t=>{const n=V(),o=V(0),i=V(0);let l;return Rt(()=>{l=wn(n,([a])=>{const{width:u,height:h}=a.contentRect,{paddingLeft:p,paddingRight:f,paddingTop:g,paddingBottom:m}=getComputedStyle(a.target),_=Number.parseInt(p)||0,b=Number.parseInt(f)||0,T=Number.parseInt(g)||0,$=Number.parseInt(m)||0;o.value=u-_-b,i.value=h-T-$}).stop}),mn(()=>{l==null||l()}),Me([o,i],([a,u])=>{var h;(h=t.onResize)==null||h.call(t,{width:a,height:u})}),{sizer:n,width:o,height:i}};function _re(t){const n=V(),o=V(),i=V(),{columns:l,columnsStyles:a,columnsTotalWidth:u,fixedColumnsOnLeft:h,fixedColumnsOnRight:p,hasFixedColumns:f,mainColumns:g,onColumnSorted:m}=hre(t,sn(t,"columns"),sn(t,"fixed")),{scrollTo:_,scrollToLeft:b,scrollToTop:T,scrollToRow:$,onScroll:E,onVerticalScroll:y,scrollPos:I}=pre(t,{mainTableRef:n,leftTableRef:o,rightTableRef:i,onMaybeEndReached:ae}),S=Pe("table-v2"),C=Nt(),R=bn(!1),{expandedRowKeys:O,lastRenderedRowIndex:P,isDynamic:M,isResetting:H,rowHeights:F,resetAfterIndex:B,onRowExpanded:K,onRowHeightChange:te,onRowHovered:J,onRowsRendered:j}=fre(t,{mainTableRef:n,leftTableRef:o,rightTableRef:i,tableInstance:C,ns:S,isScrolling:R}),{data:z,depthMap:G}=mre(t,{expandedRowKeys:O,lastRenderedRowIndex:P,resetAfterIndex:B}),{bodyWidth:W,fixedTableHeight:D,mainTableHeight:X,leftTableWidth:oe,rightTableWidth:le,headerWidth:me,rowsHeight:Se,windowHeight:De,footerHeight:ce,emptyStyle:ye,rootStyle:_e,headerHeight:Ke}=$re(t,{columnsTotalWidth:u,data:z,fixedColumnsOnLeft:h,fixedColumnsOnRight:p}),ve=V(),Ae=w(()=>{const de=c(z).length===0;return tt(t.fixedData)?t.fixedData.length===0&&de:de});function Fe(de){const{estimatedRowHeight:Re,rowHeight:Be,rowKey:Ee}=t;return Re?c(F)[c(z)[de][Ee]]||Re:Be}function ae(){const{onEndReached:de}=t;if(!de)return;const{scrollTop:Re}=c(I),Be=c(Se),Ee=c(De),Ne=Be-(Re+Ee)+t.hScrollbarSize;c(P)>=0&&Be===Re+c(X)-c(Ke)&&de(Ne)}return Me(()=>t.expandedRowKeys,de=>O.value=de,{deep:!0}),{columns:l,containerRef:ve,mainTableRef:n,leftTableRef:o,rightTableRef:i,isDynamic:M,isResetting:H,isScrolling:R,hasFixedColumns:f,columnsStyles:a,columnsTotalWidth:u,data:z,expandedRowKeys:O,depthMap:G,fixedColumnsOnLeft:h,fixedColumnsOnRight:p,mainColumns:g,bodyWidth:W,emptyStyle:ye,rootStyle:_e,headerWidth:me,footerHeight:ce,mainTableHeight:X,fixedTableHeight:D,leftTableWidth:oe,rightTableWidth:le,showEmpty:Ae,getRowHeight:Fe,onColumnSorted:m,onRowHovered:J,onRowExpanded:K,onRowsRendered:j,onRowHeightChange:te,scrollTo:_,scrollToLeft:b,scrollToTop:T,scrollToRow:$,onScroll:E,onVerticalScroll:y}}const C0=Symbol("tableV2"),CP=String,lp={type:fe(Array),required:!0},I0={type:fe(Array)},IP={...I0,required:!0},bre=String,yL={type:fe(Array),default:()=>kn([])},Ta={type:Number,required:!0},wP={type:fe([String,Number,Symbol]),default:"id"},EL={type:fe(Object)},wa=Ve({class:String,columns:lp,columnsStyles:{type:fe(Object),required:!0},depth:Number,expandColumnKey:bre,estimatedRowHeight:{...Na.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:fe(Function)},onRowHover:{type:fe(Function)},onRowHeightChange:{type:fe(Function)},rowData:{type:fe(Object),required:!0},rowEventHandlers:{type:fe(Object)},rowIndex:{type:Number,required:!0},rowKey:wP,style:{type:fe(Object)}}),sT={type:Number,required:!0},w0=Ve({class:String,columns:lp,fixedHeaderData:{type:fe(Array)},headerData:{type:fe(Array),required:!0},headerHeight:{type:fe([Number,Array]),default:50},rowWidth:sT,rowHeight:{type:Number,default:50},height:sT,width:sT}),Om=Ve({columns:lp,data:IP,fixedData:I0,estimatedRowHeight:wa.estimatedRowHeight,width:Ta,height:Ta,headerWidth:Ta,headerHeight:w0.headerHeight,bodyWidth:Ta,rowHeight:Ta,cache:YD.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Na.scrollbarAlwaysOn,scrollbarStartGap:Na.scrollbarStartGap,scrollbarEndGap:Na.scrollbarEndGap,class:CP,style:EL,containerStyle:EL,getRowHeight:{type:fe(Function),required:!0},rowKey:wa.rowKey,onRowsRendered:{type:fe(Function)},onScroll:{type:fe(Function)}}),Tre=Ve({cache:Om.cache,estimatedRowHeight:wa.estimatedRowHeight,rowKey:wP,headerClass:{type:fe([String,Function])},headerProps:{type:fe([Object,Function])},headerCellProps:{type:fe([Object,Function])},headerHeight:w0.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:fe([String,Function])},rowProps:{type:fe([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:fe([Object,Function])},columns:lp,data:IP,dataGetter:{type:fe(Function)},fixedData:I0,expandColumnKey:wa.expandColumnKey,expandedRowKeys:yL,defaultExpandedRowKeys:yL,class:CP,fixed:Boolean,style:{type:fe(Object)},width:Ta,height:Ta,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Na.hScrollbarSize,vScrollbarSize:Na.vScrollbarSize,scrollbarAlwaysOn:JD.alwaysOn,sortBy:{type:fe(Object),default:()=>({})},sortState:{type:fe(Object),default:void 0},onColumnSort:{type:fe(Function)},onExpandedRowsChange:{type:fe(Function)},onEndReached:{type:fe(Function)},onRowExpand:wa.onRowExpand,onScroll:Om.onScroll,onRowsRendered:Om.onRowsRendered,rowEventHandlers:wa.rowEventHandlers}),k0=(t,{slots:n})=>{var o;const{cellData:i,style:l}=t,a=((o=i==null?void 0:i.toString)==null?void 0:o.call(i))||"",u=Te(n,"default",t,()=>[a]);return ie("div",{class:t.class,title:a,style:l},[u])};k0.displayName="ElTableV2Cell";k0.inheritAttrs=!1;const O0=(t,{slots:n})=>Te(n,"default",t,()=>{var o,i;return[ie("div",{class:t.class,title:(o=t.column)==null?void 0:o.title},[(i=t.column)==null?void 0:i.title])]});O0.displayName="ElTableV2HeaderCell";O0.inheritAttrs=!1;const yre=Ve({class:String,columns:lp,columnsStyles:{type:fe(Object),required:!0},headerIndex:Number,style:{type:fe(Object)}}),Ere=ne({name:"ElTableV2HeaderRow",props:yre,setup(t,{slots:n}){return()=>{const{columns:o,columnsStyles:i,headerIndex:l,style:a}=t;let u=o.map((h,p)=>n.cell({columns:o,column:h,columnIndex:p,headerIndex:l,style:i[h.key]}));return n.header&&(u=n.header({cells:u.map(h=>tt(h)&&h.length===1?h[0]:h),columns:o,headerIndex:l})),ie("div",{class:t.class,style:a,role:"row"},[u])}}}),Sre="ElTableV2Header",Cre=ne({name:Sre,props:w0,setup(t,{slots:n,expose:o}){const i=Pe("table-v2"),l=V(),a=w(()=>fl({width:t.width,height:t.height})),u=w(()=>fl({width:t.rowWidth,height:t.height})),h=w(()=>yl(c(t.headerHeight))),p=m=>{const _=c(l);pt(()=>{_!=null&&_.scroll&&_.scroll({left:m})})},f=()=>{const m=i.e("fixed-header-row"),{columns:_,fixedHeaderData:b,rowHeight:T}=t;return b==null?void 0:b.map(($,E)=>{var y;const I=fl({height:T,width:"100%"});return(y=n.fixed)==null?void 0:y.call(n,{class:m,columns:_,rowData:$,rowIndex:-(E+1),style:I})})},g=()=>{const m=i.e("dynamic-header-row"),{columns:_}=t;return c(h).map((b,T)=>{var $;const E=fl({width:"100%",height:b});return($=n.dynamic)==null?void 0:$.call(n,{class:m,columns:_,headerIndex:T,style:E})})};return o({scrollToLeft:p}),()=>{if(!(t.height<=0))return ie("div",{ref:l,class:t.class,style:c(a),role:"rowgroup"},[ie("div",{style:c(u),class:i.e("header")},[g(),f()])])}}}),Ire=t=>{const{isScrolling:n}=it(C0),o=V(!1),i=V(),l=w(()=>gt(t.estimatedRowHeight)&&t.rowIndex>=0),a=(p=!1)=>{const f=c(i);if(!f)return;const{columns:g,onRowHeightChange:m,rowKey:_,rowIndex:b,style:T}=t,{height:$}=f.getBoundingClientRect();o.value=!0,pt(()=>{if(p||$!==Number.parseInt(T.height)){const E=g[0],y=(E==null?void 0:E.placeholderSign)===Uh;m==null||m({rowKey:_,height:$,rowIndex:b},E&&!y&&E.fixed)}})},u=w(()=>{const{rowData:p,rowIndex:f,rowKey:g,onRowHover:m}=t,_=t.rowEventHandlers||{},b={};return Object.entries(_).forEach(([T,$])=>{vt($)&&(b[T]=E=>{$({event:E,rowData:p,rowIndex:f,rowKey:g})})}),m&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:T,hovered:$})=>{const E=b[T];b[T]=y=>{m({event:y,hovered:$,rowData:p,rowIndex:f,rowKey:g}),E==null||E(y)}}),b}),h=p=>{const{onRowExpand:f,rowData:g,rowIndex:m,rowKey:_}=t;f==null||f({expanded:p,rowData:g,rowIndex:m,rowKey:_})};return Rt(()=>{c(l)&&a(!0)}),{isScrolling:n,measurable:l,measured:o,rowRef:i,eventHandlers:u,onExpand:h}},wre="ElTableV2TableRow",kre=ne({name:wre,props:wa,setup(t,{expose:n,slots:o,attrs:i}){const{eventHandlers:l,isScrolling:a,measurable:u,measured:h,rowRef:p,onExpand:f}=Ire(t);return n({onExpand:f}),()=>{const{columns:g,columnsStyles:m,expandColumnKey:_,depth:b,rowData:T,rowIndex:$,style:E}=t;let y=g.map((I,S)=>{const C=tt(T.children)&&T.children.length>0&&I.key===_;return o.cell({column:I,columns:g,columnIndex:S,depth:b,style:m[I.key],rowData:T,rowIndex:$,isScrolling:c(a),expandIconProps:C?{rowData:T,rowIndex:$,onExpand:f}:void 0})});if(o.row&&(y=o.row({cells:y.map(I=>tt(I)&&I.length===1?I[0]:I),style:E,columns:g,depth:b,rowData:T,rowIndex:$,isScrolling:c(a)})),c(u)){const{height:I,...S}=E||{},C=c(h);return ie("div",Vt({ref:p,class:t.class,style:C?E:S,role:"row"},i,c(l)),[y])}return ie("div",Vt(i,{ref:p,class:t.class,style:E,role:"row"},c(l)),[y])}}}),Ore=t=>{const{sortOrder:n}=t;return ie(at,{size:14,class:t.class},{default:()=>[n===Hh.ASC?ie(Y4,null,null):ie(K4,null,null)]})},Rre=t=>{const{expanded:n,expandable:o,onExpand:i,style:l,size:a}=t,u={onClick:o?()=>i(!n):void 0,class:t.class};return ie(at,Vt(u,{size:a,style:l}),{default:()=>[ie(Yo,null,null)]})},Lre="ElTableV2Grid",Are=t=>{const n=V(),o=V(),i=w(()=>{const{data:$,rowHeight:E,estimatedRowHeight:y}=t;if(!y)return $.length*E}),l=w(()=>{const{fixedData:$,rowHeight:E}=t;return(($==null?void 0:$.length)||0)*E}),a=w(()=>km(t.headerHeight)),u=w(()=>{const{height:$}=t;return Math.max(0,$-c(a)-c(l))}),h=w(()=>c(a)+c(l)>0),p=({data:$,rowIndex:E})=>$[E][t.rowKey];function f({rowCacheStart:$,rowCacheEnd:E,rowVisibleStart:y,rowVisibleEnd:I}){var S;(S=t.onRowsRendered)==null||S.call(t,{rowCacheStart:$,rowCacheEnd:E,rowVisibleStart:y,rowVisibleEnd:I})}function g($,E){var y;(y=o.value)==null||y.resetAfterRowIndex($,E)}function m($,E){const y=c(n),I=c(o);Pt($)?(y==null||y.scrollToLeft($.scrollLeft),I==null||I.scrollTo($)):(y==null||y.scrollToLeft($),I==null||I.scrollTo({scrollLeft:$,scrollTop:E}))}function _($){var E;(E=c(o))==null||E.scrollTo({scrollTop:$})}function b($,E){var y;(y=c(o))==null||y.scrollToItem($,1,E)}function T(){var $,E;($=c(o))==null||$.$forceUpdate(),(E=c(n))==null||E.$forceUpdate()}return{bodyRef:o,forceUpdate:T,fixedRowHeight:l,gridHeight:u,hasHeader:h,headerHeight:a,headerRef:n,totalHeight:i,itemKey:p,onItemRendered:f,resetAfterRowIndex:g,scrollTo:m,scrollToTop:_,scrollToRow:b}},R0=ne({name:Lre,props:Om,setup(t,{slots:n,expose:o}){const{ns:i}=it(C0),{bodyRef:l,fixedRowHeight:a,gridHeight:u,hasHeader:h,headerRef:p,headerHeight:f,totalHeight:g,forceUpdate:m,itemKey:_,onItemRendered:b,resetAfterRowIndex:T,scrollTo:$,scrollToTop:E,scrollToRow:y}=Are(t);o({forceUpdate:m,totalHeight:g,scrollTo:$,scrollToTop:E,scrollToRow:y,resetAfterRowIndex:T});const I=()=>t.bodyWidth;return()=>{const{cache:S,columns:C,data:R,fixedData:O,useIsScrolling:P,scrollbarAlwaysOn:M,scrollbarEndGap:H,scrollbarStartGap:F,style:B,rowHeight:K,bodyWidth:te,estimatedRowHeight:J,headerWidth:j,height:z,width:G,getRowHeight:W,onScroll:D}=t,X=gt(J),oe=X?$oe:poe,le=c(f);return ie("div",{role:"table",class:[i.e("table"),t.class],style:B},[ie(oe,{ref:l,data:R,useIsScrolling:P,itemKey:_,columnCache:0,columnWidth:X?I:te,totalColumn:1,totalRow:R.length,rowCache:S,rowHeight:X?W:K,width:G,height:c(u),class:i.e("body"),role:"rowgroup",scrollbarStartGap:F,scrollbarEndGap:H,scrollbarAlwaysOn:M,onScroll:D,onItemRendered:b,perfMode:!1},{default:me=>{var Se;const De=R[me.rowIndex];return(Se=n.row)==null?void 0:Se.call(n,{...me,columns:C,rowData:De})}}),c(h)&&ie(Cre,{ref:p,class:i.e("header-wrapper"),columns:C,headerData:R,headerHeight:t.headerHeight,fixedHeaderData:O,rowWidth:j,rowHeight:K,width:G,height:Math.min(le+c(a),z)},{dynamic:n.header,fixed:n.row})])}}});function Nre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const Mre=(t,{slots:n})=>{const{mainTableRef:o,...i}=t;return ie(R0,Vt({ref:o},i),Nre(n)?n:{default:()=>[n]})};function Dre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const Pre=(t,{slots:n})=>{if(!t.columns.length)return;const{leftTableRef:o,...i}=t;return ie(R0,Vt({ref:o},i),Dre(n)?n:{default:()=>[n]})};function xre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const Bre=(t,{slots:n})=>{if(!t.columns.length)return;const{rightTableRef:o,...i}=t;return ie(R0,Vt({ref:o},i),xre(n)?n:{default:()=>[n]})};function Fre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const Hre=(t,{slots:n})=>{const{columns:o,columnsStyles:i,depthMap:l,expandColumnKey:a,expandedRowKeys:u,estimatedRowHeight:h,hasFixedColumns:p,rowData:f,rowIndex:g,style:m,isScrolling:_,rowProps:b,rowClass:T,rowKey:$,rowEventHandlers:E,ns:y,onRowHovered:I,onRowExpanded:S}=t,C=Ua(T,{columns:o,rowData:f,rowIndex:g},""),R=Ua(b,{columns:o,rowData:f,rowIndex:g}),O=f[$],P=l[O]||0,M=!!a,H=g<0,F=[y.e("row"),C,{[y.e(`row-depth-${P}`)]:M&&g>=0,[y.is("expanded")]:M&&u.includes(O),[y.is("fixed")]:!P&&H,[y.is("customized")]:!!n.row}],B=p?I:void 0,K={...R,columns:o,columnsStyles:i,class:F,depth:P,expandColumnKey:a,estimatedRowHeight:H?void 0:h,isScrolling:_,rowIndex:g,rowData:f,rowKey:O,rowEventHandlers:E,style:m};return ie(kre,Vt(K,{onRowExpand:S,onMouseenter:j=>{B==null||B({hovered:!0,rowKey:O,event:j,rowData:f,rowIndex:g})},onMouseleave:j=>{B==null||B({hovered:!1,rowKey:O,event:j,rowData:f,rowIndex:g})},rowkey:O}),Fre(n)?n:{default:()=>[n]})},by=({columns:t,column:n,columnIndex:o,depth:i,expandIconProps:l,isScrolling:a,rowData:u,rowIndex:h,style:p,expandedRowKeys:f,ns:g,cellProps:m,expandColumnKey:_,indentSize:b,iconSize:T,rowKey:$},{slots:E})=>{const y=fl(p);if(n.placeholderSign===Uh)return ie("div",{class:g.em("row-cell","placeholder"),style:y},null);const{cellRenderer:I,dataKey:S,dataGetter:C}=n,R=vt(C)?C({columns:t,column:n,columnIndex:o,rowData:u,rowIndex:h}):xn(u,S??""),O=Ua(m,{cellData:R,columns:t,column:n,columnIndex:o,rowIndex:h,rowData:u}),P={class:g.e("cell-text"),columns:t,column:n,columnIndex:o,cellData:R,isScrolling:a,rowData:u,rowIndex:h},M=SP(I),H=M?M(P):Te(E,"default",P,()=>[ie(k0,P,null)]),F=[g.e("row-cell"),n.class,n.align===Vh.CENTER&&g.is("align-center"),n.align===Vh.RIGHT&&g.is("align-right")],B=h>=0&&_&&n.key===_,K=h>=0&&f.includes(u[$]);let te;const J=`margin-inline-start: ${i*b}px;`;return B&&(Pt(l)?te=ie(Rre,Vt(l,{class:[g.e("expand-icon"),g.is("expanded",K)],size:T,expanded:K,style:J,expandable:!0}),null):te=ie("div",{style:[J,`width: ${T}px; height: ${T}px;`].join(" ")},null)),ie("div",Vt({class:F,style:y},O,{role:"cell"}),[te,H])};by.inheritAttrs=!1;function Vre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const Ure=({columns:t,columnsStyles:n,headerIndex:o,style:i,headerClass:l,headerProps:a,ns:u},{slots:h})=>{const p={columns:t,headerIndex:o},f=[u.e("header-row"),Ua(l,p,""),{[u.is("customized")]:!!h.header}],g={...Ua(a,p),columnsStyles:n,class:f,columns:t,headerIndex:o,style:i};return ie(Ere,g,Vre(h)?h:{default:()=>[h]})},SL=(t,{slots:n})=>{const{column:o,ns:i,style:l,onColumnSorted:a}=t,u=fl(l);if(o.placeholderSign===Uh)return ie("div",{class:i.em("header-row-cell","placeholder"),style:u},null);const{headerCellRenderer:h,headerClass:p,sortable:f}=o,g={...t,class:i.e("header-cell-text")},m=SP(h),_=m?m(g):Te(n,"default",g,()=>[ie(O0,g,null)]),{sortBy:b,sortState:T,headerCellProps:$}=t;let E,y;if(T){const C=T[o.key];E=!!_y[C],y=E?C:Hh.ASC}else E=o.key===b.key,y=E?b.order:Hh.ASC;const I=[i.e("header-cell"),Ua(p,t,""),o.align===Vh.CENTER&&i.is("align-center"),o.align===Vh.RIGHT&&i.is("align-right"),f&&i.is("sortable")],S={...Ua($,t),onClick:o.sortable?a:void 0,class:I,style:u,"data-key":o.key};return ie("div",Vt(S,{role:"columnheader"}),[_,f&&ie(Ore,{class:[i.e("sort-icon"),E&&i.is("sorting")],sortOrder:y},null)])},kP=(t,{slots:n})=>{var o;return ie("div",{class:t.class,style:t.style},[(o=n.default)==null?void 0:o.call(n)])};kP.displayName="ElTableV2Footer";const OP=(t,{slots:n})=>{const o=Te(n,"default",{},()=>[ie(AD,null,null)]);return ie("div",{class:t.class,style:t.style},[o])};OP.displayName="ElTableV2Empty";const RP=(t,{slots:n})=>{var o;return ie("div",{class:t.class,style:t.style},[(o=n.default)==null?void 0:o.call(n)])};RP.displayName="ElTableV2Overlay";function Yd(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Cn(t)}const Gre="ElTableV2",Wre=ne({name:Gre,props:Tre,setup(t,{slots:n,expose:o}){const i=Pe("table-v2"),{columnsStyles:l,fixedColumnsOnLeft:a,fixedColumnsOnRight:u,mainColumns:h,mainTableHeight:p,fixedTableHeight:f,leftTableWidth:g,rightTableWidth:m,data:_,depthMap:b,expandedRowKeys:T,hasFixedColumns:$,mainTableRef:E,leftTableRef:y,rightTableRef:I,isDynamic:S,isResetting:C,isScrolling:R,bodyWidth:O,emptyStyle:P,rootStyle:M,headerWidth:H,footerHeight:F,showEmpty:B,scrollTo:K,scrollToLeft:te,scrollToTop:J,scrollToRow:j,getRowHeight:z,onColumnSorted:G,onRowHeightChange:W,onRowHovered:D,onRowExpanded:X,onRowsRendered:oe,onScroll:le,onVerticalScroll:me}=_re(t);return o({scrollTo:K,scrollToLeft:te,scrollToTop:J,scrollToRow:j}),Gt(C0,{ns:i,isResetting:C,isScrolling:R}),()=>{const{cache:Se,cellProps:De,estimatedRowHeight:ce,expandColumnKey:ye,fixedData:_e,headerHeight:Ke,headerClass:ve,headerProps:Ae,headerCellProps:Fe,sortBy:ae,sortState:de,rowHeight:Re,rowClass:Be,rowEventHandlers:Ee,rowKey:Ne,rowProps:He,scrollbarAlwaysOn:ue,indentSize:Ie,iconSize:ke,useIsScrolling:Ue,vScrollbarSize:ot,width:q}=t,Qe=c(_),lt={cache:Se,class:i.e("main"),columns:c(h),data:Qe,fixedData:_e,estimatedRowHeight:ce,bodyWidth:c(O)+ot,headerHeight:Ke,headerWidth:c(H),height:c(p),mainTableRef:E,rowKey:Ne,rowHeight:Re,scrollbarAlwaysOn:ue,scrollbarStartGap:2,scrollbarEndGap:ot,useIsScrolling:Ue,width:q,getRowHeight:z,onRowsRendered:oe,onScroll:le},bt=c(g),Tt=c(f),st={cache:Se,class:i.e("left"),columns:c(a),data:Qe,estimatedRowHeight:ce,leftTableRef:y,rowHeight:Re,bodyWidth:bt,headerWidth:bt,headerHeight:Ke,height:Tt,rowKey:Ne,scrollbarAlwaysOn:ue,scrollbarStartGap:2,scrollbarEndGap:ot,useIsScrolling:Ue,width:bt,getRowHeight:z,onScroll:me},Ye=c(m)+ot,L={cache:Se,class:i.e("right"),columns:c(u),data:Qe,estimatedRowHeight:ce,rightTableRef:I,rowHeight:Re,bodyWidth:Ye,headerWidth:Ye,headerHeight:Ke,height:Tt,rowKey:Ne,scrollbarAlwaysOn:ue,scrollbarStartGap:2,scrollbarEndGap:ot,width:Ye,style:`--${c(i.namespace)}-table-scrollbar-size: ${ot}px`,useIsScrolling:Ue,getRowHeight:z,onScroll:me},x=c(l),ee={ns:i,depthMap:c(b),columnsStyles:x,expandColumnKey:ye,expandedRowKeys:c(T),estimatedRowHeight:ce,hasFixedColumns:c($),rowProps:He,rowClass:Be,rowKey:Ne,rowEventHandlers:Ee,onRowHovered:D,onRowExpanded:X,onRowHeightChange:W},pe={cellProps:De,expandColumnKey:ye,indentSize:Ie,iconSize:ke,rowKey:Ne,expandedRowKeys:c(T),ns:i},re={ns:i,headerClass:ve,headerProps:Ae,columnsStyles:x},je={ns:i,sortBy:ae,sortState:de,headerCellProps:Fe,onColumnSorted:G},Et={row:Ce=>ie(Hre,Vt(Ce,ee),{row:n.row,cell:we=>{let et;return n.cell?ie(by,Vt(we,pe,{style:x[we.column.key]}),Yd(et=n.cell(we))?et:{default:()=>[et]}):ie(by,Vt(we,pe,{style:x[we.column.key]}),null)}}),header:Ce=>ie(Ure,Vt(Ce,re),{header:n.header,cell:we=>{let et;return n["header-cell"]?ie(SL,Vt(we,je,{style:x[we.column.key]}),Yd(et=n["header-cell"](we))?et:{default:()=>[et]}):ie(SL,Vt(we,je,{style:x[we.column.key]}),null)}})},U=[t.class,i.b(),i.e("root"),{[i.is("dynamic")]:c(S)}],se={class:i.e("footer"),style:c(F)};return ie("div",{class:U,style:c(M)},[ie(Mre,lt,Yd(Et)?Et:{default:()=>[Et]}),ie(Pre,st,Yd(Et)?Et:{default:()=>[Et]}),ie(Bre,L,Yd(Et)?Et:{default:()=>[Et]}),n.footer&&ie(kP,se,{default:n.footer}),c(B)&&ie(OP,{class:i.e("empty"),style:c(P)},{default:n.empty}),n.overlay&&ie(RP,{class:i.e("overlay")},{default:n.overlay})])}}}),zre=Ve({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:fe(Function)}}),Kre=ne({name:"ElAutoResizer",props:zre,setup(t,{slots:n}){const o=Pe("auto-resizer"),{height:i,width:l,sizer:a}=vre(t),u={width:"100%",height:"100%"};return()=>{var h;return ie("div",{ref:a,class:o.b(),style:u},[(h=n.default)==null?void 0:h.call(n,{height:i.value,width:l.value})])}}}),Xre=Mt(Wre),Yre=Mt(Kre),Xg=Symbol("tabsRootContextKey"),jre=Ve({tabs:{type:fe(Array),default:()=>kn([])}}),LP="ElTabBar",qre=ne({name:LP}),Jre=ne({...qre,props:jre,setup(t,{expose:n}){const o=t,i=Nt(),l=it(Xg);l||qn(LP,"<el-tabs><el-tab-bar /></el-tabs>");const a=Pe("tabs"),u=V(),h=V(),p=()=>{let g=0,m=0;const _=["top","bottom"].includes(l.props.tabPosition)?"width":"height",b=_==="width"?"x":"y",T=b==="x"?"left":"top";return o.tabs.every($=>{var E,y;const I=(y=(E=i.parent)==null?void 0:E.refs)==null?void 0:y[`tab-${$.uid}`];if(!I)return!1;if(!$.active)return!0;g=I[`offset${Pi(T)}`],m=I[`client${Pi(_)}`];const S=window.getComputedStyle(I);return _==="width"&&(o.tabs.length>1&&(m-=Number.parseFloat(S.paddingLeft)+Number.parseFloat(S.paddingRight)),g+=Number.parseFloat(S.paddingLeft)),!1}),{[_]:`${m}px`,transform:`translate${Pi(b)}(${g}px)`}},f=()=>h.value=p();return Me(()=>o.tabs,async()=>{await pt(),f()},{immediate:!0}),wn(u,()=>f()),n({ref:u,update:f}),(g,m)=>(A(),Y("div",{ref_key:"barRef",ref:u,class:N([c(a).e("active-bar"),c(a).is(c(l).props.tabPosition)]),style:ct(h.value)},null,6))}});var Zre=Ge(Jre,[["__file","tab-bar.vue"]]);const Qre=Ve({panes:{type:fe(Array),default:()=>kn([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ele={tabClick:(t,n,o)=>o instanceof Event,tabRemove:(t,n)=>n instanceof Event},CL="ElTabNav",tle=ne({name:CL,props:Qre,emits:ele,setup(t,{expose:n,emit:o}){const i=Nt(),l=it(Xg);l||qn(CL,"<el-tabs><tab-nav /></el-tabs>");const a=Pe("tabs"),u=nH(),h=fH(),p=V(),f=V(),g=V(),m=V(),_=V(!1),b=V(0),T=V(!1),$=V(!0),E=w(()=>["top","bottom"].includes(l.props.tabPosition)?"width":"height"),y=w(()=>({transform:`translate${E.value==="width"?"X":"Y"}(-${b.value}px)`})),I=()=>{if(!p.value)return;const H=p.value[`offset${Pi(E.value)}`],F=b.value;if(!F)return;const B=F>H?F-H:0;b.value=B},S=()=>{if(!p.value||!f.value)return;const H=f.value[`offset${Pi(E.value)}`],F=p.value[`offset${Pi(E.value)}`],B=b.value;if(H-B<=F)return;const K=H-B>F*2?B+F:H-F;b.value=K},C=async()=>{const H=f.value;if(!_.value||!g.value||!p.value||!H)return;await pt();const F=g.value.querySelector(".is-active");if(!F)return;const B=p.value,K=["top","bottom"].includes(l.props.tabPosition),te=F.getBoundingClientRect(),J=B.getBoundingClientRect(),j=K?H.offsetWidth-J.width:H.offsetHeight-J.height,z=b.value;let G=z;K?(te.left<J.left&&(G=z-(J.left-te.left)),te.right>J.right&&(G=z+te.right-J.right)):(te.top<J.top&&(G=z-(J.top-te.top)),te.bottom>J.bottom&&(G=z+(te.bottom-J.bottom))),G=Math.max(G,0),b.value=Math.min(G,j)},R=()=>{var H;if(!f.value||!p.value)return;t.stretch&&((H=m.value)==null||H.update());const F=f.value[`offset${Pi(E.value)}`],B=p.value[`offset${Pi(E.value)}`],K=b.value;B<F?(_.value=_.value||{},_.value.prev=K,_.value.next=K+B<F,F-K<B&&(b.value=F-B)):(_.value=!1,K>0&&(b.value=0))},O=H=>{const F=H.code,{up:B,down:K,left:te,right:J}=mt;if(![B,K,te,J].includes(F))return;const j=Array.from(H.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),z=j.indexOf(H.target);let G;F===te||F===B?z===0?G=j.length-1:G=z-1:z<j.length-1?G=z+1:G=0,j[G].focus({preventScroll:!0}),j[G].click(),P()},P=()=>{$.value&&(T.value=!0)},M=()=>T.value=!1;return Me(u,H=>{H==="hidden"?$.value=!1:H==="visible"&&setTimeout(()=>$.value=!0,50)}),Me(h,H=>{H?setTimeout(()=>$.value=!0,50):$.value=!1}),wn(g,R),Rt(()=>setTimeout(()=>C(),0)),Rr(()=>R()),n({scrollToActiveTab:C,removeFocus:M}),Me(()=>t.panes,()=>i.update(),{flush:"post",deep:!0}),()=>{const H=_.value?[ie("span",{class:[a.e("nav-prev"),a.is("disabled",!_.value.prev)],onClick:I},[ie(at,null,{default:()=>[ie(Sl,null,null)]})]),ie("span",{class:[a.e("nav-next"),a.is("disabled",!_.value.next)],onClick:S},[ie(at,null,{default:()=>[ie(Yo,null,null)]})])]:null,F=t.panes.map((B,K)=>{var te,J,j,z;const G=B.uid,W=B.props.disabled,D=(J=(te=B.props.name)!=null?te:B.index)!=null?J:`${K}`,X=!W&&(B.isClosable||t.editable);B.index=`${K}`;const oe=X?ie(at,{class:"is-icon-close",onClick:Se=>o("tabRemove",B,Se)},{default:()=>[ie(hi,null,null)]}):null,le=((z=(j=B.slots).label)==null?void 0:z.call(j))||B.props.label,me=!W&&B.active?0:-1;return ie("div",{ref:`tab-${G}`,class:[a.e("item"),a.is(l.props.tabPosition),a.is("active",B.active),a.is("disabled",W),a.is("closable",X),a.is("focus",T.value)],id:`tab-${D}`,key:`tab-${G}`,"aria-controls":`pane-${D}`,role:"tab","aria-selected":B.active,tabindex:me,onFocus:()=>P(),onBlur:()=>M(),onClick:Se=>{M(),o("tabClick",B,D,Se)},onKeydown:Se=>{X&&(Se.code===mt.delete||Se.code===mt.backspace)&&o("tabRemove",B,Se)}},[le,oe])});return ie("div",{ref:g,class:[a.e("nav-wrap"),a.is("scrollable",!!_.value),a.is(l.props.tabPosition)]},[H,ie("div",{class:a.e("nav-scroll"),ref:p},[ie("div",{class:[a.e("nav"),a.is(l.props.tabPosition),a.is("stretch",t.stretch&&["top","bottom"].includes(l.props.tabPosition))],ref:f,style:y.value,role:"tablist",onKeydown:O},[t.type?null:ie(Zre,{ref:m,tabs:[...t.panes]},null),F])])])}}}),nle=Ve({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:fe(Function),default:()=>!0},stretch:Boolean}),iT=t=>yt(t)||gt(t),ole={[Bt]:t=>iT(t),tabClick:(t,n)=>n instanceof Event,tabChange:t=>iT(t),edit:(t,n)=>["remove","add"].includes(n),tabRemove:t=>iT(t),tabAdd:()=>!0},sle=ne({name:"ElTabs",props:nle,emits:ole,setup(t,{emit:n,slots:o,expose:i}){var l;const a=Pe("tabs"),{children:u,addChild:h,removeChild:p}=JE(Nt(),"ElTabPane"),f=V(),g=V((l=t.modelValue)!=null?l:"0"),m=async($,E=!1)=>{var y,I,S;if(!(g.value===$||Hn($)))try{await((y=t.beforeLeave)==null?void 0:y.call(t,$,g.value))!==!1&&(g.value=$,E&&(n(Bt,$),n("tabChange",$)),(S=(I=f.value)==null?void 0:I.removeFocus)==null||S.call(I))}catch{}},_=($,E,y)=>{$.props.disabled||(m(E,!0),n("tabClick",$,y))},b=($,E)=>{$.props.disabled||Hn($.props.name)||(E.stopPropagation(),n("edit",$.props.name,"remove"),n("tabRemove",$.props.name))},T=()=>{n("edit",void 0,"add"),n("tabAdd")};return Me(()=>t.modelValue,$=>m($)),Me(g,async()=>{var $;await pt(),($=f.value)==null||$.scrollToActiveTab()}),Gt(Xg,{props:t,currentName:g,registerPane:h,unregisterPane:p}),i({currentName:g}),()=>{const $=o["add-icon"],E=t.editable||t.addable?ie("span",{class:a.e("new-tab"),tabindex:"0",onClick:T,onKeydown:S=>{S.code===mt.enter&&T()}},[$?Te(o,"add-icon"):ie(at,{class:a.is("icon-plus")},{default:()=>[ie(r1,null,null)]})]):null,y=ie("div",{class:[a.e("header"),a.is(t.tabPosition)]},[E,ie(tle,{ref:f,currentName:g.value,editable:t.editable,type:t.type,panes:u.value,stretch:t.stretch,onTabClick:_,onTabRemove:b},null)]),I=ie("div",{class:a.e("content")},[Te(o,"default")]);return ie("div",{class:[a.b(),a.m(t.tabPosition),{[a.m("card")]:t.type==="card",[a.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[y,I]:[I,y]])}}}),ile=Ve({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),rle=["id","aria-hidden","aria-labelledby"],AP="ElTabPane",lle=ne({name:AP}),ale=ne({...lle,props:ile,setup(t){const n=t,o=Nt(),i=uo(),l=it(Xg);l||qn(AP,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=Pe("tab-pane"),u=V(),h=w(()=>n.closable||l.props.closable),p=tO(()=>{var b;return l.currentName.value===((b=n.name)!=null?b:u.value)}),f=V(p.value),g=w(()=>{var b;return(b=n.name)!=null?b:u.value}),m=tO(()=>!n.lazy||f.value||p.value);Me(p,b=>{b&&(f.value=!0)});const _=en({uid:o.uid,slots:i,props:n,paneName:g,active:p,index:u,isClosable:h});return Rt(()=>{l.registerPane(_)}),Rl(()=>{l.unregisterPane(_.uid)}),(b,T)=>c(m)?Ot((A(),Y("div",{key:0,id:`pane-${c(g)}`,class:N(c(a).b()),role:"tabpanel","aria-hidden":!c(p),"aria-labelledby":`tab-${c(g)}`},[Te(b.$slots,"default")],10,rle)),[[qt,c(p)]]):$e("v-if",!0)}});var NP=Ge(ale,[["__file","tab-pane.vue"]]);const ule=Mt(sle,{TabPane:NP}),cle=On(NP),dle=Ve({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Ki,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),hle=ne({name:"ElText"}),ple=ne({...hle,props:dle,setup(t){const n=t,o=Xn(),i=Pe("text"),l=w(()=>[i.b(),i.m(n.type),i.m(o.value),i.is("truncated",n.truncated),i.is("line-clamp",!Hn(n.lineClamp))]);return(a,u)=>(A(),be(Ft(a.tag),{class:N(c(l)),style:ct({"-webkit-line-clamp":a.lineClamp})},{default:he(()=>[Te(a.$slots,"default")]),_:3},8,["class","style"]))}});var fle=Ge(ple,[["__file","text.vue"]]);const mle=Mt(fle),gle=Ve({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Jn,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:fe([String,Object]),default:()=>i1},clearIcon:{type:fe([String,Object]),default:()=>Al},...Gc}),br=t=>{const n=(t||"").split(":");if(n.length>=2){let o=Number.parseInt(n[0],10);const i=Number.parseInt(n[1],10),l=t.toUpperCase();return l.includes("AM")&&o===12?o=0:l.includes("PM")&&o!==12&&(o+=12),{hours:o,minutes:i}}return null},rT=(t,n)=>{const o=br(t);if(!o)return-1;const i=br(n);if(!i)return-1;const l=o.minutes+o.hours*60,a=i.minutes+i.hours*60;return l===a?0:l>a?1:-1},IL=t=>`${t}`.padStart(2,"0"),Ju=t=>`${IL(t.hours)}:${IL(t.minutes)}`,$le=(t,n)=>{const o=br(t);if(!o)return"";const i=br(n);if(!i)return"";const l={hours:o.hours,minutes:o.minutes};return l.minutes+=i.minutes,l.hours+=i.hours,l.hours+=Math.floor(l.minutes/60),l.minutes=l.minutes%60,Ju(l)},vle=ne({name:"ElTimeSelect"}),_le=ne({...vle,props:gle,emits:["change","blur","focus","update:modelValue"],setup(t,{expose:n}){const o=t;Dt.extend(s0);const{Option:i}=Va,l=Pe("input"),a=V(),u=Qo(),{lang:h}=jt(),p=w(()=>o.modelValue),f=w(()=>{const y=br(o.start);return y?Ju(y):null}),g=w(()=>{const y=br(o.end);return y?Ju(y):null}),m=w(()=>{const y=br(o.step);return y?Ju(y):null}),_=w(()=>{const y=br(o.minTime||"");return y?Ju(y):null}),b=w(()=>{const y=br(o.maxTime||"");return y?Ju(y):null}),T=w(()=>{const y=[];if(o.start&&o.end&&o.step){let I=f.value,S;for(;I&&g.value&&rT(I,g.value)<=0;)S=Dt(I,"HH:mm").locale(h.value).format(o.format),y.push({value:S,disabled:rT(I,_.value||"-1:-1")<=0||rT(I,b.value||"100:100")>=0}),I=$le(I,m.value)}return y});return n({blur:()=>{var y,I;(I=(y=a.value)==null?void 0:y.blur)==null||I.call(y)},focus:()=>{var y,I;(I=(y=a.value)==null?void 0:y.focus)==null||I.call(y)}}),(y,I)=>(A(),be(c(Va),{ref_key:"select",ref:a,"model-value":c(p),disabled:c(u),clearable:y.clearable,"clear-icon":y.clearIcon,size:y.size,effect:y.effect,placeholder:y.placeholder,"default-first-option":"",filterable:y.editable,"empty-values":y.emptyValues,"value-on-clear":y.valueOnClear,"onUpdate:modelValue":I[0]||(I[0]=S=>y.$emit("update:modelValue",S)),onChange:I[1]||(I[1]=S=>y.$emit("change",S)),onBlur:I[2]||(I[2]=S=>y.$emit("blur",S)),onFocus:I[3]||(I[3]=S=>y.$emit("focus",S))},{prefix:he(()=>[y.prefixIcon?(A(),be(c(at),{key:0,class:N(c(l).e("prefix-icon"))},{default:he(()=>[(A(),be(Ft(y.prefixIcon)))]),_:1},8,["class"])):$e("v-if",!0)]),default:he(()=>[(A(!0),Y(dt,null,Kt(c(T),S=>(A(),be(c(i),{key:S.value,label:S.value,value:S.value,disabled:S.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear"]))}});var Rm=Ge(_le,[["__file","time-select.vue"]]);Rm.install=t=>{t.component(Rm.name,Rm)};const ble=Rm,Tle=ble,yle=ne({name:"ElTimeline",setup(t,{slots:n}){const o=Pe("timeline");return Gt("timeline",n),()=>ft("ul",{class:[o.b()]},[Te(n,"default")])}}),Ele=Ve({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:an},hollow:{type:Boolean,default:!1}}),Sle=ne({name:"ElTimelineItem"}),Cle=ne({...Sle,props:Ele,setup(t){const n=t,o=Pe("timeline-item"),i=w(()=>[o.e("node"),o.em("node",n.size||""),o.em("node",n.type||""),o.is("hollow",n.hollow)]);return(l,a)=>(A(),Y("li",{class:N([c(o).b(),{[c(o).e("center")]:l.center}])},[Q("div",{class:N(c(o).e("tail"))},null,2),l.$slots.dot?$e("v-if",!0):(A(),Y("div",{key:0,class:N(c(i)),style:ct({backgroundColor:l.color})},[l.icon?(A(),be(c(at),{key:0,class:N(c(o).e("icon"))},{default:he(()=>[(A(),be(Ft(l.icon)))]),_:1},8,["class"])):$e("v-if",!0)],6)),l.$slots.dot?(A(),Y("div",{key:1,class:N(c(o).e("dot"))},[Te(l.$slots,"dot")],2)):$e("v-if",!0),Q("div",{class:N(c(o).e("wrapper"))},[!l.hideTimestamp&&l.placement==="top"?(A(),Y("div",{key:0,class:N([c(o).e("timestamp"),c(o).is("top")])},We(l.timestamp),3)):$e("v-if",!0),Q("div",{class:N(c(o).e("content"))},[Te(l.$slots,"default")],2),!l.hideTimestamp&&l.placement==="bottom"?(A(),Y("div",{key:1,class:N([c(o).e("timestamp"),c(o).is("bottom")])},We(l.timestamp),3)):$e("v-if",!0)],2)],2))}});var MP=Ge(Cle,[["__file","timeline-item.vue"]]);const Ile=Mt(yle,{TimelineItem:MP}),wle=On(MP),DP=Ve({nowrap:Boolean});var PP=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(PP||{});const kle=Object.values(PP),L0=Ve({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:fe(Object),default:null}}),Ole=Ve({side:{type:fe(String),values:kle,required:!0}}),Rle=["absolute","fixed"],Lle=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],A0=Ve({arrowPadding:{type:fe(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:fe(String),values:Lle,default:"bottom"},reference:{type:fe(Object),default:null},offset:{type:Number,default:8},strategy:{type:fe(String),values:Rle,default:"absolute"},showArrow:{type:Boolean,default:!1},...go(["ariaLabel"])}),N0=Ve({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:fe(Function)},"onUpdate:open":{type:fe(Function)}}),Xu={type:fe(Function)},M0=Ve({onBlur:Xu,onClick:Xu,onFocus:Xu,onMouseDown:Xu,onMouseEnter:Xu,onMouseLeave:Xu}),Ale=Ve({...N0,...L0,...M0,...A0,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:fe(Object),default:null},teleported:Boolean,to:{type:fe(String),default:"body"}}),Yg=Symbol("tooltipV2"),xP=Symbol("tooltipV2Content"),lT="tooltip_v2.open",Nle=ne({name:"ElTooltipV2Root"}),Mle=ne({...Nle,props:N0,setup(t,{expose:n}){const o=t,i=V(o.defaultOpen),l=V(null),a=w({get:()=>xa(o.open)?i.value:o.open,set:E=>{var y;i.value=E,(y=o["onUpdate:open"])==null||y.call(o,E)}}),u=w(()=>gt(o.delayDuration)&&o.delayDuration>0),{start:h,stop:p}=Da(()=>{a.value=!0},w(()=>o.delayDuration),{immediate:!1}),f=Pe("tooltip-v2"),g=Io(),m=()=>{p(),a.value=!0},_=()=>{c(u)?h():m()},b=m,T=()=>{p(),a.value=!1};return Me(a,E=>{var y;E&&(document.dispatchEvent(new CustomEvent(lT)),b()),(y=o.onOpenChange)==null||y.call(o,E)}),Rt(()=>{document.addEventListener(lT,T)}),mn(()=>{p(),document.removeEventListener(lT,T)}),Gt(Yg,{contentId:g,triggerRef:l,ns:f,onClose:T,onDelayOpen:_,onOpen:b}),n({onOpen:b,onClose:T}),(E,y)=>Te(E.$slots,"default",{open:c(a)})}});var Dle=Ge(Mle,[["__file","root.vue"]]);const Ple=ne({name:"ElTooltipV2Arrow"}),xle=ne({...Ple,props:{...L0,...Ole},setup(t){const n=t,{ns:o}=it(Yg),{arrowRef:i}=it(xP),l=w(()=>{const{style:a,width:u,height:h}=n,p=o.namespace.value;return{[`--${p}-tooltip-v2-arrow-width`]:`${u}px`,[`--${p}-tooltip-v2-arrow-height`]:`${h}px`,[`--${p}-tooltip-v2-arrow-border-width`]:`${u/2}px`,[`--${p}-tooltip-v2-arrow-cover-width`]:u/2-1,...a||{}}});return(a,u)=>(A(),Y("span",{ref_key:"arrowRef",ref:i,style:ct(c(l)),class:N(c(o).e("arrow"))},null,6))}});var wL=Ge(xle,[["__file","arrow.vue"]]);const Ble=Ve({style:{type:fe([String,Object,Array]),default:()=>({})}}),Fle=ne({name:"ElVisuallyHidden"}),Hle=ne({...Fle,props:Ble,setup(t){const n=t,o=w(()=>[n.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(i,l)=>(A(),Y("span",Vt(i.$attrs,{style:c(o)}),[Te(i.$slots,"default")],16))}});var Vle=Ge(Hle,[["__file","visual-hidden.vue"]]);const Ule=["data-side"],Gle=ne({name:"ElTooltipV2Content"}),Wle=ne({...Gle,props:{...A0,...DP},setup(t){const n=t,{triggerRef:o,contentId:i}=it(Yg),l=V(n.placement),a=V(n.strategy),u=V(null),{referenceRef:h,contentRef:p,middlewareData:f,x:g,y:m,update:_}=g6({placement:l,strategy:a,middleware:w(()=>{const S=[U1(n.offset)];return n.showArrow&&S.push($6({arrowRef:u})),S})}),b=Vc().nextZIndex(),T=Pe("tooltip-v2"),$=w(()=>l.value.split("-")[0]),E=w(()=>({position:c(a),top:`${c(m)||0}px`,left:`${c(g)||0}px`,zIndex:b})),y=w(()=>{if(!n.showArrow)return{};const{arrow:S}=c(f);return{[`--${T.namespace.value}-tooltip-v2-arrow-x`]:`${S==null?void 0:S.x}px`||"",[`--${T.namespace.value}-tooltip-v2-arrow-y`]:`${S==null?void 0:S.y}px`||""}}),I=w(()=>[T.e("content"),T.is("dark",n.effect==="dark"),T.is(c(a)),n.contentClass]);return Me(u,()=>_()),Me(()=>n.placement,S=>l.value=S),Rt(()=>{Me(()=>n.reference||o.value,S=>{h.value=S||void 0},{immediate:!0})}),Gt(xP,{arrowRef:u}),(S,C)=>(A(),Y("div",{ref_key:"contentRef",ref:p,style:ct(c(E)),"data-tooltip-v2-root":""},[S.nowrap?$e("v-if",!0):(A(),Y("div",{key:0,"data-side":c($),class:N(c(I))},[Te(S.$slots,"default",{contentStyle:c(E),contentClass:c(I)}),ie(c(Vle),{id:c(i),role:"tooltip"},{default:he(()=>[S.ariaLabel?(A(),Y(dt,{key:0},[zt(We(S.ariaLabel),1)],64)):Te(S.$slots,"default",{key:1})]),_:3},8,["id"]),Te(S.$slots,"arrow",{style:ct(c(y)),side:c($)})],10,Ule))],4))}});var kL=Ge(Wle,[["__file","content.vue"]]);const zle=Ve({setRef:{type:fe(Function),required:!0},onlyChild:Boolean});var Kle=ne({props:zle,setup(t,{slots:n}){const o=V(),i=Ng(o,l=>{l?t.setRef(l.nextElementSibling):t.setRef(null)});return()=>{var l;const[a]=((l=n.default)==null?void 0:l.call(n))||[],u=t.onlyChild?dz(a.children):a.children;return ie(dt,{ref:i},[u])}}});const Xle=ne({name:"ElTooltipV2Trigger"}),Yle=ne({...Xle,props:{...DP,...M0},setup(t){const n=t,{onClose:o,onOpen:i,onDelayOpen:l,triggerRef:a,contentId:u}=it(Yg);let h=!1;const p=I=>{a.value=I},f=()=>{h=!1},g=Nn(n.onMouseEnter,l),m=Nn(n.onMouseLeave,o),_=Nn(n.onMouseDown,()=>{o(),h=!0,document.addEventListener("mouseup",f,{once:!0})}),b=Nn(n.onFocus,()=>{h||i()}),T=Nn(n.onBlur,o),$=Nn(n.onClick,I=>{I.detail===0&&o()}),E={blur:T,click:$,focus:b,mousedown:_,mouseenter:g,mouseleave:m},y=(I,S,C)=>{I&&Object.entries(S).forEach(([R,O])=>{I[C](R,O)})};return Me(a,(I,S)=>{y(I,E,"addEventListener"),y(S,E,"removeEventListener"),I&&I.setAttribute("aria-describedby",u.value)}),mn(()=>{y(a.value,E,"removeEventListener"),document.removeEventListener("mouseup",f)}),(I,S)=>I.nowrap?(A(),be(c(Kle),{key:0,"set-ref":p,"only-child":""},{default:he(()=>[Te(I.$slots,"default")]),_:3})):(A(),Y("button",Vt({key:1,ref_key:"triggerRef",ref:a},I.$attrs),[Te(I.$slots,"default")],16))}});var jle=Ge(Yle,[["__file","trigger.vue"]]);const qle=ne({name:"ElTooltipV2"}),Jle=ne({...qle,props:Ale,setup(t){const o=mo(t),i=en(xi(o,Object.keys(L0))),l=en(xi(o,Object.keys(A0))),a=en(xi(o,Object.keys(N0))),u=en(xi(o,Object.keys(M0)));return(h,p)=>(A(),be(Dle,Tr(fc(a)),{default:he(({open:f})=>[ie(jle,Vt(u,{nowrap:""}),{default:he(()=>[Te(h.$slots,"trigger")]),_:3},16),(A(),be(Dc,{to:h.to,disabled:!h.teleported},[h.fullTransition?(A(),be(jn,Tr(Vt({key:0},h.transitionProps)),{default:he(()=>[h.alwaysOn||f?(A(),be(kL,Tr(Vt({key:0},l)),{arrow:he(({style:g,side:m})=>[h.showArrow?(A(),be(wL,Vt({key:0},i,{style:g,side:m}),null,16,["style","side"])):$e("v-if",!0)]),default:he(()=>[Te(h.$slots,"default")]),_:3},16)):$e("v-if",!0)]),_:2},1040)):(A(),Y(dt,{key:1},[h.alwaysOn||f?(A(),be(kL,Tr(Vt({key:0},l)),{arrow:he(({style:g,side:m})=>[h.showArrow?(A(),be(wL,Vt({key:0},i,{style:g,side:m}),null,16,["style","side"])):$e("v-if",!0)]),default:he(()=>[Te(h.$slots,"default")]),_:3},16)):$e("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var Zle=Ge(Jle,[["__file","tooltip.vue"]]);const Qle=Mt(Zle),BP="left-check-change",FP="right-check-change",Zu=Ve({data:{type:fe(Array),default:()=>[]},titles:{type:fe(Array),default:()=>[]},buttonTexts:{type:fe(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:fe(Function)},leftDefaultChecked:{type:fe(Array),default:()=>[]},rightDefaultChecked:{type:fe(Array),default:()=>[]},renderContent:{type:fe(Function)},modelValue:{type:fe(Array),default:()=>[]},format:{type:fe(Object),default:()=>({})},filterable:Boolean,props:{type:fe(Object),default:()=>kn({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),Ty=(t,n)=>[t,n].every(tt)||tt(t)&&ro(n),eae={[vn]:(t,n,o)=>[t,o].every(tt)&&["left","right"].includes(n),[Bt]:t=>tt(t),[BP]:Ty,[FP]:Ty},yy="checked-change",tae=Ve({data:Zu.data,optionRender:{type:fe(Function)},placeholder:String,title:String,filterable:Boolean,format:Zu.format,filterMethod:Zu.filterMethod,defaultChecked:Zu.leftDefaultChecked,props:Zu.props}),nae={[yy]:Ty},ap=t=>{const n={label:"label",key:"key",disabled:"disabled"};return w(()=>({...n,...t.props}))},oae=(t,n,o)=>{const i=ap(t),l=w(()=>t.data.filter(g=>vt(t.filterMethod)?t.filterMethod(n.query,g):String(g[i.value.label]||g[i.value.key]).toLowerCase().includes(n.query.toLowerCase()))),a=w(()=>l.value.filter(g=>!g[i.value.disabled])),u=w(()=>{const g=n.checked.length,m=t.data.length,{noChecked:_,hasChecked:b}=t.format;return _&&b?g>0?b.replace(/\${checked}/g,g.toString()).replace(/\${total}/g,m.toString()):_.replace(/\${total}/g,m.toString()):`${g}/${m}`}),h=w(()=>{const g=n.checked.length;return g>0&&g<a.value.length}),p=()=>{const g=a.value.map(m=>m[i.value.key]);n.allChecked=g.length>0&&g.every(m=>n.checked.includes(m))},f=g=>{n.checked=g?a.value.map(m=>m[i.value.key]):[]};return Me(()=>n.checked,(g,m)=>{if(p(),n.checkChangeByUser){const _=g.concat(m).filter(b=>!g.includes(b)||!m.includes(b));o(yy,g,_)}else o(yy,g),n.checkChangeByUser=!0}),Me(a,()=>{p()}),Me(()=>t.data,()=>{const g=[],m=l.value.map(_=>_[i.value.key]);n.checked.forEach(_=>{m.includes(_)&&g.push(_)}),n.checkChangeByUser=!1,n.checked=g}),Me(()=>t.defaultChecked,(g,m)=>{if(m&&g.length===m.length&&g.every(T=>m.includes(T)))return;const _=[],b=a.value.map(T=>T[i.value.key]);g.forEach(T=>{b.includes(T)&&_.push(T)}),n.checkChangeByUser=!1,n.checked=_},{immediate:!0}),{filteredData:l,checkableData:a,checkedSummary:u,isIndeterminate:h,updateAllChecked:p,handleAllCheckedChange:f}},sae=(t,n)=>({onSourceCheckedChange:(l,a)=>{t.leftChecked=l,a&&n(BP,l,a)},onTargetCheckedChange:(l,a)=>{t.rightChecked=l,a&&n(FP,l,a)}}),iae=t=>{const n=ap(t),o=w(()=>t.data.reduce((a,u)=>(a[u[n.value.key]]=u)&&a,{})),i=w(()=>t.data.filter(a=>!t.modelValue.includes(a[n.value.key]))),l=w(()=>t.targetOrder==="original"?t.data.filter(a=>t.modelValue.includes(a[n.value.key])):t.modelValue.reduce((a,u)=>{const h=o.value[u];return h&&a.push(h),a},[]));return{sourceData:i,targetData:l}},rae=(t,n,o)=>{const i=ap(t),l=(h,p,f)=>{o(Bt,h),o(vn,h,p,f)};return{addToLeft:()=>{const h=t.modelValue.slice();n.rightChecked.forEach(p=>{const f=h.indexOf(p);f>-1&&h.splice(f,1)}),l(h,"left",n.rightChecked)},addToRight:()=>{let h=t.modelValue.slice();const p=t.data.filter(f=>{const g=f[i.value.key];return n.leftChecked.includes(g)&&!t.modelValue.includes(g)}).map(f=>f[i.value.key]);h=t.targetOrder==="unshift"?p.concat(h):h.concat(p),t.targetOrder==="original"&&(h=t.data.filter(f=>h.includes(f[i.value.key])).map(f=>f[i.value.key])),l(h,"right",n.leftChecked)}}},lae=ne({name:"ElTransferPanel"}),aae=ne({...lae,props:tae,emits:nae,setup(t,{expose:n,emit:o}){const i=t,l=uo(),a=({option:S})=>S,{t:u}=jt(),h=Pe("transfer"),p=en({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),f=ap(i),{filteredData:g,checkedSummary:m,isIndeterminate:_,handleAllCheckedChange:b}=oae(i,p,o),T=w(()=>!xs(p.query)&&xs(g.value)),$=w(()=>!xs(l.default()[0].children)),{checked:E,allChecked:y,query:I}=mo(p);return n({query:I}),(S,C)=>(A(),Y("div",{class:N(c(h).b("panel"))},[Q("p",{class:N(c(h).be("panel","header"))},[ie(c(Ys),{modelValue:c(y),"onUpdate:modelValue":C[0]||(C[0]=R=>Tn(y)?y.value=R:null),indeterminate:c(_),"validate-event":!1,onChange:c(b)},{default:he(()=>[zt(We(S.title)+" ",1),Q("span",null,We(c(m)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),Q("div",{class:N([c(h).be("panel","body"),c(h).is("with-footer",c($))])},[S.filterable?(A(),be(c(Do),{key:0,modelValue:c(I),"onUpdate:modelValue":C[1]||(C[1]=R=>Tn(I)?I.value=R:null),class:N(c(h).be("panel","filter")),size:"default",placeholder:S.placeholder,"prefix-icon":c(l1),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):$e("v-if",!0),Ot(ie(c(GM),{modelValue:c(E),"onUpdate:modelValue":C[2]||(C[2]=R=>Tn(E)?E.value=R:null),"validate-event":!1,class:N([c(h).is("filterable",S.filterable),c(h).be("panel","list")])},{default:he(()=>[(A(!0),Y(dt,null,Kt(c(g),R=>(A(),be(c(Ys),{key:R[c(f).key],class:N(c(h).be("panel","item")),value:R[c(f).key],disabled:R[c(f).disabled],"validate-event":!1},{default:he(()=>{var O;return[ie(a,{option:(O=S.optionRender)==null?void 0:O.call(S,R)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[qt,!c(T)&&!c(xs)(S.data)]]),Ot(Q("p",{class:N(c(h).be("panel","empty"))},We(c(T)?c(u)("el.transfer.noMatch"):c(u)("el.transfer.noData")),3),[[qt,c(T)||c(xs)(S.data)]])],2),c($)?(A(),Y("p",{key:0,class:N(c(h).be("panel","footer"))},[Te(S.$slots,"default")],2)):$e("v-if",!0)],2))}});var OL=Ge(aae,[["__file","transfer-panel.vue"]]);const uae={key:0},cae={key:0},dae=ne({name:"ElTransfer"}),hae=ne({...dae,props:Zu,emits:eae,setup(t,{expose:n,emit:o}){const i=t,l=uo(),{t:a}=jt(),u=Pe("transfer"),{formItem:h}=Fo(),p=en({leftChecked:[],rightChecked:[]}),f=ap(i),{sourceData:g,targetData:m}=iae(i),{onSourceCheckedChange:_,onTargetCheckedChange:b}=sae(p,o),{addToLeft:T,addToRight:$}=rae(i,p,o),E=V(),y=V(),I=M=>{switch(M){case"left":E.value.query="";break;case"right":y.value.query="";break}},S=w(()=>i.buttonTexts.length===2),C=w(()=>i.titles[0]||a("el.transfer.titles.0")),R=w(()=>i.titles[1]||a("el.transfer.titles.1")),O=w(()=>i.filterPlaceholder||a("el.transfer.filterPlaceholder"));Me(()=>i.modelValue,()=>{var M;i.validateEvent&&((M=h==null?void 0:h.validate)==null||M.call(h,"change").catch(H=>void 0))});const P=w(()=>M=>i.renderContent?i.renderContent(ft,M):l.default?l.default({option:M}):ft("span",M[f.value.label]||M[f.value.key]));return n({clearQuery:I,leftPanel:E,rightPanel:y}),(M,H)=>(A(),Y("div",{class:N(c(u).b())},[ie(OL,{ref_key:"leftPanel",ref:E,data:c(g),"option-render":c(P),placeholder:c(O),title:c(C),filterable:M.filterable,format:M.format,"filter-method":M.filterMethod,"default-checked":M.leftDefaultChecked,props:i.props,onCheckedChange:c(_)},{default:he(()=>[Te(M.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Q("div",{class:N(c(u).e("buttons"))},[ie(c(lo),{type:"primary",class:N([c(u).e("button"),c(u).is("with-texts",c(S))]),disabled:c(xs)(p.rightChecked),onClick:c(T)},{default:he(()=>[ie(c(at),null,{default:he(()=>[ie(c(Sl))]),_:1}),c(Hn)(M.buttonTexts[0])?$e("v-if",!0):(A(),Y("span",uae,We(M.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ie(c(lo),{type:"primary",class:N([c(u).e("button"),c(u).is("with-texts",c(S))]),disabled:c(xs)(p.leftChecked),onClick:c($)},{default:he(()=>[c(Hn)(M.buttonTexts[1])?$e("v-if",!0):(A(),Y("span",cae,We(M.buttonTexts[1]),1)),ie(c(at),null,{default:he(()=>[ie(c(Yo))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ie(OL,{ref_key:"rightPanel",ref:y,data:c(m),"option-render":c(P),placeholder:c(O),filterable:M.filterable,format:M.format,"filter-method":M.filterMethod,title:c(R),"default-checked":M.rightDefaultChecked,props:i.props,onCheckedChange:c(b)},{default:he(()=>[Te(M.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var pae=Ge(hae,[["__file","transfer.vue"]]);const fae=Mt(pae),dc="$treeNodeId",RL=function(t,n){!n||n[dc]||Object.defineProperty(n,dc,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},D0=function(t,n){return t?n[t]:n[dc]},Ey=(t,n,o)=>{const i=t.value.currentNode;o();const l=t.value.currentNode;i!==l&&n("current-change",l?l.data:null,l)},Sy=t=>{let n=!0,o=!0,i=!0;for(let l=0,a=t.length;l<a;l++){const u=t[l];(u.checked!==!0||u.indeterminate)&&(n=!1,u.disabled||(i=!1)),(u.checked!==!1||u.indeterminate)&&(o=!1)}return{all:n,none:o,allWithoutDisable:i,half:!n&&!o}},Zd=function(t){if(t.childNodes.length===0||t.loading)return;const{all:n,none:o,half:i}=Sy(t.childNodes);n?(t.checked=!0,t.indeterminate=!1):i?(t.checked=!1,t.indeterminate=!0):o&&(t.checked=!1,t.indeterminate=!1);const l=t.parent;!l||l.level===0||t.store.checkStrictly||Zd(l)},im=function(t,n){const o=t.store.props,i=t.data||{},l=o[n];if(typeof l=="function")return l(i,t);if(typeof l=="string")return i[l];if(typeof l>"u"){const a=i[n];return a===void 0?"":a}};let mae=0,Cy=class Lm{constructor(n){this.id=mae++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const o in n)Yt(n,o)&&(this[o]=n[o]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const o=n.props;if(o&&typeof o.isLeaf<"u"){const a=im(this,"isLeaf");typeof a=="boolean"&&(this.isLeafByUser=a)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||RL(this,this.data),!this.data)return;const i=n.defaultExpandedKeys,l=n.key;l&&i&&i.includes(this.key)&&this.expand(null,n.autoExpandParent),l&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){Array.isArray(n)||RL(this,n),this.data=n,this.childNodes=[];let o;this.level===0&&Array.isArray(this.data)?o=this.data:o=im(this,"children")||[];for(let i=0,l=o.length;i<l;i++)this.insertChild({data:o[i]})}get label(){return im(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return im(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const o=n.childNodes.indexOf(this);if(o>-1)return n.childNodes[o+1]}return null}get previousSibling(){const n=this.parent;if(n){const o=n.childNodes.indexOf(this);if(o>-1)return o>0?n.childNodes[o-1]:null}return null}contains(n,o=!0){return(this.childNodes||[]).some(i=>i===n||o&&i.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,o,i){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof Lm)){if(!i){const l=this.getChildren(!0);l.includes(n.data)||(typeof o>"u"||o<0?l.push(n.data):l.splice(o,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=en(new Lm(n)),n instanceof Lm&&n.initialize()}n.level=this.level+1,typeof o>"u"||o<0?this.childNodes.push(n):this.childNodes.splice(o,0,n),this.updateLeafState()}insertBefore(n,o){let i;o&&(i=this.childNodes.indexOf(o)),this.insertChild(n,i)}insertAfter(n,o){let i;o&&(i=this.childNodes.indexOf(o),i!==-1&&(i+=1)),this.insertChild(n,i)}removeChild(n){const o=this.getChildren()||[],i=o.indexOf(n.data);i>-1&&o.splice(i,1);const l=this.childNodes.indexOf(n);l>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice(l,1)),this.updateLeafState()}removeChildByData(n){let o=null;for(let i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===n){o=this.childNodes[i];break}o&&this.removeChild(o)}expand(n,o){const i=()=>{if(o){let l=this.parent;for(;l.level>0;)l.expanded=!0,l=l.parent}this.expanded=!0,n&&n(),this.childNodes.forEach(l=>{l.canFocus=!0})};this.shouldLoadData()?this.loadData(l=>{Array.isArray(l)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Zd(this),i())}):i()}doCreateChildren(n,o={}){n.forEach(i=>{this.insertChild(Object.assign({data:i},o),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,o,i,l){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:u,allWithoutDisable:h}=Sy(this.childNodes);!this.isLeaf&&!u&&h&&(this.checked=!1,n=!1);const p=()=>{if(o){const f=this.childNodes;for(let _=0,b=f.length;_<b;_++){const T=f[_];l=l||n!==!1;const $=T.disabled?T.checked:l;T.setChecked($,o,!0,l)}const{half:g,all:m}=Sy(f);m||(this.checked=m,this.indeterminate=g)}};if(this.shouldLoadData()){this.loadData(()=>{p(),Zd(this)},{checked:n!==!1});return}else p()}const a=this.parent;!a||a.level===0||i||Zd(a)}getChildren(n=!1){if(this.level===0)return this.data;const o=this.data;if(!o)return null;const i=this.store.props;let l="children";return i&&(l=i.children||"children"),o[l]===void 0&&(o[l]=null),n&&!o[l]&&(o[l]=[]),o[l]}updateChildren(){const n=this.getChildren()||[],o=this.childNodes.map(a=>a.data),i={},l=[];n.forEach((a,u)=>{const h=a[dc];!!h&&o.findIndex(f=>f[dc]===h)>=0?i[h]={index:u,data:a}:l.push({index:u,data:a})}),this.store.lazy||o.forEach(a=>{i[a[dc]]||this.removeChildByData(a)}),l.forEach(({index:a,data:u})=>{this.insertChild({data:u},a)}),this.updateLeafState()}loadData(n,o={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(o).length)){this.loading=!0;const i=a=>{this.childNodes=[],this.doCreateChildren(a,o),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,a)},l=()=>{this.loading=!1};this.store.load(this,i,l)}else n&&n.call(this)}eachNode(n){const o=[this];for(;o.length;){const i=o.shift();o.unshift(...i.childNodes),n(i)}}reInitChecked(){this.store.checkStrictly||Zd(this)}};class gae{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const o in n)Yt(n,o)&&(this[o]=n[o]);this.nodesMap={}}initialize(){if(this.root=new Cy({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,o=>{this.root.doCreateChildren(o),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const o=this.filterNodeMethod,i=this.lazy,l=function(a){const u=a.root?a.root.childNodes:a.childNodes;if(u.forEach(h=>{h.visible=o.call(h,n,h.data,h),l(h)}),!a.visible&&u.length){let h=!0;h=!u.some(p=>p.visible),a.root?a.root.visible=h===!1:a.visible=h===!1}n&&a.visible&&!a.isLeaf&&(!i||a.loaded)&&a.expand()};l(this)}setData(n){n!==this.root.data?(this.root.setData(n),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(n){if(n instanceof Cy)return n;const o=Pt(n)?D0(this.key,n):n;return this.nodesMap[o]||null}insertBefore(n,o){const i=this.getNode(o);i.parent.insertBefore({data:n},i)}insertAfter(n,o){const i=this.getNode(o);i.parent.insertAfter({data:n},i)}remove(n){const o=this.getNode(n);o&&o.parent&&(o===this.currentNode&&(this.currentNode=null),o.parent.removeChild(o))}append(n,o){const i=xa(o)?this.root:this.getNode(o);i&&i.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],o=this.nodesMap;n.forEach(i=>{const l=o[i];l&&l.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const o=this.key;!n||!n.data||(o?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(i=>{this.deregisterNode(i)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,o=!1){const i=[],l=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(h=>{(h.checked||o&&h.indeterminate)&&(!n||n&&h.isLeaf)&&i.push(h.data),l(h)})};return l(this),i}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(o=>(o||{})[this.key])}getHalfCheckedNodes(){const n=[],o=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(a=>{a.indeterminate&&n.push(a.data),o(a)})};return o(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],o=this.nodesMap;for(const i in o)Yt(o,i)&&n.push(o[i]);return n}updateChildren(n,o){const i=this.nodesMap[n];if(!i)return;const l=i.childNodes;for(let a=l.length-1;a>=0;a--){const u=l[a];this.remove(u.data)}for(let a=0,u=o.length;a<u;a++){const h=o[a];this.append(h,i.data)}}_setCheckedKeys(n,o=!1,i){const l=this._getAllNodes().sort((p,f)=>p.level-f.level),a=Object.create(null),u=Object.keys(i);l.forEach(p=>p.setChecked(!1,!1));const h=p=>{p.childNodes.forEach(f=>{var g;a[f.data[n]]=!0,(g=f.childNodes)!=null&&g.length&&h(f)})};for(let p=0,f=l.length;p<f;p++){const g=l[p],m=g.data[n].toString();if(!u.includes(m)){g.checked&&!a[m]&&g.setChecked(!1,!1);continue}if(g.childNodes.length&&h(g),g.isLeaf||this.checkStrictly){g.setChecked(!0,!1);continue}if(g.setChecked(!0,!0),o){g.setChecked(!1,!1);const b=function(T){T.childNodes.forEach(E=>{E.isLeaf||E.setChecked(!1,!1),b(E)})};b(g)}}}setCheckedNodes(n,o=!1){const i=this.key,l={};n.forEach(a=>{l[(a||{})[i]]=!0}),this._setCheckedKeys(i,o,l)}setCheckedKeys(n,o=!1){this.defaultCheckedKeys=n;const i=this.key,l={};n.forEach(a=>{l[a]=!0}),this._setCheckedKeys(i,o,l)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(o=>{const i=this.getNode(o);i&&i.expand(null,this.autoExpandParent)})}setChecked(n,o,i){const l=this.getNode(n);l&&l.setChecked(!!o,i)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const o=this.currentNode;o&&(o.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,o=!0){const i=n[this.key],l=this.nodesMap[i];this.setCurrentNode(l),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,o=!0){if(n==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const i=this.getNode(n);i&&(this.setCurrentNode(i),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const $ae=ne({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const n=Pe("tree"),o=it("NodeInstance"),i=it("RootTree");return()=>{const l=t.node,{data:a,store:u}=l;return t.renderContent?t.renderContent(ft,{_self:o,node:l,data:a,store:u}):Te(i.ctx.slots,"default",{node:l,data:a},()=>[ft("span",{class:n.be("node","label")},[l.label])])}}});var vae=Ge($ae,[["__file","tree-node-content.vue"]]);function HP(t){const n=it("TreeNodeMap",null),o={treeNodeExpand:i=>{t.node!==i&&t.node.collapse()},children:[]};return n&&n.children.push(o),Gt("TreeNodeMap",o),{broadcastExpanded:i=>{if(t.accordion)for(const l of o.children)l.treeNodeExpand(i)}}}const VP=Symbol("dragEvents");function _ae({props:t,ctx:n,el$:o,dropIndicator$:i,store:l}){const a=Pe("tree"),u=V({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Gt(VP,{treeNodeDragStart:({event:g,treeNode:m})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(m.node))return g.preventDefault(),!1;g.dataTransfer.effectAllowed="move";try{g.dataTransfer.setData("text/plain","")}catch{}u.value.draggingNode=m,n.emit("node-drag-start",m.node,g)},treeNodeDragOver:({event:g,treeNode:m})=>{const _=m,b=u.value.dropNode;b&&b.node.id!==_.node.id&&xo(b.$el,a.is("drop-inner"));const T=u.value.draggingNode;if(!T||!_)return;let $=!0,E=!0,y=!0,I=!0;typeof t.allowDrop=="function"&&($=t.allowDrop(T.node,_.node,"prev"),I=E=t.allowDrop(T.node,_.node,"inner"),y=t.allowDrop(T.node,_.node,"next")),g.dataTransfer.dropEffect=E||$||y?"move":"none",($||E||y)&&(b==null?void 0:b.node.id)!==_.node.id&&(b&&n.emit("node-drag-leave",T.node,b.node,g),n.emit("node-drag-enter",T.node,_.node,g)),$||E||y?u.value.dropNode=_:u.value.dropNode=null,_.node.nextSibling===T.node&&(y=!1),_.node.previousSibling===T.node&&($=!1),_.node.contains(T.node,!1)&&(E=!1),(T.node===_.node||T.node.contains(_.node))&&($=!1,E=!1,y=!1);const S=_.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),C=o.value.getBoundingClientRect();let R;const O=$?E?.25:y?.45:1:-1,P=y?E?.75:$?.55:0:1;let M=-9999;const H=g.clientY-S.top;H<S.height*O?R="before":H>S.height*P?R="after":E?R="inner":R="none";const F=_.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),B=i.value;R==="before"?M=F.top-C.top:R==="after"&&(M=F.bottom-C.top),B.style.top=`${M}px`,B.style.left=`${F.right-C.left}px`,R==="inner"?Bs(_.$el,a.is("drop-inner")):xo(_.$el,a.is("drop-inner")),u.value.showDropIndicator=R==="before"||R==="after",u.value.allowDrop=u.value.showDropIndicator||I,u.value.dropType=R,n.emit("node-drag-over",T.node,_.node,g)},treeNodeDragEnd:g=>{const{draggingNode:m,dropType:_,dropNode:b}=u.value;if(g.preventDefault(),g.dataTransfer.dropEffect="move",m&&b){const T={data:m.node.data};_!=="none"&&m.node.remove(),_==="before"?b.node.parent.insertBefore(T,b.node):_==="after"?b.node.parent.insertAfter(T,b.node):_==="inner"&&b.node.insertChild(T),_!=="none"&&(l.value.registerNode(T),l.value.key&&m.node.eachNode($=>{var E;(E=l.value.nodesMap[$.data[l.value.key]])==null||E.setChecked($.checked,!l.value.checkStrictly)})),xo(b.$el,a.is("drop-inner")),n.emit("node-drag-end",m.node,b.node,_,g),_!=="none"&&n.emit("node-drop",m.node,b.node,_,g)}m&&!b&&n.emit("node-drag-end",m.node,null,_,g),u.value.showDropIndicator=!1,u.value.draggingNode=null,u.value.dropNode=null,u.value.allowDrop=!0}}),{dragState:u}}const bae=ne({name:"ElTreeNode",components:{ElCollapseTransition:Gg,ElCheckbox:Ys,NodeContent:vae,ElIcon:at,Loading:Nl},props:{node:{type:Cy,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,n){const o=Pe("tree"),{broadcastExpanded:i}=HP(t),l=it("RootTree"),a=V(!1),u=V(!1),h=V(null),p=V(null),f=V(null),g=it(VP),m=Nt();Gt("NodeInstance",m),t.node.expanded&&(a.value=!0,u.value=!0);const _=l.props.props.children||"children";Me(()=>{const H=t.node.data[_];return H&&[...H]},()=>{t.node.updateChildren()}),Me(()=>t.node.indeterminate,H=>{$(t.node.checked,H)}),Me(()=>t.node.checked,H=>{$(H,t.node.indeterminate)}),Me(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),Me(()=>t.node.expanded,H=>{pt(()=>a.value=H),H&&(u.value=!0)});const b=H=>D0(l.props.nodeKey,H.data),T=H=>{const F=t.props.class;if(!F)return{};let B;if(vt(F)){const{data:K}=H;B=F(K,H)}else B=F;return yt(B)?{[B]:!0}:B},$=(H,F)=>{(h.value!==H||p.value!==F)&&l.ctx.emit("check-change",t.node.data,H,F),h.value=H,p.value=F},E=H=>{Ey(l.store,l.ctx.emit,()=>l.store.value.setCurrentNode(t.node)),l.currentNode.value=t.node,l.props.expandOnClickNode&&I(),l.props.checkOnClickNode&&!t.node.disabled&&S(null,{target:{checked:!t.node.checked}}),l.ctx.emit("node-click",t.node.data,t.node,m,H)},y=H=>{l.instance.vnode.props.onNodeContextmenu&&(H.stopPropagation(),H.preventDefault()),l.ctx.emit("node-contextmenu",H,t.node.data,t.node,m)},I=()=>{t.node.isLeaf||(a.value?(l.ctx.emit("node-collapse",t.node.data,t.node,m),t.node.collapse()):(t.node.expand(),n.emit("node-expand",t.node.data,t.node,m)))},S=(H,F)=>{t.node.setChecked(F.target.checked,!l.props.checkStrictly),pt(()=>{const B=l.store.value;l.ctx.emit("check",t.node.data,{checkedNodes:B.getCheckedNodes(),checkedKeys:B.getCheckedKeys(),halfCheckedNodes:B.getHalfCheckedNodes(),halfCheckedKeys:B.getHalfCheckedKeys()})})};return{ns:o,node$:f,tree:l,expanded:a,childNodeRendered:u,oldChecked:h,oldIndeterminate:p,getNodeKey:b,getNodeClass:T,handleSelectChange:$,handleClick:E,handleContextMenu:y,handleExpandIconClick:I,handleCheckChange:S,handleChildNodeExpand:(H,F,B)=>{i(F),l.ctx.emit("node-expand",H,F,B)},handleDragStart:H=>{l.props.draggable&&g.treeNodeDragStart({event:H,treeNode:t})},handleDragOver:H=>{H.preventDefault(),l.props.draggable&&g.treeNodeDragOver({event:H,treeNode:{$el:f.value,node:t.node}})},handleDrop:H=>{H.preventDefault()},handleDragEnd:H=>{l.props.draggable&&g.treeNodeDragEnd(H)},CaretRight:SE}}}),Tae=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],yae=["aria-expanded"];function Eae(t,n,o,i,l,a){const u=Lt("el-icon"),h=Lt("el-checkbox"),p=Lt("loading"),f=Lt("node-content"),g=Lt("el-tree-node"),m=Lt("el-collapse-transition");return Ot((A(),Y("div",{ref:"node$",class:N([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:n[1]||(n[1]=_t((..._)=>t.handleClick&&t.handleClick(..._),["stop"])),onContextmenu:n[2]||(n[2]=(..._)=>t.handleContextMenu&&t.handleContextMenu(..._)),onDragstart:n[3]||(n[3]=_t((..._)=>t.handleDragStart&&t.handleDragStart(..._),["stop"])),onDragover:n[4]||(n[4]=_t((..._)=>t.handleDragOver&&t.handleDragOver(..._),["stop"])),onDragend:n[5]||(n[5]=_t((..._)=>t.handleDragEnd&&t.handleDragEnd(..._),["stop"])),onDrop:n[6]||(n[6]=_t((..._)=>t.handleDrop&&t.handleDrop(..._),["stop"]))},[Q("div",{class:N(t.ns.be("node","content")),style:ct({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(A(),be(u,{key:0,class:N([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:_t(t.handleExpandIconClick,["stop"])},{default:he(()=>[(A(),be(Ft(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):$e("v-if",!0),t.showCheckbox?(A(),be(h,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:n[0]||(n[0]=_t(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):$e("v-if",!0),t.node.loading?(A(),be(u,{key:2,class:N([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:he(()=>[ie(p)]),_:1},8,["class"])):$e("v-if",!0),ie(f,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),ie(m,null,{default:he(()=>[!t.renderAfterExpand||t.childNodeRendered?Ot((A(),Y("div",{key:0,class:N(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(A(!0),Y(dt,null,Kt(t.node.childNodes,_=>(A(),be(g,{key:t.getNodeKey(_),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:_,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,yae)),[[qt,t.expanded]]):$e("v-if",!0)]),_:1})],42,Tae)),[[qt,t.node.visible]])}var Sae=Ge(bae,[["render",Eae],["__file","tree-node.vue"]]);function Cae({el$:t},n){const o=Pe("tree"),i=bn([]),l=bn([]);Rt(()=>{u()}),Rr(()=>{i.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),l.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),Me(l,h=>{h.forEach(p=>{p.setAttribute("tabindex","-1")})}),$n(t,"keydown",h=>{const p=h.target;if(!p.className.includes(o.b("node")))return;const f=h.code;i.value=Array.from(t.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`));const g=i.value.indexOf(p);let m;if([mt.up,mt.down].includes(f)){if(h.preventDefault(),f===mt.up){m=g===-1?0:g!==0?g-1:i.value.length-1;const b=m;for(;!n.value.getNode(i.value[m].dataset.key).canFocus;){if(m--,m===b){m=-1;break}m<0&&(m=i.value.length-1)}}else{m=g===-1?0:g<i.value.length-1?g+1:0;const b=m;for(;!n.value.getNode(i.value[m].dataset.key).canFocus;){if(m++,m===b){m=-1;break}m>=i.value.length&&(m=0)}}m!==-1&&i.value[m].focus()}[mt.left,mt.right].includes(f)&&(h.preventDefault(),p.click());const _=p.querySelector('[type="checkbox"]');[mt.enter,mt.space].includes(f)&&_&&(h.preventDefault(),_.click())});const u=()=>{var h;i.value=Array.from(t.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`)),l.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const p=t.value.querySelectorAll(`.${o.is("checked")}[role=treeitem]`);if(p.length){p[0].setAttribute("tabindex","0");return}(h=i.value[0])==null||h.setAttribute("tabindex","0")}}const Iae=ne({name:"ElTree",components:{ElTreeNode:Sae},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:an}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,n){const{t:o}=jt(),i=Pe("tree"),l=it(zc,null),a=V(new gae({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));a.value.initialize();const u=V(a.value.root),h=V(null),p=V(null),f=V(null),{broadcastExpanded:g}=HP(t),{dragState:m}=_ae({props:t,ctx:n,el$:p,dropIndicator$:f,store:a});Cae({el$:p},a);const _=w(()=>{const{childNodes:W}=u.value,D=l?l.hasFilteredOptions!==0:!1;return(!W||W.length===0||W.every(({visible:X})=>!X))&&!D});Me(()=>t.currentNodeKey,W=>{a.value.setCurrentNodeKey(W)}),Me(()=>t.defaultCheckedKeys,W=>{a.value.setDefaultCheckedKey(W)}),Me(()=>t.defaultExpandedKeys,W=>{a.value.setDefaultExpandedKeys(W)}),Me(()=>t.data,W=>{a.value.setData(W)},{deep:!0}),Me(()=>t.checkStrictly,W=>{a.value.checkStrictly=W});const b=W=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(W)},T=W=>D0(t.nodeKey,W.data),$=W=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const D=a.value.getNode(W);if(!D)return[];const X=[D.data];let oe=D.parent;for(;oe&&oe!==u.value;)X.push(oe.data),oe=oe.parent;return X.reverse()},E=(W,D)=>a.value.getCheckedNodes(W,D),y=W=>a.value.getCheckedKeys(W),I=()=>{const W=a.value.getCurrentNode();return W?W.data:null},S=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const W=I();return W?W[t.nodeKey]:null},C=(W,D)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(W,D)},R=(W,D)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(W,D)},O=(W,D,X)=>{a.value.setChecked(W,D,X)},P=()=>a.value.getHalfCheckedNodes(),M=()=>a.value.getHalfCheckedKeys(),H=(W,D=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Ey(a,n.emit,()=>a.value.setUserCurrentNode(W,D))},F=(W,D=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Ey(a,n.emit,()=>a.value.setCurrentNodeKey(W,D))},B=W=>a.value.getNode(W),K=W=>{a.value.remove(W)},te=(W,D)=>{a.value.append(W,D)},J=(W,D)=>{a.value.insertBefore(W,D)},j=(W,D)=>{a.value.insertAfter(W,D)},z=(W,D,X)=>{g(D),n.emit("node-expand",W,D,X)},G=(W,D)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(W,D)};return Gt("RootTree",{ctx:n,props:t,store:a,root:u,currentNode:h,instance:Nt()}),Gt(zi,void 0),{ns:i,store:a,root:u,currentNode:h,dragState:m,el$:p,dropIndicator$:f,isEmpty:_,filter:b,getNodeKey:T,getNodePath:$,getCheckedNodes:E,getCheckedKeys:y,getCurrentNode:I,getCurrentKey:S,setCheckedNodes:C,setCheckedKeys:R,setChecked:O,getHalfCheckedNodes:P,getHalfCheckedKeys:M,setCurrentNode:H,setCurrentKey:F,t:o,getNode:B,remove:K,append:te,insertBefore:J,insertAfter:j,handleNodeExpand:z,updateKeyChildren:G}}});function wae(t,n,o,i,l,a){const u=Lt("el-tree-node");return A(),Y("div",{ref:"el$",class:N([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(A(!0),Y(dt,null,Kt(t.root.childNodes,h=>(A(),be(u,{key:t.getNodeKey(h),node:h,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(A(),Y("div",{key:0,class:N(t.ns.e("empty-block"))},[Te(t.$slots,"empty",{},()=>{var h;return[Q("span",{class:N(t.ns.e("empty-text"))},We((h=t.emptyText)!=null?h:t.t("el.tree.emptyText")),3)]})],2)):$e("v-if",!0),Ot(Q("div",{ref:"dropIndicator$",class:N(t.ns.e("drop-indicator"))},null,2),[[qt,t.dragState.showDropIndicator]])],2)}var Am=Ge(Iae,[["render",wae],["__file","tree.vue"]]);Am.install=t=>{t.component(Am.name,Am)};const cg=Am,kae=cg,Oae=(t,{attrs:n,emit:o},{select:i,tree:l,key:a})=>{const u=Pe("tree-select");return Me(()=>t.data,()=>{t.filterable&&pt(()=>{var p,f;(f=l.value)==null||f.filter((p=i.value)==null?void 0:p.states.inputValue)})},{flush:"post"}),{...xi(mo(t),Object.keys(Va.props)),...n,"onUpdate:modelValue":p=>o(Bt,p),valueKey:a,popperClass:w(()=>{const p=[u.e("popper")];return t.popperClass&&p.push(t.popperClass),p.join(" ")}),filterMethod:(p="")=>{var f;t.filterMethod?t.filterMethod(p):t.remoteMethod?t.remoteMethod(p):(f=l.value)==null||f.filter(p)}}},Rae=ne({extends:ng,setup(t,n){const o=ng.setup(t,n);delete o.selectOptionClick;const i=Nt().proxy;return pt(()=>{o.select.states.cachedOptions.get(i.value)||o.select.onOptionCreate(i)}),o},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function Iy(t){return t||t===0}function P0(t){return Array.isArray(t)&&t.length}function jd(t){return Array.isArray(t)?t:Iy(t)?[t]:[]}function Nm(t,n,o,i,l){for(let a=0;a<t.length;a++){const u=t[a];if(n(u,a,t,l))return i?i(u,a,t,l):u;{const h=o(u);if(P0(h)){const p=Nm(h,n,o,i,u);if(p)return p}}}}function wy(t,n,o,i){for(let l=0;l<t.length;l++){const a=t[l];n(a,l,t,i);const u=o(a);P0(u)&&wy(u,n,o,a)}}const Lae=(t,{attrs:n,slots:o,emit:i},{select:l,tree:a,key:u})=>{Me(()=>t.modelValue,()=>{t.showCheckbox&&pt(()=>{const m=a.value;m&&!Po(m.getCheckedKeys(),jd(t.modelValue))&&m.setCheckedKeys(jd(t.modelValue))})},{immediate:!0,deep:!0});const h=w(()=>({value:u.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),p=(m,_)=>{var b;const T=h.value[m];return vt(T)?T(_,(b=a.value)==null?void 0:b.getNode(p("value",_))):_[T]},f=jd(t.modelValue).map(m=>Nm(t.data||[],_=>p("value",_)===m,_=>p("children",_),(_,b,T,$)=>$&&p("value",$))).filter(m=>Iy(m)),g=w(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const m=[];return wy(t.data.concat(t.cacheData),_=>{const b=p("value",_);m.push({value:b,currentLabel:p("label",_),isDisabled:p("disabled",_)})},_=>p("children",_)),m});return{...xi(mo(t),Object.keys(cg.props)),...n,nodeKey:u,expandOnClickNode:w(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:w(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(f):f),renderContent:(m,{node:_,data:b,store:T})=>m(Rae,{value:p("value",b),label:p("label",b),disabled:p("disabled",b)},t.renderContent?()=>t.renderContent(m,{node:_,data:b,store:T}):o.default?()=>o.default({node:_,data:b,store:T}):void 0),filterNodeMethod:(m,_,b)=>t.filterNodeMethod?t.filterNodeMethod(m,_,b):m?new RegExp(TE(m),"i").test(p("label",_)||""):!0,onNodeClick:(m,_,b)=>{var T,$,E,y;if((T=n.onNodeClick)==null||T.call(n,m,_,b),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||_.isLeaf)){if(!p("disabled",m)){const I=($=l.value)==null?void 0:$.states.options.get(p("value",m));(E=l.value)==null||E.handleOptionSelect(I)}}else t.expandOnClickNode&&b.proxy.handleExpandIconClick();(y=l.value)==null||y.focus()}},onCheck:(m,_)=>{var b;if(!t.showCheckbox)return;const T=p("value",m),$={};wy([a.value.store.root],S=>$[S.key]=S,S=>S.childNodes);const E=_.checkedKeys,y=t.multiple?jd(t.modelValue).filter(S=>!(S in $)&&!E.includes(S)):[],I=y.concat(E);if(t.checkStrictly)i(Bt,t.multiple?I:I.includes(T)?T:void 0);else if(t.multiple)i(Bt,y.concat(a.value.getCheckedKeys(!0)));else{const S=Nm([m],O=>!P0(p("children",O))&&!p("disabled",O),O=>p("children",O)),C=S?p("value",S):void 0,R=Iy(t.modelValue)&&!!Nm([m],O=>p("value",O)===t.modelValue,O=>p("children",O));i(Bt,C===t.modelValue||R?void 0:C)}pt(()=>{var S;const C=jd(t.modelValue);a.value.setCheckedKeys(C),(S=n.onCheck)==null||S.call(n,m,{checkedKeys:a.value.getCheckedKeys(),checkedNodes:a.value.getCheckedNodes(),halfCheckedKeys:a.value.getHalfCheckedKeys(),halfCheckedNodes:a.value.getHalfCheckedNodes()})}),(b=l.value)==null||b.focus()},cacheOptions:g}};var Aae=ne({props:{data:{type:Array,default:()=>[]}},setup(t){const n=it(zc);return Me(()=>t.data,()=>{var o;t.data.forEach(l=>{n.states.cachedOptions.has(l.value)||n.states.cachedOptions.set(l.value,l)});const i=((o=n.selectRef)==null?void 0:o.querySelectorAll("input"))||[];Array.from(i).includes(document.activeElement)||n.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Nae=ne({name:"ElTreeSelect",inheritAttrs:!1,props:{...Va.props,...cg.props,cacheData:{type:Array,default:()=>[]}},setup(t,n){const{slots:o,expose:i}=n,l=V(),a=V(),u=w(()=>t.nodeKey||t.valueKey||"value"),h=Oae(t,n,{select:l,tree:a,key:u}),{cacheOptions:p,...f}=Lae(t,n,{select:l,tree:a,key:u}),g=en({});return i(g),Rt(()=>{Object.assign(g,{...xi(a.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...xi(l.value,["focus","blur"])})}),()=>ft(Va,en({...h,ref:m=>l.value=m}),{...o,default:()=>[ft(Aae,{data:p.value}),ft(cg,en({...f,ref:m=>a.value=m}))]})}});var Mm=Ge(Nae,[["__file","tree-select.vue"]]);Mm.install=t=>{t.component(Mm.name,Mm)};const Mae=Mm,Dae=Mae,x0=Symbol(),Pae={key:-1,level:-1,data:{}};var Qd=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(Qd||{}),ky=(t=>(t.ADD="add",t.DELETE="delete",t))(ky||{});const UP={type:Number,default:26},xae=Ve({data:{type:fe(Array),default:()=>kn([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:fe(Object),default:()=>kn({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:fe(Array),default:()=>kn([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:fe(Array),default:()=>kn([])},indent:{type:Number,default:16},itemSize:UP,icon:{type:an},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:fe([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:fe(Function)},perfMode:{type:Boolean,default:!0}}),Bae=Ve({node:{type:fe(Object),default:()=>kn(Pae)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:UP}),Fae=Ve({node:{type:fe(Object),required:!0}}),GP="node-click",WP="node-expand",zP="node-collapse",KP="current-change",XP="check",YP="check-change",jP="node-contextmenu",Hae={[GP]:(t,n,o)=>t&&n&&o,[WP]:(t,n)=>t&&n,[zP]:(t,n)=>t&&n,[KP]:(t,n)=>t&&n,[XP]:(t,n)=>t&&n,[YP]:(t,n)=>t&&typeof n=="boolean",[jP]:(t,n,o)=>t&&n&&o},Vae={click:(t,n)=>!!(t&&n),toggle:t=>!!t,check:(t,n)=>t&&typeof n=="boolean"};function Uae(t,n){const o=V(new Set),i=V(new Set),{emit:l}=Nt();Me([()=>n.value,()=>t.defaultCheckedKeys],()=>pt(()=>{I(t.defaultCheckedKeys)}),{immediate:!0});const a=()=>{if(!n.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:S,maxLevel:C}=n.value,R=o.value,O=new Set;for(let P=C-1;P>=1;--P){const M=S.get(P);M&&M.forEach(H=>{const F=H.children;if(F){let B=!0,K=!1;for(const te of F){const J=te.key;if(R.has(J))K=!0;else if(O.has(J)){B=!1,K=!0;break}else B=!1}B?R.add(H.key):K?(O.add(H.key),R.delete(H.key)):(R.delete(H.key),O.delete(H.key))}})}i.value=O},u=S=>o.value.has(S.key),h=S=>i.value.has(S.key),p=(S,C,R=!0)=>{const O=o.value,P=(M,H)=>{O[H?ky.ADD:ky.DELETE](M.key);const F=M.children;!t.checkStrictly&&F&&F.forEach(B=>{B.disabled||P(B,H)})};P(S,C),a(),R&&f(S,C)},f=(S,C)=>{const{checkedNodes:R,checkedKeys:O}=T(),{halfCheckedNodes:P,halfCheckedKeys:M}=$();l(XP,S.data,{checkedKeys:O,checkedNodes:R,halfCheckedKeys:M,halfCheckedNodes:P}),l(YP,S.data,C)};function g(S=!1){return T(S).checkedKeys}function m(S=!1){return T(S).checkedNodes}function _(){return $().halfCheckedKeys}function b(){return $().halfCheckedNodes}function T(S=!1){const C=[],R=[];if(n!=null&&n.value&&t.showCheckbox){const{treeNodeMap:O}=n.value;o.value.forEach(P=>{const M=O.get(P);M&&(!S||S&&M.isLeaf)&&(R.push(P),C.push(M.data))})}return{checkedKeys:R,checkedNodes:C}}function $(){const S=[],C=[];if(n!=null&&n.value&&t.showCheckbox){const{treeNodeMap:R}=n.value;i.value.forEach(O=>{const P=R.get(O);P&&(C.push(O),S.push(P.data))})}return{halfCheckedNodes:S,halfCheckedKeys:C}}function E(S){o.value.clear(),i.value.clear(),pt(()=>{I(S)})}function y(S,C){if(n!=null&&n.value&&t.showCheckbox){const R=n.value.treeNodeMap.get(S);R&&p(R,C,!1)}}function I(S){if(n!=null&&n.value){const{treeNodeMap:C}=n.value;if(t.showCheckbox&&C&&S)for(const R of S){const O=C.get(R);O&&!u(O)&&p(O,!0,!1)}}}return{updateCheckedKeys:a,toggleCheckbox:p,isChecked:u,isIndeterminate:h,getCheckedKeys:g,getCheckedNodes:m,getHalfCheckedKeys:_,getHalfCheckedNodes:b,setChecked:y,setCheckedKeys:E}}function Gae(t,n){const o=V(new Set([])),i=V(new Set([])),l=w(()=>vt(t.filterMethod));function a(h){var p;if(!l.value)return;const f=new Set,g=i.value,m=o.value,_=[],b=((p=n.value)==null?void 0:p.treeNodes)||[],T=t.filterMethod;m.clear();function $(E){E.forEach(y=>{_.push(y),T!=null&&T(h,y.data)?_.forEach(S=>{f.add(S.key)}):y.isLeaf&&m.add(y.key);const I=y.children;if(I&&$(I),!y.isLeaf){if(!f.has(y.key))m.add(y.key);else if(I){let S=!0;for(const C of I)if(!m.has(C.key)){S=!1;break}S?g.add(y.key):g.delete(y.key)}}_.pop()})}return $(b),f}function u(h){return i.value.has(h.key)}return{hiddenExpandIconKeySet:i,hiddenNodeKeySet:o,doFilter:a,isForceHiddenExpandIcon:u}}function Wae(t,n){const o=V(new Set(t.defaultExpandedKeys)),i=V(),l=bn();Me(()=>t.currentNodeKey,_e=>{i.value=_e},{immediate:!0}),Me(()=>t.data,_e=>{ce(_e)},{immediate:!0});const{isIndeterminate:a,isChecked:u,toggleCheckbox:h,getCheckedKeys:p,getCheckedNodes:f,getHalfCheckedKeys:g,getHalfCheckedNodes:m,setChecked:_,setCheckedKeys:b}=Uae(t,l),{doFilter:T,hiddenNodeKeySet:$,isForceHiddenExpandIcon:E}=Gae(t,l),y=w(()=>{var _e;return((_e=t.props)==null?void 0:_e.value)||Qd.KEY}),I=w(()=>{var _e;return((_e=t.props)==null?void 0:_e.children)||Qd.CHILDREN}),S=w(()=>{var _e;return((_e=t.props)==null?void 0:_e.disabled)||Qd.DISABLED}),C=w(()=>{var _e;return((_e=t.props)==null?void 0:_e.label)||Qd.LABEL}),R=w(()=>{const _e=o.value,Ke=$.value,ve=[],Ae=l.value&&l.value.treeNodes||[];function Fe(){const ae=[];for(let de=Ae.length-1;de>=0;--de)ae.push(Ae[de]);for(;ae.length;){const de=ae.pop();if(de&&(Ke.has(de.key)||ve.push(de),_e.has(de.key))){const Re=de.children;if(Re){const Be=Re.length;for(let Ee=Be-1;Ee>=0;--Ee)ae.push(Re[Ee])}}}}return Fe(),ve}),O=w(()=>R.value.length>0);function P(_e){const Ke=new Map,ve=new Map;let Ae=1;function Fe(de,Re=1,Be=void 0){var Ee;const Ne=[];for(const He of de){const ue=F(He),Ie={level:Re,key:ue,data:He};Ie.label=K(He),Ie.parent=Be;const ke=H(He);Ie.disabled=B(He),Ie.isLeaf=!ke||ke.length===0,ke&&ke.length&&(Ie.children=Fe(ke,Re+1,Ie)),Ne.push(Ie),Ke.set(ue,Ie),ve.has(Re)||ve.set(Re,[]),(Ee=ve.get(Re))==null||Ee.push(Ie)}return Re>Ae&&(Ae=Re),Ne}const ae=Fe(_e);return{treeNodeMap:Ke,levelTreeNodeMap:ve,maxLevel:Ae,treeNodes:ae}}function M(_e){const Ke=T(_e);Ke&&(o.value=Ke)}function H(_e){return _e[I.value]}function F(_e){return _e?_e[y.value]:""}function B(_e){return _e[S.value]}function K(_e){return _e[C.value]}function te(_e){o.value.has(_e.key)?D(_e):W(_e)}function J(_e){o.value=new Set(_e)}function j(_e,Ke){n(GP,_e.data,_e,Ke),z(_e),t.expandOnClickNode&&te(_e),t.showCheckbox&&t.checkOnClickNode&&!_e.disabled&&h(_e,!u(_e),!0)}function z(_e){le(_e)||(i.value=_e.key,n(KP,_e.data,_e))}function G(_e,Ke){h(_e,Ke)}function W(_e){const Ke=o.value;if(l.value&&t.accordion){const{treeNodeMap:ve}=l.value;Ke.forEach(Ae=>{const Fe=ve.get(Ae);_e&&_e.level===(Fe==null?void 0:Fe.level)&&Ke.delete(Ae)})}Ke.add(_e.key),n(WP,_e.data,_e)}function D(_e){o.value.delete(_e.key),n(zP,_e.data,_e)}function X(_e){return o.value.has(_e.key)}function oe(_e){return!!_e.disabled}function le(_e){const Ke=i.value;return Ke!==void 0&&Ke===_e.key}function me(){var _e,Ke;if(i.value)return(Ke=(_e=l.value)==null?void 0:_e.treeNodeMap.get(i.value))==null?void 0:Ke.data}function Se(){return i.value}function De(_e){i.value=_e}function ce(_e){pt(()=>l.value=P(_e))}function ye(_e){var Ke;const ve=Pt(_e)?F(_e):_e;return(Ke=l.value)==null?void 0:Ke.treeNodeMap.get(ve)}return{tree:l,flattenTree:R,isNotEmpty:O,getKey:F,getChildren:H,toggleExpand:te,toggleCheckbox:h,isExpanded:X,isChecked:u,isIndeterminate:a,isDisabled:oe,isCurrent:le,isForceHiddenExpandIcon:E,handleNodeClick:j,handleNodeCheck:G,getCurrentNode:me,getCurrentKey:Se,setCurrentKey:De,getCheckedKeys:p,getCheckedNodes:f,getHalfCheckedKeys:g,getHalfCheckedNodes:m,setChecked:_,setCheckedKeys:b,filter:M,setData:ce,getNode:ye,expandNode:W,collapseNode:D,setExpandedKeys:J}}var zae=ne({name:"ElTreeNodeContent",props:Fae,setup(t){const n=it(x0),o=Pe("tree");return()=>{const i=t.node,{data:l}=i;return n!=null&&n.ctx.slots.default?n.ctx.slots.default({node:i,data:l}):ft("span",{class:o.be("node","label")},[i==null?void 0:i.label])}}});const Kae=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],Xae=ne({name:"ElTreeNode"}),Yae=ne({...Xae,props:Bae,emits:Vae,setup(t,{emit:n}){const o=t,i=it(x0),l=Pe("tree"),a=w(()=>{var m;return(m=i==null?void 0:i.props.indent)!=null?m:16}),u=w(()=>{var m;return(m=i==null?void 0:i.props.icon)!=null?m:SE}),h=m=>{n("click",o.node,m)},p=()=>{n("toggle",o.node)},f=m=>{n("check",o.node,m)},g=m=>{var _,b,T,$;(T=(b=(_=i==null?void 0:i.instance)==null?void 0:_.vnode)==null?void 0:b.props)!=null&&T.onNodeContextmenu&&(m.stopPropagation(),m.preventDefault()),i==null||i.ctx.emit(jP,m,($=o.node)==null?void 0:$.data,o.node)};return(m,_)=>{var b,T,$;return A(),Y("div",{ref:"node$",class:N([c(l).b("node"),c(l).is("expanded",m.expanded),c(l).is("current",m.current),c(l).is("focusable",!m.disabled),c(l).is("checked",!m.disabled&&m.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":m.expanded,"aria-disabled":m.disabled,"aria-checked":m.checked,"data-key":(b=m.node)==null?void 0:b.key,onClick:_t(h,["stop"]),onContextmenu:g},[Q("div",{class:N(c(l).be("node","content")),style:ct({paddingLeft:`${(m.node.level-1)*c(a)}px`,height:m.itemSize+"px"})},[c(u)?(A(),be(c(at),{key:0,class:N([c(l).is("leaf",!!((T=m.node)!=null&&T.isLeaf)),c(l).is("hidden",m.hiddenExpandIcon),{expanded:!(($=m.node)!=null&&$.isLeaf)&&m.expanded},c(l).be("node","expand-icon")]),onClick:_t(p,["stop"])},{default:he(()=>[(A(),be(Ft(c(u))))]),_:1},8,["class","onClick"])):$e("v-if",!0),m.showCheckbox?(A(),be(c(Ys),{key:1,"model-value":m.checked,indeterminate:m.indeterminate,disabled:m.disabled,onChange:f,onClick:_[0]||(_[0]=_t(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):$e("v-if",!0),ie(c(zae),{node:m.node},null,8,["node"])],6)],42,Kae)}}});var jae=Ge(Yae,[["__file","tree-node.vue"]]);const qae=ne({name:"ElTreeV2"}),Jae=ne({...qae,props:xae,emits:Hae,setup(t,{expose:n,emit:o}){const i=t,l=uo(),a=w(()=>i.itemSize);Gt(x0,{ctx:{emit:o,slots:l},props:i,instance:Nt()}),Gt(zi,void 0);const{t:u}=jt(),h=Pe("tree"),{flattenTree:p,isNotEmpty:f,toggleExpand:g,isExpanded:m,isIndeterminate:_,isChecked:b,isDisabled:T,isCurrent:$,isForceHiddenExpandIcon:E,handleNodeClick:y,handleNodeCheck:I,toggleCheckbox:S,getCurrentNode:C,getCurrentKey:R,setCurrentKey:O,getCheckedKeys:P,getCheckedNodes:M,getHalfCheckedKeys:H,getHalfCheckedNodes:F,setChecked:B,setCheckedKeys:K,filter:te,setData:J,getNode:j,expandNode:z,collapseNode:G,setExpandedKeys:W}=Wae(i,o);return n({toggleCheckbox:S,getCurrentNode:C,getCurrentKey:R,setCurrentKey:O,getCheckedKeys:P,getCheckedNodes:M,getHalfCheckedKeys:H,getHalfCheckedNodes:F,setChecked:B,setCheckedKeys:K,filter:te,setData:J,getNode:j,expandNode:z,collapseNode:G,setExpandedKeys:W}),(D,X)=>{var oe;return A(),Y("div",{class:N([c(h).b(),{[c(h).m("highlight-current")]:D.highlightCurrent}]),role:"tree"},[c(f)?(A(),be(c(QD),{key:0,"class-name":c(h).b("virtual-list"),data:c(p),total:c(p).length,height:D.height,"item-size":c(a),"perf-mode":D.perfMode},{default:he(({data:le,index:me,style:Se})=>[(A(),be(jae,{key:le[me].key,style:ct(Se),node:le[me],expanded:c(m)(le[me]),"show-checkbox":D.showCheckbox,checked:c(b)(le[me]),indeterminate:c(_)(le[me]),"item-size":c(a),disabled:c(T)(le[me]),current:c($)(le[me]),"hidden-expand-icon":c(E)(le[me]),onClick:c(y),onToggle:c(g),onCheck:c(I)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(A(),Y("div",{key:1,class:N(c(h).e("empty-block"))},[Q("span",{class:N(c(h).e("empty-text"))},We((oe=D.emptyText)!=null?oe:c(u)("el.tree.emptyText")),3)],2))],2)}}});var Zae=Ge(Jae,[["__file","tree.vue"]]);const Qae=Mt(Zae),qP=Symbol("uploadContextKey"),eue="ElUpload";class tue extends Error{constructor(n,o,i,l){super(n),this.name="UploadAjaxError",this.status=o,this.method=i,this.url=l}}function LL(t,n,o){let i;return o.response?i=`${o.response.error||o.response}`:o.responseText?i=`${o.responseText}`:i=`fail to ${n.method} ${t} ${o.status}`,new tue(i,o.status,n.method,t)}function nue(t){const n=t.responseText||t.response;if(!n)return n;try{return JSON.parse(n)}catch{return n}}const oue=t=>{typeof XMLHttpRequest>"u"&&qn(eue,"XMLHttpRequest is undefined");const n=new XMLHttpRequest,o=t.action;n.upload&&n.upload.addEventListener("progress",a=>{const u=a;u.percent=a.total>0?a.loaded/a.total*100:0,t.onProgress(u)});const i=new FormData;if(t.data)for(const[a,u]of Object.entries(t.data))tt(u)&&u.length?i.append(a,...u):i.append(a,u);i.append(t.filename,t.file,t.file.name),n.addEventListener("error",()=>{t.onError(LL(o,t,n))}),n.addEventListener("load",()=>{if(n.status<200||n.status>=300)return t.onError(LL(o,t,n));t.onSuccess(nue(n))}),n.open(t.method,o,!0),t.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0);const l=t.headers||{};if(l instanceof Headers)l.forEach((a,u)=>n.setRequestHeader(u,a));else for(const[a,u]of Object.entries(l))ro(u)||n.setRequestHeader(a,String(u));return n.send(i),n},JP=["text","picture","picture-card"];let sue=1;const Oy=()=>Date.now()+sue++,ZP=Ve({action:{type:String,default:"#"},headers:{type:fe(Object)},method:{type:String,default:"post"},data:{type:fe([Object,Function,Promise]),default:()=>kn({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:fe(Array),default:()=>kn([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:JP,default:"text"},httpRequest:{type:fe(Function),default:oue},disabled:Boolean,limit:Number}),iue=Ve({...ZP,beforeUpload:{type:fe(Function),default:on},beforeRemove:{type:fe(Function)},onRemove:{type:fe(Function),default:on},onChange:{type:fe(Function),default:on},onPreview:{type:fe(Function),default:on},onSuccess:{type:fe(Function),default:on},onProgress:{type:fe(Function),default:on},onError:{type:fe(Function),default:on},onExceed:{type:fe(Function),default:on},crossorigin:{type:fe(String)}}),rue=Ve({files:{type:fe(Array),default:()=>kn([])},disabled:{type:Boolean,default:!1},handlePreview:{type:fe(Function),default:on},listType:{type:String,values:JP,default:"text"},crossorigin:{type:fe(String)}}),lue={remove:t=>!!t},aue=["onKeydown"],uue=["src","crossorigin"],cue=["onClick"],due=["title"],hue=["onClick"],pue=["onClick"],fue=ne({name:"ElUploadList"}),mue=ne({...fue,props:rue,emits:lue,setup(t,{emit:n}){const o=t,{t:i}=jt(),l=Pe("upload"),a=Pe("icon"),u=Pe("list"),h=Qo(),p=V(!1),f=w(()=>[l.b("list"),l.bm("list",o.listType),l.is("disabled",o.disabled)]),g=m=>{n("remove",m)};return(m,_)=>(A(),be(nN,{tag:"ul",class:N(c(f)),name:c(u).b()},{default:he(()=>[(A(!0),Y(dt,null,Kt(m.files,b=>(A(),Y("li",{key:b.uid||b.name,class:N([c(l).be("list","item"),c(l).is(b.status),{focusing:p.value}]),tabindex:"0",onKeydown:ln(T=>!c(h)&&g(b),["delete"]),onFocus:_[0]||(_[0]=T=>p.value=!0),onBlur:_[1]||(_[1]=T=>p.value=!1),onClick:_[2]||(_[2]=T=>p.value=!1)},[Te(m.$slots,"default",{file:b},()=>[m.listType==="picture"||b.status!=="uploading"&&m.listType==="picture-card"?(A(),Y("img",{key:0,class:N(c(l).be("list","item-thumbnail")),src:b.url,crossorigin:m.crossorigin,alt:""},null,10,uue)):$e("v-if",!0),b.status==="uploading"||m.listType!=="picture-card"?(A(),Y("div",{key:1,class:N(c(l).be("list","item-info"))},[Q("a",{class:N(c(l).be("list","item-name")),onClick:_t(T=>m.handlePreview(b),["prevent"])},[ie(c(at),{class:N(c(a).m("document"))},{default:he(()=>[ie(c(T4))]),_:1},8,["class"]),Q("span",{class:N(c(l).be("list","item-file-name")),title:b.name},We(b.name),11,due)],10,cue),b.status==="uploading"?(A(),be(c(WD),{key:0,type:m.listType==="picture-card"?"circle":"line","stroke-width":m.listType==="picture-card"?6:2,percentage:Number(b.percentage),style:ct(m.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):$e("v-if",!0)],2)):$e("v-if",!0),Q("label",{class:N(c(l).be("list","item-status-label"))},[m.listType==="text"?(A(),be(c(at),{key:0,class:N([c(a).m("upload-success"),c(a).m("circle-check")])},{default:he(()=>[ie(c(CE))]),_:1},8,["class"])):["picture-card","picture"].includes(m.listType)?(A(),be(c(at),{key:1,class:N([c(a).m("upload-success"),c(a).m("check")])},{default:he(()=>[ie(c(Zh))]),_:1},8,["class"])):$e("v-if",!0)],2),c(h)?$e("v-if",!0):(A(),be(c(at),{key:2,class:N(c(a).m("close")),onClick:T=>g(b)},{default:he(()=>[ie(c(hi))]),_:2},1032,["class","onClick"])),$e(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),$e(" This is a bug which needs to be fixed "),$e(" TODO: Fix the incorrect navigation interaction "),c(h)?$e("v-if",!0):(A(),Y("i",{key:3,class:N(c(a).m("close-tip"))},We(c(i)("el.upload.deleteTip")),3)),m.listType==="picture-card"?(A(),Y("span",{key:4,class:N(c(l).be("list","item-actions"))},[Q("span",{class:N(c(l).be("list","item-preview")),onClick:T=>m.handlePreview(b)},[ie(c(at),{class:N(c(a).m("zoom-in"))},{default:he(()=>[ie(c(u1))]),_:1},8,["class"])],10,hue),c(h)?$e("v-if",!0):(A(),Y("span",{key:0,class:N(c(l).be("list","item-delete")),onClick:T=>g(b)},[ie(c(at),{class:N(c(a).m("delete"))},{default:he(()=>[ie(c(_4))]),_:1},8,["class"])],10,pue))],2)):$e("v-if",!0)])],42,aue))),128)),Te(m.$slots,"append")]),_:3},8,["class","name"]))}});var AL=Ge(mue,[["__file","upload-list.vue"]]);const gue=Ve({disabled:{type:Boolean,default:!1}}),$ue={file:t=>tt(t)},vue=["onDrop","onDragover"],QP="ElUploadDrag",_ue=ne({name:QP}),bue=ne({..._ue,props:gue,emits:$ue,setup(t,{emit:n}){it(qP)||qn(QP,"usage: <el-upload><el-upload-dragger /></el-upload>");const i=Pe("upload"),l=V(!1),a=Qo(),u=p=>{if(a.value)return;l.value=!1,p.stopPropagation();const f=Array.from(p.dataTransfer.files);n("file",f)},h=()=>{a.value||(l.value=!0)};return(p,f)=>(A(),Y("div",{class:N([c(i).b("dragger"),c(i).is("dragover",l.value)]),onDrop:_t(u,["prevent"]),onDragover:_t(h,["prevent"]),onDragleave:f[0]||(f[0]=_t(g=>l.value=!1,["prevent"]))},[Te(p.$slots,"default")],42,vue))}});var Tue=Ge(bue,[["__file","upload-dragger.vue"]]);const yue=Ve({...ZP,beforeUpload:{type:fe(Function),default:on},onRemove:{type:fe(Function),default:on},onStart:{type:fe(Function),default:on},onSuccess:{type:fe(Function),default:on},onProgress:{type:fe(Function),default:on},onError:{type:fe(Function),default:on},onExceed:{type:fe(Function),default:on}}),Eue=["onKeydown"],Sue=["name","multiple","accept"],Cue=ne({name:"ElUploadContent",inheritAttrs:!1}),Iue=ne({...Cue,props:yue,setup(t,{expose:n}){const o=t,i=Pe("upload"),l=Qo(),a=bn({}),u=bn(),h=$=>{if($.length===0)return;const{autoUpload:E,limit:y,fileList:I,multiple:S,onStart:C,onExceed:R}=o;if(y&&I.length+$.length>y){R($,I);return}S||($=$.slice(0,1));for(const O of $){const P=O;P.uid=Oy(),C(P),E&&p(P)}},p=async $=>{if(u.value.value="",!o.beforeUpload)return g($);let E,y={};try{const S=o.data,C=o.beforeUpload($);y=Pm(o.data)?Xm(o.data):o.data,E=await C,Pm(o.data)&&Po(S,y)&&(y=Xm(o.data))}catch{E=!1}if(E===!1){o.onRemove($);return}let I=$;E instanceof Blob&&(E instanceof File?I=E:I=new File([E],$.name,{type:$.type})),g(Object.assign(I,{uid:$.uid}),y)},f=async($,E)=>vt($)?$(E):$,g=async($,E)=>{const{headers:y,data:I,method:S,withCredentials:C,name:R,action:O,onProgress:P,onSuccess:M,onError:H,httpRequest:F}=o;try{E=await f(E??I,$)}catch{o.onRemove($);return}const{uid:B}=$,K={headers:y||{},withCredentials:C,file:$,data:E,method:S,filename:R,action:O,onProgress:J=>{P(J,$)},onSuccess:J=>{M(J,$),delete a.value[B]},onError:J=>{H(J,$),delete a.value[B]}},te=F(K);a.value[B]=te,te instanceof Promise&&te.then(K.onSuccess,K.onError)},m=$=>{const E=$.target.files;E&&h(Array.from(E))},_=()=>{l.value||(u.value.value="",u.value.click())},b=()=>{_()};return n({abort:$=>{zW(a.value).filter($?([y])=>String($.uid)===y:()=>!0).forEach(([y,I])=>{I instanceof XMLHttpRequest&&I.abort(),delete a.value[y]})},upload:p}),($,E)=>(A(),Y("div",{class:N([c(i).b(),c(i).m($.listType),c(i).is("drag",$.drag)]),tabindex:"0",onClick:_,onKeydown:ln(_t(b,["self"]),["enter","space"])},[$.drag?(A(),be(Tue,{key:0,disabled:c(l),onFile:h},{default:he(()=>[Te($.$slots,"default")]),_:3},8,["disabled"])):Te($.$slots,"default",{key:1}),Q("input",{ref_key:"inputRef",ref:u,class:N(c(i).e("input")),name:$.name,multiple:$.multiple,accept:$.accept,type:"file",onChange:m,onClick:E[0]||(E[0]=_t(()=>{},["stop"]))},null,42,Sue)],42,Eue))}});var NL=Ge(Iue,[["__file","upload-content.vue"]]);const ML="ElUpload",DL=t=>{var n;(n=t.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(t.url)},wue=(t,n)=>{const o=fN(t,"fileList",void 0,{passive:!0}),i=_=>o.value.find(b=>b.uid===_.uid);function l(_){var b;(b=n.value)==null||b.abort(_)}function a(_=["ready","uploading","success","fail"]){o.value=o.value.filter(b=>!_.includes(b.status))}const u=(_,b)=>{const T=i(b);T&&(console.error(_),T.status="fail",o.value.splice(o.value.indexOf(T),1),t.onError(_,T,o.value),t.onChange(T,o.value))},h=(_,b)=>{const T=i(b);T&&(t.onProgress(_,T,o.value),T.status="uploading",T.percentage=Math.round(_.percent))},p=(_,b)=>{const T=i(b);T&&(T.status="success",T.response=_,t.onSuccess(_,T,o.value),t.onChange(T,o.value))},f=_=>{ro(_.uid)&&(_.uid=Oy());const b={name:_.name,percentage:0,status:"ready",size:_.size,raw:_,uid:_.uid};if(t.listType==="picture-card"||t.listType==="picture")try{b.url=URL.createObjectURL(_)}catch(T){T.message,t.onError(T,b,o.value)}o.value=[...o.value,b],t.onChange(b,o.value)},g=async _=>{const b=_ instanceof File?i(_):_;b||qn(ML,"file to be removed not found");const T=$=>{l($);const E=o.value;E.splice(E.indexOf($),1),t.onRemove($,E),DL($)};t.beforeRemove?await t.beforeRemove(b,o.value)!==!1&&T(b):T(b)};function m(){o.value.filter(({status:_})=>_==="ready").forEach(({raw:_})=>{var b;return _&&((b=n.value)==null?void 0:b.upload(_))})}return Me(()=>t.listType,_=>{_!=="picture-card"&&_!=="picture"||(o.value=o.value.map(b=>{const{raw:T,url:$}=b;if(!$&&T)try{b.url=URL.createObjectURL(T)}catch(E){t.onError(E,b,o.value)}return b}))}),Me(o,_=>{for(const b of _)b.uid||(b.uid=Oy()),b.status||(b.status="success")},{immediate:!0,deep:!0}),{uploadFiles:o,abort:l,clearFiles:a,handleError:u,handleProgress:h,handleStart:f,handleSuccess:p,handleRemove:g,submit:m,revokeFileObjectURL:DL}},kue=ne({name:"ElUpload"}),Oue=ne({...kue,props:iue,setup(t,{expose:n}){const o=t,i=Qo(),l=bn(),{abort:a,submit:u,clearFiles:h,uploadFiles:p,handleStart:f,handleError:g,handleRemove:m,handleSuccess:_,handleProgress:b,revokeFileObjectURL:T}=wue(o,l),$=w(()=>o.listType==="picture-card"),E=w(()=>({...o,fileList:p.value,onStart:f,onProgress:b,onSuccess:_,onError:g,onRemove:m}));return mn(()=>{p.value.forEach(T)}),Gt(qP,{accept:sn(o,"accept")}),n({abort:a,submit:u,clearFiles:h,handleStart:f,handleRemove:m}),(y,I)=>(A(),Y("div",null,[c($)&&y.showFileList?(A(),be(AL,{key:0,disabled:c(i),"list-type":y.listType,files:c(p),crossorigin:y.crossorigin,"handle-preview":y.onPreview,onRemove:c(m)},Cr({append:he(()=>[ie(NL,Vt({ref_key:"uploadRef",ref:l},c(E)),{default:he(()=>[y.$slots.trigger?Te(y.$slots,"trigger",{key:0}):$e("v-if",!0),!y.$slots.trigger&&y.$slots.default?Te(y.$slots,"default",{key:1}):$e("v-if",!0)]),_:3},16)]),_:2},[y.$slots.file?{name:"default",fn:he(({file:S})=>[Te(y.$slots,"file",{file:S})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):$e("v-if",!0),!c($)||c($)&&!y.showFileList?(A(),be(NL,Vt({key:1,ref_key:"uploadRef",ref:l},c(E)),{default:he(()=>[y.$slots.trigger?Te(y.$slots,"trigger",{key:0}):$e("v-if",!0),!y.$slots.trigger&&y.$slots.default?Te(y.$slots,"default",{key:1}):$e("v-if",!0)]),_:3},16)):$e("v-if",!0),y.$slots.trigger?Te(y.$slots,"default",{key:2}):$e("v-if",!0),Te(y.$slots,"tip"),!c($)&&y.showFileList?(A(),be(AL,{key:3,disabled:c(i),"list-type":y.listType,files:c(p),crossorigin:y.crossorigin,"handle-preview":y.onPreview,onRemove:c(m)},Cr({_:2},[y.$slots.file?{name:"default",fn:he(({file:S})=>[Te(y.$slots,"file",{file:S})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):$e("v-if",!0)]))}});var Rue=Ge(Oue,[["__file","upload.vue"]]);const Lue=Mt(Rue),Aue=Ve({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:fe([String,Array]),default:"Element Plus"},font:{type:fe(Object)},gap:{type:fe(Array),default:()=>[100,100]},offset:{type:fe(Array)}});function Nue(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function Mue(t){return Object.keys(t).map(n=>`${Nue(n)}: ${t[n]};`).join(" ")}function Due(){return window.devicePixelRatio||1}const Pue=(t,n)=>{let o=!1;return t.removedNodes.length&&n&&(o=Array.from(t.removedNodes).includes(n)),t.type==="attributes"&&t.target===n&&(o=!0),o},ex=3;function aT(t,n,o=1){const i=document.createElement("canvas"),l=i.getContext("2d"),a=t*o,u=n*o;return i.setAttribute("width",`${a}px`),i.setAttribute("height",`${u}px`),l.save(),[l,i,a,u]}function xue(){function t(n,o,i,l,a,u,h,p){const[f,g,m,_]=aT(l,a,i);if(n instanceof HTMLImageElement)f.drawImage(n,0,0,m,_);else{const{color:oe,fontSize:le,fontStyle:me,fontWeight:Se,fontFamily:De,textAlign:ce,textBaseline:ye}=u,_e=Number(le)*i;f.font=`${me} normal ${Se} ${_e}px/${a}px ${De}`,f.fillStyle=oe,f.textAlign=ce,f.textBaseline=ye;const Ke=Array.isArray(n)?n:[n];Ke==null||Ke.forEach((ve,Ae)=>{f.fillText(ve??"",m/2,Ae*(_e+ex*i))})}const b=Math.PI/180*Number(o),T=Math.max(l,a),[$,E,y]=aT(T,T,i);$.translate(y/2,y/2),$.rotate(b),m>0&&_>0&&$.drawImage(g,-m/2,-_/2);function I(oe,le){const me=oe*Math.cos(b)-le*Math.sin(b),Se=oe*Math.sin(b)+le*Math.cos(b);return[me,Se]}let S=0,C=0,R=0,O=0;const P=m/2,M=_/2;[[0-P,0-M],[0+P,0-M],[0+P,0+M],[0-P,0+M]].forEach(([oe,le])=>{const[me,Se]=I(oe,le);S=Math.min(S,me),C=Math.max(C,me),R=Math.min(R,Se),O=Math.max(O,Se)});const F=S+y/2,B=R+y/2,K=C-S,te=O-R,J=h*i,j=p*i,z=(K+J)*2,G=te+j,[W,D]=aT(z,G);function X(oe=0,le=0){W.drawImage(E,F,B,K,te,oe,le,K,te)}return X(),X(K+J,-te/2-j/2),X(K+J,+te/2+j/2),[D.toDataURL(),z/i,G/i]}return t}const Bue=ne({name:"ElWatermark"}),Fue=ne({...Bue,props:Aue,setup(t){const n=t,o={position:"relative"},i=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.color)!=null?B:"rgba(0,0,0,.15)"}),l=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.fontSize)!=null?B:16}),a=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.fontWeight)!=null?B:"normal"}),u=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.fontStyle)!=null?B:"normal"}),h=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.fontFamily)!=null?B:"sans-serif"}),p=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.textAlign)!=null?B:"center"}),f=w(()=>{var F,B;return(B=(F=n.font)==null?void 0:F.textBaseline)!=null?B:"hanging"}),g=w(()=>n.gap[0]),m=w(()=>n.gap[1]),_=w(()=>g.value/2),b=w(()=>m.value/2),T=w(()=>{var F,B;return(B=(F=n.offset)==null?void 0:F[0])!=null?B:_.value}),$=w(()=>{var F,B;return(B=(F=n.offset)==null?void 0:F[1])!=null?B:b.value}),E=()=>{const F={zIndex:n.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let B=T.value-_.value,K=$.value-b.value;return B>0&&(F.left=`${B}px`,F.width=`calc(100% - ${B}px)`,B=0),K>0&&(F.top=`${K}px`,F.height=`calc(100% - ${K}px)`,K=0),F.backgroundPosition=`${B}px ${K}px`,F},y=bn(null),I=bn(),S=V(!1),C=()=>{I.value&&(I.value.remove(),I.value=void 0)},R=(F,B)=>{var K;y.value&&I.value&&(S.value=!0,I.value.setAttribute("style",Mue({...E(),backgroundImage:`url('${F}')`,backgroundSize:`${Math.floor(B)}px`})),(K=y.value)==null||K.append(I.value),setTimeout(()=>{S.value=!1}))},O=F=>{let B=120,K=64;const te=n.image,J=n.content,j=n.width,z=n.height;if(!te&&F.measureText){F.font=`${Number(l.value)}px ${h.value}`;const G=Array.isArray(J)?J:[J],W=G.map(D=>{const X=F.measureText(D);return[X.width,X.fontBoundingBoxAscent!==void 0?X.fontBoundingBoxAscent+X.fontBoundingBoxDescent:X.actualBoundingBoxAscent+X.actualBoundingBoxDescent]});B=Math.ceil(Math.max(...W.map(D=>D[0]))),K=Math.ceil(Math.max(...W.map(D=>D[1])))*G.length+(G.length-1)*ex}return[j??B,z??K]},P=xue(),M=()=>{const B=document.createElement("canvas").getContext("2d"),K=n.image,te=n.content,J=n.rotate;if(B){I.value||(I.value=document.createElement("div"));const j=Due(),[z,G]=O(B),W=D=>{const[X,oe]=P(D||"",J,j,z,G,{color:i.value,fontSize:l.value,fontStyle:u.value,fontWeight:a.value,fontFamily:h.value,textAlign:p.value,textBaseline:f.value},g.value,m.value);R(X,oe)};if(K){const D=new Image;D.onload=()=>{W(D)},D.onerror=()=>{W(te)},D.crossOrigin="anonymous",D.referrerPolicy="no-referrer",D.src=K}else W(te)}};return Rt(()=>{M()}),Me(()=>n,()=>{M()},{deep:!0,flush:"post"}),mn(()=>{C()}),pN(y,F=>{S.value||F.forEach(B=>{Pue(B,I.value)&&(C(),M())})},{attributes:!0,subtree:!0,childList:!0}),(F,B)=>(A(),Y("div",{ref_key:"containerRef",ref:y,style:ct([o])},[Te(F.$slots,"default")],4))}});var Hue=Ge(Fue,[["__file","watermark.vue"]]);const Vue=Mt(Hue),Uue=Ve({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:fe(Object)},targetAreaClickable:{type:Boolean,default:!0}}),Gue=(t,n,o,i,l)=>{const a=V(null),u=()=>{let m;return yt(t.value)?m=document.querySelector(t.value):vt(t.value)?m=t.value():m=t.value,m},h=()=>{const m=u();if(!m||!n.value){a.value=null;return}!Wue(m)&&n.value&&m.scrollIntoView(l.value);const{left:_,top:b,width:T,height:$}=m.getBoundingClientRect();a.value={left:_,top:b,width:T,height:$,radius:0}};Rt(()=>{Me([n,t],()=>{h()},{immediate:!0}),window.addEventListener("resize",h)}),mn(()=>{window.removeEventListener("resize",h)});const p=m=>{var _;return(_=tt(o.value.offset)?o.value.offset[m]:o.value.offset)!=null?_:6},f=w(()=>{var m;if(!a.value)return a.value;const _=p(0),b=p(1),T=((m=o.value)==null?void 0:m.radius)||2;return{left:a.value.left-_,top:a.value.top-b,width:a.value.width+_*2,height:a.value.height+b*2,radius:T}}),g=w(()=>{const m=u();return!i.value||!m||!window.DOMRect?m||void 0:{getBoundingClientRect(){var _,b,T,$;return window.DOMRect.fromRect({width:((_=f.value)==null?void 0:_.width)||0,height:((b=f.value)==null?void 0:b.height)||0,x:((T=f.value)==null?void 0:T.left)||0,y:(($=f.value)==null?void 0:$.top)||0})}}});return{mergedPosInfo:f,triggerTarget:g}},jg=Symbol("ElTour");function Wue(t){const n=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight,{top:i,right:l,bottom:a,left:u}=t.getBoundingClientRect();return i>=0&&u>=0&&l<=n&&a<=o}const zue=(t,n,o,i,l,a,u,h)=>{const p=V(),f=V(),g=V({}),m={x:p,y:f,placement:i,strategy:l,middlewareData:g},_=w(()=>{const y=[U1(c(a)),f6(),p6(),Kue()];return c(h)&&c(o)&&y.push(G1({element:c(o)})),y}),b=async()=>{if(!Xt)return;const y=c(t),I=c(n);if(!y||!I)return;const S=await W1(y,I,{placement:c(i),strategy:c(l),middleware:c(_)});_c(m).forEach(C=>{m[C].value=S[C]})},T=w(()=>{if(!c(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:c(u)};const{overflow:y}=c(g);return{position:c(l),zIndex:c(u),top:c(f)!=null?`${c(f)}px`:"",left:c(p)!=null?`${c(p)}px`:"",maxWidth:y!=null&&y.maxWidth?`${y==null?void 0:y.maxWidth}px`:""}}),$=w(()=>{if(!c(h))return{};const{arrow:y}=c(g);return{left:(y==null?void 0:y.x)!=null?`${y==null?void 0:y.x}px`:"",top:(y==null?void 0:y.y)!=null?`${y==null?void 0:y.y}px`:""}});let E;return Rt(()=>{const y=c(t),I=c(n);y&&I&&(E=d6(y,I,b)),So(()=>{b()})}),mn(()=>{E&&E()}),{update:b,contentStyle:T,arrowStyle:$}},Kue=()=>({name:"overflow",async fn(t){const n=await h6(t);let o=0;return n.left>0&&(o=n.left),n.right>0&&(o=n.right),{data:{maxWidth:t.rects.floating.width-o}}}}),Xue={style:{width:"100%",height:"100%"}},Yue=["d"],jue=ne({name:"ElTourMask",inheritAttrs:!1}),que=ne({...jue,props:Uue,setup(t){const n=t,{ns:o}=it(jg),i=w(()=>{var h,p;return(p=(h=n.pos)==null?void 0:h.radius)!=null?p:2}),l=w(()=>{const h=i.value,p=`a${h},${h} 0 0 1`;return{topRight:`${p} ${h},${h}`,bottomRight:`${p} ${-h},${h}`,bottomLeft:`${p} ${-h},${-h}`,topLeft:`${p} ${h},${-h}`}}),a=w(()=>{const h=window.innerWidth,p=window.innerHeight,f=l.value,g=`M${h},0 L0,0 L0,${p} L${h},${p} L${h},0 Z`,m=i.value;return n.pos?`${g} M${n.pos.left+m},${n.pos.top} h${n.pos.width-m*2} ${f.topRight} v${n.pos.height-m*2} ${f.bottomRight} h${-n.pos.width+m*2} ${f.bottomLeft} v${-n.pos.height+m*2} ${f.topLeft} z`:g}),u=w(()=>({fill:n.fill,pointerEvents:"auto",cursor:"auto"}));return ME(sn(n,"visible"),{ns:o}),(h,p)=>h.visible?(A(),Y("div",Vt({key:0,class:c(o).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:h.zIndex,pointerEvents:h.pos&&h.targetAreaClickable?"none":"auto"}},h.$attrs),[(A(),Y("svg",Xue,[Q("path",{class:N(c(o).e("hollow")),style:ct(c(u)),d:c(a)},null,14,Yue)]))],16)):$e("v-if",!0)}});var Jue=Ge(que,[["__file","mask.vue"]]);const Zue=["absolute","fixed"],Que=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],B0=Ve({placement:{type:fe(String),values:Que,default:"bottom"},reference:{type:fe(Object),default:null},strategy:{type:fe(String),values:Zue,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),ece={close:()=>!0},tce=["data-side"],nce=ne({name:"ElTourContent"}),oce=ne({...nce,props:B0,emits:ece,setup(t,{emit:n}){const o=t,i=V(o.placement),l=V(o.strategy),a=V(null),u=V(null);Me(()=>o.placement,()=>{i.value=o.placement});const{contentStyle:h,arrowStyle:p}=zue(sn(o,"reference"),a,u,i,l,sn(o,"offset"),sn(o,"zIndex"),sn(o,"showArrow")),f=w(()=>i.value.split("-")[0]),{ns:g}=it(jg),m=()=>{n("close")},_=b=>{b.detail.focusReason==="pointer"&&b.preventDefault()};return(b,T)=>(A(),Y("div",{ref_key:"contentRef",ref:a,style:ct(c(h)),class:N(c(g).e("content")),"data-side":c(f),tabindex:"-1"},[ie(c(rp),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":a.value||void 0,onReleaseRequested:m,onFocusoutPrevented:_},{default:he(()=>[Te(b.$slots,"default")]),_:3},8,["focus-trap-el"]),b.showArrow?(A(),Y("span",{key:0,ref_key:"arrowRef",ref:u,style:ct(c(p)),class:N(c(g).e("arrow"))},null,6)):$e("v-if",!0)],14,tce))}});var sce=Ge(oce,[["__file","content.vue"]]),ice=ne({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:n,emit:o}){let i=0;return()=>{var l,a;const u=(l=n.default)==null?void 0:l.call(n),h=[];let p=0;function f(g){tt(g)&&g.forEach(m=>{var _;((_=(m==null?void 0:m.type)||{})==null?void 0:_.name)==="ElTourStep"&&(h.push(m),p+=1)})}return u.length&&f($l((a=u[0])==null?void 0:a.children)),i!==p&&(i=p,o("update-total",p)),h.length?h[t.current]:null}}});const rce=Ve({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:an},placement:B0.placement,contentStyle:{type:fe([Object])},mask:{type:fe([Boolean,Object]),default:!0},gap:{type:fe(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:fe([Boolean,Object]),default:()=>({block:"center"})},type:{type:fe(String)},appendTo:{type:fe([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),lce={[Bt]:t=>Vn(t),"update:current":t=>gt(t),close:t=>gt(t),finish:()=>!0,change:t=>gt(t)},ace=ne({name:"ElTour"}),uce=ne({...ace,props:rce,emits:lce,setup(t,{emit:n}){const o=t,i=Pe("tour"),l=V(0),a=V(),u=fN(o,"current",n,{passive:!0}),h=w(()=>{var H;return(H=a.value)==null?void 0:H.target}),p=w(()=>[i.b(),E.value==="primary"?i.m("primary"):""]),f=w(()=>{var H;return((H=a.value)==null?void 0:H.placement)||o.placement}),g=w(()=>{var H,F;return(F=(H=a.value)==null?void 0:H.contentStyle)!=null?F:o.contentStyle}),m=w(()=>{var H,F;return(F=(H=a.value)==null?void 0:H.mask)!=null?F:o.mask}),_=w(()=>!!m.value&&o.modelValue),b=w(()=>Vn(m.value)?void 0:m.value),T=w(()=>{var H,F;return!!h.value&&((F=(H=a.value)==null?void 0:H.showArrow)!=null?F:o.showArrow)}),$=w(()=>{var H,F;return(F=(H=a.value)==null?void 0:H.scrollIntoViewOptions)!=null?F:o.scrollIntoViewOptions}),E=w(()=>{var H,F;return(F=(H=a.value)==null?void 0:H.type)!=null?F:o.type}),{nextZIndex:y}=Vc(),I=y(),S=w(()=>{var H;return(H=o.zIndex)!=null?H:I}),{mergedPosInfo:C,triggerTarget:R}=Gue(h,sn(o,"modelValue"),sn(o,"gap"),m,$);Me(()=>o.modelValue,H=>{H||(u.value=0)});const O=()=>{o.closeOnPressEscape&&(n("update:modelValue",!1),n("close",u.value))},P=H=>{l.value=H},M=uo();return Gt(jg,{currentStep:a,current:u,total:l,showClose:sn(o,"showClose"),closeIcon:sn(o,"closeIcon"),mergedType:E,ns:i,slots:M,updateModelValue(H){n("update:modelValue",H)},onClose(){n("close",u.value)},onFinish(){n("finish")},onChange(){n("change",u.value)}}),(H,F)=>{var B,K;return A(),Y(dt,null,[(A(),be(Dc,{to:H.appendTo},[Q("div",Vt({class:c(p)},H.$attrs),[ie(Jue,{visible:c(_),fill:(B=c(b))==null?void 0:B.color,style:ct((K=c(b))==null?void 0:K.style),pos:c(C),"z-index":c(S),"target-area-clickable":H.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),H.modelValue?(A(),be(sce,{key:c(u),reference:c(R),placement:c(f),"show-arrow":c(T),"z-index":c(S),style:ct(c(g)),onClose:O},{default:he(()=>[ie(c(ice),{current:c(u),onUpdateTotal:P},{default:he(()=>[Te(H.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):$e("v-if",!0)],16)],8,["to"])),$e(" just for IDE "),$e("v-if",!0)],64)}}});var cce=Ge(uce,[["__file","tour.vue"]]);const dce=Ve({target:{type:fe([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:an},showArrow:{type:Boolean,default:void 0},placement:B0.placement,mask:{type:fe([Boolean,Object]),default:void 0},contentStyle:{type:fe([Object])},prevButtonProps:{type:fe(Object)},nextButtonProps:{type:fe(Object)},scrollIntoViewOptions:{type:fe([Boolean,Object]),default:void 0},type:{type:fe(String)}}),hce={close:()=>!0},pce=ne({name:"ElTourStep"}),fce=ne({...pce,props:dce,emits:hce,setup(t,{emit:n}){const o=t,{Close:i}=kE,{t:l}=jt(),{currentStep:a,current:u,total:h,showClose:p,closeIcon:f,mergedType:g,ns:m,slots:_,updateModelValue:b,onClose:T,onFinish:$,onChange:E}=it(jg);Me(o,M=>{a.value=M},{immediate:!0});const y=w(()=>{var M;return(M=o.showClose)!=null?M:p.value}),I=w(()=>{var M,H;return(H=(M=o.closeIcon)!=null?M:f.value)!=null?H:i}),S=M=>{if(M)return DW(M,["children","onClick"])},C=()=>{var M,H;u.value-=1,(M=o.prevButtonProps)!=null&&M.onClick&&((H=o.prevButtonProps)==null||H.onClick()),E()},R=()=>{var M;u.value>=h.value-1?O():u.value+=1,(M=o.nextButtonProps)!=null&&M.onClick&&o.nextButtonProps.onClick(),E()},O=()=>{P(),$()},P=()=>{b(!1),T(),n("close")};return(M,H)=>(A(),Y(dt,null,[c(y)?(A(),Y("button",{key:0,"aria-label":"Close",class:N(c(m).e("closebtn")),type:"button",onClick:P},[ie(c(at),{class:N(c(m).e("close"))},{default:he(()=>[(A(),be(Ft(c(I))))]),_:1},8,["class"])],2)):$e("v-if",!0),Q("header",{class:N([c(m).e("header"),{"show-close":c(p)}])},[Te(M.$slots,"header",{},()=>[Q("span",{role:"heading",class:N(c(m).e("title"))},We(M.title),3)])],2),Q("div",{class:N(c(m).e("body"))},[Te(M.$slots,"default",{},()=>[Q("span",null,We(M.description),1)])],2),Q("footer",{class:N(c(m).e("footer"))},[Q("div",{class:N(c(m).b("indicators"))},[c(_).indicators?(A(),be(Ft(c(_).indicators),{key:0,current:c(u),total:c(h)},null,8,["current","total"])):(A(!0),Y(dt,{key:1},Kt(c(h),(F,B)=>(A(),Y("span",{key:F,class:N([c(m).b("indicator"),B===c(u)?"is-active":""])},null,2))),128))],2),Q("div",{class:N(c(m).b("buttons"))},[c(u)>0?(A(),be(c(lo),Vt({key:0,size:"small",type:c(g)},S(M.prevButtonProps),{onClick:C}),{default:he(()=>{var F,B;return[zt(We((B=(F=M.prevButtonProps)==null?void 0:F.children)!=null?B:c(l)("el.tour.previous")),1)]}),_:1},16,["type"])):$e("v-if",!0),c(u)<=c(h)-1?(A(),be(c(lo),Vt({key:1,size:"small",type:c(g)==="primary"?"default":"primary"},S(M.nextButtonProps),{onClick:R}),{default:he(()=>{var F,B;return[zt(We((B=(F=M.nextButtonProps)==null?void 0:F.children)!=null?B:c(u)===c(h)-1?c(l)("el.tour.finish"):c(l)("el.tour.next")),1)]}),_:1},16,["type"])):$e("v-if",!0)],2)],2)],64))}});var tx=Ge(fce,[["__file","step.vue"]]);const mce=Mt(cce,{TourStep:tx}),gce=On(tx),$ce=Ve({container:{type:fe([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:fe(String),default:"default"},direction:{type:fe(String),default:"vertical"}}),vce={change:t=>yt(t),click:(t,n)=>t instanceof MouseEvent&&(yt(n)||Hn(n))},nx=Symbol("anchor"),_ce=ne({name:"ElAnchor"}),bce=ne({..._ce,props:$ce,emits:vce,setup(t,{expose:n,emit:o}){const i=t,l=V(""),a=V(null),u=V(null),h=V(),p={};let f=!1,g=0;const m=Pe("anchor"),_=w(()=>[m.b(),i.type==="underline"?m.m("underline"):"",m.m(i.direction)]),b=M=>{p[M.href]=M.el},T=M=>{delete p[M]},$=M=>{l.value!==M&&(l.value=M,o("change",M))};let E=null;const y=M=>{if(!h.value)return;const H=zf(M);if(!H)return;E&&E(),f=!0;const F=WO(H,h.value),B=CT(H,F),K=F.scrollHeight-F.clientHeight,te=Math.min(B-i.offset,K);E=YW(h.value,g,te,i.duration,()=>{setTimeout(()=>{f=!1},20)})},I=M=>{M&&($(M),y(M))},S=(M,H)=>{o("click",M,H),I(H)},C=hz(()=>{h.value&&(g=zO(h.value));const M=R();f||Hn(M)||$(M)}),R=()=>{if(!h.value)return;const M=zO(h.value),H=[];for(const F of Object.keys(p)){const B=zf(F);if(!B)continue;const K=WO(B,h.value),te=CT(B,K);H.push({top:te-i.offset-i.bound,href:F})}H.sort((F,B)=>F.top-B.top);for(let F=0;F<H.length;F++){const B=H[F],K=H[F+1];if(F===0&&M===0)return"";if(B.top<=M&&(!K||K.top>M))return B.href}},O=()=>{const M=zf(i.container);!M||Lg(M)?h.value=window:h.value=M};$n(h,"scroll",C);const P=w(()=>{if(!a.value||!u.value||!l.value)return{};const M=p[l.value];if(!M)return{};const H=a.value.getBoundingClientRect(),F=u.value.getBoundingClientRect(),B=M.getBoundingClientRect();return i.direction==="horizontal"?{left:`${B.left-H.left}px`,width:`${B.width}px`,opacity:1}:{top:`${B.top-H.top+(B.height-F.height)/2}px`,opacity:1}});return Rt(()=>{O();const M=decodeURIComponent(window.location.hash);zf(M)?I(M):C()}),Me(()=>i.container,()=>{O()}),Gt(nx,{ns:m,direction:i.direction,currentAnchor:l,addLink:b,removeLink:T,handleClick:S}),n({scrollTo:I}),(M,H)=>(A(),Y("div",{ref_key:"anchorRef",ref:a,class:N(c(_))},[M.marker?(A(),Y("div",{key:0,ref_key:"markerRef",ref:u,class:N(c(m).e("marker")),style:ct(c(P))},null,6)):$e("v-if",!0),Q("div",{class:N(c(m).e("list"))},[Te(M.$slots,"default")],2)],2))}});var Tce=Ge(bce,[["__file","anchor.vue"]]);const yce=Ve({title:String,href:String}),Ece=["href"],Sce=ne({name:"ElAnchorLink"}),Cce=ne({...Sce,props:yce,setup(t){const n=t,o=V(null),{ns:i,direction:l,currentAnchor:a,addLink:u,removeLink:h,handleClick:p}=it(nx),f=w(()=>[i.e("link"),i.is("active",a.value===n.href)]),g=m=>{p(m,n.href)};return Me(()=>n.href,(m,_)=>{pt(()=>{_&&h(_),m&&u({href:m,el:o.value})})}),Rt(()=>{const{href:m}=n;m&&u({href:m,el:o.value})}),mn(()=>{const{href:m}=n;m&&h(m)}),(m,_)=>(A(),Y("div",{class:N(c(i).e("item"))},[Q("a",{ref_key:"linkRef",ref:o,class:N(c(f)),href:m.href,onClick:g},[Te(m.$slots,"default",{},()=>[zt(We(m.title),1)])],10,Ece),m.$slots["sub-link"]&&c(l)==="vertical"?(A(),Y("div",{key:0,class:N(c(i).e("list"))},[Te(m.$slots,"sub-link")],2)):$e("v-if",!0)],2))}});var ox=Ge(Cce,[["__file","anchor-link.vue"]]);const Ice=Mt(Tce,{AnchorLink:ox}),wce=On(ox),kce=Ve({options:{type:fe(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:Jn,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...go(["ariaLabel"])}),Oce={[Bt]:t=>yt(t)||gt(t),[vn]:t=>yt(t)||gt(t)},Rce=["id","aria-label","aria-labelledby"],Lce=["name","disabled","checked","onChange"],Ace=ne({name:"ElSegmented"}),Nce=ne({...Ace,props:kce,emits:Oce,setup(t,{emit:n}){const o=t,i=Pe("segmented"),l=Io(),a=Xn(),u=Qo(),{formItem:h}=Fo(),{inputId:p,isLabeledByFormItem:f}=$i(o,{formItemContext:h}),g=V(null),m=Q2(),_=en({isInit:!1,width:0,translateX:0,disabled:!1,focusVisible:!1}),b=H=>{const F=T(H);n(Bt,F),n(vn,F)},T=H=>Pt(H)?H.value:H,$=H=>Pt(H)?H.label:H,E=H=>!!(u.value||Pt(H)&&H.disabled),y=H=>o.modelValue===T(H),I=H=>o.options.find(F=>T(F)===H),S=H=>[i.e("item"),i.is("selected",y(H)),i.is("disabled",E(H))],C=()=>{if(!g.value)return;const H=g.value.querySelector(".is-selected"),F=g.value.querySelector(".is-selected input");if(!H||!F){_.width=0,_.translateX=0,_.disabled=!1,_.focusVisible=!1;return}const B=H.getBoundingClientRect();_.isInit=!0,_.width=B.width,_.translateX=H.offsetLeft,_.disabled=E(I(o.modelValue));try{_.focusVisible=F.matches(":focus-visible")}catch{}},R=w(()=>[i.b(),i.m(a.value),i.is("block",o.block)]),O=w(()=>({width:`${_.width}px`,transform:`translateX(${_.translateX}px)`,display:_.isInit?"block":"none"})),P=w(()=>[i.e("item-selected"),i.is("disabled",_.disabled),i.is("focus-visible",_.focusVisible)]),M=w(()=>o.name||l.value);return wn(g,C),Me(m,C),Me(()=>o.modelValue,()=>{var H;C(),o.validateEvent&&((H=h==null?void 0:h.validate)==null||H.call(h,"change").catch(F=>void 0))},{flush:"post"}),(H,F)=>(A(),Y("div",{id:c(p),ref_key:"segmentedRef",ref:g,class:N(c(R)),role:"radiogroup","aria-label":c(f)?void 0:H.ariaLabel||"segmented","aria-labelledby":c(f)?c(h).labelId:void 0},[Q("div",{class:N(c(i).e("group"))},[Q("div",{style:ct(c(O)),class:N(c(P))},null,6),(A(!0),Y(dt,null,Kt(H.options,(B,K)=>(A(),Y("label",{key:K,class:N(S(B))},[Q("input",{class:N(c(i).e("item-input")),type:"radio",name:c(M),disabled:E(B),checked:y(B),onChange:te=>b(B)},null,42,Lce),Q("div",{class:N(c(i).e("item-label"))},[Te(H.$slots,"default",{item:B},()=>[zt(We($(B)),1)])],2)],2))),128))],2)],10,Rce))}});var Mce=Ge(Nce,[["__file","segmented.vue"]]);const Dce=Mt(Mce);var Pce=[D6,K6,vX,Yre,CX,AX,aM,KX,XX,lo,mM,hj,$j,xj,Bj,q9,P9,n7,Ys,n9,GM,f7,A7,N7,S7,uq,w6,Tq,yq,Eq,Sq,Cq,zJ,nZ,oZ,_Z,ED,NZ,SQ,CQ,IQ,AD,FK,HK,at,vee,ND,Do,MD,Aee,Zee,Qee,ete,tte,ate,mne,Tne,Rne,iM,WD,qM,v9,$9,Xne,Zne,u7,Dr,Va,ng,Vte,Boe,Koe,Xoe,Ese,kse,uP,Fse,Yse,jse,rie,ure,cre,Xre,ule,cle,Mh,mle,WY,Tle,Ile,wle,Bo,Qle,fae,kae,Dae,Qae,Lue,Vue,mce,gce,Ice,wce,Dce];const Ps="ElInfiniteScroll",xce=50,Bce=200,Fce=0,Hce={delay:{type:Number,default:Bce},distance:{type:Number,default:Fce},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},F0=(t,n)=>Object.entries(Hce).reduce((o,[i,l])=>{var a,u;const{type:h,default:p}=l,f=t.getAttribute(`infinite-scroll-${i}`);let g=(u=(a=n[f])!=null?a:f)!=null?u:p;return g=g==="false"?!1:g,g=h(g),o[i]=Number.isNaN(g)?p:g,o},{}),sx=t=>{const{observer:n}=t[Ps];n&&(n.disconnect(),delete t[Ps].observer)},Vce=(t,n)=>{const{container:o,containerEl:i,instance:l,observer:a,lastScrollTop:u}=t[Ps],{disabled:h,distance:p}=F0(t,l),{clientHeight:f,scrollHeight:g,scrollTop:m}=i,_=m-u;if(t[Ps].lastScrollTop=m,a||h||_<0)return;let b=!1;if(o===t)b=g-(f+m)<=p;else{const{clientTop:T,scrollHeight:$}=t,E=CT(t,i);b=m+f>=E+T+$-p}b&&n.call(l)};function uT(t,n){const{containerEl:o,instance:i}=t[Ps],{disabled:l}=F0(t,i);l||o.clientHeight===0||(o.scrollHeight<=o.clientHeight?n.call(i):sx(t))}const Uce={async mounted(t,n){const{instance:o,value:i}=n;vt(i)||qn(Ps,"'v-infinite-scroll' binding value must be a function"),await pt();const{delay:l,immediate:a}=F0(t,o),u=yE(t,!0),h=u===window?document.documentElement:u,p=Ra(Vce.bind(null,t,i),l);if(u){if(t[Ps]={instance:o,container:u,containerEl:h,delay:l,cb:i,onScroll:p,lastScrollTop:h.scrollTop},a){const f=new MutationObserver(Ra(uT.bind(null,t,i),xce));t[Ps].observer=f,f.observe(t,{childList:!0,subtree:!0}),uT(t,i)}u.addEventListener("scroll",p)}},unmounted(t){if(!t[Ps])return;const{container:n,onScroll:o}=t[Ps];n==null||n.removeEventListener("scroll",o),sx(t)},async updated(t){if(!t[Ps])await pt();else{const{containerEl:n,cb:o,observer:i}=t[Ps];n.clientHeight&&i&&uT(t,o)}}},Ry=Uce;Ry.install=t=>{t.directive("InfiniteScroll",Ry)};const Gce=Ry;function Wce(t){let n;const o=V(!1),i=en({...t,originalPosition:"",originalOverflow:"",visible:!1});function l(_){i.text=_}function a(){const _=i.parent,b=m.ns;if(!_.vLoadingAddClassList){let T=_.getAttribute("loading-number");T=Number.parseInt(T)-1,T?_.setAttribute("loading-number",T.toString()):(xo(_,b.bm("parent","relative")),_.removeAttribute("loading-number")),xo(_,b.bm("parent","hidden"))}u(),g.unmount()}function u(){var _,b;(b=(_=m.$el)==null?void 0:_.parentNode)==null||b.removeChild(m.$el)}function h(){var _;t.beforeClose&&!t.beforeClose()||(o.value=!0,clearTimeout(n),n=window.setTimeout(p,400),i.visible=!1,(_=t.closed)==null||_.call(t))}function p(){if(!o.value)return;const _=i.parent;o.value=!1,_.vLoadingAddClassList=void 0,a()}const g=lN(ne({name:"ElLoading",setup(_,{expose:b}){const{ns:T,zIndex:$}=Fg("loading");return b({ns:T,zIndex:$}),()=>{const E=i.spinner||i.svg,y=ft("svg",{class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"0 0 50 50",...E?{innerHTML:E}:{}},[ft("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),I=i.text?ft("p",{class:T.b("text")},[i.text]):void 0;return ft(jn,{name:T.b("fade"),onAfterLeave:p},{default:he(()=>[Ot(ie("div",{style:{backgroundColor:i.background||""},class:[T.b("mask"),i.customClass,i.fullscreen?"is-fullscreen":""]},[ft("div",{class:T.b("spinner")},[y,I])]),[[qt,i.visible]])])})}}})),m=g.mount(document.createElement("div"));return{...mo(i),setText:l,removeElLoadingChild:u,close:h,handleAfterLeave:p,vm:m,get $el(){return m.$el}}}let rm;const Ly=function(t={}){if(!Xt)return;const n=zce(t);if(n.fullscreen&&rm)return rm;const o=Wce({...n,closed:()=>{var l;(l=n.closed)==null||l.call(n),n.fullscreen&&(rm=void 0)}});Kce(n,n.parent,o),PL(n,n.parent,o),n.parent.vLoadingAddClassList=()=>PL(n,n.parent,o);let i=n.parent.getAttribute("loading-number");return i?i=`${Number.parseInt(i)+1}`:i="1",n.parent.setAttribute("loading-number",i),n.parent.appendChild(o.$el),pt(()=>o.visible.value=n.visible),n.fullscreen&&(rm=o),o},zce=t=>{var n,o,i,l;let a;return yt(t.target)?a=(n=document.querySelector(t.target))!=null?n:document.body:a=t.target||document.body,{parent:a===document.body||t.body?document.body:a,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:a===document.body&&((o=t.fullscreen)!=null?o:!0),lock:(i=t.lock)!=null?i:!1,customClass:t.customClass||"",visible:(l=t.visible)!=null?l:!0,target:a}},Kce=async(t,n,o)=>{const{nextZIndex:i}=o.vm.zIndex||o.vm._.exposed.zIndex,l={};if(t.fullscreen)o.originalPosition.value=hl(document.body,"position"),o.originalOverflow.value=hl(document.body,"overflow"),l.zIndex=i();else if(t.parent===document.body){o.originalPosition.value=hl(document.body,"position"),await pt();for(const a of["top","left"]){const u=a==="top"?"scrollTop":"scrollLeft";l[a]=`${t.target.getBoundingClientRect()[a]+document.body[u]+document.documentElement[u]-Number.parseInt(hl(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])l[a]=`${t.target.getBoundingClientRect()[a]}px`}else o.originalPosition.value=hl(n,"position");for(const[a,u]of Object.entries(l))o.$el.style[a]=u},PL=(t,n,o)=>{const i=o.vm.ns||o.vm._.exposed.ns;["absolute","fixed","sticky"].includes(o.originalPosition.value)?xo(n,i.bm("parent","relative")):Bs(n,i.bm("parent","relative")),t.fullscreen&&t.lock?Bs(n,i.bm("parent","hidden")):xo(n,i.bm("parent","hidden"))},Dm=Symbol("ElLoading"),xL=(t,n)=>{var o,i,l,a;const u=n.instance,h=_=>Pt(n.value)?n.value[_]:void 0,p=_=>{const b=yt(_)&&(u==null?void 0:u[_])||_;return b&&V(b)},f=_=>p(h(_)||t.getAttribute(`element-loading-${kl(_)}`)),g=(o=h("fullscreen"))!=null?o:n.modifiers.fullscreen,m={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:g,target:(i=h("target"))!=null?i:g?void 0:t,body:(l=h("body"))!=null?l:n.modifiers.body,lock:(a=h("lock"))!=null?a:n.modifiers.lock};t[Dm]={options:m,instance:Ly(m)}},Xce=(t,n)=>{for(const o of Object.keys(n))Tn(n[o])&&(n[o].value=t[o])},BL={mounted(t,n){n.value&&xL(t,n)},updated(t,n){const o=t[Dm];n.oldValue!==n.value&&(n.value&&!n.oldValue?xL(t,n):n.value&&n.oldValue?Pt(n.value)&&Xce(n.value,o.options):o==null||o.instance.close())},unmounted(t){var n;(n=t[Dm])==null||n.instance.close(),t[Dm]=null}},Yce={install(t){t.directive("loading",BL),t.config.globalProperties.$loading=Ly},directive:BL,service:Ly},ix=["success","info","warning","error"],No=kn({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Xt?document.body:void 0}),jce=Ve({customClass:{type:String,default:No.customClass},center:{type:Boolean,default:No.center},dangerouslyUseHTMLString:{type:Boolean,default:No.dangerouslyUseHTMLString},duration:{type:Number,default:No.duration},icon:{type:an,default:No.icon},id:{type:String,default:No.id},message:{type:fe([String,Object,Function]),default:No.message},onClose:{type:fe(Function),default:No.onClose},showClose:{type:Boolean,default:No.showClose},type:{type:String,values:ix,default:No.type},plain:{type:Boolean,default:No.plain},offset:{type:Number,default:No.offset},zIndex:{type:Number,default:No.zIndex},grouping:{type:Boolean,default:No.grouping},repeatNum:{type:Number,default:No.repeatNum}}),qce={destroy:()=>!0},ci=aA([]),Jce=t=>{const n=ci.findIndex(l=>l.id===t),o=ci[n];let i;return n>0&&(i=ci[n-1]),{current:o,prev:i}},Zce=t=>{const{prev:n}=Jce(t);return n?n.vm.exposed.bottom.value:0},Qce=(t,n)=>ci.findIndex(i=>i.id===t)>0?16:n,ede=["id"],tde=["innerHTML"],nde=ne({name:"ElMessage"}),ode=ne({...nde,props:jce,emits:qce,setup(t,{expose:n}){const o=t,{Close:i}=OE,{ns:l,zIndex:a}=Fg("message"),{currentZIndex:u,nextZIndex:h}=a,p=V(),f=V(!1),g=V(0);let m;const _=w(()=>o.type?o.type==="error"?"danger":o.type:"info"),b=w(()=>{const P=o.type;return{[l.bm("icon",P)]:P&&Cl[P]}}),T=w(()=>o.icon||Cl[o.type]||""),$=w(()=>Zce(o.id)),E=w(()=>Qce(o.id,o.offset)+$.value),y=w(()=>g.value+E.value),I=w(()=>({top:`${E.value}px`,zIndex:u.value}));function S(){o.duration!==0&&({stop:m}=Da(()=>{R()},o.duration))}function C(){m==null||m()}function R(){f.value=!1}function O({code:P}){P===mt.esc&&R()}return Rt(()=>{S(),h(),f.value=!0}),Me(()=>o.repeatNum,()=>{C(),S()}),$n(document,"keydown",O),wn(p,()=>{g.value=p.value.getBoundingClientRect().height}),n({visible:f,bottom:y,close:R}),(P,M)=>(A(),be(jn,{name:c(l).b("fade"),onBeforeLeave:P.onClose,onAfterLeave:M[0]||(M[0]=H=>P.$emit("destroy")),persisted:""},{default:he(()=>[Ot(Q("div",{id:P.id,ref_key:"messageRef",ref:p,class:N([c(l).b(),{[c(l).m(P.type)]:P.type},c(l).is("center",P.center),c(l).is("closable",P.showClose),c(l).is("plain",P.plain),P.customClass]),style:ct(c(I)),role:"alert",onMouseenter:C,onMouseleave:S},[P.repeatNum>1?(A(),be(c(aM),{key:0,value:P.repeatNum,type:c(_),class:N(c(l).e("badge"))},null,8,["value","type","class"])):$e("v-if",!0),c(T)?(A(),be(c(at),{key:1,class:N([c(l).e("icon"),c(b)])},{default:he(()=>[(A(),be(Ft(c(T))))]),_:1},8,["class"])):$e("v-if",!0),Te(P.$slots,"default",{},()=>[P.dangerouslyUseHTMLString?(A(),Y(dt,{key:1},[$e(" Caution here, message could've been compromised, never use user's input as message "),Q("p",{class:N(c(l).e("content")),innerHTML:P.message},null,10,tde)],2112)):(A(),Y("p",{key:0,class:N(c(l).e("content"))},We(P.message),3))]),P.showClose?(A(),be(c(at),{key:2,class:N(c(l).e("closeBtn")),onClick:_t(R,["stop"])},{default:he(()=>[ie(c(i))]),_:1},8,["class","onClick"])):$e("v-if",!0)],46,ede),[[qt,f.value]])]),_:3},8,["name","onBeforeLeave"]))}});var sde=Ge(ode,[["__file","message.vue"]]);let ide=1;const rx=t=>{const n=!t||yt(t)||Cn(t)||vt(t)?{message:t}:t,o={...No,...n};if(!o.appendTo)o.appendTo=document.body;else if(yt(o.appendTo)){let i=document.querySelector(o.appendTo);zs(i)||(i=document.body),o.appendTo=i}return o},rde=t=>{const n=ci.indexOf(t);if(n===-1)return;ci.splice(n,1);const{handler:o}=t;o.close()},lde=({appendTo:t,...n},o)=>{const i=`message_${ide++}`,l=n.onClose,a=document.createElement("div"),u={...n,id:i,onClose:()=>{l==null||l(),rde(g)},onDestroy:()=>{bl(null,a)}},h=ie(sde,u,vt(u.message)||Cn(u.message)?{default:vt(u.message)?u.message:()=>u.message}:null);h.appContext=o||Ac._context,bl(h,a),t.appendChild(a.firstElementChild);const p=h.component,g={id:i,vnode:h,vm:p,handler:{close:()=>{p.exposed.visible.value=!1}},props:h.component.props};return g},Ac=(t={},n)=>{if(!Xt)return{close:()=>{}};if(gt(PT.max)&&ci.length>=PT.max)return{close:()=>{}};const o=rx(t);if(o.grouping&&ci.length){const l=ci.find(({vnode:a})=>{var u;return((u=a.props)==null?void 0:u.message)===o.message});if(l)return l.props.repeatNum+=1,l.props.type=o.type,l.handler}const i=lde(o,n);return ci.push(i),i.handler};ix.forEach(t=>{Ac[t]=(n={},o)=>{const i=rx(n);return Ac({...i,type:t},o)}});function ade(t){for(const n of ci)(!t||t===n.props.type)&&n.handler.close()}Ac.closeAll=ade;Ac._context=null;const lx=d1(Ac,"$message"),ude=ne({name:"ElMessageBox",directives:{TrapFocus:IY},components:{ElButton:lo,ElFocusTrap:rp,ElInput:Do,ElOverlay:d0,ElIcon:at,...OE},inheritAttrs:!1,props:{buttonSize:{type:String,validator:h1},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:n}){const{locale:o,zIndex:i,ns:l,size:a}=Fg("message-box",w(()=>t.buttonSize)),{t:u}=o,{nextZIndex:h}=i,p=V(!1),f=en({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:h()}),g=w(()=>{const z=f.type;return{[l.bm("icon",z)]:z&&Cl[z]}}),m=Io(),_=Io(),b=w(()=>f.icon||Cl[f.type]||""),T=w(()=>!!f.message),$=V(),E=V(),y=V(),I=V(),S=V(),C=w(()=>f.confirmButtonClass);Me(()=>f.inputValue,async z=>{await pt(),t.boxType==="prompt"&&z!==null&&K()},{immediate:!0}),Me(()=>p.value,z=>{var G,W;z&&(t.boxType!=="prompt"&&(f.autofocus?y.value=(W=(G=S.value)==null?void 0:G.$el)!=null?W:$.value:y.value=$.value),f.zIndex=h()),t.boxType==="prompt"&&(z?pt().then(()=>{var D;I.value&&I.value.$el&&(f.autofocus?y.value=(D=te())!=null?D:$.value:y.value=$.value)}):(f.editorErrorMessage="",f.validateError=!1))});const R=w(()=>t.draggable),O=w(()=>t.overflow);p1($,E,R,O),Rt(async()=>{await pt(),t.closeOnHashChange&&window.addEventListener("hashchange",P)}),mn(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",P)});function P(){p.value&&(p.value=!1,pt(()=>{f.action&&n("action",f.action)}))}const M=()=>{t.closeOnClickModal&&B(f.distinguishCancelAndClose?"close":"cancel")},H=GE(M),F=z=>{if(f.inputType!=="textarea")return z.preventDefault(),B("confirm")},B=z=>{var G;t.boxType==="prompt"&&z==="confirm"&&!K()||(f.action=z,f.beforeClose?(G=f.beforeClose)==null||G.call(f,z,f,P):P())},K=()=>{if(t.boxType==="prompt"){const z=f.inputPattern;if(z&&!z.test(f.inputValue||""))return f.editorErrorMessage=f.inputErrorMessage||u("el.messagebox.error"),f.validateError=!0,!1;const G=f.inputValidator;if(typeof G=="function"){const W=G(f.inputValue);if(W===!1)return f.editorErrorMessage=f.inputErrorMessage||u("el.messagebox.error"),f.validateError=!0,!1;if(typeof W=="string")return f.editorErrorMessage=W,f.validateError=!0,!1}}return f.editorErrorMessage="",f.validateError=!1,!0},te=()=>{const z=I.value.$refs;return z.input||z.textarea},J=()=>{B("close")},j=()=>{t.closeOnPressEscape&&J()};return t.lockScroll&&ME(p),{...mo(f),ns:l,overlayEvent:H,visible:p,hasMessage:T,typeClass:g,contentId:m,inputId:_,btnSize:a,iconComponent:b,confirmButtonClasses:C,rootRef:$,focusStartRef:y,headerRef:E,inputRef:I,confirmRef:S,doClose:P,handleClose:J,onCloseRequested:j,handleWrapperClick:M,handleInputEnter:F,handleAction:B,t:u}}}),cde=["aria-label","aria-describedby"],dde=["aria-label"],hde=["id"];function pde(t,n,o,i,l,a){const u=Lt("el-icon"),h=Lt("close"),p=Lt("el-input"),f=Lt("el-button"),g=Lt("el-focus-trap"),m=Lt("el-overlay");return A(),be(jn,{name:"fade-in-linear",onAfterLeave:n[11]||(n[11]=_=>t.$emit("vanish")),persisted:""},{default:he(()=>[Ot(ie(m,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:he(()=>[Q("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:N(`${t.ns.namespace.value}-overlay-message-box`),onClick:n[8]||(n[8]=(..._)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(..._)),onMousedown:n[9]||(n[9]=(..._)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(..._)),onMouseup:n[10]||(n[10]=(..._)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(..._))},[ie(g,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:he(()=>[Q("div",{ref:"rootRef",class:N([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:ct(t.customStyle),tabindex:"-1",onClick:n[7]||(n[7]=_t(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?(A(),Y("div",{key:0,ref:"headerRef",class:N([t.ns.e("header"),{"show-close":t.showClose}])},[Q("div",{class:N(t.ns.e("title"))},[t.iconComponent&&t.center?(A(),be(u,{key:0,class:N([t.ns.e("status"),t.typeClass])},{default:he(()=>[(A(),be(Ft(t.iconComponent)))]),_:1},8,["class"])):$e("v-if",!0),Q("span",null,We(t.title),1)],2),t.showClose?(A(),Y("button",{key:0,type:"button",class:N(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:n[0]||(n[0]=_=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:n[1]||(n[1]=ln(_t(_=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[ie(u,{class:N(t.ns.e("close"))},{default:he(()=>[ie(h)]),_:1},8,["class"])],42,dde)):$e("v-if",!0)],2)):$e("v-if",!0),Q("div",{id:t.contentId,class:N(t.ns.e("content"))},[Q("div",{class:N(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(A(),be(u,{key:0,class:N([t.ns.e("status"),t.typeClass])},{default:he(()=>[(A(),be(Ft(t.iconComponent)))]),_:1},8,["class"])):$e("v-if",!0),t.hasMessage?(A(),Y("div",{key:1,class:N(t.ns.e("message"))},[Te(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(A(),be(Ft(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(A(),be(Ft(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:he(()=>[zt(We(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):$e("v-if",!0)],2),Ot(Q("div",{class:N(t.ns.e("input"))},[ie(p,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":n[2]||(n[2]=_=>t.inputValue=_),type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:N({invalid:t.validateError}),onKeydown:ln(t.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Q("div",{class:N(t.ns.e("errormsg")),style:ct({visibility:t.editorErrorMessage?"visible":"hidden"})},We(t.editorErrorMessage),7)],2),[[qt,t.showInput]])],10,hde),Q("div",{class:N(t.ns.e("btns"))},[t.showCancelButton?(A(),be(f,{key:0,loading:t.cancelButtonLoading,class:N([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:n[3]||(n[3]=_=>t.handleAction("cancel")),onKeydown:n[4]||(n[4]=ln(_t(_=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:he(()=>[zt(We(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):$e("v-if",!0),Ot(ie(f,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,class:N([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:n[5]||(n[5]=_=>t.handleAction("confirm")),onKeydown:n[6]||(n[6]=ln(_t(_=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:he(()=>[zt(We(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[qt,t.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,cde)]),_:3},8,["z-index","overlay-class","mask"]),[[qt,t.visible]])]),_:3})}var fde=Ge(ude,[["render",pde],["__file","index.vue"]]);const Gh=new Map,mde=t=>{let n=document.body;return t.appendTo&&(yt(t.appendTo)&&(n=document.querySelector(t.appendTo)),zs(t.appendTo)&&(n=t.appendTo),zs(n)||(n=document.body)),n},gde=(t,n,o=null)=>{const i=ie(fde,t,vt(t.message)||Cn(t.message)?{default:vt(t.message)?t.message:()=>t.message}:null);return i.appContext=o,bl(i,n),mde(t).appendChild(n.firstElementChild),i.component},$de=()=>document.createElement("div"),vde=(t,n)=>{const o=$de();t.onVanish=()=>{bl(null,o),Gh.delete(l)},t.onAction=a=>{const u=Gh.get(l);let h;t.showInput?h={value:l.inputValue,action:a}:h=a,t.callback?t.callback(h,i.proxy):a==="cancel"||a==="close"?t.distinguishCancelAndClose&&a!=="cancel"?u.reject("close"):u.reject("cancel"):u.resolve(h)};const i=gde(t,o,n),l=i.proxy;for(const a in t)Yt(t,a)&&!Yt(l.$props,a)&&(l[a]=t[a]);return l.visible=!0,l};function Kc(t,n=null){if(!Xt)return Promise.reject();let o;return yt(t)||Cn(t)?t={message:t}:o=t.callback,new Promise((i,l)=>{const a=vde(t,n??Kc._context);Gh.set(a,{options:t,callback:o,resolve:i,reject:l})})}const _de=["alert","confirm","prompt"],bde={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};_de.forEach(t=>{Kc[t]=Tde(t)});function Tde(t){return(n,o,i,l)=>{let a="";return Pt(o)?(i=o,a=""):Hn(o)?a="":a=o,Kc(Object.assign({title:a,message:n,type:"",...bde[t]},i,{boxType:t}),l)}}Kc.close=()=>{Gh.forEach((t,n)=>{n.doClose()}),Gh.clear()};Kc._context=null;const rl=Kc;rl.install=t=>{rl._context=t._context,t.config.globalProperties.$msgbox=rl,t.config.globalProperties.$messageBox=rl,t.config.globalProperties.$alert=rl.alert,t.config.globalProperties.$confirm=rl.confirm,t.config.globalProperties.$prompt=rl.prompt};const yde=rl,ax=["success","info","warning","error"],Ede=Ve({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:an},id:{type:String,default:""},message:{type:fe([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:fe(Function),default:()=>{}},onClose:{type:fe(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...ax,""],default:""},zIndex:Number}),Sde={destroy:()=>!0},Cde=["id"],Ide=["textContent"],wde={key:0},kde=["innerHTML"],Ode=ne({name:"ElNotification"}),Rde=ne({...Ode,props:Ede,emits:Sde,setup(t,{expose:n}){const o=t,{ns:i,zIndex:l}=Fg("notification"),{nextZIndex:a,currentZIndex:u}=l,{Close:h}=kE,p=V(!1);let f;const g=w(()=>{const S=o.type;return S&&Cl[o.type]?i.m(S):""}),m=w(()=>o.type&&Cl[o.type]||o.icon),_=w(()=>o.position.endsWith("right")?"right":"left"),b=w(()=>o.position.startsWith("top")?"top":"bottom"),T=w(()=>{var S;return{[b.value]:`${o.offset}px`,zIndex:(S=o.zIndex)!=null?S:u.value}});function $(){o.duration>0&&({stop:f}=Da(()=>{p.value&&y()},o.duration))}function E(){f==null||f()}function y(){p.value=!1}function I({code:S}){S===mt.delete||S===mt.backspace?E():S===mt.esc?p.value&&y():$()}return Rt(()=>{$(),a(),p.value=!0}),$n(document,"keydown",I),n({visible:p,close:y}),(S,C)=>(A(),be(jn,{name:c(i).b("fade"),onBeforeLeave:S.onClose,onAfterLeave:C[1]||(C[1]=R=>S.$emit("destroy")),persisted:""},{default:he(()=>[Ot(Q("div",{id:S.id,class:N([c(i).b(),S.customClass,c(_)]),style:ct(c(T)),role:"alert",onMouseenter:E,onMouseleave:$,onClick:C[0]||(C[0]=(...R)=>S.onClick&&S.onClick(...R))},[c(m)?(A(),be(c(at),{key:0,class:N([c(i).e("icon"),c(g)])},{default:he(()=>[(A(),be(Ft(c(m))))]),_:1},8,["class"])):$e("v-if",!0),Q("div",{class:N(c(i).e("group"))},[Q("h2",{class:N(c(i).e("title")),textContent:We(S.title)},null,10,Ide),Ot(Q("div",{class:N(c(i).e("content")),style:ct(S.title?void 0:{margin:0})},[Te(S.$slots,"default",{},()=>[S.dangerouslyUseHTMLString?(A(),Y(dt,{key:1},[$e(" Caution here, message could've been compromised, never use user's input as message "),Q("p",{innerHTML:S.message},null,8,kde)],2112)):(A(),Y("p",wde,We(S.message),1))])],6),[[qt,S.message]]),S.showClose?(A(),be(c(at),{key:0,class:N(c(i).e("closeBtn")),onClick:_t(y,["stop"])},{default:he(()=>[ie(c(h))]),_:1},8,["class","onClick"])):$e("v-if",!0)],2)],46,Cde),[[qt,p.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Lde=Ge(Rde,[["__file","notification.vue"]]);const dg={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},Ay=16;let Ade=1;const Nc=function(t={},n=null){if(!Xt)return{close:()=>{}};(typeof t=="string"||Cn(t))&&(t={message:t});const o=t.position||"top-right";let i=t.offset||0;dg[o].forEach(({vm:g})=>{var m;i+=(((m=g.el)==null?void 0:m.offsetHeight)||0)+Ay}),i+=Ay;const l=`notification_${Ade++}`,a=t.onClose,u={...t,offset:i,id:l,onClose:()=>{Nde(l,o,a)}};let h=document.body;zs(t.appendTo)?h=t.appendTo:yt(t.appendTo)&&(h=document.querySelector(t.appendTo)),zs(h)||(h=document.body);const p=document.createElement("div"),f=ie(Lde,u,Cn(u.message)?{default:()=>u.message}:null);return f.appContext=n??Nc._context,f.props.onDestroy=()=>{bl(null,p)},bl(f,p),dg[o].push({vm:f}),h.appendChild(p.firstElementChild),{close:()=>{f.component.exposed.visible.value=!1}}};ax.forEach(t=>{Nc[t]=(n={})=>((typeof n=="string"||Cn(n))&&(n={message:n}),Nc({...n,type:t}))});function Nde(t,n,o){const i=dg[n],l=i.findIndex(({vm:f})=>{var g;return((g=f.component)==null?void 0:g.props.id)===t});if(l===-1)return;const{vm:a}=i[l];if(!a)return;o==null||o(a);const u=a.el.offsetHeight,h=n.split("-")[0];i.splice(l,1);const p=i.length;if(!(p<1))for(let f=l;f<p;f++){const{el:g,component:m}=i[f].vm,_=Number.parseInt(g.style[h],10)-u-Ay;m.props.offset=_}}function Mde(){for(const t of Object.values(dg))t.forEach(({vm:n})=>{n.component.exposed.visible.value=!1})}Nc.closeAll=Mde;Nc._context=null;const Dde=d1(Nc,"$notify");var Pde=[Gce,Yce,lx,yde,Dde,GD],xde=O6([...Pce,...Pde]),cT={exports:{}},FL;function H0(){return FL||(FL=1,function(t,n){(function(o,i){t.exports=i()})(qo,function(){var o={},i,l,a,u,h,p,f,g,m,_,b,T,$,E,y,I,S,C,R,O,P,M,H,F,B,K,te,J,j,z,G,W,D,X,oe,le,me,Se,De,ce,ye,_e,Ke,ve,Ae,Fe,ae,de,Re,Be,Ee,Ne,He,ue,Ie,ke,Ue,ot,q,Qe,lt,bt,Tt,st,Le,Ye,L,x,ee,pe,re,je,Et,U,se,Ce,we,et,At,Fn,$o,Ho,co,Un,wo,qs,Dl,Yi,Pr,ja,xr,Ze,$t,cn,yn,ko,cs,Js,vo,Vo,Zs,Je,St,Wt,nn,Oo,Ro,U0,up,qg,Jg,G0,cp,qa,dp,W0,Zg,Qg,z0,K0,Pl,X0,Xc,e$,vi,ji,Y0,t$,hp,n$,j0,o$,Yc,q0,Ja,jc,pp,J0,Z0,Q0,Br,ho,qc,ds,eS,tS,nS,oS,sS,iS,rS,s$,qi,Za,i$,lS,aS,uS,cS,dS,hS,pS,fS,mS,r$,gS,Qa,fp,$S,eu,l$,a$,u$,mp,gp,c$,vS,d$,h$,p$,f$,m$,g$,$$,_S,Jc,v$,$p,vp,_i,_$,b$,Zc,T$,y$,bS,_p,E$,TS,yS,ES,SS,CS,tu,S$,C$,nu,bp,IS,wS,I$,w$,Ji,k$,O$,kS,OS,RS,LS,R$,AS,L$,NS,xl,Qc,Tp,yp,Bl,A$,Ep,N$,Gn,MS,ou,su,DS,M$,Sp,iu,D$,Fl,ed,P$,x$,PS,xS,BS,B$,FS,F$,td,HS,VS,US,GS,nd,H$,WS,od,V$,sd,zS,KS,Fr,U$,bi,XS,YS,G$,jS,Hl,W$,qS,JS,ZS,QS,eC,z$,tC,nC,Cp,oC,sC,K$,Ip,X$,wp,Y$,j$,ru,Vl,Zi,Hr,kp,Ti,iC,rC,lC,aC,q$,uC,J$,Op,cC,dC,hC,Z$,Rp,Q$,Lp,pC,fC,mC,gC,Vr,Ht,es,to,Ln,yi,lu,wt,Wn,ev,$C,Ap,tv,vC,nv,Np,ov,sv,_C,iv,bC,Mp,TC,yC,EC,SC,CC,rv,IC,id,rd,wC,lv,av,uv,cv,Dp,dv,kC,OC,RC,au,hv,LC,Pp,Ss,AC,Ur,pv,NC,ld,fv,mv,gv,$v,vv,_v,bv,Tv,yv,Ev,MC,DC,PC,xC,BC,FC,HC,VC,UC,Sv,Cv,Iv,wv,kv,Ov,Rv,xp,ad,Lv,GC,Av,Nv,Mv,Dv,Pv,xv,Bv,Fv,Hv,Vv,WC,zC,KC,Uv,XC,YC,jC,qC,JC,rt;i=function(e,s,r,d){if(!(e instanceof ut)&&typeof e!="string"||`${e}`.trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),typeof s!="string"||s.trim()==="")throw Error('Invalid name "'+s+'". The name must be a non-empty string.');const v=s.toLowerCase();if(!r)throw Error("Can not register a null value");let k=Gr[e],Z=Bp[e];if(k||(k=Gr[e]=Object.create(null),Z=Bp[e]=Object.create(null)),l(e,r),!d&&k[v]&&k[v]!==r)throw Error('Name "'+v+'" with type "'+e+'" already registered.');k[v]=r,Z[v]=s},l=function(e,s){switch(e){case String(ut.FIELD):if(typeof s.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},a=function(e,s){e=`${e}`.toLowerCase(),s=s.toLowerCase();const r=Gr[e];r&&r[s]?(delete Gr[e][s],delete Bp[e][s]):console.warn("Unable to unregister ["+s+"]["+e+"] from the registry.")},u=function(e,s,r){e=`${e}`.toLowerCase(),s=s.toLowerCase();const d=Gr[e];if(!d||!d[s]){if(s="Unable to find ["+s+"]["+e+"] in the registry.",r)throw Error(s+" You must require or register a "+e+" plugin.");return console.warn(s),null}return d[s]},h=function(e,s){return e=`${e}`.toLowerCase(),s=s.toLowerCase(),(e=Gr[e])?!!e[s]:!1},p=function(e,s,r){return u(e,s,r)},f=function(e,s,r){return u(e,s,r)},g=function(e,s,r){e=`${e}`.toLowerCase();var d=Gr[e];if(!d){if(d=`Unable to find [${e}] in the registry.`,r)throw Error(`${d} You must require or register a ${e} plugin.`);return console.warn(d),null}if(!s)return d;e=Bp[e],r=Object.create(null);for(const v of Object.keys(d))r[e[v]]=d[v];return r},m=function(e,s,r){return s=s.plugins[String(e)]||Ei,typeof s=="function"?s:p(e,s,r)},_=function(){return"blockly-"+(mx++).toString(36)},b=function(){return QC.genUid()},o.setRecordUndo$$module$build$src$core$events$utils=function(e){uu=e},T=function(){return uu},$=function(e){Gp.fireInternal(e)},E=function(e){if(C()){if(!Kl.length)try{requestAnimationFrame(()=>{setTimeout(y,0)})}catch{setTimeout(y,0)}Kl.push(e)}},y=function(){var e=I(Kl,!0);Kl.length=0;for(let r=0,d;d=e[r];r++)if(d.workspaceId){var s=F(d.workspaceId);s&&s.fireChangeListener(d)}e=new Set(e.map(r=>r.workspaceId));for(const r of e){if(!r||(e=F(r),!e))continue;e=e.getUndoStack();let d;for(s=e.length;0<s;s--){const v=e[s-1];if(v.group==="")break;if(d===void 0)d=v.group;else if(v.group!==d)break}d&&s!=e.length-1&&(s=e.splice(s,e.length-s),s=I(s,!0),e.push(...s))}},I=function(e,s){e=e.slice(),s||e.reverse();const r=[],d=Object.create(null);for(let Z=0,ge;ge=e[Z];Z++)if(!ge.isNull()){var v=[ge.isUiEvent?Hp:ge.type,ge.blockId,ge.workspaceId].join(" "),k=d[v];const Xe=k?k.event:null;k?ge.type===o.MOVE$$module$build$src$core$events$utils&&k.index===Z-1?(v=ge,Xe.newParentId=v.newParentId,Xe.newInputName=v.newInputName,Xe.newCoordinate=v.newCoordinate,v.reason&&(Xe.reason?(v=new Set(v.reason.concat(Xe.reason)),Xe.reason=Array.from(v)):Xe.reason=v.reason),k.index=Z):ge.type===o.CHANGE$$module$build$src$core$events$utils&&ge.element===Xe.element&&ge.name===Xe.name?Xe.newValue=ge.newValue:ge.type===Wr?(k=ge,Xe.viewTop=k.viewTop,Xe.viewLeft=k.viewLeft,Xe.scale=k.scale,Xe.oldScale=k.oldScale):(ge.type!==tr||Xe.type!==Si)&&(d[v]={event:ge,index:Z},r.push(ge)):(d[v]={event:ge,index:Z},r.push(ge))}e=r.filter(function(Z){return!Z.isNull()}),s||e.reverse();for(let Z=1,ge;ge=e[Z];Z++)ge.type===o.CHANGE$$module$build$src$core$events$utils&&ge.element==="mutation"&&e.unshift(e.splice(Z,1)[0]);return e},S=function(){for(let e=0,s;s=Kl[e];e++)s.recordUndo=!1},o.disable$$module$build$src$core$events$utils=function(){Fp++},o.enable$$module$build$src$core$events$utils=function(){Fp--},C=function(){return Fp===0},o.getGroup$$module$build$src$core$events$utils=function(){return Wv},o.setGroup$$module$build$src$core$events$utils=function(e){Gp.setGroupInternal(e)},R=function(e){Wv=typeof e=="boolean"?e?b():"":e},O=function(e){const s=[];e=e.getDescendants(!1);for(let r=0,d;d=e[r];r++)s[r]=d.id;return s},P=function(e,s){const r=M(e.type);if(!r)throw Error("Unknown event type.");return r.fromJson(e,s)},M=function(e){const s=p(ut.EVENT,e);if(!s)throw Error(`Event type ${e} not found in registry.`);return s},H=function(e){if((e.type===o.MOVE$$module$build$src$core$events$utils||e.type===o.CREATE$$module$build$src$core$events$utils)&&e.workspaceId){var s=F(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=s.getBlockById(e.blockId)){const r=uu;try{uu=!1;const d=e.getParent();if(d&&!d.hasDisabledReason(Vp)){const v=e.getDescendants(!1);for(let k=0,Z;Z=v[k];k++)Z.setDisabledReason(!1,Vp)}else if((e.outputConnection||e.previousConnection)&&!s.isDragging())do e.setDisabledReason(!0,Vp),e=e.getNextBlock();while(e)}finally{uu=r}}}},F=function(e){return cd[e]||null},B=function(){const e=[];for(const s in cd)e.push(cd[s]);return e},K=function(e){cd[e.id]=e},te=function(e){delete cd[e.id]},J=function(){return eI},j=function(e){eI=e},z=function(){return Xl},o.setSelected$$module$build$src$core$common=function(e){if(Xl!==e){var s,r,d,v,k,Z,ge=new(M(du))((d=(s=Xl)==null?void 0:s.id)!=null?d:null,(v=e==null?void 0:e.id)!=null?v:null,(Z=(k=e==null?void 0:e.workspace.id)!=null?k:(r=Xl)==null?void 0:r.workspace.id)!=null?Z:"");$(ge);var Xe;(Xe=Xl)==null||Xe.unselect(),Xl=e;var Ct;(Ct=Xl)==null||Ct.select()}},G=function(){return tI},W=function(e){tI=e},D=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const s=e.getParentSvg(),r=e.getCachedParentSvgSize();var d=s.parentElement;if(d instanceof HTMLElement){var v=d.offsetWidth;d=d.offsetHeight,r.width!==v&&(s.setAttribute("width",v+"px"),e.setCachedParentSvgSize(v,null)),r.height!==d&&(s.setAttribute("height",d+"px"),e.setCachedParentSvgSize(null,d)),e.resize()}},X=function(e,s){const r=Object.create(null),d=e.getDescendants(!0);s&&(e=e.getNextBlock())&&(e=d.indexOf(e),d.splice(e,d.length-e));for(let v=0,k;k=d[v];v++)r[k.type]?r[k.type]++:r[k.type]=1;return r},oe=function(e){return function(){this.jsonInit(e)}},le=function(e){nI.defineBlocksWithJsonArrayInternal(e)},me=function(e){o.defineBlocks$$module$build$src$core$common(o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const s={};for(let r=0;r<e.length;r++){const d=e[r];if(!d){console.warn(`Block definition #${r} in JSON array is ${d}. Skipping`);continue}const v=d.type;v?s[v]={init:oe(d)}:console.warn(`Block definition #${r} in JSON array is missing a type attribute. Skipping.`)}return s},o.defineBlocks$$module$build$src$core$common=function(e){for(const s of Object.keys(e)){const r=e[s];s in ts&&console.warn(`Block definition "${s}" overwrites previous definition.`),ts[s]=r}},Se=function(e,s){De(),zp=setTimeout(function(){s&&s.handleRightClick(e)},gx)},De=function(){zp&&(clearTimeout(zp),zp=0)},ce=function(){Wp=null},ye=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&Ke(e)},_e=function(e){return`${e.pointerId}`},Ke=function(e){const s=_e(e);return Wp?Wp===s:e.type==="pointerdown"?(Wp=s,!0):!1},ve=function(e,s,r,d,v){function k(ge){(v||ye(ge))&&(r?d.call(r,ge):d(ge))}const Z=[];if(s in Yl)for(let ge=0;ge<Yl[s].length;ge++){const Xe=Yl[s][ge];e.addEventListener(Xe,k,!1),Z.push([e,Xe,k])}else e.addEventListener(s,k,!1),Z.push([e,s,k]);return Z},Ae=function(e,s,r,d){function v(Z){r?d.call(r,Z):d(Z)}const k=[];if(s in Yl)for(let Z=0;Z<Yl[s].length;Z++){const ge=Yl[s][Z];e.addEventListener(ge,v,!1),k.push([e,ge,v])}else e.addEventListener(s,v,!1),k.push([e,s,v]);return k},Fe=function(e){const s=e[e.length-1][2];for(;e.length;){const[r,d,v]=e.pop();r.removeEventListener(d,v,!1)}return s},ae=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},de=function(e){return e.ctrlKey&&qv?!0:e.button===2},Re=function(e,s,r){const d=s.createSVGPoint();return d.x=e.clientX,d.y=e.clientY,r||(r=s.getScreenCTM().inverse()),d.matrixTransform(r)},Be=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*fI,y:e.deltaY*fI};case 2:return{x:e.deltaX*mI,y:e.deltaY*mI}}},Ee=function(e,s){return s=e.indexOf(s),s===-1?!1:(e.splice(s,1),!0)},Ne=function(e){if(Jv)throw Error("CSS already injected");Zv+=`
`+e},He=function(e,s){Jv||(Jv=!0,e&&(e=s.replace(/[\\/]$/,""),s=Zv.replace(/<<<PATH>>>/g,e),Zv="",e=document.createElement("style"),e.id="blockly-common-style",s=document.createTextNode(s),e.appendChild(s),document.head.insertBefore(e,document.head.firstChild)))},ue=function(e,s,r){e=document.createElementNS(pd,`${e}`);for(const d in s)e.setAttribute(d,`${s[d]}`);return r&&r.appendChild(e),e},Ie=function(e,s){return s=s.split(" "),s.every(r=>e.classList.contains(r))?!1:(e.classList.add(...s),!0)},ke=function(e,s){e.classList.remove(...s.split(" "))},Ue=function(e,s){return s=s.split(" "),s.every(r=>!e.classList.contains(r))?!1:(e.classList.remove(...s),!0)},ot=function(e,s){return e.classList.contains(s)},q=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},Qe=function(e,s){const r=s.nextSibling;if(s=s.parentNode,!s)throw Error("Reference node has no parent.");r?s.insertBefore(e,r):s.appendChild(e)},lt=function(e,s){e.style.transform=s,e.style["-webkit-transform"]=s},bt=function(){e_++,Qs||(Qs=Object.create(null))},Tt=function(){e_--,e_||(Qs=null)},st=function(e){const s=e.textContent+`
`+e.className.baseVal;let r;if(Qs&&(r=Qs[s]))return r;try{r=e.getComputedTextLength()}catch{return 8*e.textContent.length}return Qs&&(Qs[s]=r),r},Le=function(e,s,r,d){return Ye(e,s+"pt",r,d)},Ye=function(e,s,r,d){const v=e.textContent;e=v+`
`+e.className.baseVal;var k;return Qs&&(k=Qs[e])||(Yp||(k=document.createElement("canvas"),k.className="blocklyComputeCanvas",document.body.appendChild(k),Yp=k.getContext("2d")),Yp.font=r+" "+s+" "+d,k=v?Yp.measureText(v).width:0,Qs&&(Qs[e]=k)),k},L=function(e,s,r,d){const v=document.createElement("span");v.style.font=r+" "+s+" "+d,v.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",s=document.createElement("div"),s.style.display="flex",s.style.position="fixed",s.style.top="0",s.style.left="0",s.appendChild(v),s.appendChild(e),document.body.appendChild(s),r={height:0,baseline:0};try{s.style.alignItems="baseline",r.baseline=e.offsetTop-v.offsetTop,s.style.alignItems="flex-end",r.height=e.offsetTop-v.offsetTop}finally{document.body.removeChild(s)}return r},x=function(e){return $I.getSizeInternal(e)},ee=function(e){if(re(e,"display")!=="none")return pe(e);const s=e.style,r=s.display,d=s.visibility,v=s.position;s.visibility="hidden",s.position="absolute",s.display="inline";const k=e.offsetWidth;return e=e.offsetHeight,s.display=r,s.position=v,s.visibility=d,new dn(k,e)},pe=function(e){return new dn(e.offsetWidth,e.offsetHeight)},re=function(e,s){return e=window.getComputedStyle(e),e[s]||e.getPropertyValue(s)},je=function(e){const s=new ht(0,0);e=e.getBoundingClientRect();var r=document.documentElement;return r=new ht(window.pageXOffset||r.scrollLeft,window.pageYOffset||r.scrollTop),s.x=e.left+r.x,s.y=e.top+r.y,s},Et=function(){const e=document.body,s=document.documentElement;return new ht(e.scrollLeft||s.scrollLeft,e.scrollTop||s.scrollTop)},U=function(e){const s=parseFloat(re(e,"borderLeftWidth")),r=parseFloat(re(e,"borderRightWidth")),d=parseFloat(re(e,"borderTopWidth"));return e=parseFloat(re(e,"borderBottomWidth")),new En(d,e,s,r)},se=function(e,s,r){e=Ce(e,s,r),s.scrollLeft=e.x,s.scrollTop=e.y},Ce=function(e,s,r){var d=je(e),v=je(s),k=U(s);const Z=d.x-v.x-k.left;return d=d.y-v.y-k.top,v=pe(e),e=s.clientWidth-v.width,v=s.clientHeight-v.height,k=s.scrollLeft,s=s.scrollTop,r?(k+=Z-e/2,s+=d-v/2):(k+=Math.min(Z,Math.max(Z-e,0)),s+=Math.min(d,Math.max(d-v,0))),new ht(k,s)},we=function(e){const s=new ht(0,0);var r=e.x&&e.getAttribute("x");const d=e.y&&e.getAttribute("y");return r&&(s.x=parseInt(r)),d&&(s.y=parseInt(d)),(r=(r=e.getAttribute("transform"))&&r.match(vI))&&(s.x+=Number(r[1]),r[3]&&(s.y+=Number(r[3]))),(e=e.getAttribute("style"))&&e.includes("translate")&&(e=e.match(_I))&&(s.x+=Number(e[1]),e[3]&&(s.y+=Number(e[3]))),s},et=function(e){let s=0,r=0;for(;e;){const d=we(e);if(s+=d.x,r+=d.y,(" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv "))break;e=e.parentNode}return new ht(s,r)},At=function(){const e=Et();return new En(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},Fn=function(){const e=document.documentElement,s=window;return new ht(s.pageXOffset||e.scrollLeft,s.pageYOffset||e.scrollTop)},$o=function(e,s){var r=s.x;s=s.y;const d=e.getInjectionDiv().getBoundingClientRect();return r=new ht(r-d.left,s-d.top),s=e.getOriginOffsetInPixels(),ht.difference(r,s).scale(1/e.scale)},Ho=function(e,s){var r=s.scale(e.scale);s=r.x,r=r.y;const d=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new ht(s+d.left+e.x,r+d.top+e.y)},co=function(e){({document:qp=qp,DOMParser:fd=fd,XMLSerializer:md=md}=e),jp=new fd,t_=new md},o.createElement$$module$build$src$core$utils$xml=function(e){return qp.createElementNS(bI,e)},o.createTextNode$$module$build$src$core$utils$xml=function(e){return qp.createTextNode(e)},o.textToDom$$module$build$src$core$utils$xml=function(e){let s=jp.parseFromString(e,"text/xml");if(s&&s.documentElement&&!s.getElementsByTagName("parsererror").length)return s.documentElement;if((s=jp.parseFromString(e,"text/html"))&&s.body.firstChild&&s.body.firstChild.nodeName.toLowerCase()==="xml")return s.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},Un=function(e){return wo(t_.serializeToString(e))},wo=function(e){return e.replace(bx,s=>`&#${s.charCodeAt(0)};`)},qs=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=yn(e),e=Ze(e)),Dl(e),e):null},Dl=function(e){const s=e.kind;if(e=e.contents,s&&s!==TI&&s!==n_)throw Error("Invalid toolbox kind "+s+". Please supply either "+TI+" or "+n_);if(!e)throw Error("Toolbox must have a contents attribute.")},Yi=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:$t(e):[]},Pr=function(e){return yI.hasCategoriesInternal(e)},ja=function(e){if(!e)return!1;const s=e.kind;return s?s===n_:!!e.contents.filter(function(r){return r.kind.toUpperCase()==="CATEGORY"}).length},xr=function(e){return e&&e.contents?!!e.contents.filter(function(s){return s.kind.toUpperCase()==="CATEGORY"}).length:!1},Ze=function(e){const s={contents:$t(e)};return e instanceof Node&&cn(e,s),s},$t=function(e){const s=[];let r=e.childNodes;r||(r=e);for(let d=0,v;v=r[d];d++){if(!v.tagName)continue;e={};const k=v.tagName.toUpperCase();e.kind=k,k==="BLOCK"?e.blockxml=v:v.childNodes&&0<v.childNodes.length&&(e.contents=$t(v)),cn(v,e),s.push(e)}return s},cn=function(e,s){for(let r=0;r<e.attributes.length;r++){const d=e.attributes[r];d.nodeName.includes("css-")?(s.cssconfig=s.cssconfig||{},s.cssconfig[d.nodeName.replace("css-","")]=d.value):s[d.nodeName]=d.value}},yn=function(e){let s=null;if(e)if(typeof e=="string"){if(s=o.textToDom$$module$build$src$core$utils$xml(e),s.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(s=e);return s},ko=function(e,s,r,d,v,k){const Z=k.scrollbar&&k.scrollbar.canScrollVertically();return e.horizontal===bu.LEFT?(r=v.absoluteMetrics.left+r,Z&&k.RTL&&(r+=zn.scrollbarThickness)):(r=v.absoluteMetrics.left+v.viewMetrics.width-s.width-r,Z&&!k.RTL&&(r-=zn.scrollbarThickness)),e.vertical===lr.TOP?e=v.absoluteMetrics.top+d:(e=v.absoluteMetrics.top+v.viewMetrics.height-s.height-d,k.scrollbar&&k.scrollbar.canScrollHorizontally()&&(e-=zn.scrollbarThickness)),new En(e,e+s.height,r,r+s.width)},cs=function(e,s){return{horizontal:s.toolboxMetrics.position===Zt.LEFT||e.horizontalLayout&&!e.RTL?bu.RIGHT:bu.LEFT,vertical:s.toolboxMetrics.position===Zt.BOTTOM?lr.TOP:lr.BOTTOM}},Js=function(e,s,r,d){const v=e.left,k=e.right-e.left,Z=e.bottom-e.top;for(let ge=0;ge<d.length;ge++){const Xe=d[ge];e.intersects(Xe)&&(e=r===Xr.UP?Xe.top-Z-s:Xe.bottom+s,e=new En(e,e+Z,v,v+k),ge=-1)}return e},vo=function(e,s){SI(e,s)},Vo=function(e){SI=e},Zs=function(e,s){wI.confirmInternal(e,s)},Je=function(e,s){CI(e,s)},St=function(e){CI=e},Wt=function(e,s,r){II(e,s,r)},nn=function(e){II=e},Oo=function(e){return e.getVariableModel!==void 0},Ro=function(e){return e.getProcedureDef!==void 0},U0=function(e){return e.getProcedureCall!==void 0&&e.renameProcedure!==void 0},o.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const s=new Set;for(let r=0;r<e.length;r++){const d=e[r].getVarModels();if(d)for(let v=0;v<d.length;v++){const k=d[v];k.getId()&&s.add(k)}}return Array.from(s.values())},o.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const s=new Set;for(let d=0,v;v=e[d];d++){var r=v.getDeveloperVariables;if(r){r=r();for(let k=0;k<r.length;k++)s.add(r[k])}}return Array.from(s.values())},up=function(e){let s=[];const r=document.createElement("button");return r.setAttribute("text","%{BKY_NEW_VARIABLE}"),r.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(d){qa(d.getTargetWorkspace())}),s.push(r),e=qg(e),s=s.concat(e)},qg=function(e){e=e.getVariablesOfType("");const s=[];if(0<e.length){var r=e[e.length-1];if(ts.variables_set){var d=o.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","variables_set"),d.setAttribute("gap",ts.math_change?"8":"24"),d.appendChild(Pl(r)),s.push(d)}if(ts.math_change&&(d=o.createElement$$module$build$src$core$utils$xml("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",ts.variables_get?"20":"8"),d.appendChild(Pl(r)),r=o.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(r),s.push(d)),ts.variables_get){e.sort(vd.compareByName);for(let v=0,k;k=e[v];v++)r=o.createElement$$module$build$src$core$utils$xml("block"),r.setAttribute("type","variables_get"),r.setAttribute("gap","8"),r.appendChild(Pl(k)),s.push(r)}}return s},Jg=function(e){return OI.generateUniqueNameInternal(e)},G0=function(e){return cp(r_.charAt(0),e.getAllVariableNames())},cp=function(e,s){if(!s.length)return e;const r=r_;let d="",v=r.indexOf(e);for(;;){let k=!1;for(let Z=0;Z<s.length;Z++)if(s[Z].toLowerCase()===e){k=!0;break}if(!k)break;v++,v===r.length&&(v=0,d=`${Number(d)+1}`),e=r.charAt(v)+d}return e},qa=function(e,s,r){function d(k){dp(o.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,k,function(Z){if(Z){var ge=Zg(Z,e);if(ge){if(ge.type===v)var Xe=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",ge.name);else Xe=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,Xe=Xe.replace("%1",ge.name).replace("%2",ge.type);vo(Xe,function(){d(Z)})}else e.createVariable(Z,v),s&&s(Z)}else s&&s(null)})}const v=r||"";d("")},o.renameVariable$$module$build$src$core$variables=function(e,s,r){function d(v){const k=o.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",s.name);dp(k,v,function(Z){if(Z){var ge=W0(Z,s.type,e),Xe=Qg(s.name,Z,e);if(ge||Xe){var Ct="";ge?Ct=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",ge.name).replace("%2",ge.type):Xe&&(Ct=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",Z).replace("%2",Xe)),vo(Ct,function(){d(Z)})}else e.renameVariableById(s.getId(),Z),r&&r(Z)}else r&&r(null)})}d("")},dp=function(e,s,r){Wt(e,s,function(d){d&&(d=d.replace(/[\s\xa0]+/g," ").trim(),d===o.Msg$$module$build$src$core$msg.RENAME_VARIABLE||d===o.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(d=null),r(d)})},W0=function(e,s,r){r=r.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let d=0,v;v=r[d];d++)if(v.name.toLowerCase()===e&&v.type!==s)return v;return null},Zg=function(e,s){s=s.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let r=0,d;d=s[r];r++)if(d.name.toLowerCase()===e)return d;return null},Qg=function(e,s,r){return r.getProcedureMap().getProcedures().length?z0(e,s,r):K0(e,s,r)},z0=function(e,s,r){e=e.toLowerCase(),s=s.toLowerCase(),r=r.getProcedureMap().getProcedures();for(const v of r){var d=v.getParameters().filter(Oo).map(k=>k.getVariableModel().name);if(d&&(r=d.some(k=>k.toLowerCase()===e),d=d.some(k=>k.toLowerCase()===s),r&&d))return v.getName()}return null},K0=function(e,s,r){e=e.toLowerCase(),s=s.toLowerCase(),r=r.getAllBlocks(!1);for(const v of r){if(!Ro(v))continue;r=v.getProcedureDef();var d=r[1];const k=d.some(Z=>Z.toLowerCase()===e);if(d=d.some(Z=>Z.toLowerCase()===s),k&&d)return r[0]}return null},Pl=function(e){const s=o.createElement$$module$build$src$core$utils$xml("field");return s.setAttribute("name","VAR"),s.setAttribute("id",e.getId()),s.setAttribute("variabletype",e.type),e=o.createTextNode$$module$build$src$core$utils$xml(e.name),s.appendChild(e),s},o.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,s,r,d){let v=o.getVariable$$module$build$src$core$variables(e,s,r,d);return v||(v=X0(e,s,r,d)),v},o.getVariable$$module$build$src$core$variables=function(e,s,r,d){const v=e.getPotentialVariableMap();let k=null;if(s&&(k=e.getVariableById(s),!k&&v&&(k=v.getVariableById(s)),k))return k;if(r){if(d===void 0)throw Error("Tried to look up a variable by name without a type");k=e.getVariable(r,d),!k&&v&&(k=v.getVariable(r,d))}return k},X0=function(e,s,r,d){const v=e.getPotentialVariableMap();return r||(r=Jg(e.isFlyout?e.targetWorkspace:e)),v?v.createVariable(r,d,s):e.createVariable(r,d,s)},Xc=function(e,s){e=e.getAllVariables();const r=[];if(s.length!==e.length)for(let d=0;d<e.length;d++){const v=e[d];s.includes(v)||r.push(v)}return r},e$=function(e){return t$(e),Y0()?(hp(),Promise.resolve()):(Tu||(Tu=new Promise(s=>{u_=s,RI=window.requestAnimationFrame(()=>{hp(),s()})})),Tu)},vi=function(){return Tu||Promise.resolve()},ji=function(e){e||window.cancelAnimationFrame(RI),hp(e),!e&&u_&&u_()},Y0=function(){return cI},t$=function(e){l_.add(e),a_.set(e,o.getGroup$$module$build$src$core$events$utils());const s=e.getParent();s?t$(s):Zp.add(e)},hp=function(e){const s=e?new Set([e]):new Set([...Zp].map(k=>k.workspace)),r=[...Zp].filter(j0).filter(k=>s.has(k.workspace));for(var d of r)o$(d);for(const k of s)k.resizeContents();for(var v of r)d=v.getRelativeToSurfaceXY(),v.updateComponentLocations(d);for(const k of r)v=o.getGroup$$module$build$src$core$events$utils(),(d=a_.get(k))&&o.setGroup$$module$build$src$core$events$utils(d),k.bumpNeighbours(),o.setGroup$$module$build$src$core$events$utils(v);for(const k of r)n$(k);e||(Tu=null)},n$=function(e){Zp.delete(e),l_.delete(e),a_.delete(e);for(const s of e.getChildren(!1))n$(s)},j0=function(e){return!e.isDisposed()&&!e.getParent()},o$=function(e){if(l_.has(e)&&e.initialized){for(const s of e.getChildren(!1))o$(s);e.renderEfficiently()}},Yc=function(e,s){i(ut.SERIALIZER,e,s)},q0=function(e){a(ut.SERIALIZER,e)},Ja=function(e,{addCoordinates:s=!1,saveIds:r=!0}={}){const d=e.workspace,v=Object.create(null);return v.height=e.getSize().height,v.width=e.getSize().width,r&&(v.id=e.id),s&&(s=e.getRelativeToSurfaceXY(),v.x=d.RTL?d.getWidth()-s.x:s.x,v.y=s.y),e.getText()&&(v.text=e.getText()),e.isCollapsed()&&(v.collapsed=!0),e.isOwnEditable()||(v.editable=!1),e.isOwnMovable()||(v.movable=!1),e.isOwnDeletable()||(v.deletable=!1),v},jc=function(e,s,{recordUndo:r=!1}={}){const d=T();if(o.setRecordUndo$$module$build$src$core$events$utils(r),r=s.newComment(e.id),e.text!==void 0&&r.setText(e.text),e.x!==void 0||e.y!==void 0){const k=r.getRelativeToSurfaceXY();let Z,ge=(Z=e.x)!=null?Z:k.x;ge=s.RTL?s.getWidth()-ge:ge;var v;s=(v=e.y)!=null?v:k.y,r.moveTo(new ht(ge,s))}if(e.width!==void 0||e.height){v=r.getSize();let k,Z;r.setSize(new dn((k=e.width)!=null?k:v.width,(Z=e.height)!=null?Z:v.height))}return e.collapsed!==void 0&&r.setCollapsed(e.collapsed),e.editable!==void 0&&r.setEditable(e.editable),e.movable!==void 0&&r.setMovable(e.movable),e.deletable!==void 0&&r.setDeletable(e.deletable),o.setRecordUndo$$module$build$src$core$events$utils(d),r},pp=function(e,s){i(ut.PASTER,e,s)},J0=function(e){a(ut.PASTER,e)},Z0=function(e){const s=e.workspace,r=e.getRelativeToSurfaceXY(),d=new ht(0,0),v=s.getTopComments(!1).filter(k=>k.id!==e.id).map(k=>k.getRelativeToSurfaceXY());for(;Q0(ht.sum(r,d),v);)d.translate(s.RTL?-30:30,30);e.moveTo(ht.sum(r,d))},Q0=function(e,s){return s.some(r=>1>=Math.abs(r.x-e.x)&&1>=Math.abs(r.y-e.y))},Br=function(e,s){e.setAttribute(Sx,s)},ho=function(e,s,r){Array.isArray(r)&&(r=r.join(" ")),e.setAttribute(Ex+s,`${r}`)},qc=function(e){return e.saveState!==void 0&&e.loadState!==void 0},ds=function(e,{addCoordinates:s=!1,addInputBlocks:r=!0,addNextBlocks:d=!0,doFullSerialization:v=!0,saveIds:k=!0}={}){if(e.isInsertionMarker())return null;const Z={type:e.type,id:k?e.id:void 0};return s&&tS(e,Z),eS(e,Z),nS(e,Z,v),oS(e,Z,v),sS(e,Z,v),r&&iS(e,Z,v,k),d&&rS(e,Z,v,k),Z},eS=function(e,s){e.isCollapsed()&&(s.collapsed=!0),e.isEnabled()||(s.disabledReasons=Array.from(e.getDisabledReasons())),e.isOwnDeletable()||(s.deletable=!1),e.isOwnMovable()||(s.movable=!1),e.isOwnEditable()||(s.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(s.inline=e.inputsInline),e.data&&(s.data=e.data)},tS=function(e,s){const r=e.workspace;e=e.getRelativeToSurfaceXY(),s.x=Math.round(r.RTL?r.getWidth()-e.x:e.x),s.y=Math.round(e.y)},nS=function(e,s,r){e.saveExtraState?(e=e.saveExtraState(r),e!==null&&(s.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(s.extraState=bi(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},oS=function(e,s,r){const d=Object.create(null);for(const v of e.getIcons())qc(v)&&(e=v.saveState(r))&&(d[v.getType().toString()]=e);Object.keys(d).length&&(s.icons=d)},sS=function(e,s,r){const d=Object.create(null);for(let v=0;v<e.inputList.length;v++){const k=e.inputList[v];for(let Z=0;Z<k.fieldRow.length;Z++){const ge=k.fieldRow[Z];ge.isSerializable()&&(d[ge.name]=ge.saveState(r))}}Object.keys(d).length&&(s.fields=d)},iS=function(e,s,r,d){const v=Object.create(null);for(let k=0;k<e.inputList.length;k++){const Z=e.inputList[k];if(!Z.connection)continue;const ge=s$(Z.connection,r,d);ge&&(v[Z.name]=ge)}Object.keys(v).length&&(s.inputs=v)},rS=function(e,s,r,d){e.nextConnection&&(e=s$(e.nextConnection,r,d))&&(s.next=e)},s$=function(e,s,r){const d=e.getShadowState(!0);if(e=e.targetBlock(),!d&&!e)return null;const v=Object.create(null);return d&&(v.shadow=d),e&&!e.isShadow()&&(v.block=ds(e,{doFullSerialization:s,saveIds:r})),v},qi=function(e,s,{recordUndo:r=!1}={}){return e=Za(e,s,{recordUndo:r}),s.rendered&&ji(),e},Za=function(e,s,{parentConnection:r,isShadow:d=!1,recordUndo:v=!1}={}){const k=T();o.setRecordUndo$$module$build$src$core$events$utils(v),(v=o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),o.disable$$module$build$src$core$events$utils();const Z=s.getAllVariables();let ge;try{ge=i$(e,s,{parentConnection:r,isShadow:d})}finally{o.enable$$module$build$src$core$events$utils()}if(lS(s,Z),C()&&$(new(M(o.CREATE$$module$build$src$core$events$utils))(ge)),o.setGroup$$module$build$src$core$events$utils(v),o.setRecordUndo$$module$build$src$core$events$utils(k),s.rendered){const Xe=ge;setTimeout(()=>{Xe.disposed||Xe.setConnectionTracking(!0)},1)}return ge},i$=function(e,s,{parentConnection:r,isShadow:d=!1}={}){if(!e.type)throw new BI(e);const v=s.newBlock(e.type,e.id);return v.setShadow(d),aS(v,e),uS(v,e),cS(v,e),dS(r,v,e),hS(v,e),pS(v,e),fS(v,e),mS(v,e),gS(v,s.rendered),v},lS=function(e,s){if(C())for(e=Xc(e,s),s=0;s<e.length;s++){const r=e[s];$(new(M(er))(r))}},aS=function(e,s){let r=s.x===void 0?0:s.x;s=s.y===void 0?0:s.y;const d=e.workspace;r=d.RTL?d.getWidth()-r:r,e.moveBy(r,s)},uS=function(e,s){if(s.collapsed&&e.setCollapsed(!0),s.deletable===!1&&e.setDeletable(!1),s.movable===!1&&e.setMovable(!1),s.editable===!1&&e.setEditable(!1),s.enabled===!1&&e.setDisabledReason(!0,Cs),Array.isArray(s.disabledReasons))for(const r of s.disabledReasons)e.setDisabledReason(!0,r);s.inline!==void 0&&e.setInputsInline(s.inline),s.data!==void 0&&(e.data=s.data)},cS=function(e,s){s.extraState&&(e.loadExtraState?e.loadExtraState(s.extraState):e.domToMutation&&e.domToMutation(o.textToDom$$module$build$src$core$utils$xml(s.extraState)))},dS=function(e,s,r){if(e){if(e.getSourceBlock().isShadow()&&!s.isShadow())throw new HI(r);if(e.type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var d=s.outputConnection;if(!d)throw new bd("output",s,r)}else if(d=s.previousConnection,!d)throw new bd("previous",s,r);if(!e.connect(d)){const v=s.workspace.connectionChecker;throw new FI(v.getErrorMessage(v.canConnectWithReason(d,e,!1),d,e),e.type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",s,r)}}},hS=function(e,s){if(s.icons){var r=Object.keys(s.icons);for(const v of r){r=s.icons[v];var d=e.getIcon(v);if(!d){if(d=p(ut.ICON,v,!1),!d)throw new VI(v,e,s);d=new d(e),e.addIcon(d)}qc(d)&&d.loadState(r)}}},pS=function(e,s){if(s.fields){var r=Object.keys(s.fields);for(let d=0;d<r.length;d++){const v=r[d],k=s.fields[v],Z=e.getField(v);Z?Z.loadState(k):console.warn(`Ignoring non-existant field ${v} in block ${e.type}`)}}},fS=function(e,s){if(s.inputs){var r=Object.keys(s.inputs);for(let d=0;d<r.length;d++){const v=r[d],k=e.getInput(v);if(!k||!k.connection)throw new bd(v,e,s);r$(k.connection,s.inputs[v])}}},mS=function(e,s){if(s.next){if(!e.nextConnection)throw new bd("next",e,s);r$(e.nextConnection,s.next)}},r$=function(e,s){s.shadow&&e.setShadowState(s.shadow),s.block&&i$(s.block,e.getSourceBlock().workspace,{parentConnection:e})},gS=function(e,s){if(s){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const r of e.getIcons())r.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},Qa=function(e){return e.bubbleIsVisible!==void 0&&e.setBubbleVisible!==void 0},fp=function(e){return e*Math.PI/180},$S=function(e){return 180*e/Math.PI},eu=function(e,s,r){if(r<e){const d=r;r=e,e=d}return Math.max(e,Math.min(s,r))},l$=function(){document.querySelector(".blocklyDropDownDiv")||(pn=document.createElement("div"),pn.className="blocklyDropDownDiv",(G()||document.body).appendChild(pn),Iu=document.createElement("div"),Iu.className="blocklyDropDownContent",pn.appendChild(Iu),oa=document.createElement("div"),oa.className="blocklyDropDownArrow",pn.appendChild(oa),pn.style.opacity="0",pn.style.transition="transform "+sf+"s, opacity "+sf+"s",pn.addEventListener("focusin",function(){Ie(pn,"blocklyFocused")}),pn.addEventListener("focusout",function(){Ue(pn,"blocklyFocused")}))},a$=function(e){__=e},u$=function(){return Yr},mp=function(){return Iu},gp=function(){Iu.textContent="",Iu.style.width=""},c$=function(e,s){pn.style.backgroundColor=e,pn.style.borderColor=s},vS=function(e,s,r,d){return f$(h$(s),e,r,d)},d$=function(e,s,r){return WI=!0,f$(p$(e),e,s,r)},h$=function(e){var s=e.getSvgRoot();const r=e.workspace.scale,d=e.height*r;return e=e.width*r,s=je(s),new En(s.y,s.y+d,s.x,s.x+e)},p$=function(e){return e=e.getScaledBBox(),new En(e.top,e.bottom,e.left,e.right)},f$=function(e,s,r,d){const v=e.left+(e.right-e.left)/2,k=e.bottom;e=e.top,d&&(e+=d),d=s.getSourceBlock();let Z=d.workspace;for(;Z.options.parentWorkspace;)Z=Z.options.parentWorkspace;return a$(Z.getParentSvg().parentNode),m$(s,d.RTL,v,k,v,e,r)},m$=function(e,s,r,d,v,k,Z){return Yr=e,na=Z||null,pn.style.direction=s?"rtl":"ltr",e=J(),Su=e.getRenderer().getClassName(),Cu=e.getTheme().getClassName(),Su&&Ie(pn,Su),Cu&&Ie(pn,Cu),_$(r,d,v,k)},g$=function(e,s,r,d){return e=Jc(e,r.left,r.right,d.width),{initialX:e.divX,initialY:s,finalX:e.divX,finalY:s+$_,arrowX:e.arrowX,arrowY:-(yd/2+g_),arrowAtTop:!0,arrowVisible:!0}},$$=function(e,s,r,d){return e=Jc(e,r.left,r.right,d.width),{initialX:e.divX,initialY:s-d.height,finalX:e.divX,finalY:s-d.height-$_,arrowX:e.arrowX,arrowY:d.height-2*g_-yd/2,arrowAtTop:!1,arrowVisible:!0}},_S=function(e,s,r){return e=Jc(e,s.left,s.right,r.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},Jc=function(e,s,r,d){return s=eu(s,e-d/2,r-d),e=e-yd/2-s,r=GI,e=eu(r,e,d-r-yd),{arrowX:e,divX:s}},v$=function(){return!!Yr},$p=function(e,s){return Yr===e?(s?_i():vp(),!0):!1},vp=function(){pn.style.transform="translate(0, 0)",pn.style.opacity="0",v_=setTimeout(function(){_i()},1e3*sf),na&&(na(),na=null)},_i=function(){v$()&&(v_&&clearTimeout(v_),pn.style.transform="",pn.style.left="",pn.style.top="",pn.style.opacity="0",pn.style.display="none",pn.style.backgroundColor="",pn.style.borderColor="",na&&(na(),na=null),gp(),Yr=null,Su&&(Ue(pn,Su),Su=""),Cu&&(Ue(pn,Cu),Cu=""),J().markFocused())},_$=function(e,s,r,d){e=b_.getPositionMetrics(e,s,r,d),e.arrowVisible?(oa.style.display="",oa.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",oa.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):oa.style.display="none",s=Math.floor(e.initialX),r=Math.floor(e.initialY),d=Math.floor(e.finalX);const v=Math.floor(e.finalY);return pn.style.left=s+"px",pn.style.top=r+"px",pn.style.display="block",pn.style.opacity="1",pn.style.transform="translate("+(d-s)+"px,"+(v-r)+"px)",!!e.arrowAtTop},b$=function(){if(Yr){var e=Yr.getSourceBlock();e=WI?p$(Yr):h$(e);const s=e.left+(e.right-e.left)/2;_$(s,e.bottom,s,e.top)}else vp()},Zc=function(e){return e.length?e.reduce(function(s,r){return s.length<r.length?s:r}).length:0},T$=function(e,s){if(!e.length)return 0;if(e.length===1)return e[0].length;let r=0;s=s||Zc(e);let d;for(d=0;d<s;d++){for(var v=e[0][d],k=1;k<e.length;k++)if(v!==e[k][d])return r;v===" "&&(r=d+1)}for(v=1;v<e.length;v++)if((k=e[v][d])&&k!==" ")return r;return s},y$=function(e,s){if(!e.length)return 0;if(e.length===1)return e[0].length;let r=0;s=s||Zc(e);let d;for(d=0;d<s;d++){for(var v=e[0].substr(-d-1,1),k=1;k<e.length;k++)if(v!==e[k].substr(-d-1,1))return r;v===" "&&(r=d+1)}for(v=1;v<e.length;v++)if((k=e[v].charAt(e[v].length-d-1))&&k!==" ")return r;return s},o.wrap$$module$build$src$core$utils$string=function(e,s){e=e.split(`
`);for(let r=0;r<e.length;r++)e[r]=bS(e[r],s);return e.join(`
`)},bS=function(e,s){if(e.length<=s)return e;const r=e.trim().split(/\s+/);for(var d=0;d<r.length;d++)r[d].length>s&&(s=r[d].length);var v=-1/0;let k,Z=1;do{d=v,k=e,e=[],v=r.length/Z;let ge=1;for(let Xe=0;Xe<r.length-1;Xe++)ge<(Xe+1.5)/v?(ge++,e[Xe]=!0):e[Xe]=!1;e=E$(r,e,s),v=_p(r,e,s),e=TS(r,e),Z++}while(v>d);return k},_p=function(e,s,r){const d=[0],v=[];for(var k=0;k<e.length;k++)d[d.length-1]+=e[k].length,s[k]===!0?(d.push(0),v.push(e[k].charAt(e[k].length-1))):s[k]===!1&&d[d.length-1]++;for(e=Math.max(...d),s=0,k=0;k<d.length;k++)s-=2*Math.pow(Math.abs(r-d[k]),1.5),s-=Math.pow(e-d[k],1.5),".?!".includes(v[k])?s+=r/3:",;)]}".includes(v[k])&&(s+=r/4);return 1<d.length&&d[d.length-1]<=d[d.length-2]&&(s+=.5),s},E$=function(e,s,r){let d=_p(e,s,r),v;for(let k=0;k<s.length-1;k++){if(s[k]===s[k+1])continue;const Z=[].concat(s);Z[k]=!Z[k],Z[k+1]=!Z[k+1];const ge=_p(e,Z,r);ge>d&&(d=ge,v=Z)}return v?E$(e,v,r):s},TS=function(e,s){const r=[];for(let d=0;d<e.length;d++)r.push(e[d]),s[d]!==void 0&&r.push(s[d]?`
`:" ");return r.join("")},o.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},yS=function(e){rf=e},ES=function(){return rf},SS=function(){return Sd},CS=function(){return Qn},tu=function(e){if(e=S$(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},S$=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},C$=function(){document.querySelector(".blocklyTooltipDiv")||(Qn=document.createElement("div"),Qn.className="blocklyTooltipDiv",(G()||document.body).appendChild(Qn))},nu=function(e){e.mouseOverWrapper_=Ae(e,"pointerover",null,IS),e.mouseOutWrapper_=Ae(e,"pointerout",null,wS),e.addEventListener("pointermove",I$,!1)},bp=function(e){e&&(Fe(e.mouseOverWrapper_),Fe(e.mouseOutWrapper_),e.removeEventListener("pointermove",I$))},IS=function(e){ku||(e=S$(e.currentTarget),Is!==e&&(Ji(),Cd=null,Is=e),clearTimeout(KI))},wS=function(e){ku||(KI=setTimeout(function(){Cd=Is=null,Ji()},1),clearTimeout(sa),sa=0)},I$=function(e){if(Is&&Is.tooltip&&!ku)if(Sd){const s=T_-e.pageX;e=y_-e.pageY,Math.sqrt(s*s+e*e)>XI&&Ji()}else Cd!==Is&&(clearTimeout(sa),T_=e.pageX,y_=e.pageY,sa=setTimeout(LS,YI))},w$=function(){Cd=Is=null,Ji()},Ji=function(){Sd&&(Sd=!1,Qn&&(Qn.style.display="none")),sa&&(clearTimeout(sa),sa=0)},k$=function(){Ji(),ku=!0},O$=function(){ku=!1},kS=function(){Qn&&Is&&(typeof rf=="function"?rf(Qn,Is):OS())},OS=function(){var e=tu(Is);e=o.wrap$$module$build$src$core$utils$string(e,zI),e=e.split(`
`);for(let s=0;s<e.length;s++){const r=document.createElement("div");r.appendChild(document.createTextNode(e[s])),Qn.appendChild(r)}},RS=function(e){const s=document.documentElement.clientWidth,r=document.documentElement.clientHeight;let d=T_;d=e?d-(E_+Qn.offsetWidth):d+E_;let v=y_+S_;return v+Qn.offsetHeight>r+window.scrollY&&(v-=Qn.offsetHeight+2*S_),e?d=Math.max(lf-window.scrollX,d):d+Qn.offsetWidth>s+window.scrollX-2*lf&&(d=s-Qn.offsetWidth-2*lf),{x:d,y:v}},LS=function(){if(!ku&&(Cd=Is,Qn)){Qn.textContent="",kS();var e=Is.RTL;Qn.style.direction=e?"rtl":"ltr",Qn.style.display="block",Sd=!0;var{x:s,y:r}=RS(e);Qn.style.left=s+"px",Qn.style.top=r+"px"}},R$=function(){return C_},AS=function(e){C_=e},L$=function(){return I_},NS=function(e){I_=e},xl=function(e){e=`${e}`.toLowerCase().trim();var s=jI[e];if(s||(s=e.substring(0,2)==="0x"?"#"+e.substring(2):e,s=s[0]==="#"?s:"#"+s,/^#[0-9a-f]{6}$/.test(s)))return s;if(/^#[0-9a-f]{3}$/.test(s))return["#",s[1],s[1],s[2],s[2],s[3],s[3]].join("");var r=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return r&&(e=Number(r[1]),s=Number(r[2]),r=Number(r[3]),0<=e&&256>e&&0<=s&&256>s&&0<=r&&256>r)?Qc(e,s,r):null},Qc=function(e,s,r){return s=e<<16|s<<8|r,16>e?"#"+(16777216|s).toString(16).substr(1):"#"+s.toString(16)},Tp=function(e){return e=xl(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},yp=function(e,s,r){let d=0,v=0,k=0;if(s===0)k=v=d=r;else{const Z=Math.floor(e/60),ge=e/60-Z;e=r*(1-s);const Xe=r*(1-s*ge);switch(s=r*(1-s*(1-ge)),Z){case 1:d=Xe,v=r,k=e;break;case 2:d=e,v=r,k=s;break;case 3:d=e,v=Xe,k=r;break;case 4:d=s,v=e,k=r;break;case 5:d=r,v=e,k=Xe;break;case 6:case 0:d=r,v=s,k=e}}return Qc(Math.floor(d),Math.floor(v),Math.floor(k))},Bl=function(e,s,r){return e=xl(e),!e||(s=xl(s),!s)?null:(e=Tp(e),s=Tp(s),Qc(Math.round(s[0]+r*(e[0]-s[0])),Math.round(s[1]+r*(e[1]-s[1])),Math.round(s[2]+r*(e[2]-s[2]))))},A$=function(e){return yp(e,C_,255*I_)},Ep=function(e,s,r){const d=[];var v=e.split("");v.push("");var k=0;e=[];let Z=null;for(let Ct=0;Ct<v.length;Ct++){var ge=v[Ct];if(k===0)if(ge==="%")(k=e.join(""))&&d.push(k),e.length=0,k=1;else if(r&&ge===`
`){const Rn=e.join("");Rn&&d.push(Rn),e.length=0,d.push(ge)}else e.push(ge);else if(k===1)ge==="%"?(e.push(ge),k=0):s&&"0"<=ge&&"9">=ge?(k=2,Z=ge,(ge=e.join(""))&&d.push(ge),e.length=0):ge==="{"?k=3:(e.push("%",ge),k=0);else if(k===2)if("0"<=ge&&"9">=ge)Z+=ge;else{var Xe=void 0;d.push(parseInt((Xe=Z)!=null?Xe:"",10)),Ct--,k=0}else k===3&&(ge===""?(e.splice(0,0,"%{"),Ct--,k=0):ge!=="}"?e.push(ge):(k=e.join(""),/[A-Z]\w*/i.test(k)?(ge=k.toUpperCase(),(ge=ge.startsWith("BKY_")?ge.substring(4):null)&&ge in o.Msg$$module$build$src$core$msg?(k=o.Msg$$module$build$src$core$msg[ge],typeof k=="string"?Array.prototype.push.apply(d,Ep(k,s,r)):s?d.push(`${k}`):d.push(k)):d.push("%{"+k+"}")):d.push("%{"+k+"}"),k=e.length=0))}for((s=e.join(""))&&d.push(s),Xe=[],e.length=0,v=0;v<d.length;v++)typeof d[v]!="string"||r&&d[v]===`
`?((s=e.join(""))&&Xe.push(s),e.length=0,Xe.push(d[v])):e.push(d[v]);return(s=e.join(""))&&Xe.push(s),e.length=0,Xe},N$=function(e){return Ep(e,!0,!0)},Gn=function(e){return typeof e!="string"?e:(e=Ep(e,!1,!1),e.length?String(e[0]):"")},MS=function(e){let s=!0;const r=o.Msg$$module$build$src$core$msg,d=e.match(/%{BKY_[A-Z]\w*}/gi);if(d)for(let v=0;v<d.length;v++){const k=d[v].toUpperCase();r[k.slice(6,-1)]===void 0&&(console.warn("No message string for "+d[v]+" in "+e),s=!1)}return s},ou=function(e){const s=typeof e=="string"?Gn(e):e;var r=Number(s);if(!isNaN(r)&&0<=r&&360>=r)return{hue:r,hex:yp(r,R$(),255*L$())};if(r=xl(s))return{hue:null,hex:r};throw r='Invalid colour: "'+s+'"',e!==s&&(r+=' (from "'+e+'")'),Error(r)},su=function(){return ti},DS=function(e){if(ti=e,e===null){let s;(s=document.querySelector("."+uf))==null||s.remove()}},M$=function(){const e=G()||document.body;document.querySelector("."+uf)?ti=document.querySelector("."+uf):(ti=document.createElement("div"),ti.className=uf),e.appendChild(ti)},Sp=function(e,s,r,d){if(iu(),Ou=e,af=r,r=ti){if(r.style.direction=s?"rtl":"ltr",r.style.display="block",!d&&e instanceof Sn){let Z;d=(Z=e.getSourceBlock())==null?void 0:Z.workspace}var v;w_=(v=d)!=null?v:null;var k;e=(k=d)!=null?k:J(),Ru=e.getRenderer().getClassName(),Lu=e.getTheme().getClassName(),Ru&&Ie(r,Ru),Lu&&Ie(r,Lu)}},iu=function(){if(D$()){Ou=null;var e=ti;e&&(e.style.display="none",e.style.left="",e.style.top="",af&&af(),af=null,e.textContent="",Ru&&(Ue(e,Ru),Ru=""),Lu&&(Ue(e,Lu),Lu=""),J().markFocused())}},D$=function(){return!!Ou},Fl=function(e){Ou===e&&iu()},ed=function(e){w_!==null&&w_!==e||iu()},P$=function(e,s,r){ti.style.left=e+"px",ti.style.top=s+"px",ti.style.height=r+"px"},x$=function(e,s,r,d){const v=xS(e,s,r);e=PS(e,s,r,d),0>v?P$(e,0,r.height+v):P$(e,v,r.height)},PS=function(e,s,r,d){return d?Math.min(Math.max(s.right-r.width,e.left),e.right-r.width):Math.max(Math.min(s.left,e.right-r.width),e.left)},xS=function(e,s,r){return s.bottom+r.height>=e.bottom?s.top-r.height:s.bottom},BS=function(e){return!(e==null||!e.repositionForWindowResize)},B$=function(){BS(Ou)&&Ou.repositionForWindowResize()||iu()},FS=function(){return cf},F$=function(e){cf=e},td=function(e,s,r,d){if(Sp(qI,r,H$,d),s.length){var v=HS(s,r,e);df=v,VS(v,e,r),setTimeout(function(){v.focus()},1),cf=null}else nd()},HS=function(e,s,r){const d=new f_;d.setRole(ei.MENU);for(let v=0;v<e.length;v++){const k=e[v],Z=new m_(k.text);Z.setRightToLeft(s),Z.setRole(ei.MENUITEM),d.addChild(Z),Z.setEnabled(k.enabled),k.enabled&&Z.onAction(function(){nd(),requestAnimationFrame(()=>{setTimeout(()=>{k.callback(k.scope,r)},0)})},{})}return d},VS=function(e,s,r){const d=At();s=new En(s.clientY+d.top,s.clientY+d.top,s.clientX+d.left,s.clientX+d.left),US(e);const v=e.getSize();r&&(s.left+=v.width,s.right+=v.width,d.left+=v.width,d.right+=v.width),x$(d,s,v,r),e.focus()},US=function(e){var s=su();if(!s)throw Error("Attempting to create a context menu when widget div is null");s=e.render(s),Ie(s,"blocklyContextMenu"),ve(s,"contextmenu",null,GS),e.focus()},GS=function(e){e.preventDefault(),e.stopPropagation()},nd=function(){Fl(qI),cf=null},H$=function(){df&&(df.dispose(),df=null)},o.callbackFactory$$module$build$src$core$contextmenu=function(e,s){return()=>{o.disable$$module$build$src$core$events$utils();let r;try{r=s instanceof Element?Hl(s,e.workspace):Za(s,e.workspace);const d=e.getRelativeToSurfaceXY();d.x=e.RTL?d.x-o.config$$module$build$src$core$config.snapRadius:d.x+o.config$$module$build$src$core$config.snapRadius,d.y+=2*o.config$$module$build$src$core$config.snapRadius,r.moveBy(d.x,d.y)}finally{o.enable$$module$build$src$core$events$utils()}return C()&&!r.isShadow()&&$(new(M(o.CREATE$$module$build$src$core$events$utils))(r)),o.setSelected$$module$build$src$core$common(r),r}},WS=function(e,s=!1){const r=o.createElement$$module$build$src$core$utils$xml("xml");var d=V$(o.allUsedVarModels$$module$build$src$core$variables(e));d.hasChildNodes()&&r.appendChild(d);for(const v of e.getTopComments())r.appendChild(od(v,s));for(e=e.getTopBlocks(!0),d=0;d<e.length;d++)r.appendChild(sd(e[d],s));return r},od=function(e,s=!1){const r=o.createElement$$module$build$src$core$utils$xml("comment");s||r.setAttribute("id",e.id),s=e.workspace;const d=e.getRelativeToSurfaceXY();return d.x=s.RTL?s.getWidth()-d.x:d.x,r.setAttribute("x",`${d.x}`),r.setAttribute("y",`${d.y}`),r.setAttribute("w",`${e.getSize().width}`),r.setAttribute("h",`${e.getSize().height}`),e.getText()&&(r.textContent=e.getText()),e.isCollapsed()&&r.setAttribute("collapsed","true"),e.isOwnEditable()||r.setAttribute("editable","false"),e.isOwnMovable()||r.setAttribute("movable","false"),e.isOwnDeletable()||r.setAttribute("deletable","false"),r},V$=function(e){const s=o.createElement$$module$build$src$core$utils$xml("variables");for(let r=0;r<e.length;r++){const d=e[r],v=o.createElement$$module$build$src$core$utils$xml("variable");v.appendChild(o.createTextNode$$module$build$src$core$utils$xml(d.name)),d.type&&v.setAttribute("type",d.type),v.id=d.getId(),s.appendChild(v)}return s},sd=function(e,s){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let r=0;if(e.workspace.RTL&&(r=e.workspace.getWidth()),s=Fr(e,s),K$(s)){const d=e.getRelativeToSurfaceXY();s.setAttribute("x",String(Math.round(e.workspace.RTL?r-d.x:d.x))),s.setAttribute("y",String(Math.round(d.y)))}return s},zS=function(e){if(e.isSerializable()){const s=o.createElement$$module$build$src$core$utils$xml("field");return s.setAttribute("name",e.name||""),e.toXml(s)}return null},KS=function(e,s){for(let r=0;r<e.inputList.length;r++){const d=e.inputList[r];for(let v=0;v<d.fieldRow.length;v++){const k=zS(d.fieldRow[v]);k&&s.appendChild(k)}}},Fr=function(e,s){if(e.isInsertionMarker())return(s=e.getChildren(!1)[0])?Fr(s):new DocumentFragment;const r=o.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(r.setAttribute("type",e.type),s||(r.id=e.id),e.mutationToDom){var d=e.mutationToDom();d&&(d.hasChildNodes()||d.hasAttributes())&&r.appendChild(d)}if(KS(e,r),d=e.getCommentText()){var v=e.getIcon(Zn.COMMENT),k=v.getBubbleSize();v=v.bubbleIsVisible();var Z=o.createElement$$module$build$src$core$utils$xml("comment");Z.appendChild(o.createTextNode$$module$build$src$core$utils$xml(d)),Z.setAttribute("pinned",`${v}`),Z.setAttribute("h",String(k.height)),Z.setAttribute("w",String(k.width)),r.appendChild(Z)}for(e.data&&(d=o.createElement$$module$build$src$core$utils$xml("data"),d.appendChild(o.createTextNode$$module$build$src$core$utils$xml(e.data)),r.appendChild(d)),d=0;d<e.inputList.length;d++){k=e.inputList[d];var ge=void 0;if(v=!0,k.type!==o.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&k.type!==o.inputTypes$$module$build$src$core$inputs$input_types.END_ROW){Z=k.connection.targetBlock(),k.type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE?ge=o.createElement$$module$build$src$core$utils$xml("value"):k.type===o.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(ge=o.createElement$$module$build$src$core$utils$xml("statement"));const Ct=k.connection.getShadowDom();!Ct||Z&&Z.isShadow()||ge.appendChild(U$(Ct,s)),Z&&(Z=Fr(Z,s),Z.nodeType===rr.ELEMENT_NODE&&(ge.appendChild(Z),v=!1)),ge.setAttribute("name",k.name),v||r.appendChild(ge)}}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&r.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&r.setAttribute("collapsed","true"),e.isEnabled()||r.setAttribute("disabled-reasons",Array.from(e.getDisabledReasons()).map(encodeURIComponent).join(",")),e.isOwnDeletable()||r.setAttribute("deletable","false"),e.isOwnMovable()||r.setAttribute("movable","false"),e.isOwnEditable()||r.setAttribute("editable","false"),ge=e.getNextBlock();let Xe;return ge&&(d=Fr(ge,s),d.nodeType===rr.ELEMENT_NODE&&(Xe=o.createElement$$module$build$src$core$utils$xml("next"),Xe.appendChild(d),r.appendChild(Xe))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||ge&&ge.isShadow()||Xe.appendChild(U$(e,s)),r},U$=function(e,s){let r=e=e.cloneNode(!0),d;for(;r;)if(s&&r.nodeName==="shadow"&&r.removeAttribute("id"),r.firstChild)r=r.firstChild;else{for(;r&&!r.nextSibling;){d=r,r=r.parentNode;let v;d.nodeType===rr.TEXT_NODE&&d.data.trim()===""&&((v=r)==null?void 0:v.firstChild)!==d&&q(d)}r&&(d=r,r=r.nextSibling,d.nodeType===rr.TEXT_NODE&&d.data.trim()===""&&q(d))}return e},bi=function(e){return Un(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},XS=function(e){e=bi(e).split("<");let s="";for(let r=1;r<e.length;r++){const d=e[r];d[0]==="/"&&(s=s.substring(2)),e[r]=s+"<"+d,d[0]!=="/"&&d.slice(-2)!=="/>"&&(s+="  ")}return e=e.join(`
`),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},YS=function(e,s){return s.setResizesEnabled(!1),s.clear(),e=o.domToWorkspace$$module$build$src$core$xml(e,s),s.setResizesEnabled(!0),e},o.domToWorkspace$$module$build$src$core$xml=function(e,s){let r=0;s.RTL&&(r=s.getWidth());const d=[];bt();const v=o.getGroup$$module$build$src$core$events$utils();v||o.setGroup$$module$build$src$core$events$utils(!0),s.setResizesEnabled&&s.setResizesEnabled(!1);let k=!0;try{for(let Z=0,ge;ge=e.childNodes[Z];Z++){const Xe=ge.nodeName.toLowerCase(),Ct=ge;if(Xe==="block"||Xe==="shadow"&&!T()){const Rn=Hl(Ct,s);d.push(Rn.id);let In;const ns=parseInt((In=Ct.getAttribute("x"))!=null?In:"10",10);let Uu;const Vd=parseInt((Uu=Ct.getAttribute("y"))!=null?Uu:"10",10);isNaN(ns)||isNaN(Vd)||Rn.moveBy(s.RTL?r-ns:ns,Vd,["create"]),k=!1}else{if(Xe==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(Xe==="comment")G$(Ct,s);else if(Xe==="variables"){if(k)W$(Ct,s);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");k=!1}}}}finally{o.setGroup$$module$build$src$core$events$utils(v),s.setResizesEnabled&&s.setResizesEnabled(!0),s.rendered&&ji(),Tt()}return $(new(M(zl))(s)),d},G$=function(e,s){var r;const d=(r=e.getAttribute("id"))!=null?r:void 0;r=s.rendered?new hf(s,d):new ef(s,d);var v;r.setText((v=e.textContent)!=null?v:"");var k;v=parseInt((k=e.getAttribute("x"))!=null?k:"",10);let Z;k=parseInt((Z=e.getAttribute("y"))!=null?Z:"",10),isNaN(v)||isNaN(k)||(v=s.RTL?s.getWidth()-v:v,r.moveTo(new ht(v,k)));var ge;s=parseInt((ge=e.getAttribute("w"))!=null?ge:"",10);let Xe;return ge=parseInt((Xe=e.getAttribute("h"))!=null?Xe:"",10),isNaN(s)||isNaN(ge)||r.setSize(new dn(s,ge)),e.getAttribute("collapsed")==="true"&&r.setCollapsed(!0),e.getAttribute("editable")==="false"&&r.setEditable(!1),e.getAttribute("movable")==="false"&&r.setMovable(!1),e.getAttribute("deletable")==="false"&&r.setDeletable(!1),r},jS=function(e,s){if(!s.getBlocksBoundingBox)return o.domToWorkspace$$module$build$src$core$xml(e,s);var r=s.getBlocksBoundingBox();if(e=o.domToWorkspace$$module$build$src$core$xml(e,s),r&&r.top!==r.bottom){var d=r.bottom;r=s.RTL?r.right:r.left;var v=1/0;let k=-1/0,Z=1/0;for(let ge=0;ge<e.length;ge++){const Xe=s.getBlockById(e[ge]).getRelativeToSurfaceXY();Xe.y<Z&&(Z=Xe.y),Xe.x<v&&(v=Xe.x),Xe.x>k&&(k=Xe.x)}for(d=d-Z+10,r=s.RTL?r-k:r-v,v=0;v<e.length;v++)s.getBlockById(e[v]).moveBy(r,d,["create"])}return e},o.domToBlock$$module$build$src$core$xml=function(e,s){return e=Hl(e,s),s.rendered&&ji(),e},Hl=function(e,s){o.disable$$module$build$src$core$events$utils();var r=s.getAllVariables();let d;try{if(d=Cp(e,s),s.rendered){const v=d,k=d.getDescendants(!1);v.setConnectionTracking(!1);for(let Z=k.length-1;0<=Z;Z--)k[Z].initSvg();for(let Z=k.length-1;0<=Z;Z--)k[Z].queueRender();setTimeout(function(){v.disposed||v.setConnectionTracking(!0)},1),s.resizeContents()}else{const v=d.getDescendants(!1);for(let k=v.length-1;0<=k;k--)v[k].initModel()}}finally{o.enable$$module$build$src$core$events$utils()}if(C()){for(e=Xc(s,r),s=0;s<e.length;s++)r=e[s],$(new(M(er))(r));$(new(M(o.CREATE$$module$build$src$core$events$utils))(d))}return d},W$=function(e,s){for(let d=0;d<e.children.length;d++){var r=e.children[d];const v=r.getAttribute("type"),k=r.getAttribute("id");if(r=r.textContent,!r)break;s.createVariable(r,v,k)}},qS=function(e){const s={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let r=0;r<e.children.length;r++){const d=e.children[r];if(d.nodeType!==rr.TEXT_NODE)switch(d.nodeName.toLowerCase()){case"mutation":s.mutation.push(d);break;case"comment":s.comment.push(d);break;case"data":s.data.push(d);break;case"title":case"field":s.field.push(d);break;case"value":case"statement":s.input.push(d);break;case"next":s.next.push(d);break;default:console.warn("Ignoring unknown tag: "+d.nodeName)}}return s},JS=function(e,s){let r=!1;for(let d=0;d<e.length;d++){const v=e[d];s.domToMutation&&(s.domToMutation(v),s.initSvg&&(r=!0))}return r},ZS=function(e,s){for(let d=0;d<e.length;d++){var r=e[d];const v=r.textContent,k=r.getAttribute("pinned")==="true";let Z;const ge=parseInt((Z=r.getAttribute("w"))!=null?Z:"50",10);let Xe;r=parseInt((Xe=r.getAttribute("h"))!=null?Xe:"50",10),s.setCommentText(v);const Ct=s.getIcon(Zn.COMMENT);isNaN(ge)||isNaN(r)||Ct.setBubbleSize(new dn(ge,r)),Ct.setBubbleVisible(k),setTimeout(()=>Ct.setBubbleVisible(k),1)}},QS=function(e,s){for(let r=0;r<e.length;r++)s.data=e[r].textContent},eC=function(e,s){for(let r=0;r<e.length;r++){const d=e[r],v=d.getAttribute("name");v?oC(s,v,d):console.warn(`Ignoring unnamed field in block ${s.type}`)}},z$=function(e){let s=null,r=null;for(let d=0;d<e.childNodes.length;d++){const v=e.childNodes[d];K$(v)&&(v.nodeName.toLowerCase()==="block"?s=v:v.nodeName.toLowerCase()==="shadow"&&(r=v))}return{childBlockElement:s,childShadowElement:r}},tC=function(e,s,r,d){for(let k=0;k<e.length;k++){var v=e[k];const Z=v.getAttribute("name"),ge=Z?r.getInput(Z):null;if(!ge){console.warn("Ignoring non-existent input "+Z+" in block "+d);break}if(v=z$(v),v.childBlockElement){if(!ge.connection)throw TypeError("Input connection does not exist.");Cp(v.childBlockElement,s,ge.connection,!1)}if(v.childShadowElement){let Xe;(Xe=ge.connection)==null||Xe.setShadowDom(v.childShadowElement)}}},nC=function(e,s,r){for(let d=0;d<e.length;d++){const v=z$(e[d]);if(v.childBlockElement){if(!r.nextConnection)throw TypeError("Next statement does not exist.");if(r.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Cp(v.childBlockElement,s,r.nextConnection,!0)}v.childShadowElement&&r.nextConnection&&r.nextConnection.setShadowDom(v.childShadowElement)}},Cp=function(e,s,r,d){var v;const k=e.getAttribute("type");if(!k)throw TypeError("Block type unspecified: "+e.outerHTML);var Z=(v=e.getAttribute("id"))!=null?v:void 0;v=s.newBlock(k,Z),Z=qS(e);const ge=JS(Z.mutation,v);if(ZS(Z.comment,v),QS(Z.data,v),r)if(d)if(v.previousConnection)r.connect(v.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(v.outputConnection)r.connect(v.outputConnection);else if(v.previousConnection)r.connect(v.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(eC(Z.field,v),tC(Z.input,s,v,k),nC(Z.next,s,v),ge&&v.initSvg(),(s=e.getAttribute("inline"))&&v.setInputsInline(s==="true"),(s=e.getAttribute("disabled"))&&v.setDisabledReason(s==="true"||s==="disabled",Cs),s=e.getAttribute("disabled-reasons"),s!==null)for(var Xe of s.split(","))v.setDisabledReason(!0,decodeURIComponent(Xe));if((Xe=e.getAttribute("deletable"))&&v.setDeletable(Xe==="true"),(Xe=e.getAttribute("movable"))&&v.setMovable(Xe==="true"),(Xe=e.getAttribute("editable"))&&v.setEditable(Xe==="true"),(Xe=e.getAttribute("collapsed"))&&v.setCollapsed(Xe==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=v.getChildren(!1),Xe=0;Xe<e.length;Xe++)if(!e[Xe].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");v.setShadow(!0)}return v},oC=function(e,s,r){const d=e.getField(s);d?d.fromXml(r):console.warn("Ignoring non-existent field "+s+" in block "+e.type)},sC=function(e){for(let s=0;s<e.childNodes.length;s++){const r=e.childNodes[s];if(r.nodeName.toLowerCase()==="next"){e.removeChild(r);break}}},K$=function(e){return e.nodeType===rr.ELEMENT_NODE},Ip=function(e){if(!(100<e.getDescendants(!1).length)){var s=e.workspace,r=e.getSvgRoot();s.getAudioManager().play("delete");var d=e.getRelativeToSurfaceXY(),v=r.cloneNode(!0);v.setAttribute("transform","translate("+d.x+","+d.y+")");var k;(k=s.getLayerManager())==null||k.appendToAnimationLayer({getSvgRoot:()=>v}),X$(v,{x:d.x,y:d.y,width:e.width,height:e.height},s.RTL,new Date)}},X$=function(e,s,r,d){const v=(new Date().getTime()-d.getTime())/150;1<v?q(e):(e.setAttribute("transform","translate("+(s.x+(r?-1:1)*s.width/2*v)+","+(s.y+s.height/2*v)+") scale("+(1-v)+")"),setTimeout(X$,10,e,s,r,d))},wp=function(e){var s=e.workspace;const r=s.scale;if(s.getAudioManager().play("click"),!(1>r)){var d=s.getSvgXY(e.getSvgRoot());e.outputConnection?(d.x+=(e.RTL?3:-3)*r,d.y+=13*r):e.previousConnection&&(d.x+=(e.RTL?-23:23)*r,d.y+=3*r);var v=ue(xe.CIRCLE,{cx:d.x,cy:d.y,r:0,fill:"none",stroke:"#888","stroke-width":10},s.getParentSvg());e=ue(xe.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*r},v),s=ue(xe.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},v),e.beginElement(),s.beginElement(),setTimeout(()=>void q(v),150)}},Y$=function(e){if(ru(),e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var s=e.getHeightWidth().height;s=Math.atan(10/s)/Math.PI*180,e.RTL||(s*=-1),wd=e,j$(e,s,new Date)}},j$=function(e,s,r){const d=(new Date().getTime()-r.getTime())/200;let v="";1>=d&&(v=`skewX(${Math.round(Math.sin(d*Math.PI*3)*(1-d)*s)})`,pf=setTimeout(j$,10,e,s,r)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${v}`)},ru=function(){wd&&(pf&&(clearTimeout(pf),pf=null),wd.getSvgRoot().setAttribute("transform",wd.getTranslation()),wd=null)},Vl=function(e){return e.getRelativeToSurfaceXY!==void 0&&e.isMovable!==void 0&&e.startDrag!==void 0&&e.drag!==void 0&&e.endDrag!==void 0&&e.revertDrag!==void 0},Zi=function(e,s){for(const r in s)e[r]=s[r]!==null&&typeof s[r]=="object"?Zi(e[r]||Object.create(null),s[r]):s[r];return e},Hr=function(e){return e.getProcedureModel!==void 0&&e.doProcedureUpdate!==void 0&&e.isProcedureDef!==void 0},kp=function(e){return e.startPublishing!==void 0&&e.stopPublishing!==void 0},Ti=function(e,s){i(ut.FIELD,e,s)},iC=function(e){a(ut.FIELD,e)},o.fromJson$$module$build$src$core$field_registry=function(e){return ew.fromJsonInternal(e)},rC=function(e){const s=f(ut.FIELD,e.type);return s?s.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},lC=function(e){let s=!1;const r=e.map(([Z,ge])=>typeof Z=="string"?[Gn(Z),ge]:(s=!0,[Z.alt!==null?Object.assign({},Z,{alt:Gn(Z.alt)}):Object.assign({},Z),ge]));if(s||2>e.length)return{options:r};var d=r.map(([Z])=>Z),v=Zc(d);e=T$(d,v);const k=y$(d,v);return!e&&!k||v<=e+k?{options:r}:(v=e?d[0].substring(0,e-1):void 0,d=k?d[0].substr(1-k):void 0,{options:aC(r,e,k),prefix:v,suffix:d})},aC=function(e,s,r){return e.map(([d,v])=>[d.substring(s,d.length-r),v])},q$=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let s=!1;for(let r=0;r<e.length;r++){const d=e[r];Array.isArray(d)?typeof d[1]!="string"?(s=!0,console.error("Invalid option["+r+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&typeof d[0]!="string"&&typeof d[0].src!="string"&&(s=!0,console.error("Invalid option["+r+"]: Each FieldDropdown option must have a string label or image description. Found"+d[0]+" in: ",d)):(s=!0,console.error("Invalid option["+r+"]: Each FieldDropdown option must be an array. Found: ",d))}if(s)throw TypeError("Found invalid FieldDropdown options.")},o.register$$module$build$src$core$extensions=function(e,s){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(Nu[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof s!="function")throw Error('Error: Extension "'+e+'" must be a function');Nu[e]=s},o.registerMixin$$module$build$src$core$extensions=function(e,s){if(!s||typeof s!="object")throw Error('Error: Mixin "'+e+'" must be a object');o.register$$module$build$src$core$extensions(e,function(){this.mixin(s)})},o.registerMutator$$module$build$src$core$extensions=function(e,s,r,d){const v='Error when registering mutator "'+e+'": ';Q$(v,s);const k=Z$(s,v);if(r&&typeof r!="function")throw Error(v+'Extension "'+e+'" is not a function');o.register$$module$build$src$core$extensions(e,function(){k&&this.setMutator(new o.MutatorIcon$$module$build$src$core$icons$mutator_icon(d||[],this)),this.mixin(s),r&&r.apply(this)})},uC=function(e){J$(e)?delete Nu[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},J$=function(e){return!!Nu[e]},Op=function(e,s,r){const d=Nu[e];if(typeof d!="function")throw Error('Error: Extension "'+e+'" not found.');let v;if(r?cC(e,s):v=Lp(s),d.apply(s),r)Q$('Error after applying mutator "'+e+'": ',s);else if(!pC(v,s))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},cC=function(e,s){if(Lp(s).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+s.id)},dC=function(e,s){return Rp(e.mutationToDom,e.domToMutation,s+" mutationToDom/domToMutation")},hC=function(e,s){return Rp(e.saveExtraState,e.loadExtraState,s+" saveExtraState/loadExtraState")},Z$=function(e,s){return Rp(e.compose,e.decompose,s+" compose/decompose")},Rp=function(e,s,r){if(e&&s){if(typeof e!="function"||typeof s!="function")throw Error(r+" must be a function");return!0}if(!e&&!s)return!1;throw Error(r+"Must have both or neither functions")},Q$=function(e,s){const r=dC(s,e),d=hC(s,e);if(!r&&!d)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");Z$(s,e)},Lp=function(e){const s=[];return e.domToMutation!==void 0&&s.push(e.domToMutation),e.mutationToDom!==void 0&&s.push(e.mutationToDom),e.saveExtraState!==void 0&&s.push(e.saveExtraState),e.loadExtraState!==void 0&&s.push(e.loadExtraState),e.compose!==void 0&&s.push(e.compose),e.decompose!==void 0&&s.push(e.decompose),s},pC=function(e,s){if(s=Lp(s),s.length!==e.length)return!1;for(let r=0;r<s.length;r++)if(e[r]!==s[r])return!1;return!0},fC=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const s=setInterval(function(){document.readyState==="complete"&&(clearInterval(s),e())},10)}},o.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,s){const r=[];return function(){r.includes(this.type)||(mC(this,e,s),r.push(this.type)),this.setTooltip((function(){const d=String(this.getFieldValue(e));return Gn(s[d])}).bind(this))}},mC=function(e,s,r){var d=e.getField(s);if(d instanceof wi&&!d.isOptionListDynamic()){d=d.getOptions();for(const[,v]of d)r[v]===void 0&&console.warn(`No tooltip mapping for value ${v} of field ${s} of block type ${e.type}.`)}},o.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,s){return function(){this.setTooltip((function(){const r=this.getField(s);return Gn(e).replace("%1",r?r.getText():"")}).bind(this))}},gC=function(){const e=this.tooltip;this.setTooltip((function(){const s=this.getParent();return s&&s.getInputsInline()&&s.tooltip||e}).bind(this))},Vr=function(e,s,r,d){e=e+" was deprecated in "+s+" and will be deleted in "+r+".",d&&(e+=`
Use `+d+" instead."),nw.has(e)||(nw.add(e),console.warn(e))},Ht=function(e,s){return" "+e+","+s+" "},es=function(e,s){return" "+e+s.join("")},to=function(e,s){return" M "+e+","+s+" "},Ln=function(e,s){return" m "+e+","+s+" "},yi=function(e,s){return" l "+e+","+s+" "},lu=function(e){return" l"+e.join("")},wt=function(e,s){return" "+e+" "+s+" "},Wn=function(e,s,r,d){return e+" "+r+" "+r+" "+s+d},ev=function(e,s){i(ut.ICON,e.toString(),s)},$C=function(e){a(ut.ICON,e)},Ap=function(e){const s=e.getProcedureMap().getProcedures().filter(d=>!d.getReturnTypes()).map(d=>[d.getName(),d.getParameters().map(v=>v.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(d=>{!Hr(d)&&Ro(d)&&s.push(d.getProcedureDef())});const r=e.getProcedureMap().getProcedures().filter(d=>!!d.getReturnTypes()).map(d=>[d.getName(),d.getParameters().map(v=>v.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(d=>{!Hr(d)&&Ro(d)&&r.push(d.getProcedureDef())}),s.sort(tv),r.sort(tv),[s,r]},tv=function(e,s){return e[0].localeCompare(s[0],void 0,{sensitivity:"base"})},o.findLegalName$$module$build$src$core$procedures=function(e,s){if(s.isInFlyout)return e;for(e=e||o.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!vC(e,s.workspace,s);){const r=e.match(/^(.*?)(\d+)$/);e=r?r[1]+(parseInt(r[2])+1):e+"2"}return e},vC=function(e,s,r){return!nv(e,s,r)},nv=function(e,s,r){for(const d of s.getAllBlocks(!1))if(d!==r&&Ro(d)&&o.Names$$module$build$src$core$names.equals(d.getProcedureDef()[0],e))return!0;r=r&&Hr(r)?r==null?void 0:r.getProcedureModel():void 0;for(const d of s.getProcedureMap().getProcedures())if(d!==r&&o.Names$$module$build$src$core$names.equals(d.getName(),e))return!0;return!1},o.rename$$module$build$src$core$procedures=function(e){var s=this.getSourceBlock();if(!s)throw new Kn;e=e.trim();const r=o.findLegalName$$module$build$src$core$procedures(e,s);Hr(s)&&!s.isInsertionMarker()&&s.getProcedureModel().setName(r);const d=this.getValue();if(d!==e&&d!==r)for(e=s.workspace.getAllBlocks(!1),s=0;s<e.length;s++){const v=e[s];v.renameProcedure&&v.renameProcedure(d,r)}return r},Np=function(e){function s(k,Z){for(let Xe=0;Xe<k.length;Xe++){var ge=k[Xe][0];const Ct=k[Xe][1],Rn=o.createElement$$module$build$src$core$utils$xml("block");Rn.setAttribute("type",Z),Rn.setAttribute("gap","16");const In=o.createElement$$module$build$src$core$utils$xml("mutation");for(In.setAttribute("name",ge),Rn.appendChild(In),ge=0;ge<Ct.length;ge++){const ns=o.createElement$$module$build$src$core$utils$xml("arg");ns.setAttribute("name",Ct[ge]),In.appendChild(ns)}r.push(Rn)}}const r=[];if(ts.procedures_defnoreturn){var d=o.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","procedures_defnoreturn"),d.setAttribute("gap","16");var v=o.createElement$$module$build$src$core$utils$xml("field");v.setAttribute("name","NAME"),v.appendChild(o.createTextNode$$module$build$src$core$utils$xml(o.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),d.appendChild(v),r.push(d)}return ts.procedures_defreturn&&(d=o.createElement$$module$build$src$core$utils$xml("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap","16"),v=o.createElement$$module$build$src$core$utils$xml("field"),v.setAttribute("name","NAME"),v.appendChild(o.createTextNode$$module$build$src$core$utils$xml(o.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(v),r.push(d)),ts.procedures_ifreturn&&(d=o.createElement$$module$build$src$core$utils$xml("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap","16"),r.push(d)),r.length&&r[r.length-1].setAttribute("gap","24"),e=Ap(e),s(e[0],"procedures_callnoreturn"),s(e[1],"procedures_callreturn"),r},ov=function(e){var s=[],r=e.getBlocksByType("procedures_mutatorarg",!1);for(let k=0,Z;Z=r[k];k++)s.push(Z.getFieldValue("NAME"));r=o.createElement$$module$build$src$core$utils$xml("xml");const d=o.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","procedures_mutatorarg");const v=o.createElement$$module$build$src$core$utils$xml("field");v.setAttribute("name","NAME"),s=cp(o.DEFAULT_ARG$$module$build$src$core$procedures,s),s=o.createTextNode$$module$build$src$core$utils$xml(s),v.appendChild(s),d.appendChild(v),r.appendChild(d),e.updateToolbox(r)},sv=function(e){if(e.type===Si&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=F(e.workspaceId).getBlockById(e.blockId);var s=e.type;(s==="procedures_defnoreturn"||s==="procedures_defreturn")&&(e=e.getIcon(o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),ov(e),e.addChangeListener(_C))}},_C=function(e){(e.type===o.CREATE$$module$build$src$core$events$utils||e.type===o.DELETE$$module$build$src$core$events$utils||e.type===o.CHANGE$$module$build$src$core$events$utils||e.type===Ul)&&(e=F(e.workspaceId),ov(e))},iv=function(e,s){return s.getAllBlocks(!1).filter(r=>bC(r,e)||U0(r)&&o.Names$$module$build$src$core$names.equals(r.getProcedureCall(),e))},bC=function(e,s){return Hr(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&o.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),s)},o.mutateCallers$$module$build$src$core$procedures=function(e){const s=T();var r=e.getProcedureDef()[0];const d=e.mutationToDom(!0);e=iv(r,e.workspace);for(let k=0,Z;Z=e[k];k++){r=(r=Z.mutationToDom())&&Un(r),Z.domToMutation&&Z.domToMutation(d);var v=Z.mutationToDom();v=v&&Un(v),r!==v&&(o.setRecordUndo$$module$build$src$core$events$utils(!1),$(new(M(o.CHANGE$$module$build$src$core$events$utils))(Z,"mutation",null,r,v)),o.setRecordUndo$$module$build$src$core$events$utils(s))}},o.getDefinition$$module$build$src$core$procedures=function(e,s){for(const r of s.getAllBlocks(!1))if(Hr(r)&&r.isProcedureDef()&&o.Names$$module$build$src$core$names.equals(r.getProcedureModel().getName(),e)||Ro(r)&&o.Names$$module$build$src$core$names.equals(r.getProcedureDef()[0],e))return r;return null},Mp=function(e){return e.isDynamic},TC=function(e){return e.pathDown!==void 0&&e.pathUp!==void 0},yC=function(e){return e.pathLeft!==void 0&&e.pathRight!==void 0},EC=function(e,s){if(!e||!s)throw Error("Cannot connect null connections.");e.targetConnection=s,s.targetConnection=e},SC=function(e,s){let r=null;s=s.outputConnection;const d=s==null?void 0:s.getConnectionChecker();for(let v=0,k;k=e.inputList[v];v++){const Z=k.connection;let ge;if(Z&&((ge=d)!=null&&ge.canConnect(s,Z,!1))){if(r)return null;r=Z}}return r},CC=function(e,s){let r;for(;r=SC(e,s);)if(e=r.targetBlock(),!e||e.isShadow())return r;return null},rv=function(e){return e.getType!==void 0&&e.initView!==void 0&&e.dispose!==void 0&&e.getWeight!==void 0&&e.getSize!==void 0&&e.applyColour!==void 0&&e.hideForInsertionMarker!==void 0&&e.updateEditable!==void 0&&e.updateCollapsed!==void 0&&e.isShownWhenCollapsed!==void 0&&e.setOffsetInBlock!==void 0&&e.onLocationChange!==void 0&&e.onClick!==void 0},IC=function(e){return rv(e)&&Qa(e)&&qc(e)&&e.setText!==void 0&&e.getText!==void 0&&e.setBubbleSize!==void 0&&e.getBubbleSize!==void 0&&e.getType()===Zn.COMMENT},id=function(e){let s=e.outputConnection;return(!s||e.previousConnection&&e.previousConnection.isConnected())&&(s=e.previousConnection),s},rd=function(e,s){i(ut.RENDERER,e,s)},wC=function(e){a(ut.RENDERER,e)},lv=function(e,s,r){return e=new(p(ut.RENDERER,e))(e),e.init(s,r),e},av=function(e){qa(e.getTargetWorkspace(),void 0,"String")},uv=function(e){qa(e.getTargetWorkspace(),void 0,"Number")},cv=function(e){qa(e.getTargetWorkspace(),void 0,"Colour")},Dp=function(e){let s=[],r=document.createElement("button");return r.setAttribute("text",o.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),s.push(r),r=document.createElement("button"),r.setAttribute("text",o.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),s.push(r),r=document.createElement("button"),r.setAttribute("text",o.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),s.push(r),e.registerButtonCallback("CREATE_VARIABLE_STRING",av),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",uv),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",cv),e=dv(e),s=s.concat(e)},dv=function(e){e=e.getAllVariables();const s=[];if(0<e.length){if(ts.variables_set_dynamic){var r=e[e.length-1];const d=o.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","variables_set_dynamic"),d.setAttribute("gap","24"),d.appendChild(Pl(r)),s.push(d)}if(ts.variables_get_dynamic){e.sort(vd.compareByName);for(let d=0,v;v=e[d];d++)r=o.createElement$$module$build$src$core$utils$xml("block"),r.setAttribute("type","variables_get_dynamic"),r.setAttribute("gap","8"),r.appendChild(Pl(v)),s.push(r)}}return s},kC=function(e,s){const r=e.workspace,d=o.config$$module$build$src$core$config.snapRadius,v=ht.difference(s,e.getRelativeToSurfaceXY()),k=new ht(0,0),Z=r.getAllBlocks(!1).filter(ge=>ge.id!=e.id).map(ge=>ge.getRelativeToSurfaceXY());for(;OC(ht.sum(s,k),Z)||RC(e,ht.sum(v,k),d);)r.RTL?k.translate(-d,2*d):k.translate(d,2*d);e.moveTo(ht.sum(s,k))},OC=function(e,s){return s.some(r=>1>=Math.abs(r.x-e.x)&&1>=Math.abs(r.y-e.y))},RC=function(e,s,r){return e.getConnections_(!1).some(d=>!!d.closest(r,s).connection)},au=function(e,s,r){const d=r.getBoundingRectangle(),v=d.right-d.left,k=eu(s.top,d.top,s.top+s.height-(d.bottom-d.top))-d.top;let Z=s.left;return s=s.left+s.width-v,e.RTL?Z=Math.min(s,Z):s=Math.max(Z,s),(e=eu(Z,d.left,s)-d.left)||k?(r.moveBy(e,k,["inbounds"]),!0):!1},hv=function(e){return s=>{var r=e.getMetricsManager();if(r.hasFixedEdges()&&!e.isDragging()){var d;if(Up.includes((d=s.type)!=null?d:"")){d=r.getScrollMetrics(!0);const v=LC(e,s);v&&(r=o.getGroup$$module$build$src$core$events$utils()||!1,o.setGroup$$module$build$src$core$events$utils(s.group),au(e,d,v)&&!s.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),o.setGroup$$module$build$src$core$events$utils(r))}else s.type===Wr&&s.scale&&s.oldScale&&s.scale>s.oldScale&&Pp(e)}}},LC=function(e,s){let r=null;switch(s.type){case o.CREATE$$module$build$src$core$events$utils:case o.MOVE$$module$build$src$core$events$utils:(r=e.getBlockById(s.blockId))&&(r=r.getRootBlock());break;case nr:case or:r=e.getCommentById(s.commentId)}return r},Pp=function(e){var s=e.getMetricsManager();if(s.hasFixedEdges()&&!e.isDragging()){s=s.getScrollMetrics(!0);var r=e.getTopBoundedElements();for(let d=0,v;v=r[d];d++)au(e,s,v)}},Ss=function(e){return e.isDeletable!==void 0&&e.dispose!==void 0&&e.setDeleteStyle!==void 0},AC=function(e){const s=e.toCopyData();ob=s;let r;return sb=(r=e.workspace)!=null?r:null,s},Ur=function(e,s,r){return e&&s?pv(e,s,r):ob&&sb?pv(ob,sb):null},pv=function(e,s,r){let d;s=(d=s.getRootWorkspace())!=null?d:s;let v,k;return(k=(v=f(ut.PASTER,e.paster,!1))==null?void 0:v.paste(e,s,r))!=null?k:null},NC=function(e){const s=e.toCopyData();return s?Ur(s,e.workspace):null},ld=function(e){return e.toCopyData!==void 0},fv=function(){fn.registry.register({name:Ri.ESCAPE,preconditionFn(e){return!e.options.readOnly},callback(e){return e.hideChaff(),!0},keyCodes:[tn.ESC]})},mv=function(){fn.registry.register({name:Ri.DELETE,preconditionFn(e){const s=z();return!e.options.readOnly&&s!=null&&Ss(s)&&s.isDeletable()&&!ar.inProgress()},callback(e,s){return s.preventDefault(),e=z(),e instanceof As?e.checkAndDelete():Ss(e)&&e.isDeletable()&&(o.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),o.setGroup$$module$build$src$core$events$utils(!1)),!0},keyCodes:[tn.DELETE,tn.BACKSPACE]})},gv=function(){const e=fn.registry.createSerializedKey(tn.C,[tn.CTRL]),s=fn.registry.createSerializedKey(tn.C,[tn.ALT]),r=fn.registry.createSerializedKey(tn.C,[tn.META]);fn.registry.register({name:Ri.COPY,preconditionFn(d){const v=z();return!d.options.readOnly&&!ar.inProgress()&&v!=null&&Ss(v)&&v.isDeletable()&&Vl(v)&&v.isMovable()&&ld(v)},callback(d,v){return v.preventDefault(),d.hideChaff(),v=z(),!v||!ld(v)?!1:(Jr=v.toCopyData(),Zr=d,Fu=Vl(v)?v.getRelativeToSurfaceXY():null,!!Jr)},keyCodes:[e,s,r]})},$v=function(){const e=fn.registry.createSerializedKey(tn.X,[tn.CTRL]),s=fn.registry.createSerializedKey(tn.X,[tn.ALT]),r=fn.registry.createSerializedKey(tn.X,[tn.META]);fn.registry.register({name:Ri.CUT,preconditionFn(d){const v=z();return!d.options.readOnly&&!ar.inProgress()&&v!=null&&Ss(v)&&v.isDeletable()&&Vl(v)&&v.isMovable()&&!v.workspace.isFlyout},callback(d){const v=z();return v instanceof As?(Jr=v.toCopyData(),Zr=d,Fu=v.getRelativeToSurfaceXY(),v.checkAndDelete(),!0):Ss(v)&&v.isDeletable()&&ld(v)?(Jr=v.toCopyData(),Zr=d,Fu=Vl(v)?v.getRelativeToSurfaceXY():null,v.dispose(),!0):!1},keyCodes:[e,s,r]})},vv=function(){const e=fn.registry.createSerializedKey(tn.V,[tn.CTRL]),s=fn.registry.createSerializedKey(tn.V,[tn.ALT]),r=fn.registry.createSerializedKey(tn.V,[tn.META]);fn.registry.register({name:Ri.PASTE,preconditionFn(d){return!d.options.readOnly&&!ar.inProgress()},callback(){if(!Jr||!Zr)return!1;if(!Fu)return!!Ur(Jr,Zr);const{left:d,top:v,width:k,height:Z}=Zr.getMetricsManager().getViewMetrics(!0);if(new En(v,v+Z,d,d+k).contains(Fu.x,Fu.y))return!!Ur(Jr,Zr);const ge=new ht(d+k/2,v+Z/2);return!!Ur(Jr,Zr,ge)},keyCodes:[e,s,r]})},_v=function(){const e=fn.registry.createSerializedKey(tn.Z,[tn.CTRL]),s=fn.registry.createSerializedKey(tn.Z,[tn.ALT]),r=fn.registry.createSerializedKey(tn.Z,[tn.META]);fn.registry.register({name:Ri.UNDO,preconditionFn(d){return!d.options.readOnly&&!ar.inProgress()},callback(d,v){return d.hideChaff(),d.undo(!1),v.preventDefault(),!0},keyCodes:[e,s,r]})},bv=function(){const e=fn.registry.createSerializedKey(tn.Z,[tn.SHIFT,tn.CTRL]),s=fn.registry.createSerializedKey(tn.Z,[tn.SHIFT,tn.ALT]),r=fn.registry.createSerializedKey(tn.Z,[tn.SHIFT,tn.META]),d=fn.registry.createSerializedKey(tn.Y,[tn.CTRL]);fn.registry.register({name:Ri.REDO,preconditionFn(v){return!ar.inProgress()&&!v.options.readOnly},callback(v,k){return v.hideChaff(),v.undo(!0),k.preventDefault(),!0},keyCodes:[e,s,r,d]})},Tv=function(){fv(),mv(),gv(),$v(),vv(),_v(),bv()},yv=function(e){const s=e.saveState();return e.getParameters().length&&(s.parameters=e.getParameters().map(r=>r.saveState())),s},Ev=function(e,s,r,d){if(e=e.loadState(r,d),!r.parameters)return e;for(const[v,k]of r.parameters.entries())e.insertParameter(s.loadState(k,d),v);return e},MC=function(e){const s=Object.create(null),r=g(ut.SERIALIZER,!0);for(const d in r){let v;const k=(v=r[d])==null?void 0:v.save(e);k&&(s[d]=k)}return s},DC=function(e,s,{recordUndo:r=!1}={}){var d=g(ut.SERIALIZER,!0);if(d){d=Object.entries(d).sort((k,Z)=>Z[1].priority-k[1].priority);var v=T();o.setRecordUndo$$module$build$src$core$events$utils(r),(r=o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),bt(),s instanceof Ls&&s.setResizesEnabled(!1);for(const[,k]of d.reverse()){let Z;(Z=k)==null||Z.clear(s)}for(const[k,Z]of d.reverse())if(e[k]){let ge;(ge=Z)==null||ge.load(e[k],s)}s instanceof Ls&&s.setResizesEnabled(!0),Tt(),$(new(M(zl))(s)),o.setGroup$$module$build$src$core$events$utils(r),o.setRecordUndo$$module$build$src$core$events$utils(v)}},PC=function(e,s){let r=null;r=typeof e=="string"?document.getElementById(e)||document.querySelector(e):e;var d;if(!document.contains(r)&&document!==((d=r)==null?void 0:d.ownerDocument))throw Error("Error: container is not in current document");e=new ks(s||{}),d=document.createElement("div"),Ie(d,"injectionDiv"),s!=null&&s.rtl&&Ie(d,"blocklyRTL"),d.tabIndex=0,ho(d,oo.LABEL,o.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),r.appendChild(d),s=xC(d,e);const v=BC(d,s,e);return FC(v),j(v),D(v),d.addEventListener("focusin",function(){j(v)}),v},xC=function(e,s){e.setAttribute("dir","LTR"),He(s.hasCss,s.pathToMedia),e=ue(xe.SVG,{xmlns:pd,"xmlns:html":Ii,"xmlns:xlink":hs,version:"1.1",class:"blocklySvg",tabindex:"0"},e);const r=ue(xe.DEFS,{},e),d=String(Math.random()).substring(2);return s.gridPattern=L_.createDom(d,s.gridOptions,r),e},BC=function(e,s,r){r.parentWorkspace=null,r=new Ls(r);const d=r.options;r.scale=d.zoomOptions.startScale,s.appendChild(r.createDom("blocklyMainBackground",e));var v=r.getRenderer().getClassName();return v&&Ie(e,v),(v=r.getTheme().getClassName())&&Ie(e,v),!d.hasCategories&&d.languageTree&&(e=r.addFlyout(xe.SVG),Qe(e,s)),d.hasTrashcan&&r.addTrashcan(),d.zoomOptions&&d.zoomOptions.controls&&r.addZoomControls(),r.getThemeManager().subscribe(s,"workspaceBackgroundColour","background-color"),r.translate(0,0),r.addChangeListener(hv(r)),D(r),M$(),l$(),C$(),r},FC=function(e){const s=e.options;var r=e.getParentSvg();if(ve(r.parentNode,"contextmenu",null,function(d){ae(d)||d.preventDefault()}),r=ve(window,"resize",null,function(){Ji(),e.hideComponents(!0),b$(),B$(),D(e),Pp(e)}),e.setResizeHandlerWrapper(r),VC(),s.languageTree){r=e.getToolbox();const d=e.getFlyout(!0);r?r.init():d&&(d.init(e),d.show(s.languageTree),typeof d.scrollToStart=="function"&&d.scrollToStart())}s.hasTrashcan&&e.trashcan.init(),s.zoomOptions&&s.zoomOptions.controls&&e.zoomControls_.init(),s.moveOptions&&s.moveOptions.scrollbars?(e.scrollbar=new rb(e,s.moveOptions.scrollbars===!0||!!s.moveOptions.scrollbars.horizontal,s.moveOptions.scrollbars===!0||!!s.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),s.hasSounds&&UC(s.pathToMedia,e)},HC=function(e){const s=J();s&&!(ae(e)||s.rendered&&!s.isVisible())&&fn.registry.onKeyDown(s,e)},VC=function(){Bw||(ve(document,"scroll",null,function(){const e=B();for(let s=0,r;r=e[s];s++)r instanceof Ls&&r.updateInverseScreenCTM()}),ve(document,"keydown",null,HC),Ae(document,"touchend",null,De),Ae(document,"touchcancel",null,De),hd&&ve(window,"orientationchange",document,function(){D(J())})),Bw=!0},UC=function(e,s){function r(){for(;v.length;){const k=v.pop();k&&Fe(k)}d.preload()}const d=s.getAudioManager();d.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),d.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),d.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const v=[];v.push(ve(document,"pointermove",null,r,!0)),v.push(ve(document,"touchstart",null,r,!0))},Sv=function(){Qt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.UNDO},preconditionFn(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:Qt.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},Cv=function(){Qt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.REDO},preconditionFn(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:Qt.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},Iv=function(){Qt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:Qt.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},wv=function(e,s){function r(k){v--,k.setCollapsed(e),v===0&&o.setGroup$$module$build$src$core$events$utils(!1)}let d=0,v=0;o.setGroup$$module$build$src$core$events$utils(!0);for(let k=0;k<s.length;k++){let Z=s[k];for(;Z;)v++,setTimeout(r.bind(null,Z),d),Z=Z.getNextBlock(),d+=10}},kv=function(){Qt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let s=0;s<e.length;s++){let r=e[s];for(;r;){if(!r.isCollapsed())return"enabled";r=r.getNextBlock()}}return"disabled"}return"hidden"},callback(e){wv(!0,e.workspace.getTopBlocks(!0))},scopeType:Qt.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},Ov=function(){Qt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let s=0;s<e.length;s++){let r=e[s];for(;r;){if(r.isCollapsed())return"enabled";r=r.getNextBlock()}}return"disabled"}return"hidden"},callback(e){wv(!1,e.workspace.getTopBlocks(!0))},scopeType:Qt.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},Rv=function(e,s){if(e.isDeletable())Array.prototype.push.apply(s,e.getDescendants(!1));else{e=e.getChildren(!1);for(let r=0;r<e.length;r++)Rv(e[r],s)}},xp=function(e){const s=[];e=e.getTopBlocks(!0);for(let r=0;r<e.length;r++)Rv(e[r],s);return s},ad=function(e,s){s?o.setGroup$$module$build$src$core$events$utils(s):(o.setGroup$$module$build$src$core$events$utils(!0),s=o.getGroup$$module$build$src$core$events$utils());const r=e.shift();r&&(r.isDeadOrDying()?ad(e,s):(r.dispose(!1,!0),setTimeout(ad,10,e,s))),o.setGroup$$module$build$src$core$events$utils(!1)},Lv=function(){Qt.registry.register({displayText(e){return e.workspace?(e=xp(e.workspace).length,e===1?o.Msg$$module$build$src$core$msg.DELETE_BLOCK:o.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)):""},preconditionFn(e){return e.workspace&&0<xp(e.workspace).length?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var s=xp(e.workspace);2>s.length?ad(s):Zs(o.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(s.length)),function(r){r&&ad(s)})}},scopeType:Qt.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},GC=function(){Sv(),Cv(),Iv(),kv(),Ov(),Lv()},Av=function(){Qt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){if(e.block){var s=e.block.toCopyData();s&&Ur(s,e.block.workspace)}},scopeType:Qt.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},Nv=function(){Qt.registry.register({displayText(e){return e.block.hasIcon(dr.TYPE)?o.Msg$$module$build$src$core$msg.REMOVE_COMMENT:o.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.workspace.options.comments&&!e.isCollapsed()&&e.isEditable()?"enabled":"hidden"},callback(e){e=e.block,e.hasIcon(dr.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:Qt.ScopeType.BLOCK,id:"blockComment",weight:2})},Mv=function(){Qt.registry.register({displayText(e){return e.block.getInputsInline()?o.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:o.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let s=1;s<e.inputList.length;s++)if(!(e.inputList[s-1]instanceof Af||e.inputList[s]instanceof Af))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:Qt.ScopeType.BLOCK,id:"blockInline",weight:3})},Dv=function(){Qt.registry.register({displayText(e){return e.block.isCollapsed()?o.Msg$$module$build$src$core$msg.EXPAND_BLOCK:o.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:Qt.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},Pv=function(){Qt.registry.register({displayText(e){return e.block.hasDisabledReason(Cs)?o.Msg$$module$build$src$core$msg.ENABLE_BLOCK:o.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()){var s=e.getDisabledReasons();return s=s.size>(s.has(Cs)?1:0),e.getInheritedDisabled()||s?"disabled":"enabled"}return"hidden"},callback(e){e=e.block;const s=o.getGroup$$module$build$src$core$events$utils();s||o.setGroup$$module$build$src$core$events$utils(!0),e.setDisabledReason(!e.hasDisabledReason(Cs),Cs),o.setGroup$$module$build$src$core$events$utils(s)},scopeType:Qt.ScopeType.BLOCK,id:"blockDisable",weight:5})},xv=function(){Qt.registry.register({displayText(e){var s=e.block;return e=s.getDescendants(!1).length,(s=s.getNextBlock())&&(e-=s.getDescendants(!1).length),e===1?o.Msg$$module$build$src$core$msg.DELETE_BLOCK:o.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:Qt.ScopeType.BLOCK,id:"blockDelete",weight:6})},Bv=function(){Qt.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:Qt.ScopeType.BLOCK,id:"blockHelp",weight:7})},Fv=function(){Qt.registry.register({displayText:()=>o.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(e){let s;return(s=e.comment)!=null&&s.isDeletable()?"enabled":"hidden"},callback(e){o.setGroup$$module$build$src$core$events$utils(!0);let s;(s=e.comment)==null||s.dispose(),o.setGroup$$module$build$src$core$events$utils(!1)},scopeType:Qt.ScopeType.COMMENT,id:"commentDelete",weight:6})},Hv=function(){Qt.registry.register({displayText:()=>o.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(e){let s;return(s=e.comment)!=null&&s.isMovable()?"enabled":"hidden"},callback(e){if(e.comment){var s=e.comment.toCopyData();s&&Ur(s,e.comment.workspace)}},scopeType:Qt.ScopeType.COMMENT,id:"commentDuplicate",weight:1})},Vv=function(){Qt.registry.register({displayText:()=>o.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:()=>"enabled",callback:(e,s)=>{if(e=e.workspace){o.setGroup$$module$build$src$core$events$utils(!0);var r=new hf(e);r.setText(o.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),r.moveTo(WC(new ht(s.clientX,s.clientY),e)),o.setSelected$$module$build$src$core$common(r),o.setGroup$$module$build$src$core$events$utils(!1)}},scopeType:Qt.ScopeType.WORKSPACE,id:"commentCreate",weight:8})},WC=function(e,s){var r=s.getInjectionDiv().getBoundingClientRect();return e=new ht(e.x-r.left,e.y-r.top),r=s.getOriginOffsetInPixels(),e=ht.difference(e,r),e.scale(1/s.scale),e},zC=function(){Av(),Nv(),Mv(),Dv(),Pv(),xv(),Bv()},KC=function(){Hv(),Fv(),Vv()},Uv=function(){GC(),zC()},XC=function(e){return e.paste!==void 0},YC=function(e){return e.getSvgRoot!==void 0},jC=function(e){return typeof e.id=="string"&&e.workspace!==void 0&&e.select!==void 0&&e.unselect!==void 0},qC=function(e){return e.isSelectable()},JC=function(e){J().hideChaff(e)},rt=rt||{},rt.scope={},rt.ASSUME_ES5=!1,rt.ASSUME_NO_NATIVE_MAP=!1,rt.ASSUME_NO_NATIVE_SET=!1,rt.SIMPLE_FROUND_POLYFILL=!1,rt.ISOLATE_POLYFILLS=!1,rt.FORCE_POLYFILL_PROMISE=!1,rt.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,rt.defineProperty=rt.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,s,r){return e==Array.prototype||e==Object.prototype||(e[s]=r.value),e},rt.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof qo=="object"&&qo];for(var s=0;s<e.length;++s){var r=e[s];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},rt.global=rt.getGlobal(this),rt.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",rt.TRUST_ES6_POLYFILLS=!rt.ISOLATE_POLYFILLS||rt.IS_SYMBOL_NATIVE,rt.polyfills={},rt.propertyToPolyfillSymbol={},rt.POLYFILL_PREFIX="$jscp$",rt.polyfill=function(e,s,r,d){s&&(rt.ISOLATE_POLYFILLS?rt.polyfillIsolated(e,s,r,d):rt.polyfillUnisolated(e,s,r,d))},rt.polyfillUnisolated=function(e,s,r,d){for(r=rt.global,e=e.split("."),d=0;d<e.length-1;d++){var v=e[d];if(!(v in r))return;r=r[v]}e=e[e.length-1],d=r[e],s=s(d),s!=d&&s!=null&&rt.defineProperty(r,e,{configurable:!0,writable:!0,value:s})},rt.polyfillIsolated=function(e,s,r,d){var v=e.split(".");e=v.length===1,d=v[0],d=!e&&d in rt.polyfills?rt.polyfills:rt.global;for(var k=0;k<v.length-1;k++){var Z=v[k];if(!(Z in d))return;d=d[Z]}v=v[v.length-1],r=rt.IS_SYMBOL_NATIVE&&r==="es6"?d[v]:null,s=s(r),s!=null&&(e?rt.defineProperty(rt.polyfills,v,{configurable:!0,writable:!0,value:s}):s!==r&&(rt.propertyToPolyfillSymbol[v]===void 0&&(r=1e9*Math.random()>>>0,rt.propertyToPolyfillSymbol[v]=rt.IS_SYMBOL_NATIVE?rt.global.Symbol(v):rt.POLYFILL_PREFIX+r+"$"+v),rt.defineProperty(d,rt.propertyToPolyfillSymbol[v],{configurable:!0,writable:!0,value:s})))},rt.underscoreProtoCanBeSet=function(){var e={a:!0},s={};try{return s.__proto__=e,s.a}catch{}return!1},rt.setPrototypeOf=rt.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:rt.underscoreProtoCanBeSet()?function(e,s){if(e.__proto__=s,e.__proto__!==s)throw new TypeError(e+" is not extensible");return e}:null,rt.arrayIteratorImpl=function(e){var s=0;return function(){return s<e.length?{done:!1,value:e[s++]}:{done:!0}}},rt.arrayIterator=function(e){return{next:rt.arrayIteratorImpl(e)}},rt.makeIterator=function(e){var s=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(s)return s.call(e);if(typeof e.length=="number")return rt.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},rt.generator={},rt.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},rt.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},rt.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},rt.generator.Context.prototype.stop_=function(){this.isRunning_=!1},rt.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},rt.generator.Context.prototype.next_=function(e){this.yieldResult=e},rt.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},rt.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},rt.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},rt.generator.Context.prototype.yield=function(e,s){return this.nextAddress=s,{value:e}},rt.generator.Context.prototype.yieldAll=function(e,s){e=rt.makeIterator(e);var r=e.next();if(rt.generator.ensureIteratorResultIsObject_(r),r.done)this.yieldResult=r.value,this.nextAddress=s;else return this.yieldAllIterator_=e,this.yield(r.value,s)},rt.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},rt.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},rt.generator.Context.prototype.setCatchFinallyBlocks=function(e,s){this.catchAddress_=e,s!=null&&(this.finallyAddress_=s)},rt.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},rt.generator.Context.prototype.leaveTryBlock=function(e,s){this.nextAddress=e,this.catchAddress_=s||0},rt.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},rt.generator.Context.prototype.enterFinallyBlock=function(e,s,r){r?this.finallyContexts_[r]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=s||0},rt.generator.Context.prototype.leaveFinallyBlock=function(e,s){if(s=this.finallyContexts_.splice(s||0)[0],s=this.abruptCompletion_=this.abruptCompletion_||s){if(s.isException)return this.jumpToErrorHandler_();s.jumpTo!=null&&this.finallyAddress_<s.jumpTo?(this.nextAddress=s.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},rt.generator.Context.prototype.forIn=function(e){return new rt.generator.Context.PropertyIterator(e)},rt.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var s in e)this.properties_.push(s);this.properties_.reverse()},rt.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},rt.generator.Engine_=function(e){this.context_=new rt.generator.Context,this.program_=e},rt.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},rt.generator.Engine_.prototype.return_=function(e){this.context_.start_();var s=this.context_.yieldAllIterator_;return s?this.yieldAllStep_("return"in s?s.return:function(r){return{value:r,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},rt.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},rt.generator.Engine_.prototype.yieldAllStep_=function(e,s,r){try{var d=e.call(this.context_.yieldAllIterator_,s);if(rt.generator.ensureIteratorResultIsObject_(d),!d.done)return this.context_.stop_(),d;var v=d.value}catch(k){return this.context_.yieldAllIterator_=null,this.context_.throw_(k),this.nextStep_()}return this.context_.yieldAllIterator_=null,r.call(this.context_,v),this.nextStep_()},rt.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(s){this.context_.yieldResult=void 0,this.context_.throw_(s)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},rt.generator.Generator_=function(e){this.next=function(s){return e.next_(s)},this.throw=function(s){return e.throw_(s)},this.return=function(s){return e.return_(s)},this[Symbol.iterator]=function(){return this}},rt.generator.createGenerator=function(e,s){return s=new rt.generator.Generator_(new rt.generator.Engine_(s)),rt.setPrototypeOf&&e.prototype&&rt.setPrototypeOf(s,e.prototype),s},rt.asyncExecutePromiseGenerator=function(e){function s(d){return e.next(d)}function r(d){return e.throw(d)}return new Promise(function(d,v){function k(Z){Z.done?d(Z.value):Promise.resolve(Z.value).then(s,r).then(k,v)}k(e.next())})},rt.asyncExecutePromiseGeneratorFunction=function(e){return rt.asyncExecutePromiseGenerator(e())},rt.asyncExecutePromiseGeneratorProgram=function(e){return rt.asyncExecutePromiseGenerator(new rt.generator.Generator_(new rt.generator.Engine_(e)))},rt.polyfill("globalThis",function(e){return e||rt.global},"es_2020","es3"),rt.polyfill("Array.prototype.includes",function(e){return e||function(s,r){var d=this;d instanceof String&&(d=String(d));var v=d.length;for(r=r||0,0>r&&(r=Math.max(r+v,0));r<v;r++){var k=d[r];if(k===s||Object.is(k,s))return!0}return!1}},"es7","es3"),rt.initSymbol=function(){},rt.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},rt.iteratorFromArray=function(e,s){e instanceof String&&(e+="");var r=0,d=!1,v={next:function(){if(!d&&r<e.length){var k=r++;return{value:s(k,e[k]),done:!1}}return d=!0,{done:!0,value:void 0}}};return v[Symbol.iterator]=function(){return v},v},rt.polyfill("Array.prototype.values",function(e){return e||function(){return rt.iteratorFromArray(this,function(s,r){return r})}},"es8","es3"),rt.polyfill("Array.prototype.flat",function(e){return e||function(s){s=s===void 0?1:s;var r=[];return Array.prototype.forEach.call(this,function(d){Array.isArray(d)&&0<s?(d=Array.prototype.flat.call(d,s-1),r.push.apply(r,d)):r.push(d)}),r}},"es9","es5"),rt.polyfill("Array.prototype.flatMap",function(e){return e||function(s,r){var d=[];return Array.prototype.forEach.call(this,function(v,k){v=s.call(r,v,k,this),Array.isArray(v)?d.push.apply(d,v):d.push(v)}),d}},"es9","es5"),rt.owns=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},rt.polyfill("Object.entries",function(e){return e||function(s){var r=[],d;for(d in s)rt.owns(s,d)&&r.push([d,s[d]]);return r}},"es8","es3"),rt.polyfill("Object.values",function(e){return e||function(s){var r=[],d;for(d in s)rt.owns(s,d)&&r.push(s[d]);return r}},"es8","es3");var Gr=Object.create(null),fx={typeMap:Gr},Bp=Object.create(null),Ei="default",ut=class{constructor(e){this.name=e}toString(){return this.name}};ut.CONNECTION_CHECKER=new ut("connectionChecker"),ut.CONNECTION_PREVIEWER=new ut("connectionPreviewer"),ut.CURSOR=new ut("cursor"),ut.EVENT=new ut("event"),ut.FIELD=new ut("field"),ut.INPUT=new ut("input"),ut.RENDERER=new ut("renderer"),ut.TOOLBOX=new ut("toolbox"),ut.THEME=new ut("theme"),ut.TOOLBOX_ITEM=new ut("toolboxItem"),ut.FLYOUTS_VERTICAL_TOOLBOX=new ut("flyoutsVerticalToolbox"),ut.FLYOUTS_HORIZONTAL_TOOLBOX=new ut("flyoutsHorizontalToolbox"),ut.METRICS_MANAGER=new ut("metricsManager"),ut.BLOCK_DRAGGER=new ut("blockDragger"),ut.SERIALIZER=new ut("serializer"),ut.ICON=new ut("icon"),ut.PASTER=new ut("paster");var Qi={DEFAULT:Ei,TEST_ONLY:fx};Qi.Type=ut,Qi.getAllItems=g,Qi.getClass=p,Qi.getClassFromOptions=m,Qi.getObject=f,Qi.hasItem=h,Qi.register=i,Qi.unregister=a;var ts=Object.create(null),ZC="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",QC={genUid:()=>{const e=ZC.length,s=[];for(let r=0;20>r;r++)s[r]=ZC.charAt(Math.random()*e);return s.join("")}},mx=0,Gv={TEST_ONLY:QC};Gv.genUid=b,Gv.getNextUniqueId=_;var Wv,uu,Fp,Ul,er,Gl,cu,Hp,Wl,du,tr,hu,Si,pu,fu,mu,Wr,nr,gu,$u,or,ud,zl,Vp,Up,Kl,Gp,Uo;Wv="",uu=!0,Fp=0,o.CREATE$$module$build$src$core$events$utils="create",o.CREATE$$module$build$src$core$events$utils,o.DELETE$$module$build$src$core$events$utils="delete",o.DELETE$$module$build$src$core$events$utils,o.CHANGE$$module$build$src$core$events$utils="change",o.CHANGE$$module$build$src$core$events$utils,Ul="block_field_intermediate_change",o.MOVE$$module$build$src$core$events$utils="move",o.MOVE$$module$build$src$core$events$utils,er="var_create",Gl="var_delete",cu="var_rename",Hp="ui",Wl="drag",du="selected",tr="click",hu="marker_move",Si="bubble_open",pu="trashcan_open",fu="toolbox_item_select",mu="theme_change",Wr="viewport_change",nr="comment_create",gu="comment_delete",$u="comment_change",or="comment_move",ud="comment_collapse",zl="finished_loading",Vp="ORPHANED_BLOCK",Up=[o.CREATE$$module$build$src$core$events$utils,o.MOVE$$module$build$src$core$events$utils,nr,or],Kl=[],Gp={FIRE_QUEUE:Kl,fireNow:y,fireInternal:E,setGroupInternal:R},Uo={BLOCK_CHANGE:o.CHANGE$$module$build$src$core$events$utils,BLOCK_CREATE:o.CREATE$$module$build$src$core$events$utils,BLOCK_DELETE:o.DELETE$$module$build$src$core$events$utils,BLOCK_DRAG:Wl,BLOCK_FIELD_INTERMEDIATE_CHANGE:Ul,BLOCK_MOVE:o.MOVE$$module$build$src$core$events$utils,BUBBLE_OPEN:Si,BUMP_EVENTS:Up,CHANGE:o.CHANGE$$module$build$src$core$events$utils,CLICK:tr,COMMENT_CHANGE:$u,COMMENT_COLLAPSE:ud,COMMENT_CREATE:nr,COMMENT_DELETE:gu,COMMENT_MOVE:or,CREATE:o.CREATE$$module$build$src$core$events$utils,DELETE:o.DELETE$$module$build$src$core$events$utils,FINISHED_LOADING:zl,MARKER_MOVE:hu,MOVE:o.MOVE$$module$build$src$core$events$utils,SELECTED:du,TEST_ONLY:Gp,THEME_CHANGE:mu,TOOLBOX_ITEM_SELECT:fu,TRASHCAN_OPEN:pu,UI:Hp,VAR_CREATE:er,VAR_DELETE:Gl,VAR_RENAME:cu,VIEWPORT_CHANGE:Wr},Uo.clearPendingUndo=S,Uo.disable=o.disable$$module$build$src$core$events$utils,Uo.disableOrphans=H,Uo.enable=o.enable$$module$build$src$core$events$utils,Uo.filter=I,Uo.fire=$,Uo.fromJson=P,Uo.get=M,Uo.getDescendantIds=O,Uo.getGroup=o.getGroup$$module$build$src$core$events$utils,Uo.getRecordUndo=T,Uo.isEnabled=C,Uo.setGroup=o.setGroup$$module$build$src$core$events$utils,Uo.setRecordUndo=o.setRecordUndo$$module$build$src$core$events$utils;var cd=Object.create(null),eI,Xl=null,tI,dd=[],nI={defineBlocksWithJsonArrayInternal:me},_o={TEST_ONLY:nI};_o.createBlockDefinitionsFromJsonArray=o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,_o.defineBlocks=o.defineBlocks$$module$build$src$core$common,_o.defineBlocksWithJsonArray=le,_o.draggingConnections=dd,_o.getAllWorkspaces=B,_o.getBlockTypeCounts=X,_o.getMainWorkspace=J,_o.getParentContainer=G,_o.getSelected=z,_o.getWorkspaceById=F,_o.registerWorkspace=K,_o.setMainWorkspace=j,_o.setParentContainer=W,_o.setSelected=o.setSelected$$module$build$src$core$common,_o.svgResize=D,_o.unregisterWorkpace=te;var vu=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=o.getGroup$$module$build$src$core$events$utils(),this.recordUndo=T()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,s,r){return r.isBlank=!1,r.group=e.group||"",r.workspaceId=s.id,r}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=F(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},Ci=class extends vu{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},zv=class extends Ci{constructor(e,s,r){s=e?e.workspace.id:s,s===null&&(s=void 0),super(s),this.type=tr,this.blockId=e?e.id:void 0,this.targetType=r}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new zv),s.targetType=e.targetType,s.blockId=e.blockId,s}},Kv;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(Kv||(Kv={})),i(ut.EVENT,tr,zv);var gx=750,oI="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),Wp=null,Yl={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},zp=0,jl={TOUCH_ENABLED:oI,TOUCH_MAP:Yl};jl.checkTouchIdentifier=Ke,jl.clearTouchIdentifier=ce,jl.getTouchIdentifierFromEvent=_e,jl.longStart=Se,jl.longStop=De,jl.shouldHandleEvent=ye;var Xv,sI,iI,rI,Kp,Xp,Yv,lI,aI,uI;(function(e){function s(d){return r.includes(d.toUpperCase())}Xv=e;const r=Xv.toUpperCase();sI=s("JavaFX"),iI=s("WebKit"),rI=s("Gecko")&&!iI,Kp=s("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,Xp=s("iPad")||s("Macintosh")&&0<e,Yv=s("iPhone")&&!Xp,lI=s("Macintosh"),aI=Xp||Kp&&!s("Mobile")||s("Silk"),uI=!aI&&(Yv||Kp)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var $x=Xv,cI=sI,dI=rI,jv=Kp,hd=Xp,hI=Yv,qv=lI,pI=uI,vx={ANDROID:jv,GECKO:dI,IPAD:hd,IPHONE:hI,JavaFx:cI,MAC:qv,MOBILE:pI,raw:$x},fI=40,mI=125,sr={};sr.bind=Ae,sr.conditionalBind=ve,sr.getScrollDeltaPixels=Be,sr.isRightButton=de,sr.isTargetInput=ae,sr.mouseToSvg=Re,sr.unbind=Fe;var gI={};gI.removeElem=Ee;var ir=class{constructor(e){this.name_=e}toString(){return this.name_}};ir.POSITIONABLE=new ir("positionable"),ir.DRAG_TARGET=new ir("drag_target"),ir.DELETE_AREA=new ir("delete_area"),ir.AUTOHIDEABLE=new ir("autohideable");var no=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,s){const r=e.component.id;if(!s&&this.componentData.has(r)){var d;throw Error('Plugin "'+r+'" with capabilities "'+((d=this.componentData.get(r))==null?void 0:d.capabilities)+'" already added.')}for(this.componentData.set(r,e),s=[],d=0;d<e.capabilities.length;d++){const v=String(e.capabilities[d]).toLowerCase();if(s.push(v),this.capabilityToComponentIds.has(v)){let k;(k=this.capabilityToComponentIds.get(v))==null||k.push(r)}else this.capabilityToComponentIds.set(v,[r])}this.componentData.get(r).capabilities=s}removeComponent(e){const s=this.componentData.get(e);if(s){for(let r=0;r<s.capabilities.length;r++){const d=String(s.capabilities[r]).toLowerCase();Ee(this.capabilityToComponentIds.get(d),e)}this.componentData.delete(e)}}addCapability(e,s){if(!this.getComponent(e))throw Error('Cannot add capability, "'+s+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,s))console.warn('Plugin "'+e+'already has capability "'+s+'"');else{s=`${s}`.toLowerCase();var r;(r=this.componentData.get(e))==null||r.capabilities.push(s);var d;(d=this.capabilityToComponentIds.get(s))==null||d.push(e)}}removeCapability(e,s){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+s+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,s)?(s=`${s}`.toLowerCase(),Ee(this.componentData.get(e).capabilities,s),Ee(this.capabilityToComponentIds.get(s),e)):console.warn('Plugin "'+e+`doesn't have capability "`+s+'" to remove')}hasCapability(e,s){return s=`${s}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.includes(s)}getComponent(e){let s;return(s=this.componentData.get(e))==null?void 0:s.component}getComponents(e,s){if(e=`${e}`.toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const r=[];if(s){const d=[];e.forEach(v=>{d.push(this.componentData.get(v))}),d.sort(function(v,k){return v.weight-k.weight}),d.forEach(function(v){r.push(v.component)})}else e.forEach(d=>{r.push(this.componentData.get(d).component)});return r}};no.Capability=ir;var Jv=!1,Zv=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
}

.blocklyNonSelectable {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
  overflow: auto;
  overflow-x: hidden;
  position: relative;
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
}

.blocklyDropDownButton {
  display: inline-block;
  float: left;
  padding: 0;
  margin: 4px;
  border-radius: 4px;
  outline: none;
  border: 1px solid;
  transition: box-shadow .1s;
  cursor: pointer;
}

.blocklyArrowTop {
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyArrowBottom {
  border-bottom: 1px solid;
  border-right: 1px solid;
  border-bottom-right-radius: 4px;
  border-color: inherit;
}

.blocklyResizeSE {
  cursor: se-resize;
  fill: #aaa;
}

.blocklyResizeSW {
  cursor: sw-resize;
  fill: #aaa;
}

.blocklyResizeLine {
  stroke: #515A5A;
  stroke-width: 1;
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
  /* Drag surface disables events to not block the toolbox, so we have to
   * reenable them here for the cursor values to work. */
  pointer-events: auto;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabled>.blocklyPath {
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyMultilineText {
  font-family: monospace;
}

.blocklyNonEditableText>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

/*
  Don't allow users to select text.  It gets annoying when trying to
  drag a block and selected text moves instead.
*/
.blocklySvg text {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  cursor: inherit;
}

.blocklyHidden {
  display: none;
}

.blocklyFieldDropdown:not(.blocklyHidden) {
  display: block;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
  height: 100%;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  position: relative;  /* Compatibility with gapi, reset from goog-menu */
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}

.blocklyBlockDragSurface, .blocklyAnimationLayer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 80;
  pointer-events: none;
}
`,Qv={};Qv.inject=He,Qv.register=Ne;var ht=class{constructor(e,s){this.x=e,this.y=s}clone(){return new ht(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,s){return this.x+=e,this.y+=s,this}static equals(e,s){return e===s?!0:e&&s?e.x===s.x&&e.y===s.y:!1}static distance(e,s){const r=e.x-s.x;return e=e.y-s.y,Math.sqrt(r*r+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,s){return new ht(e.x-s.x,e.y-s.y)}static sum(e,s){return new ht(e.x+s.x,e.y+s.y)}},pd="http://www.w3.org/2000/svg",Ii="http://www.w3.org/1999/xhtml",hs="http://www.w3.org/1999/xlink",rr;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(rr||(rr={}));var Qs=null,e_=0,Yp=null,po={HTML_NS:Ii};po.NodeType=rr,po.SVG_NS=pd,po.XLINK_NS=hs,po.addClass=Ie,po.createSvgElement=ue,po.getFastTextWidth=Le,po.getFastTextWidthWithSizeString=Ye,po.getTextWidth=st,po.hasClass=ot,po.insertAfter=Qe,po.measureFontMetrics=L,po.removeClass=Ue,po.removeClasses=ke,po.removeNode=q,po.setCssTransform=lt,po.startTextWidthCache=bt,po.stopTextWidthCache=Tt;var xe=class{constructor(e){this.tagName=e}toString(){return this.tagName}};xe.ANIMATE=new xe("animate"),xe.CIRCLE=new xe("circle"),xe.CLIPPATH=new xe("clipPath"),xe.DEFS=new xe("defs"),xe.FECOMPOSITE=new xe("feComposite"),xe.FECOMPONENTTRANSFER=new xe("feComponentTransfer"),xe.FEFLOOD=new xe("feFlood"),xe.FEFUNCA=new xe("feFuncA"),xe.FEGAUSSIANBLUR=new xe("feGaussianBlur"),xe.FEPOINTLIGHT=new xe("fePointLight"),xe.FESPECULARLIGHTING=new xe("feSpecularLighting"),xe.FILTER=new xe("filter"),xe.FOREIGNOBJECT=new xe("foreignObject"),xe.G=new xe("g"),xe.IMAGE=new xe("image"),xe.LINE=new xe("line"),xe.PATH=new xe("path"),xe.PATTERN=new xe("pattern"),xe.POLYGON=new xe("polygon"),xe.RECT=new xe("rect"),xe.SVG=new xe("svg"),xe.TEXT=new xe("text"),xe.TSPAN=new xe("tspan");var En=class{constructor(e,s,r,d){this.top=e,this.bottom=s,this.left=r,this.right=d}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}contains(e,s){return e>=this.left&&e<=this.right&&s>=this.top&&s<=this.bottom}intersects(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)}},dn=class{constructor(e,s){this.width=e,this.height=s}static equals(e,s){return e===s?!0:e&&s?e.width===s.width&&e.height===s.height:!1}static max(e,s){return new dn(Math.max(e.width,s.width),Math.max(e.height,s.height))}static min(e,s){return new dn(Math.min(e.width,s.width),Math.min(e.height,s.height))}},$I={getSizeInternal:ee},zr={TEST_ONLY:$I};zr.getBorderBox=U,zr.getComputedStyle=re,zr.getContainerOffsetToScrollInto=Ce,zr.getPageOffset=je,zr.getSize=x,zr.getViewportPageOffset=Et,zr.scrollIntoContainerView=se;var vI=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,_I=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,_x={XY_REGEX:vI,XY_STYLE_REGEX:_I},ql={TEST_ONLY:_x};ql.getDocumentScroll=Fn,ql.getInjectionDivXY=et,ql.getRelativeXY=we,ql.getViewportBBox=At,ql.screenToWsCoordinates=$o,ql.wsToScreenCoordinates=Ho;var zn=class{constructor(e,s,r,d,v){this.workspace=e,this.horizontal=s,this.oldHostMetrics=null,this.ratio=1,this.origin=new ht(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new ht(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=r||!1,this.margin=v!==void 0?v:zn.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),d&&(e+=" "+d),this.outerSvg=ue(xe.SVG,{class:e}),d=ue(xe.G,{},this.outerSvg),this.svgBackground=ue(xe.RECT,{class:"blocklyScrollbarBackground"},d),e=Math.floor((zn.scrollbarThickness-5)/2),this.svgHandle=ue(xe.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},d),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),Qe(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),s?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=ve(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=ve(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=zn.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),Fe(this.onMouseDownBarWrapper_),Fe(this.onMouseDownHandleWrapper_),q(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,s){this.position.x=e,this.position.y=s,lt(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&zn.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var s=e.viewWidth-2*this.margin;this.pair&&(s-=zn.scrollbarThickness),this.setScrollbarLength(Math.max(0,s)),s=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(s+=zn.scrollbarThickness),this.setPosition(s,e.absoluteTop+e.viewHeight-zn.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var s=this.scrollbarLength*e.viewWidth/e.scrollWidth;s=this.constrainHandleLength(s),this.setHandleLength(s),s=e.scrollWidth-e.viewWidth;var r=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/s*r,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=r/s}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let s=e.viewHeight-2*this.margin;this.pair&&(s-=zn.scrollbarThickness),this.setScrollbarLength(Math.max(0,s)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-zn.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var s=this.scrollbarLength*e.viewHeight/e.scrollHeight;s=this.constrainHandleLength(s),this.setHandleLength(s),s=e.scrollHeight-e.viewHeight;var r=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/s*r,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=r/s}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const s=e!==this.containerVisible;this.containerVisible=e,s&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const s=e!==this.isVisible();this.isHandleVisible=e,s&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),ce(),this.cleanUp(),de(e))e.stopPropagation();else{var s=Re(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());s=this.horizontal?s.x:s.y;var r=et(this.svgHandle);r=this.horizontal?r.x:r.y;var d=this.handlePosition,v=.95*this.handleLength;s<=r?d-=v:s>=r+this.handleLength&&(d+=v),this.setHandlePosition(this.constrainHandlePosition(d)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),de(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=ve(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=ve(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){ce(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(Fe(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(Fe(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,s){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(s||s===void 0)&&this.updateMetrics()}setOrigin(e,s){this.origin=new ht(e,s)}static metricsAreEquivalent(e,s){return e.viewWidth===s.viewWidth&&e.viewHeight===s.viewHeight&&e.viewLeft===s.viewLeft&&e.viewTop===s.viewTop&&e.absoluteTop===s.absoluteTop&&e.absoluteLeft===s.absoluteLeft&&e.scrollWidth===s.scrollWidth&&e.scrollHeight===s.scrollHeight&&e.scrollLeft===s.scrollLeft&&e.scrollTop===s.scrollTop}};zn.scrollbarThickness=oI?25:15,zn.DEFAULT_SCROLLBAR_MARGIN=.5;var jp={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},t_={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:qp,DOMParser:fd,XMLSerializer:md}=globalThis;fd&&(jp=new fd),md&&(t_=new md);var bI="https://developers.google.com/blockly/xml",bx=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,_u={NAME_SPACE:bI};_u.createElement=o.createElement$$module$build$src$core$utils$xml,_u.createTextNode=o.createTextNode$$module$build$src$core$utils$xml,_u.domToText=Un,_u.injectDependencies=co,_u.textToDom=o.textToDom$$module$build$src$core$utils$xml;var n_="categoryToolbox",TI="flyoutToolbox",Zt;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(Zt||(Zt={}));var yI={hasCategoriesInternal:ja},Kr={};Kr.Position=Zt,Kr.TEST_ONLY=yI,Kr.convertFlyoutDefToJsonArray=Yi,Kr.convertToolboxDefToJson=qs,Kr.hasCategories=Pr,Kr.isCategoryCollapsible=xr,Kr.parseToolboxTree=yn;var lr;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(lr||(lr={}));var bu;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(bu||(bu={}));var Xr;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(Xr||(Xr={}));var Jl={};Jl.bumpDirection=Xr,Jl.bumpPositionRect=Js,Jl.getCornerOppositeToolbox=cs,Jl.getStartPositionRect=ko,Jl.horizontalPosition=bu,Jl.verticalPosition=lr;var Go={width:96,height:124,url:"sprites.png"},EI=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=ue(xe.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:2,capabilities:[no.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&q(this.svgGroup);for(const e of this.boundEvents)Fe(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new En(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,s){if(this.initialized){var r=cs(this.workspace,e),d=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(d+=this.LARGE_SPACING+this.HEIGHT),e=ko(r,new dn(this.WIDTH,d),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),r=r.vertical,s=Js(e,this.MARGIN_VERTICAL,r===lr.TOP?Xr.DOWN:Xr.UP,s),r===lr.TOP){var v=this.SMALL_SPACING+this.HEIGHT,k;(k=this.zoomInGroup)==null||k.setAttribute("transform","translate(0, "+v+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(v+this.LARGE_SPACING+this.HEIGHT)+")")}else{k=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let ge;(ge=this.zoomInGroup)==null||ge.setAttribute("transform","translate(0, "+k+")"),k=k+this.SMALL_SPACING+this.HEIGHT,(v=this.zoomOutGroup)==null||v.setAttribute("transform","translate(0, "+k+")")}this.top=s.top,this.left=s.left;var Z;(Z=this.svgGroup)==null||Z.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=ue(xe.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const s=ue(xe.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);ue(xe.RECT,{width:32,height:32},s),ue(xe.IMAGE,{width:Go.width,height:Go.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(hs,"xlink:href",this.workspace.options.pathToMedia+Go.url),this.boundEvents.push(ve(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=ue(xe.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const s=ue(xe.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);ue(xe.RECT,{width:32,height:32},s),ue(xe.IMAGE,{width:Go.width,height:Go.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(hs,"xlink:href",this.workspace.options.pathToMedia+Go.url),this.boundEvents.push(ve(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,s){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),ce(),s.stopPropagation(),s.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=ue(xe.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const s=ue(xe.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);ue(xe.RECT,{width:32,height:32},s),ue(xe.IMAGE,{width:Go.width,height:Go.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(hs,"xlink:href",this.workspace.options.pathToMedia+Go.url),this.boundEvents.push(ve(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const s=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(s),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),ce(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(M(tr))(null,this.workspace.id,"zoom_controls");$(e)}};Ne(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var gd="_TEMP_COLLAPSED_INPUT",Jp="_TEMP_COLLAPSED_FIELD",Cs="MANUALLY_DISABLED",Tx={COLLAPSED_FIELD_NAME:Jp,COLLAPSED_INPUT_NAME:gd,MANUALLY_DISABLED:Cs},Zn=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};Zn.MUTATOR=new Zn("mutator"),Zn.WARNING=new Zn("warning"),Zn.COMMENT=new Zn("comment"),function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"}(o.inputTypes$$module$build$src$core$inputs$input_types||(o.inputTypes$$module$build$src$core$inputs$input_types={})),o.inputTypes$$module$build$src$core$inputs$input_types;var SI=function(e,s){window.alert(e),s&&s()},CI=function(e,s){s(window.confirm(e))},II=function(e,s,r){r(window.prompt(e,s))},wI={confirmInternal:Je},Zl={TEST_ONLY:wI};Zl.alert=vo,Zl.confirm=Zs,Zl.prompt=Wt,Zl.setAlert=Vo,Zl.setConfirm=St,Zl.setPrompt=nn;var o_,kI;o.Msg$$module$build$src$core$msg=Object.create(null),o_=function(e){Object.keys(e).forEach(function(s){o.Msg$$module$build$src$core$msg[s]=e[s]})},kI={Msg:o.Msg$$module$build$src$core$msg,setLocale:o_};var $d=class extends vu{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new $d),s.varId=e.varId,s}},s_=class extends $d{constructor(e){super(e),this.type=er,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new s_),s.varType=e.varType,s.varName=e.varName,s}run(e){const s=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?s.createVariable(this.varName,this.varType,this.varId):s.deleteVariableById(this.varId)}};i(ut.EVENT,er,s_);var vd=class{constructor(e,s,r,d){this.workspace=e,this.name=s,this.type=r||"",this.id_=d||b()}getId(){return this.id_}static compareByName(e,s){return e.name.localeCompare(s.name,void 0,{sensitivity:"base"})}},i_="VARIABLE",r_="ijkmnopqrstuvwxyzabcdefgh",OI={generateUniqueNameInternal:G0},bo={CATEGORY_NAME:i_,TEST_ONLY:OI,VAR_LETTER_OPTIONS:r_};bo.allDeveloperVariables=o.allDeveloperVariables$$module$build$src$core$variables,bo.allUsedVarModels=o.allUsedVarModels$$module$build$src$core$variables,bo.createVariableButtonHandler=qa,bo.flyoutCategory=up,bo.flyoutCategoryBlocks=qg,bo.generateUniqueName=Jg,bo.generateUniqueNameFromOptions=cp,bo.generateVariableFieldDom=Pl,bo.getAddedVariables=Xc,bo.getOrCreateVariablePackage=o.getOrCreateVariablePackage$$module$build$src$core$variables,bo.getVariable=o.getVariable$$module$build$src$core$variables,bo.nameUsedWithAnyType=Zg,bo.nameUsedWithConflictingParam=Qg,bo.promptName=dp,bo.renameVariable=o.renameVariable$$module$build$src$core$variables;var Zp=new Set,l_=new WeakSet,a_=new WeakMap,Tu=null,u_=null,RI=0,Qp={};Qp.finishQueuedRenders=vi,Qp.queueRender=e$,Qp.triggerQueuedRenders=ji;var ef=class{constructor(e,s){this.workspace=e,this.text="",this.size=new dn(120,100),this.collapsed=!1,this.deletable=this.movable=this.editable=!0,this.location=new ht(0,0),this.disposing=this.disposed=!1,this.id=s&&!e.getCommentById(s)?s:b(),e.addTopComment(this),this.fireCreateEvent()}fireCreateEvent(){C()&&$(new(M(nr))(this))}fireDeleteEvent(){C()&&$(new(M(gu))(this))}fireChangeEvent(e,s){C()&&$(new(M($u))(this,e,s))}fireCollapseEvent(e){C()&&$(new(M(ud))(this,e))}setText(e){const s=this.text;this.text=e,this.fireChangeEvent(s,e)}getText(){return this.text}setSize(e){this.size=e}getSize(){return this.size}setCollapsed(e){this.collapsed=e,this.fireCollapseEvent(e)}isCollapsed(){return this.collapsed}setEditable(e){this.editable=e}isEditable(){return this.isOwnEditable()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable}setMovable(e){this.movable=e}isMovable(){return this.isOwnMovable()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable}setDeletable(e){this.deletable=e}isDeletable(){return this.isOwnDeletable()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable}moveTo(e,s){const r=new(M(or))(this);s&&r.setReason(s),this.location=e,r.recordNew(),C()&&$(r)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0,this.fireDeleteEvent(),this.workspace.removeTopComment(this),this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}},yu=50,c_=100,LI=class{constructor(e){this.workspace=e,this.size=new dn(120,100),this.collapsed=!1,this.editable=!0,this.location=new ht(0,0),this.text="",this.textChangeListeners=[],this.sizeChangeListeners=[],this.disposeListeners=[],this.collapseChangeListeners=[],this.resizePointerMoveListener=this.resizePointerUpListener=null,this.disposed=this.disposing=!1,this.svgRoot=ue(xe.G,{class:"blocklyComment blocklyEditable"}),this.highlightRect=this.createHighlightRect(this.svgRoot),{topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteIcon:this.deleteIcon,foldoutIcon:this.foldoutIcon,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot,e),{foreignObject:this.foreignObject,textArea:this.textArea}=this.createTextArea(this.svgRoot),this.resizeHandle=this.createResizeHandle(this.svgRoot,e);let s;(s=e.getLayerManager())==null||s.append(this,yu),this.setSize(this.size),this.moveTo(new ht(0,0))}createHighlightRect(e){return ue(xe.RECT,{class:"blocklyCommentHighlight"},e)}createTopBar(e,s){e=ue(xe.G,{class:"blocklyCommentTopbar"},e);const r=ue(xe.RECT,{class:"blocklyCommentTopbarBackground"},e),d=ue(xe.IMAGE,{class:"blocklyDeleteIcon",href:`${s.options.pathToMedia}delete-icon.svg`},e);s=ue(xe.IMAGE,{class:"blocklyFoldoutIcon",href:`${s.options.pathToMedia}foldout-icon.svg`},e);const v=ue(xe.TEXT,{class:"blocklyCommentPreview blocklyCommentText blocklyText"},e),k=document.createTextNode("");return v.appendChild(k),ve(s,"pointerdown",this,this.onFoldoutDown),ve(d,"pointerdown",this,this.onDeleteDown),{topBarGroup:e,topBarBackground:r,deleteIcon:d,foldoutIcon:s,textPreview:v,textPreviewNode:k}}createTextArea(e){e=ue(xe.FOREIGNOBJECT,{class:"blocklyCommentForeignObject"},e);const s=document.createElementNS(Ii,"body");s.setAttribute("xmlns",Ii),s.className="blocklyMinimalBody";const r=document.createElementNS(Ii,"textarea");return Ie(r,"blocklyCommentText"),Ie(r,"blocklyTextarea"),Ie(r,"blocklyText"),s.appendChild(r),e.appendChild(s),ve(r,"change",this,this.onTextChange),{foreignObject:e,textArea:r}}createResizeHandle(e,s){return e=ue(xe.IMAGE,{class:"blocklyResizeHandle",href:`${s.options.pathToMedia}resize-handle.svg`},e),ve(e,"pointerdown",this,this.onResizePointerDown),e}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSize(e){const s=this.topBarBackground.getBBox(),r=this.deleteIcon.getBBox(),d=this.foldoutIcon.getBBox(),v=this.textPreview.getBBox(),k=this.resizeHandle.getBBox();e=dn.max(e,this.calcMinSize(s,d,r));const Z=this.size;this.size=e,this.svgRoot.setAttribute("height",`${e.height}`),this.svgRoot.setAttribute("width",`${e.width}`),this.updateHighlightRect(e),this.updateTopBarSize(e),this.updateTextAreaSize(e,s),this.updateDeleteIconPosition(e,s,r),this.updateFoldoutIconPosition(s,d),this.updateTextPreviewSize(e,s,v,r,k),this.updateResizeHandlePosition(e,k),this.onSizeChange(Z,this.size)}calcMinSize(e,s,r){var d;this.updateTextPreview((d=this.textArea.value)!=null?d:""),d=st(this.textPreview);const v=this.calcFoldoutMargin(e,s),k=this.calcDeleteMargin(e,r);let Z=d;return this.foldoutIcon.checkVisibility()?Z+=s.width+2*v:d&&(Z+=4),this.deleteIcon.checkVisibility()?Z+=r.width+2*k:d&&(Z+=4),new dn(Z,e.height+20)}calcDeleteMargin(e,s){return(e.height-s.height)/2}calcFoldoutMargin(e,s){return(e.height-s.height)/2}updateHighlightRect(e){this.highlightRect.setAttribute("height",`${e.height}`),this.highlightRect.setAttribute("width",`${e.width}`),this.workspace.RTL&&this.highlightRect.setAttribute("x",`${-e.width}`)}updateTopBarSize(e){this.topBarBackground.setAttribute("width",`${e.width}`)}updateTextAreaSize(e,s){this.foreignObject.setAttribute("height",`${e.height-s.height}`),this.foreignObject.setAttribute("width",`${e.width}`),this.foreignObject.setAttribute("y",`${s.height}`),this.workspace.RTL&&this.foreignObject.setAttribute("x",`${-e.width}`)}updateDeleteIconPosition(e,s,r){s=this.calcDeleteMargin(s,r),this.deleteIcon.setAttribute("y",`${s}`),this.deleteIcon.setAttribute("x",`${e.width-r.width-s}`)}updateFoldoutIconPosition(e,s){e=this.calcFoldoutMargin(e,s),this.foldoutIcon.setAttribute("y",`${e}`),this.foldoutIcon.setAttribute("x",`${e}`)}updateTextPreviewSize(e,s,r,d,v){const k=(s.height-r.height)/2,Z=this.calcDeleteMargin(s,d);s=this.calcFoldoutMargin(s,v),e=e.width-v.width-2*s-d.width-2*Z,this.textPreview.setAttribute("x",`${v.width+2*s*(this.workspace.RTL?-1:1)}`),this.textPreview.setAttribute("y",`${k+r.height/2}`),this.textPreview.setAttribute("width",`${e}`)}updateResizeHandlePosition(e,s){this.resizeHandle.setAttribute("y",`${e.height-s.height}`),this.resizeHandle.setAttribute("x",`${e.width-s.width}`)}onSizeChange(e,s){for(let r=this.sizeChangeListeners.length-1;0<=r;r--)this.sizeChangeListeners[r](e,s)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}removeSizeChangeListener(e){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(e),1)}onResizePointerDown(e){this.isEditable()&&(this.bringToFront(),de(e)||(this.workspace.startDrag(e,new ht(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=ve(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=ve(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation())}onResizePointerUp(e){ce(),this.resizePointerUpListener&&(Fe(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(Fe(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=this.workspace.moveDrag(e),this.setSize(new dn(this.workspace.RTL?-e.x:e.x,e.y))}isCollapsed(){return this.collapsed}setCollapsed(e){(this.collapsed=e)?Ie(this.svgRoot,"blocklyCollapsed"):Ue(this.svgRoot,"blocklyCollapsed"),this.setSize(this.size),this.onCollapse()}onCollapse(){for(let e=this.collapseChangeListeners.length-1;0<=e;e--)this.collapseChangeListeners[e](this.collapsed)}addOnCollapseListener(e){this.collapseChangeListeners.push(e)}removeOnCollapseListener(e){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(e),1)}onFoldoutDown(e){this.bringToFront(),de(e)||(this.setCollapsed(!this.collapsed),this.workspace.hideChaff()),e.stopPropagation()}isEditable(){return this.editable}setEditable(e){(this.editable=e)?(Ie(this.svgRoot,"blocklyEditable"),Ue(this.svgRoot,"blocklyReadonly"),this.textArea.removeAttribute("readonly")):(Ue(this.svgRoot,"blocklyEditable"),Ie(this.svgRoot,"blocklyReadonly"),this.textArea.setAttribute("readonly","true"))}getRelativeToSurfaceXY(){return this.location}moveTo(e){this.location=e,this.svgRoot.setAttribute("transform",`translate(${e.x}, ${e.y})`)}getText(){return this.text}setText(e){this.textArea.value=e,this.onTextChange()}addTextChangeListener(e){this.textChangeListeners.push(e)}removeTextChangeListener(e){this.textChangeListeners.splice(this.textChangeListeners.indexOf(e),1)}onTextChange(){const e=this.text;this.text=this.textArea.value,this.updateTextPreview(this.text),this.setSize(this.size);for(let s=this.textChangeListeners.length-1;0<=s;s--)this.textChangeListeners[s](e,this.text)}updateTextPreview(e){this.textPreviewNode.textContent=this.truncateText(e)}truncateText(e){return 12<=e.length?`${e.substring(0,9)}...`:e}bringToFront(){const e=this.svgRoot.parentNode,s=e.childNodes;s[s.length-1]!==this.svgRoot&&e.appendChild(this.svgRoot)}onDeleteDown(e){de(e)||this.dispose(),e.stopPropagation()}dispose(){this.disposing=!0,q(this.svgRoot);for(let e=this.disposeListeners.length-1;0<=e;e--)this.disposeListeners[e]();this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}addDisposeListener(e){this.disposeListeners.push(e)}removeDisposeListener(e){this.disposeListeners.splice(this.disposeListeners.indexOf(e),1)}};Ne(`
.injectionDiv {
  --commentFillColour: #FFFCC7;
  --commentBorderColour: #F2E49B;
}

.blocklyComment .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 1px solid var(--commentBorderColour);
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}

.blocklyReadonly.blocklyComment .blocklyTextarea {
  cursor: inherit;
}

.blocklyDeleteIcon {
  width: 20px;
  height: 20px;
  display: none;
  cursor: pointer;
}

.blocklyFoldoutIcon {
  width: 20px;
  height: 20px;
  transform-origin: 12px 12px;
  cursor: pointer;
}
.blocklyResizeHandle {
  width: 12px;
  height: 12px;
  cursor: se-resize;
}
.blocklyReadonly.blocklyComment .blocklyResizeHandle {
  cursor: inherit;
}

.blocklyCommentTopbarBackground {
  cursor: grab;
  fill: var(--commentBorderColour);
  height: 24px;
}

.blocklyComment .blocklyCommentPreview.blocklyText {
  fill: #000;
  dominant-baseline: middle;
  visibility: hidden;
}

.blocklyCollapsed.blocklyComment .blocklyCommentPreview {
  visibility: visible;
}

.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,
.blocklyCollapsed.blocklyComment .blocklyResizeHandle {
  display: none;
}

.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {
  transform: rotate(-90deg);
}

.blocklyRTL .blocklyCommentTopbar {
  transform: scale(-1, 1);
}

.blocklyRTL .blocklyCommentForeignObject {
  direction: rtl;
}

.blocklyRTL .blocklyCommentPreview {
  /* Revert the scale and control RTL using direction instead. */
  transform: scale(-1, 1);
  direction: rtl;
}

.blocklyRTL .blocklyResizeHandle {
  transform: scale(-1, 1);
  cursor: sw-resize;
}

.blocklyCommentHighlight {
  fill: none;
}

.blocklySelected .blocklyCommentHighlight {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {
  stroke: none;
}

.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {
  stroke: #fc3;
  stroke-width: 3px;
}
`);var AI=class{constructor(e){this.comment=e,this.startLoc=null,this.workspace=e.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.workspace.options.readOnly}startDrag(){o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0),this.startLoc=this.comment.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.comment),this.comment.setDragging(!0)}drag(e){this.comment.moveDuringDrag(e)}endDrag(){this.fireMoveEvent();let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.comment,yu),this.comment.setDragging(!1),this.comment.snapToGrid(),this.workspace.setResizesEnabled(!0),o.setGroup$$module$build$src$core$events$utils(!1)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var e=new(M(or))(this.comment);e.setReason(["drag"]),e.oldCoordinate_=this.startLoc,e.recordNew(),$(e)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},NI=100,MI=75,DI=50,PI=25,yx={BLOCKS:DI,PROCEDURES:MI,VARIABLES:NI,WORKSPACE_COMMENTS:PI},d_={};d_.register=Yc,d_.unregister=q0;var xI=class{constructor(){this.priority=PI}save(e){const s=[];for(const r of e.getTopComments())(e=Ja(r,{addCoordinates:!0,saveIds:!0}))&&s.push(e);return s.length?s:null}load(e,s){for(const r of e)jc(r,s,{recordUndo:T()})}clear(e){for(const s of e.getTopComments())s.dispose()}};Yc("workspaceComments",new xI);var tf={};tf.WorkspaceCommentSerializer=xI,tf.append=jc,tf.save=Ja;var h_={};h_.register=pp,h_.unregister=J0;var nf=class{paste(e,s,r){e=e.commentState,r&&(e.x=r.x,e.y=r.y),o.disable$$module$build$src$core$events$utils();let d;try{d=jc(e,s),Z0(d)}finally{o.enable$$module$build$src$core$events$utils()}return d?(C()&&$(new(M(nr))(d)),o.setSelected$$module$build$src$core$common(d),d):null}};nf.TYPE="workspace-comment",pp(nf.TYPE,new nf);var p_;p_=28,o.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:p_,connectingSnapRadius:p_,currentConnectionPreference:8,bumpDelay:250},o.config$$module$build$src$core$config;var Ex="aria-",Sx="role",ei;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem"})(ei||(ei={}));var oo;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin"})(oo||(oo={}));var _d={};_d.Role=ei,_d.State=oo,_d.setRole=Br,_d.setState=ho;var f_=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const s=document.createElement("div");s.className="blocklyMenu goog-menu blocklyNonSelectable",s.tabIndex=0,this.roleName&&Br(s,this.roleName),this.element=s;for(let r=0,d;d=this.menuItems[r];r++)s.appendChild(d.createDom());return this.mouseOverHandler=ve(s,"pointerover",this,this.handleMouseOver,!0),this.clickHandler=ve(s,"pointerup",this,this.handleClick,!0),this.mouseEnterHandler=ve(s,"pointerenter",this,this.handleMouseEnter,!0),this.mouseLeaveHandler=ve(s,"pointerleave",this,this.handleMouseLeave,!0),this.onKeyDownHandler=ve(s,"keydown",this,this.handleKeyEvent),e.appendChild(s),s}getElement(){return this.element}focus(){const e=this.getElement();e&&(e.focus({preventScroll:!0}),Ie(e,"blocklyFocused"))}blur(){const e=this.getElement();e&&(e.blur(),Ue(e,"blocklyFocused"))}setRole(e){this.roleName=e}dispose(){this.mouseOverHandler&&(Fe(this.mouseOverHandler),this.mouseOverHandler=null),this.clickHandler&&(Fe(this.clickHandler),this.clickHandler=null),this.mouseEnterHandler&&(Fe(this.mouseEnterHandler),this.mouseEnterHandler=null),this.mouseLeaveHandler&&(Fe(this.mouseLeaveHandler),this.mouseLeaveHandler=null),this.onKeyDownHandler&&(Fe(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,s;s=this.menuItems[e];e++)s.dispose();this.element=null}getMenuItem(e){const s=this.getElement();for(;e&&e!==s;){if(e.classList.contains("blocklyMenuItem")){for(let r=0,d;d=this.menuItems[r];r++)if(d.getElement()===e)return d}e=e.parentElement}return null}setHighlighted(e){var s=this.highlightedItem;s&&(s.setHighlighted(!1),this.highlightedItem=null),e&&(e.setHighlighted(!0),this.highlightedItem=e,s=this.getElement(),se(e.getElement(),s),ho(s,oo.ACTIVEDESCENDANT,e.getId()))}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>e?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,s){e+=s;let r;for(;r=this.menuItems[e];){if(r.isEnabled()){this.setHighlighted(r);break}e+=s}}handleMouseOver(e){(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){const s=this.openingCoords;if(this.openingCoords=null,s&&typeof e.clientX=="number"){const r=new ht(e.clientX,e.clientY);if(1>ht.distance(s,r))return}(e=this.getMenuItem(e.target))&&e.performAction()}handleMouseEnter(e){this.focus()}handleMouseLeave(e){this.getElement()&&(this.blur(),this.setHighlighted(null))}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var s=this.highlightedItem;switch(e.key){case"Enter":case" ":s&&s.performAction();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),s=x(e);return s.height=e.scrollHeight,s}},m_=class{constructor(e,s){this.content=e,this.opt_value=s,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=_(),this.element=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");const s=document.createElement("div");if(s.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var r=document.createElement("div");r.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",s.appendChild(r)}return r=this.content,typeof this.content=="string"&&(r=document.createTextNode(this.content)),s.appendChild(r),e.appendChild(s),this.roleName&&Br(e,this.roleName),ho(e,oo.SELECTED,this.checkable&&this.checked||!1),ho(e,oo.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const s=this.getElement();s&&this.isEnabled()&&(e?(Ie(s,"blocklyMenuItemHighlight"),Ie(s,"goog-menuitem-highlight")):(Ue(s,"blocklyMenuItemHighlight"),Ue(s,"goog-menuitem-highlight")))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}onAction(e,s){this.actionHandler=e.bind(s)}},Eu=class extends Error{},BI=class extends Eu{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},bd=class extends Eu{constructor(e,s,r){super(`The block ${s.toDevString()} is missing a(n) ${e}
connection`),this.block=s,this.state=r}},FI=class extends Eu{constructor(e,s,r,d){super(`The block ${r.toDevString()} could not connect its
${s} to its parent, because: ${e}`),this.childBlock=r,this.childState=d}},HI=class extends Eu{constructor(e){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=e}},VI=class extends Eu{constructor(e,s,r){super(`Cannot add an icon of type '${e}' to the block ${s.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=s,this.state=r}},Ql={};Ql.BadConnectionCheck=FI,Ql.DeserializationError=Eu,Ql.MissingBlockType=BI,Ql.MissingConnection=bd,Ql.RealChildOfShadow=HI,Ql.UnregisteredIcon=VI;var UI=class{constructor(){this.priority=DI}save(e){const s=[];for(const r of e.getTopBlocks(!1))(e=ds(r,{addCoordinates:!0,doFullSerialization:!1}))&&s.push(e);return s.length?{languageVersion:0,blocks:s}:null}load(e,s){e=e.blocks;for(const r of e)qi(r,s,{recordUndo:T()})}clear(e){for(const s of e.getTopBlocks(!1))s.dispose(!1)}};Yc("blocks",new UI);var Td={};Td.BlockSerializer=UI,Td.append=qi,Td.appendInternal=Za,Td.save=ds;var ea=class extends vu{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new ea),s.blockId=e.blockId,s}},ta=class extends ea{constructor(e,s,r,d,v){super(e),this.type=o.CHANGE$$module$build$src$core$events$utils,e&&(this.element=s,this.name=r||void 0,this.oldValue=d,this.newValue=v)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,this.disabledReason&&(e.disabledReason=this.disabledReason),e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new ta),s.element=e.element,s.name=e.name,s.oldValue=e.oldValue,s.newValue=e.newValue,e.disabledReason!==void 0&&(s.disabledReason=e.disabledReason),s}setDisabledReason(e){if(this.element!=="disabled")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not "disabled".');this.disabledReason=e}isNull(){return this.oldValue===this.newValue}run(e){var s=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(s=s.getBlockById(this.blockId),!s)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");const r=s.getIcon(Zn.MUTATOR);switch(r&&Qa(r)&&r.bubbleIsVisible()&&r.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(s=s.getField(this.name))?s.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":s.setCommentText(e||null);break;case"collapsed":s.setCollapsed(!!e);break;case"disabled":var d;s.setDisabledReason(!!e,(d=this.disabledReason)!=null?d:Cs);break;case"inline":s.setInputsInline(!!e);break;case"mutation":d=ta.getExtraBlockState_(s),s.loadExtraState?s.loadExtraState(JSON.parse(e||"{}")):s.domToMutation&&s.domToMutation(o.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),$(new ta(s,"mutation",null,d,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?bi(e):""}};i(ut.EVENT,o.CHANGE$$module$build$src$core$events$utils,ta);var of={};of.clamp=eu,of.toDegrees=$S,of.toRadians=fp;var yd=16,g_=1,GI=12,$_=16,sf=.25,v_=null,na=null,Su="",Cu="",pn,Iu,oa,__=null,Yr=null,WI=null,b_={getBoundsInfo:function(){const e=je(__),s=x(__);return{left:e.x,right:e.x+s.width,top:e.y,bottom:e.y+s.height,width:s.width,height:s.height}},getPositionMetrics:function(e,s,r,d){const v=b_.getBoundsInfo(),k=x(pn);return s+k.height<v.bottom?g$(e,s,v,k):d-k.height>v.top?$$(r,d,v,k):s+k.height<document.documentElement.clientHeight?g$(e,s,v,k):d-k.height>document.documentElement.clientTop?$$(r,d,v,k):_S(e,v,k)}},Lo={ANIMATION_TIME:sf,ARROW_HORIZONTAL_PADDING:GI,ARROW_SIZE:yd,BORDER_SIZE:g_,PADDING_Y:$_,TEST_ONLY:b_};Lo.clearContent=gp,Lo.createDom=l$,Lo.getContentDiv=mp,Lo.getOwner=u$,Lo.getPositionX=Jc,Lo.hide=vp,Lo.hideIfOwner=$p,Lo.hideWithoutAnimation=_i,Lo.isVisible=v$,Lo.repositionForWindowResize=b$,Lo.setBoundsElement=a$,Lo.setColour=c$,Lo.show=m$,Lo.showPositionedByBlock=vS,Lo.showPositionedByField=d$;var Ed=class{constructor(e){this.workspace=e,this.cursorSvg_=this.cursor_=null,this.markers=new Map,this.markerSvg_=null}registerMarker(e,s){this.markers.has(e)&&this.unregisterMarker(e),s.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,s)),this.setMarkerSvg(s.getDrawer().createDom()),this.markers.set(e,s)}unregisterMarker(e){const s=this.markers.get(e);if(s)s.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor_}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))}setCursorSvg(e){e?(this.workspace.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null}setMarkerSvg(e){e?this.workspace.getBlockCanvas()&&(this.cursorSvg_?this.workspace.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace.getBlockCanvas().appendChild(e)):this.markerSvg_=null}updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace.getCursor().draw()}dispose(){const e=Object.keys(this.markers);for(let s=0,r;r=e[s];s++)this.unregisterMarker(r);this.markers.clear(),this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)}};Ed.LOCAL_MARKER="local_marker_1";var wu={};wu.commonWordPrefix=T$,wu.commonWordSuffix=y$,wu.isNumber=o.isNumber$$module$build$src$core$utils$string,wu.shortestStringLength=Zc,wu.wrap=o.wrap$$module$build$src$core$utils$string;var rf=void 0,Sd=!1,ku=!1,zI=50,KI=0,sa=0,T_=0,y_=0,Is=null,Cd=null,E_=0,S_=10,XI=10,YI=750,lf=5,Qn=null,ps={HOVER_MS:YI,LIMIT:zI,MARGINS:lf,OFFSET_X:E_,OFFSET_Y:S_,RADIUS_OK:XI};ps.bindMouseEvents=nu,ps.block=k$,ps.createDom=C$,ps.dispose=w$,ps.getCustomTooltip=ES,ps.getDiv=CS,ps.getTooltipOfObject=tu,ps.hide=Ji,ps.isVisible=SS,ps.setCustomTooltip=yS,ps.unbindMouseEvents=bp,ps.unblock=O$;var C_=.45,I_=.65,jI={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},ws={};ws.blend=Bl,ws.getHsvSaturation=R$,ws.getHsvValue=L$,ws.hexToRgb=Tp,ws.hsvToHex=yp,ws.hueToHex=A$,ws.names=jI,ws.parse=xl,ws.rgbToHex=Qc,ws.setHsvSaturation=AS,ws.setHsvValue=NS;var Id={};Id.checkMessageReferences=MS,Id.parseBlockColour=ou,Id.replaceMessageReferences=Gn,Id.tokenizeInterpolation=N$;var Sn=class{constructor(e,s,r){this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=this.tooltip_=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new dn(0,0),e!==Sn.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),s&&this.setValidator(s))}configure_(e){e.tooltip&&this.setTooltip(Gn(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){this.fieldGroup_||(this.fieldGroup_=ue(xe.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel(),this.applyColour())}initView(){this.createBorderRect_(),this.createTextElement_()}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=ue(xe.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=ue(xe.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");nu(e),this.mouseDownWrapper_=ve(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(Sn),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(Sn,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=o.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),Un(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,s){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(o.textToDom$$module$build$src$core$utils$xml(s)),!0):!1}dispose(){$p(this),Fl(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||q(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,s=this.getSourceBlock();this.EDITABLE&&e&&s&&(this.enabled_&&s.isEditable()?(Ie(e,"blocklyEditableText"),Ue(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(Ie(e,"blocklyNonEditableText"),Ue(e,"blocklyEditableText"),e.style.cursor=""))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==Sn.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var s=this.fieldGroup_;s&&(s.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const s=this.getConstants();e=e!==void 0?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let r=2*e,d=s.FIELD_TEXT_HEIGHT,v=0;this.textElement_&&(v=Le(this.textElement_,s.FIELD_TEXT_FONTSIZE,s.FIELD_TEXT_FONTWEIGHT,s.FIELD_TEXT_FONTFAMILY),r+=v),this.isFullBlockField()||(d=Math.max(d,s.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=d,this.size_.width=r,this.positionTextElement_(e,v),this.positionBorderRect_()}positionTextElement_(e,s){if(this.textElement_){var r=this.getConstants(),d=this.size_.height/2,v;this.textElement_.setAttribute("x",String((v=this.getSourceBlock())!=null&&v.RTL?this.size_.width-s-e:e)),this.textElement_.setAttribute("y",String(r.FIELD_TEXT_BASELINE_CENTER?d:d-r.FIELD_TEXT_HEIGHT/2+r.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&this.size_.width===0&&(this.render_(),this.size_.width!==0&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new dn(0,0)}getScaledBBox(){let e;var s=this.getSourceBlock();if(!s)throw new Kn;if(this.isFullBlockField()){var r=this.sourceBlock_.getHeightWidth();const d=s.workspace.scale;e=this.getAbsoluteXY_(),s=(r.width+1)*d,r=(r.height+1)*d,dI?(e.x+=1.5*d,e.y+=1.5*d):(e.x-=.5*d,e.y-=.5*d)}else r=this.borderRect_.getBoundingClientRect(),e=je(this.borderRect_),s=r.width,r=r.height;return new En(e.y,e.y+r,e.x,e.x+s)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),e=e.replace(/\s/g,Sn.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="‏"),e):Sn.NBSP}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.queueRender()}setValue(e,s=!0){if(e!==null){var r=this.doClassValidation_(e);if(e=this.processValidation_(e,r,s),!(e instanceof Error)){var d;r=(d=this.getValidator())==null?void 0:d.call(this,e),d=this.processValidation_(e,r,s),d instanceof Error||(e=this.sourceBlock_,e&&e.disposed||(r=this.getValue(),r===d?this.doValueUpdate_(d):(this.doValueUpdate_(d),s&&e&&C()&&$(new(M(o.CHANGE$$module$build$src$core$events$utils))(e,"field",this.name||null,r,d)),this.isDirty_&&this.forceRerender())))}}}processValidation_(e,s,r){return s===null?(this.doValueInvalid_(e,r),this.isDirty_&&this.forceRerender(),Error()):s===void 0?e:s}getValue(){return this.value_}doClassValidation_(e){return e??null}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e,s){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const s=this.getClickTarget_();s?s.tooltip=e:this.tooltip_=e}getTooltip(){const e=this.getClickTarget_();return tu(e||{tooltip:this.tooltip_})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return je(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const s=this.getSourceBlock();if(!s)throw new Kn;const r=s.inputList;for(let d=0;d<s.inputList.length;d++){const v=r[d],k=v.fieldRow;for(let Z=0;Z<k.length;Z++)if(k[Z]===this){e=v;break}}return e}getFlipRtl(){return!1}isTabNavigable(){return!1}onShortcut(e){return!1}setCursorSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.cursorSvg_=e}else this.cursorSvg_=null}setMarkerSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.markerSvg_=e}else this.markerSvg_=null}updateMarkers_(){var e=this.getSourceBlock();if(!e)throw new Kn;e=e.workspace,e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(Ed.LOCAL_MARKER).draw()}static fromJson(e){throw Error("Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.")}};Sn.NBSP=" ",Sn.SKIP_SETUP=Symbol("SKIP_SETUP");var Kn=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},Ou=null,w_=null,af=null,uf="blocklyWidgetDiv",Ru="",Lu="",ti,ni={};ni.createDom=M$,ni.getDiv=su,ni.hide=iu,ni.hideIfOwner=Fl,ni.hideIfOwnerIsInWorkspace=ed,ni.isVisible=D$,ni.positionWithAnchor=x$,ni.repositionForWindowResize=B$,ni.show=Sp,ni.testOnly_setDiv=DS;var cf=null,qI={},df=null,ia={};ia.callbackFactory=o.callbackFactory$$module$build$src$core$contextmenu,ia.dispose=H$,ia.getCurrentBlock=FS,ia.hide=nd,ia.setCurrentBlock=F$,ia.show=td;var Qt=class{constructor(){this.registry_=new Map,this.reset()}reset(){this.registry_.clear()}register(e){if(this.registry_.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_.set(e.id,e)}unregister(e){if(!this.registry_.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registry_.delete(e)}getItem(e){let s;return(s=this.registry_.get(e))!=null?s:null}getContextMenuOptions(e,s){const r=[];for(const v of this.registry_.values())if(e===v.scopeType){var d=v.preconditionFn(s);d!=="hidden"&&(d={text:typeof v.displayText=="function"?v.displayText(s):v.displayText,enabled:d==="enabled",callback:v.callback,scope:s,weight:v.weight},r.push(d))}return r.sort(function(v,k){return v.weight-k.weight}),r}};(function(e){var s=e.ScopeType||(e.ScopeType={});s.BLOCK="block",s.WORKSPACE="workspace",s.COMMENT="comment",e.registry=new e})(Qt||(Qt={})),Qt.ScopeType;var hf=class extends ef{constructor(e,s){super(e,s),this.dragStrategy=new AI(this),this.workspace=e,this.view=new LI(e),this.view.setSize(this.getSize()),this.view.setEditable(this.isEditable()),this.addModelUpdateBindings(),ve(this.view.getSvgRoot(),"pointerdown",this,this.startGesture),ve(this.view.getSvgRoot(),"wheel",this,r=>{r.stopPropagation()})}addModelUpdateBindings(){this.view.addTextChangeListener((e,s)=>void super.setText(s)),this.view.addSizeChangeListener((e,s)=>void super.setSize(s)),this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed())),this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(e){this.view.setText(e)}setSize(e){this.view.setSize(e)}setCollapsed(e){this.view.setCollapsed(e)}setEditable(e){super.setEditable(e),this.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY();var s,r;const d=(r=(s=this.view)==null?void 0:s.getSize())!=null?r:this.getSize();return this.workspace.RTL?(s=e.x-d.width,r=e.x):(s=e.x,r=e.x+d.width),new En(e.y,e.y+d.height,s,r)}moveBy(e,s,r){const d=this.getRelativeToSurfaceXY();e=new ht(d.x+e,d.y+s),this.moveTo(e,r)}moveTo(e,s){super.moveTo(e,s),this.view.moveTo(e)}moveDuringDrag(e){this.location=e,this.view.moveTo(e)}setDragging(e){e?Ie(this.getSvgRoot(),"blocklyDragging"):Ue(this.getSvgRoot(),"blocklyDragging")}dispose(){this.disposing=!0,this.view.isDeadOrDying()||this.view.dispose(),super.dispose()}startGesture(e){const s=this.workspace.getGesture(e);s&&(s.handleCommentStart(e,this),o.setSelected$$module$build$src$core$common(this))}setDeleteStyle(e){e?Ie(this.getSvgRoot(),"blocklyDraggingDelete"):Ue(this.getSvgRoot(),"blocklyDraggingDelete")}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){Ie(this.getSvgRoot(),"blocklySelected")}unselect(){Ue(this.getSvgRoot(),"blocklySelected")}toCopyData(){return{paster:nf.TYPE,commentState:Ja(this,{addCoordinates:!0})}}showContextMenu(e){const s=Qt.registry.getContextMenuOptions(Qt.ScopeType.COMMENT,{comment:this});td(e,s,this.workspace.RTL,this.workspace)}snapToGrid(){if(!this.isDeadOrDying()){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var s=this.getRelativeToSurfaceXY();e=e.alignXY(s),e!==s&&this.moveTo(e,["snap"])}}}},Ao={};Ao.appendDomToWorkspace=jS,Ao.blockToDom=Fr,Ao.blockToDomWithXY=sd,Ao.clearWorkspaceAndLoadFromXml=YS,Ao.deleteNext=sC,Ao.domToBlock=o.domToBlock$$module$build$src$core$xml,Ao.domToBlockInternal=Hl,Ao.domToPrettyText=XS,Ao.domToText=bi,Ao.domToVariables=W$,Ao.domToWorkspace=o.domToWorkspace$$module$build$src$core$xml,Ao.loadWorkspaceComment=G$,Ao.saveWorkspaceComment=od,Ao.variablesToDom=V$,Ao.workspaceToDom=WS;var k_=class extends ea{constructor(e){super(e),this.type=o.CREATE$$module$build$src$core$events$utils,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=sd(e),this.ids=O(e),this.json=ds(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=bi(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new k_),s.xml=o.textToDom$$module$build$src$core$utils$xml(e.xml),s.ids=e.ids,s.json=e.json,e.recordUndo!==void 0&&(s.recordUndo=e.recordUndo),s}run(e){const s=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!Cx(s,this.ids))if(e)qi(this.json,s);else for(e=0;e<this.ids.length;e++){const r=this.ids[e],d=s.getBlockById(r);d?d.dispose(!1):r===this.blockId&&console.warn("Can't uncreate non-existent block: "+r)}}},Cx=function(e,s){return s.map(r=>e.getBlockById(r)).filter(r=>r&&r.isShadow()).length===s.length};i(ut.EVENT,o.CREATE$$module$build$src$core$events$utils,k_);var O_=class extends Ci{constructor(e,s){super(s),this.type=mu,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new O_),s.themeName=e.themeName,s}};i(ut.EVENT,mu,O_);var R_=class extends Ci{constructor(e,s,r,d,v){super(d),this.type=Wr,this.viewTop=e,this.viewLeft=s,this.scale=r,this.oldScale=v}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new R_),s.viewTop=e.viewTop,s.viewLeft=e.viewLeft,s.scale=e.scale,s.oldScale=e.oldScale,s}};i(ut.EVENT,Wr,R_);var It;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(It||(It={}));var Au=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,s){s=this.calculateIndexForYPos(s),this.connections.splice(s,0,e)}findIndexOfConnection(e,s){if(!this.connections.length)return-1;const r=this.calculateIndexForYPos(s);if(r>=this.connections.length)return-1;s=e.y;let d=r;for(;0<=d&&this.connections[d].y===s;){if(this.connections[d]===e)return d;d--}for(d=r;d<this.connections.length&&this.connections[d].y===s;){if(this.connections[d]===e)return d;d++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let s=0,r=this.connections.length;for(;s<r;){const d=Math.floor((s+r)/2);if(this.connections[d].y<e)s=d+1;else if(this.connections[d].y>e)r=d;else{s=d;break}}return s}removeConnection(e,s){if(e=this.findIndexOfConnection(e,s),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,s){function r(Ct){const Rn=v-d[Ct].x,In=k-d[Ct].y;return Math.sqrt(Rn*Rn+In*In)<=s&&Xe.push(d[Ct]),In<s}const d=this.connections,v=e.x,k=e.y;e=0;let Z=d.length-2,ge=Z;for(;e<ge;)d[ge].y<k?e=ge:Z=ge,ge=Math.floor((e+Z)/2);const Xe=[];if(Z=e=ge,d.length){for(;0<=e&&r(e);)e--;do Z++;while(Z<d.length&&r(Z))}return Xe}isInYRange(e,s,r){return Math.abs(this.connections[e].y-s)<=r}searchForClosest(e,s,r){if(!this.connections.length)return{connection:null,radius:s};const d=e.y,v=e.x;e.x=v+r.x,e.y=d+r.y;var k=this.calculateIndexForYPos(e.y);r=null;let Z=s,ge,Xe=k-1;for(;0<=Xe&&this.isInYRange(Xe,e.y,s);)ge=this.connections[Xe],this.connectionChecker.canConnect(e,ge,!0,Z)&&(r=ge,Z=ge.distanceFrom(e)),Xe--;for(;k<this.connections.length&&this.isInYRange(k,e.y,s);)ge=this.connections[k],this.connectionChecker.canConnect(e,ge,!0,Z)&&(r=ge,Z=ge.distanceFrom(e)),k++;return e.x=v,e.y=d,{connection:r,radius:Z}}static init(e){const s=[];return s[It.INPUT_VALUE]=new Au(e),s[It.OUTPUT_VALUE]=new Au(e),s[It.NEXT_STATEMENT]=new Au(e),s[It.PREVIOUS_STATEMENT]=new Au(e),s}},pf=null,wd=null,kd={};kd.connectionUiEffect=wp,kd.disconnectUiEffect=Y$,kd.disconnectUiStop=ru,kd.disposeUiEffect=Ip;var JI=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled_=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace.isMovableVertically(),this.startScrollXY_=new ht(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){z()&&z().unselect()}endDrag(e){this.drag(e)}drag(e){if(e=ht.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled_)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},Ix=5,wx=6,ar=class{constructor(e,s){this.creatorWorkspace=s,this.mouseDownXY=new ht(0,0),this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.workspaceDragger=this.dragger=null,this.dragging=!1,this.flyout=null,this.isMultiTouch_=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new ht(0,0)}dispose(){ce(),O$(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)Fe(e);this.boundEvents.length=0,this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const s=new ht(e.clientX,e.clientY);this.updateDragDelta(s)&&(this.updateIsDragging(e),De()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=ht.difference(e,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=ht.magnitude(this.currentDragDeltaXY)>(this.flyout?o.config$$module$build$src$core$config.flyoutDragRadius:o.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||(e=this.flyout)==null||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),o.setSelected$$module$build$src$core$common(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.dragging=!0,this.workspaceDragger=new JI(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(e){if(!this.startWorkspace_)throw Error("Cannot update dragging because the start workspace is undefined");if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.flyout&&this.updateIsDraggingFromFlyout();const s=z();s&&Vl(s)&&s.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(s,this.startWorkspace_),this.dragger.onDragStart(e),this.dragger.onDrag(e,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(e,s){return new(m(ut.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(e,s)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,ae(e)?this.cancel():(this.gestureHasStarted=!0,ru(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=u$(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,k$(),de(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&Se(e,this),this.mouseDownXY=new ht(e.clientX,e.clientY),this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(ve(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(ve(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(ve(document,"pointerup",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&De())}handleMove(e){this.isDragging()&&ye(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),De())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!ye(e))return;if(this.updateFromEvent(e),De(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.dragger?this.dragger.onDragEnd(e,this.currentDragDeltaXY):this.workspaceDragger?this.workspaceDragger.endDrag(this.currentDragDeltaXY):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e))}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var s=_e(e);this.cachedPoints.set(s,this.getTouchPoint(e));var r=Array.from(this.cachedPoints.keys());r.length===2&&(s=this.cachedPoints.get(r[0]),r=this.cachedPoints.get(r[1]),this.startDistance=ht.distance(s,r),this.isMultiTouch_=!0,e.preventDefault())}handleTouchMove(e){const s=_e(e);this.cachedPoints.set(s,this.getTouchPoint(e)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(e):this.handleMove(e)}handlePinch(e){var s=Array.from(this.cachedPoints.keys()),r=this.cachedPoints.get(s[0]);if(s=this.cachedPoints.get(s[1]),r=ht.distance(r,s)/this.startDistance,0<this.previousScale&&1/0>this.previousScale){if(s=r-this.previousScale,s=0<s?s*Ix:s*wx,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const d=this.startWorkspace_,v=Re(e,d.getParentSvg(),d.getInverseScreenCTM());d.zoom(v.x,v.y,s)}this.previousScale=r,e.preventDefault()}handleTouchEnd(e){e=_e(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new ht(e.pageX,e.pageY):null}isMultiTouch(){return this.isMultiTouch_}cancel(){this.isEnding_||(De(),this.dragger?this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(e)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()}handleWsStart(e,s){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(s),this.mostRecentEvent=e,this.startBlock||this.startBubble||this.startComment||o.setSelected$$module$build$src$core$common(null),this.doStart(e)}fireWorkspaceClick(e){$(new(M(tr))(null,e.id,"workspace"))}handleFlyoutStart(e,s){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(s),this.handleWsStart(e,s.getWorkspace())}handleBlockStart(e,s){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(s),this.mostRecentEvent=e}handleBubbleStart(e,s){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(s),this.mostRecentEvent=e}handleCommentStart(e,s){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleCommentStart, but the gesture had already been started.");this.setStartComment(s),this.mostRecentEvent=e}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent),this.bringBlockToFront()}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");if(this.targetBlock.isEnabled()){o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0);var e=this.flyout.createBlock(this.targetBlock);e.snapToGrid(),e.bumpNeighbours()}}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");e=new(M(tr))(this.startBlock,this.startWorkspace_.id,"block"),$(e)}this.bringBlockToFront(),o.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){e=this.creatorWorkspace,z()&&z().unselect(),this.fireWorkspaceClick(this.startWorkspace_||e)}bringBlockToFront(){this.targetBlock&&!this.flyout&&this.targetBlock.bringToFront()}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartComment(e){this.startComment||(this.startComment=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,o.setSelected$$module$build$src$core$common(this.startBlock),e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):this.targetBlock=e}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let e,s;return(s=(e=this.workspaceDragger)!=null?e:this.dragger)!=null?s:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const e=B();for(let s=0,r;r=e[s];s++)if(r.currentGesture_)return!0;return!1}},L_=class{constructor(e,s){this.pattern=e,this.scale=1;let r;this.spacing=(r=s.spacing)!=null?r:0;let d;this.length=(d=s.length)!=null?d:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let v;this.snapToGrid=(v=s.snap)!=null?v:!1}setSpacing(e){this.spacing=e,this.update(this.scale)}getSpacing(){return this.spacing}setLength(e){this.length=e,this.update(this.scale)}getLength(){return this.length}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(e){this.scale=e;var s=this.spacing*e;this.pattern.setAttribute("width",`${s}`),this.pattern.setAttribute("height",`${s}`),s=Math.floor(this.spacing/2)+.5;let r=s-this.length/2,d=s+this.length/2;s*=e,r*=e,d*=e,this.setLineAttributes(this.line1,e,r,d,s,s),this.setLineAttributes(this.line2,e,s,s,r,d)}setLineAttributes(e,s,r,d,v,k){e&&(e.setAttribute("stroke-width",`${s}`),e.setAttribute("x1",`${r}`),e.setAttribute("y1",`${v}`),e.setAttribute("x2",`${d}`),e.setAttribute("y2",`${k}`))}moveTo(e,s){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${s}`)}alignXY(e){var s=this.getSpacing();const r=s/2,d=Math.round(Math.round((e.x-r)/s)*s+r);return s=Math.round(Math.round((e.y-r)/s)*s+r),d===e.x&&s===e.y?e:new ht(d,s)}static createDom(e,s,r){e=ue(xe.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},r);let d,v;if(0<((d=s.length)!=null?d:1)&&0<((v=s.spacing)!=null?v:0)){ue(xe.LINE,{stroke:s.colour},e);let k;(k=s.length)!=null&&k&&ue(xe.LINE,{stroke:s.colour},e)}else ue(xe.LINE,{},e);return e}},ZI={};ZI.deepMerge=Zi;var ra=class{constructor(e,s,r,d){this.name=e,this.startHats=!1,this.blockStyles=s||Object.create(null),this.categoryStyles=r||Object.create(null),this.componentStyles=d||Object.create(null),this.fontStyle=Object.create(null),i(ut.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,s){this.blockStyles[e]=s}setCategoryStyle(e,s){this.categoryStyles[e]=s}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const s=this.getComponentStyle(e);if(s)return s}return`${e}`}setComponentStyle(e,s){this.componentStyles[e]=s}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,s){e=e.toLowerCase();const r=new ra(e);let d=s.base;if(d){if(typeof d=="string"){let v;d=(v=f(ut.THEME,d))!=null?v:void 0}d instanceof ra&&(Zi(r,d),r.name=e)}return Zi(r.blockStyles,s.blockStyles),Zi(r.categoryStyles,s.categoryStyles),Zi(r.componentStyles,s.componentStyles),Zi(r.fontStyle,s.fontStyle),s.startHats!==null&&(r.startHats=s.startHats),r}},kx={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},Ox={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},ff=new ra("classic",kx,Ox),ks=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let s=null,r=!1;var d=!1,v=!1,k=!1,Z=!1,ge=!1;const Xe=!!e.readOnly;if(!Xe){var Ct;s=qs((Ct=e.toolbox)!=null?Ct:null),r=Pr(s),d=e.trashcan,d=d===void 0?r:d,v=e.collapse,v=v===void 0?r:v,k=e.comments,k=k===void 0?r:k,Z=e.disable,Z=Z===void 0?r:Z,ge=e.sounds,ge=ge===void 0?!0:ge}Ct=e.maxTrashcanContents,d?Ct===void 0&&(Ct=32):Ct=0;const Rn=!!e.rtl;let In=e.horizontalLayout;In===void 0&&(In=!1);var ns=e.toolboxPosition!=="end";ns=In?ns?Zt.TOP:Zt.BOTTOM:ns===Rn?Zt.RIGHT:Zt.LEFT;let Uu=e.css;Uu===void 0&&(Uu=!0);let Vd="https://blockly-demo.appspot.com/static/media/";e.media&&(Vd=e.media.endsWith("/")?e.media:e.media+"/");const ok=e.oneBasedIndex,aB=e.renderer||"geras",uB=e.plugins||{};let Sb=e.modalInputs;Sb===void 0&&(Sb=!0),this.RTL=Rn,this.oneBasedIndex=ok===void 0?!0:ok,this.collapse=v,this.comments=k,this.disable=Z,this.readOnly=Xe,this.maxBlocks=e.maxBlocks||1/0;let sk;this.maxInstances=(sk=e.maxInstances)!=null?sk:null,this.modalInputs=Sb,this.pathToMedia=Vd,this.hasCategories=r,this.moveOptions=ks.parseMoveOptions_(e,r),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=d,this.maxTrashcanContents=Ct,this.hasSounds=ge,this.hasCss=Uu,this.horizontalLayout=In,this.languageTree=s,this.gridOptions=ks.parseGridOptions_(e),this.zoomOptions=ks.parseZoomOptions_(e),this.toolboxPosition=ns,this.theme=ks.parseThemeOptions_(e),this.renderer=aB;let ik;this.rendererOverrides=(ik=e.rendererOverrides)!=null?ik:null;let rk;this.parentWorkspace=(rk=e.parentWorkspace)!=null?rk:null,this.plugins=uB}static parseMoveOptions_(e,s){const r=e.move||{},d={};return r.scrollbars===void 0&&e.scrollbars===void 0?d.scrollbars=s:typeof r.scrollbars=="object"?(d.scrollbars={horizontal:!!r.scrollbars.horizontal,vertical:!!r.scrollbars.vertical},d.scrollbars.horizontal&&d.scrollbars.vertical?d.scrollbars=!0:d.scrollbars.horizontal||d.scrollbars.vertical||(d.scrollbars=!1)):d.scrollbars=!!r.scrollbars||!!e.scrollbars,d.wheel=d.scrollbars&&r.wheel!==void 0?!!r.wheel:typeof d.scrollbars=="object",d.drag=d.scrollbars?r.drag===void 0?!0:!!r.drag:!1,d}static parseZoomOptions_(e){e=e.zoom||{};const s={};return s.controls=e.controls===void 0?!1:!!e.controls,s.wheel=e.wheel===void 0?!1:!!e.wheel,s.startScale=e.startScale===void 0?1:Number(e.startScale),s.maxScale=e.maxScale===void 0?3:Number(e.maxScale),s.minScale=e.minScale===void 0?.3:Number(e.minScale),s.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),s.pinch=e.pinch===void 0?s.wheel||s.controls:!!e.pinch,s}static parseGridOptions_(e){e=e.grid||{};const s={};return s.spacing=Number(e.spacing)||0,s.colour=e.colour||"#888",s.length=e.length===void 0?1:Number(e.length),s.snap=0<s.spacing&&!!e.snap,s}static parseThemeOptions_(e){return e=e.theme||ff,typeof e=="string"?f(ut.THEME,e):e instanceof ra?e:ra.defineTheme(e.name||"builtin"+_(),e)}};o.Names$$module$build$src$core$names=class{constructor(e,s){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=s||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.name:null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(e){e=o.allUsedVarModels$$module$build$src$core$variables(e);for(let s=0;s<e.length;s++)this.getName(e[s].getId(),o.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,s){let r=e;s===o.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(r=e),e=r.toLowerCase();const d=s===o.NameType$$module$build$src$core$names.VARIABLE||s===o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(s)||this.db.set(s,new Map);const v=this.db.get(s);return v.has(e)?d+v.get(e):(s=this.getDistinctName(r,s),v.set(e,s.substr(d.length)),s)}getUserNames(e){let s;return(e=(s=this.db.get(e))==null?void 0:s.keys())?Array.from(e):[]}getDistinctName(e,s){e=this.safeName(e);let r=null,d,v;for(;this.dbReverse.has(e+((d=r)!=null?d:""))||this.reservedWords.has(e+((v=r)!=null?v:""));)r=r?r+1:2;let k;return e+=(k=r)!=null?k:"",this.dbReverse.add(e),(s===o.NameType$$module$build$src$core$names.VARIABLE||s===o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".includes(e[0])&&(e="my_"+e)):e=o.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,s){return e.toLowerCase()===s.toLowerCase()}},function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"}(o.Names$$module$build$src$core$names||(o.Names$$module$build$src$core$names={})),o.NameType$$module$build$src$core$names=o.Names$$module$build$src$core$names.NameType,o.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,o.NameType$$module$build$src$core$names,o.Names$$module$build$src$core$names;var QI=class extends Map{constructor(){super()}set(e,s){return this.get(e)===s?this:(super.set(e,s),kp(s)&&s.startPublishing(),this)}delete(e){const s=this.get(e);return e=super.delete(e),e&&(kp(s)&&s.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},mf=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new ht(0,0),this.workspaceLocation=new ht(0,0),this.svgRoot=null,this.tooltip=e}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var s=this.sourceBlock;this.svgRoot=ue(xe.G,{class:"blocklyIconGroup"}),s.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),ve(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,nu(this.svgRoot)}}dispose(){bp(this.svgRoot),q(this.svgRoot)}getWeight(){return-1}getSize(){return new dn(0,0)}setTooltip(e){this.tooltip=e??this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",Qa(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;(e=this.svgRoot)==null||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=ht.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}},ew={fromJsonInternal:rC},gf={TEST_ONLY:ew};gf.fromJson=o.fromJson$$module$build$src$core$field_registry,gf.register=Ti,gf.unregister=iC;var wi=class extends Sn{constructor(e,s,r){super(Sn.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==Sn.SKIP_SETUP&&(Array.isArray(e)?(q$(e),e=lC(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],r&&this.configure_(r),this.setValue(this.selectedOption[1]),s&&this.setValidator(s))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(wi,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=ue(xe.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&Ie(this.borderRect_,"blocklyDropdownRect")}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow=ue(xe.TSPAN,{},this.textElement_);let e;this.arrow.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?wi.ARROW_CHAR+" ":" "+wi.ARROW_CHAR)),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute("dominant-baseline","central");let s;(s=this.getSourceBlock())!=null&&s.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=ue(xe.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(hs,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var s=this.getSourceBlock();if(!s)throw new Kn;this.dropdownCreate(),this.menu_.openingCoords=e&&typeof e.clientX=="number"?new ht(e.clientX,e.clientY):null,gp(),e=this.menu_.render(mp()),Ie(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(s=s.getColour(),c$(s,this.sourceBlock_.style.colourTertiary)),d$(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem&&(this.menu_.setHighlighted(this.selectedMenuItem),se(this.selectedMenuItem.getElement(),mp(),!0)),this.applyColour()}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new Kn;const s=new f_;s.setRole(ei.LISTBOX),this.menu_=s;const r=this.getOptions(!1);this.selectedMenuItem=null;for(let v=0;v<r.length;v++){const[k,Z]=r[v];if(typeof k=="object"){var d=new Image(k.width,k.height);d.src=k.src,d.alt=k.alt||""}else d=k;d=new m_(d,Z),d.setRole(ei.OPTION),d.setRightToLeft(e.RTL),d.setCheckable(!0),s.addChild(d),d.setChecked(Z===this.value_),Z===this.value_&&(this.selectedMenuItem=d),d.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){$p(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,s){this.setValue(s.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),q$(this.generatedOptions),this.generatedOptions)}doClassValidation_(e){return this.getOptions(!0).some(s=>s[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let s=0,r;r=e[s];s++)r[1]===this.value_&&(this.selectedOption=r)}applyColour(){const e=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",e.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow&&(this.sourceBlock_.isShadow()?this.arrow.style.fill=e.colourSecondary:this.arrow.style.fill=e.colourPrimary)}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];e&&typeof e=="object"?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const s=this.getSourceBlock();if(!s)throw new Kn;this.imageElement.style.display="",this.imageElement.setAttributeNS(hs,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const r=Number(e.height);e=Number(e.width);var d=!!this.borderRect_;const v=Math.max(d?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,r+Lx);d=d?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let k;k=this.svgArrow?this.positionSVGArrow(e+d,v/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):Le(this.arrow,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=e+k+2*d,this.size_.height=v;let Z=0;s.RTL?this.imageElement.setAttribute("x",`${d+k}`):(Z=e+k,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${d}`)),this.imageElement.setAttribute("y",String(v/2-r/2)),this.positionTextElement_(Z+d,e+k)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();Ie(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var s=!!this.borderRect_;e=Math.max(s?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const r=Le(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);s=s?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let d=0;this.svgArrow&&(d=this.positionSVGArrow(r+s,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=r+d+2*s,this.size_.height=e,this.positionTextElement_(s,r)}positionSVGArrow(e,s){if(!this.svgArrow)return 0;const r=this.getSourceBlock();if(!r)throw new Kn;const d=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,v=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,k=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(r.RTL?d:e+v)+","+s+")"),k+v}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];return typeof e=="object"?e.alt:e}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}};wi.CHECKMARK_OVERHANG=25,wi.MAX_MENU_HEIGHT_VH=.45,wi.ARROW_CHAR="▾";var Rx=5,Lx=2*Rx;Ti("field_dropdown",wi);var tw=class{constructor(e,s){this.bubble=e,this.workspace=s,this.startLoc=null}isMovable(){return!0}startDrag(){o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0),this.startLoc=this.bubble.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(e){this.bubble.moveDuringDrag(e)}endDrag(){this.workspace.setResizesEnabled(!0),o.setGroup$$module$build$src$core$events$utils(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.bubble,c_),this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},fs,_n=class{constructor(e,s,r){this.workspace=e,this.anchor=s,this.ownerRect=r,this.size=new dn(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.dragStrategy=new tw(this,this.workspace),this.id=_(),this.svgRoot=ue(xe.G,{class:"blocklyBubble"},e.getBubbleCanvas()),e=ue(xe.G,{filter:`url(#${this.workspace.getRenderer().getConstants().embossFilterId})`},this.svgRoot),this.tail=ue(xe.PATH,{class:"blocklyBubbleTail"},e),this.background=ue(xe.RECT,{class:"blocklyDraggable",x:0,y:0,rx:fs.BORDER_WIDTH,ry:fs.BORDER_WIDTH},e),this.contentContainer=ue(xe.G,{},this.svgRoot),ve(this.background,"pointerdown",this,this.onMouseDown)}dispose(){q(this.svgRoot),this.disposed=!0}setAnchorLocation(e,s=!1){this.anchor=e,s?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,s){this.relativeLeft=e,this.relativeTop=s,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,s=!1){e.width=Math.max(e.width,fs.MIN_SIZE),e.height=Math.max(e.height,fs.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),s?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let s;(s=this.workspace.getGesture(e))==null||s.handleBubbleStart(e,this),o.setSelected$$module$build$src$core$common(this)}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,s){this.svgRoot.setAttribute("transform",`translate(${e}, ${s})`)}positionByRect(e=new En(0,0,0,0)){var s=this.workspace.getMetricsManager().getViewMetrics(!0),r=this.getOptimalRelativeLeft(s),d=this.getOptimalRelativeTop(s);const v={x:r,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},k={x:-this.size.width-30,y:d};d={x:e.getWidth(),y:d};var Z={x:r,y:e.getHeight()};r=e.getWidth()<e.getHeight()?d:Z,e=e.getWidth()<e.getHeight()?Z:d,d=this.getOverlap(v,s),Z=this.getOverlap(k,s);const ge=this.getOverlap(r,s);s=this.getOverlap(e,s),s=Math.max(d,Z,ge,s),d===s?(this.relativeLeft=v.x,this.relativeTop=v.y):Z===s?(this.relativeLeft=k.x,this.relativeTop=k.y):ge===s?(this.relativeLeft=r.x,this.relativeTop=r.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,s){var r=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(r+this.size.width,s.left+s.width)-Math.max(r,s.left))*(Math.min(e+this.size.height,s.top+s.height)-Math.max(e,s.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let s=-this.size.width/4;if(this.size.width>e.width)return s;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var r=this.anchor.x-s;r-this.size.width<e.left?s=-(e.left-this.anchor.x+this.size.width):r>e.right&&(s=-(e.right-this.anchor.x))}else{r=s+this.anchor.x;const d=r+this.size.width;r<e.left?s=e.left-this.anchor.x:d>e.right&&(s=e.right-this.anchor.x-this.size.width)}return s}getOptimalRelativeTop(e){let s=-this.size.height/4;if(this.size.height>e.height)return s;const r=this.anchor.y+s,d=r+this.size.height;return e=this.getWorkspaceViewRect(e),r<e.top?s=e.top-this.anchor.y:d>e.bottom&&(s=e.bottom-this.anchor.y-this.size.height),s}getWorkspaceViewRect(e){const s=e.top;let r=e.top+e.height,d=e.left;return e=e.left+e.width,r-=this.getScrollbarThickness(),this.workspace.RTL?d-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new En(s,r,d,e)}getScrollbarThickness(){return zn.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var s=this.size.width/2,r=this.size.height/2,d=-this.relativeLeft,v=-this.relativeTop;if(s===d&&r===v)e.push("M "+s+","+r);else{v-=r,d-=s,this.workspace.RTL&&(d*=-1);var k=Math.sqrt(v*v+d*d),Z=Math.acos(d/k);0>v&&(Z=2*Math.PI-Z);var ge=Z+Math.PI/2;ge>2*Math.PI&&(ge-=2*Math.PI);var Xe=Math.sin(ge);const Rn=Math.cos(ge);let In=(this.size.width+this.size.height)/fs.TAIL_THICKNESS;In=Math.min(In,this.size.width,this.size.height)/4,ge=1-fs.ANCHOR_RADIUS/k,d=s+ge*d,v=r+ge*v,ge=s+In*Rn;const ns=r+In*Xe;s-=In*Rn,r-=In*Xe,Xe=fp(this.workspace.RTL?-fs.TAIL_ANGLE:fs.TAIL_ANGLE),Xe=Z+Xe,Xe>2*Math.PI&&(Xe-=2*Math.PI),Z=Math.sin(Xe)*k/fs.TAIL_BEND,k=Math.cos(Xe)*k/fs.TAIL_BEND,e.push("M"+ge+","+ns),e.push("C"+(ge+k)+","+(ns+Z)+" "+d+","+v+" "+d+","+v),e.push("C"+d+","+v+" "+(s+k)+","+(r+Z)+" "+s+","+r)}e.push("z");let Ct;(Ct=this.tail)==null||Ct.setAttribute("d",e.join(" "))}bringToFront(){let e;const s=(e=this.svgRoot)==null?void 0:e.parentNode;return this.svgRoot&&(s==null?void 0:s.lastChild)!==this.svgRoot?(s==null||s.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new ht(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){}unselect(){}};fs=_n,_n.BORDER_WIDTH=6,_n.DOUBLE_BORDER=2*fs.BORDER_WIDTH,_n.MIN_SIZE=fs.DOUBLE_BORDER,_n.TAIL_THICKNESS=1,_n.TAIL_ANGLE=20,_n.TAIL_BEND=4,_n.ANCHOR_RADIUS=8;var ur=class extends _n{constructor(e,s,r,d){super(s,r,d),this.workspace=s,this.anchor=r,this.ownerRect=d,this.autoLayout=!0,s=new ks(e),this.validateWorkspaceOptions(s),this.svgDialog=ue(xe.SVG,{x:_n.BORDER_WIDTH,y:_n.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new ks(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),s.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(xe.G),this.miniWorkspace.getCanvas()),e=this.miniWorkspace.getFlyout(),e==null||e.init(this.miniWorkspace),e==null||e.show(s.languageTree)),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let v,k;(v=this.miniWorkspace.getFlyout())==null||(k=v.getWorkspace())==null||k.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging())for(const e of this.miniWorkspace.getTopBlocks(!1)){const s=e.getRelativeToSurfaceXY();if(20>s.y&&e.moveBy(0,20-s.y),e.RTL){let r=-20;const d=this.miniWorkspace.getFlyout();d&&(r-=d.getWidth()),s.x>r&&e.moveBy(r-s.x,0)}else 20>s.x&&e.moveBy(20-s.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()){var e=this.getSize(),s=this.calculateWorkspaceSize();Math.abs(e.width-s.width)<ur.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-s.height)<ur.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${s.width}px`),this.svgDialog.setAttribute("height",`${s.height}px`),this.miniWorkspace.setCachedParentSvgSize(s.width,s.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${s.width}, 0)`),this.setSize(new dn(s.width+_n.DOUBLE_BORDER,s.height+_n.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let s=e.width+ur.MARGIN;e=e.height+ur.MARGIN;const r=this.miniWorkspace.getFlyout();if(r){const d=r.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,d.height+20),s+=r.getWidth()}return new dn(s,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let s;if(e=(s=this.miniWorkspace.getFlyout())==null?void 0:s.getWorkspace())for(const r of e.getAllBlocks(!1))r.setStyle(r.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,s){super.moveTo(e,s),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};ur.MINIMUM_VIEW_CHANGE=10,ur.MARGIN=3*_n.DOUBLE_BORDER;var $f,vf;$f=17,vf=16,o.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends mf{constructor(e,s){super(s),this.flyoutBlockTypes=e,this.sourceBlock=s,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),ue(xe.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),ue(xe.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),ue(xe.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),Ie(this.svgRoot,"blockly-icon-mutator"))}dispose(){super.dispose();let e;(e=this.miniWorkspaceBubble)==null||e.dispose()}getWeight(){return o.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new dn($f,$f)}applyColour(){super.applyColour();let e;(e=this.miniWorkspaceBubble)==null||e.setColour(this.sourceBlock.style.colourPrimary);let s;(s=this.miniWorkspaceBubble)==null||s.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){super.onLocationChange(e);let s;(s=this.miniWorkspaceBubble)==null||s.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){const s=this;return rt.asyncExecutePromiseGeneratorFunction(function*(){if(s.bubbleIsVisible()!==e){if(yield vi(),e){s.miniWorkspaceBubble=new ur(s.getMiniWorkspaceConfig(),s.sourceBlock.workspace,s.getAnchorLocation(),s.getBubbleOwnerRect()),s.applyColour(),s.createRootBlock(),s.addSaveConnectionsListener();let r;(r=s.miniWorkspaceBubble)==null||r.addWorkspaceChangeListener(s.createMiniWorkspaceChangeListener())}else{let r;(r=s.miniWorkspaceBubble)==null||r.dispose(),s.miniWorkspaceBubble=null,s.saveConnectionsListener&&s.sourceBlock.workspace.removeChangeListener(s.saveConnectionsListener),s.saveConnectionsListener=null}$(new(M(Si))(s.sourceBlock,e,"mutator"))}})}getMiniWorkspaceConfig(){let e;const s={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(e=this.sourceBlock.workspace.options.rendererOverrides)!=null?e:void 0};return this.flyoutBlockTypes.length&&(s.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(r=>({kind:"block",type:r}))}),s}getAnchorLocation(){const e=$f/2;return ht.sum(this.workspaceLocation,new ht(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new En(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var e of this.rootBlock.getDescendants(!1))e.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let s,r,d,v;e=(v=(s=this.miniWorkspaceBubble)==null||(r=s.getWorkspace())==null||(d=r.getFlyout())==null?void 0:d.getWidth())!=null?v:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+vf):vf,vf)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{o.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||e.type===o.CREATE$$module$build$src$core$events$utils||e.type===o.CHANGE$$module$build$src$core$events$utils&&e.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=o.getGroup$$module$build$src$core$events$utils();e||o.setGroup$$module$build$src$core$events$utils(!0);var s=ta.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var r=ta.getExtraBlockState_(this.sourceBlock);s!==r&&$(new(M(o.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"mutation",null,s,r)),o.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return(e=this.miniWorkspaceBubble)==null?void 0:e.getWorkspace()}},o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=Zn.MUTATOR,o.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,o.MutatorIcon$$module$build$src$core$icons$mutator_icon;var Nu=Object.create(null),Ax={allExtensions:Nu};o.register$$module$build$src$core$extensions("parent_tooltip_when_inline",gC);var oi={TEST_ONLY:Ax};oi.apply=Op,oi.buildTooltipForDropdown=o.buildTooltipForDropdown$$module$build$src$core$extensions,oi.buildTooltipWithFieldText=o.buildTooltipWithFieldText$$module$build$src$core$extensions,oi.isRegistered=J$,oi.register=o.register$$module$build$src$core$extensions,oi.registerMixin=o.registerMixin$$module$build$src$core$extensions,oi.registerMutator=o.registerMutator$$module$build$src$core$extensions,oi.runAfterPageLoad=fC,oi.unregister=uC;var nw=new Set,ow={};ow.warn=Vr;var tn;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(tn||(tn={}));var cr={};cr.arc=Wn,cr.curve=es,cr.line=lu,cr.lineOnAxis=wt,cr.lineTo=yi,cr.moveBy=Ln,cr.moveTo=to,cr.point=Ht;var Bn={};Bn.Coordinate=ht,Bn.KeyCodes=tn,Bn.Rect=En,Bn.Size=dn,Bn.Svg=xe,Bn.aria=_d,Bn.array=gI,Bn.browserEvents=sr,Bn.colour=ws,Bn.deprecation=ow,Bn.dom=po,Bn.extensions=oi,Bn.idGenerator=Gv,Bn.math=of,Bn.object=ZI,Bn.parsing=Id,Bn.string=wu,Bn.style=zr,Bn.svgMath=ql,Bn.svgPaths=cr,Bn.toolbox=Kr,Bn.userAgent=vx,Bn.xml=_u;var A_={};A_.register=ev,A_.unregister=$C;var N_=class extends _n{constructor(e,s,r,d){super(s,r,d),this.text=e,this.workspace=s,this.anchor=r,this.ownerRect=d,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}getText(){return this.text}setText(e){this.text=e,q(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,s){return s=this.createParagraph(s),e=this.createSpans(s,e),this.workspace.RTL&&this.rightAlignSpans(s.getBBox().width,e),s}createParagraph(e){return ue(xe.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:_n.BORDER_WIDTH},e)}createSpans(e,s){return s.split(`
`).map(r=>{const d=ue(xe.TSPAN,{dy:"1em",x:_n.BORDER_WIDTH},e);return r=document.createTextNode(r),d.appendChild(r),d})}rightAlignSpans(e,s){for(const r of s)r.setAttribute("text-anchor","end"),r.setAttribute("x",`${e+_n.BORDER_WIDTH}`)}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new dn(e.width+2*_n.BORDER_WIDTH,e.height+2*_n.BORDER_WIDTH),!0)}},sw=class extends _n{constructor(e,s,r){super(e,s,r),this.workspace=e,this.anchor=s,this.ownerRect=r,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.textChangeListeners=[],this.sizeChangeListeners=[],this.text="",this.DEFAULT_SIZE=new dn(160+_n.DOUBLE_BORDER,80+_n.DOUBLE_BORDER),this.MIN_SIZE=new dn(45+_n.DOUBLE_BORDER,20+_n.DOUBLE_BORDER),Ie(this.svgRoot,"blocklyTextInputBubble"),{inputRoot:this.inputRoot,textArea:this.textArea}=this.createEditor(this.contentContainer),this.resizeGroup=this.createResizeHandle(this.svgRoot,e),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.text}setText(e){this.text=e,this.textArea.value=e,this.onTextChange()}addTextChangeListener(e){this.textChangeListeners.push(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}createEditor(e){e=ue(xe.FOREIGNOBJECT,{x:_n.BORDER_WIDTH,y:_n.BORDER_WIDTH},e);const s=document.createElementNS(Ii,"body");s.setAttribute("xmlns",Ii),s.className="blocklyMinimalBody";const r=document.createElementNS(Ii,"textarea");return r.className="blocklyTextarea blocklyText",r.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),s.appendChild(r),e.appendChild(s),this.bindTextAreaEvents(r),setTimeout(()=>{r.focus()},0),{inputRoot:e,textArea:r}}bindTextAreaEvents(e){ve(e,"wheel",this,s=>{s.stopPropagation()}),ve(e,"focus",this,this.onStartEdit,!0),ve(e,"change",this,this.onTextChange)}createResizeHandle(e,s){return e=ue(xe.IMAGE,{class:"blocklyResizeHandle",href:`${s.options.pathToMedia}resize-handle.svg`},e),ve(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,s=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const r=e.width-_n.DOUBLE_BORDER,d=e.height-_n.DOUBLE_BORDER;this.inputRoot.setAttribute("width",`${r}`),this.inputRoot.setAttribute("height",`${d}`),this.resizeGroup.setAttribute("y",`${d}`),this.workspace.RTL?this.resizeGroup.setAttribute("x",`${-_n.DOUBLE_BORDER}`):this.resizeGroup.setAttribute("x",`${r}`),super.setSize(e,s),this.onSizeChange()}getSize(){return super.getSize()}onResizePointerDown(e){this.bringToFront(),de(e)||(this.workspace.startDrag(e,new ht(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=ve(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=ve(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){ce(),this.resizePointerUpListener&&(Fe(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(Fe(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=this.workspace.moveDrag(e),this.setSize(new dn(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onStartEdit(){this.bringToFront()&&this.textArea.focus()}onTextChange(){this.text=this.textArea.value;for(const e of this.textChangeListeners)e()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}};Ne(`
.blocklyTextInputBubble .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 0;
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}
`);var M_=17,iw=160,rw=80,dr=class extends mf{constructor(e){super(e),this.sourceBlock=e,this.textBubble=this.textInputBubble=null,this.text="",this.bubbleSize=new dn(iw,rw),this.bubbleVisiblity=!1}getType(){return dr.TYPE}initView(e){this.svgRoot||(super.initView(e),ue(xe.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),ue(xe.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),ue(xe.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),Ie(this.svgRoot,"blockly-icon-comment"))}dispose(){super.dispose();let e;(e=this.textInputBubble)==null||e.dispose();let s;(s=this.textBubble)==null||s.dispose()}getWeight(){return dr.WEIGHT}getSize(){return new dn(M_,M_)}applyColour(){super.applyColour();const e=this.sourceBlock.style.colourPrimary;let s;(s=this.textInputBubble)==null||s.setColour(e);let r;(r=this.textBubble)==null||r.setColour(e)}updateEditable(){const e=this,s=()=>super.updateEditable;return rt.asyncExecutePromiseGeneratorFunction(function*(){s().call(e),e.bubbleIsVisible()&&(yield e.setBubbleVisible(!1),yield e.setBubbleVisible(!0))})}onLocationChange(e){super.onLocationChange(e),e=this.getAnchorLocation();let s;(s=this.textInputBubble)==null||s.setAnchorLocation(e);let r;(r=this.textBubble)==null||r.setAnchorLocation(e)}setText(e){const s=this.text;$(new(M(o.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,s,e)),this.text=e;let r;(r=this.textInputBubble)==null||r.setText(this.text);let d;(d=this.textBubble)==null||d.setText(this.text)}getText(){return this.text}setBubbleSize(e){this.bubbleSize=e;let s;(s=this.textInputBubble)==null||s.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}saveState(){return this.text?{text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width}:null}loadState(e){let s;this.text=(s=e.text)!=null?s:"";let r,d;this.bubbleSize=new dn((r=e.width)!=null?r:iw,(d=e.height)!=null?d:rw);let v;this.bubbleVisiblity=(v=e.pinned)!=null?v:!1,this.setBubbleVisible(this.bubbleVisiblity)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&($(new(M(o.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){const s=this;return rt.asyncExecutePromiseGeneratorFunction(function*(){s.bubbleVisiblity!==e&&(s.bubbleVisiblity=e,yield vi(),!s.sourceBlock.rendered||s.sourceBlock.isInFlyout||s.sourceBlock.isInsertionMarker()||(e?(s.sourceBlock.isEditable()?s.showEditableBubble():s.showNonEditableBubble(),s.applyColour()):s.hideBubble(),$(new(M(Si))(s.sourceBlock,e,"comment"))))})}showEditableBubble(){this.textInputBubble=new sw(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.textInputBubble.addTextChangeListener(()=>this.onTextChange()),this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.textBubble=new N_(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect())}hideBubble(){let e;(e=this.textInputBubble)==null||e.dispose(),this.textInputBubble=null;let s;(s=this.textBubble)==null||s.dispose(),this.textBubble=null}getAnchorLocation(){const e=M_/2;return ht.sum(this.workspaceLocation,new ht(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new En(e.y,e.y+e.height,e.x,e.x+e.width)}};dr.TYPE=Zn.COMMENT,dr.WEIGHT=3,ev(dr.TYPE,dr);var D_=17,hr=class extends mf{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return hr.TYPE}initView(e){this.svgRoot||(super.initView(e),ue(xe.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),ue(xe.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),ue(xe.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),Ie(this.svgRoot,"blockly-icon-warning"))}dispose(){super.dispose();let e;(e=this.textBubble)==null||e.dispose()}getWeight(){return hr.WEIGHT}getSize(){return new dn(D_,D_)}applyColour(){super.applyColour();let e;(e=this.textBubble)==null||e.setColour(this.sourceBlock.style.colourPrimary)}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){super.onLocationChange(e);let s;(s=this.textBubble)==null||s.setAnchorLocation(this.getAnchorLocation())}addMessage(e,s){if(this.textMap.get(s)===e)return this;e?this.textMap.set(s,e):this.textMap.delete(s);let r;return(r=this.textBubble)==null||r.setText(this.getText()),this}getText(){return[...this.textMap.values()].join(`
`)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){const s=this;return rt.asyncExecutePromiseGeneratorFunction(function*(){if(s.bubbleIsVisible()!==e){if(yield vi(),e)s.textBubble=new N_(s.getText(),s.sourceBlock.workspace,s.getAnchorLocation(),s.getBubbleOwnerRect()),s.applyColour();else{let r;(r=s.textBubble)==null||r.dispose(),s.textBubble=null}$(new(M(Si))(s.sourceBlock,e,"warning"))}})}getAnchorLocation(){const e=D_/2;return ht.sum(this.workspaceLocation,new ht(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new En(e.y,e.y+e.height,e.x,e.x+e.width)}};hr.TYPE=Zn.WARNING,hr.WEIGHT=2;var lw=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},aw={};aw.DuplicateIconType=lw;var jr={};jr.CommentIcon=dr,jr.Icon=mf,jr.IconType=Zn,jr.MutatorIcon=o.MutatorIcon$$module$build$src$core$icons$mutator_icon,jr.WarningIcon=hr,jr.exceptions=aw,jr.registry=A_;var _f,Wo;_f="PROCEDURE",o.DEFAULT_ARG$$module$build$src$core$procedures="x",Wo={CATEGORY_NAME:_f,DEFAULT_ARG:o.DEFAULT_ARG$$module$build$src$core$procedures},Wo.ObservableProcedureMap=QI,Wo.allProcedures=Ap,Wo.findLegalName=o.findLegalName$$module$build$src$core$procedures,Wo.flyoutCategory=Np,Wo.getCallers=iv,Wo.getDefinition=o.getDefinition$$module$build$src$core$procedures,Wo.isNameUsed=nv,Wo.isProcedureBlock=Hr,Wo.mutateCallers=o.mutateCallers$$module$build$src$core$procedures,Wo.mutatorOpenListener=sv,Wo.rename=o.rename$$module$build$src$core$procedures;var Nx=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return e.type&this.FIELD}isHat(e){return e.type&this.HAT}isIcon(e){return e.type&this.ICON}isSpacer(e){return e.type&this.SPACER}isInRowSpacer(e){return e.type&this.IN_ROW_SPACER}isInput(e){return e.type&this.INPUT}isExternalInput(e){return e.type&this.EXTERNAL_VALUE_INPUT}isInlineInput(e){return e.type&this.INLINE_INPUT}isStatementInput(e){return e.type&this.STATEMENT_INPUT}isPreviousConnection(e){return e.type&this.PREVIOUS_CONNECTION}isNextConnection(e){return e.type&this.NEXT_CONNECTION}isPreviousOrNextConnection(e){return e.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}isLeftRoundedCorner(e){return e.type&this.LEFT_ROUND_CORNER}isRightRoundedCorner(e){return e.type&this.RIGHT_ROUND_CORNER}isLeftSquareCorner(e){return e.type&this.LEFT_SQUARE_CORNER}isRightSquareCorner(e){return e.type&this.RIGHT_SQUARE_CORNER}isCorner(e){return e.type&this.CORNER}isJaggedEdge(e){return e.type&this.JAGGED_EDGE}isRow(e){return e.type&this.ROW}isBetweenRowSpacer(e){return e.type&this.BETWEEN_ROW_SPACER}isTopRow(e){return e.type&this.TOP_ROW}isBottomRow(e){return e.type&this.BOTTOM_ROW}isTopOrBottomRow(e){return e.type&(this.TOP_ROW|this.BOTTOM_ROW)}isInputRow(e){return e.type&this.INPUT_ROW}},Oe=new Nx,ki=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=Oe.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},Od=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=Oe.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;0<=e;e--){const s=this.elements[e];if(Oe.isInput(s))return s}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const s=this.elements[e];if(Oe.isSpacer(s))return s}return null}getLastSpacer(){for(let e=this.elements.length-1;0<=e;e--){const s=this.elements[e];if(Oe.isSpacer(s))return s}return null}},P_=class extends Od{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=Oe.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,s=0,r=0;for(let d=0;d<this.elements.length;d++){const v=this.elements[d];s+=v.width,Oe.isSpacer(v)||(Oe.isNextConnection(v)?r=Math.max(r,v.height):e=Math.max(e,v.height))}this.width=Math.max(this.minWidth,s),this.height=Math.max(this.minHeight,e)+r,this.descenderHeight=r,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},pr=class extends ki{constructor(e,s){super(e),this.connectionModel=s,this.type|=Oe.CONNECTION,this.shape=this.constants_.shapeFor(s),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=s.isHighlighted()}},qr=class extends pr{constructor(e,s){super(e,s.connection),this.input=s,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=Oe.INPUT,this.align=s.align,(this.connectedBlock=s.connection&&s.connection.targetBlock()?s.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},bf=class extends qr{constructor(e,s){super(e,s),this.height=0,this.type|=Oe.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},Mu=class extends ki{constructor(e,s,r){super(e),this.field=s,this.parentInput=r,this.isEditable=s.EDITABLE,this.flipRtl=s.getFlipRtl(),this.type|=Oe.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},x_=class extends ki{constructor(e){super(e),this.type|=Oe.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},uw=class extends ki{constructor(e,s){super(e),this.icon=s,this.flipRtl=!1,this.type|=Oe.ICON,e=s.getSize(),this.height=e.height,this.width=e.width}},ms=class extends ki{constructor(e,s){super(e),this.type=this.type|Oe.SPACER|Oe.IN_ROW_SPACER,this.width=s,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},B_=class extends qr{constructor(e,s){super(e,s),this.type|=Oe.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},Rd=class extends qr{constructor(e,s){super(e,s),this.type|=Oe.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},F_=class extends Od{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=Oe.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let s=0;s<this.elements.length;s++){const r=this.elements[s];this.width+=r.width,Oe.isInput(r)&&r instanceof qr&&(Oe.isStatementInput(r)&&r instanceof Rd?e+=r.connectedBlockWidth:Oe.isExternalInput(r)&&r instanceof bf&&r.connectedBlockWidth!==0&&(e+=r.connectedBlockWidth-r.connectionWidth)),Oe.isSpacer(r)||(this.height=Math.max(this.height,r.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},cw=class extends ki{constructor(e){super(e),this.type|=Oe.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},dw=class extends pr{constructor(e,s){super(e,s),this.type|=Oe.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},hw=class extends pr{constructor(e,s){super(e,s),this.connectionOffsetX=0,this.type|=Oe.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},pw=class extends pr{constructor(e,s){super(e,s),this.type|=Oe.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Ld=class extends ki{constructor(e,s){super(e),this.type=(s&&s!=="left"?Oe.RIGHT_ROUND_CORNER:Oe.LEFT_ROUND_CORNER)|Oe.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},H_=class extends Od{constructor(e,s,r){super(e),this.height=s,this.width=r,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type=this.type|Oe.SPACER|Oe.BETWEEN_ROW_SPACER,this.elements=[new ms(this.constants_,r)]}measure(){}},Ad=class extends ki{constructor(e,s){super(e),this.type=(s&&s!=="left"?Oe.RIGHT_SQUARE_CORNER:Oe.LEFT_SQUARE_CORNER)|Oe.CORNER,this.width=this.height=this.constants_.NO_PADDING}},V_=class extends Od{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=Oe.TOP_ROW}hasLeftSquareCorner(e){const s=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,r=e.getPreviousBlock();return!!e.outputConnection||s||(r?r.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,s=0,r=0;for(let d=0;d<this.elements.length;d++){const v=this.elements[d];s+=v.width,Oe.isSpacer(v)||(Oe.isHat(v)&&v instanceof x_?r=Math.max(r,v.ascenderHeight):e=Math.max(e,v.height))}this.width=Math.max(this.minWidth,s),this.height=Math.max(this.minHeight,e)+r,this.capline=this.ascenderHeight=r,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},Tf=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=Ln(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const s=e.blockStyles;for(const r in s)this.blockStyles[r]=this.validatedBlockStyle_(s[r]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=L("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const s="auto_"+e;return this.blockStyles[s]||(this.blockStyles[s]=this.createBlockStyle_(e)),{style:this.blockStyles[s],name:s}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.startsWith("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const s={};return e&&Object.assign(s,e),e=ou(s.colourPrimary||"#000"),s.colourPrimary=e.hex,s.colourSecondary=s.colourSecondary?ou(s.colourSecondary).hex:this.generateSecondaryColour_(s.colourPrimary),s.colourTertiary=s.colourTertiary?ou(s.colourTertiary).hex:this.generateTertiaryColour_(s.colourPrimary),s.hat=s.hat||"",s}generateSecondaryColour_(e){return Bl("#fff",e,.6)||e}generateTertiaryColour_(e){return Bl("#fff",e,.3)||e}dispose(){this.embossFilter&&q(this.embossFilter),this.disabledPattern&&q(this.disabledPattern),this.debugFilter&&q(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,s=this.JAGGED_TEETH_WIDTH,r=lu([Ht(s,e/4),Ht(2*-s,e/2),Ht(s,e/4)]);return{height:e,width:s,path:r}}makeStartHat(){const e=this.START_HAT_HEIGHT,s=this.START_HAT_WIDTH,r=es("c",[Ht(30,-e),Ht(70,-e),Ht(s,0)]);return{height:e,width:s,path:r}}makePuzzleTab(){function e(k){k=k?-1:1;const Z=-k;var ge=r/2;const Xe=ge+2.5,Ct=ge+.5,Rn=Ht(-s,k*ge);return ge=Ht(s,k*ge),es("c",[Ht(0,k*Xe),Ht(-s,Z*Ct),Rn])+es("s",[Ht(s,2.5*Z),ge])}const s=this.TAB_WIDTH,r=this.TAB_HEIGHT,d=e(!0),v=e(!1);return{type:this.SHAPES.PUZZLE,width:s,height:r,pathDown:v,pathUp:d}}makeNotch(){function e(Z){return lu([Ht(Z*d,r),Ht(3*Z,0),Ht(Z*d,-r)])}const s=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,d=(s-3)/2,v=e(1),k=e(-1);return{type:this.SHAPES.NOTCH,width:s,height:r,pathLeft:v,pathRight:k}}makeInsideCorners(){const e=this.CORNER_RADIUS,s=Wn("a","0 0,0",e,Ht(-e,e)),r=Wn("a","0 0,0",e,Ht(e,e));return{width:e,height:e,pathTop:s,pathBottom:r}}makeOutsideCorners(){const e=this.CORNER_RADIUS,s=Ln(0,e)+Wn("a","0 0,1",e,Ht(e,-e)),r=Wn("a","0 0,1",e,Ht(e,e)),d=Wn("a","0 0,1",e,Ht(-e,-e)),v=Wn("a","0 0,1",e,Ht(-e,e));return{topLeft:s,topRight:r,bottomRight:v,bottomLeft:d,rightHeight:e}}shapeFor(e){switch(e.type){case It.INPUT_VALUE:case It.OUTPUT_VALUE:return this.PUZZLE_TAB;case It.PREVIOUS_STATEMENT:case It.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,s,r){this.injectCSS_(s,r),this.defs=ue(xe.DEFS,{},e),e=ue(xe.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),ue(xe.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),s=ue(xe.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),ue(xe.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},s),ue(xe.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),ue(xe.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=ue(xe.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),ue(xe.RECT,{width:10,height:10,fill:"#aaa"},e),ue(xe.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter()}createDebugFilter(){if(!this.debugFilter){const e=ue(xe.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),s=ue(xe.FECOMPONENTTRANSFER,{result:"outBlur"},e);ue(xe.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},s),ue(xe.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),ue(xe.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,s){s=this.getCSS_(s),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const r=s.join(`
`);this.cssNode?this.cssNode.firstChild.textContent=r:(s=document.createElement("style"),s.id=e,e=document.createTextNode(r),s.appendChild(e),document.head.insertBefore(s,document.head.firstChild),this.cssNode=s)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect,`,`${e} .blocklyEditableText>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableText:not(.editing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},yf=class{constructor(e,s){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=s,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=s.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const s=this.info_.rows[e];s.hasJaggedEdge?this.drawJaggedEdge_(s):s.hasStatement?this.drawStatementInput_(s):s.hasExternalInput?this.drawValueInput_(s):this.drawRightSideRow_(s)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,s=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=Ln(e.xPos,this.info_.startY);for(let r=0,d;d=s[r];r++)Oe.isLeftRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:Oe.isRightRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:Oe.isPreviousConnection(d)&&d instanceof pr?this.outlinePath_+=d.shape.pathLeft:Oe.isHat(d)?this.outlinePath_+=this.constants_.START_HAT.path:Oe.isSpacer(d)&&(this.outlinePath_+=wt("h",d.width));this.outlinePath_+=wt("v",e.height)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+wt("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const s=e.getLastInput();this.positionExternalValueConnection_(e);const r=Mp(s.shape)?s.shape.pathDown(s.height):s.shape.pathDown;this.outlinePath_+=wt("H",s.xPos+s.width)+r+wt("v",e.height-s.connectionHeight)}drawStatementInput_(e){var s=e.getLastInput();if(s){var r=s.xPos+s.notchOffset+s.shape.width;s=s.shape.pathRight+wt("h",-(s.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var d=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=wt("H",r)+s+wt("v",d)+this.constants_.INSIDE_CORNERS.pathBottom+wt("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=wt("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,s=e.elements;this.positionNextConnection_();let r=0,d="";for(let v=s.length-1,k;k=s[v];v--)Oe.isNextConnection(k)&&k instanceof pr?d+=k.shape.pathRight:Oe.isLeftSquareCorner(k)?d+=wt("H",e.xPos):Oe.isLeftRoundedCorner(k)?d+=this.constants_.OUTSIDE_CORNERS.bottomLeft:Oe.isRightRoundedCorner(k)?(d+=this.constants_.OUTSIDE_CORNERS.bottomRight,r=this.constants_.OUTSIDE_CORNERS.rightHeight):Oe.isSpacer(k)&&(d+=wt("h",-1*k.width));this.outlinePath_+=wt("V",e.baseline-r),this.outlinePath_+=d}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const s=e.connectionOffsetY+e.height;e=Mp(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=wt("V",s)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,s;s=this.info_.rows[e];e++)for(let r=0,d;d=s.elements[r];r++)Oe.isInlineInput(d)?this.drawInlineInput_(d):(Oe.isIcon(d)||Oe.isField(d))&&this.layoutField_(d)}layoutField_(e){const s=e.centerline-e.height/2;let r=e.xPos;var d="";this.info_.RTL&&(r=-(r+e.width),e.flipRtl&&(r+=e.width,d="scale(-1 1)")),Oe.isIcon(e)?(d=e.icon,d.setOffsetInBlock(new ht(r,s)),this.info_.isInsertionMarker&&d.hideForInsertionMarker()):(e=e.field.getSvgRoot(),e.setAttribute("transform","translate("+r+","+s+")"+d),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const s=e.width,r=e.height,d=e.connectionOffsetY,v=e.connectionHeight+d;this.inlinePath_+=to(e.xPos+e.connectionWidth,e.centerline-r/2)+wt("v",d)+e.shape.pathDown+wt("v",r-v)+wt("h",s-e.connectionWidth)+wt("v",-r)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const s=e.centerline-e.height/2;if(e.connectionModel){let r=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(r*=-1),e.connectionModel.setOffsetInBlock(r,s+e.connectionOffsetY)}}positionStatementInputConnection_(e){const s=e.getLastInput();if(s!=null&&s.connectionModel){let r=e.xPos+e.statementEdge+s.notchOffset;this.info_.RTL&&(r*=-1),s.connectionModel.setOffsetInBlock(r,e.yPos)}}positionExternalValueConnection_(e){const s=e.getLastInput();if(s&&s.connectionModel){let r=e.xPos+e.width;this.info_.RTL&&(r*=-1),s.connectionModel.setOffsetInBlock(r,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const s=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-s:s,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const s=e.connection,r=s.xPos;s.connectionModel.setOffsetInBlock(this.info_.RTL?-r:r,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const s of e.elements)if(s instanceof pr)if(s.highlighted)this.drawConnectionHighlightPath(s);else{let r,d;(d=(r=this.block_.pathObject).removeConnectionHighlight)==null||d.call(r,s.connectionModel)}}drawConnectionHighlightPath(e){const s=e.connectionModel;e=s.type===It.INPUT_VALUE||s.type===It.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const r=s.getSourceBlock();let d,v;(v=(d=r.pathObject).addConnectionHighlight)==null||v.call(d,s,e,s.getOffsetInBlock(),r.RTL)}getExpressionConnectionHighlightPath(e){let s="";return Mp(e.shape)?s=e.shape.pathDown(e.height):TC(e.shape)&&(s=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,Ln(0,-e)+wt("v",e)+s+wt("v",e)}getStatementConnectionHighlightPath(e){if(!yC(e.shape))throw Error("Statement connections should have notch shapes");const s=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return Ln(-s,0)+wt("h",s)+e.shape.pathLeft+wt("h",s)}};(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(o.Align$$module$build$src$core$inputs$align||(o.Align$$module$build$src$core$inputs$align={})),o.Align$$module$build$src$core$inputs$align;var la=class extends Sn{constructor(e,s,r){super(Sn.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==Sn.SKIP_SETUP&&(r?this.configure_(r):this.class=s||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&Ie(this.getTextElement(),this.class)}doClassValidation_(e){return e==null?null:`${e}`}setClass(e){this.textElement_&&(this.class&&Ue(this.textElement_,this.class),e&&Ie(this.textElement_,e)),this.class=e}static fromJson(e){return new this(Gn(e.text),void 0,e)}};Ti("field_label",la),la.prototype.DEFAULT_VALUE="";var Du=class{constructor(e,s){this.name=e,this.sourceBlock=s,this.fieldRow=[],this.align=o.Align$$module$build$src$core$inputs$align.LEFT,this.visible=!0,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,s){return this.insertFieldAt(this.fieldRow.length,e,s),this}insertFieldAt(e,s,r){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(s||s===""&&r)&&(typeof s=="string"&&(s=o.fromJson$$module$build$src$core$field_registry({type:"field_label",text:s})),s.setSourceBlock(this.sourceBlock),this.sourceBlock.initialized&&this.initField(s),s.name=r,s.setVisible(this.isVisible()),s.prefixField&&(e=this.insertFieldAt(e,s.prefixField)),this.fieldRow.splice(e,0,s),e++,s.suffixField&&(e=this.insertFieldAt(e,s.suffixField)),this.sourceBlock.rendered&&this.sourceBlock.queueRender()),e}removeField(e,s){for(let r=0,d;d=this.fieldRow[r];r++)if(d.name===e)return d.dispose(),this.fieldRow.splice(r,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(s)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let s=[];if(this.visible===e)return s;this.visible=e;for(let d=0,v;v=this.fieldRow[d];d++)v.setVisible(e);if(this.connection){var r=this.connection;e?s=r.startTrackingAll():r.stopTrackingAll(),(r=r.targetBlock())&&(r.getSvgRoot().style.display=e?"block":"none")}return s}markDirty(){for(let e=0,s;s=this.fieldRow[e];e++)s.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){for(const e of this.fieldRow)e.init()}initModel(){for(const e of this.fieldRow)e.initModel()}initField(e){this.sourceBlock.rendered?e.init():e.initModel()}dispose(){for(let e=0,s;s=this.fieldRow[e];e++)s.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},Oi=class extends Du{constructor(e,s){super(e,s),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},fr=class extends Du{constructor(e,s){super(e,s),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},gs=class extends Du{constructor(e,s){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,s),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(It.NEXT_STATEMENT)}},fw;o.ValueInput$$module$build$src$core$inputs$value_input=class extends Du{constructor(e,s){if(!e)throw Error("Value inputs must have a non-empty name");super(e,s),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(It.INPUT_VALUE)}},fw={},fw.ValueInput=o.ValueInput$$module$build$src$core$inputs$value_input;var Nd=class{constructor(e,s){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=s,this.constants_=this.renderer_.getConstants(),this.outputConnection=s.outputConnection?new hw(this.constants_,s.outputConnection):null,this.isInline=s.getInputsInline()&&!s.isCollapsed(),this.isCollapsed=s.isCollapsed(),this.isInsertionMarker=s.isInsertionMarker(),this.RTL=s.RTL,this.topRow=new V_(this.constants_),this.bottomRow=new P_(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new F_(this.constants_);this.inputRows.push(e);var s=this.block_.getIcons();for(let r=0,d;d=s[r];r++){const v=new uw(this.constants_,d);this.isCollapsed&&!d.isShownWhenCollapsed()||e.elements.push(v)}s=void 0;for(let r=0,d;d=this.block_.inputList[r];r++)if(d.isVisible()){this.shouldStartNewRow_(d,s)&&(this.rows.push(e),e=new F_(this.constants_),this.inputRows.push(e));for(let v=0,k;k=d.fieldRow[v];v++)e.elements.push(new Mu(this.constants_,k,d));this.addInput_(d,e),s=d}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new cw(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const s=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let r=this.topRow.hasLeftSquareCorner(this.block_)?Ad:Ld;this.topRow.elements.push(new r(this.constants_)),s?(e=new x_(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new pw(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof gs&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,r=this.topRow.hasRightSquareCorner(this.block_)?Ad:Ld,this.topRow.elements.push(new r(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof gs?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new Ad(this.constants_)):this.bottomRow.elements.push(new Ld(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new dw(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new Ad(this.constants_,"right")):this.bottomRow.elements.push(new Ld(this.constants_,"right"))}addInput_(e,s){this.isInline&&e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(s.elements.push(new B_(this.constants_,e)),s.hasInlineInput=!0):e instanceof gs?(s.elements.push(new Rd(this.constants_,e)),s.hasStatement=!0):e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(s.elements.push(new bf(this.constants_,e)),s.hasExternalInput=!0):(e instanceof Oi||e instanceof fr)&&(s.minHeight=Math.max(s.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),s.hasDummyInput=!0),s.align===null&&(s.align=e.align)}shouldStartNewRow_(e,s){return s?s instanceof fr||e instanceof gs||s instanceof gs?!0:e instanceof o.ValueInput$$module$build$src$core$inputs$value_input||e instanceof Oi||s instanceof o.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,s;s=this.rows[e];e++){const r=s.elements;if(s.elements=[],s.startsWithElemSpacer()&&s.elements.push(new ms(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(let d=0;d<r.length-1;d++){s.elements.push(r[d]);const v=this.getInRowSpacing_(r[d],r[d+1]);s.elements.push(new ms(this.constants_,v))}s.elements.push(r[r.length-1]),s.endsWithElemSpacer()&&s.elements.push(new ms(this.constants_,this.getInRowSpacing_(r[r.length-1],null)))}}}getInRowSpacing_(e,s){if(!e&&s&&Oe.isStatementInput(s))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&Oe.isInput(e)&&!s){if(Oe.isExternalInput(e))return this.constants_.NO_PADDING;if(Oe.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Oe.isStatementInput(e))return this.constants_.NO_PADDING}return e&&Oe.isLeftSquareCorner(e)&&s&&(Oe.isPreviousConnection(s)||Oe.isNextConnection(s))?s.notchOffset:e&&Oe.isLeftRoundedCorner(e)&&s&&(Oe.isPreviousConnection(s)||Oe.isNextConnection(s))?s.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,s=0,r=0;for(let v=0,k;k=this.rows[v];v++){if(k.measure(),s=Math.max(s,k.width),k.hasStatement){var d=k.getLastInput();let Z,ge;d=k.width-((ge=(Z=d)==null?void 0:Z.width)!=null?ge:0),e=Math.max(e,d)}r=Math.max(r,k.widthWithConnectedBlocks)}this.statementEdge=e,this.width=s;for(let v=0,k;k=this.rows[v];v++)k.hasStatement&&(k.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(s,r),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let s=0,r;r=this.rows[s];s++)if(r.hasStatement)this.alignStatementRow_(r);else{var e=r.width;e=this.getDesiredRowWidth_(r)-e,0<e&&this.addAlignmentPadding_(r,e),Oe.isTopOrBottomRow(r)&&(r.widthWithConnectedBlocks=r.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,s){const r=e.getFirstSpacer(),d=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=s),e.align===o.Align$$module$build$src$core$inputs$align.LEFT&&d)d.width+=s;else if(e.align===o.Align$$module$build$src$core$inputs$align.CENTRE&&r&&d)r.width+=s/2,d.width+=s/2;else if(e.align===o.Align$$module$build$src$core$inputs$align.RIGHT&&r)r.width+=s;else if(d)d.width+=s;else return;e.width+=s}alignStatementRow_(e){const s=e.getLastInput();if(s){var r=e.width-s.width,d=this.statementEdge;r=d-r,0<r&&this.addAlignmentPadding_(e,r),r=e.width,d=this.getDesiredRowWidth_(e),s.width+=d-r,s.height=Math.max(s.height,e.height),e.width+=d-r,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let s=0;s<e.length;s++)this.rows.push(e[s]),s!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[s],e[s+1]))}makeSpacerRow_(e,s){var r=this.getSpacerRowHeight_(e,s);const d=this.getSpacerRowWidth_(e,s);return r=new H_(this.constants_,r,d),e.hasStatement&&(r.followsStatement=!0),s.hasStatement&&(r.precedesStatement=!0),r}getSpacerRowWidth_(e,s){return this.width-this.startX}getSpacerRowHeight_(e,s){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,s){return Oe.isSpacer(s)?e.yPos+s.height/2:Oe.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,Oe.isNextConnection(s)?e+s.height/2:e-s.height/2):Oe.isTopRow(e)?Oe.isHat(s)?e.capline-s.height/2:e.capline+s.height/2:e.yPos+e.height/2}recordElemPositions_(e){let s=e.xPos;for(let r=0,d;d=e.elements[r];r++)Oe.isSpacer(d)&&(d.height=e.height),d.xPos=s,d.centerline=this.getElemCenterline_(e,d),s+=d.width}finalize_(){let e=0,s=0;for(let r=0,d;d=this.rows[r];r++)d.yPos=s,d.xPos=this.startX,s+=d.height,e=Math.max(e,d.widthWithConnectedBlocks),this.recordElemPositions_(d);if(this.outputConnection&&this.block_.nextConnection){const r=this.block_.nextConnection.targetBlock();r&&(e=Math.max(e,r.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=s,this.startY=this.topRow.capline,this.bottomRow.baseline=s-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let s;if(((s=this.outputConnection)==null?void 0:s.connectionModel)===e)return this.outputConnection;for(const r of this.rows)for(const d of r.elements)if(d instanceof pr&&d.connectionModel===e)return d;return null}},U_=class extends ea{constructor(e){if(super(e),this.type=o.DELETE$$module$build$src$core$events$utils,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=sd(e),this.ids=O(e),this.wasShadow=e.isShadow(),this.oldJson=ds(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=bi(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new U_),s.oldXml=o.textToDom$$module$build$src$core$utils$xml(e.oldXml),s.ids=e.ids,s.wasShadow=e.wasShadow||s.oldXml.tagName.toLowerCase()==="shadow",s.oldJson=e.oldJson,e.recordUndo!==void 0&&(s.recordUndo=e.recordUndo),s}run(e){const s=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const r=this.ids[e],d=s.getBlockById(r);d?d.dispose(!1):r===this.blockId&&console.warn("Can't delete non-existent block: "+r)}else qi(this.oldJson,s)}};i(ut.EVENT,o.DELETE$$module$build$src$core$events$utils,U_);var hn=class{constructor(e,s){this.type=s,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e}connect_(e){const s=It.INPUT_VALUE,r=this.getSourceBlock();var d=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let v;if(this.isConnected()){const Z=this.stashShadowState(),ge=this.targetBlock();ge.isShadow()?ge.dispose(!1):(this.disconnectInternal(),v=ge),this.applyShadowState(Z)}let k;C()&&(k=new(M(o.MOVE$$module$build$src$core$events$utils))(d),k.setReason(["connect"])),EC(this,e),d.setParent(r),k&&(k.recordNew(),$(k)),v&&(e=this.type===s?v.outputConnection:v.previousConnection)&&((d=hn.getConnectionForOrphanedConnection(d,e))?e.connect(d):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===It.INPUT_VALUE||this.type===It.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const s=o.getGroup$$module$build$src$core$events$utils();s||o.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),o.setGroup$$module$build$src$core$events$utils(s)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:s,childConnection:r}=this.getParentAndChildConnections();if(!s||!r)throw Error("Source connection not connected.");const d=o.getGroup$$module$build$src$core$events$utils();d||o.setGroup$$module$build$src$core$events$utils(!0);let v;C()&&(v=new(M(o.MOVE$$module$build$src$core$events$utils))(r.getSourceBlock()),v.setReason(["disconnect"]));const k=this.targetConnection;k&&(k.targetConnection=null),this.targetConnection=null,e&&r.getSourceBlock().setParent(null),v&&(v.recordNew(),$(v)),r.getSourceBlock().isShadow()||s.respawnShadow_(),o.setGroup$$module$build$src$core$events$utils(d)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,s){if(this.getSourceBlock().isDeadOrDying())return!1;var r;return s=(r=e.getInput(s))==null?void 0:r.connection,r=this.targetBlock(),r&&r!==e||!s||s.targetConnection===this?!1:(s.isConnected()&&s.disconnect(),s.connect(this),!0)}targetBlock(){if(this.isConnected()){let e,s;return(s=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?s:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Fr(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?ds(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const s=this.sourceBlock_.inputList;for(let r=0;r<s.length;r++)if(s[r].connection===this){e=s[r];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var s="Output Connection of ";else if(e.previousConnection===this)s="Previous Connection of ";else if(e.nextConnection===this)s="Next Connection of ";else{s=null;for(let r=0,d;d=e.inputList[r];r++)if(d.connection===this){s=d;break}if(s)s='Input "'+s.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return s+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),s=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:s}}applyShadowState({shadowDom:e,shadowState:s}){this.shadowDom=e,this.shadowState=s}setShadowStateInternal({shadowDom:e=null,shadowState:s=null}={}){this.shadowDom=e,this.shadowState=s,this.getSourceBlock().isDeadOrDying()||((e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(e){var s=this.getSourceBlock();const r=this.getShadowState(),d=this.getShadowDom();if(s.isDeadOrDying()||!r&&!d)return null;if(r)return s=Za(r,s.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(d){if(s=Hl(d,s.workspace),e)if(this.type===It.INPUT_VALUE){if(!s.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(s.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===It.NEXT_STATEMENT){if(!s.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(s.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return s}return null}serializeShadow(e){e&&(this.shadowDom=Fr(e),this.shadowState=ds(e))}static getConnectionForOrphanedConnection(e,s){if(s.type===It.OUTPUT_VALUE)return CC(e,s.getSourceBlock());e=e.lastConnectionInStack(!0);const r=s.getConnectionChecker();return e&&r.canConnect(s,e,!1)?e:null}};hn.CAN_CONNECT=0,hn.REASON_SELF_CONNECTION=1,hn.REASON_WRONG_TYPE=2,hn.REASON_TARGET_NULL=3,hn.REASON_CHECKS_FAILED=4,hn.REASON_DIFFERENT_WORKSPACES=5,hn.REASON_SHADOW_PARENT=6,hn.REASON_DRAG_CHECKS_FAILED=7,hn.REASON_PREVIOUS_AND_OUTPUT=8;var aa=class{constructor(e,s,r){if(this.data=null,this.disposed=!1,this.hue_=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabledReasons=new Set,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.outputShape_=null,this.rendered=this.isInsertionMarker_=this.initialized=this.disposing=!1,this.onchangeWrapper_=this.helpUrl=null,this.statementInputCount=0,this.workspace=e,this.id=r&&!e.getBlockById(r)?r:b(),e.setBlockById(this.id,this),this.xy_=new ht(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,s){if(this.type=s,r=ts[s],!r||typeof r!="object")throw TypeError("Invalid block definition for type: "+s);Object.assign(this,r)}e.addTopBlock(this),e.addTypedBlock(this),new.target===aa&&this.doInit_()}doInit_(){const e=o.getGroup$$module$build$src$core$events$utils();e||o.setGroup$$module$build$src$core$events$utils(!0);const s=T();try{typeof this.init=="function"&&(o.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),o.setRecordUndo$$module$build$src$core$events$utils(s)),C()&&$(new(M(o.CREATE$$module$build$src$core$events$utils))(this))}finally{o.setGroup$$module$build$src$core$events$utils(e),o.setRecordUndo$$module$build$src$core$events$utils(s)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e=!1){this.disposing=!0,this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),C()&&$(new(M(o.DELETE$$module$build$src$core$events$utils))(this)),this.workspace.removeTopBlock(this),this.disposeInternal()}disposeInternal(){this.disposing=!0,this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const e of this.inputList)e.initModel();this.initialized=!0}}unplug(e){this.outputConnection&&this.unplugFromRow_(e),this.previousConnection&&this.unplugFromStack_(e)}unplugFromRow_(e){let s=null,r;(r=this.outputConnection)!=null&&r.isConnected()&&(s=this.outputConnection.targetConnection,this.outputConnection.disconnect()),s&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e==null||e.disconnect(),this.workspace.connectionChecker.canConnect(e,s,!1)?s.connect(e):e==null||e.onFailedConnect(s))}getOnlyValueConnection_(){let e=null;for(let s=0;s<this.inputList.length;s++){const r=this.inputList[s].connection;if(r&&r.type===It.INPUT_VALUE&&r.targetConnection){if(e)return null;e=r}}return e}unplugFromStack_(e){let s=null;var r;if((r=this.previousConnection)!=null&&r.isConnected()&&(s=this.previousConnection.targetConnection,this.previousConnection.disconnect()),r=this.getNextBlock(),e&&r&&!r.isShadow()){let d,v;e=(v=(d=this.nextConnection)==null?void 0:d.targetConnection)!=null?v:null,e==null||e.disconnect(),s&&this.workspace.connectionChecker.canConnect(s,e,!1)&&s.connect(e)}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let s=0,r;r=this.inputList[s];s++)r.connection&&e.push(r.connection);return e}lastConnectionInStack(e){let s=this.nextConnection;for(;s;){const r=s.targetBlock();if(!r||e&&r.isShadow())return s;s=r.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let s=0,r;r=this.inputList[s];s++)if(r.connection&&r.connection.targetBlock()===e)return r;return null}getSurroundParent(){let e=this,s;do if(s=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===s);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,s=this;do e=s,s=e.parentBlock_;while(s);return e}getTopStackBlock(){let e=this,s;do s=e.getPreviousBlock();while(s&&s.getNextBlock()===e&&(e=s));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let r=0,d;d=this.inputList[r];r++)if(d.connection){var s=d.connection.targetBlock();s&&e.push(s)}return(s=this.getNextBlock())&&e.push(s),e}setParent(e){if(e!==this.parentBlock_){var s=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),r=!!s;if(r&&e&&s!==e)throw Error("Block connected to superior one that is not new parent.");if(!r&&e)throw Error("Block not connected to new parent.");if(r&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?Ee(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const s=[this],r=this.getChildren(e);for(let d,v=0;d=r[v];v++)s.push(...d.getDescendants(e));return s}isDeletable(){return this.deletable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable_}setDeletable(e){this.deletable_=e}isMovable(){return this.movable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable_}setMovable(e){this.movable_=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(X(this,!0)):!0}isShadow(){return this.isShadow_}setShadow(e){this.isShadow_=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable_}setEditable(e){this.editable_=e;for(let s=0,r;r=this.inputList[s];s++)for(let d=0,v;v=r.fieldRow[d];d++)v.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||1<e.fieldRow.length)return!1;return!0}getMatchingConnection(e,s){const r=this.getConnections_(!0);if(e=e.getConnections_(!0),r.length!==e.length)throw Error("Connection lists did not match in length.");for(let d=0;d<e.length;d++)if(e[d]===s)return r[d];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return tu(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue_}setColour(e){e=ou(e),this.hue_=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.onchange=e,this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(let s=0,r;r=this.inputList[s];s++)for(let d=0,v;v=r.fieldRow[d];d++)if(v.name===e)return v;return null}getVars(){const e=[];for(let s=0,r;r=this.inputList[s];s++)for(let d=0,v;v=r.fieldRow[d];d++)v.referencesVariables()&&e.push(v.getValue());return e}getVarModels(){const e=[];for(let s=0,r;r=this.inputList[s];s++)for(let d=0,v;v=r.fieldRow[d];d++)if(v.referencesVariables()){const k=this.workspace.getVariableById(v.getValue());k&&e.push(k)}return e}updateVarName(e){for(let s=0,r;r=this.inputList[s];s++)for(let d=0,v;v=r.fieldRow[d];d++)v.referencesVariables()&&e.getId()===v.getValue()&&v.refreshVariableName()}renameVarById(e,s){for(let r=0,d;d=this.inputList[r];r++)for(let v=0,k;k=d.fieldRow[v];v++)k.referencesVariables()&&e===k.getValue()&&k.setValue(s)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,s){const r=this.getField(s);if(!r)throw Error('Field "'+s+'" not found.');r.setValue(e)}setPreviousStatement(e,s){if(e)s===void 0&&(s=null),this.previousConnection||(this.previousConnection=this.makeConnection_(It.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(s);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,s){if(e)s===void 0&&(s=null),this.nextConnection||(this.nextConnection=this.makeConnection_(It.NEXT_STATEMENT)),this.nextConnection.setCheck(s);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,s){if(e)s===void 0&&(s=null),this.outputConnection||(this.outputConnection=this.makeConnection_(It.OUTPUT_VALUE)),this.outputConnection.setCheck(s);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&($(new(M(o.CHANGE$$module$build$src$core$events$utils))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof Oi&&this.inputList[e]instanceof Oi)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof o.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof Oi)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof fr)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}get disabled(){return Vr("disabled","v11","v12","the isEnabled or hasDisabledReason methods of Block"),this.hasDisabledReason(Cs)}set disabled(e){Vr("disabled","v11","v12","the setDisabledReason method of Block"),this.setDisabledReason(e,Cs)}setEnabled(e){Vr("setEnabled","v11","v12","the setDisabledReason method of Block"),this.setDisabledReason(!e,Cs)}setDisabledReason(e,s){this.disabledReasons.has(s)!==e&&(e?this.disabledReasons.add(s):this.disabledReasons.delete(s),e=new(M(o.CHANGE$$module$build$src$core$events$utils))(this,"disabled",null,!e,e),e.setDisabledReason(s),$(e))}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(!e.isEnabled())return!0;e=e.getSurroundParent()}return!1}hasDisabledReason(e){return this.disabledReasons.has(e)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&($(new(M(o.CHANGE$$module$build$src$core$events$utils))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,s){s=this.toTokens(s);for(let d=2;d<s.length;d++)s[d-2]==="("&&s[d]===")"&&(s[d-2]=s[d-1],s.splice(d-1,2));let r="";return s=s.reduce((d,v)=>(d=d+(r==="("||v===")"?"":" ")+v,r=v[v.length-1],d),""),s=s.trim()||"???",e&&s.length>e&&(s=s.substring(0,e-3)+"..."),s}toTokens(e="?"){const s=[];for(const d of this.inputList)if(d.name!=gd){for(const v of d.fieldRow)s.push(v.getText());if(d.connection){const v=d.connection.targetBlock();if(v){var r=d.connection;let k=r.getCheck();!k&&r.targetConnection&&(k=r.targetConnection.getCheck()),(r=!!k&&(k.includes("Boolean")||k.includes("Number")))&&s.push("("),s.push(...v.toTokens(e)),r&&s.push(")")}else s.push(e)}}return s}appendValueInput(e){return this.appendInput(new o.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new gs(e,this))}appendDummyInput(e=""){return this.appendInput(new Oi(e,this))}appendEndRowInput(e=""){return this.appendInput(new fr(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,s){return(e=p(ut.INPUT,e,!1))?this.appendInput(new e(s,this)):null}jsonInit(e){var s=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(s+"Must not have both an output and a previousStatement.");for(var r=0;e["args"+r];){if(e["message"+r]===void 0)throw Error(s+`args${r} must have a corresponding message (message${r}).`);r++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(s+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle_(e,s):this.jsonInitColour_(e,s),r=0;e["message"+r]!==void 0;)this.interpolate_(e["message"+r],e["args"+r]||[],e["implicitAlign"+r]||e["lastDummyAlign"+r],s),r++;if(e.inputsInline!==void 0&&(o.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),o.enable$$module$build$src$core$events$utils()),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(r=Gn(e.tooltip),this.setTooltip(r)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(r=Gn(e.helpUrl),this.setHelpUrl(r)),typeof e.extensions=="string"&&(console.warn(s+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&Op(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(s=0;s<e.length;s++)Op(e[s],this,!1)}jsonInitColour_(e,s){if("colour"in e)if(e.colour===void 0)console.warn(s+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch{console.warn(s+"Illegal colour value: ",e)}}}jsonInitStyle_(e,s){e=e.style;try{this.setStyle(e)}catch{console.warn(s+"Style does not exist: ",e)}}mixin(e,s){if(s!==void 0&&typeof s!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!s){s=[];for(const r in e)this[r]!==void 0&&s.push(r);if(s.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(s))}Object.assign(this,e)}interpolate_(e,s,r,d){e=N$(e),this.validateTokens_(e,s.length),s=this.interpolateArguments_(e,s,r),r=[];for(let v=0,k;k=s[v];v++)if(this.isInputKeyword_(k.type)){if(e=this.inputFromJson_(k,d)){for(let Z=0,ge;ge=r[Z];Z++)e.appendField(ge[0],ge[1]);r.length=0}}else(e=this.fieldFromJson_(k))&&r.push([e,k.name])}validateTokens_(e,s){const r=[];let d=0;for(let v=0;v<e.length;v++){const k=e[v];if(typeof k=="number"){if(1>k||k>s)throw Error('Block "'+this.type+'": Message index %'+k+" out of range.");if(r[k])throw Error('Block "'+this.type+'": Message index %'+k+" duplicated.");r[k]=!0,d++}}if(d!==s)throw Error('Block "'+this.type+'": Message does not reference all '+s+" arg(s).")}interpolateArguments_(e,s,r){const d=[];for(let k=0;k<e.length;k++){var v=e[k];if(typeof v=="number"&&(v=s[v-1]),typeof v=="string"){if(v===`
`)v={type:"input_end_row"},r&&(v.align=r);else if(v=this.stringToFieldJson_(v),!v)continue}d.push(v)}return(e=d.length)&&!this.isInputKeyword_(d[e-1].type)&&(e={type:"input_dummy"},r&&(e.align=r),d.push(e)),d}fieldFromJson_(e){const s=o.fromJson$$module$build$src$core$field_registry(e);return!s&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):s}inputFromJson_(e,s){var r={LEFT:o.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:o.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:o.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:o.Align$$module$build$src$core$inputs$align.CENTRE};let d;switch(e.type){case"input_value":d=this.appendValueInput(e.name);break;case"input_statement":d=this.appendStatementInput(e.name);break;case"input_dummy":d=this.appendDummyInput(e.name);break;case"input_end_row":d=this.appendEndRowInput(e.name);break;default:d=this.appendInputFromRegistry(e.type,e.name)}return d?(e.check&&d.setCheck(e.check),e.align&&(r=r[e.align.toUpperCase()],r===void 0?console.warn(s+"Illegal align value: ",e.align):d.setAlign(r)),d):null}isInputKeyword_(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"||e==="input_end_row"||h(ut.INPUT,e)}stringToFieldJson_(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,s){if(e!==s){var r=-1,d=s?-1:this.inputList.length;for(let v=0,k;k=this.inputList[v];v++)if(k.name===e){if(r=v,d!==-1)break}else if(s&&k.name===s&&(d=v,r!==-1))break;if(r===-1)throw Error('Named input "'+e+'" not found.');if(d===-1)throw Error('Reference input "'+s+'" not found.');this.moveNumberedInputBefore(r,d)}}moveNumberedInputBefore(e,s){if(e===s)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(s>this.inputList.length)throw RangeError("Reference input "+s+" out of bounds.");const r=this.inputList[e];this.inputList.splice(e,1),e<s&&s--,this.inputList.splice(s,0,r)}removeInput(e,s){for(let r=0,d;d=this.inputList[r];r++)if(d.name===e)return d instanceof gs&&this.statementInputCount--,d.dispose(),this.inputList.splice(r,1),!0;if(s)return!1;throw Error("Input not found: "+e)}getInput(e){for(let s=0,r;r=this.inputList[s];s++)if(r.name===e)return r;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,s;return(s=(e=this.getIcon(Zn.COMMENT))==null?void 0:e.getText())!=null?s:null}setCommentText(e){var s;let r;const d=(r=(s=this.getIcon(Zn.COMMENT))==null?void 0:s.getText())!=null?r:null;if(d!==e){if(e!==null){if(s=this.getIcon(Zn.COMMENT),!s){if(s=p(ut.ICON,Zn.COMMENT.toString(),!1),!s)throw Error("No comment icon class is registered, so a comment cannot be set");if(s=new s(this),!IC(s))throw Error("The class registered as a comment icon does not conform to the ICommentIcon interface");s=this.addIcon(s)}o.disable$$module$build$src$core$events$utils(),s.setText(e),o.enable$$module$build$src$core$events$utils()}else this.removeIcon(Zn.COMMENT);$(new(M(o.CHANGE$$module$build$src$core$events$utils))(this,"comment",null,d,e))}}setWarningText(e,s){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new lw(e);return this.icons.push(e),this.icons.sort((s,r)=>s.getWeight()-r.getWeight()),e}removeIcon(e){if(!this.hasIcon(e))return!1;let s;return(s=this.getIcon(e))==null||s.dispose(),this.icons=this.icons.filter(r=>!r.getType().equals(e)),!0}hasIcon(e){return this.icons.some(s=>s.getType().equals(e))}getIcon(e){return e instanceof Zn?this.icons.find(s=>s.getType().equals(e)):this.icons.find(s=>s.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy_}moveBy(e,s,r){if(this.parentBlock_)throw Error("Block has parent");const d=new(M(o.MOVE$$module$build$src$core$events$utils))(this);r&&d.setReason(r),this.xy_.translate(e,s),d.recordNew(),$(d)}makeConnection_(e){return new hn(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let r=0,d;d=this.inputList[r];r++)if(d.connection){var s=d.connection.targetBlock();if(!s||!s.allInputsFilled(e))return!1}return(s=this.getNextBlock())?s.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};aa.COLLAPSED_INPUT_NAME=gd,aa.COLLAPSED_FIELD_NAME=Jp;var Os=class{constructor(e,s,r,d){this.workspace=e,this.targetWorkspace=s,this.isFlyoutLabel=d,this.onMouseUpWrapper=null,this.height=this.width=0,this.cursorSvg=this.svgText=this.svgGroup=null,this.text=r.text,this.position=new ht(0,0),this.callbackKey=r.callbackKey||r.callbackkey,this.cssClass=r["web-class"]||null,this.info=r}createDom(){var e=this.isFlyoutLabel?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass&&(e+=" "+this.cssClass),this.svgGroup=ue(xe.G,{class:e},this.workspace.getCanvas());let s;this.isFlyoutLabel||(s=ue(xe.RECT,{class:"blocklyFlyoutButtonShadow",rx:Os.BORDER_RADIUS,ry:Os.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=ue(xe.RECT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Os.BORDER_RADIUS,ry:Os.BORDER_RADIUS},this.svgGroup);const r=ue(xe.TEXT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup);var d=Gn(this.text);this.workspace.RTL&&(d+="‏"),r.textContent=d,this.isFlyoutLabel&&(this.svgText=r,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill"));const v=re(r,"fontSize"),k=re(r,"fontWeight"),Z=re(r,"fontFamily");if(this.width=Ye(r,v,k,Z),d=L(d,v,k,Z),this.height=d.height,!this.isFlyoutLabel){this.width+=2*Os.TEXT_MARGIN_X,this.height+=2*Os.TEXT_MARGIN_Y;let ge;(ge=s)==null||ge.setAttribute("width",String(this.width));let Xe;(Xe=s)==null||Xe.setAttribute("height",String(this.height))}return e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),r.setAttribute("x",String(this.width/2)),r.setAttribute("y",String(this.height/2-d.height/2+d.baseline)),this.updateTransform(),this.onMouseUpWrapper=ve(this.svgGroup,"pointerup",this,this.onMouseUp),this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,s){this.position.x=e,this.position.y=s,this.updateTransform()}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){this.onMouseUpWrapper&&Fe(this.onMouseUpWrapper),this.svgGroup&&q(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(e){e?this.svgGroup&&(this.svgGroup.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(){throw Error("Attempted to set a marker on a button.")}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isFlyoutLabel&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isFlyoutLabel||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}};Os.TEXT_MARGIN_X=5,Os.TEXT_MARGIN_Y=2,Os.BORDER_RADIUS=4,Ne(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var nt=class{constructor(e,s,r){if(this.wsCoordinate=null,!s)throw Error("Cannot create a node without a location.");this.type=e,this.isConnectionLocation=nt.isConnectionType(e),this.location=s,this.processParams(r||null)}processParams(e){e&&e.wsCoordinate&&(this.wsCoordinate=e.wsCoordinate)}getLocation(){return this.location}getType(){return this.type}getWsCoordinate(){return this.wsCoordinate}isConnection(){return this.isConnectionLocation}findNextForInput(){var e=this.location.getParentInput();const s=e.getSourceBlock();for(e=s.inputList.indexOf(e),e+=1;e<s.inputList.length;e++){const r=s.inputList[e],d=r.fieldRow;for(let v=0;v<d.length;v++){const k=d[v];if(k.isClickable()||nt.NAVIGATE_ALL_FIELDS)return nt.createFieldNode(k)}if(r.connection)return nt.createInputNode(r)}return null}findNextForField(){var e=this.location,s=e.getParentInput();const r=e.getSourceBlock();if(!r)throw Error("The current AST location is not associated with a block");var d=r.inputList.indexOf(s);for(e=s.fieldRow.indexOf(e)+1;d<r.inputList.length;d++){s=r.inputList[d];const v=s.fieldRow;for(;e<v.length;){if(v[e].isClickable()||nt.NAVIGATE_ALL_FIELDS)return nt.createFieldNode(v[e]);e++}if(e=0,s.connection)return nt.createInputNode(s)}return null}findPrevForInput(){const e=this.location.getParentInput(),s=e.getSourceBlock();for(var r=s.inputList.indexOf(e);0<=r;r--){var d=s.inputList[r];if(d.connection&&d!==e)return nt.createInputNode(d);d=d.fieldRow;for(let v=d.length-1;0<=v;v--){const k=d[v];if(k.isClickable()||nt.NAVIGATE_ALL_FIELDS)return nt.createFieldNode(k)}}return null}findPrevForField(){var e=this.location;const s=e.getParentInput(),r=e.getSourceBlock();if(!r)throw Error("The current AST location is not associated with a block");var d=r.inputList.indexOf(s);for(e=s.fieldRow.indexOf(e)-1;0<=d;d--){var v=r.inputList[d];if(v.connection&&v!==s)return nt.createInputNode(v);for(v=v.fieldRow;-1<e;){if(v[e].isClickable()||nt.NAVIGATE_ALL_FIELDS)return nt.createFieldNode(v[e]);e--}0<=d-1&&(e=r.inputList[d-1].fieldRow.length-1)}return null}navigateBetweenStacks(e){var s=this.getLocation();if(s.getSourceBlock){var r=s.getSourceBlock();r&&(s=r)}if(!s||s.isDeadOrDying())return null;if(s.workspace.isFlyout)return this.navigateFlyoutContents(e);r=s.getRootBlock(),s=r.workspace.getTopBlocks(!0);for(let d=0;d<s.length;d++)if(r.id===s[d].id)return e=d+(e?1:-1),e===-1||e===s.length?null:nt.createStackNode(s[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")}navigateFlyoutContents(e){let s;switch(this.getType()){case nt.types.STACK:s=this.getLocation();var r=s.workspace.targetWorkspace;break;case nt.types.BUTTON:s=this.getLocation(),r=s.getTargetWorkspace();break;default:return null}return r=r.getFlyout(),r&&(e=this.findNextLocationInFlyout(r.getContents(),s,e))?e.type==="button"&&e.button?nt.createButtonNode(e.button):e.type==="block"&&e.block?nt.createStackNode(e.block):null:null}findNextLocationInFlyout(e,s,r){const d=e.findIndex(v=>s instanceof aa&&v.block===s||s instanceof Os&&v.button===s);return 0>d?null:(r=r?d+1:d-1,r===-1||r===e.length?null:e[r])}findTopASTNodeForBlock(e){const s=id(e);return s?nt.createConnectionNode(s):nt.createBlockNode(e)}getOutAstNodeForBlock(e){if(!e)return null;e=e.getTopStackBlock();const s=id(e);return s&&s.targetConnection&&s.targetConnection.getParentInput()?nt.createInputNode(s.targetConnection.getParentInput()):nt.createStackNode(e)}findFirstFieldOrInput(e){e=e.inputList;for(let s=0;s<e.length;s++){const r=e[s],d=r.fieldRow;for(let v=0;v<d.length;v++){const k=d[v];if(k.isClickable()||nt.NAVIGATE_ALL_FIELDS)return nt.createFieldNode(k)}if(r.connection)return nt.createInputNode(r)}return null}getSourceBlock(){return this.getType()===nt.types.BLOCK?this.getLocation():this.getType()===nt.types.STACK?this.getLocation():this.getType()===nt.types.WORKSPACE||this.getType()===nt.types.BUTTON?null:this.getLocation().getSourceBlock()}next(){switch(this.type){case nt.types.STACK:return this.navigateBetweenStacks(!0);case nt.types.OUTPUT:return nt.createBlockNode(this.location.getSourceBlock());case nt.types.FIELD:return this.findNextForField();case nt.types.INPUT:return this.findNextForInput();case nt.types.BLOCK:const e=this.location.nextConnection;if(!e)break;return nt.createConnectionNode(e);case nt.types.PREVIOUS:return nt.createBlockNode(this.location.getSourceBlock());case nt.types.NEXT:return nt.createConnectionNode(this.location.targetConnection);case nt.types.BUTTON:return this.navigateFlyoutContents(!0)}return null}in(){switch(this.type){case nt.types.WORKSPACE:const e=this.location.getTopBlocks(!0);if(0<e.length)return nt.createStackNode(e[0]);break;case nt.types.STACK:return this.findTopASTNodeForBlock(this.location);case nt.types.BLOCK:return this.findFirstFieldOrInput(this.location);case nt.types.INPUT:return nt.createConnectionNode(this.location.targetConnection)}return null}prev(){switch(this.type){case nt.types.STACK:return this.navigateBetweenStacks(!1);case nt.types.FIELD:return this.findPrevForField();case nt.types.INPUT:return this.findPrevForInput();case nt.types.BLOCK:var e=id(this.location);if(!e)break;return nt.createConnectionNode(e);case nt.types.PREVIOUS:if((e=this.location.targetConnection)&&!e.getParentInput())return nt.createConnectionNode(e);break;case nt.types.NEXT:return nt.createBlockNode(this.location.getSourceBlock());case nt.types.BUTTON:return this.navigateFlyoutContents(!1)}return null}out(){switch(this.type){case nt.types.STACK:var e=this.location,s=e.getRelativeToSurfaceXY();return s=new ht(s.x,s.y+nt.DEFAULT_OFFSET_Y),nt.createWorkspaceNode(e.workspace,s);case nt.types.OUTPUT:return e=this.location,(s=e.targetConnection)?nt.createConnectionNode(s):nt.createStackNode(e.getSourceBlock());case nt.types.FIELD:if(e=this.location.getSourceBlock(),!e)throw Error("The current AST location is not associated with a block");return nt.createBlockNode(e);case nt.types.INPUT:return nt.createBlockNode(this.location.getSourceBlock());case nt.types.BLOCK:return this.getOutAstNodeForBlock(this.location);case nt.types.PREVIOUS:return this.getOutAstNodeForBlock(this.location.getSourceBlock());case nt.types.NEXT:return this.getOutAstNodeForBlock(this.location.getSourceBlock())}return null}static isConnectionType(e){switch(e){case nt.types.PREVIOUS:case nt.types.NEXT:case nt.types.INPUT:case nt.types.OUTPUT:return!0}return!1}static createFieldNode(e){return e?new nt(nt.types.FIELD,e):null}static createConnectionNode(e){if(!e)return null;const s=e.type;return s===It.INPUT_VALUE||s===It.NEXT_STATEMENT&&e.getParentInput()?nt.createInputNode(e.getParentInput()):s===It.NEXT_STATEMENT?new nt(nt.types.NEXT,e):s===It.OUTPUT_VALUE?new nt(nt.types.OUTPUT,e):s===It.PREVIOUS_STATEMENT?new nt(nt.types.PREVIOUS,e):null}static createInputNode(e){return e&&e.connection?new nt(nt.types.INPUT,e.connection):null}static createBlockNode(e){return e?new nt(nt.types.BLOCK,e):null}static createStackNode(e){return e?new nt(nt.types.STACK,e):null}static createButtonNode(e){return e?new nt(nt.types.BUTTON,e):null}static createWorkspaceNode(e,s){return s&&e?new nt(nt.types.WORKSPACE,e,{wsCoordinate:s}):null}static createTopNode(e){const s=id(e);return s?nt.createConnectionNode(s):nt.createBlockNode(e)}};nt.NAVIGATE_ALL_FIELDS=!1,nt.DEFAULT_OFFSET_Y=-20,function(e){e=e.types||(e.types={}),e.FIELD="field",e.BLOCK="block",e.INPUT="input",e.OUTPUT="output",e.NEXT="next",e.PREVIOUS="previous",e.STACK="stack",e.WORKSPACE="workspace",e.BUTTON="button"}(nt||(nt={}));var G_=class extends Ci{constructor(e,s,r,d){let v=e?e.workspace.id:void 0;d&&d.getType()===nt.types.WORKSPACE&&(v=d.getLocation().id),super(v),this.type=hu,this.blockId=e==null?void 0:e.id,this.oldNode=r||void 0,this.newNode=d,this.isCursor=s}toJson(){const e=super.toJson();if(this.isCursor===void 0)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new G_),s.isCursor=e.isCursor,s.blockId=e.blockId,s.oldNode=e.oldNode,s.newNode=e.newNode,s}};i(ut.EVENT,hu,G_);var Mx="blocklyCursor",Dx="blocklyMarker",Px=.75,W_=class{constructor(e,s,r){this.workspace=e,this.marker=r,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent=null,this.constants_=s,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=r.colour||e}getSvgRoot(){return this.svgGroup_}getMarker(){return this.marker}isCursor(){return this.marker.type==="cursor"}createDom(){const e=this.isCursor()?Mx:Dx;return this.svgGroup_=ue(xe.G,{class:e}),this.createDomInternal_(),this.svgGroup_}setParent_(e){this.isCursor()?(this.parent&&this.parent.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent&&this.parent.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent=e}draw(e,s){if(s){this.constants_=this.workspace.getRenderer().getConstants();var r=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||r,this.applyColour_(s),this.showAtLocation_(s),this.fireMarkerEvent(e,s),e=this.currentMarkerSvg.childNodes[0],e!==void 0&&e.beginElement&&e.beginElement()}else this.hide()}showAtLocation_(e){const s=e.getLocation().type;e.getType()===nt.types.BLOCK?this.showWithBlock_(e):e.getType()===nt.types.OUTPUT?this.showWithOutput_(e):s===It.INPUT_VALUE?this.showWithInput_(e):s===It.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===nt.types.PREVIOUS?this.showWithPrevious_(e):e.getType()===nt.types.FIELD?this.showWithField_(e):e.getType()===nt.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===nt.types.STACK?this.showWithStack_(e):e.getType()===nt.types.BUTTON&&this.showWithButton_(e)}showWithBlockPrevOutput(e){e=e.getSourceBlock();const s=e.width;var r=e.height,d=r*Px;const v=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(r=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(s,v,d,r)):e.outputConnection?(d=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(s,r,d)):this.positionBlock_(s,v,d),this.setParent_(e),this.showCurrent_()}showWithBlock_(e){this.showWithBlockPrevOutput(e)}showWithPrevious_(e){this.showWithBlockPrevOutput(e)}showWithOutput_(e){this.showWithBlockPrevOutput(e)}showWithCoordinates_(e){var s=e.getWsCoordinate();e=s.x,s=s.y,this.workspace.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,s,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}showWithField_(e){e=e.getLocation();const s=e.getSize().width,r=e.getSize().height;this.positionRect_(0,0,s,r),this.setParent_(e),this.showCurrent_()}showWithInput_(e){e=e.getLocation();const s=e.getSourceBlock();this.positionInput_(e),this.setParent_(s),this.showCurrent_()}showWithNext_(e){var s=e.getLocation();e=s.getSourceBlock();let r=0;s=s.getOffsetInBlock().y;const d=e.getHeightWidth().width;this.workspace.RTL&&(r=-d),this.positionLine_(r,s,d),this.setParent_(e),this.showCurrent_()}showWithStack_(e){e=e.getLocation();var s=e.getHeightWidth();const r=s.width+this.constants_.CURSOR_STACK_PADDING;s=s.height+this.constants_.CURSOR_STACK_PADDING;const d=-this.constants_.CURSOR_STACK_PADDING/2,v=-this.constants_.CURSOR_STACK_PADDING/2;let k=d;this.workspace.RTL&&(k=-(r+d)),this.positionRect_(k,v,r,s),this.setParent_(e),this.showCurrent_()}showWithButton_(e){e=e.getLocation();const s=e.width+this.constants_.CURSOR_STACK_PADDING,r=e.height+this.constants_.CURSOR_STACK_PADDING,d=-this.constants_.CURSOR_STACK_PADDING/2,v=-this.constants_.CURSOR_STACK_PADDING/2;let k=d;this.workspace.RTL&&(k=-(s+d)),this.positionRect_(k,v,s,r),this.setParent_(e),this.showCurrent_()}showCurrent_(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}positionBlock_(e,s,r){if(e=Ln(-s,r)+wt("V",-s)+wt("H",e+2*s)+wt("V",r),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionInput_(e){const s=e.getOffsetInBlock().x,r=e.getOffsetInBlock().y;e=to(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+s+","+r+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}positionLine_(e,s,r){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",`${e}`),this.markerSvgLine_.setAttribute("y",`${s}`),this.markerSvgLine_.setAttribute("width",`${r}`),this.currentMarkerSvg=this.markerSvgLine_}positionOutput_(e,s,r){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");e=Ln(e,0)+wt("h",-(e-r.width))+wt("v",this.constants_.TAB_OFFSET_FROM_TOP)+r.pathDown+wt("V",s)+wt("H",e),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionPrevious_(e,s,r,d){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");e=Ln(-s,r)+wt("V",-s)+wt("H",this.constants_.NOTCH_OFFSET_LEFT)+d.pathLeft+wt("H",e+2*s)+wt("V",r),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionRect_(e,s,r,d){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",`${e}`),this.markerSvgRect_.setAttribute("y",`${s}`),this.markerSvgRect_.setAttribute("width",`${r}`),this.markerSvgRect_.setAttribute("height",`${d}`),this.currentMarkerSvg=this.markerSvgRect_}flipRtl(e){e.setAttribute("transform","scale(-1 1)")}hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}fireMarkerEvent(e,s){const r=s.getSourceBlock();e=new(M(hu))(r,this.isCursor(),e,s),$(e)}getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}createDomInternal_(){if(this.markerSvg_=ue(xe.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=ue(xe.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.markerSvg_),this.markerSvgRect_=ue(xe.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10},this.markerSvg_),this.markerInput_=ue(xe.PATH,{transform:""},this.markerSvg_),this.markerBlock_=ue(xe.PATH,{transform:"",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();ue(xe.ANIMATE,e,this.markerSvgLine_),ue(xe.ANIMATE,e,this.markerInput_),ue(xe.ANIMATE,Object.assign({},e,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}applyColour_(e){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",e),this.markerInput_.firstElementChild.setAttribute("values",e),this.markerBlock_.firstElementChild.setAttribute("values",e))}dispose(){this.svgGroup_&&q(this.svgGroup_)}},Ef=class{constructor(e,s,r){this.markerSvg=this.cursorSvg=null,this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=r,this.style=s,this.svgRoot=e,this.svgPath=ue(xe.PATH,{class:"blocklyPath"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}setCursorSvg(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,s){e&&(s?Ie(this.svgRoot,e):Ue(this.svgRoot,e))}updateHighlighted(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}updateShadow_(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}updateDisabled_(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,s){}addConnectionHighlight(e,s,r,d){if(this.connectionHighlights.has(e)){if(this.currentHighlightMatchesNew(e,s,r))return;this.removeConnectionHighlight(e)}s=ue(xe.PATH,{class:"blocklyHighlightedConnectionPath",d:s,transform:`translate(${r.x}, ${r.y})`+(d?" scale(-1 1)":"")},this.svgRoot),this.connectionHighlights.set(e,s)}currentHighlightMatchesNew(e,s,r){let d;const v=(d=this.connectionHighlights.get(e))==null?void 0:d.getAttribute("d");return e=this.highlightOffsets.get(e),v===s&&ht.equals(e,r)}removeConnectionHighlight(e){const s=this.connectionHighlights.get(e);s&&(q(s),this.connectionHighlights.delete(e))}},Rs=class{constructor(e){this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,o.setSelected$$module$build$src$core$common(e),this.topBlock=e,this.workspace=e.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections(),this.lastOnStack&&(this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock()))}dispose(){this.availableConnections.length=0,this.disposeInsertionMarker(this.firstMarker),this.disposeInsertionMarker(this.lastMarker)}updateAvailableConnections(){this.availableConnections=this.initAvailableConnections()}wouldConnectBlock(){return!!this.activeCandidate}applyConnections(){if(this.activeCandidate){o.disable$$module$build$src$core$events$utils(),this.hidePreview(),o.enable$$module$build$src$core$events$utils();var{local:e,closest:s}=this.activeCandidate;e.connect(s);var r=e.isSuperior()?s:e,d=this.topBlock.getRootBlock();vi().then(()=>{wp(r.getSourceBlock()),setTimeout(()=>{d.bringToFront()},0)})}}update(e,s){const r=this.getCandidate(e);((this.wouldDeleteBlock=this.shouldDelete(!!r,s))||this.shouldUpdatePreviews(r,e))&&(o.disable$$module$build$src$core$events$utils(),this.maybeHidePreview(r),this.maybeShowPreview(r),o.enable$$module$build$src$core$events$utils())}createMarkerBlock(e){o.disable$$module$build$src$core$events$utils();let s;try{const r=ds(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!r)throw Error(`Failed to serialize source block. ${e.toDevString()}`);s=qi(r,this.workspace);for(const d of s.getDescendants(!1))d.setInsertionMarker(!0);s.initSvg(),s.getSvgRoot().setAttribute("visibility","hidden")}finally{o.enable$$module$build$src$core$events$utils()}return s}initAvailableConnections(){const e=this.topBlock.getConnections_(!1),s=this.topBlock.lastConnectionInStack(!0);return s&&s!==this.topBlock.nextConnection&&(e.push(s),this.lastOnStack=s),e}shouldUpdatePreviews(e,s){if(!e)return!!this.activeCandidate;if(!this.activeCandidate)return!0;const{local:r,closest:d}=this.activeCandidate;if(d===e.closest&&r===e.local)return!1;const v=r.x+s.x-d.x;return s=r.y+s.y-d.y,e.radius<Math.sqrt(v*v+s*s)-o.config$$module$build$src$core$config.currentConnectionPreference}getCandidate(e){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();let s=this.getStartRadius(),r=null;for(let d=0;d<this.availableConnections.length;d++){const v=this.availableConnections[d],k=v.closest(s,e);k.connection&&(r={closest:k.connection,local:v,radius:k.radius},s=k.radius)}return r}getStartRadius(){return this.activeCandidate?o.config$$module$build$src$core$config.connectingSnapRadius:o.config$$module$build$src$core$config.snapRadius}shouldDelete(e,s){return s&&this.workspace.getComponentManager().hasCapability(s.id,no.Capability.DELETE_AREA)?s.wouldDelete(this.topBlock):!1}maybeShowPreview(e){if(!this.wouldDeleteBlock&&e){var s=e.closest,r;s===((r=this.activeCandidate)==null?void 0:r.closest)||s.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=e,this.showPreview(this.activeCandidate))}}showPreview(e){const s=this.workspace.getRenderer();switch(s.getConnectionPreviewMethod(e.closest,e.local,this.topBlock)){case Rs.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(e);break;case Rs.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(e);break;case Rs.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(e)}s.shouldHighlightConnection(e.closest)&&e.closest.highlight()}maybeHidePreview(e){if(!e)this.hidePreview();else if(this.activeCandidate){const s=this.activeCandidate.local!==e.local;(this.activeCandidate.closest!==e.closest||s||this.wouldDeleteBlock)&&this.hidePreview()}this.activeCandidate=this.markerConnection=null}hidePreview(){let e;const s=(e=this.activeCandidate)==null?void 0:e.closest;s&&s.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(s)&&s.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}showInsertionMarker(e){const{local:s,closest:r}=e;let d=(e=this.lastOnStack&&s===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!d)throw Error("Cannot show the insertion marker because there is no insertion marker block");let v;try{v=d.getMatchingConnection(s.getSourceBlock(),s)}catch{if(e&&this.lastOnStack?(this.disposeInsertionMarker(this.lastMarker),d=this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock())):(this.disposeInsertionMarker(this.firstMarker),d=this.firstMarker=this.createMarkerBlock(this.topBlock)),!d)throw Error("Cannot show the insertion marker because there is no insertion marker block");v=d.getMatchingConnection(s.getSourceBlock(),s)}if(!v)throw Error("Cannot show the insertion marker because there is no associated connection");if(v===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");d.queueRender(),ji(),v.connect(r);const k={x:r.x-v.x,y:r.y-v.y},Z=v.getOffsetInBlock().clone(),ge=v;vi().then(()=>{let Xe;(Xe=d)==null||Xe.positionNearConnection(ge,k,Z);let Ct;(Ct=d)==null||Ct.getSvgRoot().setAttribute("visibility","visible")}),this.markerConnection=v}hideInsertionMarker(){if(this.markerConnection){var e=this.markerConnection,s=e.getSourceBlock(),r=s.outputConnection,d;if((d=s.previousConnection)!=null&&d.targetConnection||r!=null&&r.targetConnection)s.unplug(!0);else{let v;(v=e.targetBlock())==null||v.unplug(!1)}if(e.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(e=s.getSvgRoot())&&e.setAttribute("visibility","hidden")}}showInsertionInputOutline(e){e=e.closest,this.highlightedBlock=e.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(e,!0)}hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}showReplacementFade(e){if(this.fadedBlock=e.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}getInsertionMarkers(){const e=[];return this.firstMarker&&e.push(this.firstMarker),this.lastMarker&&e.push(this.lastMarker),e}disposeInsertionMarker(e){if(e){o.disable$$module$build$src$core$events$utils();try{e.dispose()}finally{o.enable$$module$build$src$core$events$utils()}}}};(function(e){e=e.PREVIEW_TYPE||(e.PREVIEW_TYPE={}),e[e.INSERTION_MARKER=0]="INSERTION_MARKER",e[e.INPUT_OUTLINE=1]="INPUT_OUTLINE",e[e.REPLACEMENT_FADE=2]="REPLACEMENT_FADE"})(Rs||(Rs={})),Rs.PREVIEW_TYPE;var Sf=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,s){this.constants_=this.makeConstants_(),s&&(this.overrides=s,Object.assign(this.constants_,s)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,s){this.constants_.createDom(e,this.name+"-"+s.name,"."+this.getClassName()+"."+s.getClassName())}refreshDom(e,s){const r=this.getConstants();r.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=r.randomIdentifier,this.constants_.setTheme(s),this.constants_.init(),this.createDom(e,s)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new Tf}makeRenderInfo_(e){return new Nd(this,e)}makeDrawer_(e,s){return new yf(e,s)}makeMarkerDrawer(e,s){return new W_(e,this.getConstants(),s)}makePathObject(e,s){return new Ef(e,s,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,s,r){return!!hn.getConnectionForOrphanedConnection(e,r===It.OUTPUT_VALUE?s.outputConnection:s.previousConnection)}getConnectionPreviewMethod(e,s,r){return Vr("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),s.type===It.OUTPUT_VALUE||s.type===It.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(r,e.targetBlock(),s.type)?Rs.PREVIEW_TYPE.INSERTION_MARKER:Rs.PREVIEW_TYPE.REPLACEMENT_FADE:Rs.PREVIEW_TYPE.INSERTION_MARKER}render(e){const s=this.makeRenderInfo_(e);s.measure(),this.makeDrawer_(e,s).draw()}},gn={};gn.BottomRow=P_,gn.Connection=pr,gn.ConstantProvider=Tf,gn.Drawer=yf,gn.ExternalValueInput=bf,gn.Field=Mu,gn.Hat=x_,gn.Icon=uw,gn.InRowSpacer=ms,gn.InlineInput=B_,gn.InputConnection=qr,gn.InputRow=F_,gn.JaggedEdge=cw,gn.MarkerSvg=W_,gn.Measurable=ki,gn.NextConnection=dw,gn.OutputConnection=hw,gn.PathObject=Ef,gn.PreviousConnection=pw,gn.RenderInfo=Nd,gn.Renderer=Sf,gn.RoundCorner=Ld,gn.Row=Od,gn.SpacerRow=H_,gn.SquareCorner=Ad,gn.StatementInput=Rd,gn.TopRow=V_,gn.Types=Oe,gn.init=lv,gn.register=rd,gn.unregister=wC;var mw=class{constructor(e,s){this.workspace=e,this.theme=s,this.subscribedWorkspaces_=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var s=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(s&&(s=s.getClassName())&&Ue(e,s),(s=this.theme.getClassName())&&Ie(e,s));for(let r=0,d;d=this.subscribedWorkspaces_[r];r++)d.refreshTheme();for(const[r,d]of this.componentDB)for(const v of d){e=v.element,s=v.propertyName;const k=this.theme&&this.theme.getComponentStyle(r);e.style.setProperty(s,k||"")}for(const r of this.subscribedWorkspaces_)r.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces_.push(e)}unsubscribeWorkspace(e){if(!Ee(this.subscribedWorkspaces_,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,s,r){this.componentDB.has(s)||this.componentDB.set(s,[]),this.componentDB.get(s).push({element:e,propertyName:r}),s=this.theme&&this.theme.getComponentStyle(s),e.style.setProperty(r,s||"")}unsubscribe(e){if(e)for(const[s,r]of this.componentDB){for(let d=r.length-1;0<=d;d--)r[d].element===e&&r.splice(d,1);r.length||this.componentDB.delete(s)}}dispose(){this.subscribedWorkspaces_.length=0,this.componentDB.clear()}},z_="VARIABLE_DYNAMIC",ua={CATEGORY_NAME:z_};ua.flyoutCategory=Dp,ua.flyoutCategoryBlocks=dv,ua.onCreateVariableButtonClick_Colour=cv,ua.onCreateVariableButtonClick_Number=uv,ua.onCreateVariableButtonClick_String=av;var gw=30,ca=[];ca[It.INPUT_VALUE]=It.OUTPUT_VALUE,ca[It.OUTPUT_VALUE]=It.INPUT_VALUE,ca[It.NEXT_STATEMENT]=It.PREVIOUS_STATEMENT,ca[It.PREVIOUS_STATEMENT]=It.NEXT_STATEMENT;var K_="RENAME_VARIABLE_ID",X_="DELETE_VARIABLE_ID",$w=class{canConnect(e,s,r,d){return this.canConnectWithReason(e,s,r,d)===hn.CAN_CONNECT}canConnectWithReason(e,s,r,d){const v=this.doSafetyChecks(e,s);return v!==hn.CAN_CONNECT?v:this.doTypeChecks(e,s)?r&&!this.doDragChecks(e,s,d||0)?hn.REASON_DRAG_CHECKS_FAILED:hn.CAN_CONNECT:hn.REASON_CHECKS_FAILED}getErrorMessage(e,s,r){switch(e){case hn.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case hn.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case hn.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case hn.REASON_TARGET_NULL:return"Target connection is null.";case hn.REASON_CHECKS_FAILED:return"Connection checks failed. "+(s+" expected "+s.getCheck()+", found "+r.getCheck());case hn.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case hn.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case hn.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,s){if(!e||!s)return hn.REASON_TARGET_NULL;let r,d,v;return e.isSuperior()?(r=e.getSourceBlock(),d=s.getSourceBlock(),v=s):(d=e.getSourceBlock(),r=s.getSourceBlock(),v=e,e=s),r===d?hn.REASON_SELF_CONNECTION:v.type!==ca[e.type]?hn.REASON_WRONG_TYPE:r.workspace!==d.workspace?hn.REASON_DIFFERENT_WORKSPACES:r.isShadow()&&!d.isShadow()?hn.REASON_SHADOW_PARENT:v.type===It.OUTPUT_VALUE&&d.previousConnection&&d.previousConnection.isConnected()||v.type===It.PREVIOUS_STATEMENT&&d.outputConnection&&d.outputConnection.isConnected()?hn.REASON_PREVIOUS_AND_OUTPUT:hn.CAN_CONNECT}doTypeChecks(e,s){if(e=e.getCheck(),s=s.getCheck(),!e||!s)return!0;for(let r=0;r<e.length;r++)if(s.includes(e[r]))return!0;return!1}doDragChecks(e,s,r){if(e.distanceFrom(s)>r||s.getSourceBlock().isInsertionMarker())return!1;switch(s.type){case It.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,s);case It.OUTPUT_VALUE:if(s.isConnected()&&!s.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case It.INPUT_VALUE:if(s.isConnected()&&!s.targetBlock().isMovable()&&!s.targetBlock().isShadow())return!1;break;case It.NEXT_STATEMENT:if(s.isConnected()&&!e.getSourceBlock().nextConnection&&!s.targetBlock().isShadow()&&s.targetBlock().nextConnection||s.targetBlock()&&!s.targetBlock().isMovable()&&!s.targetBlock().isShadow())return!1;break;default:return!1}return!dd.includes(s)}canConnectToPrevious_(e,s){return e.targetConnection||dd.includes(s)?!1:s.targetConnection?(e=s.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};i(ut.CONNECTION_CHECKER,Ei,$w);var Y_=class extends $d{constructor(e){super(e),this.type=Gl,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new Y_),s.varType=e.varType,s.varName=e.varName,s}run(e){const s=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?s.deleteVariableById(this.varId):s.createVariable(this.varName,this.varType,this.varId)}};i(ut.EVENT,Gl,Y_);var j_=class extends $d{constructor(e,s){super(e),this.type=cu,e&&(this.oldName=e.name,this.newName=typeof s>"u"?"":s)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new j_),s.oldName=e.oldName,s.newName=e.newName,s}run(e){const s=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");e?s.renameVariableById(this.varId,this.newName):s.renameVariableById(this.varId,this.oldName)}};i(ut.EVENT,cu,j_);var q_=class{constructor(e){this.workspace=e,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(;0<e.length;)this.deleteVariable(e[0]);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,s){if(e.name!==s){var r=this.getVariable(s,e.type),d=this.workspace.getAllBlocks(!1),v=o.getGroup$$module$build$src$core$events$utils();v||o.setGroup$$module$build$src$core$events$utils(!0);try{r&&r.getId()!==e.getId()?this.renameVariableWithConflict_(e,s,r,d):this.renameVariableAndUses_(e,s,d)}finally{o.setGroup$$module$build$src$core$events$utils(v)}}}renameVariableById(e,s){const r=this.getVariableById(e);if(!r)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(r,s)}renameVariableAndUses_(e,s,r){for($(new(M(cu))(e,s)),e.name=s,s=0;s<r.length;s++)r[s].updateVarName(e)}renameVariableWithConflict_(e,s,r,d){const v=e.type;for(s!==r.name&&this.renameVariableAndUses_(r,s,d),s=0;s<d.length;s++)d[s].renameVarById(e.getId(),r.getId());$(new(M(Gl))(e)),Ee(this.variableMap.get(v),e)}createVariable(e,s,r){var d=this.getVariable(e,s);if(d){if(r&&d.getId()!==r)throw Error('Variable "'+e+'" is already in use and its id is "'+d.getId()+'" which conflicts with the passed in id, "'+r+'".');return d}if(r&&this.getVariableById(r))throw Error('Variable id, "'+r+'", is already in use.');return d=r||b(),s=s||"",d=new vd(this.workspace,e,s,d),e=this.variableMap.get(s)||[],e.push(d),this.variableMap.delete(s),this.variableMap.set(s,e),$(new(M(er))(d)),d}deleteVariable(e){const s=e.getId(),r=this.variableMap.get(e.type);if(r){for(let d=0;d<r.length;d++)if(r[d].getId()===s){r.splice(d,1),$(new(M(Gl))(e)),r.length===0&&this.variableMap.delete(e.type);break}}}deleteVariableById(e){const s=this.getVariableById(e);if(s){var r=s.name;const d=this.getVariableUsesById(e);for(let v=0,k;k=d[v];v++)if(k.type==="procedures_defnoreturn"||k.type==="procedures_defreturn"){e=String(k.getFieldValue("NAME")),r=o.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",r).replace("%2",e),vo(r);return}1<d.length?(r=o.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",r),Zs(r,v=>{v&&s&&this.deleteVariableInternal(s,d)})):this.deleteVariableInternal(s,d)}else console.warn("Can't delete non-existent variable: "+e)}deleteVariableInternal(e,s){const r=o.getGroup$$module$build$src$core$events$utils();r||o.setGroup$$module$build$src$core$events$utils(!0);try{for(let d=0;d<s.length;d++)s[d].dispose(!0);this.deleteVariable(e)}finally{o.setGroup$$module$build$src$core$events$utils(r)}}getVariable(e,s){if(s=this.variableMap.get(s||"")){for(let r=0,d;d=s[r];r++)if(o.Names$$module$build$src$core$names.equals(d.name,e))return d}return null}getVariableById(e){for(const s of this.variableMap.values())for(const r of s)if(r.getId()===e)return r;return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?e.slice():[]}getVariableTypes(e){const s=new Set(this.variableMap.keys());if(e&&e.getPotentialVariableMap())for(const r of e.getPotentialVariableMap().variableMap.keys())s.add(r);return s.has("")||s.add(""),Array.from(s.values())}getAllVariables(){let e=[];for(const s of this.variableMap.values())e=e.concat(s);return e}getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map(e=>e.name)}getVariableUsesById(e){const s=[],r=this.workspace.getAllBlocks(!1);for(let d=0;d<r.length;d++){const v=r[d].getVarModels();if(v)for(let k=0;k<v.length;k++)v[k].getId()===e&&s.push(r[d])}return s}},Pu=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new QI,this.potentialVariableMap=null,this.id=b(),K(this),this.options=e||new ks({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(m(ut.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new q_(this)}dispose(){this.listeners.length=0,this.clear(),te(this)}sortObjects_(e,s){const r=Math.sin(fp(Pu.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getRelativeToSurfaceXY(),s=s.getRelativeToSurfaceXY(),e.y+r*e.x-(s.y+r*s.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!Ee(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const s=[].concat(this.topBlocks);return e&&1<s.length&&s.sort(this.sortObjects_.bind(this)),s}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){Ee(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,s=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),s&&e&&1<e.length&&e.sort(this.sortObjects_.bind(this)),e.filter(function(r){return!r.isInsertionMarker()})):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!Ee(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const s=[].concat(this.topComments);return e&&1<s.length&&s.sort(this.sortObjects_.bind(this)),s}getAllBlocks(e=!1){if(e){var s=this.getTopBlocks(!0);e=[];for(let r=0;r<s.length;r++)e.push(...s[r].getDescendants(!0))}else for(e=this.getTopBlocks(!1),s=0;s<e.length;s++)e.push(...e[s].getChildren(!1));return e.filter(function(r){return!r.isInsertionMarker()})}clear(){this.isClearing=!0;try{const e=o.getGroup$$module$build$src$core$events$utils();for(e||o.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();o.setGroup$$module$build$src$core$events$utils(e),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,s){this.variableMap.renameVariableById(e,s)}createVariable(e,s,r){return this.variableMap.createVariable(e,s,r)}getVariableUsesById(e){return this.variableMap.getVariableUsesById(e)}deleteVariableById(e){this.variableMap.deleteVariableById(e)}getVariable(e,s){return this.variableMap.getVariable(e,s)}getVariableById(e){return this.variableMap.getVariableById(e)}getVariablesOfType(e){return this.variableMap.getVariablesOfType(e)}getVariableTypes(){return this.variableMap.getVariableTypes(this)}getAllVariables(){return this.variableMap.getAllVariables()}getAllVariableNames(){return this.variableMap.getAllVariableNames()}getWidth(){return 0}newBlock(e,s){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let s=0;for(const r in e){if(e[r]>this.remainingCapacityOfType(r))return!1;s+=e[r]}return!(s>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var s=e?this.redoStack_:this.undoStack_,r=e?this.undoStack_:this.redoStack_;const d=s.pop();if(d){for(var v=[d];s.length&&d.group&&d.group===s[s.length-1].group;){const k=s.pop();k&&v.push(k)}for(s=0;s<v.length;s++)r.push(v[s]);v=I(v,e),o.setRecordUndo$$module$build$src$core$events$utils(!1);try{for(r=0;r<v.length;r++)v[r].run(e)}finally{o.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,S()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){Ee(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(let s=0;s<this.listeners.length;s++)(0,this.listeners[s])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,s){this.blockDB.set(e,s)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let s;return(s=this.commentDB.get(e))!=null?s:null}allInputsFilled(e){const s=this.getTopBlocks(!1);for(let r=0;r<s.length;r++)if(!s[r].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new q_(this)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const s=this.options.parentWorkspace;return this.isFlyout?s&&s.options&&(e=s.options.parentWorkspace):s&&(e=s),e}static getById(e){return F(e)}static getAll(){return B()}};Pu.SCAN_ANGLE=3;var xx=100,vw=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound_=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,s){if(e.length){try{var r=new globalThis.Audio}catch{return}for(let v=0;v<e.length;v++){const k=e[v],Z=k.match(/\.(\w+)$/);if(Z&&r.canPlayType("audio/"+Z[1])){var d=new globalThis.Audio(k);break}}d&&this.sounds.set(s,d)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const s=e.play();if(s!==void 0?s.then(e.pause).catch(function(){}):e.pause(),hd||hI)break}}play(e,s){if(!this.muted){var r=this.sounds.get(e);r?(e=new Date,this.lastSound_!==null&&e.getTime()-this.lastSound_.getTime()<xx||(this.lastSound_=e,r=hd||jv?r:r.cloneNode(),r.volume=s===void 0?1:s,r.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,s)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},Bx=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e),this.animationLayer=this.createAnimationLayer(e)),e=this.createLayer(yu),Ie(e,"blocklyBlockCanvas"),e=this.createLayer(c_),Ie(e,"blocklyBubbleCanvas")}createDragLayer(e){const s=ue(xe.SVG,{class:"blocklyBlockDragSurface",xmlns:pd,"xmlns:html":Ii,"xmlns:xlink":hs,version:"1.1"});return e.append(s),ue(xe.G,{},s)}createAnimationLayer(e){const s=ue(xe.SVG,{class:"blocklyAnimationLayer",xmlns:pd,"xmlns:html":Ii,"xmlns:xlink":hs,version:"1.1"});return e.append(s),ue(xe.G,{},s)}appendToAnimationLayer(e){let s;const r=(s=this.dragLayer)==null?void 0:s.getAttribute("transform");if(r){let v;(v=this.animationLayer)==null||v.setAttribute("transform",r)}let d;(d=this.animationLayer)==null||d.appendChild(e.getSvgRoot())}translateLayers(e,s){e=`translate(${e.x}, ${e.y}) scale(${s})`;let r;(r=this.dragLayer)==null||r.setAttribute("transform",e);for(const[,d]of this.layers)d.setAttribute("transform",e)}moveToDragLayer(e){let s;(s=this.dragLayer)==null||s.appendChild(e.getSvgRoot())}moveOffDragLayer(e,s){this.append(e,s)}append(e,s){this.layers.has(s)||this.createLayer(s);let r;(r=this.layers.get(s))==null||r.appendChild(e.getSvgRoot())}createLayer(e){const s=this.workspace.getSvgGroup(),r=ue(xe.G,{});let d=!1;const v=[...this.layers].sort((k,Z)=>k[0]-Z[0]);for(const[k,Z]of v)if(e<k){s.insertBefore(r,Z),d=!0;break}return d||s.appendChild(r),this.layers.set(e,r),r}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(yu)}getBubbleLayer(){return this.layers.get(c_)}},Fx=20,Ls=class extends Pu{constructor(e){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.isVisible_=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.dragDeltaXY=null,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox_=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.metricsManager=new(m(ut.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||Ls.setTopLevelWorkspaceMetrics_,this.componentManager=new no,this.connectionDBList=Au.init(this.connectionChecker),this.audioManager=new vw(e.parentWorkspace),this.grid=this.options.gridPattern?new L_(this.options.gridPattern,e.gridOptions):null,this.markerManager=new Ed(this),bo&&up&&this.registerToolboxCategoryCallback(i_,up),ua&&Dp&&this.registerToolboxCategoryCallback(z_,Dp),Wo&&Np&&(this.registerToolboxCategoryCallback(_f,Np),this.addChangeListener(sv)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new mw(this,this.options.theme||ff),this.themeManager_.subscribeWorkspace(this);let s;this.renderer=lv(this.options.renderer||"geras",this.getTheme(),(s=this.options.rendererOverrides)!=null?s:void 0),this.cachedParentSvgSize=new dn(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}setCursorSvg(e){this.markerManager.setCursorSvg(e)}setMarkerSvg(e){this.markerManager.setMarkerSvg(e)}getMarker(e){return this.markerManager?this.markerManager.getMarker(e):null}getCursor(){return this.markerManager?this.markerManager.getCursor():null}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=ff),this.themeManager_.setTheme(e)}refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(s){return!!s.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);const e=new(M(mu))(this.getTheme().name,this.id);$(e)}updateBlockStyles_(e){for(let s=0,r;r=e[s];s++){const d=r.getStyleName();d&&r.setStyle(d)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.isVisible_}getSvgXY(e){let s=0,r=0,d=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(d=this.scale);do{const v=we(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(d=1),s+=v.x*d,r+=v.y*d,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new ht(s,r)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new dn(e.width,e.height)}getOriginOffsetInPixels(){return et(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,s){return this.injectionDiv||(this.injectionDiv=s??null),this.svgGroup_=ue(xe.G,{class:"blocklyWorkspace"}),e&&(this.svgBackground_=ue(xe.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new Bx(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(ve(this.svgGroup_,"pointerdown",this,this.onMouseDown_,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),ve(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(m(ut.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=m(ut.CURSOR,this.options))&&this.markerManager.setCursor(new e),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&q(this.svgGroup_),this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&q(e.parentNode)}this.resizeHandlerWrapper&&(Fe(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null)}addTrashcan(){this.trashcan=Ls.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new EI(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}addFlyout(e){const s=new ks({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return s.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(m(ut.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(s):new(m(ut.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(s),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox_?this.toolbox_.getFlyout():null}getToolbox(){return this.toolbox_}updateScreenCalculations_(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox_&&this.toolbox_.position(),this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(no.Capability.POSITIONABLE,!0),s=this.getMetricsManager().getUiMetrics(),r=[];for(let d=0,v;v=e[d];d++){v.position(s,r);const k=v.getBoundingRectangle();k&&r.push(k)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()}updateScreenCalculationsIfScrolled(){const e=Fn();ht.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations_())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,s){const r=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,r.setAttribute("data-cached-width",`${e}`)),s!=null&&(this.cachedParentSvgSize.height=s,r.setAttribute("data-cached-height",`${s}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(C()){var e=this.scale,s=-this.scrollY,r=-this.scrollX;if(!(e===this.oldScale&&1>Math.abs(s-this.oldTop)&&1>Math.abs(r-this.oldLeft))){var d=new(M(Wr))(s,r,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=s,this.oldLeft=r,$(d)}}}translate(e,s){let r;(r=this.layerManager)==null||r.translateLayers(new ht(e,s),this.scale);let d;(d=this.grid)==null||d.moveTo(e,s),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.isVisible_=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e||this.hideChaff(!0))}render(){const e=this.getAllBlocks(!1);for(let s=e.length-1;0<=s;s--)e[s].queueRender();this.getTopBlocks().flatMap(s=>s.getDescendants(!1)).filter(s=>s.isInsertionMarker()).forEach(s=>s.queueRender()),vi().then(()=>void this.markerManager.updateMarkers())}highlightBlock(e,s){if(s===void 0){for(let r=0,d;d=this.highlightedBlocks[r];r++)d.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((s=s===void 0||s)?this.highlightedBlocks.includes(e)||this.highlightedBlocks.push(e):Ee(this.highlightedBlocks,e),e.setHighlighted(s))}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()}renameVariableById(e,s){super.renameVariableById(e,s),this.refreshToolboxSelection()}deleteVariableById(e){super.deleteVariableById(e),this.refreshToolboxSelection()}createVariable(e,s,r){return e=super.createVariable(e,s,r),this.refreshToolboxSelection(),e}recordDragTargets(){const e=this.componentManager.getComponents(no.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let s=0,r;r=e[s];s++){const d=r.getClientRect();d&&this.dragTargetAreas.push({component:r,clientRect:d})}}newBlock(e,s){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let s=0,r;r=this.dragTargetAreas[s];s++)if(r.clientRect.contains(e.clientX,e.clientY))return r.component;return null}onMouseDown_(e){const s=this.getGesture(e);s&&s.handleWsStart(e,this)}startDrag(e,s){e=Re(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,this.dragDeltaXY=ht.difference(s,e)}moveDrag(e){return e=Re(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,ht.sum(this.dragDeltaXY,e)}isDragging(){return this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel_(e){if(ar.inProgress())e.preventDefault(),e.stopPropagation();else{var s=this.options.zoomOptions&&this.options.zoomOptions.wheel,r=this.options.moveOptions&&this.options.moveOptions.wheel;if(s||r){var d=Be(e);if(qv)var v=e.metaKey;s&&(e.ctrlKey||v||!r)?(d=-d.y/50,s=Re(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(s.x,s.y,d)):(s=this.scrollX-d.x,r=this.scrollY-d.y,e.shiftKey&&!d.x&&(s=this.scrollX-d.y,r=this.scrollY),this.scroll(s,r)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new En(0,0,0,0);const s=e[0].getBoundingRectangle();for(let d=1;d<e.length;d++){var r=e[d];r.isInsertionMarker&&r.isInsertionMarker()||(r=r.getBoundingRectangle(),r.top<s.top&&(s.top=r.top),r.bottom>s.bottom&&(s.bottom=r.bottom),r.left<s.left&&(s.left=r.left),r.right>s.right&&(s.right=r.right))}return s}cleanUp(){this.setResizesEnabled(!1),o.setGroup$$module$build$src$core$events$utils(!0);const e=this.getTopBlocks(!0);let s=0;for(let r=0,d;d=e[r];r++){if(!d.isMovable())continue;const v=d.getRelativeToSurfaceXY();d.moveBy(-v.x,s-v.y,["cleanup"]),d.snapToGrid(),s=d.getRelativeToSurfaceXY().y+d.getHeightWidth().height+this.renderer.getConstants().MIN_BLOCK_HEIGHT}o.setGroup$$module$build$src$core$events$utils(!1),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.options.readOnly&&!this.isFlyout){var s=Qt.registry.getContextMenuOptions(Qt.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(s,e),td(e,s,this.RTL,this)}}updateToolbox(e){if(e=qs(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(Pr(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(j(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,s,r){r=Math.pow(this.options.zoomOptions.scaleSpeed,r);const d=this.scale*r;if(this.scale!==d){d>this.options.zoomOptions.maxScale?r=this.options.zoomOptions.maxScale/this.scale:d<this.options.zoomOptions.minScale&&(r=this.options.zoomOptions.minScale/this.scale);var v=this.getCanvas().getCTM(),k=this.getParentSvg().createSVGPoint();k.x=e,k.y=s,k=k.matrixTransform(v.inverse()),e=k.x,s=k.y,v=v.translate(e*(1-r),s*(1-r)).scale(r),this.scrollX=v.e,this.scrollY=v.f,this.setScale(d)}}zoomCenter(e){var s=this.getMetrics();let r;this.flyout?(r=s.svgWidth?s.svgWidth/2:0,s=s.svgHeight?s.svgHeight/2:0):(r=s.viewWidth/2+s.absoluteLeft,s=s.viewHeight/2+s.absoluteTop),this.zoom(r,s,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),s=e.viewWidth;e=e.viewHeight;var r=this.getBlocksBoundingBox(),d=2*Fx,v=r.right-r.left+d;if(r=r.bottom-r.top+d,v){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),r+=this.flyout.getHeight()/this.scale):(s+=this.flyout.getWidth(),v+=this.flyout.getWidth()/this.scale)),s/=v,e/=r,o.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(s,e)),this.scrollCenter()}finally{o.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){Ie(this.getCanvas(),"blocklyCanvasTransitioning"),Ie(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){Ue(this.getCanvas(),"blocklyCanvasTransitioning"),Ue(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),s=(e.scrollWidth-e.viewWidth)/2,r=(e.scrollHeight-e.viewHeight)/2;s=-s-e.scrollLeft,r=-r-e.scrollTop,this.scroll(s,r)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,s){if(this.isMovable()){var r=e?this.getBlockById(e):null;if(r){e=r.getRelativeToSurfaceXY(),r=s?{height:r.height,width:r.width}:r.getHeightWidth();var d=this.scale;s=(e.x+(this.RTL?-1:1)*r.width/2)*d,e=(e.y+r.height/2)*d,r=this.getMetrics(),this.scroll(-(s-r.viewWidth/2),-(e-r.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}scroll(e,s){this.hideChaff(!0);const r=this.getMetrics();e=Math.min(e,-r.scrollLeft),s=Math.min(s,-r.scrollTop);const d=r.scrollTop+Math.max(0,r.scrollHeight-r.viewHeight);e=Math.max(e,-(r.scrollLeft+Math.max(0,r.scrollWidth-r.viewWidth))),s=Math.max(s,-d),this.scrollX=e,this.scrollY=s,this.scrollbar&&this.scrollbar.set(-(e+r.scrollLeft),-(s+r.scrollTop),!1),e+=r.absoluteLeft,s+=r.absoluteTop,this.translate(e,s)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){Ee(this.topBoundedElements,e)}getTopBoundedElements(){return[].concat(this.topBoundedElements)}setResizesEnabled(e){const s=!this.resizesEnabled&&e;this.resizesEnabled=e,s&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,s){if(typeof s!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,s)}getButtonCallback(e){let s;return(s=this.flyoutButtonCallbacks.get(e))!=null?s:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,s){if(typeof s!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,s)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){const s=e.type==="pointerdown",r=this.currentGesture_;return r?s&&r.hasStarted()?(console.warn("Tried to start the same gesture twice."),r.cancel(),null):r:s?this.currentGesture_=new ar(e,this):null}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){Ji(),ed(this),_i(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(no.Capability.AUTOHIDEABLE,!0).forEach(s=>s.autoHide(e))}static setTopLevelWorkspaceMetrics_(e){const s=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(s.scrollLeft+(s.scrollWidth-s.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(s.scrollTop+(s.scrollHeight-s.viewHeight)*e.y)),this.translate(this.scrollX+s.absoluteLeft,this.scrollY+s.absoluteTop)}},J_=class extends Ci{constructor(e,s){super(s),this.type=pu,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new J_),s.isOpen=e.isOpen,s}};i(ut.EVENT,pu,J_);var Z_=class extends Ci{constructor(e,s,r){super(r),this.type=du,this.oldElementId=e??void 0,this.newElementId=s??void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new Z_),s.oldElementId=e.oldElementId,s.newElementId=e.newElementId,s}};i(ut.EVENT,du,Z_);var _w=class{constructor(){this.drawer=this.curNode=this.colour=null,this.type="marker"}setDrawer(e){this.drawer=e}getDrawer(){return this.drawer}getCurNode(){return this.curNode}setCurNode(e){const s=this.curNode;this.curNode=e,this.drawer&&this.drawer.draw(s,this.curNode)}draw(){this.drawer&&this.drawer.draw(this.curNode,this.curNode)}hide(){this.drawer&&this.drawer.hide()}dispose(){this.getDrawer()&&this.getDrawer().dispose()}},Q_=class extends _w{constructor(){super(),this.type="cursor"}next(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===nt.types.NEXT||e.getType()===nt.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e}in(){var e=this.getCurNode();if(!e)return null;(e.getType()===nt.types.PREVIOUS||e.getType()===nt.types.OUTPUT)&&(e=e.next());let s,r;return(e=(r=(s=e)==null?void 0:s.in())!=null?r:null)&&this.setCurNode(e),e}prev(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===nt.types.NEXT||e.getType()===nt.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e}out(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===nt.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null}};i(ut.CURSOR,Ei,Q_);var Md=class extends Q_{constructor(){super()}next(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null}in(){return this.next()}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null}out(){return this.prev()}getNextNode_(e,s){if(!e)return null;const r=e.in()||e.next();return s(r)?r:r?this.getNextNode_(r,s):(e=this.findSiblingOrParent(e.out()),s(e)?e:e?this.getNextNode_(e,s):null)}getPreviousNode_(e,s){if(!e)return null;let r=e.prev();return r=r?this.getRightMostChild(r):e.out(),s(r)?r:r?this.getPreviousNode_(r,s):null}validNode_(e){let s=!1;return e=e&&e.getType(),(e===nt.types.OUTPUT||e===nt.types.INPUT||e===nt.types.FIELD||e===nt.types.NEXT||e===nt.types.PREVIOUS||e===nt.types.WORKSPACE)&&(s=!0),s}findSiblingOrParent(e){if(!e)return null;const s=e.next();return s||this.findSiblingOrParent(e.out())}getRightMostChild(e){if(!e.in())return e;for(e=e.in();e&&e.next();)e=e.next();return this.getRightMostChild(e)}};Md.registrationName="basicCursor",i(ut.CURSOR,Md.registrationName,Md);var bw=class extends Md{validNode_(e){let s=!1;const r=e&&e.getType();return e&&(e=e.getLocation(),r===nt.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(s=!0)),s}},eb=10,zo=class extends hn{constructor(e,s){super(e,s),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[s],this.dbOpposite=e.workspace.connectionDBList[ca[s]],this.offsetInBlock=new ht(0,0),this.trackedState=zo.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===zo.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let e,s;(s=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||s.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const s=this.x-e.x;return e=this.y-e.y,Math.sqrt(s*s+e*e)}bumpAwayFrom(e){if(!this.sourceBlock_.workspace.isDragging()){var s=this.sourceBlock_.getRootBlock();if(!s.isInFlyout){var r=!1;if(!s.isMovable()){if(s=e.getSourceBlock().getRootBlock(),!s.isMovable())return;e=this,r=!0}var d=z()==s;d||s.addSelect();var v=e.x+o.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*eb)-this.x,k=e.y+o.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*eb)-this.y;r&&(k=-k),s.RTL&&(v=e.x-o.config$$module$build$src$core$config.snapRadius-Math.floor(Math.random()*eb)-this.x),s.moveBy(v,k,["bump"]),d||s.removeSelect()}}}moveTo(e,s){let r=!1;return this.trackedState===zo.TrackedState.WILL_TRACK?(this.db.addConnection(this,s),this.trackedState=zo.TrackedState.TRACKED,r=!0):this.trackedState===zo.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,s),r=!0),this.x=e,this.y=s,r}moveBy(e,s){return this.moveTo(this.x+e,this.y+s)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,s){this.offsetInBlock.x=e,this.offsetInBlock.y=s}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const s=this.targetBlock();e&&s&&(e=ht.difference(this.offsetInBlock,e.offsetInBlock),s.translate(e.x,e.y))}closest(e,s){return this.dbOpposite.searchForClosest(this,e,s)}highlight(){this.highlighted=!0,this.getSourceBlock().queueRender()}unhighlight(){this.highlighted=!1,this.getSourceBlock().queueRender()}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===zo.TrackedState.TRACKED||!e&&this.trackedState===zo.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=zo.TrackedState.TRACKED):(this.trackedState===zo.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=zo.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let s=0;s<e.length;s++){const r=e[s],d=r.getConnections_(!0);for(let v=0;v<d.length;v++)d[v].setTracking(!1);for(const v of r.getIcons())Qa(v)&&v.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==It.INPUT_VALUE&&this.type!==It.NEXT_STATEMENT)return e;const s=this.targetBlock();if(s){let r;s.isCollapsed()?(r=[],s.outputConnection&&r.push(s.outputConnection),s.nextConnection&&r.push(s.nextConnection),s.previousConnection&&r.push(s.previousConnection)):r=s.getConnections_(!0);for(let d=0;d<r.length;d++)e.push(...r[d].startTrackingAll());e.length||(e=[s])}return e}onFailedConnect(e){const s=this.getSourceBlock();if(T()){const r=o.getGroup$$module$build$src$core$events$utils();setTimeout((function(){s.isDisposed()||s.getParent()||(o.setGroup$$module$build$src$core$events$utils(r),this.bumpAwayFrom(e),o.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),o.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:s,childConnection:r}=this.getParentAndChildConnections();if(s&&r){var d=o.getGroup$$module$build$src$core$events$utils();d||o.setGroup$$module$build$src$core$events$utils(!0);var v=s.getSourceBlock(),k=r.getSourceBlock();super.disconnectInternal(e),v.queueRender(),k.updateDisabled(),k.queueRender(),k.getSvgRoot().style.display="block",o.setGroup$$module$build$src$core$events$utils(d)}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var s=this.getSourceBlock();e=e.getSourceBlock(),s.updateDisabled(),e.updateDisabled(),e.queueRender(),(s=s.getInputWithBlock(e))&&(s=s.isVisible(),e.getSvgRoot().style.display=s?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return super.setCheck(e),this.sourceBlock_.queueRender(),this}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(zo||(zo={})),zo.TrackedState;var Dd=class{paste(e,s,r){if(!s.isCapacityAvailable(e.typeCounts))return null;r&&(e.blockState.x=r.x,e.blockState.y=r.y),r=r||new ht(e.blockState.x||0,e.blockState.y||0),o.disable$$module$build$src$core$events$utils();let d;try{d=qi(e.blockState,s),kC(d,r)}finally{o.enable$$module$build$src$core$events$utils()}return d&&(C()&&!d.isShadow()&&$(new(M(o.CREATE$$module$build$src$core$events$utils))(d)),o.setSelected$$module$build$src$core$common(d),d)}};Dd.TYPE="block",pp(Dd.TYPE,new Dd);var Cf={};Cf.bumpIntoBounds=au,Cf.bumpIntoBoundsHandler=hv,Cf.bumpTopObjectsIntoBounds=Pp;var Tw=class{constructor(e){this.block=e,this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null,this.dragging=!1,this.dragOffset=new ht(0,0),this.workspace=e.workspace}isMovable(){if(this.block.isShadow()){let e,s;return(s=(e=this.block.getParent())==null?void 0:e.isMovable())!=null?s:!1}return this.block.isOwnMovable()&&!this.block.isDeadOrDying()&&!this.workspace.options.readOnly&&!this.block.isInFlyout}startDrag(e){if(this.block.isShadow())this.startDraggingShadow(e);else{this.dragging=!0,o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent(),this.startLoc=this.block.getRelativeToSurfaceXY(),this.connectionCandidate=null,this.connectionPreviewer=new(m(ut.CONNECTION_PREVIEWER,this.workspace.options))(this.block),bt(),this.workspace.setResizesEnabled(!1),ru(),e=!!e&&(e.altKey||e.ctrlKey||e.metaKey),this.shouldDisconnect(e)&&this.disconnectBlock(e),this.block.setDragging(!0);var s;(s=this.workspace.getLayerManager())==null||s.moveToDragLayer(this.block)}}startDraggingShadow(e){const s=this.block.getParent();if(!s)throw Error("Tried to drag a shadow block with no parent. Shadow blocks should always have parents.");this.dragOffset=ht.difference(s.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY()),s.startDrag(e)}shouldDisconnect(e){return!!(this.block.getParent()||e&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(e){let s,r,d;if(this.startParentConn=(d=(s=this.block.outputConnection)==null?void 0:s.targetConnection)!=null?d:(r=this.block.previousConnection)==null?void 0:r.targetConnection,e){let v;this.startChildConn=(v=this.block.nextConnection)==null?void 0:v.targetConnection}this.block.unplug(e),Y$(this.block)}fireDragStartEvent(){const e=new(M(Wl))(this.block,!0,this.block.getDescendants(!1));$(e)}fireDragEndEvent(){const e=new(M(Wl))(this.block,!1,this.block.getDescendants(!1));$(e)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var e=new(M(o.MOVE$$module$build$src$core$events$utils))(this.block);e.setReason(["drag"]),e.oldCoordinate=this.startLoc,e.recordNew(),$(e)}}drag(e){if(this.block.isShadow()){let s;(s=this.block.getParent())==null||s.drag(ht.sum(e,this.dragOffset))}else this.block.moveDuringDrag(e),this.updateConnectionPreview(this.block,ht.difference(e,this.startLoc))}updateConnectionPreview(e,s){var r=this.connectionCandidate;const d=this.getConnectionCandidate(e,s);if(d){this.connectionCandidate=s=r&&this.currCandidateIsBetter(r,s,d)?r:d;var{local:v,neighbour:k}=s;s=v.type===It.OUTPUT_VALUE||v.type===It.PREVIOUS_STATEMENT,r=k.isConnected()&&!k.targetBlock().isInsertionMarker(),s&&r&&!this.orphanCanConnectAtEnd(e,k.targetBlock(),v.type)?this.connectionPreviewer.previewReplacement(v,k,k.targetBlock()):this.connectionPreviewer.previewConnection(v,k)}else this.connectionPreviewer.hidePreview(),this.connectionCandidate=null}orphanCanConnectAtEnd(e,s,r){return!!hn.getConnectionForOrphanedConnection(e,r===It.OUTPUT_VALUE?s.outputConnection:s.previousConnection)}currCandidateIsBetter(e,s,r){const{local:d,neighbour:v}=e;e=new ht(d.x,d.y);const k=new ht(v.x,v.y);return s=ht.distance(ht.sum(e,s),k),r.distance>s-o.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,s){e=this.getLocalConnections(e);let r=this.connectionCandidate?o.config$$module$build$src$core$config.connectingSnapRadius:o.config$$module$build$src$core$config.snapRadius,d=null;for(const v of e){const{connection:k,radius:Z}=v.closest(r,s);k&&(d={local:v,neighbour:k,distance:Z},r=Z)}return d}getLocalConnections(e){const s=e.getConnections_(!1),r=e.lastConnectionInStack(!0);return r&&r!==e.nextConnection&&s.push(r),s}endDrag(e){if(this.block.isShadow()){let s;(s=this.block.getParent())==null||s.endDrag(e)}else{if(this.fireDragEndEvent(),this.fireMoveEvent(),Tt(),ru(),this.connectionPreviewer.hidePreview(),!this.block.isDeadOrDying()&&this.dragging){let s;(s=this.workspace.getLayerManager())==null||s.moveOffDragLayer(this.block,yu),this.block.setDragging(!1)}this.connectionCandidate?this.applyConnections(this.connectionCandidate):this.block.queueRender(),this.block.snapToGrid(),this.connectionPreviewer.dispose(),this.workspace.setResizesEnabled(!0),o.setGroup$$module$build$src$core$events$utils(!1)}}applyConnections(e){const{local:s,neighbour:r}=e;s.connect(r);const d=s.isSuperior()?r:s,v=this.block.getRootBlock();vi().then(()=>{wp(d.getSourceBlock()),setTimeout(()=>{v.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let s;(s=this.block.getParent())==null||s.revertDrag()}else{var e;if((e=this.startChildConn)==null||e.connect(this.block.nextConnection),this.startParentConn)switch(this.startParentConn.type){case It.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);break;case It.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,["drag"]);let s;(s=this.workspace.getLayerManager())==null||s.moveOffDragLayer(this.block,yu),au(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null,this.connectionPreviewer.hidePreview(),this.connectionCandidate=null,this.block.setDragging(!1),this.dragging=!1}}},As=class extends aa{constructor(e,s,r){if(super(e,s,r),this.width=this.height=0,this.warningTextDb=new Map,this.mutator=null,this.rendered=!0,this.eventsInit_=this.renderIsInProgress_=this.visuallyDisabled=!1,this.translation="",this.dragging=!1,this.relativeCoords=new ht(0,0),this.dragStrategy=new Tw(this),!e.rendered)throw TypeError("Cannot create a rendered block in a headless workspace");this.workspace=e,this.svgGroup_=ue(xe.G,{}),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),e=this.pathObject.svgPath,e.tooltip=this,nu(e),this.svgGroup_.setAttribute("data-id",this.id),this.doInit_()}initSvg(){if(!this.initialized){for(var e of this.inputList)e.init();for(const s of this.getIcons())s.initView(this.createIconPointerDownListener(s)),s.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()||this.isInFlyout),e=this.getSvgRoot(),!this.workspace.options.readOnly&&e&&ve(e,"pointerdown",this,this.onMouseDown_),e.parentNode||this.workspace.getCanvas().appendChild(e),this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){if(this.isShadow()){let e;(e=this.getParent())==null||e.select()}else this.addSelect()}unselect(){if(this.isShadow()){let e;(e=this.getParent())==null||e.unselect()}else this.removeSelect()}setParent(e){const s=this.parentBlock_;if(e!==s){bt(),super.setParent(e),Tt();var r=this.getSvgRoot();if(!this.workspace.isClearing&&r){var d=this.getRelativeToSurfaceXY();e?e.getSvgRoot().appendChild(r):s&&((e=this.workspace.getCanvas().querySelector(".blocklyDragging"))?this.workspace.getCanvas().insertBefore(r,e):this.workspace.getCanvas().appendChild(r),this.translate(d.x,d.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let s=0,r=0,d=this.getSvgRoot();if(d)do{const v=we(d);s+=v.x,r+=v.y,d=d.parentNode}while(d&&!e.hasLayer(d));return new ht(s,r)}moveBy(e,s,r){if(this.parentBlock_)throw Error("Block has parent");const d=C();let v=null;d&&(v=new(M(o.MOVE$$module$build$src$core$events$utils))(this),r&&v.setReason(r)),e=new ht(e,s),s=this.getRelativeToSurfaceXY(),e=ht.sum(s,e),this.translate(e.x,e.y),this.updateComponentLocations(e),d&&v&&(v.recordNew(),$(v)),this.workspace.resizeContents()}translate(e,s){this.translation=`translate(${e}, ${s})`,this.relativeCoords=new ht(e,s),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,s){const r=this.getRelativeToSurfaceXY();this.moveBy(e.x-r.x,e.y-r.y,s)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var s=this.getRelativeToSurfaceXY();e=e.alignXY(s),e!==s&&this.moveTo(e,["snap"])}}}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY(),s=this.getHeightWidth();let r,d;return this.RTL?(r=e.x-s.width,d=e.x):(r=e.x,d=e.x+s.width),new En(e.y,e.y+s.height,r,d)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,s;s=this.inputList[e];e++)s.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed_())}updateCollapsed_(){var e=this.isCollapsed();const s=gd,r=Jp;for(let v=0,k;k=this.inputList[v];v++)k.name!==s&&k.setVisible(!e);for(var d of this.getIcons())d.updateCollapsed();e?(e=this.toString(gw),(d=this.getField(r))?d.setValue(e):(this.getInput(s)||this.appendDummyInput(s)).appendField(new la(e),r)):(this.updateDisabled(),this.removeInput(s))}tab(e,s){const r=new bw;r.setCurNode(nt.createFieldNode(e)),e=r.getCurNode(),s?r.next():r.prev(),(s=r.getCurNode())&&s!==e&&(s.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(s))}onMouseDown_(e){const s=this.workspace.getGesture(e);s&&s.handleBlockStart(e,this)}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;const e=Qt.registry.getContextMenuOptions(Qt.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e}showContextMenu(e){const s=this.generateContextMenu();s&&s.length&&(td(e,s,this.RTL,this.workspace),F$(this))}updateComponentLocations(e){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const s of this.getChildren(!1))s.updateComponentLocations(ht.sum(e,s.relativeCoords))}updateConnectionLocations(e){for(const s of this.getConnections_(!1))s.moveToOffset(e)}updateIconLocations(e){for(const s of this.getIcons())s.onLocationChange(e)}updateFieldLocations(e){for(const s of this.inputList)for(const r of s.fieldRow)r.onLocationChange(e)}setDragging(e){(this.dragging=e)?(this.translation="",dd.push(...this.getConnections_(!0)),Ie(this.svgGroup_,"blocklyDragging")):(dd.length=0,Ue(this.svgGroup_,"blocklyDragging"));for(let s=0;s<this.childBlocks_.length;s++)this.childBlocks_[s].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e=this.getIcons();for(let s=0;s<e.length;s++)e[s].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup_}dispose(e,s){this.disposing=!0,w$(),nd(),s&&(this.unplug(e),Ip(this)),super.dispose(!!e),q(this.svgGroup_)}disposeInternal(){this.disposing=!0,super.disposeInternal(),z()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose())}checkAndDelete(){this.workspace.isFlyout||(o.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),o.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(){return this.isInsertionMarker_?null:{paster:Dd.TYPE,blockState:ds(this,{addCoordinates:!0,addNextBlocks:!1}),typeCounts:X(this,!0)}}applyColour(){this.pathObject.applyColour(this);const e=this.getIcons();for(let s=0;s<e.length;s++)e[s].applyColour();for(let s=0,r;r=this.inputList[s];s++)for(let d=0,v;v=r.fieldRow[d];d++)v.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let s;(s=this.getNextBlock())==null||s.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const s of this.getChildren(!1))s.updateDisabled()}}setWarningText(e,s=""){if(s)this.warningTextDb.has(s)&&(clearTimeout(this.warningTextDb.get(s)),this.warningTextDb.delete(s));else{for(var r of this.warningTextDb.values())clearTimeout(r);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(s,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(s),this.setWarningText(e,s))},100));else if(this.isInFlyout&&(e=null),r=this.getIcon(hr.TYPE),e){let d=this.getSurroundParent(),v=null;for(;d;)d.isCollapsed()&&(v=d),d=d.getSurroundParent();v&&v.setWarningText(o.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,As.COLLAPSED_WARNING_ID),r?r.addMessage(e,s):this.addIcon(new hr(this).addMessage(e,s))}else r&&(s?(r.addMessage("",s),r.getText()||this.removeIcon(hr.TYPE)):this.removeIcon(hr.TYPE))}setMutator(e){this.removeIcon(o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof o.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),e}createIconPointerDownListener(e){return s=>{this.isDeadOrDying()||(s=this.workspace.getGesture(s))&&s.setStartIcon(e)}}removeIcon(e){const s=super.removeIcon(e);return e.equals(o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.queueRender(),s}setEnabled(e){Vr("setEnabled","v11","v12","the setDisabledReason method of BlockSvg");const s=this.isEnabled();super.setEnabled(e),this.isEnabled()===s||this.getInheritedDisabled()||this.updateDisabled()}setDisabledReason(e,s){const r=this.isEnabled();super.setDisabledReason(e,s),this.isEnabled()===r||this.getInheritedDisabled()||this.updateDisabled()}setHighlighted(e){this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const s=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,s)this.hat=s.hat,this.pathObject.setStyle(s),this.colour_=s.colourPrimary,this.style=s,this.applyColour();else throw Error("Invalid style name: "+e)}bringToFront(e=!1){let s=this;if(!s.isDeadOrDying())do{const r=s.getSvgRoot(),d=r.parentNode,v=d.childNodes;if(v[v.length-1]!==r&&d.appendChild(r),e)break;s=s.getParent()}while(s)}setPreviousStatement(e,s){super.setPreviousStatement(e,s),this.queueRender()}setNextStatement(e,s){super.setNextStatement(e,s),this.queueRender()}setOutput(e,s){super.setOutput(e,s),this.queueRender()}setInputsInline(e){super.setInputsInline(e),this.queueRender()}removeInput(e,s){return e=super.removeInput(e,s),this.queueRender(),e}moveNumberedInputBefore(e,s){super.moveNumberedInputBefore(e,s),this.queueRender()}appendInput(e){return super.appendInput(e),this.queueRender(),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var s=this.nextConnection.targetBlock();s&&s.setConnectionTracking(e)}if(!this.collapsed_)for(s=0;s<this.inputList.length;s++){var r=this.inputList[s].connection;r&&(r.setTracking(e),(r=r.targetBlock())&&r.setConnectionTracking(e))}}getConnections_(e){const s=[];if(this.outputConnection&&s.push(this.outputConnection),this.previousConnection&&s.push(this.previousConnection),this.nextConnection&&s.push(this.nextConnection),e||!this.collapsed_)for(let r=0,d;d=this.inputList[r];r++)d.connection&&s.push(d.connection);return s}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,s){return super.getMatchingConnection(e,s)}makeConnection_(e){return new zo(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const s of this.getConnections_(!1)){if(s.isSuperior()){let r;(r=s.targetBlock())==null||r.bumpNeighbours()}for(const r of s.neighbours(o.config$$module$build$src$core$config.snapRadius))r.getSourceBlock().getRootBlock()!==e&&(s.isConnected()&&r.isConnected()||(s.isSuperior()?r.bumpAwayFrom(s):s.bumpAwayFrom(r)))}}scheduleSnapAndBump(){this.snapToGrid(),this.bumpNeighbours()}positionNearConnection(e,s,r){if(e.type===It.NEXT_STATEMENT||e.type===It.INPUT_VALUE){let d=s.x;s=s.y,d+=r.x-e.getOffsetInBlock().x,s+=r.y-e.getOffsetInBlock().y,this.moveBy(d,s)}}getChildren(e){return super.getChildren(e)}queueRender(){return e$(this)}render(){this.queueRender(),ji()}renderEfficiently(){bt(),this.isCollapsed()&&this.updateCollapsed_(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),Tt(),this.updateMarkers_()}tightenChildrenEfficiently(){for(const e of this.inputList){const s=e.connection;s&&s.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}updateMarkers_(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(Ed.LOCAL_MARKER).draw();for(const e of this.inputList)for(const s of e.fieldRow)s.updateMarkers_()}setCursorSvg(e){this.pathObject.setCursorSvg(e)}setMarkerSvg(e){this.pathObject.setMarkerSvg(e)}getHeightWidth(){let e=this.height,s=this.width;var r=this.getNextBlock();if(r){r=r.getHeightWidth();const d=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=r.height-d,s=Math.max(s,r.width)}return{height:e,width:s}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,s){this.pathObject.updateShapeForInputHighlight(e,s)}setDragStrategy(e){this.dragStrategy=e}isMovable(){return this.dragStrategy.isMovable()}startDrag(e){this.dragStrategy.startDrag(e)}drag(e,s){this.dragStrategy.drag(e,s)}endDrag(e){this.dragStrategy.endDrag(e)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const e=Object.assign({},{kind:"BLOCK"},ds(this)),s=new Set(["id","height","width","pinned","enabled"]),r=function(d){for(const v in d)s.has(v)?delete d[v]:typeof d[v]=="object"&&r(d[v])};return r(e),[e]}};As.INLINE=-1,As.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var yw=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},If=class extends yw{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e){return e instanceof As?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e)):this.updateWouldDelete_(Ss(e)&&e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},Ew=class extends If{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,0>=this.workspace.options.maxTrashcanContents||(e=new ks({scrollbars:!0,parentWorkspace:this.workspace,rtl:this.workspace.RTL,oneBasedIndex:this.workspace.options.oneBasedIndex,renderer:this.workspace.options.renderer,rendererOverrides:this.workspace.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===Zt.TOP?Zt.BOTTOM:Zt.TOP,this.flyout=new(m(ut.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===Zt.RIGHT?Zt.LEFT:Zt.RIGHT,this.flyout=new(m(ut.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=ue(xe.G,{class:"blocklyTrash"});let e;const s=String(Math.random()).substring(2);e=ue(xe.CLIPPATH,{id:"blocklyTrashBodyClipPath"+s},this.svgGroup),ue(xe.RECT,{width:xu,height:wf,y:Bu},e);const r=ue(xe.IMAGE,{width:Go.width,x:-tb,height:Go.height,y:-nb,"clip-path":"url(#blocklyTrashBodyClipPath"+s+")"},this.svgGroup);return r.setAttributeNS(hs,"xlink:href",this.workspace.options.pathToMedia+Go.url),e=ue(xe.CLIPPATH,{id:"blocklyTrashLidClipPath"+s},this.svgGroup),ue(xe.RECT,{width:xu,height:Bu},e),this.svgLid=ue(xe.IMAGE,{width:Go.width,x:-tb,height:Go.height,y:-nb,"clip-path":"url(#blocklyTrashLidClipPath"+s+")"},this.svgGroup),this.svgLid.setAttributeNS(hs,"xlink:href",this.workspace.options.pathToMedia+Go.url),Ae(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),Ae(this.svgGroup,"pointerup",this,this.click),Ae(r,"pointerover",this,this.mouseOver),Ae(r,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){0<this.workspace.options.maxTrashcanContents&&(Qe(this.flyout.createDom(xe.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:1,capabilities:[no.Capability.AUTOHIDEABLE,no.Capability.DELETE_AREA,no.Capability.DRAG_TARGET,no.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&q(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(r){return JSON.parse(r)}),s=this.workspace.getParentSvg().style;s.cursor="wait",setTimeout(()=>{let r;(r=this.flyout)==null||r.show(e),s.cursor="";let d;(d=this.workspace.scrollbar)==null||d.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide();var s;(s=this.workspace.scrollbar)==null||s.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,s){if(this.initialized){var r=cs(this.workspace,e);e=ko(r,new dn(xu,wf+Bu),Hx,Sw,e,this.workspace),s=Js(e,Sw,r.vertical===lr.TOP?Xr.DOWN:Xr.UP,s),this.top=s.top,this.left=s.left;var d;(d=this.svgGroup)==null||d.setAttribute("transform","translate("+this.left+","+this.top+")")}}getBoundingRectangle(){return new En(this.top,this.top+wf+Bu,this.left,this.left+xu)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const s=e.top+nb-kf;return e=e.left+tb-kf,new En(s,s+Bu+wf+2*kf,e,e+xu+2*kf)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=Gx;var s=1/(e+1);this.lidOpen+=this.isLidOpen?s:-s,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*Iw),s=Cw+this.lidOpen*(Wx-Cw),this.svgGroup&&(this.svgGroup.style.opacity=`${s}`),this.lidOpen>this.minOpenness&&1>this.lidOpen&&(this.lidTask=setTimeout(this.animateLid.bind(this),Ux/e))}setLidAngle(e){const s=this.workspace.toolboxPosition===Zt.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let r;(r=this.svgLid)==null||r.setAttribute("transform","rotate("+(s?-e:e)+","+(s?4:xu-4)+","+(Bu-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*Iw)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(M(pu))(e,this.workspace.id),$(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(0>=this.workspace.options.maxTrashcanContents||e.type!==o.DELETE$$module$build$src$core$events$utils||e.type!==o.DELETE$$module$build$src$core$events$utils||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),!this.contents.includes(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(Vx)}}}cleanBlockJson(e){function s(r){if(r){if(delete r.id,delete r.x,delete r.y,delete r.enabled,delete r.disabledReasons,r.icons&&r.icons.comment){var d=r.icons.comment;delete d.height,delete d.width,delete d.pinned}d=r.inputs;for(var v in d){var k=d[v];const Z=k.block;k=k.shadow,Z&&s(Z),k&&s(k)}r.next&&(v=r.next,r=v.block,v=v.shadow,r&&s(r),v&&s(v))}}return e=JSON.parse(JSON.stringify(e)),s(e),Object.assign({},{kind:"BLOCK"},e)}},xu=47,wf=44,Bu=16,Sw=20,Hx=20,kf=10,tb=0,nb=32,Vx=.1,Ux=80,Gx=4,Cw=.4,Wx=.8,Iw=45,fn=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,s){if(this.shortcuts.get(e.name)&&!s)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),(s=e.keyCodes)&&0<s.length)for(let r=0;r<s.length;r++)this.addKeyMapping(s[r],e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,s,r){e=`${e}`;const d=this.keyMap.get(e);if(d&&!r)throw Error(`Shortcut named "${s}" collides with shortcuts "${d}"`);d&&r?d.unshift(s):this.keyMap.set(e,[s])}removeKeyMapping(e,s,r){const d=this.keyMap.get(e);if(!d)return r||console.warn(`No keyboard shortcut named "${s}" registered with key code "${e}"`),!1;const v=d.indexOf(s);return-1<v?(d.splice(v,1),d.length===0&&this.keyMap.delete(e),!0):(r||console.warn(`No keyboard shortcut named "${s}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const s of this.keyMap.keys())this.removeKeyMapping(s,e,!0)}setKeyMap(e){this.keyMap.clear();for(const s in e)this.keyMap.set(s,e[s])}getKeyMap(){const e=Object.create(null);for(const[s,r]of this.keyMap)e[s]=r;return e}getRegistry(){const e=Object.create(null);for(const[s,r]of this.shortcuts)e[s]=r;return Zi(Object.create(null),e)}onKeyDown(e,s){var r=this.serializeKeyEvent_(s);if(r=this.getShortcutNamesByKeyCode(r),!r)return!1;for(let d=0,v;v=r[d];d++){const k=this.shortcuts.get(v);let Z,ge;if((Z=k)==null||!Z.preconditionFn||(ge=k)!=null&&ge.preconditionFn(e)){let Xe,Ct;if((Xe=k)!=null&&Xe.callback&&((Ct=k)!=null&&Ct.callback(e,s,k)))return!0}}return!1}getShortcutNamesByKeyCode(e){return this.keyMap.get(e)||[]}getKeyCodesByShortcutName(e){const s=[];for(const[r,d]of this.keyMap)-1<d.indexOf(e)&&s.push(r);return s}serializeKeyEvent_(e){let s="";for(const r in fn.modifierKeys)e.getModifierState(r)&&(s!==""&&(s+="+"),s+=r);return s!==""&&e.keyCode?s+="+"+e.keyCode:e.keyCode&&(s=String(e.keyCode)),s}checkModifiers_(e){for(let s=0,r;r=e[s];s++)if(!(r in fn.modifierKeys))throw Error(r+" is not a valid modifier key.")}createSerializedKey(e,s){let r="";if(s){this.checkModifiers_(s);for(const d in fn.modifierKeys)s.includes(fn.modifierKeys[d])&&(r!==""&&(r+="+"),r+=d)}return r!==""&&e?r+="+"+e:e&&(r=`${e}`),r}};fn.registry=new fn,function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"}(fn||(fn={}));var ob=null,sb=null,zx={duplicateInternal:NC,copyInternal:AC},Pd={};Pd.BlockPaster=Dd,Pd.TEST_ONLY=zx,Pd.paste=Ur,Pd.registry=h_;var Ri;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(Ri||(Ri={}));var Jr=null,Zr=null,Fu=null;Tv();var Li={};Li.names=Ri,Li.registerCopy=gv,Li.registerCut=$v,Li.registerDefaultShortcuts=Tv,Li.registerDelete=mv,Li.registerEscape=fv,Li.registerPaste=vv,Li.registerRedo=bv,Li.registerUndo=_v;var Kx=class{constructor(e,s){this.procedureModelClass=e,this.parameterModelClass=s,this.priority=MI}save(e){return e=e.getProcedureMap().getProcedures().map(s=>yv(s)),e.length?e:null}load(e,s){const r=s.getProcedureMap();for(const d of e)r.add(Ev(this.procedureModelClass,this.parameterModelClass,d,s))}clear(e){e.getProcedureMap().clear()}},Of={};Of.ProcedureSerializer=Kx,Of.loadProcedure=Ev,Of.saveProcedure=yv;var ww=class{constructor(){this.priority=NI}save(e){const s=[];for(const r of e.getAllVariables())e={name:r.name,id:r.getId()},r.type&&(e.type=r.type),s.push(e);return s.length?s:null}load(e,s){for(const r of e)s.createVariable(r.name,r.type,r.id)}clear(e){e.getVariableMap().clear()}};Yc("variables",new ww);var kw={};kw.VariableSerializer=ww;var ib={};ib.load=DC,ib.save=MC;var Xx={blocks:Td,exceptions:Ql,priorities:yx,procedures:Of,registry:d_,variables:kw,workspaceComments:tf,workspaces:ib},rb=class{constructor(e,s,r,d,v){this.workspace=e,this.oldHostMetrics_=this.corner_=this.vScroll=this.hScroll=null,s=s===void 0?!0:s,r=r===void 0?!0:r;const k=s&&r;s&&(this.hScroll=new zn(e,!0,k,d,v)),r&&(this.vScroll=new zn(e,!1,k,d,v)),k&&(this.corner_=ue(xe.RECT,{height:zn.scrollbarThickness,width:zn.scrollbarThickness,class:"blocklyScrollbarBackground"}),Qe(this.corner_,e.getBubbleCanvas()))}dispose(){q(this.corner_),this.oldHostMetrics_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var s=!1,r=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===e.viewWidth&&this.oldHostMetrics_.viewHeight===e.viewHeight&&this.oldHostMetrics_.absoluteTop===e.absoluteTop&&this.oldHostMetrics_.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===e.scrollWidth&&this.oldHostMetrics_.viewLeft===e.viewLeft&&this.oldHostMetrics_.scrollLeft===e.scrollLeft||(s=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===e.scrollHeight&&this.oldHostMetrics_.viewTop===e.viewTop&&this.oldHostMetrics_.scrollTop===e.scrollTop||(r=!0)):r=s=!0,s||r){try{o.disable$$module$build$src$core$events$utils(),this.hScroll&&s&&this.hScroll.resize(e),this.vScroll&&r&&this.vScroll.resize(e)}finally{o.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft){let d;(d=this.corner_)==null||d.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics_||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteTop!==e.absoluteTop){let d;(d=this.corner_)==null||d.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics_=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,s){this.hScroll&&this.hScroll.setOrigin(e,s),this.vScroll&&this.vScroll.setOrigin(e,s)}set(e,s,r){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(s,!1),(r||r===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},lb=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let s=0,r=0;return e&&(s=e.getWidth(),r=e.getHeight()),new dn(s,r)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,s=0;const r=this.getToolboxMetrics(),d=this.getFlyoutMetrics(),v=!!this.workspace_.getToolbox();var k;const Z=!((k=this.workspace_.getFlyout())!=null&&k.autoClose);k=v?r.position:d.position;const ge=k===Zt.TOP;return k===Zt.LEFT&&(v&&(e+=r.width),Z&&(e+=d.width)),ge&&(v&&(s+=r.height),Z&&(s+=d.height)),{top:s,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const s=this.getSvgMetrics(),r=this.getToolboxMetrics(),d=this.getFlyoutMetrics(),v=!!this.workspace_.getToolbox();var k;const Z=!((k=this.workspace_.getFlyout())!=null&&k.autoClose);k=v?r.position:d.position;const ge=k===Zt.LEFT||k===Zt.RIGHT;return(k===Zt.TOP||k===Zt.BOTTOM)&&(v&&(s.height-=r.height),Z&&(s.height-=d.height)),ge&&(v&&(s.width-=r.width),Z&&(s.width-=d.width)),{height:s.height/e,width:s.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const s=this.workspace_.getBlocksBoundingBox();return{height:(s.bottom-s.top)*e,width:(s.right-s.left)*e,top:s.top*e,left:s.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const s=this.workspace_.isMovableHorizontally(),r=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const d={};return r||(d.top=e.top,d.bottom=e.top+e.height),s||(d.left=e.left,d.right=e.left+e.width),d}getPaddedContent_(e,s){const r=s.top+s.height,d=s.left+s.width,v=e.width;e=e.height;const k=v/2,Z=e/2;return{top:Math.min(s.top-Z,r-e),bottom:Math.max(r+Z,s.top+e),left:Math.min(s.left-k,d-v),right:Math.max(d+k,s.left+v)}}getScrollMetrics(e,s,r){e=e?this.workspace_.scale:1,s=s||this.getViewMetrics(!1);var d=r||this.getContentMetrics();r=this.getComputedFixedEdges_(s),s=this.getPaddedContent_(s,d),d=r.top!==void 0?r.top:s.top;const v=r.left!==void 0?r.left:s.left;return{top:d/e,left:v/e,width:((r.right!==void 0?r.right:s.right)-v)/e,height:((r.bottom!==void 0?r.bottom:s.bottom)-d)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),s=this.getFlyoutMetrics(!0),r=this.getSvgMetrics(),d=this.getAbsoluteMetrics(),v=this.getViewMetrics(),k=this.getContentMetrics(),Z=this.getScrollMetrics(!1,v,k);return{contentHeight:k.height,contentWidth:k.width,contentTop:k.top,contentLeft:k.left,scrollHeight:Z.height,scrollWidth:Z.width,scrollTop:Z.top,scrollLeft:Z.left,viewHeight:v.height,viewWidth:v.width,viewTop:v.top,viewLeft:v.left,absoluteTop:d.top,absoluteLeft:d.left,svgHeight:r.height,svgWidth:r.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:s.width,flyoutHeight:s.height}}};i(ut.METRICS_MANAGER,Ei,lb),"Blockly"in globalThis||(globalThis.Blockly={Msg:kI});var Ow=class extends Tf{constructor(){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const s=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=s&&!isNaN(s)?s:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&q(this.selectedGlowFilter),this.replacementGlowFilter&&q(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,s=this.START_HAT_WIDTH,r=es("c",[Ht(25,-e),Ht(71,-e),Ht(s,0)]);return{height:e,width:s,path:r}}makeHexagonal(){function e(r,d,v){var k=r/2;return k=k>s?s:k,v=v?-1:1,r=(d?-1:1)*r/2,yi(-v*k,r)+yi(v*k,r)}const s=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(r){return r/=2,r>s?s:r},height(r){return r},connectionOffsetY(r){return r/2},connectionOffsetX(r){return-r},pathDown(r){return e(r,!1,!1)},pathUp(r){return e(r,!0,!1)},pathRightDown(r){return e(r,!1,!0)},pathRightUp(r){return e(r,!1,!0)}}}makeRounded(){function e(d,v,k){const Z=d>r?d-r:0;d=(d>r?r:d)/2;const ge=k===v?"0":"1";return Wn("a","0 0,"+ge,d,Ht((k?1:-1)*d,(v?-1:1)*d))+wt("v",(v?-1:1)*Z)+Wn("a","0 0,"+ge,d,Ht((k?-1:1)*d,(v?-1:1)*d))}const s=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,r=2*s;return{type:this.SHAPES.ROUND,isDynamic:!0,width(d){return d/=2,d>s?s:d},height(d){return d},connectionOffsetY(d){return d/2},connectionOffsetX(d){return-d},pathDown(d){return e(d,!1,!1)},pathUp(d){return e(d,!0,!1)},pathRightDown(d){return e(d,!1,!0)},pathRightUp(d){return e(d,!1,!0)}}}makeSquared(){function e(r,d,v){r-=2*s;const k=v===d?"0":"1";return Wn("a","0 0,"+k,s,Ht((v?1:-1)*s,(d?-1:1)*s))+wt("v",(d?-1:1)*r)+Wn("a","0 0,"+k,s,Ht((v?-1:1)*s,(d?-1:1)*s))}const s=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(r){return s},height(r){return r},connectionOffsetY(r){return r/2},connectionOffsetX(r){return-r},pathDown(r){return e(r,!1,!1)},pathUp(r){return e(r,!0,!1)},pathRightDown(r){return e(r,!1,!0)},pathRightUp(r){return e(r,!1,!0)}}}shapeFor(e){let s=e.getCheck();switch(!s&&e.targetConnection&&(s=e.targetConnection.getCheck()),e.type){case It.INPUT_VALUE:case It.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return s&&s.includes("Boolean")?this.HEXAGONAL:s&&s.includes("Number")?this.ROUNDED:(s&&s.includes("String"),this.ROUNDED);case It.PREVIOUS_STATEMENT:case It.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(Ct){return es("c",[Ht(Ct*v/2,0),Ht(Ct*v*3/4,Z/2),Ht(Ct*v,Z)])+lu([Ht(Ct*v,k)])+es("c",[Ht(Ct*v/4,Z/2),Ht(Ct*v/2,Z),Ht(Ct*v,Z)])+wt("h",Ct*d)+es("c",[Ht(Ct*v/2,0),Ht(Ct*v*3/4,-(Z/2)),Ht(Ct*v,-Z)])+lu([Ht(Ct*v,-k)])+es("c",[Ht(Ct*v/4,-(Z/2)),Ht(Ct*v/2,-Z),Ht(Ct*v,-Z)])}const s=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,d=s/3,v=d/3,k=r/2,Z=k/2,ge=e(1),Xe=e(-1);return{type:this.SHAPES.NOTCH,width:s,height:r,pathLeft:ge,pathRight:Xe}}makeInsideCorners(){const e=this.CORNER_RADIUS,s=Wn("a","0 0,0",e,Ht(-e,e)),r=Wn("a","0 0,1",e,Ht(-e,e)),d=Wn("a","0 0,0",e,Ht(e,e)),v=Wn("a","0 0,1",e,Ht(e,e));return{width:e,height:e,pathTop:s,pathBottom:d,rightWidth:e,rightHeight:e,pathTopRight:r,pathBottomRight:v}}generateSecondaryColour_(e){return Bl("#000",e,.15)||e}generateTertiaryColour_(e){return Bl("#000",e,.25)||e}createDom(e,s,r){super.createDom(e,s,r),e=ue(xe.DEFS,{},e),s=ue(xe.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),ue(xe.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},s),r=ue(xe.FECOMPONENTTRANSFER,{result:"outBlur"},s),ue(xe.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},r),ue(xe.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},s),ue(xe.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},s),this.selectedGlowFilterId=s.id,this.selectedGlowFilter=s,e=ue(xe.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),ue(xe.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),s=ue(xe.FECOMPONENTTRANSFER,{result:"outBlur"},e),ue(xe.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},s),ue(xe.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),ue(xe.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),ue(xe.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyTextInputBubble textarea {`,"font-weight: normal;","}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableText>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text,`,`${e} .blocklyNonEditableText>g>text,`,`${e} .blocklyEditableText>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .goog-menuitem,`,`${e}.blocklyDropDownDiv .goog-menuitem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .goog-menuitem-content {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabled > .blocklyOutlinePath {`,`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},Rw=class extends yf{constructor(e,s){super(e,s)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(0>=e.height)){if(Oe.isSpacer(e)){const d=e.precedesStatement;var s=e.followsStatement;if(d||s){const v=this.constants_.INSIDE_CORNERS;var r=v.rightHeight;r=e.height-(d?r:0),s=s?v.pathBottomRight:"",e=0<r?wt("V",e.yPos+r):"",this.outlinePath_+=s+e+(d?v.pathTopRight:"");return}}this.outlinePath_+=wt("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=Ln(e.xPos,this.info_.startY),this.outlinePath_+=wt("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=wt("V",e.baseline),this.outlinePath_+=wt("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const s=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=to(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(s,e))}getInlineInputPath(e){const s=e.width-2*e.connectionWidth,r=e.height;return wt("h",s)+e.shape.pathRightDown(r)+wt("h",-s)+e.shape.pathUp(r)+"z"}drawStatementInput_(e){var s=e.getLastInput();const r=s.xPos+s.notchOffset+s.shape.width,d=this.constants_.INSIDE_CORNERS,v=s.shape.pathRight+wt("h",-(s.notchOffset-d.width))+d.pathTop,k=e.height-2*d.height;s=d.pathBottom+wt("h",s.notchOffset-d.width)+(s.connectedBottomNextConnection?"":s.shape.pathLeft),this.outlinePath_+=wt("H",r)+v+wt("v",k)+s+wt("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const s=e.connectionModel;if(s.type===It.NEXT_STATEMENT||s.type===It.PREVIOUS_STATEMENT||s.type===It.OUTPUT_VALUE&&!e.isDynamicShape)super.drawConnectionHighlightPath(e);else{e=s.type===It.INPUT_VALUE?to(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):to(e.width,-e.height/2)+e.shape.pathDown(e.height);var r=s.getSourceBlock(),d,v;(v=(d=r.pathObject).addConnectionHighlight)==null||v.call(d,s,e,s.getOffsetInBlock(),r.RTL)}}},da=class extends Sn{constructor(e,s,r,d,v,k,Z){if(super(Sn.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",r=Number(Gn(r)),s=Number(Gn(s)),isNaN(r)||isNaN(s))throw Error("Height and width values of an image field must cast to numbers.");if(0>=r||0>=s)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new dn(s,r+da.Y_PADDING),this.imageHeight=r,typeof v=="function"&&(this.clickHandler=v),e!==Sn.SKIP_SETUP&&(Z?this.configure_(Z):(this.flipRtl=!!k,this.altText=Gn(d)||""),this.setValue(Gn(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=Gn(e.alt))}initView(){this.imageElement=ue(xe.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(hs,"xlink:href",this.value_),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(hs,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};da.Y_PADDING=1,Ti("field_image",da),da.prototype.DEFAULT_VALUE="";var Rf=class extends Sn{constructor(e,s,r){super(Sn.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",e!==Sn.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),s&&this.setValidator(s))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new Kn;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new Kn;let s;return this.fullBlockClickTarget_=!((s=this.getConstants())==null||!s.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e,s=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&C()&&this.value_!==e&&s&&$(new(M(o.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new Kn;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.style.colourTertiary)):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(e=this.getConstants())!=null&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(Ue(e,"blocklyInvalidInput"),ho(e,oo.INVALID,!1)):(Ie(e,"blocklyInvalidInput"),ho(e,oo.INVALID,!0))}if(e=this.getSourceBlock(),!e)throw new Kn;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,s=!1){this.workspace_=this.sourceBlock_.workspace,!s&&this.workspace_.options.modalInputs&&(pI||jv||hd)?this.showPromptEditor_():this.showInlineEditor_(s)}showPromptEditor_(){Wt(o.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor_(e){const s=this.getSourceBlock();if(!s)throw new Kn;Sp(this,s.RTL,this.widgetDispose_.bind(this),this.workspace_),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new Kn;o.setGroup$$module$build$src$core$events$utils(!0);const s=su();var r=this.getClickTarget_();if(!r)throw Error("A click target has not been set.");Ie(r,"editing"),r=document.createElement("input"),r.className="blocklyHtmlInput",r.setAttribute("spellcheck",this.spellcheck_);const d=this.workspace_.getScale();var v=this.getConstants().FIELD_TEXT_FONTSIZE*d+"pt";return s.style.fontSize=v,r.style.fontSize=v,v=Rf.BORDERRADIUS*d+"px",this.isFullBlockField()&&(v=this.getScaledBBox(),v=(v.bottom-v.top)/2+"px",e=e.getParent()?e.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,r.style.border=1*d+"px solid "+e,s.style.borderRadius=v,s.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(s.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*d+"px")),r.style.borderRadius=v,s.appendChild(r),r.value=r.defaultValue=this.getEditorText_(this.value_),r.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(r),r}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&C()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&($(new(M(o.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),o.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=su().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");Ue(e,"editing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper_=ve(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=ve(e,"input",this,this.onHtmlInputChange_)}unbindInputEvents_(){this.onKeyDownWrapper_&&(Fe(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(Fe(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)}onHtmlInputKeyDown_(e){e.key==="Enter"?(Fl(this),_i()):e.key==="Escape"?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),Fl(this),_i()):e.key==="Tab"&&(Fl(this),_i(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())}onHtmlInputChange_(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&C()&&this.value_!==e&&$(new(M(Ul))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,s=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,s)}resizeEditor_(){var e=this.getSourceBlock();if(!e)throw new Kn;const s=su(),r=this.getScaledBBox();s.style.width=r.right-r.left+"px",s.style.height=r.bottom-r.top+"px",e=new ht(e.RTL?r.right-s.offsetWidth:r.left,r.top),s.style.left=e.x+"px",s.style.top=e.y+"px"}repositionForWindowResize(){const e=this.getSourceBlock();return e instanceof As?(au(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),e)||this.resizeEditor_(),!0):!1}isTabNavigable(){return!0}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};Rf.BORDERRADIUS=4;var Lf=class extends Rf{constructor(e,s,r){super(e,s,r)}doClassValidation_(e){return e===void 0?null:`${e}`}static fromJson(e){return new this(Gn(e.text),void 0,e)}};Ti("field_input",Lf),Lf.prototype.DEFAULT_VALUE="";var Lw=class extends P_{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},Af=class extends Rd{constructor(e,s){if(super(e,s),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;s=e.getNextBlock();)e=s;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},Aw=class extends ki{constructor(e){super(e),this.width=this.height=0,this.type|=Oe.getType("RIGHT_CONNECTION")}},Nw=class extends V_{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const s=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||s}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},Mw=class extends Nd{constructor(e,s){super(e,s),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new Nw(this.constants_),this.bottomRow=new Lw(this.constants_),this.isMultiRow=!s.getInputsInline()||s.isCollapsed(),this.hasStatementInput=0<s.statementInputCount,this.rightSide=this.outputConnection?new Aw(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,s){return s?s instanceof fr||e instanceof gs||s instanceof gs?!0:e instanceof o.ValueInput$$module$build$src$core$inputs$value_input||e instanceof Oi||e instanceof fr?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,s){return e&&s||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&s&&Oe.isStatementInput(s)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&Oe.isLeftRoundedCorner(e)&&s&&(Oe.isPreviousConnection(s)||Oe.isNextConnection(s))?s.notchOffset-this.constants_.CORNER_RADIUS:e&&Oe.isLeftSquareCorner(e)&&s&&Oe.isHat(s)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,s){if(Oe.isTopRow(e)&&Oe.isBottomRow(s))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const r=Oe.isInputRow(e)&&e.hasStatement,d=Oe.isInputRow(s)&&s.hasStatement;return d||r?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),d&&r?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):Oe.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):Oe.isBottomRow(s)?this.outputConnection?!s.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,s){const r=this.width-this.startX;return Oe.isInputRow(e)&&e.hasStatement||Oe.isInputRow(s)&&s.hasStatement?Math.max(r,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):r}getElemCenterline_(e,s){if(e.hasStatement&&!Oe.isSpacer(s)&&!Oe.isStatementInput(s))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(Oe.isInlineInput(s)&&s instanceof qr){const r=s.connectedBlock;if(r&&r.outputConnection&&r.nextConnection)return e.yPos+r.height/2}return super.getElemCenterline_(e,s)}addInput_(e,s){if((e instanceof Oi||e instanceof fr)&&s.hasDummyInput&&s.align===o.Align$$module$build$src$core$inputs$align.LEFT&&e.align===o.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(s,e);else if(e instanceof gs){s.elements.push(new Af(this.constants_,e)),s.hasStatement=!0,s.align===null&&(s.align=e.align);return}super.addInput_(e,s)}addAlignmentPadding_(e,s){if(this.rightAlignedDummyInputs.get(e)){let r;for(let d=0;d<e.elements.length;d++){const v=e.elements[d];if(Oe.isSpacer(v)&&(r=v),Oe.isField(v)&&v instanceof Mu&&v.parentInput===this.rightAlignedDummyInputs.get(e))break}if(r){r.width+=s,e.width+=s;return}}super.addAlignmentPadding_(e,s)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let s=e;for(let v=2;v<this.rows.length-1;v+=2){var r=this.rows[v-1];const k=this.rows[v];var d=this.rows[v+1];if(r=v===2?!!this.topRow.hasPreviousConnection:!!r.followsStatement,d=v+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!d.precedesStatement,Oe.isInputRow(k)&&k.hasStatement){k.measure();let Z,ge;s=k.width-((ge=(Z=k.getLastInput())==null?void 0:Z.width)!=null?ge:0)+e}else if(r&&(v===2||d)&&Oe.isInputRow(k)&&!k.hasStatement){d=k.xPos,r=null;for(let Z=0;Z<k.elements.length;Z++){const ge=k.elements[Z];Oe.isSpacer(ge)&&(r=ge),r&&(Oe.isField(ge)||Oe.isInput(ge))&&d<s&&!(Oe.isField(ge)&&ge instanceof Mu&&(ge.field instanceof la||ge.field instanceof da))&&(r.width+=s-d),d+=ge.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var s=0,r=0;r<this.rows.length;r++){const d=this.rows[r];d.yPos=s,s+=d.height}this.height=s,r=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,s=e.height(r),r=e.width(r),this.outputConnection.height=s,this.outputConnection.width=r,this.outputConnection.startX=r,this.outputConnection.connectionOffsetY=e.connectionOffsetY(s),this.outputConnection.connectionOffsetX=e.connectionOffsetX(r),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=r,this.rightSide.height=s,this.rightSide.width=e,this.rightSide.centerline=s/2,this.rightSide.xPos=this.width+e),this.startX=r,this.width+=r+e,this.widthWithChildren+=r+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,s=0;s<this.rows.length;s++){var r=this.rows[s];if(!Oe.isInputRow(r))continue;e=r.elements[r.elements.length-2];let d=this.getNegativeSpacing_(r.elements[1]),v=this.getNegativeSpacing_(e);e=d+v;const k=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<k&&(e=this.width-k,d=e/2,v=e/2),r.elements.unshift(new ms(this.constants_,-d)),r.elements.push(new ms(this.constants_,-v))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,s=0;s<this.rows.length;s++)r=this.rows[s],Oe.isTopOrBottomRow(r)&&(r.elements[1].width-=e),r.width-=e,r.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const s=this.outputConnection.width;var r=this.outputConnection.shape.type;const d=this.constants_;if(1<this.inputRows.length)switch(r){case d.SHAPES.ROUND:return r=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,r=this.height/2>r?r:this.height/2,s-r*(1-Math.sin(Math.acos((r-this.constants_.SMALL_PADDING)/r)));default:return 0}if(Oe.isInlineInput(e)&&e instanceof qr){const v=e.connectedBlock;return e=v?v.pathObject.outputShapeType:e.shape.type,e==null||v&&v.outputConnection&&(v.statementInputCount||v.nextConnection)||r===d.SHAPES.HEXAGONAL&&r!==e?0:s-this.constants_.SHAPE_IN_SHAPE_PADDING[r][e]}return Oe.isField(e)&&e instanceof Mu?r===d.SHAPES.ROUND&&e.field instanceof Lf?s-2.75*d.GRID_UNIT:s-this.constants_.SHAPE_IN_SHAPE_PADDING[r][0]:Oe.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let d=2;d<this.rows.length-1;d+=2){const v=this.rows[d-1],k=this.rows[d],Z=this.rows[d+1];var e=d===2,s=d+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!Z.precedesStatement;if(e?this.topRow.hasPreviousConnection:v.followsStatement){var r=k.elements[1];if(r=k.elements.length===3&&r instanceof Mu&&(r.field instanceof la||r.field instanceof da),!e&&r)v.height-=this.constants_.SMALL_PADDING,Z.height-=this.constants_.SMALL_PADDING,k.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!s)v.height+=this.constants_.SMALL_PADDING;else if(s){for(e=!1,s=0;s<k.elements.length;s++)if(r=k.elements[s],r instanceof qr&&Oe.isInlineInput(r)&&r.connectedBlock&&!r.connectedBlock.isShadow()&&40<=r.connectedBlock.getHeightWidth().height){e=!0;break}e&&(v.height-=this.constants_.SMALL_PADDING,Z.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},Dw=class extends W_{constructor(e,s,r){super(e,s,r),this.markerCircle=null}showWithInputOutput(e){const s=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle(e.x,e.y),this.setParent_(s),this.showCurrent_()}showWithOutput_(e){this.showWithInputOutput(e)}showWithInput_(e){this.showWithInputOutput(e)}showWithBlock_(e){e=e.getLocation();const s=e.getHeightWidth();this.positionRect_(0,0,s.width,s.height),this.setParent_(e),this.showCurrent_()}positionCircle(e,s){let r;(r=this.markerCircle)==null||r.setAttribute("cx",`${e}`);let d;(d=this.markerCircle)==null||d.setAttribute("cy",`${s}`),this.currentMarkerSvg=this.markerCircle}hide(){super.hide(),this.markerCircle&&(this.markerCircle.style.display="none")}createDomInternal_(){if(super.createDomInternal_(),this.markerCircle=ue(xe.CIRCLE,{r:this.constants_.CURSOR_RADIUS,"stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();ue(xe.ANIMATE,e,this.markerCircle)}return this.markerSvg_}applyColour_(e){super.applyColour_(e);let s;(s=this.markerCircle)==null||s.setAttribute("fill",this.colour_);let r;if((r=this.markerCircle)==null||r.setAttribute("stroke",this.colour_),this.isCursor()){e=this.colour_+";transparent;transparent;";let d;(d=this.markerCircle)==null||d.firstElementChild.setAttribute("values",e)}}},Pw=class extends Ef{constructor(e,s,r){super(e,s,r),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=r}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const s=e.getParent();e.isShadow()&&s&&this.svgPath.setAttribute("stroke",s.style.colourTertiary);for(const r of this.outlines.values())r.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.setAttribute("fill","none"),this.svgPathSelected.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}updateShapeForInputHighlight(e,s){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(s?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,s){e=this.getOutlinePath(e),e.setAttribute("d",s),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,ue(xe.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let s,r;(s=this.outlines.get(e))==null||(r=s.parentNode)==null||r.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},ab=class extends Sf{constructor(e){super(e)}makeConstants_(){return new Ow}makeRenderInfo_(e){return new Mw(this,e)}makeDrawer_(e,s){return new Rw(e,s)}makeMarkerDrawer(e,s){return new Dw(e,this.getConstants(),s)}makePathObject(e,s){return new Pw(e,s,this.getConstants())}getConstants(){return this.constants_}getConnectionPreviewMethod(e,s,r){return Vr("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),s.type===It.OUTPUT_VALUE?e.isConnected()?Rs.PREVIEW_TYPE.REPLACEMENT_FADE:Rs.PREVIEW_TYPE.INPUT_OUTLINE:super.getConnectionPreviewMethod(e,s,r)}};rd("zelos",ab);var xw=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,s,r){o.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=r,r.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(s)&&(s.highlight(),this.staticConn=s)}finally{o.enable$$module$build$src$core$events$utils()}}previewConnection(e,s){if(e!==this.draggedConn||s!==this.staticConn){o.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,s)&&(this.markerConn=this.previewMarker(e,s)),this.workspace.getRenderer().shouldHighlightConnection(s)&&s.highlight(),this.draggedConn=e,this.staticConn=s}finally{o.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,s){return s.type===It.PREVIOUS_STATEMENT||s.type===It.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof ab)}previewMarker(e,s){const r=e.getSourceBlock(),d=this.createInsertionMarker(r),v=this.getMatchingConnection(r,d,e);if(!v)return null;d.queueRender(),ji(),v.connect(s);const k={x:s.x-v.x,y:s.y-v.y},Z=v.getOffsetInBlock().clone();return vi().then(()=>{if(!d.isDeadOrDying()){o.disable$$module$build$src$core$events$utils();try{d==null||d.positionNearConnection(v,k,Z),d==null||d.getSvgRoot().setAttribute("visibility","visible")}finally{o.enable$$module$build$src$core$events$utils()}}}),v}createInsertionMarker(e){const s=ds(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!s)throw Error(`Failed to serialize source block. ${e.toDevString()}`);e=qi(s,this.workspace);for(const r of e.getDescendants(!1))r.setInsertionMarker(!0);return e.initSvg(),e.getSvgRoot().setAttribute("visibility","hidden"),e}getMatchingConnection(e,s,r){if(e=e.getConnections_(!0),s=s.getConnections_(!0),e.length!==s.length)return null;for(let d=0;d<e.length;d++)if(e[d]===r)return s[d];return null}hidePreview(){o.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{o.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const s=e.getSourceBlock(),r=s.outputConnection;let d;if((d=s.previousConnection)!=null&&d.targetConnection||r!=null&&r.targetConnection)s.unplug(!0);else{let v;(v=e.targetBlock())==null||v.unplug(!1)}s.dispose()}dispose(){this.hidePreview()}};i(ut.CONNECTION_PREVIEWER,Ei,xw);var Qr={};Qr.Align=o.Align$$module$build$src$core$inputs$align,Qr.DummyInput=Oi,Qr.EndRowInput=fr,Qr.Input=Du,Qr.StatementInput=gs,Qr.ValueInput=o.ValueInput$$module$build$src$core$inputs$value_input,Qr.inputTypes=o.inputTypes$$module$build$src$core$inputs$input_types;var Bw=!1,Fw;o.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=J());var s=[];this.init(e),e=e.getTopBlocks(!0);for(let r=0,d;d=e[r];r++){let v=this.blockToCode(d);Array.isArray(v)&&(v=v[0]),v&&(d.outputConnection&&(v=this.scrubNakedValue(v),this.STATEMENT_PREFIX&&!d.suppressPrefixSuffix&&(v=this.injectId(this.STATEMENT_PREFIX,d)+v),this.STATEMENT_SUFFIX&&!d.suppressPrefixSuffix&&(v+=this.injectId(this.STATEMENT_SUFFIX,d))),s.push(v))}return s=s.join(`
`),s=this.finish(s),s=s.replace(/^\s+\n/,""),s=s.replace(/\n\s+$/,`
`),s=s.replace(/[ \t]+\n/g,`
`)}prefixLines(e,s){return s+e.replace(/(?!\n$)\n/g,`
`+s)}allNestedComments(e){const s=[];e=e.getDescendants(!0);for(let r=0;r<e.length;r++){const d=e[r].getCommentText();d&&s.push(d)}return s.length&&s.push(""),s.join(`
`)}blockToCode(e,s){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return s?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return s?"":this.blockToCode(e.getChildren(!1)[0]);var r=this.forBlock[e.type];if(typeof r!="function")throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(r=r.call(e,e,this),Array.isArray(r)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,r[0],s),r[1]]}if(typeof r=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(r=this.injectId(this.STATEMENT_PREFIX,e)+r),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(r+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,r,s);if(r===null)return"";throw SyntaxError("Invalid code generated: "+r)}valueToCode(e,s,r){if(isNaN(r))throw TypeError("Expecting valid order from block: "+e.type);var d=e.getInputTargetBlock(s);if(!d&&!e.getInput(s))throw ReferenceError(`Input "${s}" doesn't exist on "${e.type}"`);if(!d||(s=this.blockToCode(d),s===""))return"";if(!Array.isArray(s))throw TypeError(`Expecting tuple from value block: ${d.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=s[0],s=s[1],isNaN(s))throw TypeError("Expecting valid order from value block: "+d.type);if(!e)return"";d=!1;var v=Math.floor(r);const k=Math.floor(s);if(v<=k&&(v!==k||v!==0&&v!==99)){for(d=!0,v=0;v<this.ORDER_OVERRIDES.length;v++)if(this.ORDER_OVERRIDES[v][0]===r&&this.ORDER_OVERRIDES[v][1]===s){d=!1;break}}return d&&(e="("+e+")"),e}statementToCode(e,s){const r=e.getInputTargetBlock(s);if(!r&&!e.getInput(s))throw ReferenceError(`Input "${s}" doesn't exist on "${e.type}"`);if(e=this.blockToCode(r),typeof e!="string")throw TypeError("Expecting code from statement block: "+(r&&r.type));return e&&(e=this.prefixLines(e,this.INDENT)),e}addLoopTrap(e,s){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,s),this.INDENT)+e),this.STATEMENT_SUFFIX&&!s.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,s),this.INDENT)+e),this.STATEMENT_PREFIX&&!s.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,s),this.INDENT)),e}injectId(e,s){return s=s.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+s+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,s){if(!this.definitions_[e]){const r=this.nameDB_.getDistinctName(e,o.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=r,Array.isArray(s)&&(s=s.join(`
`)),s=s.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,r);let d;for(;d!==s;)d=s,s=s.replace(/^(( {2})*) {2}/gm,"$1\0");s=s.replace(/\0/g,this.INDENT),this.definitions_[e]=s}return this.functionNames_[e]}getVariableName(e){return this.getName(e,o.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,o.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,s){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,s)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,s,r){return s}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},Fw={},Fw.CodeGenerator=o.CodeGenerator$$module$build$src$core$generator;var Hw=class extends lb{constructor(e,s){super(e),this.flyout_=s}getBoundingBox_(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch{e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const s=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:s.height*e,width:s.width*e,top:s.y*e,left:s.x*e}}getScrollMetrics(e,s,r){return s=r||this.getContentMetrics(),r=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(s.height+2*r)/e,width:(s.width+s.left+r)/e,top:0,left:0}}},Hu;(function(e){e.BLOCK="block",e.BUTTON="button"})(Hu||(Hu={}));var Yx="WORKSPACE_AT_BLOCK_CAPACITY",Nf=class extends If{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.filterWrapper=this.reflowWrapper=null,this.mats=[],this.buttons_=[],this.contents=[],this.listeners=[],this.permanentlyDisabled=[],this.recycledBlocks=[],this.autoClose=!0,this.isVisible_=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Ls(e),this.workspace_.setMetricsManager(new Hw(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=b(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN}createDom(e){return this.svgGroup_=ue(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=ue(xe.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new rb(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(ve(this.svgGroup_,"wheel",this,this.wheel_)),this.filterWrapper=this.filterForCapacity.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper),this.boundEvents.push(ve(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[no.Capability.AUTOHIDEABLE,no.Capability.DELETE_AREA,no.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)Fe(e);this.boundEvents.length=0,this.filterWrapper&&this.targetWorkspace.removeChangeListener(this.filterWrapper),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&q(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.isVisible_}setVisible(e){const s=e!==this.isVisible();this.isVisible_=e,s&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const s=e!==this.containerVisible;this.containerVisible=e,s&&this.updateDisplay()}getContents(){return this.contents}setContents(e){this.contents=e}updateDisplay(){let e;e=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let s;(s=this.workspace_.scrollbar)==null||s.setContainerVisible(e)}positionAt_(e,s,r,d){let v;(v=this.svgGroup_)==null||v.setAttribute("width",`${e}`);let k;(k=this.svgGroup_)==null||k.setAttribute("height",`${s}`),this.workspace_.setCachedParentSvgSize(e,s),this.svgGroup_&&lt(this.svgGroup_,"translate("+r+"px,"+d+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(r,d),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){if(this.isVisible()){this.setVisible(!1);for(const e of this.listeners)Fe(e);this.listeners.length=0,this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null)}}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof e=="string"&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=Yi(e),e=this.createFlyoutInfo(e),ji(this.workspace_),this.setContents(e.contents),this.layout_(e.contents,e.gaps),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity(),this.position(),this.reflowWrapper=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper),this.emptyRecycledBlocks()}createFlyoutInfo(e){const s=[],r=[];this.permanentlyDisabled.length=0;const d=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const v of e){if("custom"in v){e=this.getDynamicCategoryContents(v.custom),e=Yi(e);const{contents:k,gaps:Z}=this.createFlyoutInfo(e);s.push(...k),r.push(...Z)}switch(v.kind.toUpperCase()){case"BLOCK":e=v;const k=this.createFlyoutBlock(e);s.push({type:Hu.BLOCK,block:k}),this.addBlockGap(e,r,d);break;case"SEP":this.addSeparatorGap(v,r,d);break;case"LABEL":e=this.createButton(v,!0),s.push({type:Hu.BUTTON,button:e}),r.push(d);break;case"BUTTON":e=this.createButton(v,!1),s.push({type:Hu.BUTTON,button:e}),r.push(d)}}return{contents:s,gaps:r}}getDynamicCategoryContents(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}createButton(e,s){return new Os(this.workspace_,this.targetWorkspace,e,s)}createFlyoutBlock(e){let s;return e.blockxml?(e=typeof e.blockxml=="string"?o.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,(s=this.getRecycledBlock(e.getAttribute("type")))||(s=Hl(e,this.workspace_))):(s=this.getRecycledBlock(e.type),s||(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),e.disabledReasons===void 0&&e.enabled===!1&&(e.disabledReasons=[Cs]),s=Za(e,this.workspace_))),s.isEnabled()||this.permanentlyDisabled.push(s),s}getRecycledBlock(e){let s=-1;for(let r=0;r<this.recycledBlocks.length;r++)if(this.recycledBlocks[r].type===e){s=r;break}return s===-1?void 0:this.recycledBlocks.splice(s,1)[0]}addBlockGap(e,s,r){let d;e.gap?d=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?o.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,d=parseInt(e.getAttribute("gap"))),s.push(!d||isNaN(d)?r:d)}addSeparatorGap(e,s,r){e=parseInt(String(e.gap)),!isNaN(e)&&0<s.length?s[s.length-1]=e:s.push(r)}clearOldBlocks(){var e=this.workspace_.getTopBlocks(!1);for(let r=0,d;d=e[r];r++)this.blockIsRecyclable_(d)?this.recycleBlock(d):d.dispose(!1,!1);for(e=0;e<this.mats.length;e++){const r=this.mats[e];r&&(bp(r),q(r))}this.mats.length=0;for(let r=0,d;d=this.buttons_[r];r++)d.dispose();this.buttons_.length=0;let s;(s=this.workspace_.getPotentialVariableMap())==null||s.clear()}emptyRecycledBlocks(){for(let e=0;e<this.recycledBlocks.length;e++)this.recycledBlocks[e].dispose();this.recycledBlocks=[]}blockIsRecyclable_(e){return!1}recycleBlock(e){const s=e.getRelativeToSurfaceXY();e.moveBy(-s.x,-s.y),this.recycledBlocks.push(e)}addBlockListeners_(e,s,r){this.listeners.push(ve(e,"pointerdown",null,this.blockMouseDown(s))),this.listeners.push(ve(r,"pointerdown",null,this.blockMouseDown(s))),this.listeners.push(Ae(e,"pointerenter",s,()=>{this.targetWorkspace.isDragging()||s.addSelect()})),this.listeners.push(Ae(e,"pointerleave",s,()=>{this.targetWorkspace.isDragging()||s.removeSelect()})),this.listeners.push(Ae(r,"pointerenter",s,()=>{this.targetWorkspace.isDragging()||s.addSelect()})),this.listeners.push(Ae(r,"pointerleave",s,()=>{this.targetWorkspace.isDragging()||s.removeSelect()}))}blockMouseDown(e){return s=>{const r=this.targetWorkspace.getGesture(s);r&&(r.setStartBlock(e),r.handleFlyoutStart(s,this))}}onMouseDown(e){const s=this.targetWorkspace.getGesture(e);s&&s.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()}createBlock(e){let s=null;o.disable$$module$build$src$core$events$utils();var r=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{s=this.placeNewBlock(e)}finally{o.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=Xc(this.targetWorkspace,r),C()){for(o.setGroup$$module$build$src$core$events$utils(!0),r=0;r<e.length;r++){const d=e[r];$(new(M(er))(d))}$(new(M(o.CREATE$$module$build$src$core$events$utils))(s))}return this.autoClose?this.hide():this.filterForCapacity(),s}initFlyoutButton_(e,s,r){const d=e.createDom();e.moveTo(s,r),e.show(),this.listeners.push(ve(d,"pointerdown",this,this.onMouseDown)),this.buttons_.push(e)}createRect_(e,s,r,d,v){return s=ue(xe.RECT,{"fill-opacity":0,x:s,y:r,height:d.height,width:d.width}),s.tooltip=e,nu(s),this.workspace_.getCanvas().insertBefore(s,e.getSvgRoot()),this.rectMap_.set(e,s),this.mats[v]=s}moveRectToBlock_(e,s){const r=s.getHeightWidth();e.setAttribute("width",String(r.width)),e.setAttribute("height",String(r.height)),s=s.getRelativeToSurfaceXY(),e.setAttribute("y",String(s.y)),e.setAttribute("x",String(this.RTL?s.x-r.width:s.x))}filterForCapacity(){const e=this.workspace_.getTopBlocks(!1);for(let s=0,r;r=e[s];s++)if(!this.permanentlyDisabled.includes(r)){const d=this.targetWorkspace.isCapacityAvailable(X(r));for(;r;)r.setDisabledReason(!d,Yx),r=r.getNextBlock()}}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(e){var s=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const r=this.serializeBlock(e);return s.setResizesEnabled(!1),s=qi(r,s),this.positionNewBlock(e,s),s}serializeBlock(e){return ds(e)}positionNewBlock(e,s){const r=this.targetWorkspace;var d=r.getOriginOffsetInPixels(),v=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),v=ht.sum(v,e),d=ht.difference(v,d),d.scale(1/r.scale),s.moveTo(new ht(d.x,d.y))}};Nf.FlyoutItemType=Hu;var ub=class extends Nf{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var s=this.workspace_.getMetricsManager(),r=s.getScrollMetrics(),d=s.getViewMetrics();s=s.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(r.top+(r.height-d.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+s.left,this.workspace_.scrollY+s.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const s=e.getAbsoluteMetrics(),r=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Zt.LEFT?e.width:r.width-this.width_:this.toolboxPosition_===Zt.LEFT?0:r.width:this.toolboxPosition_===Zt.LEFT?0:r.width+s.left-this.width_}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var s=this.getY();this.positionAt_(this.width_,this.height_,e,s)}}setBackgroundPath(e,s){const r=this.toolboxPosition_===Zt.RIGHT;var d=e+this.CORNER_RADIUS;d=["M "+(r?d:0)+",0"],d.push("h",r?-e:e),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("v",Math.max(0,s)),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("h",r?e:-e),d.push("z"),this.svgBackground_.setAttribute("d",d.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var s=Be(e);if(s.y){const r=this.workspace_.getMetricsManager(),d=r.getScrollMetrics();s=r.getViewMetrics().top-d.top+s.y;let v;(v=this.workspace_.scrollbar)==null||v.setY(s),ed(this.workspace_),_i()}e.preventDefault(),e.stopPropagation()}layout_(e,s){this.workspace_.scale=this.targetWorkspace.scale;var r=this.MARGIN;const d=this.RTL?r:r+this.tabWidth_;for(let ge=0,Xe;Xe=e[ge];ge++)if(Xe.type==="block"){var v=Xe.block;if(!v)continue;var k=v.getDescendants(!1);for(let Rn=0,In;In=k[Rn];Rn++)In.isInFlyout=!0;k=v.getSvgRoot();const Ct=v.getHeightWidth();var Z=v.outputConnection?d-this.tabWidth_:d;v.moveBy(Z,r),Z=this.createRect_(v,this.RTL?Z-Ct.width:Z,r,Ct,ge),this.addBlockListeners_(k,v,Z),r+=Ct.height+s[ge]}else Xe.type==="button"&&(v=Xe.button,this.initFlyoutButton_(v,d,r),r+=v.height+s[ge])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const s=this.dragAngleRange_;return e<s&&e>-s||e<-180+s||e>180-s}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),s=e.left;return this.toolboxPosition_===Zt.LEFT?new En(-1e9,1e9,-1e9,s+e.width):new En(-1e9,1e9,s,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;var s=this.workspace_.getTopBlocks(!1);for(let d=0,v;v=s[d];d++){var r=v.getHeightWidth().width;v.outputConnection&&(r-=this.tabWidth_),e=Math.max(e,r)}for(let d=0,v;v=this.buttons_[d];d++)e=Math.max(e,v.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,e+=zn.scrollbarThickness,this.width_!==e){for(let d=0,v;v=s[d];d++){if(this.RTL){r=v.getRelativeToSurfaceXY().x;let k=e/this.workspace_.scale-this.MARGIN;v.outputConnection||(k-=this.tabWidth_),v.moveBy(k-r,0)}this.rectMap_.has(v)&&this.moveRectToBlock_(this.rectMap_.get(v),v)}if(this.RTL)for(let d=0,v;v=this.buttons_[d];d++)s=v.getPosition().y,v.moveTo(e/this.workspace_.scale-v.width-this.MARGIN-this.tabWidth_,s);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Zt.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};ub.registryName="verticalFlyout",i(ut.FLYOUTS_VERTICAL_TOOLBOX,Ei,ub);var Vw=class extends Nf{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var s=this.workspace_.getMetricsManager(),r=s.getScrollMetrics(),d=s.getViewMetrics();s=s.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(r.left+(r.width-d.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+s.left,this.workspace_.scrollY+s.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const s=e.getAbsoluteMetrics(),r=e.getViewMetrics();e=e.getToolboxMetrics();const d=this.toolboxPosition_===Zt.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?d?e.height:r.height-this.height_:d?0:r.height:d?0:r.height+s.top-this.height_}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var s=this.getY();this.positionAt_(this.width_,this.height_,e,s)}}setBackgroundPath(e,s){const r=this.toolboxPosition_===Zt.TOP,d=["M 0,"+(r?0:this.CORNER_RADIUS)];r?(d.push("h",e+2*this.CORNER_RADIUS),d.push("v",s),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("h",-e),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),d.push("h",e),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("v",s),d.push("h",-e-2*this.CORNER_RADIUS)),d.push("z"),this.svgBackground_.setAttribute("d",d.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var s=Be(e);if(s=s.x||s.y){const r=this.workspace_.getMetricsManager(),d=r.getScrollMetrics();s=r.getViewMetrics().left-d.left+s;let v;(v=this.workspace_.scrollbar)==null||v.setX(s),ed(this.workspace_),_i()}e.preventDefault(),e.stopPropagation()}layout_(e,s){this.workspace_.scale=this.targetWorkspace.scale;const r=this.MARGIN;let d=r+this.tabWidth_;this.RTL&&(e=e.reverse());for(let ge=0,Xe;Xe=e[ge];ge++)if(Xe.type==="block"){var v=Xe.block;if(v==null)continue;var k=v.getDescendants(!1);for(let Rn=0,In;In=k[Rn];Rn++)In.isInFlyout=!0;k=v.getSvgRoot();const Ct=v.getHeightWidth();var Z=v.outputConnection?this.tabWidth_:0;Z=this.RTL?d+Ct.width:d-Z,v.moveBy(Z,r),Z=this.createRect_(v,Z,r,Ct,ge),d+=Ct.width+s[ge],this.addBlockListeners_(k,v,Z)}else Xe.type==="button"&&(v=Xe.button,this.initFlyoutButton_(v,d,r),d+=v.width+s[ge])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const s=this.dragAngleRange_;return e<90+s&&e>90-s||e>-90-s&&e<-90+s}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),s=e.top;return this.toolboxPosition_===Zt.TOP?new En(-1e9,s+e.height,-1e9,1e9):new En(s,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;const s=this.workspace_.getTopBlocks(!1);for(let d=0,v;v=s[d];d++)e=Math.max(e,v.getHeightWidth().height);const r=this.buttons_;for(let d=0,v;v=r[d];d++)e=Math.max(e,v.height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,e+=zn.scrollbarThickness,this.height_!==e){for(let d=0,v;v=s[d];d++)this.rectMap_.has(v)&&this.moveRectToBlock_(this.rectMap_.get(v),v);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Zt.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};i(ut.FLYOUTS_HORIZONTAL_TOOLBOX,Ei,Vw);var xd=class extends wi{constructor(e,s,r,d,v){super(Sn.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=xd.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new dn(0,0),e!==Sn.SKIP_SETUP&&(v?this.configure_(v):this.setTypes(r,d),s&&this.setValidator(s))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new Kn;this.variable||(e=o.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new Kn;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var s=this.getSourceBlock();if(!s)throw new Kn;const r=e.getAttribute("id"),d=e.textContent,v=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(s=o.getOrCreateVariablePackage$$module$build$src$core$variables(s.workspace,r,d,v),v!==null&&v!==s.type)throw Error("Serialized variable type with id '"+s.getId()+"' had type "+s.type+", and does not match variable field that references it: "+bi(e)+".");this.setValue(s.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.name,this.variable.type&&e.setAttribute("variabletype",this.variable.type),e}saveState(e){var s=this.saveLegacyState(xd);return s!==null||(this.initModel(),s={id:this.variable.getId()},e&&(s.name=this.variable.name,s.type=this.variable.type)),s}loadState(e){const s=this.getSourceBlock();if(!s)throw new Kn;this.loadLegacyState(xd,e)||(e=o.getOrCreateVariablePackage$$module$build$src$core$variables(s.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.name:""}getVariable(){return this.variable}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(e===null)return null;var s=this.getSourceBlock();if(!s)throw new Kn;return s=o.getVariable$$module$build$src$core$variables(s.workspace,e),s?(s=s.type,this.typeIsAllowed(s)?e:(console.warn("Variable type doesn't match this field!  Type was "+s),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const s=this.getSourceBlock();if(!s)throw new Kn;this.variable=o.getVariable$$module$build$src$core$variables(s.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const s=this.getVariableTypes();if(!s)return!0;for(let r=0;r<s.length;r++)if(e===s[r])return!0;return!1}getVariableTypes(){var e=this.variableTypes;if(e===null&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(e=e||[""],e.length===0)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e}setTypes(e=null,s=""){if(Array.isArray(e)){let r=!1;for(let d=0;d<e.length;d++)e[d]===s&&(r=!0);if(!r)throw Error("Invalid default type '"+s+"' in the definition of a FieldVariable")}else if(e!==null)throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType=s,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,s){if(e=s.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===K_){o.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(e===X_){this.sourceBlock_.workspace.deleteVariableById(this.variable.getId());return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(Gn(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let s=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var r=this.getVariableTypes(),d=0;d<r.length;d++){const v=this.sourceBlock_.workspace.getVariablesOfType(r[d]);s=s.concat(v)}for(s.sort(vd.compareByName),r=[],d=0;d<s.length;d++)r[d]=[s[d].name,s[d].getId()];return r.push([o.Msg$$module$build$src$core$msg.RENAME_VARIABLE,K_]),o.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&r.push([o.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),X_]),r}};Ti("field_variable",xd);var cb=class extends Rf{constructor(e,s,r,d,v,k){super(Sn.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==Sn.SKIP_SETUP&&(k?this.configure_(k):this.setConstraints(s,r,d),this.setValue(e),v&&this.setValidator(v))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,s,r){this.setMinInternal(e),this.setMaxInternal(s),this.setPrecisionInternal(r),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let s=String(this.precision_);s.includes("e")&&(s=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const r=s.indexOf(".");this.decimalPlaces=r===-1?e?0:null:s.length-r-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e=`${e}`.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces!==null&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){const e=super.widgetCreate_();return-1/0<this.min_&&(e.min=`${this.min_}`,ho(e,oo.VALUEMIN,this.min_)),1/0>this.max_&&(e.max=`${this.max_}`,ho(e,oo.VALUEMAX,this.max_)),e}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};Ti("field_number",cb),cb.prototype.DEFAULT_VALUE=0;var Uw=class extends la{constructor(e,s,r){super(String(e??""),s,r),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(Gn(e.text),void 0,e)}};Ti("field_label_serializable",Uw);var ha=class extends Sn{constructor(e,s,r){super(Sn.SKIP_SETUP),this.SERIALIZABLE=!0,this.CURSOR="default",this.value_=this.value_,this.checkChar=ha.CHECK_CHAR,e!==Sn.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),s&&this.setValidator(s))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(ha);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();Ie(e,"blocklyCheckbox"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||ha.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool_(this.value_))}convertValueToBool_(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};ha.CHECK_CHAR="✓",Ti("field_checkbox",ha),ha.prototype.DEFAULT_VALUE=!1;var Gw=class{constructor(e,s){this.draggable=e,this.workspace=s,this.dragTarget=null,this.startLoc=e.getRelativeToSurfaceXY()}onDragStart(e){this.draggable.startDrag(e)}onDrag(e,s){this.moveDraggable(e,s),s=this.getRoot(this.draggable),Ss(s)&&s.setDeleteStyle(this.wouldDeleteDraggable(e,s)),this.updateDragTarget(e)}updateDragTarget(e){e=this.workspace.getDragTarget(e);const s=this.getRoot(this.draggable);if(this.dragTarget!==e){let r;(r=this.dragTarget)==null||r.onDragExit(s),e==null||e.onDragEnter(s)}e==null||e.onDragOver(s),this.dragTarget=e}moveDraggable(e,s){s=this.pixelsToWorkspaceUnits(s),s=ht.sum(this.startLoc,s),this.draggable.drag(s,e)}wouldDeleteDraggable(e,s){return(e=this.workspace.getDragTarget(e))&&this.workspace.getComponentManager().hasCapability(e.id,no.Capability.DELETE_AREA)?e.wouldDelete(s):!1}onDragEnd(e){const s=o.getGroup$$module$build$src$core$events$utils();var r=this.workspace.getDragTarget(e);const d=this.getRoot(this.draggable);if(r){let v;(v=this.dragTarget)==null||v.onDrop(d)}this.shouldReturnToStart(e,d)&&this.draggable.revertDrag(),(r=Ss(d)&&this.wouldDeleteDraggable(e,d))&&this.draggable instanceof As&&Ip(this.draggable.getRootBlock()),this.draggable.endDrag(e),r&&Ss(d)&&(e=o.getGroup$$module$build$src$core$events$utils(),o.setGroup$$module$build$src$core$events$utils(s),d.dispose(),o.setGroup$$module$build$src$core$events$utils(e))}getRoot(e){return e instanceof As?e.getRootBlock():e}shouldReturnToStart(e,s){return(e=this.workspace.getDragTarget(e))?e.shouldPreventMove(s):!1}pixelsToWorkspaceUnits(e){return e=new ht(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}};i(ut.BLOCK_DRAGGER,Ei,Gw);var Bd={};Bd.BlockDragStrategy=Tw,Bd.BubbleDragStrategy=tw,Bd.CommentDragStrategy=AI,Bd.Dragger=Gw;var db=class extends Ci{constructor(e,s,r){super(e?e.workspace.id:void 0),this.type=Wl,e&&(this.blockId=e.id,this.isStart=s,this.blocks=r)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new db),s.isStart=e.isStart,s.blockId=e.blockId,s.blocks=e.blocks,s}};i(ut.EVENT,Wl,db);var hb=class extends ea{constructor(e,s,r,d){super(e),this.type=Ul,this.recordUndo=!1,e&&(this.name=s,this.oldValue=r,this.newValue=d)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new hb),s.name=e.name,s.oldValue=e.oldValue,s.newValue=e.newValue,s}isNull(){return this.oldValue===this.newValue}run(e){var s=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(s=s.getBlockById(this.blockId),!s)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(s=s.getField(this.name))?s.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};i(ut.EVENT,Ul,hb);var pb=class extends ea{constructor(e){super(e),this.type=o.MOVE$$module$build$src$core$events$utils,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new pb),s.oldParentId=e.oldParentId,s.oldInputName=e.oldInputName,e.oldCoordinate&&(r=e.oldCoordinate.split(","),s.oldCoordinate=new ht(Number(r[0]),Number(r[1]))),s.newParentId=e.newParentId,s.newInputName=e.newInputName,e.newCoordinate&&(r=e.newCoordinate.split(","),s.newCoordinate=new ht(Number(r[0]),Number(r[1]))),e.reason!==void 0&&(s.reason=e.reason),e.recordUndo!==void 0&&(s.recordUndo=e.recordUndo),s}recordNew(){const e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation_(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var s=e.getBlockById(this.blockId);if(!s)throw Error("The block associated with the block move event could not be found");e={};const r=s.getParent();return r?(e.parentId=r.id,(s=r.getInputWithBlock(s))&&(e.inputName=s.name)):e.coordinate=s.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&ht.equals(this.oldCoordinate,this.newCoordinate)}run(e){var s=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var r=s.getBlockById(this.blockId);if(r){var d=e?this.newParentId:this.oldParentId,v=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,d){var k=s.getBlockById(d);if(!k){console.warn("Can't connect to non-existent block: "+d);return}}if(r.getParent()&&r.unplug(),e)v=r.getRelativeToSurfaceXY(),r.moveBy(e.x-v.x,e.y-v.y,this.reason);else{s=r.outputConnection,(!s||r.previousConnection&&r.previousConnection.isConnected())&&(s=r.previousConnection);let Z,ge;r=(ge=s)==null?void 0:ge.type,v?(r=k.getInput(v))&&(Z=r.connection):r===It.PREVIOUS_STATEMENT&&(Z=k.nextConnection),Z&&s?s.connect(Z):console.warn("Can't connect to non-existent input: "+v)}}else console.warn("Can't move non-existent block: "+this.blockId)}};i(ut.EVENT,o.MOVE$$module$build$src$core$events$utils,pb);var fb=class extends Ci{constructor(e,s,r){super(e?e.workspace.id:void 0),this.type=Si,e&&(this.blockId=e.id,this.isOpen=s,this.bubbleType=r)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new fb),s.isOpen=e.isOpen,s.bubbleType=e.bubbleType,s.blockId=e.blockId,s}},mb;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(mb||(mb={})),i(ut.EVENT,Si,fb);var mr=class extends vu{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=o.getGroup$$module$build$src$core$events$utils(),this.recordUndo=T())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new mr),s.commentId=e.commentId,s}static CommentCreateDeleteHelper(e,s){const r=e.getEventWorkspace_();if(s){if(!e.json)throw Error("Encountered a comment event without proper json");jc(e.json,r)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(s=r.getCommentById(e.commentId))?s.dispose():console.warn("Can't delete non-existent comment: "+e.commentId)}}},gb=class extends mr{constructor(e,s,r){super(e),this.type=$u,e&&(this.oldContents_=typeof s>"u"?"":s,this.newContents_=typeof r>"u"?"":r)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new gb),s.oldContents_=e.oldContents,s.newContents_=e.newContents,s}isNull(){return this.oldContents_===this.newContents_}run(e){var s=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(s=s.getCommentById(this.commentId)){var r=e?this.newContents_:this.oldContents_;if(r===void 0)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");s.setText(r)}else console.warn("Can't change non-existent comment: "+this.commentId)}};i(ut.EVENT,$u,gb);var $b=class extends mr{constructor(e){super(e),this.type=nr,e&&(this.xml=od(e),this.json=Ja(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=bi(this.xml),e.json=this.json,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new $b),s.xml=o.textToDom$$module$build$src$core$utils$xml(e.xml),s.json=e.json,s}run(e){mr.CommentCreateDeleteHelper(this,e)}};i(ut.EVENT,nr,$b);var vb=class extends mr{constructor(e){super(e),this.type=gu,e&&(this.xml=od(e),this.json=Ja(e,{addCoordinates:!0}))}run(e){mr.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=bi(this.xml),e.json=this.json,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new vb),s.xml=o.textToDom$$module$build$src$core$utils$xml(e.xml),s.json=e.json,s}};i(ut.EVENT,gu,vb);var _b=class extends mr{constructor(e){super(e),this.type=or,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(e){this.reason=e}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new _b),r=e.oldCoordinate.split(","),s.oldCoordinate_=new ht(Number(r[0]),Number(r[1])),r=e.newCoordinate.split(","),s.newCoordinate_=new ht(Number(r[0]),Number(r[1])),s}isNull(){return ht.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var s=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(s=s.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");s.moveTo(e)}else console.warn("Can't move non-existent comment: "+this.commentId)}};i(ut.EVENT,or,_b);var bb=class extends mr{constructor(e,s){super(e),this.newCollapsed=s,this.type=ud}toJson(){const e=super.toJson();if(this.newCollapsed===void 0)throw Error("The new collapse value undefined. Either call recordNew, or call fromJson");return e.newCollapsed=this.newCollapsed,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new bb),s.newCollapsed=e.newCollapsed,s}run(e){var s=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(s=s.getCommentById(this.commentId))?s.setCollapsed(e?!!this.newCollapsed:!this.newCollapsed):console.warn("Can't collapse or uncollapse non-existent comment: "+this.commentId)}};i(ut.EVENT,ud,bb);var Tb=class extends Ci{constructor(e,s,r){super(r),this.type=fu,this.oldItem=e??void 0,this.newItem=s??void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,s,r){return s=super.fromJson(e,s,r??new Tb),s.oldItem=e.oldItem,s.newItem=e.newItem,s}};i(ut.EVENT,fu,Tb);var Ww=class extends vu{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=zl,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};i(ut.EVENT,zl,Ww),o.CHANGE$$module$build$src$core$events$utils,o.CREATE$$module$build$src$core$events$utils,o.DELETE$$module$build$src$core$events$utils,o.MOVE$$module$build$src$core$events$utils,o.CHANGE$$module$build$src$core$events$utils,o.CREATE$$module$build$src$core$events$utils,o.DELETE$$module$build$src$core$events$utils,o.MOVE$$module$build$src$core$events$utils,o.disable$$module$build$src$core$events$utils,o.enable$$module$build$src$core$events$utils,o.getGroup$$module$build$src$core$events$utils,o.setGroup$$module$build$src$core$events$utils,o.setRecordUndo$$module$build$src$core$events$utils;var kt={};kt.Abstract=vu,kt.BLOCK_CHANGE=o.CHANGE$$module$build$src$core$events$utils,kt.BLOCK_CREATE=o.CREATE$$module$build$src$core$events$utils,kt.BLOCK_DELETE=o.DELETE$$module$build$src$core$events$utils,kt.BLOCK_DRAG=Wl,kt.BLOCK_FIELD_INTERMEDIATE_CHANGE=Ul,kt.BLOCK_MOVE=o.MOVE$$module$build$src$core$events$utils,kt.BUBBLE_OPEN=Si,kt.BUMP_EVENTS=Up,kt.BlockBase=ea,kt.BlockChange=ta,kt.BlockCreate=k_,kt.BlockDelete=U_,kt.BlockDrag=db,kt.BlockFieldIntermediateChange=hb,kt.BlockMove=pb,kt.BubbleOpen=fb,kt.BubbleType=mb,kt.CHANGE=o.CHANGE$$module$build$src$core$events$utils,kt.CLICK=tr,kt.COMMENT_CHANGE=$u,kt.COMMENT_CREATE=nr,kt.COMMENT_DELETE=gu,kt.COMMENT_MOVE=or,kt.CREATE=o.CREATE$$module$build$src$core$events$utils,kt.Click=zv,kt.ClickTarget=Kv,kt.CommentBase=mr,kt.CommentChange=gb,kt.CommentCollapse=bb,kt.CommentCreate=$b,kt.CommentDelete=vb,kt.CommentMove=_b,kt.DELETE=o.DELETE$$module$build$src$core$events$utils,kt.FINISHED_LOADING=zl,kt.FinishedLoading=Ww,kt.MARKER_MOVE=hu,kt.MOVE=o.MOVE$$module$build$src$core$events$utils,kt.MarkerMove=G_,kt.SELECTED=du,kt.Selected=Z_,kt.THEME_CHANGE=mu,kt.TOOLBOX_ITEM_SELECT=fu,kt.TRASHCAN_OPEN=pu,kt.ThemeChange=O_,kt.ToolboxItemSelect=Tb,kt.TrashcanOpen=J_,kt.UI=Hp,kt.UiBase=Ci,kt.VAR_CREATE=er,kt.VAR_DELETE=Gl,kt.VAR_RENAME=cu,kt.VIEWPORT_CHANGE=Wr,kt.VarBase=$d,kt.VarCreate=s_,kt.VarDelete=Y_,kt.VarRename=j_,kt.ViewportChange=R_,kt.clearPendingUndo=S,kt.disable=o.disable$$module$build$src$core$events$utils,kt.disableOrphans=H,kt.enable=o.enable$$module$build$src$core$events$utils,kt.filter=I,kt.fire=$,kt.fromJson=P,kt.get=M,kt.getDescendantIds=O,kt.getGroup=o.getGroup$$module$build$src$core$events$utils,kt.getRecordUndo=T,kt.isEnabled=C,kt.setGroup=o.setGroup$$module$build$src$core$events$utils,kt.setRecordUndo=o.setRecordUndo$$module$build$src$core$events$utils;var si={};si.BottomRow=Lw,si.ConstantProvider=Ow,si.Drawer=Rw,si.MarkerSvg=Dw,si.PathObject=Pw,si.RenderInfo=Mw,si.Renderer=ab,si.RightConnectionShape=Aw,si.StatementInput=Af,si.TopRow=Nw,Uv();var so={};so.registerCleanup=Iv,so.registerCollapse=kv,so.registerCollapseExpandBlock=Dv,so.registerComment=Nv,so.registerCommentCreate=Vv,so.registerCommentDelete=Fv,so.registerCommentDuplicate=Hv,so.registerCommentOptions=KC,so.registerDefaultOptions=Uv,so.registerDelete=xv,so.registerDeleteAll=Lv,so.registerDisable=Pv,so.registerDuplicate=Av,so.registerExpand=Ov,so.registerHelp=Bv,so.registerInline=Mv,so.registerRedo=Cv,so.registerUndo=Sv;var Mf={};Mf.CommentView=LI,Mf.RenderedWorkspaceComment=hf,Mf.WorkspaceComment=ef;var Fd={};Fd.Bubble=_n,Fd.MiniWorkspaceBubble=ur,Fd.TextBubble=N_,Fd.TextInputBubble=sw;var zw=class extends Tf{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},Kw=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(e){this.steps_+=Ln(e.xPos,this.info_.startY);for(let s=0,r;r=e.elements[s];s++)Oe.isLeftSquareCorner(r)?this.steps_+=this.highlightConstants_.START_POINT:Oe.isLeftRoundedCorner(r)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):Oe.isPreviousConnection(r)?this.steps_+=this.notchPaths_.pathLeft:Oe.isHat(r)?this.steps_+=this.startPaths_.path(this.RTL_):Oe.isSpacer(r)&&r.width!==0&&(this.steps_+=wt("H",r.xPos+r.width-this.highlightOffset));this.steps_+=wt("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+wt("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const s=e.getLastInput();if(this.RTL_){const r=e.height-s.connectionHeight;this.steps_+=to(s.xPos+s.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+wt("v",r)}else this.steps_+=to(s.xPos+s.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const s=e.getLastInput();if(s)if(this.RTL_){const r=e.height-2*this.insideCornerPaths_.height;this.steps_+=to(s.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+wt("v",r)+this.insideCornerPaths_.pathBottom(this.RTL_)+yi(e.width-s.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=to(s.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+yi(e.width-s.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const s=e.xPos+e.width-this.highlightOffset;e instanceof H_&&e.followsStatement&&(this.steps_+=wt("H",s)),this.RTL_&&(this.steps_+=wt("H",s),e.height>this.highlightOffset&&(this.steps_+=wt("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=wt("V",e.baseline-this.highlightOffset);else{const s=this.info_.bottomRow.elements[0];Oe.isLeftSquareCorner(s)?this.steps_+=to(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):Oe.isLeftRoundedCorner(s)&&(this.steps_+=to(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=to(this.info_.startX,e):(this.steps_+=to(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=wt("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,Oe.isLeftRoundedCorner(e.elements[0])?this.steps_+=wt("V",this.outsideCornerPaths_.height):this.steps_+=wt("V",e.capline+this.highlightOffset))}drawInlineInput(e){const s=this.highlightOffset,r=e.xPos+e.connectionWidth;var d=e.centerline-e.height/2;const v=e.width-e.connectionWidth,k=d+s;this.RTL_?(d=e.connectionOffsetY-s,e=e.height-(e.connectionOffsetY+e.connectionHeight)+s,this.inlineSteps_+=to(r-s,k)+wt("v",d)+this.puzzleTabPaths_.pathDown(this.RTL_)+wt("v",e)+wt("h",v)):this.inlineSteps_+=to(e.xPos+e.width+s,k)+wt("v",e.height)+wt("h",-v)+to(r,d+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},Xw=class extends yf{constructor(e,s){super(e,s),this.highlighter_=new Kw(s)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+`
`+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=wt("H",e.xPos+e.width)+wt("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const s=e.centerline-e.height/2;if(e.connectionModel){let r=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(r*=-1),e.connectionModel.setOffsetInBlock(r,s+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const s=e.getLastInput();if(s!=null&&s.connectionModel){let r=e.xPos+e.statementEdge+s.notchOffset;r=this.info_.RTL?-1*r:r+this.constants_.DARK_PATH_OFFSET,s.connectionModel.setOffsetInBlock(r,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const s=e.getLastInput();if(s&&s.connectionModel){let r=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(r*=-1),s.connectionModel.setOffsetInBlock(r,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const s=e.connection,r=s.xPos;s.connectionModel.setOffsetInBlock((this.info_.RTL?-r:r)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},Yw=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=Ln(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,s=this.OFFSET,r=(1-Math.SQRT1_2)*(e+s)-s,d=Ln(r,r)+Wn("a","0 0,0",e,Ht(-r-s,e-r)),v=Wn("a","0 0,0",e+s,Ht(e+s,e+s)),k=Ln(r,-r)+Wn("a","0 0,0",e+s,Ht(e-r,r+s));return{width:e+s,height:e,pathTop(Z){return Z?d:""},pathBottom(Z){return Z?v:k}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,s=this.OFFSET,r=(1-Math.SQRT1_2)*(e-s)+s,d=Ln(r,r)+Wn("a","0 0,1",e-s,Ht(e-r,-r+s)),v=Ln(s,e)+Wn("a","0 0,1",e-s,Ht(e,-e+s)),k=-r,Z=Ln(r,k)+Wn("a","0 0,1",e-s,Ht(-r+s,-k-e));return{height:e,topLeft(ge){return ge?d:v},bottomLeft(){return Z}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,s=this.constantProvider.TAB_HEIGHT,r=Ln(-2,-s+3.4)+yi(-.45*e,-2.1),d=wt("v",2.5)+Ln(.97*-e,2.5)+es("q",[Ht(.05*-e,10),Ht(.3*e,9.5)])+Ln(.67*e,-1.9)+wt("v",2.5),v=wt("v",-1.5)+Ln(-.92*e,-.5)+es("q",[Ht(-.19*e,-5.5),Ht(0,-11)])+Ln(.92*e,1),k=Ln(-5,s-.7)+yi(.46*e,-2.1);return{width:e,height:s,pathUp(Z){return Z?r:v},pathDown(Z){return Z?d:k}}}makeNotch(){return{pathLeft:wt("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:yi(5.1,2.6)+Ln(-10.2,6.8)+yi(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,s=Ln(25,-8.7)+es("c",[Ht(29.7,-6.2),Ht(57.2,-.5),Ht(75,8.7)]),r=es("c",[Ht(17.8,-9.2),Ht(45.3,-14.9),Ht(75,-8.7)])+to(100.5,e+.5);return{path(d){return d?s:r}}}},jw=class extends B_{constructor(e,s){super(e,s),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},qw=class extends Rd{constructor(e,s){super(e,s),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},Jw=class extends Nd{constructor(e,s){super(e,s),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof gs||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,s){this.isInline&&e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(s.elements.push(new jw(this.constants_,e)),s.hasInlineInput=!0):e instanceof gs?(s.elements.push(new qw(this.constants_,e)),s.hasStatement=!0):e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(s.elements.push(new bf(this.constants_,e)),s.hasExternalInput=!0):(e instanceof Oi||e instanceof fr)&&(s.minHeight=Math.max(s.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),s.hasDummyInput=!0),this.isInline||s.align!==null||(s.align=e.align)}addElemSpacing_(){let e=!1;for(let r=0,d;d=this.rows[r];r++)d.hasExternalInput&&(e=!0);for(let r=0,d;d=this.rows[r];r++){var s=d.elements;if(d.elements=[],d.startsWithElemSpacer()&&d.elements.push(new ms(this.constants_,this.getInRowSpacing_(null,s[0]))),s.length){for(let v=0;v<s.length-1;v++){d.elements.push(s[v]);const k=this.getInRowSpacing_(s[v],s[v+1]);d.elements.push(new ms(this.constants_,k))}d.elements.push(s[s.length-1]),d.endsWithElemSpacer()&&(s=this.getInRowSpacing_(s[s.length-1],null),e&&d.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),d.elements.push(new ms(this.constants_,s)))}}}getInRowSpacing_(e,s){if(!e)return s&&Oe.isField(s)&&s.isEditable?this.constants_.MEDIUM_PADDING:s&&Oe.isInlineInput(s)?this.constants_.MEDIUM_LARGE_PADDING:s&&Oe.isStatementInput(s)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Oe.isInput(e)&&(!s||Oe.isStatementInput(s)))return Oe.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:Oe.isIcon(e)?2*this.constants_.LARGE_PADDING+1:Oe.isHat(e)?this.constants_.NO_PADDING:Oe.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:Oe.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:Oe.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Oe.isInput(e)&&!s){if(Oe.isExternalInput(e))return this.constants_.NO_PADDING;if(Oe.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Oe.isStatementInput(e))return this.constants_.NO_PADDING}if(!Oe.isInput(e)&&s&&Oe.isInput(s)){if(Oe.isField(e)&&e.isEditable){if(Oe.isInlineInput(s)||Oe.isExternalInput(s))return this.constants_.SMALL_PADDING}else{if(Oe.isInlineInput(s)||Oe.isExternalInput(s))return this.constants_.MEDIUM_LARGE_PADDING;if(Oe.isStatementInput(s))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Oe.isIcon(e)&&s&&!Oe.isInput(s))return this.constants_.LARGE_PADDING;if(Oe.isInlineInput(e)&&s&&Oe.isField(s))return s.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Oe.isLeftSquareCorner(e)&&s){if(Oe.isHat(s))return this.constants_.NO_PADDING;if(Oe.isPreviousConnection(s))return s.notchOffset;if(Oe.isNextConnection(s))return s.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(Oe.isLeftRoundedCorner(e)&&s){if(Oe.isPreviousConnection(s))return s.notchOffset-this.constants_.CORNER_RADIUS;if(Oe.isNextConnection(s))return s.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return Oe.isField(e)&&s&&Oe.isField(s)&&e.isEditable===s.isEditable||s&&Oe.isJaggedEdge(s)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,s){return Oe.isTopRow(e)&&Oe.isBottomRow(s)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Oe.isTopRow(e)||Oe.isBottomRow(s)?this.constants_.NO_PADDING:e.hasExternalInput&&s.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&s.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&s.hasStatement||!e.hasStatement&&s.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,s){if(Oe.isSpacer(s))return e.yPos+s.height/2;if(Oe.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,Oe.isNextConnection(s)?e+s.height/2:e-s.height/2;if(Oe.isTopRow(e))return Oe.isHat(s)?e.capline-s.height/2:e.capline+s.height/2;let r=e.yPos;return Oe.isField(s)||Oe.isIcon(s)?(r+=s.height/2,(e.hasInlineInput||e.hasStatement)&&s.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(r+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):r=Oe.isInlineInput(s)?r+s.height/2:r+e.height/2,r}alignRowElements_(){if(this.isInline){var e=0,s=new WeakMap,r=null;for(let d=this.rows.length-1,v;v=this.rows[d];d--)s.set(v,e),Oe.isInputRow(v)&&(v.hasStatement&&this.alignStatementRow_(v),r&&r.hasStatement&&v.width<r.width?s.set(v,r.width):e=v.hasStatement?v.width:Math.max(e,v.width),r=v);e=0;for(let d=0,v;v=this.rows[d];d++)v.hasStatement?e=this.getDesiredRowWidth_(v):Oe.isSpacer(v)?v.width=Math.max(e,s.get(v)):(r=v.width,e=Math.max(e,s.get(v))-r,0<e&&this.addAlignmentPadding_(v,e),e=v.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,s=0;for(let d=0,v;v=this.rows[d];d++){v.yPos=s,v.xPos=this.startX,s+=v.height,e=Math.max(e,v.widthWithConnectedBlocks);var r=s-this.topRow.ascenderHeight;v===this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,s+=r),this.recordElemPositions_(v)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(r=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,r.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=s-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=s+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},Zw=class extends Ef{constructor(e,s,r){super(e,s,r),this.constants=r,this.colourDark="#000000",this.svgPathDark=ue(xe.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=ue(xe.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=Bl("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},Qw=class extends Sf{constructor(e){super(e),this.highlightConstants=null}init(e,s){super.init(e,s),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,s){super.refreshDom(e,s),this.getHighlightConstants().init()}makeConstants_(){return new zw}makeRenderInfo_(e){return new Jw(this,e)}makeDrawer_(e,s){return new Xw(e,s)}makePathObject(e,s){return new Zw(e,s,this.getConstants())}makeHighlightConstants_(){return new Yw(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};rd("geras",Qw);var Ai={};Ai.ConstantProvider=zw,Ai.Drawer=Xw,Ai.HighlightConstantProvider=Yw,Ai.Highlighter=Kw,Ai.InlineInput=jw,Ai.PathObject=Zw,Ai.RenderInfo=Jw,Ai.Renderer=Qw,Ai.StatementInput=qw;var ek=class extends Nd{constructor(e,s){super(e,s)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var s=0;s<this.rows.length;s++)if(this.rows[s].hasExternalInput){e=!0;break}for(s=0;s<this.rows.length;s++){const d=this.rows[s];var r=d.elements;if(d.elements=[],d.startsWithElemSpacer()&&d.elements.push(new ms(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(let v=0;v<r.length-1;v++){d.elements.push(r[v]);const k=this.getInRowSpacing_(r[v],r[v+1]);d.elements.push(new ms(this.constants_,k))}d.elements.push(r[r.length-1]),d.endsWithElemSpacer()&&(r=this.getInRowSpacing_(r[r.length-1],null),e&&d.hasDummyInput&&(r+=this.constants_.TAB_WIDTH),d.elements.push(new ms(this.constants_,r)))}}}getInRowSpacing_(e,s){if(!e)return s&&Oe.isField(s)&&s.isEditable?this.constants_.MEDIUM_PADDING:s&&Oe.isInlineInput(s)?this.constants_.MEDIUM_LARGE_PADDING:s&&Oe.isStatementInput(s)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Oe.isInput(e)&&!s)return Oe.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:Oe.isIcon(e)?2*this.constants_.LARGE_PADDING+1:Oe.isHat(e)?this.constants_.NO_PADDING:Oe.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:Oe.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:Oe.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Oe.isInput(e)&&!s){if(Oe.isExternalInput(e))return this.constants_.NO_PADDING;if(Oe.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Oe.isStatementInput(e))return this.constants_.NO_PADDING}if(!Oe.isInput(e)&&s&&Oe.isInput(s)){if(Oe.isField(e)&&e.isEditable){if(Oe.isInlineInput(s)||Oe.isExternalInput(s))return this.constants_.SMALL_PADDING}else{if(Oe.isInlineInput(s)||Oe.isExternalInput(s))return this.constants_.MEDIUM_LARGE_PADDING;if(Oe.isStatementInput(s))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Oe.isIcon(e)&&s&&!Oe.isInput(s))return this.constants_.LARGE_PADDING;if(Oe.isInlineInput(e)&&s&&Oe.isField(s))return s.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Oe.isLeftSquareCorner(e)&&s){if(Oe.isHat(s))return this.constants_.NO_PADDING;if(Oe.isPreviousConnection(s)||Oe.isNextConnection(s))return s.notchOffset}return Oe.isLeftRoundedCorner(e)&&s?s.notchOffset-this.constants_.CORNER_RADIUS:Oe.isField(e)&&s&&Oe.isField(s)&&e.isEditable===s.isEditable||s&&Oe.isJaggedEdge(s)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,s){return Oe.isTopRow(e)&&Oe.isBottomRow(s)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Oe.isTopRow(e)||Oe.isBottomRow(s)?this.constants_.NO_PADDING:e.hasExternalInput&&s.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&s.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&s.hasStatement||e.hasDummyInput||s.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,s){if(Oe.isSpacer(s))return e.yPos+s.height/2;if(Oe.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,Oe.isNextConnection(s)?e+s.height/2:e-s.height/2;if(Oe.isTopRow(e))return Oe.isHat(s)?e.capline-s.height/2:e.capline+s.height/2;let r=e.yPos;return r=Oe.isField(s)&&e.hasStatement?r+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+s.height/2):r+e.height/2}finalize_(){let e=0,s=0;for(var r=0;r<this.rows.length;r++){const v=this.rows[r];v.yPos=s,v.xPos=this.startX,s+=v.height,e=Math.max(e,v.widthWithConnectedBlocks);var d=s-this.topRow.ascenderHeight;v===this.bottomRow&&d<this.constants_.MIN_BLOCK_HEIGHT&&(d=this.constants_.MIN_BLOCK_HEIGHT-d,this.bottomRow.height+=d,s+=d),this.recordElemPositions_(v)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(r=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,r.getHeightWidth().width)),this.bottomRow.baseline=s-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=s,this.startY=this.topRow.capline}},tk=class extends Sf{constructor(e){super(e)}makeRenderInfo_(e){return new ek(this,e)}};rd("thrasos",tk);var yb={};yb.RenderInfo=ek,yb.Renderer=tk;var jx={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},qx={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},Jx=new ra("zelos",jx,qx),Zx={Classic:ff,Zelos:Jx},Eb=class{constructor(e,s,r){this.id_=e.toolboxitemid||_(),this.level_=(this.parent_=r||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=s,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}},ii=class extends Eb{constructor(e,s,r){super(e,s,r),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let s=0;s<e.length;s++){const r=e[s];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(r)}}parseCategoryDef_(e){this.name_="name"in e?Gn(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),Br(this.htmlDiv_,ei.TREEITEM),ho(this.htmlDiv_,oo.SELECTED,!1),ho(this.htmlDiv_,oo.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),Br(this.iconDom_,ei.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&ho(this.htmlDiv_,oo.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div"),s=this.cssConfig_.container;return s&&Ie(e,s),e}createRowContainer_(){const e=document.createElement("div");var s=this.cssConfig_.row;return s&&Ie(e,s),s=`${ii.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=s:e.style.paddingLeft=s,e}createRowContentsContainer_(){const e=document.createElement("div"),s=this.cssConfig_.rowcontentcontainer;return s&&Ie(e,s),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const s=this.cssConfig_.icon;s&&Ie(e,s)}return e.style.display="inline-block",e}createLabelDom_(e){const s=document.createElement("span");return s.setAttribute("id",this.getId()+".label"),s.textContent=e,(e=this.cssConfig_.label)&&Ie(s,e),s}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=ii.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const s=e.categorystyle||e.categoryStyle;if((e=e.colour)&&s)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(s)return this.getColourfromStyle_(s);if(e)return this.parseColour_(e)}return""}getColourfromStyle_(e){var s=this.workspace_.getTheme();if(e&&s){if((s=s.categoryStyles[e])&&s.colour)return this.parseColour_(s.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour_(e){if(e=Gn(e),e==null||e==="")return"";var s=Number(e);return isNaN(s)?(s=xl(e))?s:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):A$(s)}openIcon_(e){if(e){var s=this.cssConfig_.closedicon;s&&ke(e,s),(s=this.cssConfig_.openicon)&&Ie(e,s)}}closeIcon_(e){if(e){var s=this.cssConfig_.openicon;s&&ke(e,s),(s=this.cssConfig_.closedicon)&&Ie(e,s)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var s=this.cssConfig_.selected;if(e){const r=this.parseColour_(ii.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||r,s&&Ie(this.rowDiv_,s)}else this.rowDiv_.style.backgroundColor="",s&&Ue(this.rowDiv_,s);ho(this.htmlDiv_,oo.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:Yi(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){q(this.htmlDiv_)}};ii.registrationName="category",ii.nestedPadding=19,ii.borderWidth=8,ii.defaultBackgroundColour="#57e",Ne(`
.blocklyTreeRow:not(.blocklyTreeSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {
  margin: 1px 5px 1px 0;
}

.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {
  margin: 1px 0 1px 5px;
}

.blocklyTreeRow {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyTreeIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyTreeIconClosed {
  background-position: -32px -1px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {
  background-position: 0 -1px;
}

.blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: -32px -17px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: 0 -17px;
}

.blocklyTreeIconOpen {
  background-position: -16px -1px;
}

.blocklyTreeSelected>.blocklyTreeIconOpen {
  background-position: -16px -17px;
}

.blocklyTreeLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyTreeLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyTreeSelected .blocklyTreeLabel {
  color: #fff;
}
`),i(ut.TOOLBOX_ITEM,ii.registrationName,ii);var Hd=class extends Eb{constructor(e,s){super(e,s),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv_=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div"),s=this.cssConfig_.container;return s&&Ie(e,s),this.htmlDiv_=e}getDiv(){return this.htmlDiv_}dispose(){q(this.htmlDiv_)}};Hd.registrationName="sep",Ne(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),i(ut.TOOLBOX_ITEM,Hd.registrationName,Hd);var Vu=class extends ii{constructor(e,s,r){super(e,s,r),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxContents",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const s=e.contents;if(s){this.flyoutItems_=[],e=!0;for(let r=0;r<s.length;r++){const d=s[r];!h(ut.TOOLBOX_ITEM,d.kind)||d.kind.toLowerCase()===Hd.registrationName&&e?(this.flyoutItems_.push(d),e=!0):(this.createToolboxItem_(d),e=!1)}}}}createToolboxItem_(e){let s=e.kind;s.toUpperCase()==="CATEGORY"&&xr(e)&&(s=Vu.registrationName),e=new(p(ut.TOOLBOX_ITEM,s))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),Br(this.subcategoriesDiv_,ei.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),ho(this.htmlDiv_,oo.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const s=this.cssConfig_.icon;s&&Ie(e,s),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const s=document.createElement("div");s.style.display="none";var r=this.cssConfig_.contents;for(r&&Ie(s,r),r=0;r<e.length;r++){const d=e[r];d.init();const v=d.getDiv();if(s.appendChild(v),d.getClickTarget){let k;(k=d.getClickTarget())==null||k.setAttribute("id",d.getId())}}return s}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let s;(s=this.parentToolbox_.getFlyout())==null||s.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}ho(this.htmlDiv_,oo.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const s=this.getChildToolboxItems();for(let r=0;r<s.length;r++)s[r].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};Vu.registrationName="collapsibleCategory",i(ut.TOOLBOX_ITEM,Vu.registrationName,Vu);var nk=class extends If{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.previouslySelectedItem_=this.selectedItem_=this.flyout_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.RTL=e.options.RTL,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const s=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),Qe(this.flyout_.createDom("svg"),s),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[no.Capability.AUTOHIDEABLE,no.Capability.DELETE_AREA,no.Capability.DRAG_TARGET]})}createDom_(e){e=e.getParentSvg();const s=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,Br(this.contentsDiv_,ei.TREE),s.appendChild(this.contentsDiv_),e.parentNode.insertBefore(s,e),this.attachEvents_(s,this.contentsDiv_),s}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),Ie(e,"blocklyToolboxDiv"),Ie(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return Ie(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,s){e=ve(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),s=ve(s,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(s)}onClick_(e){if(de(e)||e.target===this.HtmlDiv)J().hideChaff(!1);else{var s=e.target.getAttribute("id");s&&(s=this.getToolboxItemById(s),s.isSelectable()&&(this.setSelectedItem(s),s.onClick(e))),J().hideChaff(!0)}ce()}onKeyDown_(e){let s=!1;switch(e.key){case"ArrowDown":s=this.selectNext_();break;case"ArrowUp":s=this.selectPrevious_();break;case"ArrowLeft":s=this.selectParent_();break;case"ArrowRight":s=this.selectChild_();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),s=!0);break;default:s=!1}!s&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(s=this.selectedItem_.onKeyDown(e)),s&&e.preventDefault()}createFlyout_(){const e=this.workspace_,s=new ks({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return s.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?m(ut.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):m(ut.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(s)}render(e){this.toolboxDef_=e;for(let s=0;s<this.contents_.length;s++){const r=this.contents_[s];r&&r.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const s=document.createDocumentFragment();for(let r=0;r<e.length;r++)this.createToolboxItem_(e[r],s);this.contentsDiv_.appendChild(s)}createToolboxItem_(e,s){var r=e.kind;r.toUpperCase()==="CATEGORY"&&xr(e)&&(r=Vu.registrationName),(r=p(ut.TOOLBOX_ITEM,r.toLowerCase()))&&(e=new r(e,this),e.init(),this.addToolboxItem_(e),(r=e.getDiv())&&s.appendChild(r),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(let s=0;s<e.length;s++)this.addToolboxItem_(e[s])}}getToolboxItems(){return this.contents_}addStyle(e){e&&this.HtmlDiv&&Ie(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&Ue(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const s=e.top,r=s+e.height,d=e.left;return e=d+e.width,this.toolboxPosition===Zt.TOP?new En(-1e7,r,-1e7,1e7):this.toolboxPosition===Zt.BOTTOM?new En(s,1e7,-1e7,1e7):this.toolboxPosition===Zt.LEFT?new En(-1e7,1e7,-1e7,e):new En(-1e7,1e7,d,1e7)}wouldDelete(e){return e instanceof As?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(Ss(e)&&e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const s=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(s):this.removeStyle(s)}getToolboxItemById(e){return this.contentMap_[e]||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout_}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout_}position(){const e=this.workspace_.getMetrics(),s=this.HtmlDiv;s&&(this.horizontalLayout_?(s.style.left="0",s.style.height="auto",s.style.width="100%",this.height_=s.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===Zt.TOP?s.style.top="0":s.style.bottom="0"):(this.toolboxPosition===Zt.RIGHT?s.style.right="0":s.style.left="0",s.style.height="100%",this.width_=s.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())}handleToolboxItemResize(){const e=this.workspace_,s=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition===Zt.LEFT?e.scrollX+s.width:e.scrollX,this.toolboxPosition===Zt.TOP?e.scrollY+s.height:e.scrollY),D(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){for(let e=0;e<this.contents_.length;e++){const s=this.contents_[e];s.refreshTheme&&s.refreshTheme()}}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()}setSelectedItem(e){const s=this.selectedItem_;!e&&!s||e&&!qC(e)||(this.shouldDeselectItem_(s,e)&&s!==null&&this.deselectItem_(s),this.shouldSelectItem_(s,e)&&e!==null&&this.selectItem_(s,e),this.updateFlyout_(s,e),this.fireSelectEvent_(s,e))}shouldDeselectItem_(e,s){return e!==null&&(!e.isCollapsible()||e!==s)}shouldSelectItem_(e,s){return s!==null&&s!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),ho(this.contentsDiv_,oo.ACTIVEDESCENDANT,"")}selectItem_(e,s){this.selectedItem_=s,this.previouslySelectedItem_=e,s.setSelected(!0),ho(this.contentsDiv_,oo.ACTIVEDESCENDANT,s.getId())}selectItemByPosition(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e],e.isSelectable()&&this.setSelectedItem(e))}updateFlyout_(e,s){s&&(e!==s||s.isCollapsible())&&s.getContents().length?(this.flyout_.show(s.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()}fireSelectEvent_(e,s){const r=e&&e.getName();let d=s&&s.getName();e===s&&(d=null),e=new(M(fu))(r,d,this.workspace_.id),$(e)}selectParent_(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild_(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.toggleExpanded(),!0}selectNext_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){let s=this.contents_[e];for(;s&&!s.isSelectable();)s=this.contents_[++e];if(s&&s.isSelectable())return this.setSelectedItem(s),!0}return!1}selectPrevious_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){let s=this.contents_[e];for(;s&&!s.isSelectable();)s=this.contents_[--e];if(s&&s.isSelectable())return this.setSelectedItem(s),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)Fe(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),q(this.HtmlDiv))}};Ne(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolboxDiv {
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxContents {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxContents:focus {
  outline: none;
}
`),i(ut.TOOLBOX,Ei,nk);var Qx="11.1.1",eB=It.INPUT_VALUE,tB=It.OUTPUT_VALUE,nB=It.NEXT_STATEMENT,oB=It.PREVIOUS_STATEMENT,sB=Zt.TOP,iB=Zt.BOTTOM,rB=Zt.LEFT,lB=Zt.RIGHT;Pu.prototype.newBlock=function(e,s){return new aa(this,e,s)},Ls.prototype.newBlock=function(e,s){return new As(this,e,s)},Pu.prototype.newComment=function(e){return new ef(this,e)},Ls.prototype.newComment=function(e){return new hf(this,e)},Ls.newTrashcan=function(e){return new Ew(e)},ur.prototype.newWorkspaceSvg=function(e){return new Ls(e)},o.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=Ap(e),e=e[0].concat(e[1]);for(let s=0;s<e.length;s++)this.getName(e[s][0],o.Names$$module$build$src$core$names.NameType.PROCEDURE)};var qe={};return qe.ASTNode=nt,qe.BasicCursor=Md,qe.Block=aa,qe.BlockSvg=As,qe.Blocks=ts,qe.COLLAPSED_FIELD_NAME=Jp,qe.COLLAPSED_INPUT_NAME=gd,qe.COLLAPSE_CHARS=gw,qe.CodeGenerator=o.CodeGenerator$$module$build$src$core$generator,qe.CollapsibleToolboxCategory=Vu,qe.ComponentManager=no,qe.Connection=hn,qe.ConnectionChecker=$w,qe.ConnectionDB=Au,qe.ConnectionType=It,qe.ContextMenu=ia,qe.ContextMenuItems=so,qe.ContextMenuRegistry=Qt,qe.Css=Qv,qe.Cursor=Q_,qe.DELETE_VARIABLE_ID=X_,qe.DeleteArea=If,qe.DragTarget=yw,qe.DropDownDiv=Lo,qe.Events=kt,qe.Extensions=oi,qe.Field=Sn,qe.FieldCheckbox=ha,qe.FieldDropdown=wi,qe.FieldImage=da,qe.FieldLabel=la,qe.FieldLabelSerializable=Uw,qe.FieldNumber=cb,qe.FieldTextInput=Lf,qe.FieldVariable=xd,qe.Flyout=Nf,qe.FlyoutButton=Os,qe.FlyoutMetricsManager=Hw,qe.Generator=o.CodeGenerator$$module$build$src$core$generator,qe.Gesture=ar,qe.Grid=L_,qe.HorizontalFlyout=Vw,qe.INPUT_VALUE=eB,qe.Input=Du,qe.InsertionMarkerManager=Rs,qe.InsertionMarkerPreviewer=xw,qe.Marker=_w,qe.MarkerManager=Ed,qe.Menu=f_,qe.MenuItem=m_,qe.MetricsManager=lb,qe.Msg=o.Msg$$module$build$src$core$msg,qe.NEXT_STATEMENT=nB,qe.Names=o.Names$$module$build$src$core$names,qe.OPPOSITE_TYPE=ca,qe.OUTPUT_VALUE=tB,qe.Options=ks,qe.PREVIOUS_STATEMENT=oB,qe.PROCEDURE_CATEGORY_NAME=_f,qe.Procedures=Wo,qe.RENAME_VARIABLE_ID=K_,qe.RenderedConnection=zo,qe.Scrollbar=zn,qe.ScrollbarPair=rb,qe.ShortcutItems=Li,qe.ShortcutRegistry=fn,qe.TOOLBOX_AT_BOTTOM=iB,qe.TOOLBOX_AT_LEFT=rB,qe.TOOLBOX_AT_RIGHT=lB,qe.TOOLBOX_AT_TOP=sB,qe.TabNavigateCursor=bw,qe.Theme=ra,qe.ThemeManager=mw,qe.Themes=Zx,qe.Toolbox=nk,qe.ToolboxCategory=ii,qe.ToolboxItem=Eb,qe.ToolboxSeparator=Hd,qe.Tooltip=ps,qe.Touch=jl,qe.Trashcan=Ew,qe.UnattachedFieldError=Kn,qe.VARIABLE_CATEGORY_NAME=i_,qe.VARIABLE_DYNAMIC_CATEGORY_NAME=z_,qe.VERSION=Qx,qe.VariableMap=q_,qe.VariableModel=vd,qe.Variables=bo,qe.VariablesDynamic=ua,qe.VerticalFlyout=ub,qe.WidgetDiv=ni,qe.Workspace=Pu,qe.WorkspaceAudio=vw,qe.WorkspaceDragger=JI,qe.WorkspaceSvg=Ls,qe.Xml=Ao,qe.ZoomControls=EI,qe.blockAnimations=kd,qe.blockRendering=gn,qe.browserEvents=sr,qe.bubbles=Fd,qe.bumpObjects=Cf,qe.clipboard=Pd,qe.comments=Mf,qe.common=_o,qe.config=o.config$$module$build$src$core$config,qe.constants=Tx,qe.defineBlocksWithJsonArray=le,qe.dialog=Zl,qe.dragging=Bd,qe.fieldRegistry=gf,qe.geras=Ai,qe.getMainWorkspace=J,qe.getSelected=z,qe.hasBubble=Qa,qe.hideChaff=JC,qe.icons=jr,qe.inject=PC,qe.inputs=Qr,qe.isCopyable=ld,qe.isDeletable=Ss,qe.isDraggable=Vl,qe.isIcon=rv,qe.isObservable=kp,qe.isPaster=XC,qe.isRenderedElement=YC,qe.isSelectable=jC,qe.isSerializable=qc,qe.isVariableBackedParameterModel=Oo,qe.procedures=Wo,qe.registry=Qi,qe.renderManagement=Qp,qe.serialization=Xx,qe.setLocale=o_,qe.setParentContainer=W,qe.svgResize=D,qe.thrasos=yb,qe.uiPosition=Jl,qe.utils=Bn,qe.zelos=si,qe.__namespace__=o,qe})}(cT)),cT.exports}var Bde=H0();const Fde=js(Bde),{ASTNode:ibe,BasicCursor:rbe,Block:lbe,BlockSvg:abe,Blocks:Jt,COLLAPSED_FIELD_NAME:ube,COLLAPSED_INPUT_NAME:cbe,COLLAPSE_CHARS:dbe,CodeGenerator:hbe,CollapsibleToolboxCategory:pbe,ComponentManager:fbe,Connection:mbe,ConnectionChecker:gbe,ConnectionDB:$be,ConnectionType:vbe,ContextMenu:_be,ContextMenuItems:bbe,ContextMenuRegistry:Tbe,Css:Hde,Cursor:ybe,DELETE_VARIABLE_ID:Ebe,DeleteArea:Sbe,DragTarget:Cbe,DropDownDiv:Ibe,Events:wbe,Extensions:kbe,Field:Obe,FieldCheckbox:xt,FieldDropdown:V0,FieldImage:Rbe,FieldLabel:Lbe,FieldLabelSerializable:Abe,FieldNumber:Nbe,FieldTextInput:Mbe,FieldVariable:Dbe,Flyout:Pbe,FlyoutButton:xbe,FlyoutMetricsManager:Bbe,Generator:Fbe,Gesture:Hbe,Grid:Vbe,HorizontalFlyout:Ube,INPUT_VALUE:Gbe,Input:Wbe,InsertionMarkerManager:zbe,InsertionMarkerPreviewer:Kbe,Marker:Xbe,MarkerManager:Ybe,Menu:jbe,MenuItem:qbe,MetricsManager:Jbe,Msg:Zbe,NEXT_STATEMENT:Qbe,Names:eTe,OPPOSITE_TYPE:tTe,OUTPUT_VALUE:nTe,Options:oTe,PREVIOUS_STATEMENT:sTe,PROCEDURE_CATEGORY_NAME:iTe,Procedures:rTe,RENAME_VARIABLE_ID:lTe,RenderedConnection:aTe,Scrollbar:uTe,ScrollbarPair:cTe,ShortcutItems:dTe,ShortcutRegistry:hTe,TOOLBOX_AT_BOTTOM:pTe,TOOLBOX_AT_LEFT:fTe,TOOLBOX_AT_RIGHT:mTe,TOOLBOX_AT_TOP:gTe,TabNavigateCursor:$Te,Theme:Vde,ThemeManager:vTe,Themes:Ude,Toolbox:_Te,ToolboxCategory:ux,ToolboxItem:bTe,ToolboxSeparator:TTe,Tooltip:yTe,Touch:ETe,Trashcan:STe,UnattachedFieldError:CTe,VARIABLE_CATEGORY_NAME:ITe,VARIABLE_DYNAMIC_CATEGORY_NAME:wTe,VERSION:kTe,VariableMap:OTe,VariableModel:RTe,Variables:LTe,VariablesDynamic:ATe,VerticalFlyout:NTe,WidgetDiv:MTe,Workspace:DTe,WorkspaceAudio:PTe,WorkspaceDragger:xTe,WorkspaceSvg:BTe,Xml:Yu,ZoomControls:FTe,blockAnimations:HTe,blockRendering:VTe,browserEvents:UTe,bubbles:GTe,bumpObjects:WTe,clipboard:zTe,comments:KTe,common:XTe,config:YTe,constants:jTe,defineBlocksWithJsonArray:qTe,dialog:JTe,dragging:ZTe,fieldRegistry:QTe,geras:eye,getMainWorkspace:tye,getSelected:nye,hasBubble:oye,hideChaff:sye,icons:iye,inject:Gde,inputs:rye,isCopyable:lye,isDeletable:aye,isDraggable:uye,isIcon:cye,isObservable:dye,isPaster:hye,isRenderedElement:pye,isSelectable:fye,isSerializable:mye,isVariableBackedParameterModel:gye,procedures:$ye,registry:HL,renderManagement:vye,serialization:_ye,setLocale:Wde,setParentContainer:bye,svgResize:zde,thrasos:Tye,uiPosition:yye,utils:Ny,zelos:Eye}=Fde;var cx={exports:{}};(function(t,n){(function(o,i){t.exports=i()})(qo,function(){var o=o||{Msg:Object.create(null)};return o.Msg.ADD_COMMENT="添加注释",o.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="不能删除变量“%1”，因为它是函数“%2”定义的一部分",o.Msg.CHANGE_VALUE_TITLE="更改值：",o.Msg.CLEAN_UP="整理块",o.Msg.COLLAPSED_WARNINGS_WARNING="已收起的信息块内包含警告。",o.Msg.COLLAPSE_ALL="折叠块",o.Msg.COLLAPSE_BLOCK="折叠块",o.Msg.COLOUR_BLEND_COLOUR1="颜色1",o.Msg.COLOUR_BLEND_COLOUR2="颜色2",o.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",o.Msg.COLOUR_BLEND_RATIO="比例",o.Msg.COLOUR_BLEND_TITLE="混合",o.Msg.COLOUR_BLEND_TOOLTIP="把两种颜色以一个给定的比例(0.0-1.0)进行混合。",o.Msg.COLOUR_PICKER_HELPURL="https://zh.wikipedia.org/wiki/颜色",o.Msg.COLOUR_PICKER_TOOLTIP="从调色板中选择一种颜色。",o.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",o.Msg.COLOUR_RANDOM_TITLE="随机颜色",o.Msg.COLOUR_RANDOM_TOOLTIP="随机选择一种颜色。",o.Msg.COLOUR_RGB_BLUE="蓝色",o.Msg.COLOUR_RGB_GREEN="绿色",o.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",o.Msg.COLOUR_RGB_RED="红色",o.Msg.COLOUR_RGB_TITLE="颜色",o.Msg.COLOUR_RGB_TOOLTIP="通过指定红色、绿色和蓝色的量创建一种颜色。所有的值必须在0和100之间。",o.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",o.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="跳出循环",o.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="继续下一轮循环",o.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="跳出包含它的循环。",o.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="跳过本轮循环的剩余部分，并继进行续下一轮循环。",o.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="警告：这个块只能在循环内使用。",o.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",o.Msg.CONTROLS_FOREACH_TITLE="遍历列表 %2 里的每一项 %1",o.Msg.CONTROLS_FOREACH_TOOLTIP="遍历列表中的每一项，将变量“%1”设为所选项，并执行一些语句。",o.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",o.Msg.CONTROLS_FOR_TITLE="变量 %1 从 %2 数到 %3 每次增加 %4",o.Msg.CONTROLS_FOR_TOOLTIP="让变量“%1”记录开始数到结束数之间指定间隔的值，并执行指定的块。",o.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="在这个if语句块中增加一个条件。",o.Msg.CONTROLS_IF_ELSE_TOOLTIP="在这个if语句块中添加一个最终的，包括所有其余情况的条件。",o.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",o.Msg.CONTROLS_IF_IF_TOOLTIP="增加、删除或重新排列各节来重新配置这个if语句块。",o.Msg.CONTROLS_IF_MSG_ELSE="否则",o.Msg.CONTROLS_IF_MSG_ELSEIF="否则如果",o.Msg.CONTROLS_IF_MSG_IF="如果",o.Msg.CONTROLS_IF_TOOLTIP_1="如果值为真，执行一些语句。",o.Msg.CONTROLS_IF_TOOLTIP_2="如果值为真，则执行第一块语句。否则，则执行第二块语句。",o.Msg.CONTROLS_IF_TOOLTIP_3="如果第一个值为真，则执行第一块的语句。否则，如果第二个值为真，则执行第二块的语句。",o.Msg.CONTROLS_IF_TOOLTIP_4="如果第一个值为真，则执行第一块对语句。否则，如果第二个值为真，则执行语句的第二块。如果没有值为真，则执行最后一块的语句。",o.Msg.CONTROLS_REPEAT_HELPURL="https://zh.wikipedia.org/wiki/For循环",o.Msg.CONTROLS_REPEAT_INPUT_DO="执行",o.Msg.CONTROLS_REPEAT_TITLE="重复 %1 次",o.Msg.CONTROLS_REPEAT_TOOLTIP="多次执行一些语句。",o.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",o.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="重复直到条件满足",o.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="当条件满足时重复",o.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="只要值为假，就一直循环执行一些语句。",o.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="只要值为真，就一直循环执行一些语句。",o.Msg.DELETE_ALL_BLOCKS="删除所有 %1 个块吗？",o.Msg.DELETE_BLOCK="删除块",o.Msg.DELETE_VARIABLE="删除变量“%1”",o.Msg.DELETE_VARIABLE_CONFIRMATION="要删除对变量“%2”的%1个引用吗？",o.Msg.DELETE_X_BLOCKS="删除 %1 个块",o.Msg.DIALOG_CANCEL="取消",o.Msg.DIALOG_OK="确认",o.Msg.DISABLE_BLOCK="禁用块",o.Msg.DUPLICATE_BLOCK="复制",o.Msg.DUPLICATE_COMMENT="复制注释",o.Msg.ENABLE_BLOCK="启用块",o.Msg.EXPAND_ALL="展开块",o.Msg.EXPAND_BLOCK="展开块",o.Msg.EXTERNAL_INPUTS="外部输入",o.Msg.HELP="帮助",o.Msg.INLINE_INPUTS="单行输入",o.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",o.Msg.LISTS_CREATE_EMPTY_TITLE="创建空列表",o.Msg.LISTS_CREATE_EMPTY_TOOLTIP="返回一个列表，长度为 0，不包含任何数据记录",o.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="列表",o.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="增加、删除或重新排列各部分以此重新配置这个列表块。",o.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",o.Msg.LISTS_CREATE_WITH_INPUT_WITH="创建列表，内容：",o.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="将一个项添加到列表中。",o.Msg.LISTS_CREATE_WITH_TOOLTIP="建立一个具有任意数量项目的列表。",o.Msg.LISTS_GET_INDEX_FIRST="第一项",o.Msg.LISTS_GET_INDEX_FROM_END="倒数第#项",o.Msg.LISTS_GET_INDEX_FROM_START="#",o.Msg.LISTS_GET_INDEX_GET="取得",o.Msg.LISTS_GET_INDEX_GET_REMOVE="取得并移除",o.Msg.LISTS_GET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",o.Msg.LISTS_GET_INDEX_LAST="最后一项",o.Msg.LISTS_GET_INDEX_RANDOM="随机的一项",o.Msg.LISTS_GET_INDEX_REMOVE="移除",o.Msg.LISTS_GET_INDEX_TAIL="",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="返回列表中的第一项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="返回在列表中的指定位置的项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="返回列表中的最后一项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="返回列表中的随机一项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="移除并返回列表中的第一项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="移除并返回列表中的指定位置的项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="移除并返回列表中的最后一项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="移除并返回列表中的随机一项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="移除列表中的第一项",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="移除在列表中的指定位置的项。",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="移除列表中的最后一项",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="删除列表中的随机一项。",o.Msg.LISTS_GET_SUBLIST_END_FROM_END="到倒数第#项",o.Msg.LISTS_GET_SUBLIST_END_FROM_START="到第#项",o.Msg.LISTS_GET_SUBLIST_END_LAST="到最后一项",o.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",o.Msg.LISTS_GET_SUBLIST_START_FIRST="获取子列表，从第一项",o.Msg.LISTS_GET_SUBLIST_START_FROM_END="获取子列表，从倒数第#项",o.Msg.LISTS_GET_SUBLIST_START_FROM_START="获取子列表，从第#项",o.Msg.LISTS_GET_SUBLIST_TAIL="",o.Msg.LISTS_GET_SUBLIST_TOOLTIP="复制列表中指定的部分。",o.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1是最后一项。",o.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1是第一项。",o.Msg.LISTS_INDEX_OF_FIRST="寻找第一次出现的项",o.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list",o.Msg.LISTS_INDEX_OF_LAST="寻找最后一次出现的项",o.Msg.LISTS_INDEX_OF_TOOLTIP="返回在列表中的第一/最后一个匹配项的索引值。如果找不到项目则返回%1。",o.Msg.LISTS_INLIST="在列表中",o.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",o.Msg.LISTS_ISEMPTY_TITLE="%1是空的",o.Msg.LISTS_ISEMPTY_TOOLTIP="如果改列表为空，则返回真。",o.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",o.Msg.LISTS_LENGTH_TITLE="%1的长度",o.Msg.LISTS_LENGTH_TOOLTIP="返回列表的长度。",o.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",o.Msg.LISTS_REPEAT_TITLE="建立列表使用项 %1 重复 %2 次",o.Msg.LISTS_REPEAT_TOOLTIP="建立包含指定重复次数的值的列表。",o.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",o.Msg.LISTS_REVERSE_MESSAGE0="倒转%1",o.Msg.LISTS_REVERSE_TOOLTIP="倒转一个列表，返回副本。",o.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",o.Msg.LISTS_SET_INDEX_INPUT_TO="值为",o.Msg.LISTS_SET_INDEX_INSERT="插入在",o.Msg.LISTS_SET_INDEX_SET="设置",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="在列表的起始处添加该项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="在列表中指定位置插入项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="在列表的末尾处添加该项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="在列表的随机位置插入该项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="设置列表中的第一项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="设置在列表中指定位置的项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="设置列表中的最后一项。",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="设置列表中的随机一项。",o.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",o.Msg.LISTS_SORT_ORDER_ASCENDING="升序",o.Msg.LISTS_SORT_ORDER_DESCENDING="降序",o.Msg.LISTS_SORT_TITLE="排序%1 %2 %3",o.Msg.LISTS_SORT_TOOLTIP="排序一个列表，返回副本。",o.Msg.LISTS_SORT_TYPE_IGNORECASE="按字母（忽略大小写）",o.Msg.LISTS_SORT_TYPE_NUMERIC="按数字",o.Msg.LISTS_SORT_TYPE_TEXT="按字母",o.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",o.Msg.LISTS_SPLIT_LIST_FROM_TEXT="从文本制作列表",o.Msg.LISTS_SPLIT_TEXT_FROM_LIST="将列表合并为文本",o.Msg.LISTS_SPLIT_TOOLTIP_JOIN="加入文本列表至一个文本，由分隔符分隔。",o.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="将文本按指定的分隔符拆分为文本组成的列表。",o.Msg.LISTS_SPLIT_WITH_DELIMITER="分隔符：",o.Msg.LOGIC_BOOLEAN_FALSE="false",o.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",o.Msg.LOGIC_BOOLEAN_TOOLTIP="返回 true 或 false。",o.Msg.LOGIC_BOOLEAN_TRUE="true",o.Msg.LOGIC_COMPARE_HELPURL="https://zh.wikipedia.org/wiki/不等",o.Msg.LOGIC_COMPARE_TOOLTIP_EQ="如果两个输入结果相等，则返回真。",o.Msg.LOGIC_COMPARE_TOOLTIP_GT="如果第一个输入结果比第二个大，则返回真。",o.Msg.LOGIC_COMPARE_TOOLTIP_GTE="如果第一个输入结果大于或等于第二个输入结果，则返回真。",o.Msg.LOGIC_COMPARE_TOOLTIP_LT="如果第一个输入结果比第二个小，则返回真。",o.Msg.LOGIC_COMPARE_TOOLTIP_LTE="如果第一个输入结果小于或等于第二个输入结果，则返回真。",o.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="如果两个输入结果不相等，则返回真。",o.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",o.Msg.LOGIC_NEGATE_TITLE="非 %1",o.Msg.LOGIC_NEGATE_TOOLTIP="如果输入结果为false，则返回true；如果输入结果为true，则返回false。",o.Msg.LOGIC_NULL="空",o.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",o.Msg.LOGIC_NULL_TOOLTIP="返回空值。",o.Msg.LOGIC_OPERATION_AND="并且",o.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",o.Msg.LOGIC_OPERATION_OR="或",o.Msg.LOGIC_OPERATION_TOOLTIP_AND="如果两个输入结果都为真，则返回真。",o.Msg.LOGIC_OPERATION_TOOLTIP_OR="如果至少有一个输入结果为真，则返回真。",o.Msg.LOGIC_TERNARY_CONDITION="断言",o.Msg.LOGIC_TERNARY_HELPURL="https://zh.wikipedia.org/wiki/条件运算符%3F:",o.Msg.LOGIC_TERNARY_IF_FALSE="如果为 false",o.Msg.LOGIC_TERNARY_IF_TRUE="如果为 true",o.Msg.LOGIC_TERNARY_TOOLTIP="检查“断言”里的条件语句。如果条件为真，则返回“如果为真”的值，否则，则返回“如果为假”的值。",o.Msg.MATH_ADDITION_SYMBOL="+",o.Msg.MATH_ARITHMETIC_HELPURL="https://zh.wikipedia.org/wiki/算术",o.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="返回两个数的和。",o.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="返回两个数的商。",o.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="返回两个数的差。",o.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="返回两个数的积。",o.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="返回第一个数的第二个数次幂。",o.Msg.MATH_ATAN2_HELPURL="https://zh.wikipedia.org/wiki/反正切2",o.Msg.MATH_ATAN2_TITLE="点(x:%1,y:%2)的方位角",o.Msg.MATH_ATAN2_TOOLTIP="返回点（X，Y）的反正切值，范围为-180到180度。",o.Msg.MATH_CHANGE_HELPURL="https://zh.wikipedia.org/wiki/加法",o.Msg.MATH_CHANGE_TITLE="给 %1 加 %2",o.Msg.MATH_CHANGE_TOOLTIP="把数加到变量“%1”。",o.Msg.MATH_CONSTANT_HELPURL="https://zh.wikipedia.org/wiki/数学常数",o.Msg.MATH_CONSTANT_TOOLTIP="返回一个以下常见常数：π (3.141…)、e (2.718…)、φ (1.618…)、根号2 (1.414…)、根号½ (0.707…)或∞ (无穷)。",o.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",o.Msg.MATH_CONSTRAIN_TITLE="将 %1 限制在 最低 %2 到最高 %3 之间",o.Msg.MATH_CONSTRAIN_TOOLTIP="把一个数限制在指定的极限（含）之间。",o.Msg.MATH_DIVISION_SYMBOL="÷",o.Msg.MATH_IS_DIVISIBLE_BY="可整除被",o.Msg.MATH_IS_EVEN="是偶数",o.Msg.MATH_IS_NEGATIVE="是负数",o.Msg.MATH_IS_ODD="是奇数",o.Msg.MATH_IS_POSITIVE="是正数",o.Msg.MATH_IS_PRIME="是质数",o.Msg.MATH_IS_TOOLTIP="检查一个数是否是偶数、奇数、质数、整数、正数、负数，或者是否能被某数整除。返回真或假。",o.Msg.MATH_IS_WHOLE="是整数",o.Msg.MATH_MODULO_HELPURL="https://zh.wikipedia.org/wiki/模除",o.Msg.MATH_MODULO_TITLE="%1 ÷ %2 的余数",o.Msg.MATH_MODULO_TOOLTIP="返回两个数相除的余数。",o.Msg.MATH_MULTIPLICATION_SYMBOL="×",o.Msg.MATH_NUMBER_HELPURL="https://zh.wikipedia.org/wiki/数",o.Msg.MATH_NUMBER_TOOLTIP="一个数。",o.Msg.MATH_ONLIST_HELPURL="",o.Msg.MATH_ONLIST_OPERATOR_AVERAGE="列表的平均",o.Msg.MATH_ONLIST_OPERATOR_MAX="列表的最大数",o.Msg.MATH_ONLIST_OPERATOR_MEDIAN="列表的中位数",o.Msg.MATH_ONLIST_OPERATOR_MIN="列表的最小数",o.Msg.MATH_ONLIST_OPERATOR_MODE="列表的众数",o.Msg.MATH_ONLIST_OPERATOR_RANDOM="列表的随机项",o.Msg.MATH_ONLIST_OPERATOR_STD_DEV="列表的标准差",o.Msg.MATH_ONLIST_OPERATOR_SUM="列表的和",o.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="返回列表内数值的平均（算术平均）。",o.Msg.MATH_ONLIST_TOOLTIP_MAX="返回列表内的最大数。",o.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="返回列表内数的中位数。",o.Msg.MATH_ONLIST_TOOLTIP_MIN="返回列表内的最小数。",o.Msg.MATH_ONLIST_TOOLTIP_MODE="返回列表中的出现次数最多的项的列表。",o.Msg.MATH_ONLIST_TOOLTIP_RANDOM="返回列表内的一个随机元素。",o.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="返回列表的标准差。",o.Msg.MATH_ONLIST_TOOLTIP_SUM="返回列表内的所有数的和。",o.Msg.MATH_POWER_SYMBOL="^",o.Msg.MATH_RANDOM_FLOAT_HELPURL="https://zh.wikipedia.org/wiki/随机数生成器",o.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="随机小数",o.Msg.MATH_RANDOM_FLOAT_TOOLTIP="返回一个从0.0（含）到1.0（不含）之间的随机数。",o.Msg.MATH_RANDOM_INT_HELPURL="https://zh.wikipedia.org/wiki/随机数生成器",o.Msg.MATH_RANDOM_INT_TITLE="从 %1 到 %2 范围内的随机整数",o.Msg.MATH_RANDOM_INT_TOOLTIP="返回两个指定的极限（含）之间的随机整数。",o.Msg.MATH_ROUND_HELPURL="https://zh.wikipedia.org/wiki/数值修约",o.Msg.MATH_ROUND_OPERATOR_ROUND="四舍五入",o.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="向下舍入",o.Msg.MATH_ROUND_OPERATOR_ROUNDUP="向上舍入",o.Msg.MATH_ROUND_TOOLTIP="数向上或向下取整。",o.Msg.MATH_SINGLE_HELPURL="https://zh.wikipedia.org/wiki/平方根",o.Msg.MATH_SINGLE_OP_ABSOLUTE="绝对值",o.Msg.MATH_SINGLE_OP_ROOT="平方根",o.Msg.MATH_SINGLE_TOOLTIP_ABS="返回一个数的绝对值。",o.Msg.MATH_SINGLE_TOOLTIP_EXP="返回e的一个数次幂。",o.Msg.MATH_SINGLE_TOOLTIP_LN="返回一个数的自然对数。",o.Msg.MATH_SINGLE_TOOLTIP_LOG10="返回一个数的以10为底的对数。",o.Msg.MATH_SINGLE_TOOLTIP_NEG="返回一个数的相反数。",o.Msg.MATH_SINGLE_TOOLTIP_POW10="返回10的一个数次幂。",o.Msg.MATH_SINGLE_TOOLTIP_ROOT="返回一个数的平方根。",o.Msg.MATH_SUBTRACTION_SYMBOL="-",o.Msg.MATH_TRIG_ACOS="反余弦",o.Msg.MATH_TRIG_ASIN="反正弦",o.Msg.MATH_TRIG_ATAN="反正切",o.Msg.MATH_TRIG_COS="余弦",o.Msg.MATH_TRIG_HELPURL="https://zh.wikipedia.org/wiki/三角函数",o.Msg.MATH_TRIG_SIN="正弦",o.Msg.MATH_TRIG_TAN="正切",o.Msg.MATH_TRIG_TOOLTIP_ACOS="返回一个数的反余弦。",o.Msg.MATH_TRIG_TOOLTIP_ASIN="返回一个数的反正弦。",o.Msg.MATH_TRIG_TOOLTIP_ATAN="返回一个数的反正切。",o.Msg.MATH_TRIG_TOOLTIP_COS="返回角度（非弧度）的余弦。",o.Msg.MATH_TRIG_TOOLTIP_SIN="返回角度（非弧度）的正弦。",o.Msg.MATH_TRIG_TOOLTIP_TAN="返回角度（非弧度）的正切。",o.Msg.NEW_COLOUR_VARIABLE="创建颜色变量...",o.Msg.NEW_NUMBER_VARIABLE="创建数变量...",o.Msg.NEW_STRING_VARIABLE="创建字符串变量...",o.Msg.NEW_VARIABLE="创建变量...",o.Msg.NEW_VARIABLE_TITLE="新变量的名称：",o.Msg.NEW_VARIABLE_TYPE_TITLE="新变量的类型：",o.Msg.ORDINAL_NUMBER_SUFFIX="",o.Msg.PROCEDURES_ALLOW_STATEMENTS="允许声明",o.Msg.PROCEDURES_BEFORE_PARAMS="与：",o.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",o.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="运行用户定义的函数“%1”。",o.Msg.PROCEDURES_CALLRETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",o.Msg.PROCEDURES_CALLRETURN_TOOLTIP="运行用户定义的函数“%1”，并使用它的输出值。",o.Msg.PROCEDURES_CALL_BEFORE_PARAMS="与：",o.Msg.PROCEDURES_CALL_DISABLED_DEF_WARNING="Can't run the user-defined function '%1' because the definition block is disabled.",o.Msg.PROCEDURES_CREATE_DO="创建“%1”",o.Msg.PROCEDURES_DEFNORETURN_COMMENT="描述该功能...",o.Msg.PROCEDURES_DEFNORETURN_DO="",o.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",o.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="做点什么",o.Msg.PROCEDURES_DEFNORETURN_TITLE="至",o.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="创建一个不带输出值的函数。",o.Msg.PROCEDURES_DEFRETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",o.Msg.PROCEDURES_DEFRETURN_RETURN="返回",o.Msg.PROCEDURES_DEFRETURN_TOOLTIP="创建一个有输出值的函数。",o.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="警告：此函数具有重复参数。",o.Msg.PROCEDURES_HIGHLIGHT_DEF="突出显示函数定义",o.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",o.Msg.PROCEDURES_IFRETURN_TOOLTIP="如果值为真，则返回第二个值。",o.Msg.PROCEDURES_IFRETURN_WARNING="警告：这个块只能在函数内部使用。",o.Msg.PROCEDURES_MUTATORARG_TITLE="输入名称：",o.Msg.PROCEDURES_MUTATORARG_TOOLTIP="添加函数输入。",o.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="输入",o.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="添加、移除或重新排此函数的输入。",o.Msg.REDO="重做",o.Msg.REMOVE_COMMENT="删除注释",o.Msg.RENAME_VARIABLE="重命名变量...",o.Msg.RENAME_VARIABLE_TITLE="将所有“%1”变量重命名为:",o.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",o.Msg.TEXT_APPEND_TITLE="在%1之后加上文本%2",o.Msg.TEXT_APPEND_TOOLTIP="将一些文本追加到变量“%1”里。",o.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",o.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="转为小写",o.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="转为首字母大写",o.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="转为大写",o.Msg.TEXT_CHANGECASE_TOOLTIP="用不同的大小写模式复制并返回这段文字。",o.Msg.TEXT_CHARAT_FIRST="获取第一个字符",o.Msg.TEXT_CHARAT_FROM_END="获取倒数第#个字符",o.Msg.TEXT_CHARAT_FROM_START="获取第#个字符",o.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",o.Msg.TEXT_CHARAT_LAST="获取最后一个字符",o.Msg.TEXT_CHARAT_RANDOM="获取随机一个字符",o.Msg.TEXT_CHARAT_TAIL="",o.Msg.TEXT_CHARAT_TITLE="在文本%1 里 %2",o.Msg.TEXT_CHARAT_TOOLTIP="返回位于指定位置的字符。",o.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",o.Msg.TEXT_COUNT_MESSAGE0="计算%1在%2里出现的次数",o.Msg.TEXT_COUNT_TOOLTIP="计算在一段文本中，某个部分文本重复出现了多少次。",o.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="将一个项添加到文本中。",o.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="拼接",o.Msg.TEXT_CREATE_JOIN_TOOLTIP="添加、移除或重新排列各节来重新配置这个文本块。",o.Msg.TEXT_GET_SUBSTRING_END_FROM_END="到倒数第#个字符",o.Msg.TEXT_GET_SUBSTRING_END_FROM_START="到第#个字符",o.Msg.TEXT_GET_SUBSTRING_END_LAST="到最后一个字符",o.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",o.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="从文本",o.Msg.TEXT_GET_SUBSTRING_START_FIRST="获取子串，从第一个字符",o.Msg.TEXT_GET_SUBSTRING_START_FROM_END="获取子串，从倒数第#个字符",o.Msg.TEXT_GET_SUBSTRING_START_FROM_START="获取子串，从第#个字符",o.Msg.TEXT_GET_SUBSTRING_TAIL="",o.Msg.TEXT_GET_SUBSTRING_TOOLTIP="返回文本中指定的一部分。",o.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",o.Msg.TEXT_INDEXOF_OPERATOR_FIRST="寻找第一次出现的文本",o.Msg.TEXT_INDEXOF_OPERATOR_LAST="寻找最后一次出现的文本",o.Msg.TEXT_INDEXOF_TITLE="在文本 %1 里 %2 %3",o.Msg.TEXT_INDEXOF_TOOLTIP="返回第一个文本段在第二个文本段中的第一/最后一个匹配项的起始位置。如果未找到，则返回%1。",o.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",o.Msg.TEXT_ISEMPTY_TITLE="%1是空的",o.Msg.TEXT_ISEMPTY_TOOLTIP="如果给定的文本为空，则返回真。",o.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",o.Msg.TEXT_JOIN_TITLE_CREATEWITH="创建文本，内容：",o.Msg.TEXT_JOIN_TOOLTIP="通过串起任意数量的项以建立一段文本。",o.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",o.Msg.TEXT_LENGTH_TITLE="%1的长度",o.Msg.TEXT_LENGTH_TOOLTIP="返回给定文本的字母数（包括空格）。",o.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",o.Msg.TEXT_PRINT_TITLE="输出%1",o.Msg.TEXT_PRINT_TOOLTIP="打印指定的文字、数或其他值。",o.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",o.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="提示用户输入一个数。",o.Msg.TEXT_PROMPT_TOOLTIP_TEXT="要求用户输入一些文本。",o.Msg.TEXT_PROMPT_TYPE_NUMBER="提示输入数并显示消息",o.Msg.TEXT_PROMPT_TYPE_TEXT="要求输入文本，并显示提示消息",o.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",o.Msg.TEXT_REPLACE_MESSAGE0="把%3中的%1替换为%2",o.Msg.TEXT_REPLACE_TOOLTIP="在一段文本中，将出现过的某部分文本都替换掉。",o.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",o.Msg.TEXT_REVERSE_MESSAGE0="倒转文本%1",o.Msg.TEXT_REVERSE_TOOLTIP="将文本中各个字符的顺序倒转。",o.Msg.TEXT_TEXT_HELPURL="https://zh.wikipedia.org/wiki/字符串",o.Msg.TEXT_TEXT_TOOLTIP="一个字、词或一行文本。",o.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",o.Msg.TEXT_TRIM_OPERATOR_BOTH="消除其两侧的空格",o.Msg.TEXT_TRIM_OPERATOR_LEFT="消除其左侧的空格",o.Msg.TEXT_TRIM_OPERATOR_RIGHT="消除其右侧的空格",o.Msg.TEXT_TRIM_TOOLTIP="从某一端或同时从两端删除多余的空白，并返回这段文字的一个副本。",o.Msg.TODAY="今天",o.Msg.UNDO="撤销",o.Msg.UNNAMED_KEY="未命名",o.Msg.VARIABLES_DEFAULT_NAME="项目",o.Msg.VARIABLES_GET_CREATE_SET="创建“设定%1”",o.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",o.Msg.VARIABLES_GET_TOOLTIP="返回此变量的值。",o.Msg.VARIABLES_SET="赋值 %1 为 %2",o.Msg.VARIABLES_SET_CREATE_GET="创建“获得%1”",o.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",o.Msg.VARIABLES_SET_TOOLTIP="设置此变量，以使它和输入值相等。",o.Msg.VARIABLE_ALREADY_EXISTS="名字叫“%1”的变量已经存在了。",o.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="名字叫“%1”的变量已经有了另一个类型：“%2”。",o.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="名为“%1”的变量已经作为参数存在于流程“%2”中。",o.Msg.WORKSPACE_ARIA_LABEL="Blockly工作区",o.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="说点什么...",o.Msg.CONTROLS_FOREACH_INPUT_DO=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.CONTROLS_FOR_INPUT_DO=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=o.Msg.CONTROLS_IF_MSG_ELSEIF,o.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=o.Msg.CONTROLS_IF_MSG_ELSE,o.Msg.CONTROLS_IF_IF_TITLE_IF=o.Msg.CONTROLS_IF_MSG_IF,o.Msg.CONTROLS_IF_MSG_THEN=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.LISTS_CREATE_WITH_ITEM_TITLE=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.MATH_CHANGE_TITLE_ITEM=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.PROCEDURES_DEFRETURN_COMMENT=o.Msg.PROCEDURES_DEFNORETURN_COMMENT,o.Msg.PROCEDURES_DEFRETURN_DO=o.Msg.PROCEDURES_DEFNORETURN_DO,o.Msg.PROCEDURES_DEFRETURN_PROCEDURE=o.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,o.Msg.PROCEDURES_DEFRETURN_TITLE=o.Msg.PROCEDURES_DEFNORETURN_TITLE,o.Msg.TEXT_APPEND_VARIABLE=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.COLOUR_HUE="20",o.Msg.LISTS_HUE="260",o.Msg.LOGIC_HUE="210",o.Msg.LOOPS_HUE="120",o.Msg.MATH_HUE="230",o.Msg.PROCEDURES_HUE="290",o.Msg.TEXTS_HUE="160",o.Msg.VARIABLES_DYNAMIC_HUE="310",o.Msg.VARIABLES_HUE="330",o.Msg})})(cx);var Kde=cx.exports;const Xde=js(Kde),{LOGIC_HUE:Yde,LOOPS_HUE:jde,MATH_HUE:qde,TEXTS_HUE:Jde,LISTS_HUE:Zde,COLOUR_HUE:Qde,VARIABLES_HUE:ehe,VARIABLES_DYNAMIC_HUE:the,PROCEDURES_HUE:nhe,VARIABLES_DEFAULT_NAME:ohe,UNNAMED_KEY:she,TODAY:ihe,DUPLICATE_BLOCK:rhe,ADD_COMMENT:lhe,REMOVE_COMMENT:ahe,DUPLICATE_COMMENT:uhe,EXTERNAL_INPUTS:che,INLINE_INPUTS:dhe,DELETE_BLOCK:hhe,DELETE_X_BLOCKS:phe,DELETE_ALL_BLOCKS:fhe,CLEAN_UP:mhe,COLLAPSE_BLOCK:ghe,COLLAPSE_ALL:$he,EXPAND_BLOCK:vhe,EXPAND_ALL:_he,DISABLE_BLOCK:bhe,ENABLE_BLOCK:The,HELP:yhe,UNDO:Ehe,REDO:She,CHANGE_VALUE_TITLE:Che,RENAME_VARIABLE:Ihe,RENAME_VARIABLE_TITLE:whe,NEW_VARIABLE:khe,NEW_STRING_VARIABLE:Ohe,NEW_NUMBER_VARIABLE:Rhe,NEW_COLOUR_VARIABLE:Lhe,NEW_VARIABLE_TYPE_TITLE:Ahe,NEW_VARIABLE_TITLE:Nhe,VARIABLE_ALREADY_EXISTS:Mhe,VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE:Dhe,VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER:Phe,DELETE_VARIABLE_CONFIRMATION:xhe,CANNOT_DELETE_VARIABLE_PROCEDURE:Bhe,DELETE_VARIABLE:Fhe,COLOUR_PICKER_HELPURL:Hhe,COLOUR_PICKER_TOOLTIP:Vhe,COLOUR_RANDOM_HELPURL:Uhe,COLOUR_RANDOM_TITLE:Ghe,COLOUR_RANDOM_TOOLTIP:Whe,COLOUR_RGB_HELPURL:zhe,COLOUR_RGB_TITLE:Khe,COLOUR_RGB_RED:Xhe,COLOUR_RGB_GREEN:Yhe,COLOUR_RGB_BLUE:jhe,COLOUR_RGB_TOOLTIP:qhe,COLOUR_BLEND_HELPURL:Jhe,COLOUR_BLEND_TITLE:Zhe,COLOUR_BLEND_COLOUR1:Qhe,COLOUR_BLEND_COLOUR2:epe,COLOUR_BLEND_RATIO:tpe,COLOUR_BLEND_TOOLTIP:npe,CONTROLS_REPEAT_HELPURL:ope,CONTROLS_REPEAT_TITLE:spe,CONTROLS_REPEAT_INPUT_DO:ipe,CONTROLS_REPEAT_TOOLTIP:rpe,CONTROLS_WHILEUNTIL_HELPURL:lpe,CONTROLS_WHILEUNTIL_INPUT_DO:ape,CONTROLS_WHILEUNTIL_OPERATOR_WHILE:upe,CONTROLS_WHILEUNTIL_OPERATOR_UNTIL:cpe,CONTROLS_WHILEUNTIL_TOOLTIP_WHILE:dpe,CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL:hpe,CONTROLS_FOR_HELPURL:ppe,CONTROLS_FOR_TOOLTIP:fpe,CONTROLS_FOR_TITLE:mpe,CONTROLS_FOR_INPUT_DO:gpe,CONTROLS_FOREACH_HELPURL:$pe,CONTROLS_FOREACH_TITLE:vpe,CONTROLS_FOREACH_INPUT_DO:_pe,CONTROLS_FOREACH_TOOLTIP:bpe,CONTROLS_FLOW_STATEMENTS_HELPURL:Tpe,CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK:ype,CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE:Epe,CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK:Spe,CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE:Cpe,CONTROLS_FLOW_STATEMENTS_WARNING:Ipe,CONTROLS_IF_HELPURL:wpe,CONTROLS_IF_TOOLTIP_1:kpe,CONTROLS_IF_TOOLTIP_2:Ope,CONTROLS_IF_TOOLTIP_3:Rpe,CONTROLS_IF_TOOLTIP_4:Lpe,CONTROLS_IF_MSG_IF:Ape,CONTROLS_IF_MSG_ELSEIF:Npe,CONTROLS_IF_MSG_ELSE:Mpe,CONTROLS_IF_MSG_THEN:Dpe,CONTROLS_IF_IF_TITLE_IF:Ppe,CONTROLS_IF_IF_TOOLTIP:xpe,CONTROLS_IF_ELSEIF_TITLE_ELSEIF:Bpe,CONTROLS_IF_ELSEIF_TOOLTIP:Fpe,CONTROLS_IF_ELSE_TITLE_ELSE:Hpe,CONTROLS_IF_ELSE_TOOLTIP:Vpe,LOGIC_COMPARE_HELPURL:Upe,LOGIC_COMPARE_TOOLTIP_EQ:Gpe,LOGIC_COMPARE_TOOLTIP_NEQ:Wpe,LOGIC_COMPARE_TOOLTIP_LT:zpe,LOGIC_COMPARE_TOOLTIP_LTE:Kpe,LOGIC_COMPARE_TOOLTIP_GT:Xpe,LOGIC_COMPARE_TOOLTIP_GTE:Ype,LOGIC_OPERATION_HELPURL:jpe,LOGIC_OPERATION_TOOLTIP_AND:qpe,LOGIC_OPERATION_AND:Jpe,LOGIC_OPERATION_TOOLTIP_OR:Zpe,LOGIC_OPERATION_OR:Qpe,LOGIC_NEGATE_HELPURL:efe,LOGIC_NEGATE_TITLE:tfe,LOGIC_NEGATE_TOOLTIP:nfe,LOGIC_BOOLEAN_HELPURL:ofe,LOGIC_BOOLEAN_TRUE:sfe,LOGIC_BOOLEAN_FALSE:ife,LOGIC_BOOLEAN_TOOLTIP:rfe,LOGIC_NULL_HELPURL:lfe,LOGIC_NULL:afe,LOGIC_NULL_TOOLTIP:ufe,LOGIC_TERNARY_HELPURL:cfe,LOGIC_TERNARY_CONDITION:dfe,LOGIC_TERNARY_IF_TRUE:hfe,LOGIC_TERNARY_IF_FALSE:pfe,LOGIC_TERNARY_TOOLTIP:ffe,MATH_NUMBER_HELPURL:mfe,MATH_NUMBER_TOOLTIP:gfe,MATH_ADDITION_SYMBOL:$fe,MATH_SUBTRACTION_SYMBOL:vfe,MATH_DIVISION_SYMBOL:_fe,MATH_MULTIPLICATION_SYMBOL:bfe,MATH_POWER_SYMBOL:Tfe,MATH_TRIG_SIN:yfe,MATH_TRIG_COS:Efe,MATH_TRIG_TAN:Sfe,MATH_TRIG_ASIN:Cfe,MATH_TRIG_ACOS:Ife,MATH_TRIG_ATAN:wfe,MATH_ARITHMETIC_HELPURL:kfe,MATH_ARITHMETIC_TOOLTIP_ADD:Ofe,MATH_ARITHMETIC_TOOLTIP_MINUS:Rfe,MATH_ARITHMETIC_TOOLTIP_MULTIPLY:Lfe,MATH_ARITHMETIC_TOOLTIP_DIVIDE:Afe,MATH_ARITHMETIC_TOOLTIP_POWER:Nfe,MATH_SINGLE_HELPURL:Mfe,MATH_SINGLE_OP_ROOT:Dfe,MATH_SINGLE_TOOLTIP_ROOT:Pfe,MATH_SINGLE_OP_ABSOLUTE:xfe,MATH_SINGLE_TOOLTIP_ABS:Bfe,MATH_SINGLE_TOOLTIP_NEG:Ffe,MATH_SINGLE_TOOLTIP_LN:Hfe,MATH_SINGLE_TOOLTIP_LOG10:Vfe,MATH_SINGLE_TOOLTIP_EXP:Ufe,MATH_SINGLE_TOOLTIP_POW10:Gfe,MATH_TRIG_HELPURL:Wfe,MATH_TRIG_TOOLTIP_SIN:zfe,MATH_TRIG_TOOLTIP_COS:Kfe,MATH_TRIG_TOOLTIP_TAN:Xfe,MATH_TRIG_TOOLTIP_ASIN:Yfe,MATH_TRIG_TOOLTIP_ACOS:jfe,MATH_TRIG_TOOLTIP_ATAN:qfe,MATH_CONSTANT_HELPURL:Jfe,MATH_CONSTANT_TOOLTIP:Zfe,MATH_IS_EVEN:Qfe,MATH_IS_ODD:eme,MATH_IS_PRIME:tme,MATH_IS_WHOLE:nme,MATH_IS_POSITIVE:ome,MATH_IS_NEGATIVE:sme,MATH_IS_DIVISIBLE_BY:ime,MATH_IS_TOOLTIP:rme,MATH_CHANGE_HELPURL:lme,MATH_CHANGE_TITLE:ame,MATH_CHANGE_TITLE_ITEM:ume,MATH_CHANGE_TOOLTIP:cme,MATH_ROUND_HELPURL:dme,MATH_ROUND_TOOLTIP:hme,MATH_ROUND_OPERATOR_ROUND:pme,MATH_ROUND_OPERATOR_ROUNDUP:fme,MATH_ROUND_OPERATOR_ROUNDDOWN:mme,MATH_ONLIST_HELPURL:gme,MATH_ONLIST_OPERATOR_SUM:$me,MATH_ONLIST_TOOLTIP_SUM:vme,MATH_ONLIST_OPERATOR_MIN:_me,MATH_ONLIST_TOOLTIP_MIN:bme,MATH_ONLIST_OPERATOR_MAX:Tme,MATH_ONLIST_TOOLTIP_MAX:yme,MATH_ONLIST_OPERATOR_AVERAGE:Eme,MATH_ONLIST_TOOLTIP_AVERAGE:Sme,MATH_ONLIST_OPERATOR_MEDIAN:Cme,MATH_ONLIST_TOOLTIP_MEDIAN:Ime,MATH_ONLIST_OPERATOR_MODE:wme,MATH_ONLIST_TOOLTIP_MODE:kme,MATH_ONLIST_OPERATOR_STD_DEV:Ome,MATH_ONLIST_TOOLTIP_STD_DEV:Rme,MATH_ONLIST_OPERATOR_RANDOM:Lme,MATH_ONLIST_TOOLTIP_RANDOM:Ame,MATH_MODULO_HELPURL:Nme,MATH_MODULO_TITLE:Mme,MATH_MODULO_TOOLTIP:Dme,MATH_CONSTRAIN_HELPURL:Pme,MATH_CONSTRAIN_TITLE:xme,MATH_CONSTRAIN_TOOLTIP:Bme,MATH_RANDOM_INT_HELPURL:Fme,MATH_RANDOM_INT_TITLE:Hme,MATH_RANDOM_INT_TOOLTIP:Vme,MATH_RANDOM_FLOAT_HELPURL:Ume,MATH_RANDOM_FLOAT_TITLE_RANDOM:Gme,MATH_RANDOM_FLOAT_TOOLTIP:Wme,MATH_ATAN2_HELPURL:zme,MATH_ATAN2_TITLE:Kme,MATH_ATAN2_TOOLTIP:Xme,TEXT_TEXT_HELPURL:Yme,TEXT_TEXT_TOOLTIP:jme,TEXT_JOIN_HELPURL:qme,TEXT_JOIN_TITLE_CREATEWITH:Jme,TEXT_JOIN_TOOLTIP:Zme,TEXT_CREATE_JOIN_TITLE_JOIN:Qme,TEXT_CREATE_JOIN_TOOLTIP:ege,TEXT_CREATE_JOIN_ITEM_TITLE_ITEM:tge,TEXT_CREATE_JOIN_ITEM_TOOLTIP:nge,TEXT_APPEND_HELPURL:oge,TEXT_APPEND_TITLE:sge,TEXT_APPEND_VARIABLE:ige,TEXT_APPEND_TOOLTIP:rge,TEXT_LENGTH_HELPURL:lge,TEXT_LENGTH_TITLE:age,TEXT_LENGTH_TOOLTIP:uge,TEXT_ISEMPTY_HELPURL:cge,TEXT_ISEMPTY_TITLE:dge,TEXT_ISEMPTY_TOOLTIP:hge,TEXT_INDEXOF_HELPURL:pge,TEXT_INDEXOF_TOOLTIP:fge,TEXT_INDEXOF_TITLE:mge,TEXT_INDEXOF_OPERATOR_FIRST:gge,TEXT_INDEXOF_OPERATOR_LAST:$ge,TEXT_CHARAT_HELPURL:vge,TEXT_CHARAT_TITLE:_ge,TEXT_CHARAT_FROM_START:bge,TEXT_CHARAT_FROM_END:Tge,TEXT_CHARAT_FIRST:yge,TEXT_CHARAT_LAST:Ege,TEXT_CHARAT_RANDOM:Sge,TEXT_CHARAT_TAIL:Cge,TEXT_CHARAT_TOOLTIP:Ige,TEXT_GET_SUBSTRING_TOOLTIP:wge,TEXT_GET_SUBSTRING_HELPURL:kge,TEXT_GET_SUBSTRING_INPUT_IN_TEXT:Oge,TEXT_GET_SUBSTRING_START_FROM_START:Rge,TEXT_GET_SUBSTRING_START_FROM_END:Lge,TEXT_GET_SUBSTRING_START_FIRST:Age,TEXT_GET_SUBSTRING_END_FROM_START:Nge,TEXT_GET_SUBSTRING_END_FROM_END:Mge,TEXT_GET_SUBSTRING_END_LAST:Dge,TEXT_GET_SUBSTRING_TAIL:Pge,TEXT_CHANGECASE_HELPURL:xge,TEXT_CHANGECASE_TOOLTIP:Bge,TEXT_CHANGECASE_OPERATOR_UPPERCASE:Fge,TEXT_CHANGECASE_OPERATOR_LOWERCASE:Hge,TEXT_CHANGECASE_OPERATOR_TITLECASE:Vge,TEXT_TRIM_HELPURL:Uge,TEXT_TRIM_TOOLTIP:Gge,TEXT_TRIM_OPERATOR_BOTH:Wge,TEXT_TRIM_OPERATOR_LEFT:zge,TEXT_TRIM_OPERATOR_RIGHT:Kge,TEXT_PRINT_HELPURL:Xge,TEXT_PRINT_TITLE:Yge,TEXT_PRINT_TOOLTIP:jge,TEXT_PROMPT_HELPURL:qge,TEXT_PROMPT_TYPE_TEXT:Jge,TEXT_PROMPT_TYPE_NUMBER:Zge,TEXT_PROMPT_TOOLTIP_NUMBER:Qge,TEXT_PROMPT_TOOLTIP_TEXT:e$e,TEXT_COUNT_MESSAGE0:t$e,TEXT_COUNT_HELPURL:n$e,TEXT_COUNT_TOOLTIP:o$e,TEXT_REPLACE_MESSAGE0:s$e,TEXT_REPLACE_HELPURL:i$e,TEXT_REPLACE_TOOLTIP:r$e,TEXT_REVERSE_MESSAGE0:l$e,TEXT_REVERSE_HELPURL:a$e,TEXT_REVERSE_TOOLTIP:u$e,LISTS_CREATE_EMPTY_HELPURL:c$e,LISTS_CREATE_EMPTY_TITLE:d$e,LISTS_CREATE_EMPTY_TOOLTIP:h$e,LISTS_CREATE_WITH_HELPURL:p$e,LISTS_CREATE_WITH_TOOLTIP:f$e,LISTS_CREATE_WITH_INPUT_WITH:m$e,LISTS_CREATE_WITH_CONTAINER_TITLE_ADD:g$e,LISTS_CREATE_WITH_CONTAINER_TOOLTIP:$$e,LISTS_CREATE_WITH_ITEM_TITLE:v$e,LISTS_CREATE_WITH_ITEM_TOOLTIP:_$e,LISTS_REPEAT_HELPURL:b$e,LISTS_REPEAT_TOOLTIP:T$e,LISTS_REPEAT_TITLE:y$e,LISTS_LENGTH_HELPURL:E$e,LISTS_LENGTH_TITLE:S$e,LISTS_LENGTH_TOOLTIP:C$e,LISTS_ISEMPTY_HELPURL:I$e,LISTS_ISEMPTY_TITLE:w$e,LISTS_ISEMPTY_TOOLTIP:k$e,LISTS_INLIST:O$e,LISTS_INDEX_OF_HELPURL:R$e,LISTS_INDEX_OF_INPUT_IN_LIST:L$e,LISTS_INDEX_OF_FIRST:A$e,LISTS_INDEX_OF_LAST:N$e,LISTS_INDEX_OF_TOOLTIP:M$e,LISTS_GET_INDEX_HELPURL:D$e,LISTS_GET_INDEX_GET:P$e,LISTS_GET_INDEX_GET_REMOVE:x$e,LISTS_GET_INDEX_REMOVE:B$e,LISTS_GET_INDEX_FROM_START:F$e,LISTS_GET_INDEX_FROM_END:H$e,LISTS_GET_INDEX_FIRST:V$e,LISTS_GET_INDEX_LAST:U$e,LISTS_GET_INDEX_RANDOM:G$e,LISTS_GET_INDEX_TAIL:W$e,LISTS_GET_INDEX_INPUT_IN_LIST:z$e,LISTS_INDEX_FROM_START_TOOLTIP:K$e,LISTS_INDEX_FROM_END_TOOLTIP:X$e,LISTS_GET_INDEX_TOOLTIP_GET_FROM:Y$e,LISTS_GET_INDEX_TOOLTIP_GET_FIRST:j$e,LISTS_GET_INDEX_TOOLTIP_GET_LAST:q$e,LISTS_GET_INDEX_TOOLTIP_GET_RANDOM:J$e,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM:Z$e,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST:Q$e,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST:eve,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM:tve,LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM:nve,LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST:ove,LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST:sve,LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM:ive,LISTS_SET_INDEX_HELPURL:rve,LISTS_SET_INDEX_INPUT_IN_LIST:lve,LISTS_SET_INDEX_SET:ave,LISTS_SET_INDEX_INSERT:uve,LISTS_SET_INDEX_INPUT_TO:cve,LISTS_SET_INDEX_TOOLTIP_SET_FROM:dve,LISTS_SET_INDEX_TOOLTIP_SET_FIRST:hve,LISTS_SET_INDEX_TOOLTIP_SET_LAST:pve,LISTS_SET_INDEX_TOOLTIP_SET_RANDOM:fve,LISTS_SET_INDEX_TOOLTIP_INSERT_FROM:mve,LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST:gve,LISTS_SET_INDEX_TOOLTIP_INSERT_LAST:$ve,LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM:vve,LISTS_GET_SUBLIST_HELPURL:_ve,LISTS_GET_SUBLIST_INPUT_IN_LIST:bve,LISTS_GET_SUBLIST_START_FROM_START:Tve,LISTS_GET_SUBLIST_START_FROM_END:yve,LISTS_GET_SUBLIST_START_FIRST:Eve,LISTS_GET_SUBLIST_END_FROM_START:Sve,LISTS_GET_SUBLIST_END_FROM_END:Cve,LISTS_GET_SUBLIST_END_LAST:Ive,LISTS_GET_SUBLIST_TAIL:wve,LISTS_GET_SUBLIST_TOOLTIP:kve,LISTS_SORT_HELPURL:Ove,LISTS_SORT_TITLE:Rve,LISTS_SORT_TOOLTIP:Lve,LISTS_SORT_ORDER_ASCENDING:Ave,LISTS_SORT_ORDER_DESCENDING:Nve,LISTS_SORT_TYPE_NUMERIC:Mve,LISTS_SORT_TYPE_TEXT:Dve,LISTS_SORT_TYPE_IGNORECASE:Pve,LISTS_SPLIT_HELPURL:xve,LISTS_SPLIT_LIST_FROM_TEXT:Bve,LISTS_SPLIT_TEXT_FROM_LIST:Fve,LISTS_SPLIT_WITH_DELIMITER:Hve,LISTS_SPLIT_TOOLTIP_SPLIT:Vve,LISTS_SPLIT_TOOLTIP_JOIN:Uve,LISTS_REVERSE_HELPURL:Gve,LISTS_REVERSE_MESSAGE0:Wve,LISTS_REVERSE_TOOLTIP:zve,ORDINAL_NUMBER_SUFFIX:Kve,VARIABLES_GET_HELPURL:Xve,VARIABLES_GET_TOOLTIP:Yve,VARIABLES_GET_CREATE_SET:jve,VARIABLES_SET_HELPURL:qve,VARIABLES_SET:Jve,VARIABLES_SET_TOOLTIP:Zve,VARIABLES_SET_CREATE_GET:Qve,PROCEDURES_DEFNORETURN_HELPURL:e_e,PROCEDURES_DEFNORETURN_TITLE:t_e,PROCEDURES_DEFNORETURN_PROCEDURE:n_e,PROCEDURES_BEFORE_PARAMS:o_e,PROCEDURES_CALL_BEFORE_PARAMS:s_e,PROCEDURES_CALL_DISABLED_DEF_WARNING:i_e,PROCEDURES_DEFNORETURN_DO:r_e,PROCEDURES_DEFNORETURN_TOOLTIP:l_e,PROCEDURES_DEFNORETURN_COMMENT:a_e,PROCEDURES_DEFRETURN_HELPURL:u_e,PROCEDURES_DEFRETURN_TITLE:c_e,PROCEDURES_DEFRETURN_PROCEDURE:d_e,PROCEDURES_DEFRETURN_DO:h_e,PROCEDURES_DEFRETURN_COMMENT:p_e,PROCEDURES_DEFRETURN_RETURN:f_e,PROCEDURES_DEFRETURN_TOOLTIP:m_e,PROCEDURES_ALLOW_STATEMENTS:g_e,PROCEDURES_DEF_DUPLICATE_WARNING:$_e,PROCEDURES_CALLNORETURN_HELPURL:v_e,PROCEDURES_CALLNORETURN_TOOLTIP:__e,PROCEDURES_CALLRETURN_HELPURL:b_e,PROCEDURES_CALLRETURN_TOOLTIP:T_e,PROCEDURES_MUTATORCONTAINER_TITLE:y_e,PROCEDURES_MUTATORCONTAINER_TOOLTIP:E_e,PROCEDURES_MUTATORARG_TITLE:S_e,PROCEDURES_MUTATORARG_TOOLTIP:C_e,PROCEDURES_HIGHLIGHT_DEF:I_e,PROCEDURES_CREATE_DO:w_e,PROCEDURES_IFRETURN_TOOLTIP:k_e,PROCEDURES_IFRETURN_HELPURL:O_e,PROCEDURES_IFRETURN_WARNING:R_e,WORKSPACE_COMMENT_DEFAULT_TEXT:L_e,WORKSPACE_ARIA_LABEL:A_e,COLLAPSED_WARNINGS_WARNING:N_e,DIALOG_OK:M_e,DIALOG_CANCEL:D_e}=Xde,P_e=Object.freeze(Object.defineProperty({__proto__:null,ADD_COMMENT:lhe,CANNOT_DELETE_VARIABLE_PROCEDURE:Bhe,CHANGE_VALUE_TITLE:Che,CLEAN_UP:mhe,COLLAPSED_WARNINGS_WARNING:N_e,COLLAPSE_ALL:$he,COLLAPSE_BLOCK:ghe,COLOUR_BLEND_COLOUR1:Qhe,COLOUR_BLEND_COLOUR2:epe,COLOUR_BLEND_HELPURL:Jhe,COLOUR_BLEND_RATIO:tpe,COLOUR_BLEND_TITLE:Zhe,COLOUR_BLEND_TOOLTIP:npe,COLOUR_HUE:Qde,COLOUR_PICKER_HELPURL:Hhe,COLOUR_PICKER_TOOLTIP:Vhe,COLOUR_RANDOM_HELPURL:Uhe,COLOUR_RANDOM_TITLE:Ghe,COLOUR_RANDOM_TOOLTIP:Whe,COLOUR_RGB_BLUE:jhe,COLOUR_RGB_GREEN:Yhe,COLOUR_RGB_HELPURL:zhe,COLOUR_RGB_RED:Xhe,COLOUR_RGB_TITLE:Khe,COLOUR_RGB_TOOLTIP:qhe,CONTROLS_FLOW_STATEMENTS_HELPURL:Tpe,CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK:ype,CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE:Epe,CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK:Spe,CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE:Cpe,CONTROLS_FLOW_STATEMENTS_WARNING:Ipe,CONTROLS_FOREACH_HELPURL:$pe,CONTROLS_FOREACH_INPUT_DO:_pe,CONTROLS_FOREACH_TITLE:vpe,CONTROLS_FOREACH_TOOLTIP:bpe,CONTROLS_FOR_HELPURL:ppe,CONTROLS_FOR_INPUT_DO:gpe,CONTROLS_FOR_TITLE:mpe,CONTROLS_FOR_TOOLTIP:fpe,CONTROLS_IF_ELSEIF_TITLE_ELSEIF:Bpe,CONTROLS_IF_ELSEIF_TOOLTIP:Fpe,CONTROLS_IF_ELSE_TITLE_ELSE:Hpe,CONTROLS_IF_ELSE_TOOLTIP:Vpe,CONTROLS_IF_HELPURL:wpe,CONTROLS_IF_IF_TITLE_IF:Ppe,CONTROLS_IF_IF_TOOLTIP:xpe,CONTROLS_IF_MSG_ELSE:Mpe,CONTROLS_IF_MSG_ELSEIF:Npe,CONTROLS_IF_MSG_IF:Ape,CONTROLS_IF_MSG_THEN:Dpe,CONTROLS_IF_TOOLTIP_1:kpe,CONTROLS_IF_TOOLTIP_2:Ope,CONTROLS_IF_TOOLTIP_3:Rpe,CONTROLS_IF_TOOLTIP_4:Lpe,CONTROLS_REPEAT_HELPURL:ope,CONTROLS_REPEAT_INPUT_DO:ipe,CONTROLS_REPEAT_TITLE:spe,CONTROLS_REPEAT_TOOLTIP:rpe,CONTROLS_WHILEUNTIL_HELPURL:lpe,CONTROLS_WHILEUNTIL_INPUT_DO:ape,CONTROLS_WHILEUNTIL_OPERATOR_UNTIL:cpe,CONTROLS_WHILEUNTIL_OPERATOR_WHILE:upe,CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL:hpe,CONTROLS_WHILEUNTIL_TOOLTIP_WHILE:dpe,DELETE_ALL_BLOCKS:fhe,DELETE_BLOCK:hhe,DELETE_VARIABLE:Fhe,DELETE_VARIABLE_CONFIRMATION:xhe,DELETE_X_BLOCKS:phe,DIALOG_CANCEL:D_e,DIALOG_OK:M_e,DISABLE_BLOCK:bhe,DUPLICATE_BLOCK:rhe,DUPLICATE_COMMENT:uhe,ENABLE_BLOCK:The,EXPAND_ALL:_he,EXPAND_BLOCK:vhe,EXTERNAL_INPUTS:che,HELP:yhe,INLINE_INPUTS:dhe,LISTS_CREATE_EMPTY_HELPURL:c$e,LISTS_CREATE_EMPTY_TITLE:d$e,LISTS_CREATE_EMPTY_TOOLTIP:h$e,LISTS_CREATE_WITH_CONTAINER_TITLE_ADD:g$e,LISTS_CREATE_WITH_CONTAINER_TOOLTIP:$$e,LISTS_CREATE_WITH_HELPURL:p$e,LISTS_CREATE_WITH_INPUT_WITH:m$e,LISTS_CREATE_WITH_ITEM_TITLE:v$e,LISTS_CREATE_WITH_ITEM_TOOLTIP:_$e,LISTS_CREATE_WITH_TOOLTIP:f$e,LISTS_GET_INDEX_FIRST:V$e,LISTS_GET_INDEX_FROM_END:H$e,LISTS_GET_INDEX_FROM_START:F$e,LISTS_GET_INDEX_GET:P$e,LISTS_GET_INDEX_GET_REMOVE:x$e,LISTS_GET_INDEX_HELPURL:D$e,LISTS_GET_INDEX_INPUT_IN_LIST:z$e,LISTS_GET_INDEX_LAST:U$e,LISTS_GET_INDEX_RANDOM:G$e,LISTS_GET_INDEX_REMOVE:B$e,LISTS_GET_INDEX_TAIL:W$e,LISTS_GET_INDEX_TOOLTIP_GET_FIRST:j$e,LISTS_GET_INDEX_TOOLTIP_GET_FROM:Y$e,LISTS_GET_INDEX_TOOLTIP_GET_LAST:q$e,LISTS_GET_INDEX_TOOLTIP_GET_RANDOM:J$e,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST:Q$e,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM:Z$e,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST:eve,LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM:tve,LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST:ove,LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM:nve,LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST:sve,LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM:ive,LISTS_GET_SUBLIST_END_FROM_END:Cve,LISTS_GET_SUBLIST_END_FROM_START:Sve,LISTS_GET_SUBLIST_END_LAST:Ive,LISTS_GET_SUBLIST_HELPURL:_ve,LISTS_GET_SUBLIST_INPUT_IN_LIST:bve,LISTS_GET_SUBLIST_START_FIRST:Eve,LISTS_GET_SUBLIST_START_FROM_END:yve,LISTS_GET_SUBLIST_START_FROM_START:Tve,LISTS_GET_SUBLIST_TAIL:wve,LISTS_GET_SUBLIST_TOOLTIP:kve,LISTS_HUE:Zde,LISTS_INDEX_FROM_END_TOOLTIP:X$e,LISTS_INDEX_FROM_START_TOOLTIP:K$e,LISTS_INDEX_OF_FIRST:A$e,LISTS_INDEX_OF_HELPURL:R$e,LISTS_INDEX_OF_INPUT_IN_LIST:L$e,LISTS_INDEX_OF_LAST:N$e,LISTS_INDEX_OF_TOOLTIP:M$e,LISTS_INLIST:O$e,LISTS_ISEMPTY_HELPURL:I$e,LISTS_ISEMPTY_TITLE:w$e,LISTS_ISEMPTY_TOOLTIP:k$e,LISTS_LENGTH_HELPURL:E$e,LISTS_LENGTH_TITLE:S$e,LISTS_LENGTH_TOOLTIP:C$e,LISTS_REPEAT_HELPURL:b$e,LISTS_REPEAT_TITLE:y$e,LISTS_REPEAT_TOOLTIP:T$e,LISTS_REVERSE_HELPURL:Gve,LISTS_REVERSE_MESSAGE0:Wve,LISTS_REVERSE_TOOLTIP:zve,LISTS_SET_INDEX_HELPURL:rve,LISTS_SET_INDEX_INPUT_IN_LIST:lve,LISTS_SET_INDEX_INPUT_TO:cve,LISTS_SET_INDEX_INSERT:uve,LISTS_SET_INDEX_SET:ave,LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST:gve,LISTS_SET_INDEX_TOOLTIP_INSERT_FROM:mve,LISTS_SET_INDEX_TOOLTIP_INSERT_LAST:$ve,LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM:vve,LISTS_SET_INDEX_TOOLTIP_SET_FIRST:hve,LISTS_SET_INDEX_TOOLTIP_SET_FROM:dve,LISTS_SET_INDEX_TOOLTIP_SET_LAST:pve,LISTS_SET_INDEX_TOOLTIP_SET_RANDOM:fve,LISTS_SORT_HELPURL:Ove,LISTS_SORT_ORDER_ASCENDING:Ave,LISTS_SORT_ORDER_DESCENDING:Nve,LISTS_SORT_TITLE:Rve,LISTS_SORT_TOOLTIP:Lve,LISTS_SORT_TYPE_IGNORECASE:Pve,LISTS_SORT_TYPE_NUMERIC:Mve,LISTS_SORT_TYPE_TEXT:Dve,LISTS_SPLIT_HELPURL:xve,LISTS_SPLIT_LIST_FROM_TEXT:Bve,LISTS_SPLIT_TEXT_FROM_LIST:Fve,LISTS_SPLIT_TOOLTIP_JOIN:Uve,LISTS_SPLIT_TOOLTIP_SPLIT:Vve,LISTS_SPLIT_WITH_DELIMITER:Hve,LOGIC_BOOLEAN_FALSE:ife,LOGIC_BOOLEAN_HELPURL:ofe,LOGIC_BOOLEAN_TOOLTIP:rfe,LOGIC_BOOLEAN_TRUE:sfe,LOGIC_COMPARE_HELPURL:Upe,LOGIC_COMPARE_TOOLTIP_EQ:Gpe,LOGIC_COMPARE_TOOLTIP_GT:Xpe,LOGIC_COMPARE_TOOLTIP_GTE:Ype,LOGIC_COMPARE_TOOLTIP_LT:zpe,LOGIC_COMPARE_TOOLTIP_LTE:Kpe,LOGIC_COMPARE_TOOLTIP_NEQ:Wpe,LOGIC_HUE:Yde,LOGIC_NEGATE_HELPURL:efe,LOGIC_NEGATE_TITLE:tfe,LOGIC_NEGATE_TOOLTIP:nfe,LOGIC_NULL:afe,LOGIC_NULL_HELPURL:lfe,LOGIC_NULL_TOOLTIP:ufe,LOGIC_OPERATION_AND:Jpe,LOGIC_OPERATION_HELPURL:jpe,LOGIC_OPERATION_OR:Qpe,LOGIC_OPERATION_TOOLTIP_AND:qpe,LOGIC_OPERATION_TOOLTIP_OR:Zpe,LOGIC_TERNARY_CONDITION:dfe,LOGIC_TERNARY_HELPURL:cfe,LOGIC_TERNARY_IF_FALSE:pfe,LOGIC_TERNARY_IF_TRUE:hfe,LOGIC_TERNARY_TOOLTIP:ffe,LOOPS_HUE:jde,MATH_ADDITION_SYMBOL:$fe,MATH_ARITHMETIC_HELPURL:kfe,MATH_ARITHMETIC_TOOLTIP_ADD:Ofe,MATH_ARITHMETIC_TOOLTIP_DIVIDE:Afe,MATH_ARITHMETIC_TOOLTIP_MINUS:Rfe,MATH_ARITHMETIC_TOOLTIP_MULTIPLY:Lfe,MATH_ARITHMETIC_TOOLTIP_POWER:Nfe,MATH_ATAN2_HELPURL:zme,MATH_ATAN2_TITLE:Kme,MATH_ATAN2_TOOLTIP:Xme,MATH_CHANGE_HELPURL:lme,MATH_CHANGE_TITLE:ame,MATH_CHANGE_TITLE_ITEM:ume,MATH_CHANGE_TOOLTIP:cme,MATH_CONSTANT_HELPURL:Jfe,MATH_CONSTANT_TOOLTIP:Zfe,MATH_CONSTRAIN_HELPURL:Pme,MATH_CONSTRAIN_TITLE:xme,MATH_CONSTRAIN_TOOLTIP:Bme,MATH_DIVISION_SYMBOL:_fe,MATH_HUE:qde,MATH_IS_DIVISIBLE_BY:ime,MATH_IS_EVEN:Qfe,MATH_IS_NEGATIVE:sme,MATH_IS_ODD:eme,MATH_IS_POSITIVE:ome,MATH_IS_PRIME:tme,MATH_IS_TOOLTIP:rme,MATH_IS_WHOLE:nme,MATH_MODULO_HELPURL:Nme,MATH_MODULO_TITLE:Mme,MATH_MODULO_TOOLTIP:Dme,MATH_MULTIPLICATION_SYMBOL:bfe,MATH_NUMBER_HELPURL:mfe,MATH_NUMBER_TOOLTIP:gfe,MATH_ONLIST_HELPURL:gme,MATH_ONLIST_OPERATOR_AVERAGE:Eme,MATH_ONLIST_OPERATOR_MAX:Tme,MATH_ONLIST_OPERATOR_MEDIAN:Cme,MATH_ONLIST_OPERATOR_MIN:_me,MATH_ONLIST_OPERATOR_MODE:wme,MATH_ONLIST_OPERATOR_RANDOM:Lme,MATH_ONLIST_OPERATOR_STD_DEV:Ome,MATH_ONLIST_OPERATOR_SUM:$me,MATH_ONLIST_TOOLTIP_AVERAGE:Sme,MATH_ONLIST_TOOLTIP_MAX:yme,MATH_ONLIST_TOOLTIP_MEDIAN:Ime,MATH_ONLIST_TOOLTIP_MIN:bme,MATH_ONLIST_TOOLTIP_MODE:kme,MATH_ONLIST_TOOLTIP_RANDOM:Ame,MATH_ONLIST_TOOLTIP_STD_DEV:Rme,MATH_ONLIST_TOOLTIP_SUM:vme,MATH_POWER_SYMBOL:Tfe,MATH_RANDOM_FLOAT_HELPURL:Ume,MATH_RANDOM_FLOAT_TITLE_RANDOM:Gme,MATH_RANDOM_FLOAT_TOOLTIP:Wme,MATH_RANDOM_INT_HELPURL:Fme,MATH_RANDOM_INT_TITLE:Hme,MATH_RANDOM_INT_TOOLTIP:Vme,MATH_ROUND_HELPURL:dme,MATH_ROUND_OPERATOR_ROUND:pme,MATH_ROUND_OPERATOR_ROUNDDOWN:mme,MATH_ROUND_OPERATOR_ROUNDUP:fme,MATH_ROUND_TOOLTIP:hme,MATH_SINGLE_HELPURL:Mfe,MATH_SINGLE_OP_ABSOLUTE:xfe,MATH_SINGLE_OP_ROOT:Dfe,MATH_SINGLE_TOOLTIP_ABS:Bfe,MATH_SINGLE_TOOLTIP_EXP:Ufe,MATH_SINGLE_TOOLTIP_LN:Hfe,MATH_SINGLE_TOOLTIP_LOG10:Vfe,MATH_SINGLE_TOOLTIP_NEG:Ffe,MATH_SINGLE_TOOLTIP_POW10:Gfe,MATH_SINGLE_TOOLTIP_ROOT:Pfe,MATH_SUBTRACTION_SYMBOL:vfe,MATH_TRIG_ACOS:Ife,MATH_TRIG_ASIN:Cfe,MATH_TRIG_ATAN:wfe,MATH_TRIG_COS:Efe,MATH_TRIG_HELPURL:Wfe,MATH_TRIG_SIN:yfe,MATH_TRIG_TAN:Sfe,MATH_TRIG_TOOLTIP_ACOS:jfe,MATH_TRIG_TOOLTIP_ASIN:Yfe,MATH_TRIG_TOOLTIP_ATAN:qfe,MATH_TRIG_TOOLTIP_COS:Kfe,MATH_TRIG_TOOLTIP_SIN:zfe,MATH_TRIG_TOOLTIP_TAN:Xfe,NEW_COLOUR_VARIABLE:Lhe,NEW_NUMBER_VARIABLE:Rhe,NEW_STRING_VARIABLE:Ohe,NEW_VARIABLE:khe,NEW_VARIABLE_TITLE:Nhe,NEW_VARIABLE_TYPE_TITLE:Ahe,ORDINAL_NUMBER_SUFFIX:Kve,PROCEDURES_ALLOW_STATEMENTS:g_e,PROCEDURES_BEFORE_PARAMS:o_e,PROCEDURES_CALLNORETURN_HELPURL:v_e,PROCEDURES_CALLNORETURN_TOOLTIP:__e,PROCEDURES_CALLRETURN_HELPURL:b_e,PROCEDURES_CALLRETURN_TOOLTIP:T_e,PROCEDURES_CALL_BEFORE_PARAMS:s_e,PROCEDURES_CALL_DISABLED_DEF_WARNING:i_e,PROCEDURES_CREATE_DO:w_e,PROCEDURES_DEFNORETURN_COMMENT:a_e,PROCEDURES_DEFNORETURN_DO:r_e,PROCEDURES_DEFNORETURN_HELPURL:e_e,PROCEDURES_DEFNORETURN_PROCEDURE:n_e,PROCEDURES_DEFNORETURN_TITLE:t_e,PROCEDURES_DEFNORETURN_TOOLTIP:l_e,PROCEDURES_DEFRETURN_COMMENT:p_e,PROCEDURES_DEFRETURN_DO:h_e,PROCEDURES_DEFRETURN_HELPURL:u_e,PROCEDURES_DEFRETURN_PROCEDURE:d_e,PROCEDURES_DEFRETURN_RETURN:f_e,PROCEDURES_DEFRETURN_TITLE:c_e,PROCEDURES_DEFRETURN_TOOLTIP:m_e,PROCEDURES_DEF_DUPLICATE_WARNING:$_e,PROCEDURES_HIGHLIGHT_DEF:I_e,PROCEDURES_HUE:nhe,PROCEDURES_IFRETURN_HELPURL:O_e,PROCEDURES_IFRETURN_TOOLTIP:k_e,PROCEDURES_IFRETURN_WARNING:R_e,PROCEDURES_MUTATORARG_TITLE:S_e,PROCEDURES_MUTATORARG_TOOLTIP:C_e,PROCEDURES_MUTATORCONTAINER_TITLE:y_e,PROCEDURES_MUTATORCONTAINER_TOOLTIP:E_e,REDO:She,REMOVE_COMMENT:ahe,RENAME_VARIABLE:Ihe,RENAME_VARIABLE_TITLE:whe,TEXTS_HUE:Jde,TEXT_APPEND_HELPURL:oge,TEXT_APPEND_TITLE:sge,TEXT_APPEND_TOOLTIP:rge,TEXT_APPEND_VARIABLE:ige,TEXT_CHANGECASE_HELPURL:xge,TEXT_CHANGECASE_OPERATOR_LOWERCASE:Hge,TEXT_CHANGECASE_OPERATOR_TITLECASE:Vge,TEXT_CHANGECASE_OPERATOR_UPPERCASE:Fge,TEXT_CHANGECASE_TOOLTIP:Bge,TEXT_CHARAT_FIRST:yge,TEXT_CHARAT_FROM_END:Tge,TEXT_CHARAT_FROM_START:bge,TEXT_CHARAT_HELPURL:vge,TEXT_CHARAT_LAST:Ege,TEXT_CHARAT_RANDOM:Sge,TEXT_CHARAT_TAIL:Cge,TEXT_CHARAT_TITLE:_ge,TEXT_CHARAT_TOOLTIP:Ige,TEXT_COUNT_HELPURL:n$e,TEXT_COUNT_MESSAGE0:t$e,TEXT_COUNT_TOOLTIP:o$e,TEXT_CREATE_JOIN_ITEM_TITLE_ITEM:tge,TEXT_CREATE_JOIN_ITEM_TOOLTIP:nge,TEXT_CREATE_JOIN_TITLE_JOIN:Qme,TEXT_CREATE_JOIN_TOOLTIP:ege,TEXT_GET_SUBSTRING_END_FROM_END:Mge,TEXT_GET_SUBSTRING_END_FROM_START:Nge,TEXT_GET_SUBSTRING_END_LAST:Dge,TEXT_GET_SUBSTRING_HELPURL:kge,TEXT_GET_SUBSTRING_INPUT_IN_TEXT:Oge,TEXT_GET_SUBSTRING_START_FIRST:Age,TEXT_GET_SUBSTRING_START_FROM_END:Lge,TEXT_GET_SUBSTRING_START_FROM_START:Rge,TEXT_GET_SUBSTRING_TAIL:Pge,TEXT_GET_SUBSTRING_TOOLTIP:wge,TEXT_INDEXOF_HELPURL:pge,TEXT_INDEXOF_OPERATOR_FIRST:gge,TEXT_INDEXOF_OPERATOR_LAST:$ge,TEXT_INDEXOF_TITLE:mge,TEXT_INDEXOF_TOOLTIP:fge,TEXT_ISEMPTY_HELPURL:cge,TEXT_ISEMPTY_TITLE:dge,TEXT_ISEMPTY_TOOLTIP:hge,TEXT_JOIN_HELPURL:qme,TEXT_JOIN_TITLE_CREATEWITH:Jme,TEXT_JOIN_TOOLTIP:Zme,TEXT_LENGTH_HELPURL:lge,TEXT_LENGTH_TITLE:age,TEXT_LENGTH_TOOLTIP:uge,TEXT_PRINT_HELPURL:Xge,TEXT_PRINT_TITLE:Yge,TEXT_PRINT_TOOLTIP:jge,TEXT_PROMPT_HELPURL:qge,TEXT_PROMPT_TOOLTIP_NUMBER:Qge,TEXT_PROMPT_TOOLTIP_TEXT:e$e,TEXT_PROMPT_TYPE_NUMBER:Zge,TEXT_PROMPT_TYPE_TEXT:Jge,TEXT_REPLACE_HELPURL:i$e,TEXT_REPLACE_MESSAGE0:s$e,TEXT_REPLACE_TOOLTIP:r$e,TEXT_REVERSE_HELPURL:a$e,TEXT_REVERSE_MESSAGE0:l$e,TEXT_REVERSE_TOOLTIP:u$e,TEXT_TEXT_HELPURL:Yme,TEXT_TEXT_TOOLTIP:jme,TEXT_TRIM_HELPURL:Uge,TEXT_TRIM_OPERATOR_BOTH:Wge,TEXT_TRIM_OPERATOR_LEFT:zge,TEXT_TRIM_OPERATOR_RIGHT:Kge,TEXT_TRIM_TOOLTIP:Gge,TODAY:ihe,UNDO:Ehe,UNNAMED_KEY:she,VARIABLES_DEFAULT_NAME:ohe,VARIABLES_DYNAMIC_HUE:the,VARIABLES_GET_CREATE_SET:jve,VARIABLES_GET_HELPURL:Xve,VARIABLES_GET_TOOLTIP:Yve,VARIABLES_HUE:ehe,VARIABLES_SET:Jve,VARIABLES_SET_CREATE_GET:Qve,VARIABLES_SET_HELPURL:qve,VARIABLES_SET_TOOLTIP:Zve,VARIABLE_ALREADY_EXISTS:Mhe,VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE:Dhe,VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER:Phe,WORKSPACE_ARIA_LABEL:A_e,WORKSPACE_COMMENT_DEFAULT_TEXT:L_e},Symbol.toStringTag,{value:"Module"}));class x_e extends ux{constructor(n,o,i){super(n,o,i)}addColourBorder_(n){this.rowDiv_.style.backgroundColor=n}setSelected(n){var o=this.rowDiv_.getElementsByClassName("blocklyTreeLabel")[0];n?(this.rowDiv_.style.backgroundColor="white",o.style.color=this.colour_,this.iconDom_.style.color=this.colour_):(this.rowDiv_.style.backgroundColor=this.colour_,o.style.color="white",this.iconDom_.style.color="white"),Ny.aria.setState(this.htmlDiv_,Ny.aria.State.SELECTED,n)}createIconDom_(){const n=document.createElement("img");return this.toolboxItemDef_.categorystyle?n.src="static/png/"+this.toolboxItemDef_.categorystyle+".png":n.src="static/png/logo_only.svg",n.alt="",n.width="40",n.height="40",n}}HL.register(HL.Type.TOOLBOX_ITEM,ux.registrationName,x_e,!0);Vde.defineTheme("LeLink",{name:"LeLink",base:Ude.Classic,categoryStyles:{logic_category:{colour:"#D435D4"},loop_category:{colour:"#5454BF"},math_category:{colour:"#039A9A"},text_category:{colour:"#257DB1"},list_category:{colour:"#035703"},variable_category:{colour:"#6969FF"},procedure_category:{colour:"#FF6680"},dict_category:{colour:"#D435D4"},pin_category:{colour:"#039A9A"},input_category:{colour:"#FFC003"},output_category:{colour:"#1CB3FF"},network_category:{colour:"#13B013"},broadcast_category:{colour:"#D2691E"},interval_category:{colour:"#FFCC99"}},blockStyles:{logic_blocks:{colourPrimary:"#D435D4"},loop_blocks:{colourPrimary:"#5454BF"},math_blocks:{colourPrimary:"#039A9A"},text_blocks:{colourPrimary:"#257DB1"},list_blocks:{colourPrimary:"#035703"},variable_blocks:{colourPrimary:"#6969FF"},procedure_blocks:{colourPrimary:"#FF6680"},dict_blocks:{colourPrimary:"#1CB3FF"},pin_blocks:{colourPrimary:"#039A9A"},input_blocks:{colourPrimary:"#FFC003"}},startHats:!0});var dx={exports:{}};(function(t,n){(function(o,i){t.exports=i(H0())})(qo,function(o){var i=o.__namespace__,l=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),a={customContextMenu:function(L){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(ee={text:i.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:u(this)},pe=this.getField("VAR").getText(),pe={text:i.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",pe),enabled:!0,callback:h(this)},L.unshift(ee),L.unshift(pe));else{if(this.type==="variables_get_dynamic")var x="variables_set_dynamic",ee=i.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else x="variables_get_dynamic",ee=i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var pe=this.getField("VAR");x={type:x,fields:{VAR:pe.saveState(!0)}},L.push({enabled:0<this.workspace.remainingCapacity(),text:ee.replace("%1",pe.getText()),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,x)})}},onchange:function(L){L=this.getFieldValue("VAR"),L=i.getVariable$$module$build$src$core$variables(this.workspace,L),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(L.type):this.getInput("VALUE").connection.setCheck(L.type)}},u=function(L){return function(){const x=L.workspace,ee=L.getField("VAR").getVariable();i.renameVariable$$module$build$src$core$variables(x,ee)}},h=function(L){return function(){const x=L.workspace,ee=L.getField("VAR").getVariable();x.deleteVariableById(ee.getId()),x.refreshToolboxSelection()}};i.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",a),i.defineBlocks$$module$build$src$core$common(l);var p={blocks:l},f=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),g={customContextMenu:function(L){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(ee={text:i.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:m(this)},pe=this.getField("VAR").getText(),pe={text:i.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",pe),enabled:!0,callback:_(this)},L.unshift(ee),L.unshift(pe));else{if(this.type==="variables_get")var x="variables_set",ee=i.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else x="variables_get",ee=i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var pe=this.getField("VAR");x={type:x,fields:{VAR:pe.saveState(!0)}},L.push({enabled:0<this.workspace.remainingCapacity(),text:ee.replace("%1",pe.getText()),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,x)})}}},m=function(L){return function(){const x=L.workspace,ee=L.getField("VAR").getVariable();i.renameVariable$$module$build$src$core$variables(x,ee)}},_=function(L){return function(){const x=L.workspace,ee=L.getField("VAR").getVariable();x.deleteVariableById(ee.getId()),x.refreshToolboxSelection()}};i.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",g),i.defineBlocks$$module$build$src$core$common(f);var b={blocks:f},T=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),$={init:function(){this.WHERE_OPTIONS_1=[[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation");var x=this.getInput("AT1")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return L.setAttribute("at1",`${x}`),x=this.getInput("AT2")instanceof i.ValueInput$$module$build$src$core$inputs$value_input,L.setAttribute("at2",`${x}`),L},domToMutation:function(L){const x=L.getAttribute("at1")==="true";L=L.getAttribute("at2")==="true",this.updateAt_(1,x),this.updateAt_(2,L)},updateAt_:function(L,x){this.removeInput("AT"+L),this.removeInput("ORDINAL"+L,!0),x?(this.appendValueInput("AT"+L).setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+L).appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+L),L===2&&i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL));const ee=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+L]});ee.setValidator(function(pe){const re=pe==="FROM_START"||pe==="FROM_END";if(re!==x){const je=this.getSourceBlock();return je.updateAt_(L,re),je.setFieldValue(pe,"WHERE"+L),null}}),this.getInput("AT"+L).appendField(ee,"WHERE"+L),L===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}};T.text_getSubstring=$,T.text_changeCase={init:function(){const L=[[i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},T.text_trim={init:function(){const L=[[i.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[i.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[i.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(i.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},T.text_print={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var E={updateType_:function(L){this.outputConnection.setCheck(L==="NUMBER"?"Number":"String")},mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("type",this.getFieldValue("TYPE")),L},domToMutation:function(L){this.updateType_(L.getAttribute("type"))}};T.text_prompt_ext=Object.assign({},E,{init:function(){var L=[[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),L=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),L.setValidator(x=>{this.updateType_(x)}),this.appendValueInput("TEXT").appendField(L,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});var y=Object.assign({},E,{init:function(){this.mixin(I);var L=[[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),L=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),L.setValidator(x=>{this.updateType_(x)}),this.appendDummyInput().appendField(L,"TYPE").appendField(this.newQuote_(!0)).appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});T.text_prompt=y,T.text_count={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},T.text_replace={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},T.text_reverse={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var I={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(L){for(let x=0,ee;ee=this.inputList[x];x++)for(let pe=0,re;re=ee.fieldRow[pe];pe++)if(L===re.name){ee.insertFieldAt(pe,this.newQuote_(!0)),ee.insertFieldAt(pe+2,this.newQuote_(!1));return}console.warn('field named "'+L+'" not found in '+this.toDevString())},newQuote_:function(L){return L=this.RTL?!L:L,i.fromJson$$module$build$src$core$field_registry({type:"field_image",src:L?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:L?"“":"”"})}},S=function(){this.mixin(I),this.quoteField_("TEXT")},C={itemCount_:0,mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("items",`${this.itemCount_}`),L},domToMutation:function(L){this.itemCount_=parseInt(L.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(L){this.itemCount_=L.itemCount,this.updateShape_()},decompose:function(L){const x=L.newBlock("text_create_join_container");x.initSvg();let ee=x.getInput("STACK").connection;for(let pe=0;pe<this.itemCount_;pe++){const re=L.newBlock("text_create_join_item");re.initSvg(),ee.connect(re.previousConnection),ee=re.nextConnection}return x},compose:function(L){var x=L.getInputTargetBlock("STACK");for(L=[];x;)x.isInsertionMarker()||L.push(x.valueConnection_),x=x.getNextBlock();for(x=0;x<this.itemCount_;x++){const ee=this.getInput("ADD"+x).connection.targetConnection;ee&&!L.includes(ee)&&ee.disconnect()}for(this.itemCount_=L.length,this.updateShape_(),x=0;x<this.itemCount_;x++){let ee;(ee=L[x])==null||ee.reconnect(this,"ADD"+x)}},saveConnections:function(L){L=L.getInputTargetBlock("STACK");let x=0;for(;L;){if(L.isInsertionMarker()){L=L.getNextBlock();continue}const ee=this.getInput("ADD"+x);L.valueConnection_=ee&&ee.connection.targetConnection,L=L.getNextBlock(),x++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var L=0;L<this.itemCount_;L++)if(!this.getInput("ADD"+L)){const x=this.appendValueInput("ADD"+L).setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT);L===0&&x.appendField(i.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(L=this.itemCount_;this.getInput("ADD"+L);L++)this.removeInput("ADD"+L)}},R=function(){this.mixin(I),this.itemCount_=2,this.updateShape_(),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};i.register$$module$build$src$core$extensions("text_append_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var O=function(){this.setTooltip(()=>i.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},P={isAt_:!1,mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("at",`${this.isAt_}`),L},domToMutation:function(L){L=L.getAttribute("at")!=="false",this.updateAt_(L)},updateAt_:function(L){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),L&&(this.appendValueInput("AT").setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),i.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=L}},M=function(){this.getField("WHERE").setValidator(function(L){L=L==="FROM_START"||L==="FROM_END";const x=this.getSourceBlock();L!==x.isAt_&&x.updateAt_(L)}),this.updateAt_(!0),this.setTooltip(()=>{var L=this.getFieldValue("WHERE");let x=i.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(L==="FROM_START"||L==="FROM_END")&&(L=L==="FROM_START"?i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(x+="  "+L.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),x})};i.register$$module$build$src$core$extensions("text_indexOf_tooltip",O),i.register$$module$build$src$core$extensions("text_quotes",S),i.registerMixin$$module$build$src$core$extensions("quote_image_mixin",I),i.registerMutator$$module$build$src$core$extensions("text_join_mutator",C,R),i.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",P,M),i.defineBlocks$$module$build$src$core$common(T);var H={blocks:T},F={},B={setStatements_:function(L){this.hasStatements_!==L&&(L?(this.appendStatementInput("STACK").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=L)},updateParams_:function(){let L="";this.arguments_.length&&(L=i.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),i.disable$$module$build$src$core$events$utils();try{this.setFieldValue(L,"PARAMS")}finally{i.enable$$module$build$src$core$events$utils()}},mutationToDom:function(L){const x=i.createElement$$module$build$src$core$utils$xml("mutation");L&&x.setAttribute("name",this.getFieldValue("NAME"));for(let ee=0;ee<this.argumentVarModels_.length;ee++){const pe=i.createElement$$module$build$src$core$utils$xml("arg"),re=this.argumentVarModels_[ee];pe.setAttribute("name",re.name),pe.setAttribute("varid",re.getId()),L&&this.paramIds_&&pe.setAttribute("paramId",this.paramIds_[ee]),x.appendChild(pe)}return this.hasStatements_||x.setAttribute("statements","false"),x},domToMutation:function(L){this.arguments_=[],this.argumentVarModels_=[];for(let ee=0,pe;pe=L.childNodes[ee];ee++)if(pe.nodeName.toLowerCase()==="arg"){var x=pe;const re=x.getAttribute("name");x=x.getAttribute("varid")||x.getAttribute("varId"),this.arguments_.push(re),x=i.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,x,re,""),x!==null?this.argumentVarModels_.push(x):console.log(`Failed to create a variable named "${re}", ignoring.`)}this.updateParams_(),i.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(L.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const L=Object.create(null);if(this.argumentVarModels_.length){L.params=[];for(let x=0;x<this.argumentVarModels_.length;x++)L.params.push({name:this.argumentVarModels_[x].name,id:this.argumentVarModels_[x].getId()})}return this.hasStatements_||(L.hasStatements=!1),L},loadExtraState:function(L){if(this.arguments_=[],this.argumentVarModels_=[],L.params)for(let ee=0;ee<L.params.length;ee++){var x=L.params[ee];x=i.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,x.id,x.name,""),this.arguments_.push(x.name),this.argumentVarModels_.push(x)}this.updateParams_(),i.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(L.hasStatements!==!1)},decompose:function(L){const x=i.createElement$$module$build$src$core$utils$xml("block");x.setAttribute("type","procedures_mutatorcontainer");var ee=i.createElement$$module$build$src$core$utils$xml("statement");ee.setAttribute("name","STACK"),x.appendChild(ee);for(let re=0;re<this.arguments_.length;re++){const je=i.createElement$$module$build$src$core$utils$xml("block");je.setAttribute("type","procedures_mutatorarg");var pe=i.createElement$$module$build$src$core$utils$xml("field");pe.setAttribute("name","NAME");const Et=i.createTextNode$$module$build$src$core$utils$xml(this.arguments_[re]);pe.appendChild(Et),je.appendChild(pe),pe=i.createElement$$module$build$src$core$utils$xml("next"),je.appendChild(pe),ee.appendChild(je),ee=pe}return L=i.domToBlock$$module$build$src$core$xml(x,L),this.type==="procedures_defreturn"?L.setFieldValue(this.hasStatements_,"STATEMENTS"):L.removeInput("STATEMENT_INPUT"),i.mutateCallers$$module$build$src$core$procedures(this),L},compose:function(L){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let x=L.getInputTargetBlock("STACK");for(;x&&!x.isInsertionMarker();){var ee=x.getFieldValue("NAME");this.arguments_.push(ee),ee=this.workspace.getVariable(ee,""),this.argumentVarModels_.push(ee),this.paramIds_.push(x.id),x=x.nextConnection&&x.nextConnection.targetBlock()}if(this.updateParams_(),i.mutateCallers$$module$build$src$core$procedures(this),L=L.getFieldValue("STATEMENTS"),L!==null&&(L=L==="TRUE",this.hasStatements_!==L))if(L){this.setStatements_(!0);var pe;(pe=this.statementConnection_)==null||pe.reconnect(this,"STACK"),this.statementConnection_=null}else pe=this.getInput("STACK").connection,(this.statementConnection_=pe.targetConnection)&&(pe=pe.targetBlock(),pe.unplug(),pe.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(L,x){var ee=this.workspace.getVariableById(L);if(ee.type===""){ee=ee.name,x=this.workspace.getVariableById(x);var pe=!1;for(let re=0;re<this.argumentVarModels_.length;re++)this.argumentVarModels_[re].getId()===L&&(this.arguments_[re]=x.name,this.argumentVarModels_[re]=x,pe=!0);pe&&(this.displayRenamedVar_(ee,x.name),i.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(L){const x=L.name;let ee=!1,pe;for(let re=0;re<this.argumentVarModels_.length;re++)this.argumentVarModels_[re].getId()===L.getId()&&(pe=this.arguments_[re],this.arguments_[re]=x,ee=!0);ee&&(this.displayRenamedVar_(pe,x),i.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(L,x){this.updateParams_();var ee=this.getIcon(i.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(ee&&ee.bubbleIsVisible()){ee=ee.getWorkspace().getAllBlocks(!1);for(let pe=0,re;re=ee[pe];pe++)re.type==="procedures_mutatorarg"&&i.Names$$module$build$src$core$names.equals(L,re.getFieldValue("NAME"))&&re.setFieldValue(x,"NAME")}},customContextMenu:function(L){if(!this.isInFlyout){var x=this.getFieldValue("NAME"),ee={type:this.callType_,extraState:{name:x,params:this.arguments_}};if(L.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",x),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,ee)}),!this.isCollapsed())for(x=0;x<this.argumentVarModels_.length;x++){ee=this.argumentVarModels_[x];const pe={type:"variables_get",fields:{VAR:{name:ee.name,id:ee.getId(),type:ee.type}}};L.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",ee.name),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,pe)})}}}};F.procedures_defnoreturn=Object.assign({},B,{init:function(){var L=i.findLegalName$$module$build$src$core$procedures("",this);L=i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:L}),L.setValidator(i.rename$$module$build$src$core$procedures),L.setSpellcheck(!1),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(L,"NAME").appendField("","PARAMS"),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),F.procedures_defreturn=Object.assign({},B,{init:function(){var L=i.findLegalName$$module$build$src$core$procedures("",this);L=i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:L}),L.setValidator(i.rename$$module$build$src$core$procedures),L.setSpellcheck(!1),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(L,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT).appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var K={init:function(){this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};F.procedures_mutatorcontainer=K;var te={init:function(){const L=i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:i.DEFAULT_ARG$$module$build$src$core$procedures});L.setValidator(this.validator_),L.oldShowEditorFn_=L.showEditor_,L.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(L,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,L.onFinishEditing_=this.deleteIntermediateVars_,L.createdVariables_=[],L.onFinishEditing_("x")},validator_:function(L){var x=this.getSourceBlock();const ee=x.workspace.getRootWorkspace();if(L=L.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!L)return null;const pe=(x.workspace.targetWorkspace||x.workspace).getAllBlocks(!1),re=L.toLowerCase();for(let je=0;je<pe.length;je++){if(pe[je].id===this.getSourceBlock().id)continue;const Et=pe[je].getFieldValue("NAME");if(Et&&Et.toLowerCase()===re)return null}return x.isInFlyout||((x=ee.getVariable(L,""))&&x.name!==L&&ee.renameVariableById(x.getId(),L),x||(x=ee.createVariable(L,""))&&this.createdVariables_&&this.createdVariables_.push(x)),L},deleteIntermediateVars_:function(L){const x=this.getSourceBlock().workspace.getRootWorkspace();if(x)for(let ee=0;ee<this.createdVariables_.length;ee++){const pe=this.createdVariables_[ee];pe.name!==L&&x.deleteVariableById(pe.getId())}}};F.procedures_mutatorarg=te;var J="DISABLED_PROCEDURE_DEFINITION",j={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(L,x){i.Names$$module$build$src$core$names.equals(L,this.getProcedureCall())&&(this.setFieldValue(x,"NAME"),this.setTooltip((this.outputConnection?i.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:i.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",x)))},setProcedureParameters_:function(L,x){var ee=i.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((ee=(ee=ee&&ee.getIcon(i.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&ee.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),L.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=x;else{if(x.length!==L.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let re=0;re<this.arguments_.length;re++){var pe=this.getInput("ARG"+re);pe&&(pe=pe.connection.targetConnection,this.quarkConnections_[this.quarkIds_[re]]=pe,ee&&pe&&!x.includes(this.quarkIds_[re])&&(pe.disconnect(),pe.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(L),this.argumentVarModels_=[],L=0;L<this.arguments_.length;L++)ee=i.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[L],""),this.argumentVarModels_.push(ee);if(this.updateShape_(),this.quarkIds_=x){for(x=0;x<this.arguments_.length;x++)if(L=this.quarkIds_[x],L in this.quarkConnections_){let re;(re=this.quarkConnections_[L])!=null&&re.reconnect(this,"ARG"+x)||delete this.quarkConnections_[L]}}}},updateShape_:function(){for(var L=0;L<this.arguments_.length;L++){var x=this.getField("ARGNAME"+L);if(x){i.disable$$module$build$src$core$events$utils();try{x.setValue(this.arguments_[L])}finally{i.enable$$module$build$src$core$events$utils()}}else x=i.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[L]}),this.appendValueInput("ARG"+L).setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT).appendField(x,"ARGNAME"+L)}for(L=this.arguments_.length;this.getInput("ARG"+L);L++)this.removeInput("ARG"+L);(L=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||L.appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&L.removeField("WITH"))},mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation");L.setAttribute("name",this.getProcedureCall());for(let x=0;x<this.arguments_.length;x++){const ee=i.createElement$$module$build$src$core$utils$xml("arg");ee.setAttribute("name",this.arguments_[x]),L.appendChild(ee)}return L},domToMutation:function(L){var x=L.getAttribute("name");this.renameProcedure(this.getProcedureCall(),x),x=[];const ee=[];for(let pe=0,re;re=L.childNodes[pe];pe++)re.nodeName.toLowerCase()==="arg"&&(x.push(re.getAttribute("name")),ee.push(re.getAttribute("paramId")));this.setProcedureParameters_(x,ee)},saveExtraState:function(){const L=Object.create(null);return L.name=this.getProcedureCall(),this.arguments_.length&&(L.params=this.arguments_),L},loadExtraState:function(L){if(this.renameProcedure(this.getProcedureCall(),L.name),L=L.params){const x=[];x.length=L.length,x.fill(null),this.setProcedureParameters_(L,x)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(L){if(this.workspace&&!this.workspace.isFlyout&&L.recordUndo)if(L.type===i.CREATE$$module$build$src$core$events$utils&&L.ids.includes(this.id)){var x=this.getProcedureCall();if(x=i.getDefinition$$module$build$src$core$procedures(x,this.workspace),!x||x.type===this.defType_&&JSON.stringify(x.getVars())===JSON.stringify(this.arguments_)||(x=null),!x){i.setGroup$$module$build$src$core$events$utils(L.group),L=i.createElement$$module$build$src$core$utils$xml("xml"),x=i.createElement$$module$build$src$core$utils$xml("block"),x.setAttribute("type",this.defType_);var ee=this.getRelativeToSurfaceXY(),pe=ee.y+2*i.config$$module$build$src$core$config.snapRadius;x.setAttribute("x",`${ee.x+i.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),x.setAttribute("y",`${pe}`),ee=this.mutationToDom(),x.appendChild(ee),ee=i.createElement$$module$build$src$core$utils$xml("field"),ee.setAttribute("name","NAME"),pe=this.getProcedureCall();const re=i.findLegalName$$module$build$src$core$procedures(pe,this);pe!==re&&this.renameProcedure(pe,re),ee.appendChild(i.createTextNode$$module$build$src$core$utils$xml(pe)),x.appendChild(ee),L.appendChild(x),i.domToWorkspace$$module$build$src$core$xml(L,this.workspace),i.setGroup$$module$build$src$core$events$utils(!1)}}else L.type===i.DELETE$$module$build$src$core$events$utils?(x=this.getProcedureCall(),i.getDefinition$$module$build$src$core$procedures(x,this.workspace)||(i.setGroup$$module$build$src$core$events$utils(L.group),this.dispose(!0),i.setGroup$$module$build$src$core$events$utils(!1))):L.type===i.CHANGE$$module$build$src$core$events$utils&&L.element==="disabled"&&(x=this.getProcedureCall(),(pe=i.getDefinition$$module$build$src$core$procedures(x,this.workspace))&&pe.id===L.blockId&&((ee=i.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),i.setGroup$$module$build$src$core$events$utils(L.group),L=pe.isEnabled(),this.setDisabledReason(!L,J),this.setWarningText(L?null:i.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",x)),i.setGroup$$module$build$src$core$events$utils(ee)))},customContextMenu:function(L){if(this.workspace.isMovable()){var x=this.getProcedureCall(),ee=this.workspace;L.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const pe=i.getDefinition$$module$build$src$core$procedures(x,ee);pe&&(ee.centerOnBlock(pe.id),i.setSelected$$module$build$src$core$common(pe))}})}}};F.procedures_callnoreturn=Object.assign({},j,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),F.procedures_callreturn=Object.assign({},j,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"});var z="UNPARENTED_IFRETURN",G={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("value",String(Number(this.hasReturnValue_))),L},domToMutation:function(L){this.hasReturnValue_=L.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(L){if(!(this.workspace.isDragging&&this.workspace.isDragging()||L.type!==i.MOVE$$module$build$src$core$events$utils&&L.type!==i.CREATE$$module$build$src$core$events$utils)){L=!1;var x=this;do{if(this.FUNCTION_TYPES.includes(x.type)){L=!0;break}x=x.getSurroundParent()}while(x);if(L?(x.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):x.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(i.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{i.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!L,z)}finally{i.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};F.procedures_ifreturn=G,i.defineBlocks$$module$build$src$core$common(F);var W={blocks:F},D=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),X={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};i.register$$module$build$src$core$extensions("math_op_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("OP",X));var oe={mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation"),x=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return L.setAttribute("divisor_input",String(x)),L},domToMutation:function(L){L=L.getAttribute("divisor_input")==="true",this.updateShape_(L)},updateShape_:function(L){const x=this.getInput("DIVISOR");L?x||this.appendValueInput("DIVISOR").setCheck("Number"):x&&this.removeInput("DIVISOR")}},le=function(){this.getField("PROPERTY").setValidator(function(L){L=L==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(L)})};i.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",oe,le),i.register$$module$build$src$core$extensions("math_change_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var me={updateType_:function(L){L==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("op",this.getFieldValue("OP")),L},domToMutation:function(L){if(L=L.getAttribute("op"),L===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(L)}},Se=function(){this.getField("OP").setValidator((function(L){this.updateType_(L)}).bind(this))};i.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",me,Se),i.defineBlocks$$module$build$src$core$common(D);var De={blocks:D},ce=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),ye={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};i.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",ye));var _e={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};i.register$$module$build$src$core$extensions("controls_flow_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",_e));var Ke={customContextMenu:function(L){if(!this.isInFlyout){var x=this.getField("VAR"),ee=x.getVariable().name;this.isCollapsed()||ee===null||(x={type:"variables_get",fields:{VAR:x.saveState(!0)}},L.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",ee),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,x)}))}}};i.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",Ke),i.register$$module$build$src$core$extensions("controls_for_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),i.register$$module$build$src$core$extensions("controls_forEach_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var ve=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),Ae="CONTROL_FLOW_NOT_IN_LOOP",Fe={getSurroundLoop:function(){let L=this;do{if(ve.has(L.type))return L;L=L.getSurroundParent()}while(L);return null},onchange:function(L){const x=this.workspace;if(x.isDragging&&!x.isDragging()&&(L.type===i.MOVE$$module$build$src$core$events$utils||L.type===i.CREATE$$module$build$src$core$events$utils)&&(L=!!this.getSurroundLoop(),this.setWarningText(L?null:i.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{i.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!L,Ae)}finally{i.setRecordUndo$$module$build$src$core$events$utils(!0)}}};i.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",Fe),i.defineBlocks$$module$build$src$core$common(ce);var ae={blocks:ce,loopTypes:ve},de=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["‏<","LT"],["‏≤","LTE"],["‏>","GT"],["‏≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Re={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};i.register$$module$build$src$core$extensions("logic_op_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Re));var Be={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const L=i.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&L.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&L.setAttribute("else","1"),L},domToMutation:function(L){this.elseifCount_=parseInt(L.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(L.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const L=Object.create(null);return this.elseifCount_&&(L.elseIfCount=this.elseifCount_),this.elseCount_&&(L.hasElse=!0),L},loadExtraState:function(L){this.elseifCount_=L.elseIfCount||0,this.elseCount_=L.hasElse?1:0,this.updateShape_()},decompose:function(L){const x=L.newBlock("controls_if_if");x.initSvg();let ee=x.nextConnection;for(let pe=1;pe<=this.elseifCount_;pe++){const re=L.newBlock("controls_if_elseif");re.initSvg(),ee.connect(re.previousConnection),ee=re.nextConnection}return this.elseCount_&&(L=L.newBlock("controls_if_else"),L.initSvg(),ee.connect(L.previousConnection)),x},compose:function(L){L=L.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const x=[null],ee=[null];let pe=null;for(;L;){if(!L.isInsertionMarker())switch(L.type){case"controls_if_elseif":this.elseifCount_++,x.push(L.valueConnection_),ee.push(L.statementConnection_);break;case"controls_if_else":this.elseCount_++,pe=L.statementConnection_;break;default:throw TypeError("Unknown block type: "+L.type)}L=L.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(x,ee,pe)},saveConnections:function(L){L=L.nextConnection.targetBlock();let x=1;for(;L;){if(!L.isInsertionMarker())switch(L.type){case"controls_if_elseif":var ee=this.getInput("IF"+x);const pe=this.getInput("DO"+x);L.valueConnection_=ee&&ee.connection.targetConnection,L.statementConnection_=pe&&pe.connection.targetConnection,x++;break;case"controls_if_else":ee=this.getInput("ELSE"),L.statementConnection_=ee&&ee.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+L.type)}L=L.getNextBlock()}},rebuildShape_:function(){const L=[null],x=[null];let ee=null;this.getInput("ELSE")&&(ee=this.getInput("ELSE").connection.targetConnection);for(let pe=1;this.getInput("IF"+pe);pe++){const re=this.getInput("IF"+pe),je=this.getInput("DO"+pe);L.push(re.connection.targetConnection),x.push(je.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(L,x,ee)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var L=1;this.getInput("IF"+L);L++)this.removeInput("IF"+L),this.removeInput("DO"+L);for(L=1;L<=this.elseifCount_;L++)this.appendValueInput("IF"+L).setCheck("Boolean").appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+L).appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(L,x,ee){for(let pe=1;pe<=this.elseifCount_;pe++){let re;(re=L[pe])==null||re.reconnect(this,"IF"+pe);let je;(je=x[pe])==null||je.reconnect(this,"DO"+pe)}ee==null||ee.reconnect(this,"ELSE")}};i.registerMutator$$module$build$src$core$extensions("controls_if_mutator",Be,null,["controls_if_elseif","controls_if_else"]);var Ee=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};i.register$$module$build$src$core$extensions("controls_if_tooltip",Ee);var Ne={onchange:function(L){this.prevBlocks_||(this.prevBlocks_=[null,null]);var x=this.getInputTargetBlock("A");const ee=this.getInputTargetBlock("B");x&&ee&&!this.workspace.connectionChecker.doTypeChecks(x.outputConnection,ee.outputConnection)&&(i.setGroup$$module$build$src$core$events$utils(L.group),L=this.prevBlocks_[0],L!==x&&(x.unplug(),!L||L.isDisposed()||L.isShadow()||this.getInput("A").connection.connect(L.outputConnection)),x=this.prevBlocks_[1],x!==ee&&(ee.unplug(),!x||x.isDisposed()||x.isShadow()||this.getInput("B").connection.connect(x.outputConnection)),this.bumpNeighbours(),i.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},He=function(){this.mixin(Ne)};i.register$$module$build$src$core$extensions("logic_compare",He);var ue={prevParentConnection_:null,onchange:function(L){const x=this.getInputTargetBlock("THEN"),ee=this.getInputTargetBlock("ELSE"),pe=this.outputConnection.targetConnection;if((x||ee)&&pe)for(let re=0;2>re;re++){const je=re===1?x:ee;je&&!je.workspace.connectionChecker.doTypeChecks(je.outputConnection,pe)&&(i.setGroup$$module$build$src$core$events$utils(L.group),pe===this.prevParentConnection_?(this.unplug(),pe.getSourceBlock().bumpNeighbours()):(je.unplug(),je.bumpNeighbours()),i.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=pe}};i.registerMixin$$module$build$src$core$extensions("logic_ternary",ue),i.defineBlocks$$module$build$src$core$common(de);var Ie={blocks:de},ke=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),Ue={init:function(){this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("items",String(this.itemCount_)),L},domToMutation:function(L){if(L=L.getAttribute("items"),!L)throw new TypeError("element did not have items");this.itemCount_=parseInt(L,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(L){this.itemCount_=L.itemCount,this.updateShape_()},decompose:function(L){const x=L.newBlock("lists_create_with_container");x.initSvg();let ee=x.getInput("STACK").connection;for(let pe=0;pe<this.itemCount_;pe++){const re=L.newBlock("lists_create_with_item");if(re.initSvg(),!re.previousConnection)throw Error("itemBlock has no previousConnection");ee.connect(re.previousConnection),ee=re.nextConnection}return x},compose:function(L){var x=L.getInputTargetBlock("STACK");for(L=[];x;)x.isInsertionMarker()||L.push(x.valueConnection_),x=x.getNextBlock();for(x=0;x<this.itemCount_;x++){const ee=this.getInput("ADD"+x).connection.targetConnection;ee&&!L.includes(ee)&&ee.disconnect()}for(this.itemCount_=L.length,this.updateShape_(),x=0;x<this.itemCount_;x++){let ee;(ee=L[x])==null||ee.reconnect(this,"ADD"+x)}},saveConnections:function(L){L=L.getInputTargetBlock("STACK");let x=0;for(;L;){if(L.isInsertionMarker()){L=L.getNextBlock();continue}const ee=this.getInput("ADD"+x);let pe;L.valueConnection_=(pe=ee)==null?void 0:pe.connection.targetConnection,L=L.getNextBlock(),x++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var L=0;L<this.itemCount_;L++)if(!this.getInput("ADD"+L)){const x=this.appendValueInput("ADD"+L).setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT);L===0&&x.appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(L=this.itemCount_;this.getInput("ADD"+L);L++)this.removeInput("ADD"+L)}};ke.lists_create_with=Ue;var ot={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};ke.lists_create_with_container=ot;var q={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};ke.lists_create_with_item=q;var Qe={init:function(){var L=[[i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),L=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),!L)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(L,"END"),this.setInputsInline(!0),this.setTooltip(()=>i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};ke.lists_indexOf=Qe;var lt={init:function(){var L=[[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),L=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),L.setValidator(function(x){x=x==="REMOVE",this.getSourceBlock().updateStatement_(x)}),this.appendValueInput("VALUE").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(L,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const x=this.getFieldValue("MODE"),ee=this.getFieldValue("WHERE");let pe="";switch(x+" "+ee){case"GET FROM_START":case"GET FROM_END":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":pe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(ee==="FROM_START"||ee==="FROM_END")&&(pe+="  "+(ee==="FROM_START"?i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),pe})},mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation");L.setAttribute("statement",String(!this.outputConnection));const x=this.getInput("AT")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return L.setAttribute("at",String(x)),L},domToMutation:function(L){const x=L.getAttribute("statement")==="true";this.updateStatement_(x),L=L.getAttribute("at")!=="false",this.updateAt_(L)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(L){L.isStatement?this.updateStatement_(!0):typeof L=="string"&&this.domToMutation(i.textToDom$$module$build$src$core$utils$xml(L))},updateStatement_:function(L){L!==!this.outputConnection&&(this.unplug(!0,!0),L?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(L){this.removeInput("AT"),this.removeInput("ORDINAL",!0),L?(this.appendValueInput("AT").setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const x=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});x.setValidator(function(ee){const pe=ee==="FROM_START"||ee==="FROM_END";if(pe!==L){const re=this.getSourceBlock();return re.updateAt_(pe),re.setFieldValue(ee,"WHERE"),null}}),this.getInput("AT").appendField(x,"WHERE"),i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};ke.lists_getIndex=lt;var bt={init:function(){var L=[[i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),L=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),this.appendDummyInput().appendField(L,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const x=this.getFieldValue("MODE"),ee=this.getFieldValue("WHERE");let pe="";switch(x+" "+ee){case"SET FROM_START":case"SET FROM_END":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":pe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(ee==="FROM_START"||ee==="FROM_END")&&(pe+="  "+i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),pe})},mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation"),x=this.getInput("AT")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return L.setAttribute("at",String(x)),L},domToMutation:function(L){L=L.getAttribute("at")!=="false",this.updateAt_(L)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(L){this.removeInput("AT"),this.removeInput("ORDINAL",!0),L?(this.appendValueInput("AT").setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const x=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});x.setValidator(function(ee){const pe=ee==="FROM_START"||ee==="FROM_END";if(pe!==L){const re=this.getSourceBlock();return re.updateAt_(pe),re.setFieldValue(ee,"WHERE"),null}}),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(x,"WHERE")}};ke.lists_setIndex=bt;var Tt={init:function(){this.WHERE_OPTIONS_1=[[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation");var x=this.getInput("AT1")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return L.setAttribute("at1",String(x)),x=this.getInput("AT2")instanceof i.ValueInput$$module$build$src$core$inputs$value_input,L.setAttribute("at2",String(x)),L},domToMutation:function(L){const x=L.getAttribute("at1")==="true";L=L.getAttribute("at2")==="true",this.updateAt_(1,x),this.updateAt_(2,L)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(L,x){this.removeInput("AT"+L),this.removeInput("ORDINAL"+L,!0),x?(this.appendValueInput("AT"+L).setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+L).appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+L);const ee=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+L]});ee.setValidator(function(pe){const re=pe==="FROM_START"||pe==="FROM_END";if(re!==x){const je=this.getSourceBlock();return je.updateAt_(L,re),je.setFieldValue(pe,"WHERE"+L),null}}),this.getInput("AT"+L).appendField(ee,"WHERE"+L),L===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};ke.lists_getSublist=Tt,ke.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},ke.lists_split={init:function(){const L=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[i.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[i.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!L)throw Error("field_dropdown not found");L.setValidator(x=>{this.updateType_(x)}),this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(L,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(i.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const x=this.getFieldValue("MODE");if(x==="SPLIT")return i.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(x==="JOIN")return i.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+x)})},updateType_:function(L){if(this.getFieldValue("MODE")!==L){const x=this.getInput("INPUT").connection;x.setShadowDom(null);const ee=x.targetBlock();ee&&(x.disconnect(),ee.isShadow()?ee.dispose(!1):this.bumpNeighbours())}L==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const L=i.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("mode",this.getFieldValue("MODE")),L},domToMutation:function(L){this.updateType_(L.getAttribute("mode"))},saveExtraState:function(){return null},loadExtraState:function(){}},i.defineBlocks$$module$build$src$core$common(ke);var st={blocks:ke},Le=Object.assign({},ke,de,ce,D,F,T,f,l),Ye={blocks:Le,lists:st,logic:Ie,loops:ae,math:De,procedures:W,texts:H,variables:b,variablesDynamic:p};return Ye.__namespace__=i,Ye})})(dx);var Sye=dx.exports,hx={exports:{}};(function(t,n){(function(o,i){t.exports=i(H0())})(qo,function(o){var i=o.__namespace__,l=function(U,se){return["[]",q.ATOMIC]},a=function(U,se){const Ce=Array(U.itemCount_);for(let we=0;we<U.itemCount_;we++)Ce[we]=se.valueToCode(U,"ADD"+we,q.NONE)||"None";return["["+Ce.join(", ")+"]",q.ATOMIC]},u=function(U,se){const Ce=se.valueToCode(U,"ITEM",q.NONE)||"None";return U=se.valueToCode(U,"NUM",q.MULTIPLICATIVE)||"0",["["+Ce+"] * "+U,q.MULTIPLICATIVE]},h=function(U,se){return["len("+(se.valueToCode(U,"VALUE",q.NONE)||"[]")+")",q.FUNCTION_CALL]},p=function(U,se){return["not len("+(se.valueToCode(U,"VALUE",q.NONE)||"[]")+")",q.LOGICAL_NOT]},f=function(U,se){const Ce=se.valueToCode(U,"FIND",q.NONE)||"[]",we=se.valueToCode(U,"VALUE",q.NONE)||"''";let et=" -1",At="",Fn=" - 1";return U.workspace.options.oneBasedIndex&&(et=" 0",At=" + 1",Fn=""),[(U.getFieldValue("END")==="FIRST"?se.provideFunction_("first_index",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = my_list.index(elem)${At}
  except: index =${et}
  return index
`):se.provideFunction_("last_index",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = len(my_list) - my_list[::-1].index(elem)${Fn}
  except: index =${et}
  return index
`))+"("+we+", "+Ce+")",q.FUNCTION_CALL]},g=function(U,se){const Ce=U.getFieldValue("MODE")||"GET",we=U.getFieldValue("WHERE")||"FROM_START";var et=se.valueToCode(U,"VALUE",we==="RANDOM"?q.NONE:q.MEMBER)||"[]";switch(we){case"FIRST":if(Ce==="GET")return[et+"[0]",q.MEMBER];if(Ce==="GET_REMOVE")return[et+".pop(0)",q.FUNCTION_CALL];if(Ce==="REMOVE")return et+`.pop(0)
`;break;case"LAST":if(Ce==="GET")return[et+"[-1]",q.MEMBER];if(Ce==="GET_REMOVE")return[et+".pop()",q.FUNCTION_CALL];if(Ce==="REMOVE")return et+`.pop()
`;break;case"FROM_START":if(U=se.getAdjustedInt(U,"AT"),Ce==="GET")return[et+"["+U+"]",q.MEMBER];if(Ce==="GET_REMOVE")return[et+".pop("+U+")",q.FUNCTION_CALL];if(Ce==="REMOVE")return et+".pop("+U+`)
`;break;case"FROM_END":if(U=se.getAdjustedInt(U,"AT",1,!0),Ce==="GET")return[et+"["+U+"]",q.MEMBER];if(Ce==="GET_REMOVE")return[et+".pop("+U+")",q.FUNCTION_CALL];if(Ce==="REMOVE")return et+".pop("+U+`)
`;break;case"RANDOM":if(se.definitions_.import_random="import random",Ce==="GET")return["random.choice("+et+")",q.FUNCTION_CALL];if(et=se.provideFunction_("lists_remove_random_item",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(myList):
  x = int(random.random() * len(myList))
  return myList.pop(x)
`)+"("+et+")",Ce==="GET_REMOVE")return[et,q.FUNCTION_CALL];if(Ce==="REMOVE")return et+`
`}throw Error("Unhandled combination (lists_getIndex).")},m=function(U,se){let Ce=se.valueToCode(U,"LIST",q.MEMBER)||"[]";const we=U.getFieldValue("MODE")||"GET";var et=U.getFieldValue("WHERE")||"FROM_START";const At=se.valueToCode(U,"TO",q.NONE)||"None";switch(et){case"FIRST":if(we==="SET")return Ce+"[0] = "+At+`
`;if(we==="INSERT")return Ce+".insert(0, "+At+`)
`;break;case"LAST":if(we==="SET")return Ce+"[-1] = "+At+`
`;if(we==="INSERT")return Ce+".append("+At+`)
`;break;case"FROM_START":if(se=se.getAdjustedInt(U,"AT"),we==="SET")return Ce+"["+se+"] = "+At+`
`;if(we==="INSERT")return Ce+".insert("+se+", "+At+`)
`;break;case"FROM_END":if(se=se.getAdjustedInt(U,"AT",1,!0),we==="SET")return Ce+"["+se+"] = "+At+`
`;if(we==="INSERT")return Ce+".insert("+se+", "+At+`)
`;break;case"RANDOM":if(se.definitions_.import_random="import random",Ce.match(/^\w+$/)?U="":(U=se.nameDB_.getDistinctName("tmp_list",i.NameType$$module$build$src$core$names.VARIABLE),et=U+" = "+Ce+`
`,Ce=U,U=et),se=se.nameDB_.getDistinctName("tmp_x",i.NameType$$module$build$src$core$names.VARIABLE),U+=se+" = int(random.random() * len("+Ce+`))
`,we==="SET")return U+(Ce+"["+se+"] = "+At+`
`);if(we==="INSERT")return U+(Ce+".insert("+se+", "+At+`)
`)}throw Error("Unhandled combination (lists_setIndex).")},_=function(U,se){const Ce=se.valueToCode(U,"LIST",q.MEMBER)||"[]";var we=U.getFieldValue("WHERE1");const et=U.getFieldValue("WHERE2");switch(we){case"FROM_START":we=se.getAdjustedInt(U,"AT1"),we===0&&(we="");break;case"FROM_END":we=se.getAdjustedInt(U,"AT1",1,!0);break;case"FIRST":we="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(et){case"FROM_START":U=se.getAdjustedInt(U,"AT2",1);break;case"FROM_END":U=se.getAdjustedInt(U,"AT2",0,!0),i.isNumber$$module$build$src$core$utils$string(String(U))?U===0&&(U=""):(se.definitions_.import_sys="import sys",U+=" or sys.maxsize");break;case"LAST":U="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[Ce+"["+we+" : "+U+"]",q.MEMBER]},b=function(U,se){const Ce=se.valueToCode(U,"LIST",q.NONE)||"[]",we=U.getFieldValue("TYPE");return U=U.getFieldValue("DIRECTION")==="1"?"False":"True",[se.provideFunction_("lists_sort",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(my_list, type, reverse):
  def try_float(s):
    try:
      return float(s)
    except:
      return 0
  key_funcs = {
    "NUMERIC": try_float,
    "TEXT": str,
    "IGNORE_CASE": lambda s: str(s).lower()
  }
  key_func = key_funcs[type]
  list_cpy = list(my_list)
  return sorted(list_cpy, key=key_func, reverse=reverse)
`)+"("+Ce+', "'+we+'", '+U+")",q.FUNCTION_CALL]},T=function(U,se){var Ce=U.getFieldValue("MODE");if(Ce==="SPLIT")Ce=se.valueToCode(U,"INPUT",q.MEMBER)||"''",U=se.valueToCode(U,"DELIM",q.NONE),U=Ce+".split("+U+")";else if(Ce==="JOIN")Ce=se.valueToCode(U,"INPUT",q.NONE)||"[]",U=(se.valueToCode(U,"DELIM",q.MEMBER)||"''")+".join("+Ce+")";else throw Error("Unknown mode: "+Ce);return[U,q.FUNCTION_CALL]},$=function(U,se){return["list(reversed("+(se.valueToCode(U,"LIST",q.NONE)||"[]")+"))",q.FUNCTION_CALL]},E=function(U,se){let Ce=0,we="",et,At;se.STATEMENT_PREFIX&&(we+=se.injectId(se.STATEMENT_PREFIX,U));do At=se.valueToCode(U,"IF"+Ce,q.NONE)||"False",et=se.statementToCode(U,"DO"+Ce)||se.PASS,se.STATEMENT_SUFFIX&&(et=se.prefixLines(se.injectId(se.STATEMENT_SUFFIX,U),se.INDENT)+et),we+=(Ce===0?"if ":"elif ")+At+`:
`+et,Ce++;while(U.getInput("IF"+Ce));return(U.getInput("ELSE")||se.STATEMENT_SUFFIX)&&(et=se.statementToCode(U,"ELSE")||se.PASS,se.STATEMENT_SUFFIX&&(et=se.prefixLines(se.injectId(se.STATEMENT_SUFFIX,U),se.INDENT)+et),we+=`else:
`+et),we},y=function(U,se){const Ce={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[U.getFieldValue("OP")],we=q.RELATIONAL,et=se.valueToCode(U,"A",we)||"0";return U=se.valueToCode(U,"B",we)||"0",[et+" "+Ce+" "+U,we]},I=function(U,se){const Ce=U.getFieldValue("OP")==="AND"?"and":"or",we=Ce==="and"?q.LOGICAL_AND:q.LOGICAL_OR;let et=se.valueToCode(U,"A",we);return U=se.valueToCode(U,"B",we),et||U?(se=Ce==="and"?"True":"False",et||(et=se),U||(U=se)):U=et="False",[et+" "+Ce+" "+U,we]},S=function(U,se){return["not "+(se.valueToCode(U,"BOOL",q.LOGICAL_NOT)||"True"),q.LOGICAL_NOT]},C=function(U,se){return[U.getFieldValue("BOOL")==="TRUE"?"True":"False",q.ATOMIC]},R=function(U,se){return["None",q.ATOMIC]},O=function(U,se){const Ce=se.valueToCode(U,"IF",q.CONDITIONAL)||"False",we=se.valueToCode(U,"THEN",q.CONDITIONAL)||"None";return U=se.valueToCode(U,"ELSE",q.CONDITIONAL)||"None",[we+" if "+Ce+" else "+U,q.CONDITIONAL]},P=function(U,se){let Ce;Ce=U.getField("TIMES")?String(parseInt(U.getFieldValue("TIMES"),10)):se.valueToCode(U,"TIMES",q.NONE)||"0",Ce=i.isNumber$$module$build$src$core$utils$string(Ce)?parseInt(Ce,10):"int("+Ce+")";let we=se.statementToCode(U,"DO");return we=se.addLoopTrap(we,U)||se.PASS,"for "+se.nameDB_.getDistinctName("count",i.NameType$$module$build$src$core$names.VARIABLE)+" in range("+Ce+`):
`+we},M=function(U,se){const Ce=U.getFieldValue("MODE")==="UNTIL";let we=se.valueToCode(U,"BOOL",Ce?q.LOGICAL_NOT:q.NONE)||"False",et=se.statementToCode(U,"DO");return et=se.addLoopTrap(et,U)||se.PASS,Ce&&(we="not "+we),"while "+we+`:
`+et},H=function(U,se){const Ce=se.getVariableName(U.getFieldValue("VAR"));var we=se.valueToCode(U,"FROM",q.NONE)||"0",et=se.valueToCode(U,"TO",q.NONE)||"0",At=se.valueToCode(U,"BY",q.NONE)||"1";let Fn=se.statementToCode(U,"DO");Fn=se.addLoopTrap(Fn,U)||se.PASS;let $o="";U=function(){return se.provideFunction_("upRange",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start <= stop:
    yield start
    start += abs(step)
`)};const Ho=function(){return se.provideFunction_("downRange",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start >= stop:
    yield start
    start -= abs(step)
`)};if(i.isNumber$$module$build$src$core$utils$string(we)&&i.isNumber$$module$build$src$core$utils$string(et)&&i.isNumber$$module$build$src$core$utils$string(At))we=Number(we),et=Number(et),At=Math.abs(Number(At)),we%1===0&&et%1===0&&At%1===0?(we<=et?(et++,U=we===0&&At===1?et:we+", "+et,At!==1&&(U+=", "+At)):(et--,U=we+", "+et+", -"+At),U="range("+U+")"):(U=we<et?U():Ho(),U+="("+we+", "+et+", "+At+")");else{const co=function(Un,wo){return i.isNumber$$module$build$src$core$utils$string(Un)?Un=String(Number(Un)):Un.match(/^\w+$/)||(wo=se.nameDB_.getDistinctName(Ce+wo,i.NameType$$module$build$src$core$names.VARIABLE),$o+=wo+" = "+Un+`
`,Un=wo),Un};we=co(we,"_start"),et=co(et,"_end"),At=co(At,"_inc"),typeof we=="number"&&typeof et=="number"?(U=we<et?U():Ho(),U+="("+we+", "+et+", "+At+")"):U="("+we+" <= "+et+") and "+U()+"("+we+", "+et+", "+At+") or "+Ho()+"("+we+", "+et+", "+At+")"}return $o+="for "+Ce+" in "+U+`:
`+Fn},F=function(U,se){const Ce=se.getVariableName(U.getFieldValue("VAR")),we=se.valueToCode(U,"LIST",q.RELATIONAL)||"[]";let et=se.statementToCode(U,"DO");return et=se.addLoopTrap(et,U)||se.PASS,"for "+Ce+" in "+we+`:
`+et},B=function(U,se){let Ce="";if(se.STATEMENT_PREFIX&&(Ce+=se.injectId(se.STATEMENT_PREFIX,U)),se.STATEMENT_SUFFIX&&(Ce+=se.injectId(se.STATEMENT_SUFFIX,U)),se.STATEMENT_PREFIX){const we=U.getSurroundLoop();we&&!we.suppressPrefixSuffix&&(Ce+=se.injectId(se.STATEMENT_PREFIX,we))}switch(U.getFieldValue("FLOW")){case"BREAK":return Ce+`break
`;case"CONTINUE":return Ce+`continue
`}throw Error("Unknown flow statement.")},K=function(U,se){return U=Number(U.getFieldValue("NUM")),U===1/0?['float("inf")',q.FUNCTION_CALL]:U===-1/0?['-float("inf")',q.UNARY_SIGN]:[String(U),0>U?q.UNARY_SIGN:q.ATOMIC]},te=function(U,se){var Ce={ADD:[" + ",q.ADDITIVE],MINUS:[" - ",q.ADDITIVE],MULTIPLY:[" * ",q.MULTIPLICATIVE],DIVIDE:[" / ",q.MULTIPLICATIVE],POWER:[" ** ",q.EXPONENTIATION]}[U.getFieldValue("OP")];const we=Ce[0];Ce=Ce[1];const et=se.valueToCode(U,"A",Ce)||"0";return U=se.valueToCode(U,"B",Ce)||"0",[et+we+U,Ce]},J=function(U,se){const Ce=U.getFieldValue("OP");let we;if(Ce==="NEG")return we=se.valueToCode(U,"NUM",q.UNARY_SIGN)||"0",["-"+we,q.UNARY_SIGN];switch(se.definitions_.import_math="import math",U=Ce==="SIN"||Ce==="COS"||Ce==="TAN"?se.valueToCode(U,"NUM",q.MULTIPLICATIVE)||"0":se.valueToCode(U,"NUM",q.NONE)||"0",Ce){case"ABS":we="math.fabs("+U+")";break;case"ROOT":we="math.sqrt("+U+")";break;case"LN":we="math.log("+U+")";break;case"LOG10":we="math.log10("+U+")";break;case"EXP":we="math.exp("+U+")";break;case"POW10":we="math.pow(10,"+U+")";break;case"ROUND":we="round("+U+")";break;case"ROUNDUP":we="math.ceil("+U+")";break;case"ROUNDDOWN":we="math.floor("+U+")";break;case"SIN":we="math.sin("+U+" / 180.0 * math.pi)";break;case"COS":we="math.cos("+U+" / 180.0 * math.pi)";break;case"TAN":we="math.tan("+U+" / 180.0 * math.pi)"}if(we)return[we,q.FUNCTION_CALL];switch(Ce){case"ASIN":we="math.asin("+U+") / math.pi * 180";break;case"ACOS":we="math.acos("+U+") / math.pi * 180";break;case"ATAN":we="math.atan("+U+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+Ce)}return[we,q.MULTIPLICATIVE]},j=function(U,se){const Ce={PI:["math.pi",q.MEMBER],E:["math.e",q.MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",q.MULTIPLICATIVE],SQRT2:["math.sqrt(2)",q.MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",q.MEMBER],INFINITY:["float('inf')",q.ATOMIC]};return U=U.getFieldValue("CONSTANT"),U!=="INFINITY"&&(se.definitions_.import_math="import math"),Ce[U]},z=function(U,se){var Ce={EVEN:[" % 2 == 0",q.MULTIPLICATIVE,q.RELATIONAL],ODD:[" % 2 == 1",q.MULTIPLICATIVE,q.RELATIONAL],WHOLE:[" % 1 == 0",q.MULTIPLICATIVE,q.RELATIONAL],POSITIVE:[" > 0",q.RELATIONAL,q.RELATIONAL],NEGATIVE:[" < 0",q.RELATIONAL,q.RELATIONAL],DIVISIBLE_BY:[null,q.MULTIPLICATIVE,q.RELATIONAL],PRIME:[null,q.NONE,q.FUNCTION_CALL]};const we=U.getFieldValue("PROPERTY"),[et,At,Fn]=Ce[we];if(Ce=se.valueToCode(U,"NUMBER_TO_CHECK",At)||"0",we==="PRIME")se.definitions_.import_math="import math",se.definitions_.from_numbers_import_Number="from numbers import Number",U=se.provideFunction_("math_isPrime",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(n):
  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  # If n is not a number but a string, try parsing it.
  if not isinstance(n, Number):
    try:
      n = float(n)
    except:
      return False
  if n == 2 or n == 3:
    return True
  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.
  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:
    return False
  # Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for x in range(6, int(math.sqrt(n)) + 2, 6):
    if n % (x - 1) == 0 or n % (x + 1) == 0:
      return False
  return True
`)+"("+Ce+")";else if(we==="DIVISIBLE_BY"){if(U=se.valueToCode(U,"DIVISOR",q.MULTIPLICATIVE)||"0",U==="0")return["False",q.ATOMIC];U=Ce+" % "+U+" == 0"}else U=Ce+et;return[U,Fn]},G=function(U,se){se.definitions_.from_numbers_import_Number="from numbers import Number";const Ce=se.valueToCode(U,"DELTA",q.ADDITIVE)||"0";return U=se.getVariableName(U.getFieldValue("VAR")),U+" = ("+U+" if isinstance("+U+", Number) else 0) + "+Ce+`
`},W=function(U,se){const Ce=U.getFieldValue("OP");switch(U=se.valueToCode(U,"LIST",q.NONE)||"[]",Ce){case"SUM":se="sum("+U+")";break;case"MIN":se="min("+U+")";break;case"MAX":se="max("+U+")";break;case"AVERAGE":se.definitions_.from_numbers_import_Number="from numbers import Number",se=se.provideFunction_("math_mean",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = [e for e in myList if isinstance(e, Number)]
  if not localList: return
  return float(sum(localList)) / len(localList)
`)+"("+U+")";break;case"MEDIAN":se.definitions_.from_numbers_import_Number="from numbers import Number",se=se.provideFunction_("math_median",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = sorted([e for e in myList if isinstance(e, Number)])
  if not localList: return
  if len(localList) % 2 == 0:
    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0
  else:
    return localList[(len(localList) - 1) // 2]
`)+"("+U+")";break;case"MODE":se=se.provideFunction_("math_modes",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(some_list):
  modes = []
  # Using a lists of [item, count] to keep count rather than dict
  # to avoid "unhashable" errors when the counted item is itself a list or dict.
  counts = []
  maxCount = 1
  for item in some_list:
    found = False
    for count in counts:
      if count[0] == item:
        count[1] += 1
        maxCount = max(maxCount, count[1])
        found = True
    if not found:
      counts.append([item, 1])
  for counted_item, item_count in counts:
    if item_count == maxCount:
      modes.append(counted_item)
  return modes
`)+"("+U+")";break;case"STD_DEV":se.definitions_.import_math="import math",se=se.provideFunction_("math_standard_deviation",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(numbers):
  n = len(numbers)
  if n == 0: return
  mean = float(sum(numbers)) / n
  variance = sum((x - mean) ** 2 for x in numbers) / n
  return math.sqrt(variance)
`)+"("+U+")";break;case"RANDOM":se.definitions_.import_random="import random",se="random.choice("+U+")";break;default:throw Error("Unknown operator: "+Ce)}return[se,q.FUNCTION_CALL]},D=function(U,se){const Ce=se.valueToCode(U,"DIVIDEND",q.MULTIPLICATIVE)||"0";return U=se.valueToCode(U,"DIVISOR",q.MULTIPLICATIVE)||"0",[Ce+" % "+U,q.MULTIPLICATIVE]},X=function(U,se){const Ce=se.valueToCode(U,"VALUE",q.NONE)||"0",we=se.valueToCode(U,"LOW",q.NONE)||"0";return U=se.valueToCode(U,"HIGH",q.NONE)||"float('inf')",["min(max("+Ce+", "+we+"), "+U+")",q.FUNCTION_CALL]},oe=function(U,se){se.definitions_.import_random="import random";const Ce=se.valueToCode(U,"FROM",q.NONE)||"0";return U=se.valueToCode(U,"TO",q.NONE)||"0",["random.randint("+Ce+", "+U+")",q.FUNCTION_CALL]},le=function(U,se){return se.definitions_.import_random="import random",["random.random()",q.FUNCTION_CALL]},me=function(U,se){se.definitions_.import_math="import math";const Ce=se.valueToCode(U,"X",q.NONE)||"0";return["math.atan2("+(se.valueToCode(U,"Y",q.NONE)||"0")+", "+Ce+") / math.pi * 180",q.MULTIPLICATIVE]},Se=function(U,se){var Ce=[],we=U.workspace,et=i.allUsedVarModels$$module$build$src$core$variables(we)||[];for(var At of et)et=At.name,U.getVars().includes(et)||Ce.push(se.getVariableName(et));for(we=i.allDeveloperVariables$$module$build$src$core$variables(we),At=0;At<we.length;At++)Ce.push(se.nameDB_.getName(we[At],i.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));we=Ce.length?se.INDENT+"global "+Ce.join(", ")+`
`:"",Ce=se.getProcedureName(U.getFieldValue("NAME")),At="",se.STATEMENT_PREFIX&&(At+=se.injectId(se.STATEMENT_PREFIX,U)),se.STATEMENT_SUFFIX&&(At+=se.injectId(se.STATEMENT_SUFFIX,U)),At&&(At=se.prefixLines(At,se.INDENT)),et="",se.INFINITE_LOOP_TRAP&&(et=se.prefixLines(se.injectId(se.INFINITE_LOOP_TRAP,U),se.INDENT));let Fn="";U.getInput("STACK")&&(Fn=se.statementToCode(U,"STACK"));let $o="";U.getInput("RETURN")&&($o=se.valueToCode(U,"RETURN",q.NONE)||"");let Ho="";Fn&&$o&&(Ho=At),$o?$o=se.INDENT+"return "+$o+`
`:Fn||(Fn=se.PASS);const co=[],Un=U.getVars();for(let wo=0;wo<Un.length;wo++)co[wo]=se.getVariableName(Un[wo]);return we="def "+Ce+"("+co.join(", ")+`):
`+we+At+et+Fn+Ho+$o,we=se.scrub_(U,we),se.definitions_["%"+Ce]=we,null},De=function(U,se){const Ce=se.getProcedureName(U.getFieldValue("NAME")),we=[],et=U.getVars();for(let At=0;At<et.length;At++)we[At]=se.valueToCode(U,"ARG"+At,q.NONE)||"None";return[Ce+"("+we.join(", ")+")",q.FUNCTION_CALL]},ce=function(U,se){return se.forBlock.procedures_callreturn(U,se)[0]+`
`},ye=function(U,se){let Ce="if "+(se.valueToCode(U,"CONDITION",q.NONE)||"False")+`:
`;return se.STATEMENT_SUFFIX&&(Ce+=se.prefixLines(se.injectId(se.STATEMENT_SUFFIX,U),se.INDENT)),U.hasReturnValue_?(U=se.valueToCode(U,"VALUE",q.NONE)||"None",Ce+=se.INDENT+"return "+U+`
`):Ce+=se.INDENT+`return
`,Ce},_e=function(U,se){return[se.quote_(U.getFieldValue("TEXT")),q.ATOMIC]},Ke=function(U,se){switch(U.itemCount_){case 0:return["''",q.ATOMIC];case 1:return U=se.valueToCode(U,"ADD0",q.NONE)||"''",L(U);case 2:var Ce=se.valueToCode(U,"ADD0",q.NONE)||"''";return U=se.valueToCode(U,"ADD1",q.NONE)||"''",[L(Ce)[0]+" + "+L(U)[0],q.ADDITIVE];default:Ce=[];for(let we=0;we<U.itemCount_;we++)Ce[we]=se.valueToCode(U,"ADD"+we,q.NONE)||"''";return U=se.nameDB_.getDistinctName("x",i.NameType$$module$build$src$core$names.VARIABLE),["''.join([str("+U+") for "+U+" in ["+Ce.join(", ")+"]])",q.FUNCTION_CALL]}},ve=function(U,se){const Ce=se.getVariableName(U.getFieldValue("VAR"));return U=se.valueToCode(U,"TEXT",q.NONE)||"''",Ce+" = str("+Ce+") + "+L(U)[0]+`
`},Ae=function(U,se){return["len("+(se.valueToCode(U,"VALUE",q.NONE)||"''")+")",q.FUNCTION_CALL]},Fe=function(U,se){return["not len("+(se.valueToCode(U,"VALUE",q.NONE)||"''")+")",q.LOGICAL_NOT]},ae=function(U,se){const Ce=U.getFieldValue("END")==="FIRST"?"find":"rfind",we=se.valueToCode(U,"FIND",q.NONE)||"''";return se=(se.valueToCode(U,"VALUE",q.MEMBER)||"''")+"."+Ce+"("+we+")",U.workspace.options.oneBasedIndex?[se+" + 1",q.ADDITIVE]:[se,q.FUNCTION_CALL]},de=function(U,se){const Ce=U.getFieldValue("WHERE")||"FROM_START",we=se.valueToCode(U,"VALUE",Ce==="RANDOM"?q.NONE:q.MEMBER)||"''";switch(Ce){case"FIRST":return[we+"[0]",q.MEMBER];case"LAST":return[we+"[-1]",q.MEMBER];case"FROM_START":return U=se.getAdjustedInt(U,"AT"),[we+"["+U+"]",q.MEMBER];case"FROM_END":return U=se.getAdjustedInt(U,"AT",1,!0),[we+"["+U+"]",q.MEMBER];case"RANDOM":return se.definitions_.import_random="import random",[se.provideFunction_("text_random_letter",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(text):
  x = int(random.random() * len(text))
  return text[x]
`)+"("+we+")",q.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},Re=function(U,se){var Ce=U.getFieldValue("WHERE1");const we=U.getFieldValue("WHERE2"),et=se.valueToCode(U,"STRING",q.MEMBER)||"''";switch(Ce){case"FROM_START":Ce=se.getAdjustedInt(U,"AT1"),Ce===0&&(Ce="");break;case"FROM_END":Ce=se.getAdjustedInt(U,"AT1",1,!0);break;case"FIRST":Ce="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(we){case"FROM_START":U=se.getAdjustedInt(U,"AT2",1);break;case"FROM_END":U=se.getAdjustedInt(U,"AT2",0,!0),i.isNumber$$module$build$src$core$utils$string(String(U))?U===0&&(U=""):(se.definitions_.import_sys="import sys",U+=" or sys.maxsize");break;case"LAST":U="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[et+"["+Ce+" : "+U+"]",q.MEMBER]},Be=function(U,se){const Ce={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[U.getFieldValue("CASE")];return[(se.valueToCode(U,"TEXT",q.MEMBER)||"''")+Ce,q.FUNCTION_CALL]},Ee=function(U,se){const Ce={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[U.getFieldValue("MODE")];return[(se.valueToCode(U,"TEXT",q.MEMBER)||"''")+Ce,q.FUNCTION_CALL]},Ne=function(U,se){return"print("+(se.valueToCode(U,"TEXT",q.NONE)||"''")+`)
`},He=function(U,se){var Ce=se.provideFunction_("text_prompt",`
def ${se.FUNCTION_NAME_PLACEHOLDER_}(msg):
  try:
    return raw_input(msg)
  except NameError:
    return input(msg)
`);return se=U.getField("TEXT")?se.quote_(U.getFieldValue("TEXT")):se.valueToCode(U,"TEXT",q.NONE)||"''",Ce=Ce+"("+se+")",U.getFieldValue("TYPE")==="NUMBER"&&(Ce="float("+Ce+")"),[Ce,q.FUNCTION_CALL]},ue=function(U,se){const Ce=se.valueToCode(U,"TEXT",q.MEMBER)||"''";return U=se.valueToCode(U,"SUB",q.NONE)||"''",[Ce+".count("+U+")",q.FUNCTION_CALL]},Ie=function(U,se){const Ce=se.valueToCode(U,"TEXT",q.MEMBER)||"''",we=se.valueToCode(U,"FROM",q.NONE)||"''";return U=se.valueToCode(U,"TO",q.NONE)||"''",[Ce+".replace("+we+", "+U+")",q.MEMBER]},ke=function(U,se){return[(se.valueToCode(U,"TEXT",q.MEMBER)||"''")+"[::-1]",q.MEMBER]},Ue=function(U,se){return[se.getVariableName(U.getFieldValue("VAR")),q.ATOMIC]},ot=function(U,se){const Ce=se.valueToCode(U,"VALUE",q.NONE)||"0";return se.getVariableName(U.getFieldValue("VAR"))+" = "+Ce+`
`},q;(function(U){U[U.ATOMIC=0]="ATOMIC",U[U.COLLECTION=1]="COLLECTION",U[U.STRING_CONVERSION=1]="STRING_CONVERSION",U[U.MEMBER=2.1]="MEMBER",U[U.FUNCTION_CALL=2.2]="FUNCTION_CALL",U[U.EXPONENTIATION=3]="EXPONENTIATION",U[U.UNARY_SIGN=4]="UNARY_SIGN",U[U.BITWISE_NOT=4]="BITWISE_NOT",U[U.MULTIPLICATIVE=5]="MULTIPLICATIVE",U[U.ADDITIVE=6]="ADDITIVE",U[U.BITWISE_SHIFT=7]="BITWISE_SHIFT",U[U.BITWISE_AND=8]="BITWISE_AND",U[U.BITWISE_XOR=9]="BITWISE_XOR",U[U.BITWISE_OR=10]="BITWISE_OR",U[U.RELATIONAL=11]="RELATIONAL",U[U.LOGICAL_NOT=12]="LOGICAL_NOT",U[U.LOGICAL_AND=13]="LOGICAL_AND",U[U.LOGICAL_OR=14]="LOGICAL_OR",U[U.CONDITIONAL=15]="CONDITIONAL",U[U.LAMBDA=16]="LAMBDA",U[U.NONE=99]="NONE"})(q||(q={}));var Qe=class extends i.CodeGenerator$$module$build$src$core$generator{constructor(U="Python"){super(U),this.ORDER_OVERRIDES=[[q.FUNCTION_CALL,q.MEMBER],[q.FUNCTION_CALL,q.FUNCTION_CALL],[q.MEMBER,q.MEMBER],[q.MEMBER,q.FUNCTION_CALL],[q.LOGICAL_NOT,q.LOGICAL_NOT],[q.LOGICAL_AND,q.LOGICAL_AND],[q.LOGICAL_OR,q.LOGICAL_OR]],this.PASS="",this.isInitialized=!1;for(const se in q)U=q[se],typeof U!="string"&&(this["ORDER_"+se]=U);this.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip")}init(U){super.init(U),this.PASS=this.INDENT+`pass
`,this.nameDB_?this.nameDB_.reset():this.nameDB_=new i.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(U.getVariableMap()),this.nameDB_.populateVariables(U),this.nameDB_.populateProcedures(U);const se=[];var Ce=i.allDeveloperVariables$$module$build$src$core$variables(U);for(let we=0;we<Ce.length;we++)se.push(this.nameDB_.getName(Ce[we],i.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE)+" = None");for(U=i.allUsedVarModels$$module$build$src$core$variables(U),Ce=0;Ce<U.length;Ce++)se.push(this.getVariableName(U[Ce].getId())+" = None");this.definitions_.variables=se.join(`
`),this.isInitialized=!0}finish(U){const se=[],Ce=[];for(let we in this.definitions_){const et=this.definitions_[we];et.match(/^(from\s+\S+\s+)?import\s+\S+/)?se.push(et):Ce.push(et)}return U=super.finish(U),this.isInitialized=!1,this.nameDB_.reset(),(se.join(`
`)+`

`+Ce.join(`

`)).replace(/\n\n+/g,`

`).replace(/\n*$/,`


`)+U}scrubNakedValue(U){return U+`
`}quote_(U){U=U.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`);let se="'";return U.includes("'")&&(U.includes('"')?U=U.replace(/'/g,"\\'"):se='"'),se+U+se}multiline_quote_(U){return U.split(/\n/g).map(this.quote_).join(` + '\\n' + 
`)}scrub_(U,se,Ce=!1){let we="";if(!U.outputConnection||!U.outputConnection.targetConnection){var et=U.getCommentText();et&&(et=i.wrap$$module$build$src$core$utils$string(et,this.COMMENT_WRAP-3),we+=this.prefixLines(et+`
`,"# "));for(let At=0;At<U.inputList.length;At++)U.inputList[At].type===i.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(et=U.inputList[At].connection.targetBlock())&&(et=this.allNestedComments(et))&&(we+=this.prefixLines(et,"# "))}return U=U.nextConnection&&U.nextConnection.targetBlock(),Ce=Ce?"":this.blockToCode(U),we+se+Ce}getAdjustedInt(U,se,Ce=0,we=!1){U.workspace.options.oneBasedIndex&&Ce--;const et=U.workspace.options.oneBasedIndex?"1":"0";return U=this.valueToCode(U,se,Ce?q.ADDITIVE:q.NONE)||et,i.isNumber$$module$build$src$core$utils$string(U)?(U=parseInt(U,10)+Ce,we&&(U=-U)):(U=0<Ce?"int("+U+" + "+Ce+")":0>Ce?"int("+U+" - "+-Ce+")":"int("+U+")",we&&(U="-"+U)),U}},lt={};lt.lists_create_empty=l,lt.lists_create_with=a,lt.lists_getIndex=g,lt.lists_getSublist=_,lt.lists_indexOf=f,lt.lists_isEmpty=p,lt.lists_length=h,lt.lists_repeat=u,lt.lists_reverse=$,lt.lists_setIndex=m,lt.lists_sort=b,lt.lists_split=T;var bt={};bt.controls_if=E,bt.controls_ifelse=E,bt.logic_boolean=C,bt.logic_compare=y,bt.logic_negate=S,bt.logic_null=R,bt.logic_operation=I,bt.logic_ternary=O;var Tt={};Tt.controls_flow_statements=B,Tt.controls_for=H,Tt.controls_forEach=F,Tt.controls_repeat=P,Tt.controls_repeat_ext=P,Tt.controls_whileUntil=M;var st={};st.math_arithmetic=te,st.math_atan2=me,st.math_change=G,st.math_constant=j,st.math_constrain=X,st.math_modulo=D,st.math_number=K,st.math_number_property=z,st.math_on_list=W,st.math_random_float=le,st.math_random_int=oe,st.math_round=J,st.math_single=J,st.math_trig=J;var Le={};Le.procedures_callnoreturn=ce,Le.procedures_callreturn=De,Le.procedures_defnoreturn=Se,Le.procedures_defreturn=Se,Le.procedures_ifreturn=ye;var Ye=/^\s*'([^']|\\')*'\s*$/,L=function(U){return Ye.test(U)?[U,q.ATOMIC]:["str("+U+")",q.FUNCTION_CALL]},x={};x.text=_e,x.text_append=ve,x.text_changeCase=Be,x.text_charAt=de,x.text_count=ue,x.text_getSubstring=Re,x.text_indexOf=ae,x.text_isEmpty=Fe,x.text_join=Ke,x.text_length=Ae,x.text_print=Ne,x.text_prompt=He,x.text_prompt_ext=He,x.text_replace=Ie,x.text_reverse=ke,x.text_trim=Ee;var ee={};ee.variables_get=Ue,ee.variables_set=ot;var pe={};pe.variables_get_dynamic=Ue,pe.variables_set_dynamic=ot;var re=new Qe;re.addReservedWords("math,random,Number");var je=Object.assign({},lt,bt,Tt,st,Le,x,ee,pe);for(const U in je)re.forBlock[U]=je[U];var Et={};return Et.Order=q,Et.PythonGenerator=Qe,Et.pythonGenerator=re,Et.__namespace__=i,Et})})(hx);var B_e=hx.exports;const F_e=js(B_e),{Order:Ut,PythonGenerator:Cye,pythonGenerator:ze}=F_e,H_e="LeLink",V_e={},U_e={controls:!0,wheel:!1,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2},G_e={scrollbars:{horizontal:!0,vertical:!0},drag:!0,wheel:!0},W_e=!0,z_e="static/media",VL={theme:H_e,toolbox:V_e,zoom:U_e,move:G_e,trashcan:W_e,media:z_e},K_e="categoryToolbox",X_e=[{kind:"category",name:"逻辑",categorystyle:"logic_category",contents:[{kind:"block",type:"controls_if"},{kind:"block",type:"logic_compare"},{kind:"block",type:"logic_operation"},{kind:"block",type:"logic_negate"},{kind:"block",type:"logic_boolean"},{kind:"block",type:"logic_null"}]},{kind:"category",name:"循环",categorystyle:"loop_category",contents:[{kind:"block",type:"controls_whileUntil"},{kind:"block",type:"controls_for",inputs:{FROM:{block:{type:"math_number",fields:{NUM:1}}},TO:{block:{type:"math_number",fields:{NUM:10}}},BY:{block:{type:"math_number",fields:{NUM:1}}}}},{kind:"block",type:"controls_forEach"},{kind:"block",type:"controls_flow_statements"}]},{kind:"category",name:"数字",categorystyle:"math_category",contents:[{kind:"block",type:"math_number",fields:{NUM:123}},{kind:"block",type:"math_arithmetic",fields:{OP:"ADD"},inputs:{A:{shadow:{type:"math_number",fields:{NUM:1}}},B:{shadow:{type:"math_number",fields:{NUM:1}}}}},{kind:"block",type:"math_mod",inputs:{value_value_1:{shadow:{type:"math_number",fields:{NUM:8}}},value_value_2:{shadow:{type:"math_number",fields:{NUM:2}}}}},{kind:"block",type:"math_single",inputs:{NUM:{shadow:{type:"math_number",fields:{NUM:8}}}}},{kind:"block",type:"math_round",inputs:{NUM:{shadow:{type:"math_number",fields:{NUM:3.1}}}}},{kind:"block",type:"math_on_list"},{kind:"block",type:"math_random_int",inputs:{FROM:{shadow:{type:"math_number",fields:{NUM:1}}},TO:{shadow:{type:"math_number",fields:{NUM:100}}}}}]},{kind:"category",name:"字符",categorystyle:"text_category",contents:[{kind:"block",type:"text"},{kind:"block",type:"text_join"},{kind:"block",type:"text_length",inputs:{VALUE:{shadow:{type:"text",fields:{TEXT:"abc"}}}}},{kind:"block",type:"text_indexOf",inputs:{VALUE:{shadow:{type:"variables_get",fields:{VAR:"text"}}},FIND:{shadow:{type:"text",fields:{TEXT:"abc"}}}}},{kind:"block",type:"text_charAt",inputs:{VALUE:{shadow:{type:"variables_get",fields:{VAR:"text"}}}}},{kind:"block",type:"text_getSubstring",inputs:{STRING:{shadow:{type:"variables_get",fields:{VAR:"text"}}}}}]},{kind:"category",name:"列表",categorystyle:"list_category",contents:[{kind:"block",type:"lists_create_with",extraState:{itemCount:1}},{kind:"block",type:"lists_create_with"},{kind:"block",type:"lists_length"},{kind:"block",type:"lists_getIndex",inputs:{VALUE:{shadow:{type:"variables_get",fields:{VAR:"list"}}}}},{kind:"block",type:"lists_setIndex",inputs:{LIST:{shadow:{type:"variables_get",fields:{VAR:"list"}}}}},{kind:"block",type:"lists_getSublist",inputs:{LIST:{shadow:{type:"variables_get",fields:{VAR:"list"}}}}},{kind:"block",type:"lists_sort"}]},{kind:"category",name:"变量",categorystyle:"variable_category",contents:[{kind:"block",type:"var_set",inputs:{value_var_name_:{shadow:{type:"text",fields:{TEXT:"x"}}},value_var_v_:{}}},{kind:"block",type:"var_use",inputs:{value_var_name_:{shadow:{type:"text",fields:{TEXT:"x"}}}}},{kind:"block",type:"var_use_global",inputs:{value_var_name_:{shadow:{type:"text",fields:{TEXT:"x"}}}}}]},{kind:"category",name:"函数",categorystyle:"procedure_category",contents:[{kind:"block",type:"func",inputs:{value_func_name_:{shadow:{type:"text",fields:{TEXT:""}}},value_func_param_:{shadow:{type:"text",fields:{TEXT:""}}},value_func_return_:{}}},{kind:"block",type:"func_use",inputs:{value_func_name_:{shadow:{type:"text",fields:{TEXT:""}}}}}]},{kind:"category",name:"字典",categorystyle:"dict_category",contents:[{kind:"block",type:"dict_creat",inputs:{value_dict_name:{shadow:{type:"text",fields:{TEXT:"x"}}},value_dict_init:{shadow:{type:"text",fields:{TEXT:'{"name":"Alex"}'}}}}},{kind:"block",type:"dict_key_get",inputs:{value_dict_name:{shadow:{type:"text",fields:{TEXT:"x"}}},value_dict_key_:{shadow:{type:"text",fields:{TEXT:"name"}}}}},{kind:"block",type:"dict_value_add",inputs:{value_dict_name:{shadow:{type:"text",fields:{TEXT:"x"}}},value_dict_add:{shadow:{type:"text",fields:{TEXT:'{"age":16}'}}}}},{kind:"block",type:"dict_key_del",inputs:{value_dict_name:{shadow:{type:"text",fields:{TEXT:"x"}}},value_dict_key_:{shadow:{type:"text",fields:{TEXT:"name"}}}}},{kind:"block",type:"json_to_dict",inputs:{value_json:{},value_dict_name:{shadow:{type:"text",fields:{TEXT:"x"}}}}}]},{kind:"category",name:"输入",categorystyle:"input_category",contents:[{kind:"block",type:"wait_time",inputs:{value_time_:{shadow:{type:"math_number",fields:{NUM:"1"}}}}},{kind:"block",type:"get_ldr"},{kind:"block",type:"get_sound"},{kind:"block",type:"get_hall"},{kind:"block",type:"get_radar"},{kind:"block",type:"get_lightness"},{kind:"block",type:"btn"},{kind:"block",type:"voice"}]},{kind:"category",name:"输出",categorystyle:"output_category",contents:[{kind:"block",type:"output_print"},{kind:"block",type:"lightness",inputs:{value_speed_:{shadow:{type:"math_number",fields:{NUM:"100"}}}}},{kind:"block",type:"light_on"},{kind:"block",type:"light_off"},{kind:"block",type:"set_rgb",inputs:{value_index_:{shadow:{type:"text",fields:{TEXT:"[0,1,2]"}}},value_color_r:{shadow:{type:"math_number",fields:{NUM:"255"}}},value_color_g:{shadow:{type:"math_number",fields:{NUM:"255"}}},value_color_b:{shadow:{type:"math_number",fields:{NUM:"0"}}}}},{kind:"block",type:"play_tone",inputs:{value_tone_:{shadow:{type:"text",fields:{TEXT:"[2000,3000]"}}},value_delay_:{shadow:{type:"math_number",fields:{NUM:"1"}}}}},{kind:"block",type:"char",inputs:{value_str_:{shadow:{type:"text",fields:{TEXT:"a"}}}}},{kind:"block",type:"carousel",inputs:{value_str_:{shadow:{type:"text",fields:{TEXT:"abcd"}}},value_speed_:{shadow:{type:"math_number",fields:{NUM:"10"}}}}},{kind:"block",type:"carousel_stop"},{kind:"block",type:"set_light_matrix",inputs:{value_matrix_:{block:{type:"matrix_led_matrix"}}}}]},{kind:"category",name:"网络",categorystyle:"network_category",contents:[{kind:"block",type:"wifi_conn",inputs:{value_ssid_:{shadow:{type:"text",fields:{TEXT:""}}},value_psw_:{shadow:{type:"text",fields:{TEXT:""}}}}},{kind:"block",type:"iot_conn",inputs:{value_id_:{shadow:{type:"text",fields:{TEXT:""}}}}},{kind:"block",type:"msg_send",inputs:{value_topic_:{shadow:{type:"text",fields:{TEXT:""}}},value_msg_:{shadow:{type:"text",fields:{TEXT:""}}}}},{kind:"block",type:"msg_receive_do",inputs:{value_msg_:{shadow:{type:"text",fields:{TEXT:""}}}}},{kind:"block",type:"msg_get_once",inputs:{value_msg_:{shadow:{type:"text",fields:{TEXT:""}}}}}]},{kind:"category",name:"广播",categorystyle:"broadcast_category",contents:[{kind:"block",type:"radio_init",inputs:{value_ssid_:{shadow:{type:"math_number",fields:{NUM:"1"}}}}},{kind:"block",type:"radio_switch"},{kind:"block",type:"radio_send",inputs:{value_msg_:{shadow:{type:"text",fields:{TEXT:"abc"}}}}},{kind:"block",type:"radio_setcb"},{kind:"block",type:"radio_recv"}]},{kind:"category",name:"时间",categorystyle:"interval_category",contents:[{kind:"block",type:"time_init"},{kind:"block",type:"time_get"},{kind:"block",type:"alarm",inputs:{value_h_:{shadow:{type:"math_number",fields:{NUM:"15"}}},value_m_:{shadow:{type:"math_number",fields:{NUM:"07"}}}}},{kind:"block",type:"interval",inputs:{value_s_:{shadow:{type:"math_number",fields:{NUM:"1"}}}}},{kind:"block",type:"interval_stop"}]}],Y_e={kind:K_e,contents:X_e};Jt.func={init:function(){this.appendValueInput("value_func_name_").setCheck("String").appendField("函数名:"),this.appendValueInput("value_func_param_").setCheck("String").appendField("参数:"),this.appendStatementInput("INNER_BLOCKS").setCheck(null),this.appendValueInput("value_func_return_").appendField("返回"),this.setInputsInline(!0),this.setColour("#FF6680"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.func=function(t){let n=ze.valueToCode(t,"value_func_name_",Ut.ATOMIC);n=n.slice(1,-1);let o=ze.valueToCode(t,"value_func_param_",Ut.ATOMIC);o=o.slice(1,-1);let i=ze.statementToCode(t,"INNER_BLOCKS");i===""&&(i=`    pass
`);let l=ze.valueToCode(t,"value_func_return_",Ut.ATOMIC);return ze.definitions_[`func_${n}`]=`def ${n}(${o}):
${i}    return ${l}`,""};Jt.func_use={init:function(){this.appendValueInput("value_func_name_").setCheck("String").appendField("使用函数:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#FF6680"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.func_use=function(t){let n=ze.valueToCode(t,"value_func_name_",Ut.ATOMIC);return n=n.slice(1,-1),`${n}
`};Jt.math_mod={init:function(){this.appendDummyInput().appendField("取余数 "),this.appendValueInput("value_value_1").setCheck("Number"),this.appendValueInput("value_value_2").setCheck("Number").appendField("mod"),this.setOutput(!0,"Number"),this.setInputsInline(!0),this.setColour("#039A9A"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.math_mod=function(t,n){let o=n.valueToCode(t,"value_value_1",Ut.ATOMIC),i=n.valueToCode(t,"value_value_2",Ut.ATOMIC);return[`${o} % ${i}`,Ut.ATOMIC]};Jt.var_set={init:function(){this.appendValueInput("value_var_name_").appendField("给变量:").setCheck("String"),this.appendValueInput("value_var_v_").appendField("赋值:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.var_set=function(t){let n=ze.valueToCode(t,"value_var_name_",Ut.ATOMIC);n=n.slice(1,-1);let o=ze.valueToCode(t,"value_var_v_",Ut.ATOMIC);return ze.definitions_[`var_${n}`]=`${n}=None
`,`${n}=${o}
`};Jt.var_use={init:function(){this.appendValueInput("value_var_name_").appendField("使用变量:").setCheck("String"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.var_use=function(t){let n=ze.valueToCode(t,"value_var_name_",Ut.ATOMIC);return n=n.slice(1,-1),ze.definitions_[`var_${n}`]=`${n}=None
`,[`${n}`,Ut.ATOMIC]};Jt.var_use_global={init:function(){this.appendValueInput("value_var_name_").appendField("声明全局变量:").setCheck("String"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.var_use_global=function(t){let n=ze.valueToCode(t,"value_var_name_",Ut.ATOMIC);return n=n.slice(1,-1),ze.definitions_[`var_${n}`]=`${n}=None
`,`global ${n}
`};Jt.dict_creat={init:function(){this.appendValueInput("value_dict_name").appendField("创建字典变量"),this.appendValueInput("value_dict_init").appendField("并初始化为"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.dict_creat=function(t){let n=ze.valueToCode(t,"value_dict_name",Ut.ATOMIC).slice(1,-1),o=ze.valueToCode(t,"value_dict_init",Ut.ATOMIC).slice(1,-1);return ze.definitions_[`var_${n}`]=`${n}=None
`,`${n}=${o}
`};Jt.dict_key_get={init:function(){this.appendValueInput("value_dict_name").appendField("获取字典变量"),this.appendValueInput("value_dict_key_").appendField("键为"),this.appendDummyInput().appendField("的值"),this.setInputsInline(!0),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Object")}};ze.forBlock.dict_key_get=function(t){let n=ze.valueToCode(t,"value_dict_name",Ut.ATOMIC).slice(1,-1),o=ze.valueToCode(t,"value_dict_key_",Ut.ATOMIC);return[`${n}.get(${o},None)`,Ut.ATOMIC]};Jt.dict_value_add={init:function(){this.appendValueInput("value_dict_name").appendField("为字典变量"),this.appendValueInput("value_dict_add").appendField("添加键值对"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.dict_value_add=function(t){let n=ze.valueToCode(t,"value_dict_name",Ut.ATOMIC).slice(1,-1),o=ze.valueToCode(t,"value_dict_add",Ut.ATOMIC).slice(1,-1);return`${n}.update(${o})
`};Jt.dict_key_del={init:function(){this.appendValueInput("value_dict_name").appendField("删除字典变量中"),this.appendValueInput("value_dict_key_").appendField("键为"),this.appendDummyInput().appendField("的值"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.dict_key_del=function(t){let n=ze.valueToCode(t,"value_dict_name",Ut.ATOMIC).slice(1,-1),o=ze.valueToCode(t,"value_dict_key_",Ut.ATOMIC);return`${n}.pop(${o})`};Jt.json_to_dict={init:function(){this.appendValueInput("value_json").appendField("将JSON"),this.appendValueInput("value_dict_name").appendField("转为字典变量"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.json_to_dict=function(t){ze.definitions_.json=`import json
`;let n=ze.valueToCode(t,"value_json",Ut.ATOMIC),o=ze.valueToCode(t,"value_dict_name",Ut.ATOMIC).slice(1,-1);return ze.definitions_[`var_${o}`]=`${o}=None
`,`${o}=json.loads(${n})
`};Jt.wait_time={init:function(){this.appendValueInput("value_time_").appendField("等待"),this.appendDummyInput().appendField("秒"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.wait_time=function(t){return ze.definitions_.time=`import time
`,`time.sleep(${ze.valueToCode(t,"value_time_",Ut.ATOMIC)})
`};Jt.get_ldr={init:function(){this.appendDummyInput().appendField("环境亮度"),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};ze.forBlock.get_ldr=function(t){return ze.definitions_.ldr=`from leight import ldr
`,ze.definitions_.ldr_init=`light=ldr()
`,["light.read()",Ut.ATOMIC]};Jt.get_sound={init:function(){this.appendDummyInput().appendField("环境声音"),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};ze.forBlock.get_sound=function(t){return ze.definitions_.sound=`from leight import sound
`,ze.definitions_.sound_init=`sd=sound()
`,["sd.read()",Ut.ATOMIC]};Jt.get_hall={init:function(){this.appendDummyInput().appendField("霍尔传感器"),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};ze.forBlock.get_hall=function(t){return ze.definitions_.hall=`from leight import hall
`,ze.definitions_.hall_init=`hl=hall()
`,["hl.read()",Ut.ATOMIC]};Jt.get_radar={init:function(){this.appendDummyInput().appendField("人体雷达"),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};ze.forBlock.get_radar=function(t){return ze.definitions_.radar=`from leight import radar
`,ze.definitions_.radar_init=`rd=radar()
`,["rd.read()",Ut.ATOMIC]};Jt.get_lightness={init:function(){this.appendDummyInput().appendField("台灯亮度"),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};ze.forBlock.get_lightness=function(t){return ze.definitions_.led=`from leight import led
`,["led.get_lightness()",Ut.ATOMIC]};Jt.btn={init:function(){this.appendDummyInput("tmp").appendField("手势按键 当").appendField(new V0([["A键单击","touch1_click"],["A键双击","touch1_dclick"],["A键长按","touch1_longClick"],["B键单击","touch2_click"],["B键双击","touch2_dclick"],["B键长按","touch2_longClick"],["上滑","touch2_to_touch1"],["下滑","touch1_to_touch2"]]),"value_status_").appendField("时"),this.appendStatementInput("INNER_BLOCKS").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.btn=function(t){ze.definitions_.touch=`from button_action import touch
`;let n=t.getFieldValue("value_status_"),o=ze.statementToCode(t,"INNER_BLOCKS");return o===""&&(o=`    pass
`),ze.definitions_[`${n}`]=`def ${n}_func():
${o}
`,`touch.action_change('${n}',${n}_func)
`};Jt.voice={init:function(){this.appendDummyInput("tmp").appendField("语音指令 当说").appendField(new V0([["开灯","01"],["关灯","00"],["调亮","02"],["调暗","03"],["嘛咪嘛咪哄","04"],["急急如律令","05"],["巴拉巴拉","06"],["玛卡巴卡","07"]]),"value_status_").appendField("时"),this.appendStatementInput("INNER_BLOCKS").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#FFC003"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.voice=function(t){ze.definitions_.voice=`from leight import voice
`;let n=t.getFieldValue("value_status_"),o=ze.statementToCode(t,"INNER_BLOCKS");return o===""&&(o=`    pass
`),ze.definitions_[`${n}`]=`def voice_${n}_func():
${o}
`,`voice('${n}',voice_${n}_func)
`};Jt.output_print={init:function(){this.appendValueInput("value_print_").appendField("打印"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.output_print=function(t){return`print(${ze.valueToCode(t,"value_print_",Ut.ATOMIC)})
`};Jt.lightness={init:function(){this.appendValueInput("value_speed_").appendField("设置灯光亮度为"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.lightness=function(t){return ze.definitions_.led=`from leight import led
`,`led.set_lightness(${ze.valueToCode(t,"value_speed_",Ut.ATOMIC)})
`};Jt.light_on={init:function(){this.appendDummyInput().appendField("开灯"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.light_on=function(){return ze.definitions_.led=`from leight import led
`,`led.on()
`};Jt.light_off={init:function(){this.appendDummyInput().appendField("关灯"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.light_off=function(){return ze.definitions_.led=`from leight import led
`,`led.off()
`};Jt.set_rgb={init:function(){this.appendDummyInput().appendField("设置RGB灯带"),this.appendValueInput("value_index_").appendField("灯珠序号"),this.appendValueInput("value_color_r").appendField("r"),this.appendValueInput("value_color_g").appendField("g"),this.appendValueInput("value_color_b").appendField("b"),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.set_rgb=function(t){ze.definitions_.rgb=`from leight import rgb
`;let n=ze.valueToCode(t,"value_index_",Ut.ATOMIC),o=ze.valueToCode(t,"value_color_r",Ut.ATOMIC),i=ze.valueToCode(t,"value_color_g",Ut.ATOMIC),l=ze.valueToCode(t,"value_color_b",Ut.ATOMIC);return`rgb.write(${n.slice(1,-1)},${o},${i},${l})
`};Jt.play_tone={init:function(){this.appendValueInput("value_tone_").setCheck("String").appendField("播放音调"),this.appendValueInput("value_delay_").appendField(" 持续"),this.appendDummyInput().appendField("秒"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.play_tone=function(t){ze.definitions_.speaker=`from leight import speaker
`;let n=ze.valueToCode(t,"value_tone_",Ut.ATOMIC),o=ze.valueToCode(t,"value_delay_",Ut.ATOMIC);return`speaker.tone(${n.slice(1,-1)},${o*1e3})
`};Jt.char={init:function(){this.appendValueInput("value_str_").appendField("投射字符"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.char=function(t){return ze.definitions_.char=`from leight import char
`,`char.display(${ze.valueToCode(t,"value_str_",Ut.ATOMIC)})
`};Jt.carousel={init:function(){this.appendValueInput("value_str_").appendField("投射走马灯"),this.appendValueInput("value_speed_").appendField(" 速度"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.carousel=function(t){ze.definitions_.carousel=`from leight import carousel
`;let n=ze.valueToCode(t,"value_str_",Ut.ATOMIC),o=ze.valueToCode(t,"value_speed_",Ut.ATOMIC);return ze.definitions_.carousel_init=`scroll=carousel()
`,`scroll.loop(${n},${o})
`};Jt.carousel_stop={init:function(){this.appendDummyInput().appendField("停止走马灯"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.carousel_stop=function(){return ze.definitions_.carousel=`from leight import carousel
`,ze.definitions_.carousel_init=`scroll=carousel()
`,`scroll.stop()
`};Jt.set_light_matrix={init:function(){this.appendValueInput("value_matrix_").setCheck("Array").appendField("投射点阵"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.set_light_matrix=function(t){return ze.definitions_.led="from leight import led",`led.led_ctrl_multiple(${ze.valueToCode(t,"value_matrix_",Ut.ATOMIC)})
`};xt.CHECK_CHAR="●";Jt.matrix_led_matrix={init:function(){this.appendDummyInput().setAlign(void 0).appendField("点阵"),this.appendDummyInput().appendField(new xt("FALSE"),"L01").appendField(new xt("FALSE"),"L02").appendField(new xt("FALSE"),"L03").appendField(new xt("FALSE"),"L04").appendField(new xt("FALSE"),"L05").appendField(new xt("FALSE"),"L06").appendField(new xt("FALSE"),"L07").appendField(new xt("FALSE"),"L08"),this.appendDummyInput().appendField(new xt("FALSE"),"L09").appendField(new xt("FALSE"),"L10").appendField(new xt("FALSE"),"L11").appendField(new xt("FALSE"),"L12").appendField(new xt("FALSE"),"L13").appendField(new xt("FALSE"),"L14").appendField(new xt("FALSE"),"L15").appendField(new xt("FALSE"),"L16"),this.appendDummyInput().appendField(new xt("FALSE"),"L17").appendField(new xt("FALSE"),"L18").appendField(new xt("FALSE"),"L19").appendField(new xt("FALSE"),"L20").appendField(new xt("FALSE"),"L21").appendField(new xt("FALSE"),"L22").appendField(new xt("FALSE"),"L23").appendField(new xt("FALSE"),"L24"),this.appendDummyInput().appendField(new xt("FALSE"),"L25").appendField(new xt("FALSE"),"L26").appendField(new xt("FALSE"),"L27").appendField(new xt("FALSE"),"L28").appendField(new xt("FALSE"),"L29").appendField(new xt("FALSE"),"L30").appendField(new xt("FALSE"),"L31").appendField(new xt("FALSE"),"L32"),this.appendDummyInput().appendField(new xt("FALSE"),"L33").appendField(new xt("FALSE"),"L34").appendField(new xt("FALSE"),"L35").appendField(new xt("FALSE"),"L36").appendField(new xt("FALSE"),"L37").appendField(new xt("FALSE"),"L38").appendField(new xt("FALSE"),"L39").appendField(new xt("FALSE"),"L40"),this.appendDummyInput().appendField(new xt("FALSE"),"L41").appendField(new xt("FALSE"),"L42").appendField(new xt("FALSE"),"L43").appendField(new xt("FALSE"),"L44").appendField(new xt("FALSE"),"L45").appendField(new xt("FALSE"),"L46").appendField(new xt("FALSE"),"L47").appendField(new xt("FALSE"),"L48"),this.appendDummyInput().appendField(new xt("FALSE"),"L49").appendField(new xt("FALSE"),"L50").appendField(new xt("FALSE"),"L51").appendField(new xt("FALSE"),"L52").appendField(new xt("FALSE"),"L53").appendField(new xt("FALSE"),"L54").appendField(new xt("FALSE"),"L55").appendField(new xt("FALSE"),"L56"),this.appendDummyInput().appendField(new xt("FALSE"),"L57").appendField(new xt("FALSE"),"L58").appendField(new xt("FALSE"),"L59").appendField(new xt("FALSE"),"L60").appendField(new xt("FALSE"),"L61").appendField(new xt("FALSE"),"L62").appendField(new xt("FALSE"),"L63").appendField(new xt("FALSE"),"L64"),this.setOutput(!0,"Array"),this.setColour("#1CB3FF"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.matrix_led_matrix=function(t){let n=t.getFieldValue("L01")==="TRUE"?"1":"0",o=t.getFieldValue("L02")==="TRUE"?"1":"0",i=t.getFieldValue("L03")==="TRUE"?"1":"0",l=t.getFieldValue("L04")==="TRUE"?"1":"0",a=t.getFieldValue("L05")==="TRUE"?"1":"0",u=t.getFieldValue("L06")==="TRUE"?"1":"0",h=t.getFieldValue("L07")==="TRUE"?"1":"0",p=t.getFieldValue("L08")==="TRUE"?"1":"0",f=t.getFieldValue("L09")==="TRUE"?"1":"0",g=t.getFieldValue("L10")==="TRUE"?"1":"0",m=t.getFieldValue("L11")==="TRUE"?"1":"0",_=t.getFieldValue("L12")==="TRUE"?"1":"0",b=t.getFieldValue("L13")==="TRUE"?"1":"0",T=t.getFieldValue("L14")==="TRUE"?"1":"0",$=t.getFieldValue("L15")==="TRUE"?"1":"0",E=t.getFieldValue("L16")==="TRUE"?"1":"0",y=t.getFieldValue("L17")==="TRUE"?"1":"0",I=t.getFieldValue("L18")==="TRUE"?"1":"0",S=t.getFieldValue("L19")==="TRUE"?"1":"0",C=t.getFieldValue("L20")==="TRUE"?"1":"0",R=t.getFieldValue("L21")==="TRUE"?"1":"0",O=t.getFieldValue("L22")==="TRUE"?"1":"0",P=t.getFieldValue("L23")==="TRUE"?"1":"0",M=t.getFieldValue("L24")==="TRUE"?"1":"0",H=t.getFieldValue("L25")==="TRUE"?"1":"0",F=t.getFieldValue("L26")==="TRUE"?"1":"0",B=t.getFieldValue("L27")==="TRUE"?"1":"0",K=t.getFieldValue("L28")==="TRUE"?"1":"0",te=t.getFieldValue("L29")==="TRUE"?"1":"0",J=t.getFieldValue("L30")==="TRUE"?"1":"0",j=t.getFieldValue("L31")==="TRUE"?"1":"0",z=t.getFieldValue("L32")==="TRUE"?"1":"0",G=t.getFieldValue("L33")==="TRUE"?"1":"0",W=t.getFieldValue("L34")==="TRUE"?"1":"0",D=t.getFieldValue("L35")==="TRUE"?"1":"0",X=t.getFieldValue("L36")==="TRUE"?"1":"0",oe=t.getFieldValue("L37")==="TRUE"?"1":"0",le=t.getFieldValue("L38")==="TRUE"?"1":"0",me=t.getFieldValue("L39")==="TRUE"?"1":"0",Se=t.getFieldValue("L40")==="TRUE"?"1":"0",De=t.getFieldValue("L41")==="TRUE"?"1":"0",ce=t.getFieldValue("L42")==="TRUE"?"1":"0",ye=t.getFieldValue("L43")==="TRUE"?"1":"0",_e=t.getFieldValue("L44")==="TRUE"?"1":"0",Ke=t.getFieldValue("L45")==="TRUE"?"1":"0",ve=t.getFieldValue("L46")==="TRUE"?"1":"0",Ae=t.getFieldValue("L47")==="TRUE"?"1":"0",Fe=t.getFieldValue("L48")==="TRUE"?"1":"0",ae=t.getFieldValue("L49")==="TRUE"?"1":"0",de=t.getFieldValue("L50")==="TRUE"?"1":"0",Re=t.getFieldValue("L51")==="TRUE"?"1":"0",Be=t.getFieldValue("L52")==="TRUE"?"1":"0",Ee=t.getFieldValue("L53")==="TRUE"?"1":"0",Ne=t.getFieldValue("L54")==="TRUE"?"1":"0",He=t.getFieldValue("L55")==="TRUE"?"1":"0",ue=t.getFieldValue("L56")==="TRUE"?"1":"0",Ie=t.getFieldValue("L57")==="TRUE"?"1":"0",ke=t.getFieldValue("L58")==="TRUE"?"1":"0",Ue=t.getFieldValue("L59")==="TRUE"?"1":"0",ot=t.getFieldValue("L60")==="TRUE"?"1":"0",q=t.getFieldValue("L61")==="TRUE"?"1":"0",Qe=t.getFieldValue("L62")==="TRUE"?"1":"0",lt=t.getFieldValue("L63")==="TRUE"?"1":"0",bt=t.getFieldValue("L64")==="TRUE"?"1":"0";return[`[
${Ie},${ke},${Ue},${ot},${q},${Qe},${lt},${bt},
${ae},${de},${Re},${Be},${Ee},${Ne},${He},${ue},
${De},${ce},${ye},${_e},${Ke},${ve},${Ae},${Fe},
${G},${W},${D},${X},${oe},${le},${me},${Se},
${H},${F},${B},${K},${te},${J},${j},${z},
${y},${I},${S},${C},${R},${O},${P},${M},
${f},${g},${m},${_},${b},${T},${$},${E},
${n},${o},${i},${l},${a},${u},${h},${p}
]`,Ut.ATOMIC]};Hde.register(`
  .blocklyCheckbox {
    fill: white !important;
    stroke: black !important;
  }
`);Jt.wifi_conn={init:function(){this.appendValueInput("value_ssid_").setCheck("String").appendField("wifi名称:"),this.appendValueInput("value_psw_").setCheck("String").appendField("wifi密码:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#13B013"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.wifi_conn=function(t){ze.definitions_.wifi="from leight import wifi";let n=ze.valueToCode(t,"value_ssid_",Ut.ATOMIC),o=ze.valueToCode(t,"value_psw_",Ut.ATOMIC);return`wifi.connect(${n},${o})
`};Jt.iot_conn={init:function(){this.appendValueInput("value_id_").setCheck("String").appendField("连接MQTT ClientID："),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#13B013"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.iot_conn=function(t){return ze.definitions_.mqttclient="from leight import mqttclient",`mqttclient.connect(server="cloud.leihoorobot.com",port=1883,client_id=${ze.valueToCode(t,"value_id_",Ut.ATOMIC)})
`};Jt.msg_send={init:function(){this.appendValueInput("value_topic_").setCheck("String").appendField("给主题"),this.appendValueInput("value_msg_").setCheck("String").appendField("发布消息:"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#13B013"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.msg_send=function(t){ze.definitions_.mqttclient="from leight import mqttclient";let n=ze.valueToCode(t,"value_topic_",Ut.ATOMIC),o=ze.valueToCode(t,"value_msg_",Ut.ATOMIC);return`mqttclient.publish(${n},${o})
`};Jt.msg_get_once={init:function(){this.appendValueInput("value_msg_").setCheck("String").appendField("从主题:"),this.appendDummyInput().appendField("接收一次消息"),this.setInputsInline(!0),this.setOutput(!0,"String"),this.setColour("#13B013"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.msg_get_once=function(t){return ze.definitions_.mqttclient="from leight import mqttclient",[`mqttclient.message(topic=${ze.valueToCode(t,"value_msg_",Ut.ATOMIC)})`,Ut.ATOMIC]};Jt.msg_receive_do={init:function(){this.appendValueInput("value_msg_").setCheck("String").appendField("当主题:"),this.appendDummyInput().appendField("收到消息时"),this.appendStatementInput("INNER_BLOCKS").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#13B013"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.msg_receive_do=function(t){ze.definitions_.mqttclient="from leight import mqttclient";let n=ze.statementToCode(t,"INNER_BLOCKS");n===""&&(n=`    pass
`);let o=ze.valueToCode(t,"value_msg_",Ut.ATOMIC);return ze.definitions_.iot_defin_msg_receive=`def msg_receive_func():
${n}`,`mqttclient.received(topic=${o},callback=msg_receive_func)
`};Jt.radio_init={init:function(){this.appendValueInput("value_ssid_").appendField("无线广播识别码设置"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#D2691E"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.radio_init=function(t){ze.definitions_.radio=`from leight import radio
`;let n=ze.valueToCode(t,"value_ssid_",Ut.ATOMIC);return ze.definitions_.radio_init=`r=radio(${n})
`,""};Jt.radio_switch={init:function(){this.appendDummyInput("tmp").appendField("无线广播").appendField(new V0([["开启","on"],["关闭","off"]]),"value_status_"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#D2691E"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.radio_switch=function(t){return ze.definitions_.radio=`from leight import radio
`,`r.${t.getFieldValue("value_status_")}()
`};Jt.radio_send={init:function(){this.appendValueInput("value_msg_").appendField("广播消息"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#D2691E"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.radio_send=function(t){return ze.definitions_.radio=`from leight import radio
`,`r.send(${ze.valueToCode(t,"value_msg_",Ut.ATOMIC)})`};Jt.radio_setcb={init:function(){this.appendDummyInput("tmp").appendField("当无线广播收到消息时"),this.appendStatementInput("INNER_BLOCKS").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#D2691E"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.radio_setcb=function(t){ze.definitions_.radio=`from leight import radio
`;let n=ze.statementToCode(t,"INNER_BLOCKS");return n===""&&(n=`    pass
`),ze.definitions_.radio_callback=`def radio_callback():
${n}
`,`r.setcb(radio_callback)
`};Jt.radio_recv={init:function(){this.appendDummyInput().appendField("接收消息"),this.setColour("#D2691E"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};ze.forBlock.radio_recv=function(){return ze.definitions_.radio=`from leight import radio
`,["r.recv()",Ut.ATOMIC]};Jt.time_init={init:function(){this.appendDummyInput("tmp").appendField("同步时间"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!0),this.setColour("#D2691E"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.time_init=function(){return ze.definitions_.ntptime=`import ntptime
`,ze.definitions_.RTC=`from machine import RTC
`,`ntptime.host="cn.pool.ntp.org"
ntptime.settime()
(year, month, day, weekday, hours, minutes, seconds, subseconds) = RTC().datetime()
RTC().datetime((year, month, day, weekday, hours+8, minutes, seconds, subseconds))
`};Jt.time_get={init:function(){this.appendDummyInput().appendField("当前时间"),this.setColour("#D2691E"),this.setTooltip(""),this.setHelpUrl(""),this.setOutput(!0,"Number")}};ze.forBlock.time_get=function(){return ze.definitions_.time=`import time
`,["f'{time.localtime()[0]}年{time.localtime()[1]}月{time.localtime()[2]}日 {time.localtime()[3]}:{time.localtime()[4]}:{time.localtime()[5]}'",Ut.ATOMIC]};Jt.alarm={init:function(){this.appendValueInput("value_h_").appendField("闹钟 "),this.appendValueInput("value_m_").appendField("时"),this.appendDummyInput().appendField("分"),this.appendStatementInput("INNER_BLOCKS").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#D2691E"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.alarm=function(t){ze.definitions_._thread=`import _thread
`,ze.definitions_.time=`import time
`;let n=ze.valueToCode(t,"value_h_",Ut.ATOMIC),o=ze.valueToCode(t,"value_m_",Ut.ATOMIC),i=ze.statementToCode(t,"INNER_BLOCKS");i===""&&(i="            ");let l="";for(const a of i.split(`
`))l+=`        ${a}
`;return ze.definitions_.alarm_callback=`def alarm_callback(h,m):
    while True:
        if time.localtime()[3] == h and time.localtime()[4] == m:
${l}            break
        time.sleep(1)
    _thread.exit()
`,`_thread.start_new_thread(alarm_callback, [${n}, ${o}])
`};Jt.interval={init:function(){this.appendValueInput("value_s_").appendField("定时器 每"),this.appendDummyInput().appendField("秒执行一次"),this.appendStatementInput("INNER_BLOCKS").setCheck(null),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#D2691E"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.interval=function(t){ze.definitions_.Timer=`from machine import Timer
`;let n=ze.valueToCode(t,"value_s_",Ut.ATOMIC),o=ze.statementToCode(t,"INNER_BLOCKS");return o===""&&(o=`    pass
`),ze.definitions_.Timer_callback=`def Timer_callback(e):
${o}
`,`Timer(3).init(period=${n*1e3},mode=Timer.PERIODIC,callback=Timer_callback)
`};Jt.interval_stop={init:function(){this.appendDummyInput().appendField("中断计时器"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#D2691E"),this.setTooltip(""),this.setHelpUrl("")}};ze.forBlock.interval_stop=function(){return ze.definitions_.Timer=`from machine import Timer
`,`Timer(3).deinit()
`};const j_e={style:{width:"100%","text-align":"center","margin-bottom":"10px","max-height":"7vh"}},q_e={style:{height:"93vh"}},J_e=["id"],Z_e=ne({__name:"Blockly",setup(t){let n="https://cloud.leihoorobot.com/w/lelink_weapp/index.html",o={data:{index:"cloud-0",item:{xml:'<xml xmlns="https://developers.google.com/blockly/xml"></xml>'}}},i=o.data.index,l;const a=V(!1),u=V("");Rt(()=>{g(),m()});function h(E){const y=new TextEncoder().encode(E);return btoa(String.fromCharCode(...y))}function p(E){const y=new Uint8Array(atob(E).split("").map(I=>I.charCodeAt(0)));return new TextDecoder().decode(y)}let f="";function g(){const E=window.location.href;console.log(E);const y=new URL(E),I=new URLSearchParams(y.search);f=I.get("project_id"),o.data.item.xml=p(I.get("xml"))}function m(){ze.INDENT="    ",Wde(P_e),VL.toolbox=Y_e,l=Gde(i,VL),console.log(o.data.item.xml);let E=Ny.xml.textToDom(o.data.item.xml);Yu.domToWorkspace(E,l),setTimeout(_,100)}function _(){zde(l),l.scrollCenter()}function b(){let E=ze.workspaceToCode(l);E=E.replaceAll("	","    ");let y=E.replace(/[\u4e00-\u9fa5，。！？：；、（）—《》‘’“”]/g,function(C){return"\\u"+C.charCodeAt(0).toString(16)});E=encodeURIComponent(btoa(y));let I=Yu.workspaceToDom(l),S=encodeURIComponent(h(Yu.domToText(I)));window.location.replace(`${n}?type=codeup&xml=${S}&project_id=${f}&code=${E}`)}function T(){let E=Yu.workspaceToDom(l),y=o.data.index.split("-");if(y[0]==="local"){let I=encodeURIComponent(Yu.domToText(E)),S=JSON.parse(localStorage.getItem("LeLinkLeightLocalProject")),C=S.findIndex(R=>R.id===parseInt(y[1]));S[C].xml=I,localStorage.setItem("LeLinkLeightLocalProject",JSON.stringify(S)),lx({type:"success",message:"成功"})}else if(y[0]==="cloud"){let I=encodeURIComponent(h(Yu.domToText(E)));window.location.replace(`${n}?type=save&xml=${I}&project_id=${f}`)}}function $(){a.value=!0,u.value=ze.workspaceToCode(l)}return(E,y)=>{const I=Lt("el-button"),S=Lt("el-tooltip"),C=Lt("el-drawer");return A(),Y(dt,null,[Q("div",j_e,[ie(S,{class:"box-item",effect:"dark",content:"运行",placement:"top","hide-after":0},{default:he(()=>[ie(I,{type:"success",onClick:b,icon:c(SE),circle:"",size:"default"},null,8,["icon"])]),_:1}),ie(S,{class:"box-item",effect:"dark",content:"保存记录",placement:"top","hide-after":0},{default:he(()=>[ie(I,{type:"success",onClick:T,icon:c(a4),circle:"",size:"default"},null,8,["icon"])]),_:1}),ie(S,{class:"box-item",effect:"dark",content:"查看代码",placement:"top","hide-after":0},{default:he(()=>[ie(I,{type:"success",onClick:$,icon:c(l1),circle:"",size:"default"},null,8,["icon"])]),_:1})]),Q("div",q_e,[Q("div",{id:c(i),style:{height:"inherit"}},null,8,J_e)]),ie(C,{modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=R=>a.value=R),title:"code","with-header":!1},{default:he(()=>[Q("pre",null,We(u.value),1)]),_:1},8,["modelValue"])],64)}}}),Q_e=ne({__name:"App",setup(t){return(n,o)=>(A(),be(Ft(Z_e)))}}),px=lN(Q_e);px.use(xde);px.mount("#app")});export default ebe();
